import{z as S,j as r,o as V,c as M,a as E,O as ho,m as vt,b as rt,r as m,d as W,u as cL,g as TX,e as PX,R as OX,E as zx,T as kh,A as MX,L as xf,M as ms,F as Wl,f as A,h as LX,i as Yd,I as hL,k as RX,l as Vy,n as dL,p as C4,S as Oa,q as uL,$ as Ao,s as hn,t as NX,v as xm,w as jX,x as Na,y as fL,B as DX,C as xe,D as a1,G as bb,H as pL,J as Cb,K as FX,N as BX,P as kX,Q as GX,U as VX,V as HX,W as mL,X as l1,Y as Yx,Z as gL,_ as _L,a0 as vL,a1 as UX,a2 as zX,a3 as yL,a4 as YX,a5 as WX,a6 as SI,a7 as bL,a8 as XX,a9 as ZX,aa as KX,ab as qX,ac as QX,ad as JX,ae as $X,af as Ri,ag as tZ,ah as eZ,ai as sZ,aj as w,ak as Be,al as Lt,am as ee,an as iZ,ao as nZ,ap as tt,aq as Us,ar as ke,as as ls,at as Ng,au as pf,av as oZ,aw as CL,ax as wL,ay as xL,az as w4,aA as rZ,aB as aZ,aC as RT,aD as EL,aE as Z0,aF as In,aG as lZ,aH as cZ,aI as Ho,aJ as hZ,aK as zs,aL as SL,aM as No,aN as Iy,aO as x4,aP as hs,aQ as re,aR as Fw,aS as td,aT as Xr,aU as Hy,aV as E4,aW as kn,aX as Bw,aY as kw,aZ as IL,a_ as AL,a$ as Ag,b0 as Gn,b1 as Zt,b2 as dZ,b3 as uZ,b4 as fZ,b5 as pZ,b6 as mZ,b7 as gZ,b8 as NT,b9 as jT,ba as _Z,bb as DT,bc as vZ,bd as yZ,be as bZ,bf as CZ,bg as wZ,bh as xZ,bi as Ti,bj as TL,bk as Jt,bl as BC,bm as y_,bn as Gw,bo as um,bp as Wx,bq as II,br as mi,bs as c1,bt as Xx,bu as Zx,bv as Ge,bw as b_,bx as C0,by as Si,bz as cE,bA as T0,bB as PL,bC as vc,bD as Xg,bE as Ef,bF as OL,bG as Vw,bH as EZ,bI as or,bJ as C_,bK as Zg,bL as SZ,bM as bn,bN as $n,bO as Kx,bP as $s,bQ as IZ,bR as ja,bS as AZ,bT as ht,bU as wb,bV as xb,bW as AI,bX as TZ,bY as PZ,bZ as OZ,b_ as K0,b$ as zc,c0 as w0,c1 as Jc,c2 as Ui,c3 as MZ,c4 as Em,c5 as Ma,c6 as LZ,c7 as $p,c8 as RZ,c9 as NZ,ca as jZ,cb as Kg,cc as DZ,cd as Cr,ce as su,cf as FZ,cg as hw,ch as BZ,ci as FT,cj as kZ,ck as GZ,cl as BT,cm as kT,cn as GT,co as VZ,cp as HZ,cq as ML,cr as Rf,cs as il,ct as LL,cu as dw,cv as hE,cw as dE,cx as uE,cy as UZ,cz as zZ,cA as Eb,cB as TI,cC as YZ,cD as WZ,cE as Hw,cF as XZ,cG as VT,cH as HT,cI as RL,cJ as za,cK as ZZ,cL as KZ,cM as Uy,cN as qx,cO as qZ,cP as Uw,cQ as QZ,cR as JZ,cS as PI,cT as zw,cU as $Z,cV as Sb,cW as Nf,cX as NL,cY as Yw,cZ as tK,c_ as jL,c$ as DL,d0 as FL,d1 as eK,d2 as UT,d3 as sK,d4 as BL,d5 as iK,d6 as nK,d7 as oK,d8 as kL,d9 as rK,da as aK,db as lK,dc as kC,dd as cK,de as hK,df as dK,dg as uy,dh as uK,di as fK,dj as pK,dk as mK,dl as gK,dm as Qx,dn as GL,dp as _K,dq as vK,dr as yK,ds as bK,dt as CK,du as wK,dv as xK,dw as EK,dx as SK,dy as VL,dz as IK,dA as OI,dB as HL,dC as AK,dD as UL,dE as zL,dF as TK,dG as zT,dH as PK,dI as OK,dJ as MK,dK as YT,dL as LK,dM as Ib,dN as RK,dO as YL,dP as Ab,dQ as WL,dR as XL,dS as ZL,dT as zy,dU as Jx,dV as NK,dW as Dp,dX as jK,dY as DK,dZ as FK,d_ as BK,d$ as kK,e0 as KL,e1 as GK,e2 as VK,e3 as HK,e4 as UK,e5 as zK,e6 as qL,e7 as QL,e8 as JL,e9 as $L,ea as YK,eb as WK,ec as XK,ed as WT,ee as tR,ef as eR,eg as sR,eh as $x,ei as t5,ej as ZK,ek as KK,el as qK,em as QK,en as JK,eo as $K,ep as tq,eq,er as sq,es as iq,et as nq,eu as Sm,ev as MI,ew as oq,ex as iR,ey as rq,ez as aq,eA as e5,eB as s5,eC as i5,eD as lq,eE as n5,eF as LI,eG as cq,eH as hq,eI as dq,eJ as nR,eK as uq,eL as fq,eM as pq,eN as fE,eO as mq,eP as RI,eQ as gq,eR as oR,eS as _q,eT as vq,eU as yq,eV as NI,eW as bq,eX as rR,eY as Cq,eZ as aR,e_ as S4,e$ as lR,f0 as wq,f1 as o5,f2 as r5,f3 as xq,f4 as Eq,f5 as Sq,f6 as Iq,f7 as cR,f8 as jI,f9 as DI,fa as Aq,fb as hR,fc as Tq,fd as dR,fe as Pq,ff as Oq,fg as Mq,fh as I4,fi as Ya,fj as XT,fk as Lq,fl as Rq,fm as Nq,fn as jq,fo as Dq,fp as Fq,fq as k1,fr as uR,fs as pE,ft as ZT,fu as fR,fv as Bq,fw as FI,fx as kq,fy as Gq,fz as Vq,fA as KT,fB as Hq,fC as Uq,fD as zq,fE as Yq,fF as Wq,fG as Xq,fH as Zq,fI as Kq,fJ as qq}from"./vendor-DUrAcIUQ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function e(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=e(n);fetch(n.href,o)}})();var Z=(s=>(s[s.NONE=0]="NONE",s[s.GUEST=1]="GUEST",s[s.VIEWER=2]="VIEWER",s[s.EDITOR=3]="EDITOR",s))(Z||{});const GC={1:"Guest",2:"Viewer",3:"Editor"},BI={general:3,profiles:{},isPublished:!1};var P=(s=>(s.NEW_SHAPE="state.new.shape",s.NEW_IMAGE="state.new.image",s.NEW_MODEL="state.new.model",s.NEW_BOOLEAN="state.new.boolean",s.NEW_CAMERA="state.new.camera",s.NEW_SOUND="state.new.sound",s.FRAME="state.frame",s.FRAME_CONSTRAIN_CHILDREN="state.frame.constrain_children",s.FRAME_FIT_CHILDREN="state.frame.fit_children",s.FRAME_ANCHOR="state.frame.anchor",s.GROUP="state.group",s.UNGROUP="state.ungroup",s.REORDER="state.reorder",s.DELETE="state.delete",s.RESTORE_DELETED="state.restore",s.DUPLICATE="state.duplicate",s.DUPLICATE_AND_TRANSFORM="state.duplicate_and_transform",s.PASTE="state.paste",s.REPLACE_SHAPE="state.replace_shape",s.ACTIVE_STATE="state.active.state",s.START_STATE="state.start.state",s.METADATA="metadata",s.STATE_METADATA="state.metadata",s.STATE_ADD="state.add.state",s.STATE_DELETE="state.delete.state",s.STATE_AND_INTERACTIONS_ADD="state.interactions.add",s.NAME="state.name",s.TRANSFORM="state.transform",s.LOCKED_SCALE="state.transform.scale.locked",s.PARAMETERS="state.parameters",s.PARAMETERS_TRANSFORM="state.parametersTransform",s.PARAMETERS_CAMERA_BOOKMARK="state.parameters.cameraBookmark",s.APPLY_SCALE="state.resizeToTexture",s.COLLIDER="state.addCollider",s.RESIZE_TO_TEXTURE="state.resizeToTexture",s.SUBDIVISION="state.subdivision",s.VIEW_SETTINGS="state.view.settings",s.INTERACTIVE="state.interactive",s.VISIBILITY="state.visibility",s.LOCK="state.lock",s.INTERACTIONS="state.interactions",s.LAYER_OPACITY="state.opacity",s.ANIMATION_ACTIVE="state.animation.active",s.ANIMATION_PARAMS="state.animation.params",s.MATERIAL="state.material",s.COLOR="state.material.color",s.ENV_MAP_INTENSITY="state.material.envMapIntensity",s.OPACITY="state.material.opacity",s.ROUGHNESS="state.material.roughness",s.METALNESS="state.material.metalness",s.NORMAL="state.material.normal",s.AO="state.material.ao",s.DISPLACEMENT="state.material.displacement",s.MATERIAL_MAP="state.material.map",s.MATERIAL_MASK="state.material.mask",s.MATERIAL_TYPE="state.material.type",s.ADVANCED_EFFECTS="state.material.advancedEffects",s.BACKGROUND="state.scene.background",s.HDR_LIGHTING="state.scene.hdrLighting",s.FOG="state.scene.fog",s.AMBIENT_LIGHT="state.scene.ambientLight",s.UNITS="state.scene.units",s.SPAWN="state.scene.spawn",s.SHOW_BOOKMARKS="state.scene.showBookmarks",s.SCENE_METADATA="scene.metadata",s.SCENE_START_STATE="state.scene.startState",s.SCENE_ACTIVE_STATE="state.scene.activeState",s.SCENE_STATE_ADD="state.scene.add.state",s.SCENE_STATE_METADATA="state.scene.metadata",s.SCENE_STATE_DELETE="state.scene.delete.state",s.SCENE_INTERACTIONS="state.scene.interactions",s.SCENE_STATE_AND_INTERACTIONS_ADD="state.scene.interactions.add",s.MESH_MODIFY="state.mesh.modify",s.COMPONENT_ADD="state.new.component",s.COMPONENT_UPDATE="state.update.component",s.INSTANCE_UNLINK="state.unlink.instance",s.INSTANCE_OVERRIDE="state.override.instance",s.INSTANCE_PUSH_TO_MAIN="state.push.instance",s.NEW_COMMENT="state.new.comment",s.COMMENT_DELETE="state.delete.comment",s.COMMENT_UPDATE="state.update.comment",s.BEHAVIORS="state.new.behavior",s.BEHAVIOR_DELETE="state.delete.behavior",s.SOUND_ADD="state.add.sound",s.SOUND_PICK="state.pick.sound",s.SOUND_DELETE="state.delete.sound",s.SOUND_PARAMS="state.sound.params",s.GAMEPAD="state.gamepad",s.UNDO="state.undo",s))(P||{}),ai=(s=>(s.HIERARCHY="hierarchy",s.TIMELINE="timeline",s.LIB_STYLE="lib.style",s.LIB_COMPONENT="lib.component",s.FILE_IMAGE="file.image",s.FILE_MODEL="file.model",s.GEN_AI_3D="gen.ai.3d",s.UNDEFINED="undefined",s))(ai||{}),Gh=(s=>(s.AssetLib="assetLib",s.ComponentLib="componentLib",s.HDRILib="hdriLib",s.MaterialLib="materialLib",s.TemplateLib="templateLib",s.SoundLib="soundLib",s))(Gh||{}),_i=(s=>(s.BEZI="Bezi Library",s.TEAM="Team Library",s.FILE="This File",s))(_i||{}),Ae=(s=>(s[s.MATERIAL=1]="MATERIAL",s[s.COMPONENT=2]="COMPONENT",s[s.HDRI=3]="HDRI",s[s.TEMPLATE=4]="TEMPLATE",s[s.SOUND=5]="SOUND",s))(Ae||{}),uo=(s=>(s.DRAFTS="-",s.BEZI="bezel",s))(uo||{}),qg=(s=>(s.COGNITO="COGNITO",s.AUTH0="AUTH0",s.GOOGLE="GOOGLE",s))(qg||{}),jn=(s=>(s.SIGNED_IN="SignedIn",s.SIGNED_OUT="SignedOut",s.USER_NOT_FOUND="UserNotFoundException",s.NOT_AUTHORIZED="NotAuthorizedException",s.USER_NOT_CONFIRMED="UserNotConfirmedException",s.USERNAME_EXISTS="UsernameExistsException",s.CODE_MISMATCH="CodeMismatchingException",s.UNKNOWN_ERROR="UnknownError",s.EMPTY_SIGN_IN_USERNAME="EmptySignInUsername",s.TOO_MANY_REQUESTS="TooManyRequestsException",s))(jn||{}),Ww=(s=>(s.EMAIL_UNVERIFIED="EMAIL_UNVERIFIED",s.UNHANDLED_ERROR="UNHANDLED_ERROR",s.UNKNOWN_ERROR="UNKNOWN_ERROR",s))(Ww||{}),jg=(s=>(s.USERNAME_EXISTS="USERNAME_EXISTS",s.UNKNOWN_ERROR="UNKNOWN_ERROR",s.UNHANDLED_ERROR="UNHANDLED_ERROR",s))(jg||{}),pR=(s=>(s.NO_PROFILE_FOUND="NO_PROFILE_FOUND",s))(pR||{}),Dg=(s=>(s.CODE_MISMATCH="CODE_MISMATCH",s.UNKNOWN_ERROR="UNKNOWN_ERROR",s.UNHANDLED_ERROR="UNHANDLED_ERROR",s))(Dg||{}),gg=(s=>(s.EMAIL="email",s.PASSWORD="password",s.VERIFICATION_CODE="verificationCode",s))(gg||{});S.string().email();var fm=(s=>(s.DEFAULT="DEFAULT",s.TUTORIAL="TUTORIAL",s))(fm||{});const mE=S.string(),Cd=S.object({sm:mE.optional(),md:mE.optional(),lg:mE,isUrlExternal:S.boolean().optional(),figmaFileUrl:S.string().optional(),figmaImageUrl:S.string().optional(),originalWidth:S.number().optional(),originalHeight:S.number().optional()}).nullable();var fy=(s=>(s[s.BEGIN=-1]="BEGIN",s[s.SM=0]="SM",s[s.MD=1]="MD",s[s.LG=2]="LG",s))(fy||{}),ue=(s=>(s.Standard="Standard",s.Unlit="Unlit",s.Toon="Toon",s.Physical="Physical",s.Shadow="Shadow",s.Occluder="Occluder",s))(ue||{}),Gc=(s=>(s[s.COLOR=0]="COLOR",s[s.OPACITY=1]="OPACITY",s[s.METALNESS=2]="METALNESS",s[s.ROUGHNESS=3]="ROUGHNESS",s[s.AO=4]="AO",s[s.NORMAL=5]="NORMAL",s[s.DISPLACEMENT=6]="DISPLACEMENT",s[s.CLEARCOAT=100]="CLEARCOAT",s[s.CLEARCOAT_ROUGHNESS=101]="CLEARCOAT_ROUGHNESS",s[s.SHEEN_COLOR=102]="SHEEN_COLOR",s[s.SHEEN_ROUGHNESS=103]="SHEEN_ROUGHNESS",s[s.THICKNESS=104]="THICKNESS",s[s.TRANSMISSION=105]="TRANSMISSION",s))(Gc||{});S.literal("Glass").or(S.literal("Sheen")).or(S.literal("Clearcoat"));const Qq=S.object({thickness:S.number(),transmission:S.number(),ior:S.number()}),Jq=S.object({color:S.string(),sheen:S.number(),roughness:S.number()}),$q=S.object({clearcoat:S.number(),roughness:S.number()}),tQ=S.object({Glass:S.optional(Qq),Sheen:S.optional(Jq),Clearcoat:S.optional($q)}),mR=S.object({lightingModel:S.nativeEnum(ue),preview:Cd,color:S.string(),map:Cd,emissive:S.string(),emissiveMap:Cd,opacity:S.number(),alphaMap:Cd,aoMap:Cd,ambientOcclusion:S.number(),metalness:S.number(),metalnessMap:Cd,roughness:S.number(),roughnessMap:Cd,normal:S.number(),normalMap:Cd,displacement:S.number(),displacementMap:Cd,envMap:Cd,envMapIntensity:S.number(),flipY:S.boolean(),repeatX:S.number(),repeatY:S.number(),offsetX:S.number(),offsetY:S.number(),rotation:S.number(),mask:S.number(),advancedEffects:tQ});mR.partial().extend({baseID:S.string().optional()});const a5=S.string().or(mR.partial().extend({baseID:S.string().optional()}));var jl=(s=>(s.GLASS="Glass",s.SHEEN="Sheen",s.CLEARCOAT="Clearcoat",s))(jl||{}),Dt=(s=>(s.PX="px",s.M="m",s.CM="cm",s.MM="mm",s.FT="ft",s.IN="in",s))(Dt||{}),ln=(s=>(s.COLOR="COLOR",s.ENVIRONMENT="ENVIRONMENT",s))(ln||{}),rn=(s=>(s.XZ="xzy",s.XY="xyz",s.YZ="zyx",s))(rn||{}),Sa=(s=>(s.Admin="Admin",s.Member="Member",s.InvitePending="Invite Pending",s))(Sa||{}),A4=(s=>(s.ID="id",s.SNIPPET="snippet",s.STATUS="status",s.CONTENT_DETAILS="contentDetails",s))(A4||{}),gR=(s=>(s.DESIGNER="DESIGNER",s.ENGINEER="ENGINEER",s.MARKETING="MARKETING",s.EDUCATION="EDUCATION",s.LEADERSHIP="LEADERSHIP",s.OTHER="OTHER",s))(gR||{}),_R=(s=>(s[s.XS=0]="XS",s[s.S=1]="S",s[s.M=2]="M",s[s.L=3]="L",s[s.XL=4]="XL",s[s.XXL=5]="XXL",s))(_R||{}),vR=(s=>(s.ART="ART",s.SPATIAL="SPATIAL",s.GRAPHIC="GRAPHIC",s.ARVR="ARVR",s.GAMING="GAMING",s.EDUCATION="EDUCATION",s.PRODUCT="PRODUCT",s.FASHION="FASHION",s.OTHER="OTHER",s))(vR||{}),Gi=(s=>(s.CREATE_PROFILE="create.profile",s.CREATE_FILE="create.file",s.CREATE_TEAM="create.team",s.JOIN_COMMUNITY="join.community",s.DONE_ALL_TOURS="done.all.tours",s))(Gi||{}),li=(s=>(s.START_EDITOR_TOUR="start.editor.tour",s.CONTROL_SCENE="control.scene",s.TRY_COMMAND_CENTER="try.command.center",s.CREATE_OBJECT="create.object",s.TRY_STATE_MACHINE="try.state.machine",s.TRY_SHARE="try.share",s.TRY_PLAY_MODE="try.play.mode",s))(li||{}),Gl=(s=>(s.FILE_GRID_TOUR="file.grid.tour",s.EDITOR_TOUR="editor.tour",s))(Gl||{}),Ud=(s=>(s.ANCHOR_INTERACT_ON="anchor.interact.on",s.ANCHOR_INTERACT_OFF="anchor.interact.off",s.TOUR_STEP_COMPLETE="tour.step.complete",s))(Ud||{});const eQ=S.object({error:S.literal(!0),type:S.literal("planLimitReached"),data:S.object({maxFiles:S.number()})});var Xe=(s=>(s.ORTHOGRAPHIC="orthographic",s.PERSPECTIVE="perspective",s))(Xe||{}),Kr=(s=>(s.FOCAL_LENGTH="FOCAL_LENGTH",s.FOV="FOV",s))(Kr||{});const T4="Personal camera",gE="default",sQ=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.35357 2.35359L4.64646 1.64648L1.29291 5.00004L4.64646 8.35359L5.35357 7.64648L3.20714 5.50006H12.5C15.2614 5.50006 17.5 7.73864 17.5 10.5001C17.5 13.2615 15.2614 15.5001 12.5 15.5001H10V16.5001H12.5C15.8137 16.5001 18.5 13.8138 18.5 10.5001C18.5 7.18635 15.8137 4.50006 12.5 4.50006H3.2071L5.35357 2.35359Z",fill:"white"})}),iQ=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.6464 2.35353L15.3535 1.64642L18.7071 4.99998L15.3535 8.35353L14.6464 7.64642L16.7929 5.5H7.5C4.73858 5.5 2.5 7.73858 2.5 10.5C2.5 13.2614 4.73858 15.5 7.5 15.5H10V16.5H7.5C4.18629 16.5 1.5 13.8137 1.5 10.5C1.5 7.18629 4.18629 4.5 7.5 4.5H16.7929L14.6464 2.35353Z",fill:"white"})}),yR=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.64644 16.3535L1.64645 10.3535L1.29289 9.99998L1.64645 9.64642L7.64645 3.64642L8.35355 4.35353L3.20711 9.49998H19V10.5H3.20711L8.35355 15.6464L7.64644 16.3535Z",fill:"white"})}),bR=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3536 16.3535L19.3536 10.3535L19.7071 9.99998L19.3536 9.64642L13.3536 3.64642L12.6464 4.35353L17.7929 9.49998H2V10.5H17.7929L12.6464 15.6464L13.3536 16.3535Z",fill:"white"})}),nQ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.35352 13.3535L14.3535 8.35353L14.7071 7.99998L14.3535 7.64642L9.35352 2.64642L8.64642 3.35353L12.7929 7.49998L1.99997 7.49998V8.49998L12.7929 8.49998L8.64642 12.6464L9.35352 13.3535Z",fill:"white"})}),kI=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.3536 5.35353L11.3536 8.35353L10.6465 7.64642L12.7929 5.49998L1.99998 5.49998V4.49998L12.7929 4.49998L10.6465 2.35353L11.3536 1.64642L14.3536 4.64642L14.7071 4.99998L14.3536 5.35353ZM1.64643 10.6465L4.64643 7.64647L5.35354 8.35358L3.20709 10.5L14 10.5V11.5L3.20709 11.5L5.35354 13.6465L4.64643 14.3536L1.64643 11.3536L1.29288 11L1.64643 10.6465Z",fill:"white"})}),qT=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.52281 2.23218C1.33616 1.15917 2.33932 0.207865 3.40789 0.579984L16.6229 5.182C17.1275 5.35771 17.4887 5.79953 17.5781 6.32326L18.478 11.5955C18.6614 12.6699 17.6536 13.6181 16.5859 13.2408L10.4179 11.061L11.5844 17.7676C11.7737 18.8559 10.7401 19.813 9.66497 19.4073L4.92371 17.6182C4.43781 17.4349 4.09222 17.0031 4.00368 16.4941L1.52281 2.23218ZM3.07902 1.52436C2.78962 1.42358 2.4412 1.67668 2.50802 2.06081L4.98889 16.3227C5.01887 16.4951 5.13322 16.6284 5.27676 16.6826L10.018 18.4717C10.3086 18.5814 10.6671 18.3292 10.5992 17.939L9.13987 9.54867L16.9191 12.2979C17.2083 12.4001 17.5579 12.1483 17.4922 11.7637L16.5924 6.49151C16.5621 6.31402 16.4426 6.1781 16.294 6.12637L3.07902 1.52436Z",fill:"white"})}),oQ=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0999 14.2632V17.9365L14.7527 14.2632H18V3L2 3V14.2632H10.0999ZM9.0999 20V15.2632H2C1.44772 15.2632 1 14.8154 1 14.2632V3C1 2.44772 1.44772 2 2 2H18C18.5523 2 19 2.44772 19 3V14.2632C19 14.8154 18.5523 15.2632 18 15.2632H15.0999L9.0999 20Z",fill:"white"})}),rQ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 11V13.1315L11.1972 11H13C13.5523 11 14 10.5523 14 10V4C14 3.44772 13.5523 3 13 3H3C2.44772 3 2 3.44772 2 4V10C2 10.5523 2.44772 11 3 11H8ZM7 15V12H3C1.89543 12 1 11.1046 1 10V4C1 2.89543 1.89543 2 3 2H13C14.1046 2 15 2.89543 15 4V10C15 11.1046 14.1046 12 13 12H11.5L7 15Z",fill:"white"})}),CR=r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("g",{clipPath:"url(#clip0_151_10)",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.5943 4.09425L15.8456 3.34555L10.0221 9.16905L4.1765 3.3235L3.4278 4.0722L9.27335 9.91775L3.11763 16.0735L3.86633 16.8222L10.0221 10.6665L16.1557 16.8001L16.9044 16.0514L10.7708 9.91775L16.5943 4.09425Z",fill:"white"})}),r.jsx("defs",{children:r.jsx("clipPath",{id:"clip0_151_10",children:r.jsx("rect",{width:"20",height:"20",fill:"white"})})})]}),po=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("g",{clipPath:"url(#clip0_268_113)",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.9498 3.69975L12.2426 2.99265L8 7.23529L3.75735 2.99265L3.05025 3.69975L7.29289 7.9424L3.05026 12.185L3.75737 12.8921L8 8.64951L12.2426 12.8921L12.9497 12.185L8.70711 7.9424L12.9498 3.69975Z",fill:"white"})}),r.jsx("defs",{children:r.jsx("clipPath",{id:"clip0_268_113",children:r.jsx("rect",{width:"16",height:"16",fill:"white"})})})]}),aQ=r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("g",{clipPath:"url(#clip0_2805_3613)",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.9142 4.41417L15.5 2.99995L9.74997 8.74997L4.27205 3.27205L2.85784 4.68626L8.33576 10.1642L2.77206 15.7279L4.18628 17.1421L9.74997 11.5784L15.5858 17.4142L17 16L11.1642 10.1642L16.9142 4.41417Z",fill:"white"})}),r.jsx("defs",{children:r.jsx("clipPath",{id:"clip0_2805_3613",children:r.jsx("rect",{width:"20",height:"20",fill:"white"})})})]}),QT=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.79903 4.25L2.5 2L1.20096 4.25H2V16.5C2 17.3284 2.67157 18 3.5 18H15.75V18.799L18 17.5L15.75 16.201V17H3.5C3.22385 17 3 16.7761 3 16.5V4.25H3.79903ZM17 6.5C17 8.433 15.433 10 13.5 10C11.567 10 10 8.433 10 6.5C10 4.567 11.567 3 13.5 3C15.433 3 17 4.567 17 6.5ZM18 6.5C18 8.98528 15.9853 11 13.5 11C11.0147 11 9 8.98528 9 6.5C9 4.01472 11.0147 2 13.5 2C15.9853 2 18 4.01472 18 6.5Z",fill:"white"})}),lQ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.79903 4.25L2.5 2L1.20096 4.25H2V12.5C2 13.3284 2.67157 14 3.5 14H11.75V14.799L14 13.5L11.75 12.201V13H3.5C3.22385 13 3 12.7761 3 12.5V4.25H3.79903ZM13 5C13 6.10457 12.1046 7 11 7C9.89543 7 9 6.10457 9 5C9 3.89543 9.89543 3 11 3C12.1046 3 13 3.89543 13 5ZM14 5C14 6.65685 12.6569 8 11 8C9.34315 8 8 6.65685 8 5C8 3.34315 9.34315 2 11 2C12.6569 2 14 3.34315 14 5Z",fill:"white"})}),wR=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.3027 5.37094L10.3333 1.34716C10.1271 1.22807 9.87294 1.22807 9.66667 1.34716L2.69728 5.37094L10 9.42805L17.3027 5.37094ZM2.33975 6.31628V14.0378C2.33975 14.2759 2.46682 14.496 2.67309 14.6151L9.5 18.5566V10.2942L2.33975 6.31628ZM10.5 18.5566L17.3269 14.6151C17.5332 14.496 17.6603 14.2759 17.6603 14.0378V6.31627L10.5 10.2942V18.5566ZM9.16667 0.481134C9.68234 0.183413 10.3177 0.183413 10.8333 0.481134L17.8269 4.51888C18.3426 4.8166 18.6603 5.36682 18.6603 5.96226V14.0378C18.6603 14.6332 18.3426 15.1834 17.8269 15.4811L10.8333 19.5189C10.3177 19.8166 9.68234 19.8166 9.16667 19.5189L2.17309 15.4811C1.65742 15.1834 1.33975 14.6332 1.33975 14.0378V5.96226C1.33975 5.36682 1.65742 4.8166 2.17309 4.51888L9.16667 0.481134Z",fill:"white"})}),l5=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.50001 1.44336L13.4282 4.28866C13.4637 4.30914 13.4976 4.33161 13.5298 4.35588L8.00002 7.42803L2.4702 4.35588C2.50243 4.33161 2.53634 4.30914 2.57181 4.28866L7.50001 1.44336C7.80941 1.26473 8.19061 1.26473 8.50001 1.44336ZM2.07181 5.27851V10.8453C2.07181 11.2026 2.26241 11.5327 2.57181 11.7113L7.5 14.5566L7.5 8.2942L2.07181 5.27851ZM8.5 14.5566L13.4282 11.7113C13.7376 11.5327 13.9282 11.2026 13.9282 10.8453V5.27851L8.5 8.29422L8.5 14.5566ZM7.00001 0.577336C7.61881 0.220071 8.38121 0.220071 9.00001 0.577336L13.9282 3.42264C14.547 3.7799 14.9282 4.44016 14.9282 5.15469V10.8453C14.9282 11.5598 14.547 12.2201 13.9282 12.5773L9.00001 15.4226C8.38121 15.7799 7.61881 15.7799 7.00001 15.4226L2.07181 12.5773C1.45301 12.2201 1.07181 11.5598 1.07181 10.8453V5.15469C1.07181 4.44016 1.45301 3.7799 2.07181 3.42264L7.00001 0.577336Z",fill:"white"})}),cQ=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 5V4.99999C16.9999 2.79092 13.866 1.00012 10 1.00012C6.13404 1.00012 3.00005 2.79092 3 4.99999V5V5.04169V15.0417V15.2H3.0055C3.15251 17.3127 6.22781 18.9999 10 18.9999C13.7722 18.9999 16.8475 17.3127 16.9945 15.2H17V15.0417V5.04169V5ZM16 5.04169V5V4.99999C16 4.40919 15.5718 3.67887 14.4536 3.03992C13.3637 2.41712 11.7912 2.00012 10 2.00012C8.20878 2.00012 6.63631 2.41711 5.54638 3.03992C4.42819 3.67887 4.00003 4.40919 4 4.99999V5V5.04169C4.00004 5.63254 4.42824 6.36289 5.5464 7.00185C6.63632 7.62468 8.20879 8.04168 10 8.04168C11.7912 8.04168 13.3637 7.62468 14.4536 7.00185C15.5718 6.36289 16 5.63254 16 5.04169ZM4 7.10312C5.2249 8.26476 7.45367 9.04168 10 9.04168C12.5463 9.04168 14.7751 8.26476 16 7.10312V15.0417C16 15.6157 15.5785 16.3362 14.4575 16.9701C13.3668 17.5869 11.7929 17.9999 10 17.9999C8.20707 17.9999 6.63316 17.5869 5.54248 16.9701C4.42152 16.3362 4.00002 15.6157 4 15.0417V7.10312Z",fill:"white"})}),hQ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 3C13 3.2456 12.7749 3.73715 11.7954 4.22689C10.8758 4.68673 9.53527 5 8 5C6.46473 5 5.12424 4.68673 4.20457 4.22689C3.22509 3.73715 3 3.2456 3 3C3 2.7544 3.22509 2.26285 4.20457 1.77311C5.12424 1.31327 6.46473 1 8 1C9.53527 1 10.8758 1.31327 11.7954 1.77311C12.7749 2.26285 13 2.7544 13 3ZM14 3V12.5C14 13.2161 13.4951 14.1001 12.5406 14.7819C11.5651 15.4787 10.0831 16 8 16C5.91692 16 4.4349 15.4787 3.45938 14.7819C2.50485 14.1001 2 13.2161 2 12.5V3C2 1.34315 4.68629 0 8 0C11.3137 0 14 1.34315 14 3ZM13 4.6589C11.9251 5.46725 10.087 6 8 6C5.91303 6 4.07492 5.46725 3 4.6589V12.5C3 12.7839 3.24515 13.3999 4.04062 13.9681C4.8151 14.5213 6.08308 15 8 15C9.91692 15 11.1849 14.5213 11.9594 13.9681C12.7549 13.3999 13 12.7839 13 12.5V4.6589Z",fill:"white"})}),dQ=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 10C18 14.4183 14.4183 18 10 18C6.05617 18 2.77888 15.1462 2.12051 11.391C3.78887 14.2083 7.89714 15.1179 11.5839 13.3951C15.2743 11.6706 17.2124 7.93002 16.1146 4.84106C17.2909 6.23389 18 8.03414 18 10ZM19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10ZM15.0178 4.79938C16.189 7.30569 14.7174 10.827 11.1606 12.4891C7.60369 14.1512 3.95849 13.021 2.78729 10.5147C1.61609 8.00838 3.08765 4.48709 6.64452 2.82497C10.2014 1.16284 13.8466 2.29307 15.0178 4.79938Z",fill:"white"})}),uQ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 8C14 11.3137 11.3137 14 8 14C4.68629 14 2 11.3137 2 8C2 7.84685 2.00574 7.69505 2.01701 7.54478C2.05146 7.63813 2.09 7.73058 2.13271 7.82197C3.14489 9.988 6.11401 10.7399 8.76443 9.50134C11.4148 8.26281 12.7429 5.50286 11.7307 3.33683C11.7216 3.31729 11.7123 3.29786 11.7028 3.27855C13.1015 4.37701 14 6.08358 14 8ZM15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8ZM10.8247 3.76019C11.5272 5.2635 10.6707 7.50677 8.34107 8.59538C6.01149 9.68399 3.74117 8.90193 3.03867 7.39861C2.33617 5.8953 3.19276 3.65203 5.52234 2.56342C7.85192 1.47481 10.1222 2.25687 10.8247 3.76019Z",fill:"white"})}),fQ=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.15883 2.30849C9.55247 1.69616 10.4475 1.69616 10.8412 2.30849L18.6824 14.5059C18.833 14.7401 18.9456 15.0075 18.9463 15.2745C18.9466 15.2751 18.9469 15.2757 18.9472 15.2764L18.9463 15.2769C18.9463 15.3767 18.9305 15.4766 18.8952 15.5746C18.2813 17.2781 15.0055 19 10 19C4.99455 19 1.7187 17.2781 1.1048 15.5746C1.07837 15.5013 1.06291 15.4269 1.0568 15.3522L1.02567 15.3419C1.03476 15.3146 1.04416 15.2873 1.05388 15.2601C1.05844 14.9979 1.16977 14.7359 1.31765 14.5059L9.15883 2.30849ZM2.0955 15.3517C2.32252 15.809 2.9836 16.4504 4.29508 17.0051C5.67185 17.5873 7.60575 18 10 18C12.3943 18 14.3282 17.5873 15.7049 17.0051C16.9604 16.4741 17.6199 15.8636 17.873 15.4112C17.6125 15.0157 17.1473 14.5159 16.2557 14.0727C15.0907 13.4936 13.1746 13 10 13C6.80552 13 4.88831 13.3738 3.72592 13.8939C2.78354 14.3155 2.33714 14.8323 2.0955 15.3517ZM16.6113 13.1335C15.2597 12.4845 13.1961 12 10 12C6.93324 12 4.90517 12.3354 3.55026 12.8822L10 2.84924L16.6113 13.1335Z",fill:"white"})}),pQ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.84726 11.0766L7.99999 2.87909L13.1528 11.0767C13.0241 11.0098 12.888 10.9442 12.7445 10.8805C11.6324 10.3867 10.0623 10 7.99991 10C5.93757 10 4.36747 10.3867 3.25534 10.8805C3.11193 10.9442 2.97591 11.0098 2.84726 11.0766ZM2.30214 12.6733C2.56618 12.9522 3.02135 13.2813 3.73554 13.5796C4.76792 14.0107 6.21133 14.3182 7.99999 14.3182C9.78866 14.3182 11.2321 14.0107 12.2644 13.5796C12.9786 13.2813 13.4337 12.9522 13.6978 12.6733C13.6344 12.6072 13.5535 12.5322 13.452 12.4504C13.1931 12.2419 12.8251 12.0104 12.3387 11.7945C11.3676 11.3633 9.93765 11 7.99991 11C6.06217 11 4.63231 11.3633 3.66115 11.7945C3.17482 12.0104 2.80682 12.2419 2.54791 12.4504C2.44638 12.5321 2.3655 12.6072 2.30214 12.6733ZM7.15336 2.34692L1.30672 11.6484C1.10631 11.9672 0.973039 12.3498 1.12154 12.6959C1.68826 14.0166 4.20498 15.3182 7.99999 15.3182C11.795 15.3182 14.3117 14.0166 14.8785 12.6959C15.0269 12.3498 14.8937 11.9672 14.6933 11.6484L8.84663 2.34692C8.45455 1.72315 7.54544 1.72315 7.15336 2.34692Z",fill:"white"})}),mQ=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 4C11.1046 4 12 3.10457 12 2C12 0.895431 11.1046 0 10 0C8.89543 0 8 0.895431 8 2C8 3.10457 8.89543 4 10 4ZM7.00009 5H10.0001H13.0001C14.4497 5 15.6937 6.03244 15.9608 7.45718L16.7807 11.8302C16.8947 12.4381 16.4284 13 15.8099 13C15.339 13 14.9336 12.6676 14.8413 12.2059L14.0884 8.44174C14.0371 8.18489 13.8115 8 13.5496 8C13.2461 8 13.0001 8.24602 13.0001 8.54951V19C13.0001 19.5523 12.5524 20 12.0001 20C11.4478 20 11.0001 19.5523 11.0001 19V13C11.0001 12.4477 10.5524 12 10.0001 12C9.4478 12 9.00009 12.4477 9.00009 13V19C9.00009 19.5523 8.55237 20 8.00009 20C7.4478 20 7.00009 19.5523 7.00009 19V8.54951C7.00009 8.24602 6.75406 8 6.45058 8C6.18864 8 5.96311 8.18489 5.91174 8.44174L5.1589 12.2059C5.06656 12.6676 4.66115 13 4.1903 13C3.57181 13 3.10545 12.4381 3.21943 11.8302L4.03936 7.45718C4.3065 6.03244 5.55051 5 7.00009 5Z",fill:"white"})}),gQ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 3C8.82843 3 9.5 2.32843 9.5 1.5C9.5 0.671573 8.82843 0 8 0C7.17157 0 6.5 0.671573 6.5 1.5C6.5 2.32843 7.17157 3 8 3ZM5.80537 4H7.99992H8.0405H10.2349H10.6747C11.747 4 12.6814 4.73069 12.9398 5.77139L13.7623 9.08362C13.8779 9.54939 13.5255 10 13.0456 10C12.7212 10 12.4348 9.78827 12.3397 9.47812L11.4974 6.73226C11.429 6.50933 11.2232 6.35714 10.99 6.35714C10.6969 6.35714 10.4592 6.59477 10.4592 6.8879V15.2501C10.4592 15.6642 10.1235 16 9.70931 16C9.29513 16 8.95938 15.6642 8.95938 15.2501V10.4595C8.95938 9.9362 8.54052 9.51078 8.0198 9.5002C7.4547 9.51123 6.99999 9.97277 6.99999 10.5405V15.25C6.99999 15.6642 6.6642 16 6.24999 16C5.83578 16 5.49999 15.6642 5.49999 15.25V6.89407C5.49999 6.59753 5.2596 6.35714 4.96306 6.35714C4.72432 6.35714 4.51425 6.51479 4.44753 6.74402L3.65388 9.47088C3.56263 9.78439 3.27533 10 2.9488 10C2.47154 10 2.12108 9.55187 2.23612 9.08867L3.05998 5.77132C3.31842 4.73066 4.25273 4 5.32501 4H5.80537Z",fill:"white"})}),yc=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.60846 3H14.3915L7.99999 13.4589L1.60846 3ZM3.39152 4L7.99999 11.5411L12.6085 4H3.39152Z",fill:"white"})}),_Q=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 6C3.14244 6 3.2814 5.98511 3.41541 5.9568L6.3863 10.8183C6.14343 11.1493 6 11.5579 6 12C6 13.1046 6.89543 14 8 14C9.10457 14 10 13.1046 10 12C10 11.5579 9.85657 11.1493 9.6137 10.8183L12.5846 5.9568C12.7186 5.98511 12.8576 6 13 6C14.1046 6 15 5.10457 15 4C15 2.89543 14.1046 2 13 2C11.8954 2 11 2.89543 11 4C11 4.60193 11.2659 5.14175 11.6867 5.5084L8.8315 10.1805C8.57829 10.0646 8.29669 10 8 10C7.70331 10 7.42171 10.0646 7.1685 10.1805L4.31333 5.5084C4.73409 5.14175 5 4.60193 5 4C5 2.89543 4.10457 2 3 2C1.89543 2 1 2.89543 1 4C1 5.10457 1.89543 6 3 6Z",fill:"white"})}),vQ=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 2H2V18H18V2ZM2 1C1.44772 1 1 1.44772 1 2V18C1 18.5523 1.44772 19 2 19H18C18.5523 19 19 18.5523 19 18V2C19 1.44772 18.5523 1 18 1H2Z",fill:"white"})}),yQ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 2H2V14H14V2ZM2 1C1.44772 1 1 1.44772 1 2V14C1 14.5523 1.44772 15 2 15H14C14.5523 15 15 14.5523 15 14V2C15 1.44772 14.5523 1 14 1H2Z",fill:"white"})}),bQ=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 2H2V12.2809L5.64026 8.42647C6.23219 7.79972 7.22937 7.79972 7.8213 8.42647L12.0339 12.8869C12.2314 13.096 12.5635 13.0959 12.7607 12.8872L13.2118 12.4095C13.2169 12.4041 13.2181 12.4029 13.2176 12.4034L13.2184 12.4026L14.3587 11.1952C14.951 10.5681 15.9477 10.5693 16.5392 11.1957L18 12.7424V2ZM2 18V13.7373L6.36727 9.11309C6.56459 8.90418 6.89698 8.90418 7.09429 9.11309L11.3069 13.5735C11.8987 14.2001 12.8956 14.2008 13.4877 13.5738L15.0857 11.8818C15.2827 11.6732 15.6146 11.6731 15.8122 11.8823L18 14.1988V18H2ZM2 1C1.44772 1 1 1.44772 1 2V18C1 18.5523 1.44772 19 2 19H18C18.5523 19 19 18.5523 19 18V2C19 1.44772 18.5523 1 18 1H2ZM15 6.5C15 7.32843 14.3284 8 13.5 8C12.6716 8 12 7.32843 12 6.5C12 5.67157 12.6716 5 13.5 5C14.3284 5 15 5.67157 15 6.5ZM16 6.5C16 7.88071 14.8807 9 13.5 9C12.1193 9 11 7.88071 11 6.5C11 5.11929 12.1193 4 13.5 4C14.8807 4 16 5.11929 16 6.5Z",fill:"white"})}),GI=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 2H2V9.98522L4.63173 7.35354C5.21752 6.76776 6.16726 6.76777 6.75304 7.35355L9.33883 9.93934C9.53414 10.1347 9.85065 10.1346 10.0459 9.93941L10.7858 9.19948C11.3717 8.61355 12.3213 8.61407 12.9069 9.19971L14 10.2928V2ZM2 14V11.3994L5.33883 8.06065C5.53409 7.86539 5.85067 7.86539 6.04593 8.06065L8.63173 10.6464C9.21747 11.2322 10.1671 11.2324 10.753 10.6465L11.4929 9.90659C11.688 9.71147 12.0044 9.7114 12.1998 9.90681L14 11.707V14H2ZM2 1C1.44772 1 1 1.44772 1 2V14C1 14.5523 1.44772 15 2 15H14C14.5523 15 15 14.5523 15 14V2C15 1.44772 14.5523 1 14 1H2ZM12 5C12 5.55228 11.5523 6 11 6C10.4477 6 10 5.55228 10 5C10 4.44772 10.4477 4 11 4C11.5523 4 12 4.44772 12 5ZM13 5C13 6.10457 12.1046 7 11 7C9.89543 7 9 6.10457 9 5C9 3.89543 9.89543 3 11 3C12.1046 3 13 3.89543 13 5Z",fill:"white"})}),CQ=r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.2967 3L11.2967 17.86L7.50738 14.5784H4.60782C3.71985 14.5784 3 13.8585 3 12.9705V7.88947C3 7.0015 3.71985 6.28165 4.60782 6.28165H7.50738L11.2967 3ZM10.2248 5.34624L7.907 7.35353H4.60782C4.31183 7.35353 4.07188 7.59348 4.07188 7.88947V12.9705C4.07188 13.2665 4.31183 13.5065 4.60782 13.5065H7.90701L10.2248 15.5138L10.2248 5.34624Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.372 4.20152C14.5812 3.99223 14.9206 3.99223 15.1299 4.20152C15.9591 5.0307 16.6168 6.01508 17.0655 7.09845C17.5143 8.18182 17.7453 9.34297 17.7453 10.5156C17.7453 11.6882 17.5143 12.8494 17.0655 13.9328C16.6168 15.0161 15.9591 16.0005 15.1299 16.8297C14.9206 17.039 14.5812 17.039 14.372 16.8297C14.1627 16.6204 14.1627 16.281 14.372 16.0717C15.1016 15.3421 15.6804 14.4759 16.0753 13.5226C16.4701 12.5692 16.6734 11.5475 16.6734 10.5156C16.6734 9.48373 16.4701 8.46196 16.0753 7.50864C15.6804 6.55531 15.1016 5.6891 14.372 4.95946C14.1627 4.75016 14.1627 4.41082 14.372 4.20152Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.6335 6.51591C12.8428 6.30661 13.1822 6.30661 13.3915 6.51591C13.9089 7.03332 14.3193 7.64758 14.5993 8.32361C14.8794 8.99964 15.0235 9.72421 15.0235 10.4559C15.0235 11.1877 14.8794 11.9122 14.5993 12.5883C14.3193 13.2643 13.9089 13.8786 13.3915 14.396C13.1822 14.6053 12.8428 14.6053 12.6335 14.396C12.4242 14.1867 12.4242 13.8473 12.6335 13.638C13.0514 13.2202 13.3829 12.7241 13.6091 12.1781C13.8352 11.6321 13.9516 11.0469 13.9516 10.4559C13.9516 9.86497 13.8352 9.27979 13.6091 8.7338C13.3829 8.18782 13.0514 7.69172 12.6335 7.27384C12.4242 7.06455 12.4242 6.72521 12.6335 6.51591Z",fill:"white"})]}),c5=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.74032 1L8.74032 14.8635L5.20511 11.8019H2.5C1.67157 11.8019 1 11.1303 1 10.3019V5.56158C1 4.73315 1.67157 4.06158 2.5 4.06158H5.20511L8.74032 1ZM7.74032 3.1889L5.57794 5.06158H2.5C2.22386 5.06158 2 5.28544 2 5.56158V10.3019C2 10.578 2.22386 10.8019 2.5 10.8019H5.57794L7.74032 12.6746L7.74032 3.1889Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.6093 2.12095C11.8046 1.92569 12.1212 1.92569 12.3164 2.12095C13.09 2.89452 13.7036 3.81288 14.1223 4.8236C14.541 5.83432 14.7564 6.9176 14.7564 8.0116C14.7564 9.10559 14.541 10.1889 14.1223 11.1996C13.7036 12.2103 13.09 13.1287 12.3164 13.9022C12.1212 14.0975 11.8046 14.0975 11.6093 13.9022C11.4141 13.707 11.4141 13.3904 11.6093 13.1951C12.29 12.5144 12.83 11.7063 13.1984 10.8169C13.5668 9.92752 13.7564 8.97427 13.7564 8.0116C13.7564 7.04892 13.5668 6.09568 13.1984 5.20628C12.83 4.31689 12.29 3.50877 11.6093 2.82806C11.4141 2.63279 11.4141 2.31621 11.6093 2.12095Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.98751 4.28013C10.1828 4.08487 10.4994 4.08487 10.6946 4.28013C11.1773 4.76284 11.5602 5.33591 11.8215 5.9666C12.0827 6.5973 12.2172 7.27328 12.2172 7.95594C12.2172 8.6386 12.0827 9.31458 11.8215 9.94527C11.5602 10.576 11.1773 11.149 10.6946 11.6317C10.4994 11.827 10.1828 11.827 9.98751 11.6317C9.79225 11.4365 9.79225 11.1199 9.98751 10.9246C10.3774 10.5348 10.6866 10.072 10.8976 9.56259C11.1086 9.05322 11.2172 8.50728 11.2172 7.95594C11.2172 7.4046 11.1086 6.85866 10.8976 6.34929C10.6866 5.83992 10.3774 5.37709 9.98751 4.98723C9.79225 4.79197 9.79225 4.47539 9.98751 4.28013Z",fill:"white"})]}),wQ=r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsxs("g",{clipPath:"url(#clip0_6039_19613)",children:[r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.06907 0.545068C9.37549 0.515247 9.68604 0.5 10 0.5C10.314 0.5 10.6245 0.515247 10.9309 0.545068C11.2058 0.571816 11.4069 0.816305 11.3801 1.09115C11.3534 1.36599 11.1089 1.56711 10.8341 1.54037C10.5598 1.51367 10.2816 1.5 10 1.5C9.71843 1.5 9.44021 1.51367 9.16594 1.54037C8.89109 1.56711 8.6466 1.36599 8.61986 1.09115C8.59311 0.816305 8.79423 0.571816 9.06907 0.545068ZM7.86507 1.24034C7.94514 1.50462 7.79581 1.78377 7.53153 1.86384C6.99424 2.02662 6.47938 2.24122 5.99275 2.50187C5.74933 2.63225 5.4463 2.54061 5.31592 2.29719C5.18554 2.05376 5.27717 1.75073 5.5206 1.62035C6.06465 1.32895 6.64049 1.08891 7.24157 0.906799C7.50585 0.82673 7.785 0.976062 7.86507 1.24034ZM12.1349 1.24034C12.215 0.976062 12.4941 0.82673 12.7584 0.906799C13.3595 1.08891 13.9353 1.32895 14.4794 1.62035C14.7228 1.75073 14.8145 2.05376 14.6841 2.29719C14.5537 2.54061 14.2507 2.63225 14.0072 2.50187C13.5206 2.24122 13.0058 2.02662 12.4685 1.86384C12.2042 1.78377 12.0549 1.50462 12.1349 1.24034ZM4.6767 2.72523C4.852 2.93859 4.82115 3.25366 4.60779 3.42897C4.17749 3.78251 3.78251 4.17749 3.42897 4.60779C3.25366 4.82115 2.93859 4.852 2.72523 4.6767C2.51186 4.5014 2.48101 4.18632 2.65631 3.97296C3.0512 3.49234 3.49234 3.0512 3.97296 2.65631C4.18632 2.48101 4.5014 2.51186 4.6767 2.72523ZM15.3233 2.72523C15.4986 2.51186 15.8137 2.48101 16.027 2.65631C16.5077 3.0512 16.9488 3.49234 17.3437 3.97296C17.519 4.18632 17.4881 4.5014 17.2748 4.6767C17.0614 4.852 16.7463 4.82115 16.571 4.60779C16.2175 4.17749 15.8225 3.78251 15.3922 3.42897C15.1789 3.25366 15.148 2.93859 15.3233 2.72523ZM2.29719 5.31592C2.54061 5.4463 2.63225 5.74933 2.50187 5.99275C2.24122 6.47938 2.02662 6.99424 1.86384 7.53153C1.78377 7.79581 1.50462 7.94514 1.24034 7.86507C0.976062 7.785 0.82673 7.50585 0.906799 7.24157C1.08891 6.64049 1.32895 6.06465 1.62035 5.5206C1.75073 5.27717 2.05376 5.18554 2.29719 5.31592ZM17.7028 5.31592C17.9462 5.18554 18.2493 5.27717 18.3796 5.5206C18.6711 6.06465 18.9111 6.64049 19.0932 7.24157C19.1733 7.50585 19.0239 7.785 18.7597 7.86507C18.4954 7.94514 18.2162 7.79581 18.1362 7.53153C17.9734 6.99424 17.7588 6.47938 17.4981 5.99275C17.3678 5.74933 17.4594 5.4463 17.7028 5.31592ZM1.09115 8.61985C1.36599 8.6466 1.56711 8.89109 1.54037 9.16593C1.51367 9.44021 1.5 9.71843 1.5 10C1.5 10.2816 1.51367 10.5598 1.54037 10.8341C1.56711 11.1089 1.36599 11.3534 1.09115 11.3801C0.816305 11.4069 0.571816 11.2058 0.545068 10.9309C0.515247 10.6245 0.5 10.314 0.5 10C0.5 9.68604 0.515247 9.37549 0.545068 9.06907C0.571816 8.79423 0.816305 8.59311 1.09115 8.61985ZM18.9089 8.61986C19.1837 8.59311 19.4282 8.79423 19.4549 9.06907C19.4848 9.37549 19.5 9.68604 19.5 10C19.5 10.314 19.4848 10.6245 19.4549 10.9309C19.4282 11.2058 19.1837 11.4069 18.9089 11.3801C18.634 11.3534 18.4329 11.1089 18.4596 10.8341C18.4863 10.5598 18.5 10.2816 18.5 10C18.5 9.71843 18.4863 9.44021 18.4596 9.16594C18.4329 8.89109 18.634 8.6466 18.9089 8.61986ZM1.24034 12.1349C1.50462 12.0549 1.78377 12.2042 1.86384 12.4685C2.02662 13.0058 2.24122 13.5206 2.50187 14.0072C2.63225 14.2507 2.54061 14.5537 2.29719 14.6841C2.05376 14.8145 1.75073 14.7228 1.62035 14.4794C1.32895 13.9353 1.08891 13.3595 0.906799 12.7584C0.82673 12.4941 0.976062 12.215 1.24034 12.1349ZM18.7597 12.1349C19.0239 12.215 19.1733 12.4941 19.0932 12.7584C18.9111 13.3595 18.6711 13.9353 18.3796 14.4794C18.2493 14.7228 17.9462 14.8145 17.7028 14.6841C17.4594 14.5537 17.3678 14.2507 17.4981 14.0072C17.7588 13.5206 17.9734 13.0058 18.1362 12.4685C18.2162 12.2042 18.4954 12.0549 18.7597 12.1349ZM2.72523 15.3233C2.93859 15.148 3.25366 15.1789 3.42897 15.3922C3.78251 15.8225 4.17749 16.2175 4.60779 16.571C4.82115 16.7463 4.852 17.0614 4.6767 17.2748C4.5014 17.4881 4.18632 17.519 3.97296 17.3437C3.49234 16.9488 3.0512 16.5077 2.65631 16.027C2.48101 15.8137 2.51186 15.4986 2.72523 15.3233ZM17.2748 15.3233C17.4881 15.4986 17.519 15.8137 17.3437 16.027C16.9488 16.5077 16.5077 16.9488 16.027 17.3437C15.8137 17.519 15.4986 17.4881 15.3233 17.2748C15.148 17.0614 15.1789 16.7463 15.3922 16.571C15.8225 16.2175 16.2175 15.8225 16.571 15.3922C16.7463 15.1789 17.0614 15.148 17.2748 15.3233ZM5.31592 17.7028C5.4463 17.4594 5.74933 17.3678 5.99275 17.4981C6.47938 17.7588 6.99424 17.9734 7.53153 18.1362C7.79581 18.2162 7.94514 18.4954 7.86507 18.7597C7.785 19.0239 7.50585 19.1733 7.24157 19.0932C6.64049 18.9111 6.06465 18.6711 5.5206 18.3796C5.27717 18.2493 5.18554 17.9462 5.31592 17.7028ZM14.6841 17.7028C14.8145 17.9462 14.7228 18.2493 14.4794 18.3796C13.9353 18.6711 13.3595 18.9111 12.7584 19.0932C12.4941 19.1733 12.215 19.0239 12.1349 18.7597C12.0549 18.4954 12.2042 18.2162 12.4685 18.1362C13.0058 17.9734 13.5206 17.7588 14.0072 17.4981C14.2507 17.3678 14.5537 17.4594 14.6841 17.7028ZM8.61985 18.9089C8.6466 18.634 8.89109 18.4329 9.16593 18.4596C9.44021 18.4863 9.71843 18.5 10 18.5C10.2816 18.5 10.5598 18.4863 10.8341 18.4596C11.1089 18.4329 11.3534 18.634 11.3801 18.9089C11.4069 19.1837 11.2058 19.4282 10.9309 19.4549C10.6245 19.4848 10.314 19.5 10 19.5C9.68604 19.5 9.37549 19.4848 9.06907 19.4549C8.79423 19.4282 8.59311 19.1837 8.61985 18.9089Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 4.8111L13 15.1889L10.2051 13L7.50001 13C6.67158 13 6.00001 12.3284 6.00001 11.5L6 8.5C6 7.67157 6.67158 7 7.5 7L10.205 7.00001L13 4.8111ZM12 7L10.5779 8.00001L7.5 8C7.22386 8 7 8.22386 7 8.5L7.00001 11.5C7.00001 11.7761 7.22386 12 7.50001 12L10.5779 12L12 13L12 7Z",fill:"white"})]}),r.jsx("defs",{children:r.jsx("clipPath",{id:"clip0_6039_19613",children:r.jsx("rect",{width:"20",height:"20",fill:"white"})})})]}),xQ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsxs("g",{clipPath:"url(#clip0_6039_19612)",children:[r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.95576 0.0675924C7.29775 0.0229828 7.64631 0 8 0C8.35369 0 8.70225 0.0229828 9.04424 0.0675924C9.31807 0.10331 9.51109 0.354242 9.47537 0.628065C9.43965 0.901888 9.18872 1.09491 8.9149 1.05919C8.61568 1.02016 8.31032 1 8 1C7.68968 1 7.38432 1.02016 7.0851 1.05919C6.81128 1.09491 6.56035 0.901888 6.52463 0.628065C6.48891 0.354242 6.68193 0.10331 6.95576 0.0675924ZM5.59095 0.877577C5.69673 1.13266 5.5757 1.42519 5.32062 1.53097C4.75181 1.76684 4.22062 2.07569 3.73878 2.44596C3.51982 2.61423 3.20592 2.57313 3.03766 2.35417C2.8694 2.13521 2.9105 1.82131 3.12946 1.65304C3.67979 1.23013 4.28691 0.877056 4.93756 0.607241C5.19264 0.501464 5.48518 0.622497 5.59095 0.877577ZM10.409 0.877577C10.5148 0.622497 10.8074 0.501464 11.0624 0.607241C11.7131 0.877056 12.3202 1.23013 12.8705 1.65304C13.0895 1.82131 13.1306 2.13521 12.9623 2.35417C12.7941 2.57313 12.4802 2.61422 12.2612 2.44596C11.7794 2.07569 11.2482 1.76684 10.6794 1.53097C10.4243 1.42519 10.3033 1.13266 10.409 0.877577ZM13.6458 3.03766C13.8648 2.8694 14.1787 2.9105 14.347 3.12946C14.7699 3.67979 15.1229 4.28691 15.3928 4.93756C15.4985 5.19264 15.3775 5.48518 15.1224 5.59095C14.8673 5.69673 14.5748 5.5757 14.469 5.32062C14.2332 4.75181 13.9243 4.22062 13.554 3.73878C13.3858 3.51982 13.4269 3.20592 13.6458 3.03766ZM2.35417 3.03766C2.57313 3.20592 2.61422 3.51982 2.44596 3.73878C2.07569 4.22062 1.76684 4.75181 1.53097 5.32062C1.42519 5.5757 1.13266 5.69673 0.877577 5.59095C0.622497 5.48518 0.501464 5.19264 0.607241 4.93756C0.877056 4.28691 1.23013 3.67979 1.65304 3.12946C1.82131 2.9105 2.13521 2.8694 2.35417 3.03766ZM0.628065 6.52463C0.901888 6.56035 1.09491 6.81128 1.05919 7.0851C1.02016 7.38432 1 7.68968 1 8C1 8.31032 1.02016 8.61568 1.05919 8.9149C1.09491 9.18872 0.901888 9.43965 0.628065 9.47537C0.354242 9.51109 0.10331 9.31807 0.0675924 9.04424C0.0229828 8.70225 0 8.35369 0 8C0 7.64631 0.0229828 7.29775 0.0675924 6.95576C0.10331 6.68193 0.354242 6.48891 0.628065 6.52463ZM15.3719 6.52463C15.6458 6.48891 15.8967 6.68193 15.9324 6.95576C15.977 7.29775 16 7.64631 16 8C16 8.35369 15.977 8.70225 15.9324 9.04424C15.8967 9.31807 15.6458 9.51109 15.3719 9.47537C15.0981 9.43965 14.9051 9.18872 14.9408 8.9149C14.9798 8.61568 15 8.31032 15 8C15 7.68968 14.9798 7.38432 14.9408 7.0851C14.9051 6.81128 15.0981 6.56035 15.3719 6.52463ZM0.877577 10.409C1.13266 10.3033 1.42519 10.4243 1.53097 10.6794C1.76684 11.2482 2.07569 11.7794 2.44596 12.2612C2.61423 12.4802 2.57313 12.7941 2.35417 12.9623C2.13521 13.1306 1.82131 13.0895 1.65304 12.8705C1.23013 12.3202 0.877056 11.7131 0.607241 11.0624C0.501464 10.8074 0.622497 10.5148 0.877577 10.409ZM15.1224 10.409C15.3775 10.5148 15.4985 10.8074 15.3928 11.0624C15.1229 11.7131 14.7699 12.3202 14.347 12.8705C14.1787 13.0895 13.8648 13.1306 13.6458 12.9623C13.4269 12.7941 13.3858 12.4802 13.554 12.2612C13.9243 11.7794 14.2332 11.2482 14.469 10.6794C14.5748 10.4243 14.8673 10.3033 15.1224 10.409ZM12.9623 13.6458C13.1306 13.8648 13.0895 14.1787 12.8705 14.347C12.3202 14.7699 11.7131 15.1229 11.0624 15.3928C10.8074 15.4985 10.5148 15.3775 10.409 15.1224C10.3033 14.8673 10.4243 14.5748 10.6794 14.469C11.2482 14.2332 11.7794 13.9243 12.2612 13.554C12.4802 13.3858 12.7941 13.4269 12.9623 13.6458ZM3.03766 13.6458C3.20592 13.4269 3.51982 13.3858 3.73878 13.554C4.22062 13.9243 4.75181 14.2332 5.32062 14.469C5.5757 14.5748 5.69673 14.8673 5.59095 15.1224C5.48518 15.3775 5.19264 15.4985 4.93756 15.3928C4.28691 15.1229 3.67979 14.7699 3.12946 14.347C2.9105 14.1787 2.8694 13.8648 3.03766 13.6458ZM6.52463 15.3719C6.56035 15.0981 6.81128 14.9051 7.0851 14.9408C7.38432 14.9798 7.68968 15 8 15C8.31032 15 8.61568 14.9798 8.9149 14.9408C9.18872 14.9051 9.43965 15.0981 9.47537 15.3719C9.51109 15.6458 9.31807 15.8967 9.04424 15.9324C8.70225 15.977 8.35369 16 8 16C7.64631 16 7.29775 15.977 6.95576 15.9324C6.68193 15.8967 6.48891 15.6458 6.52463 15.3719Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5 2.8111L10.5 13.1889L7.70505 11H6C5.17158 11 4.5 10.3284 4.5 9.5L4.5 6.50001C4.5 5.67158 5.17157 5.00001 6 5.00001H7.70504L10.5 2.8111ZM9.5 5L8.07787 6.00001H6C5.72386 6.00001 5.5 6.22387 5.5 6.50001L5.5 9.5C5.5 9.77614 5.72386 10 6 10H8.07788L9.5 11L9.5 5Z",fill:"white"})]}),r.jsx("defs",{children:r.jsx("clipPath",{id:"clip0_6039_19612",children:r.jsx("rect",{width:"16",height:"16",fill:"white"})})})]}),EQ=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 2H13V13H2L2 2ZM1 2C1 1.44772 1.44772 1 2 1H13C13.5523 1 14 1.44772 14 2V13C14 13.5523 13.5523 14 13 14H2C1.44772 14 1 13.5523 1 13V2ZM5.99997 18V16H6.99997V18H18V6.99998H16V5.99998H18C18.5523 5.99998 19 6.44769 19 6.99998V18C19 18.5523 18.5523 19 18 19H6.99997C6.44768 19 5.99997 18.5523 5.99997 18Z",fill:"white"})}),SQ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 2H10V10H2V2ZM1 2C1 1.44772 1.44772 1 2 1H10C10.5523 1 11 1.44772 11 2V10C11 10.5523 10.5523 11 10 11H2C1.44772 11 1 10.5523 1 10V2ZM5 14V12H6V14H14V6H12V5H14C14.5523 5 15 5.44772 15 6V14C15 14.5523 14.5523 15 14 15H6C5.44772 15 5 14.5523 5 14Z",fill:"white"})}),IQ=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.7077 1.70766C16.3171 1.31713 15.684 1.31713 15.2934 1.70766L4.68684 12.3143L7.51527 15.1427L18.1219 4.53608C18.5124 4.14556 18.5124 3.51239 18.1219 3.12187L16.7077 1.70766ZM6.10051 16.5563L2.29969 18.1853C1.88483 18.3631 1.46536 17.9436 1.64316 17.5287L3.27208 13.7279L6.10051 16.5563Z",fill:"white"})}),xR=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.5475 8.39961L18.8971 6.05L13.95 1.10291L11.6004 3.45251L4.95334 4.19339L4.96004 4.64728L4.96005 4.64833L4.96011 4.65331L4.96028 4.67525C4.96039 4.69513 4.96047 4.72543 4.96032 4.76565C4.96002 4.84609 4.95878 4.96619 4.95502 5.12193C4.94749 5.43346 4.92984 5.88734 4.8893 6.45152C4.80818 7.58057 4.63566 9.14772 4.27052 10.8979C3.91086 12.6218 3.22067 14.3502 2.61351 15.657C2.31096 16.3082 2.03129 16.8499 1.82769 17.228C1.72593 17.417 1.64329 17.5649 1.58644 17.665C1.55802 17.7151 1.53606 17.7531 1.5214 17.7783L1.50497 17.8064L1.50106 17.8131L1.5004 17.8149L2.18689 18.499L2.18821 18.4982L2.19447 18.4945L2.22117 18.4788C2.24519 18.4647 2.2815 18.4436 2.32934 18.4163C2.42501 18.3617 2.56671 18.2821 2.74827 18.1841C3.11154 17.9879 3.63351 17.718 4.26495 17.4252C5.53172 16.8378 7.22179 16.1664 8.94667 15.8065C10.699 15.4409 12.3072 15.249 13.4777 15.1487C14.0625 15.0985 14.5369 15.0713 14.8641 15.0567C15.0277 15.0493 15.1544 15.0451 15.2396 15.0428C15.2822 15.0416 15.3144 15.0409 15.3357 15.0405L15.3593 15.0401L15.3648 15.04L15.3661 15.04L15.808 15.0347L16.5475 8.39961ZM5.95473 5.14609L5.95606 5.08781L12.0596 4.40752L13.95 2.51712L17.4829 6.05001L15.5925 7.9404L14.9111 14.0537L14.8193 14.0577C14.4802 14.0729 13.9921 14.1009 13.3922 14.1523C12.1934 14.2551 10.5438 14.4518 8.74243 14.8276C7.19237 15.151 5.68661 15.7068 4.4708 16.2363L9.58164 11.1254C9.82923 11.2596 10.1128 11.3358 10.4142 11.3358C11.3807 11.3358 12.1642 10.5523 12.1642 9.58581C12.1642 8.61931 11.3807 7.83581 10.4142 7.83581C9.44771 7.83581 8.66421 8.61931 8.66421 9.58581C8.66421 9.88717 8.74039 10.1707 8.87454 10.4183L3.77342 15.5194C4.32979 14.2571 4.91849 12.6884 5.24944 11.1021C5.62573 9.29854 5.80321 7.68569 5.88673 6.52318C5.92852 5.94158 5.94685 5.47178 5.95473 5.14609Z",fill:"white"})}),AQ=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.64645 17.6465L17.6465 1.64645L18.3536 2.35356L2.35356 18.3536L1.64645 17.6465Z",fill:"white"})}),TQ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.27585 3.96147C2.69398 3.84173 3 3.4566 3 3C3 2.44772 2.55228 2 2 2C1.44772 2 1 2.44772 1 3C1 3.55228 1.44772 4 2 4L2.27585 3.96147ZM2.66834 4.8856C3.44426 4.61057 4 3.87019 4 3C4 1.89543 3.10457 1 2 1C0.895431 1 0 1.89543 0 3C0 3.98996 0.719254 4.81193 1.6637 4.97185C2.01438 6.6201 2.76075 8.54309 4.23483 10.1504C5.8674 11.9306 8.35306 13.28 12.0569 13.4756C12.2703 14.3505 13.0593 15 14 15C15.1046 15 16 14.1046 16 13C16 11.8954 15.1046 11 14 11C13.0772 11 12.3003 11.625 12.0697 12.4748C8.6237 12.2845 6.40388 11.0361 4.97183 9.47455C3.68456 8.0709 3.00253 6.37962 2.66834 4.8856ZM13 13C13 13.5523 13.4477 14 14 14C14.5523 14 15 13.5523 15 13C15 12.4477 14.5523 12 14 12C13.4477 12 13 12.4477 13 13Z",fill:"white"})}),VI=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 9.86439L0.989763 13.6231L0.5 12.7748L6.96495 9.04224V2H7.94448V8.98994L14.5 12.7748L14.0102 13.6231L7.5 9.86439Z",fill:"white"})}),_E=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 5H18V15H8V13V7V5ZM7 6.71429V5C7 4.44772 7.44772 4 8 4H18C18.5523 4 19 4.44772 19 5V15C19 15.5523 18.5523 16 18 16H8C7.44771 16 7 15.5523 7 15V13.2857L2.27472 14.6358C1.63591 14.8183 1 14.3386 1 13.6743V6.32573C1 5.66135 1.6359 5.18169 2.27472 5.36421L7 6.71429ZM7 7.7543L2 6.32573L2 13.6743L7 12.2457V7.7543Z",fill:"white"})}),PQ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 4H14V12H6V10.4V5.6V4ZM5 5.28V4C5 3.44772 5.44772 3 6 3H14C14.5523 3 15 3.44772 15 4V12C15 12.5523 14.5523 13 14 13H6C5.44772 13 5 12.5523 5 12V10.72L2.30478 11.5825C1.65951 11.789 1 11.3075 1 10.63V5.36995C1 4.69246 1.65951 4.21104 2.30478 4.41753L5 5.28ZM5 6.32995L2 5.36995L2 10.63L5 9.67005V6.32995Z",fill:"white"})}),HI=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 1H4V8.05001C2.85888 8.28164 2 9.29052 2 10.5C2 11.7095 2.85888 12.7184 4 12.95V15H5V12.95C6.14112 12.7184 7 11.7095 7 10.5C7 9.29052 6.14112 8.28164 5 8.05001V1ZM6 10.5C6 11.3284 5.32843 12 4.5 12C3.67157 12 3 11.3284 3 10.5C3 9.67157 3.67157 9 4.5 9C5.32843 9 6 9.67157 6 10.5ZM11 15H12L12 7.94999C13.1411 7.71836 14 6.70948 14 5.5C14 4.29052 13.1411 3.28164 12 3.05001V1H11V3.05001C9.85888 3.28164 9 4.29052 9 5.5C9 6.70948 9.85888 7.71836 11 7.94999L11 15ZM10 5.5C10 4.67157 10.6716 4 11.5 4C12.3284 4 13 4.67157 13 5.5C13 6.32843 12.3284 7 11.5 7C10.6716 7 10 6.32843 10 5.5Z",fill:"white"})}),OQ=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 4H2V5H8V4ZM2 3H1V4V5V6H2H8H9V5H19V4H9V3H8H2ZM1 15H12V14H13H19H20V15V16V17H19H13H12V16H1V15ZM6 9.5H1V10.5H6V11.5H7H13H14V10.5H19V9.5H14V8.5H13H7H6V9.5ZM7 9.5H13V10.5H7V9.5ZM19 15H13V16H19V15Z",fill:"white"})}),MQ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 14H3L3 2H8.94213C8.96148 2 8.98078 2.00056 9 2.00167V6H13V14ZM12.6343 5L10 2.60959V5H12.6343ZM3 15H13C13.5523 15 14 14.5523 14 14V5.77473C14 5.2106 13.7618 4.6727 13.344 4.29361L10.2861 1.51888C9.91813 1.18497 9.43903 1 8.94213 1H3C2.44772 1 2 1.44772 2 2V14C2 14.5523 2.44772 15 3 15Z",fill:"white"})}),LQ=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 1C1.44772 1 1 1.44772 1 2V18C1 18.5523 1.44772 19 2 19H18C18.5523 19 19 18.5523 19 18V13H18V18H2V2H7V1H2ZM18.4988 1L12 1L12 2L17.2917 2L9.66 9.63173L10.3671 10.3388L17.9988 2.7071L17.9988 8L18.9988 8V1.5V1L18.4988 1Z",fill:"white"})}),Tb=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 2C2.44772 2 2 2.44772 2 3V13C2 13.5523 2.44772 14 3 14H13C13.5523 14 14 13.5523 14 13V10H13V13H3V3H6V2H3ZM13.5175 2L9 2V3L12.3077 3L7.647 7.64588L8.35298 8.35411L13.0175 3.7044L13.0175 6.99999H14.0175L14.0175 2.5L14.0175 2L13.5175 2Z",fill:"white"})}),RQ=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.64644 6.64646L5.35355 7.35357L9.49999 3.20713V14H10.5V3.20711L14.6464 7.35357L15.3535 6.64646L9.99999 1.29291L4.64644 6.64646ZM2 12H1V17C1 17.5523 1.44772 18 2 18H18C18.5523 18 19 17.5523 19 17V12H18V17H2V12Z",fill:"white"})}),NQ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.64644 5.64646L4.35354 6.35357L7.49999 3.20713V11H8.49999V3.20711L11.6464 6.35357L12.3535 5.64646L7.99999 1.29291L3.64644 5.64646ZM2 11H1V14C1 14.5523 1.44772 15 2 15H14C14.5523 15 15 14.5523 15 14V11H14V14H2V11Z",fill:"white"})}),ER=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.3536 7.35354L11.6465 6.64643L8.50001 9.79287V2H7.50001V9.79289L4.35356 6.64643L3.64645 7.35354L8.00001 11.7071L12.3536 7.35354ZM2 11H1V14C1 14.5523 1.44772 15 2 15H14C14.5523 15 15 14.5523 15 14V11H14V14H2V11Z",fill:"white"})}),jQ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 12V13H14C14.5523 13 15 12.5523 15 12L15 2C15 1.44772 14.5523 1 14 1L2 1C1.44772 1 1 1.44771 1 2L1 12C1 12.5523 1.44772 13 2 13L5 13V12H2L2 2L14 2L14 12H11ZM4.64646 7.64644L5.35356 8.35355L7.5 6.20711V15H8.5V6.20709L10.6465 8.35355L11.3536 7.64644L8.00001 4.29289L4.64646 7.64644Z",fill:"white"})}),DQ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 13.7676C8.00268 13.7644 8.00537 13.7612 8.00807 13.758C8.2259 13.4992 8.52025 13.1084 8.8157 12.5905C9.3561 11.6432 9.89977 10.2718 9.98767 8.5H6.01233C6.10023 10.2718 6.6439 11.6432 7.1843 12.5905C7.47975 13.1084 7.7741 13.4992 7.99193 13.758C7.99463 13.7612 7.99732 13.7644 8 13.7676ZM9.17325 13.8853C11.7661 13.3713 13.7578 11.1866 13.9795 8.5H10.9888C10.8997 10.4779 10.2937 12.0178 9.6843 13.086C9.51029 13.391 9.33597 13.6577 9.17325 13.8853ZM10.9888 7.5H13.9795C13.7578 4.81338 11.7661 2.62866 9.17325 2.11466C9.33597 2.34232 9.51029 2.60898 9.6843 2.91401C10.2937 3.98221 10.8997 5.52211 10.9888 7.5ZM9.98767 7.5H6.01233C6.10023 5.72817 6.6439 4.35681 7.1843 3.40952C7.47975 2.89162 7.7741 2.50081 7.99193 2.24199C7.99463 2.23878 7.99732 2.23559 8 2.23242C8.00268 2.23559 8.00537 2.23878 8.00807 2.24199C8.2259 2.50081 8.52025 2.89162 8.8157 3.40952C9.3561 4.35681 9.89977 5.72817 9.98767 7.5ZM6.3157 13.086C6.48971 13.391 6.66402 13.6577 6.82675 13.8853C4.23386 13.3713 2.24218 11.1866 2.02054 8.5H5.0112C5.10028 10.4779 5.70632 12.0178 6.3157 13.086ZM6.3157 2.91401C6.48971 2.60898 6.66402 2.34232 6.82674 2.11466C4.23386 2.62866 2.24218 4.81338 2.02054 7.5H5.0112C5.10028 5.52211 5.70632 3.98221 6.3157 2.91401ZM15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8Z",fill:"white"})}),_v=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.00009 5L5 5L5 1L6 1L6 5L14 5L14 1L15 1L15 5L19.0001 5L19.0001 6L15 6L15 14L19.0001 14L19.0001 15L15 15L15 19L14 19L14 15L6 15L6 19L5 19L5 15L1.00009 15L1.00009 14L5 14L5 6L1.00009 6L1.00009 5ZM6 14L6 6L14 6L14 14L6 14Z",fill:"white"})}),vE=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.00009 5L5 5L5 1L6 1L6 5L14 5L14 1L15 1L15 5L19.0001 5L19.0001 6L15 6L15 14L19.0001 14L19.0001 15L15 15L15 19L14 19L14 15L6 15L6 19L5 19L5 15L1.00009 15L1.00009 14L5 14L5 6L1.00009 6L1.00009 5ZM6 14L6 6L14 6L14 14L6 14Z",fill:"white"})}),SR=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 1L4 4L1 4V5L4 5L4 11H1V12H4L4 15H5L5 12L11 12V15H12V12H15V11H12L12 5L15 5V4L12 4V1H11V4L5 4L5 1H4ZM11 11L11 5L5 5L5 11L11 11Z",fill:"white"})}),FQ=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.3536 1.6464L10 1.29285L9.64646 1.6464L6.64646 4.6464L7.35357 5.35351L9.50009 3.20698V9.49991H3.20717L5.35357 7.35351L4.64646 6.6464L1.64646 9.6464L1.29291 9.99995L1.64646 10.3535L4.64646 13.3535L5.35357 12.6464L3.20707 10.4999H9.50009V16.7929L7.35357 14.6464L6.64646 15.3535L9.64646 18.3535L10 18.7071L10.3536 18.3535L13.3536 15.3535L12.6465 14.6464L10.5001 16.7928V10.4999H16.793L14.6465 12.6464L15.3536 13.3535L18.3536 10.3535L18.7071 9.99995L18.3536 9.6464L15.3536 6.6464L14.6465 7.35351L16.7929 9.49991H10.5001V3.20714L12.6465 5.35351L13.3536 4.6464L10.3536 1.6464Z",fill:"white"})}),BQ=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.08039 2.72937C8.1915 1.75638 9.03289 1 10.0544 1C10.9208 1 11.6577 1.54425 11.9292 2.30329C12.2451 2.09554 12.6251 1.97436 13.034 1.97436C14.131 1.97436 15.0204 2.84683 15.0204 3.92308V4.18378C15.3126 4.01797 15.6518 3.92308 16.0136 3.92308C17.1101 3.92308 18 4.79388 18 5.87064V13.1795C18 14.7933 17.1849 16.4913 15.9391 17.7779C14.6899 19.0678 12.9531 20 11.0476 20C7.9702 20 6.23365 19.174 5.13551 17.9761C4.5985 17.3904 4.23613 16.7388 3.94211 16.1147C3.81713 15.8495 3.7019 15.5833 3.59218 15.3299C3.57333 15.2864 3.55465 15.2433 3.53611 15.2006C3.40795 14.9054 3.28573 14.6295 3.15435 14.3717C2.50835 13.1042 1.8656 12.0523 1.36926 11.3534C0.917812 10.7176 0.841809 9.80246 1.35779 9.12754C1.98787 8.30337 3.21595 8.21775 3.9585 8.94622L5.08834 10.0546V4.41026C5.08834 3.33401 5.97768 2.46154 7.07475 2.46154C7.44171 2.46154 7.78543 2.55916 8.08039 2.72937ZM9.06116 9.28205H8.06795V4.41026C8.06795 3.87213 7.62328 3.4359 7.07475 3.4359C6.52621 3.4359 6.08154 3.87213 6.08154 4.41026V10.6496C6.08154 11.2981 5.28232 11.6229 4.8149 11.1643L3.2562 9.6352C2.94103 9.326 2.41979 9.36235 2.15236 9.71215C1.93439 9.99727 1.93642 10.4475 2.1842 10.7964C2.71276 11.5407 3.37936 12.6345 4.0427 13.936C4.18893 14.2229 4.32148 14.523 4.44988 14.8187C4.46914 14.8631 4.48829 14.9073 4.5074 14.9514C4.61735 15.2053 4.72576 15.4557 4.84367 15.7059C5.11932 16.291 5.43245 16.8429 5.87399 17.3246C6.73295 18.2615 8.1657 19.0256 11.0476 19.0256C12.6182 19.0256 14.1093 18.2527 15.219 17.1068C16.3321 15.9574 17.0068 14.4888 17.0068 13.1795V5.87064C17.0068 5.33302 16.5626 4.89744 16.0136 4.89744C15.4651 4.89744 15.0204 5.33367 15.0204 5.87179V10.2564H14.0272V3.92308C14.0272 3.38495 13.5825 2.94872 13.034 2.94872C12.4854 2.94872 12.0408 3.38495 12.0408 3.92308V9.28205H11.0476V2.94872C11.0476 2.41059 10.6029 1.97436 10.0544 1.97436C9.50583 1.97436 9.06116 2.41059 9.06116 2.94872V9.28205Z",fill:"white"})}),JT=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.58699 1.20359C6.81649 0.504676 7.4743 0 8.24999 0C8.95322 0 9.55956 0.41479 9.83772 1.01306C10.1034 0.85047 10.4157 0.756757 10.75 0.756757C11.6939 0.756757 12.4633 1.50406 12.4987 2.43929C12.7264 2.33093 12.9811 2.27027 13.25 2.27027C14.2158 2.27027 15 3.05183 15 4.019V10.5C15 13.0397 12.7828 16 8.87878 16C6.42268 16 5.01498 15.3544 4.11686 14.3952C3.67913 13.9277 3.38522 13.4091 3.14929 12.9189C3.04916 12.7108 2.95681 12.502 2.8698 12.3052C2.8549 12.2715 2.84014 12.2381 2.82554 12.2052C2.72391 11.976 2.62838 11.765 2.52618 11.5687C2.1162 10.7811 1.55394 10.1508 1.06197 9.67804C0.391814 9.03401 0.319969 7.97075 1.00327 7.27897C1.65159 6.62259 2.70435 6.6008 3.37928 7.22978L4.04545 7.85059V2.72727C4.04545 1.77333 4.81877 1 5.77272 1C6.06716 1 6.34439 1.07367 6.58699 1.20359ZM7.49999 7.55405H6.49999V2.72727C6.49999 2.32561 6.17438 2 5.77272 2C5.37106 2 5.04545 2.32561 5.04545 2.72727V8.49585C5.04545 9.12453 4.29567 9.45069 3.83574 9.02207L2.69752 7.96135C2.41834 7.70118 1.98289 7.7102 1.71472 7.9817C1.4531 8.24657 1.45554 8.66934 1.75489 8.95702C2.28815 9.4695 2.93381 10.1861 3.4132 11.107C3.53122 11.3337 3.63779 11.57 3.73969 11.7998C3.75506 11.8345 3.77031 11.869 3.7855 11.9033C3.87275 12.1006 3.95782 12.2929 4.05038 12.4852C4.26634 12.934 4.50829 13.3502 4.84681 13.7117C5.50119 14.4106 6.6076 15 8.87878 15C12.2172 15 14 12.5008 14 10.5V4.019C14 3.60545 13.6649 3.27027 13.25 3.27027C12.8358 3.27027 12.5 3.60606 12.5 4.02027V8.5H11.5V2.50676C11.5 2.09254 11.1642 1.75676 10.75 1.75676C10.3358 1.75676 9.99999 2.09254 9.99999 2.50676V7.55405H8.99999V1.75C8.99999 1.33579 8.66421 1 8.24999 1C7.83578 1 7.49999 1.33579 7.49999 1.75V7.55405Z",fill:"white"})}),$T=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.41301 1.20359C9.18351 0.504676 8.5257 0 7.75001 0C7.04678 0 6.44044 0.41479 6.16228 1.01306C5.89664 0.85047 5.58427 0.756757 5.25001 0.756757C4.3061 0.756757 3.53674 1.50406 3.50129 2.43929C3.27365 2.33093 3.01891 2.27027 2.75001 2.27027C1.78418 2.27027 1.00001 3.05183 1.00001 4.019V10.5C1.00001 13.0397 3.21723 16 7.12122 16C9.57732 16 10.985 15.3544 11.8831 14.3952C12.3209 13.9277 12.6148 13.4091 12.8507 12.9189C12.9508 12.7108 13.0432 12.502 13.1302 12.3052C13.1451 12.2715 13.1599 12.2381 13.1745 12.2052C13.2761 11.976 13.3716 11.765 13.4738 11.5687C13.8838 10.7811 14.4461 10.1508 14.938 9.67804C15.6082 9.03401 15.68 7.97075 14.9967 7.27897C14.3484 6.62259 13.2957 6.6008 12.6207 7.22978L11.9546 7.85059V2.72727C11.9546 1.77333 11.1812 1 10.2273 1C9.93284 1 9.65561 1.07367 9.41301 1.20359ZM8.50001 7.55405H9.50001V2.72727C9.50001 2.32561 9.82562 2 10.2273 2C10.6289 2 10.9546 2.32561 10.9546 2.72727V8.49585C10.9546 9.12453 11.7043 9.45069 12.1643 9.02207L13.3025 7.96135C13.5817 7.70118 14.0171 7.7102 14.2853 7.9817C14.5469 8.24657 14.5445 8.66934 14.2451 8.95702C13.7118 9.4695 13.0662 10.1861 12.5868 11.107C12.4688 11.3337 12.3622 11.57 12.2603 11.7998C12.2449 11.8345 12.2297 11.869 12.2145 11.9033C12.1272 12.1006 12.0422 12.2929 11.9496 12.4852C11.7337 12.934 11.4917 13.3502 11.1532 13.7117C10.4988 14.4106 9.3924 15 7.12122 15C3.78279 15 2.00001 12.5008 2.00001 10.5V4.019C2.00001 3.60545 2.33513 3.27027 2.75001 3.27027C3.16422 3.27027 3.50001 3.60606 3.50001 4.02027V8.5H4.50001V2.50676C4.50001 2.09254 4.8358 1.75676 5.25001 1.75676C5.66422 1.75676 6.00001 2.09254 6.00001 2.50676V7.55405H7.00001V1.75C7.00001 1.33579 7.33579 1 7.75001 1C8.16422 1 8.50001 1.33579 8.50001 1.75V7.55405Z",fill:"white"})}),UI=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 1V4H8C5.79086 4 4 5.79086 4 8V7.5H1V8.5L4 8.5V8C4 10.2091 5.79086 12 8 12H7.5V15H8.5V12H8C10.2091 12 12 10.2091 12 8V8.5L15 8.5V7.5H12V8C12 5.79086 10.2091 4 8 4H8.5V1H7.5ZM11 8C11 9.65685 9.65685 11 8 11C6.34315 11 5 9.65685 5 8C5 6.34315 6.34315 5 8 5C9.65685 5 11 6.34315 11 8Z",fill:"white"})}),kQ=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 5H5C3.34315 5 2 6.34315 2 8V11C2 12.6569 3.34315 14 5 14H6.24247C6.66006 14 7.04548 13.7757 7.25178 13.4126C8.46341 11.2801 11.5366 11.2801 12.7482 13.4126C12.9545 13.7757 13.3399 14 13.7575 14H15C16.6569 14 18 12.6569 18 11V8C18 6.34315 16.6569 5 15 5ZM5 4C2.79086 4 1 5.79086 1 8V11C1 13.2091 2.79086 15 5 15H6.24247C7.0198 15 7.73723 14.5825 8.12123 13.9066C8.94954 12.4488 11.0505 12.4488 11.8788 13.9066C12.2628 14.5825 12.9802 15 13.7575 15H15C17.2091 15 19 13.2091 19 11V8C19 5.79086 17.2091 4 15 4H5ZM7 9.5C7 10.3284 6.32843 11 5.5 11C4.67157 11 4 10.3284 4 9.5C4 8.67157 4.67157 8 5.5 8C6.32843 8 7 8.67157 7 9.5ZM14.5 11C15.3284 11 16 10.3284 16 9.5C16 8.67157 15.3284 8 14.5 8C13.6716 8 13 8.67157 13 9.5C13 10.3284 13.6716 11 14.5 11Z",fill:"white"})}),GQ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5H4C2.89543 5 2 5.89543 2 7V9C2 10.1046 2.89543 11 4 11H5.36067C5.44287 11 5.51912 10.9571 5.5618 10.8869C6.67296 9.05821 9.32704 9.05821 10.4382 10.8869C10.4809 10.9571 10.5571 11 10.6393 11H12C13.1046 11 14 10.1046 14 9V7C14 5.89543 13.1046 5 12 5ZM4 4C2.34315 4 1 5.34315 1 7V9C1 10.6569 2.34314 12 4 12H5.36067C5.79214 12 6.19234 11.7749 6.4164 11.4062C7.13809 10.2185 8.86191 10.2185 9.5836 11.4062C9.80766 11.7749 10.2079 12 10.6393 12H12C13.6569 12 15 10.6569 15 9V7C15 5.34315 13.6569 4 12 4H4ZM6 8C6 8.55228 5.55228 9 5 9C4.44772 9 4 8.55228 4 8C4 7.44772 4.44772 7 5 7C5.55228 7 6 7.44772 6 8ZM11 9C11.5523 9 12 8.55228 12 8C12 7.44772 11.5523 7 11 7C10.4477 7 10 7.44772 10 8C10 8.55228 10.4477 9 11 9Z",fill:"white"})}),VQ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 6C11 4.34315 9.65685 3 8 3V7L11 7V6ZM11 8L8 8H5V10C5 11.6569 6.34315 13 8 13C9.65685 13 11 11.6569 11 10V8ZM12 6C12 3.79086 10.2091 2 8 2C5.79086 2 4 3.79086 4 6V8V10C4 12.2091 5.79086 14 8 14C10.2091 14 12 12.2091 12 10V6Z",fill:"white"})}),t9=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 10V8H8H5L5 10C5 11.6569 6.34315 13 8 13C9.65685 13 11 11.6569 11 10ZM5 7H8V3C6.34315 3 5 4.34315 5 6V7ZM12 10V8V6C12 3.79086 10.2091 2 8 2C5.79086 2 4 3.79086 4 6V10C4 12.2091 5.79086 14 8 14C10.2091 14 12 12.2091 12 10Z",fill:"white"})}),e9=r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("g",{clipPath:"url(#clip0_1160_764)",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.435 1.40381L18.0312 6L16.6843 7.34697L14.3822 5.04489L13.6751 5.752L15.9771 8.05408L14.563 9.46827L12.968 7.87326L12.2609 8.58037L13.8559 10.1754L12.4416 11.5896L10.1395 9.28745L9.43239 9.99455L11.7345 12.2967L10.3203 13.7109L8.72534 12.1159L8.01824 12.823L9.61321 14.418L8.19901 15.8322L5.89691 13.5301L5.18981 14.2372L7.4919 16.5393L6.01041 18.0208L1.41421 13.4246L13.435 1.40381ZM12.7279 0.696702C13.1184 0.306177 13.7516 0.306178 14.1421 0.696702L18.7383 5.2929C19.1289 5.68342 19.1289 6.31659 18.7383 6.70711L6.71752 18.7279C6.32699 19.1184 5.69383 19.1184 5.3033 18.7279L0.707108 14.1317C0.316584 13.7412 0.316584 13.108 0.707108 12.7175L12.7279 0.696702Z",fill:"white"})}),r.jsx("defs",{children:r.jsx("clipPath",{id:"clip0_1160_764",children:r.jsx("rect",{width:"20",height:"20",fill:"white"})})})]}),HQ=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 2H2V8H4.98587L5.98587 9H2C1.44772 9 1 8.55228 1 8V2C1 1.44772 1.44772 1 2 1H8C8.55228 1 9 1.44772 9 2V5.98611L8 4.98611V2ZM4.70711 4.00005L4 4.70715L6.12132 6.82847L6.82843 6.12137L4.70711 4.00005ZM13 12C12.4477 12 12 12.4477 12 13V18C12 18.5523 12.4477 19 13 19H18C18.5523 19 19 18.5523 19 18V13C19 12.4477 18.5523 12 18 12H13ZM8 8.70715L8.70711 8.00005L10.8284 10.1214L10.1213 10.8285L8 8.70715Z",fill:"white"})}),UQ=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 2H4H16H17V6H16V3H10.5L10.5 17H13V18H7V17H9.5L9.5 3L4 3L4 6H3V2Z",fill:"white"})}),zQ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 2H3H13H14V5H13V3H8.5L8.5 13H10V14H8.5H7.5H6V13H7.5L7.5 3L3 3L3 5H2V2Z",fill:"white"})}),YQ=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.88921 4.01348L2.88922 4.01348C2.9317 3.99439 2.97379 3.97548 3.01557 3.95691C3.55008 3.71934 4.10078 3.5 5 3.5C5.91081 3.5 6.59208 3.72441 7.34189 3.97434L7.35829 3.97981C8.10402 4.22841 8.91874 4.5 10 4.5C11.0813 4.5 11.896 4.22841 12.6417 3.97981L12.6581 3.97434C13.4079 3.72441 14.0892 3.5 15 3.5C15.9093 3.5 16.5915 3.7251 17.1893 3.96424C17.283 4.00173 17.3798 4.04177 17.4772 4.08209L17.4773 4.08212C17.6778 4.16514 17.8814 4.24939 18.068 4.31525C18.3566 4.41711 18.6681 4.5 19 4.5V3.5C18.8319 3.5 18.6434 3.45789 18.4008 3.37225C18.2381 3.31484 18.078 3.24846 17.8951 3.17261L17.895 3.17259L17.895 3.17258C17.7923 3.12999 17.6823 3.08441 17.5607 3.03576C16.9085 2.7749 16.0907 2.5 15 2.5C13.9187 2.5 13.104 2.77159 12.3583 3.02019L12.3419 3.02566C11.5921 3.27559 10.9108 3.5 10 3.5C9.08919 3.5 8.40792 3.27559 7.65811 3.02566L7.64172 3.02019C6.89598 2.77159 6.08126 2.5 5 2.5C3.89922 2.5 3.19992 2.78066 2.60943 3.04309L2.50027 3.09177C1.97736 3.32536 1.5864 3.5 1 3.5V4.5C1.80661 4.5 2.37709 4.24363 2.88921 4.01348L2.88921 4.01348ZM2.88921 8.01348L2.88922 8.01348L2.88933 8.01343C2.93178 7.99435 2.97382 7.97546 3.01557 7.95691C3.55008 7.71934 4.10078 7.5 5 7.5C5.91081 7.5 6.59208 7.72441 7.34189 7.97434L7.35829 7.97981C8.10402 8.22841 8.91874 8.5 10 8.5C11.0813 8.5 11.896 8.22841 12.6417 7.97981L12.6581 7.97434C13.4079 7.72441 14.0892 7.5 15 7.5C15.9093 7.5 16.5915 7.7251 17.1893 7.96424C17.2831 8.00174 17.3798 8.04179 17.4773 8.08212C17.6778 8.16514 17.8814 8.24939 18.068 8.31525C18.3566 8.41711 18.6681 8.5 19 8.5V7.5C18.8319 7.5 18.6434 7.45789 18.4008 7.37225C18.2381 7.31484 18.078 7.24845 17.895 7.1726L17.895 7.17258L17.895 7.17257L17.8948 7.17249C17.7921 7.12992 17.6822 7.08438 17.5607 7.03576C16.9085 6.7749 16.0907 6.5 15 6.5C13.9187 6.5 13.104 6.77159 12.3583 7.02019L12.3419 7.02566C11.5921 7.27559 10.9108 7.5 10 7.5C9.08919 7.5 8.40792 7.27559 7.65811 7.02566L7.64172 7.02019C6.89598 6.77159 6.08126 6.5 5 6.5C3.89922 6.5 3.19992 6.78066 2.60943 7.04309L2.50027 7.09177C1.97736 7.32536 1.5864 7.5 1 7.5V8.5C1.80661 8.5 2.37709 8.24363 2.88921 8.01348ZM2.88922 12.0135C2.37709 12.2436 1.80662 12.5 1 12.5V11.5C1.5864 11.5 1.97736 11.3254 2.50027 11.0918L2.60943 11.0431C3.19992 10.7807 3.89922 10.5 5 10.5C6.08126 10.5 6.89598 10.7716 7.64172 11.0202L7.65811 11.0257C8.40792 11.2756 9.08919 11.5 10 11.5C10.9108 11.5 11.5921 11.2756 12.3419 11.0257L12.3583 11.0202C13.104 10.7716 13.9187 10.5 15 10.5C16.0907 10.5 16.9085 10.7749 17.5607 11.0358C17.6823 11.0844 17.7922 11.13 17.8949 11.1725L17.895 11.1726C18.078 11.2484 18.2381 11.3148 18.4008 11.3723C18.6434 11.4579 18.8319 11.5 19 11.5V12.5C18.6681 12.5 18.3566 12.4171 18.068 12.3152C17.8814 12.2494 17.6778 12.1651 17.4773 12.0821C17.3798 12.0418 17.2831 12.0017 17.1893 11.9642C16.5915 11.7251 15.9093 11.5 15 11.5C14.0892 11.5 13.4079 11.7244 12.6581 11.9743L12.6417 11.9798C11.896 12.2284 11.0813 12.5 10 12.5C8.91874 12.5 8.10402 12.2284 7.35829 11.9798L7.34189 11.9743C6.59208 11.7244 5.91081 11.5 5 11.5C4.10078 11.5 3.55008 11.7193 3.01557 11.9569C2.97379 11.9755 2.9317 11.9944 2.88922 12.0135ZM1 16.5C1.80662 16.5 2.37709 16.2436 2.88922 16.0135C2.9317 15.9944 2.97379 15.9755 3.01557 15.9569C3.55008 15.7193 4.10078 15.5 5 15.5C5.91081 15.5 6.59208 15.7244 7.34189 15.9743L7.35829 15.9798C8.10402 16.2284 8.91874 16.5 10 16.5C11.0813 16.5 11.896 16.2284 12.6417 15.9798L12.6581 15.9743C13.4079 15.7244 14.0892 15.5 15 15.5C15.9093 15.5 16.5915 15.7251 17.1893 15.9642C17.2831 16.0017 17.3798 16.0418 17.4773 16.0821C17.6778 16.1651 17.8814 16.2494 18.068 16.3152C18.3566 16.4171 18.6681 16.5 19 16.5V15.5C18.8319 15.5 18.6434 15.4579 18.4008 15.3723C18.2381 15.3148 18.078 15.2484 17.895 15.1726L17.8949 15.1725C17.7922 15.13 17.6823 15.0844 17.5607 15.0358C16.9085 14.7749 16.0907 14.5 15 14.5C13.9187 14.5 13.104 14.7716 12.3583 15.0202L12.3419 15.0257C11.5921 15.2756 10.9108 15.5 10 15.5C9.08919 15.5 8.40792 15.2756 7.65811 15.0257L7.64172 15.0202C6.89598 14.7716 6.08126 14.5 5 14.5C3.89922 14.5 3.19992 14.7807 2.60943 15.0431L2.50027 15.0918C1.97736 15.3254 1.5864 15.5 1 15.5V16.5Z",fill:"white"})}),WQ=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.2899 1.38421C11.7251 1.59311 11.9489 2.08311 11.8219 2.54885L10.53 7.28573H12.5714C12.5746 7.28573 12.5778 7.28575 12.581 7.28578L16 7.28578C16.3761 7.28578 16.7204 7.49683 16.8911 7.832C17.0618 8.16717 17.03 8.56977 16.8087 8.87395L9.9516 18.3025C9.66766 18.6929 9.14534 18.8248 8.71013 18.6159C8.27492 18.407 8.05108 17.917 8.1781 17.4512L9.46999 12.7143L4 12.7143C3.62388 12.7143 3.27957 12.5033 3.10889 12.1681C2.93821 11.8329 2.97004 11.4303 3.19127 11.1261L10.0484 1.69756C10.3324 1.30714 10.8547 1.17531 11.2899 1.38421ZM10.7792 11.7143L9.14287 17.7143L16 8.28578L12.5714 8.28578L9.22078 8.28573L10.8571 2.28573L4 11.7143L10.7792 11.7143Z",fill:"white"})}),XQ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 4H1V3H15V4ZM13 12H1V11H13V12ZM1 8H9V7H1V8Z",fill:"white"})}),ZQ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 4H1V3H15V4ZM14 12H2V11H14V12ZM4 8H12V7H4V8Z",fill:"white"})}),KQ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 4H1V3H15V4ZM15 12H3V11H15V12ZM7 8H15V7H7V8Z",fill:"white"})}),qQ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 4H1V3H15V4ZM15 12H1V11H15V12ZM1 8H15V7H1V8Z",fill:"white"})}),QQ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 14.5H1V1.5H2V14.5ZM14 6.5H4V4.5H14V6.5ZM4 11.5H10V9.5H4V11.5Z",fill:"white"})}),JQ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 1.5H7V4.5H2V6.5H7V9.5H4V11.5H7V14.5H8V11.5H11V9.5H8V6.5H13V4.5H8V1.5Z",fill:"white"})}),$Q=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 14.5H15V1.5H14V14.5ZM2 6.5H12V4.5H2V6.5ZM12 11.5H6V9.5H12V11.5Z",fill:"white"})}),tJ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 14V4H4V14H6ZM14 2V1H1V2H14ZM11 4V10H9V4H11Z",fill:"white"})}),eJ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 7V2H6V7H9V4H11V7H14V8H11V11H9V8H6V13H4V8H1V7H4Z",fill:"white"})}),sJ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 2V12H4V2H6ZM14 14V15H1V14H14ZM11 12V6H9V12H11Z",fill:"white"})}),iJ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 15L2 1H3L3 15H2ZM13 15L13 1H14L14 15H13ZM7 4L7 12H9L9 4H7Z",fill:"white"})}),nJ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 2H1V3H14V2ZM7.50001 5.29285L10.8536 8.6464L10.1465 9.35351L8 7.20705L8 15H7L7 7.20707L4.85356 9.35351L4.14645 8.6464L7.50001 5.29285Z",fill:"white"})}),oJ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 1V3.79289L9.14645 2.64645L9.85355 3.35355L7.85355 5.35355L7.5 5.70711L7.14645 5.35355L5.14645 3.35355L5.85355 2.64645L7 3.79289V1H8ZM7.5 10.2929L7.85355 10.6464L9.85355 12.6464L9.14645 13.3536L8 12.2071V15H7V12.2071L5.85355 13.3536L5.14645 12.6464L7.14645 10.6464L7.5 10.2929ZM14 7.5H1V8.5H14V7.5Z",fill:"white"})}),rJ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 8.79289L8 1H7L7 8.79289L4.85355 6.64645L4.14645 7.35355L7.14645 10.3536L7.5 10.7071L7.85355 10.3536L10.8536 7.35355L10.1464 6.64645L8 8.79289ZM1 14V13L14 13V14L1 14Z",fill:"white"})}),aJ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 2L1 2V1H15V2ZM15 15L1 15V14L15 14V15ZM7.36962 4.30005L4.53162 12.0001H5.76362L6.42362 10.1191H9.56962L10.2296 12.0001H11.4616L8.64562 4.30005H7.36962ZM9.23962 9.19505H6.75362L7.99662 5.68605L9.23962 9.19505Z",fill:"white"})}),lJ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 15V1H2L2 15H1ZM14 15L14 1H15L15 15H14ZM7.36962 4.30005L4.53162 12H5.76362L6.42362 10.119H9.56962L10.2296 12H11.4616L8.64562 4.30005H7.36962ZM9.23962 9.19505H6.75362L7.99662 5.68605L9.23962 9.19505Z",fill:"white"})}),IR=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 7.946C2 5.1629 4.02692 2.79224 6.81763 2.11671L6.58237 1.14478C3.39229 1.91698 1 4.65234 1 7.946C1 11.2397 3.39229 13.975 6.58237 14.7472L6.81763 13.7753C4.02692 13.0998 2 10.7291 2 7.946ZM12.8739 11.2437L13.7057 11.7988C13.9531 11.428 14.1683 11.0278 14.3455 10.6004C14.5228 10.173 14.6541 9.738 14.7418 9.30091L13.7613 9.10432C13.6864 9.47787 13.574 9.85036 13.4219 10.2172C13.2697 10.5841 13.0854 10.9268 12.8739 11.2437ZM13.7618 6.79308L14.7425 6.59759C14.5648 5.70591 14.2131 4.85583 13.709 4.09914L12.8768 4.65355C13.3084 5.30146 13.6096 6.0296 13.7618 6.79308ZM11.2438 3.01801L11.7989 2.18623C11.4281 1.93877 11.0278 1.72365 10.6005 1.54637C10.1731 1.36909 9.73806 1.23777 9.30098 1.15013L9.10438 2.13061C9.47793 2.20551 9.85042 2.31788 10.2173 2.47006C10.5842 2.62224 10.9269 2.80652 11.2438 3.01801ZM9.09883 13.7617L9.29432 14.7424C10.186 14.5647 11.0361 14.2131 11.7928 13.709L11.2384 12.8767C10.5905 13.3083 9.86231 13.6095 9.09883 13.7617Z",fill:"white"})}),cJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{opacity:"0.8",d:"M2.16 5.53228V13.0586L9.16 9.58491V2.05859L2.16 5.53228Z",fill:"#C8C8C8"}),r.jsx("rect",{x:"5.16",y:"8.05859",width:"1",height:"10",rx:"0.5",transform:"rotate(-54 5.16 8.05859)",fill:"white"})]}),hJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M2.15997 5.53228V13.0586L9.15997 9.58491V2.05859L2.15997 5.53228Z",fill:"#F67070",fillOpacity:"0.8"}),r.jsx("rect",{x:"5.15997",y:"8.05859",width:"1",height:"10",rx:"0.5",transform:"rotate(-54 5.15997 8.05859)",fill:"white"})]}),dJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M8.04177 7.37341L3.03383 3.73493C2.81042 3.57262 2.49774 3.62214 2.33543 3.84555C2.17311 4.06895 2.22264 4.38164 2.44604 4.54395L8.04177 8.60948V7.37341Z",fill:"white"}),r.jsx("path",{opacity:"0.8",d:"M4.54175 5.97368V13.5L11.5417 10.0263V2.5L4.54175 5.97368Z",fill:"#C8C8C8"}),r.jsx("path",{d:"M8.04175 8.60911L12.9635 12.185C13.1869 12.3473 13.4996 12.2977 13.6619 12.0743C13.8242 11.8509 13.7747 11.5383 13.5513 11.3759L8.04175 7.37305V8.60911Z",fill:"white"})]}),uJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M8.04174 7.37341L3.0338 3.73493C2.81039 3.57262 2.49771 3.62214 2.3354 3.84555C2.17308 4.06895 2.22261 4.38164 2.44601 4.54395L8.04174 8.60948V7.37341Z",fill:"white"}),r.jsx("path",{d:"M4.54175 5.97368V13.5L11.5417 10.0263V2.5L4.54175 5.97368Z",fill:"#F67070",fillOpacity:"0.8"}),r.jsx("path",{d:"M8.04175 8.60911L12.9635 12.185C13.1869 12.3473 13.4996 12.2977 13.6619 12.0743C13.8242 11.8509 13.7747 11.5383 13.5513 11.3759L8.04175 7.37305V8.60911Z",fill:"white"})]}),fJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("rect",{x:"2.25",y:"2.89844",width:"1",height:"10",rx:"0.5",transform:"rotate(-54 2.25 2.89844)",fill:"white"}),r.jsx("path",{opacity:"0.8",d:"M6.75 6.37212V13.8984L13.75 10.4248V2.89844L6.75 6.37212Z",fill:"#C8C8C8"})]}),pJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("rect",{x:"2.25",y:"2.89844",width:"1",height:"10",rx:"0.5",transform:"rotate(-54 2.25 2.89844)",fill:"white"}),r.jsx("path",{d:"M6.75 6.37212V13.8984L13.75 10.4248V2.89844L6.75 6.37212Z",fill:"#F67070",fillOpacity:"0.8"})]}),mJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{opacity:"0.8",d:"M1 3.47368V11L8 7.52632V0L1 3.47368Z",fill:"#C8C8C8"}),r.jsx("rect",{x:"4",y:"6",width:"1",height:"10",rx:"0.5",transform:"rotate(-54 4 6)",fill:"white"}),r.jsx("path",{opacity:"0.8",d:"M8 8.47368V16L15 12.5263V5L8 8.47368Z",fill:"#C8C8C8"})]}),gJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M1 3.47368V11L8 7.52632V0L1 3.47368Z",fill:"#F67070",fillOpacity:"0.8"}),r.jsx("rect",{x:"4",y:"6",width:"1",height:"10",rx:"0.5",transform:"rotate(-54 4 6)",fill:"white"}),r.jsx("path",{d:"M8 8.47368V16L15 12.5263V5L8 8.47368Z",fill:"#F67070",fillOpacity:"0.8"})]}),_J=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("rect",{x:"7.5",y:"4.5",width:"1",height:"10",rx:"0.5",fill:"white"}),r.jsx("path",{opacity:"0.8",d:"M8 1.5L2 5L8 8.5L14 5L8 1.5Z",fill:"#C8C8C8"})]}),vJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("rect",{x:"7.5",y:"4.5",width:"1",height:"10",rx:"0.5",fill:"white"}),r.jsx("path",{opacity:"0.8",d:"M8 1.5L2 5L8 8.5L14 5L8 1.5Z",fill:"#25D26A"})]}),yJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M8 14C8.27614 14 8.5 13.7761 8.5 13.5L8.5 8L7.5 8L7.5 13.5C7.5 13.7761 7.72386 14 8 14Z",fill:"white"}),r.jsx("path",{opacity:"0.8",d:"M8 4.5L2 8L8 11.5L14 8L8 4.5Z",fill:"#C8C8C8"}),r.jsx("path",{d:"M8 2C7.72386 2 7.5 2.22386 7.5 2.5V8H8.5V2.5C8.5 2.22386 8.27614 2 8 2Z",fill:"white"})]}),bJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M8 14C8.27614 14 8.5 13.7761 8.5 13.5L8.5 8L7.5 8L7.5 13.5C7.5 13.7761 7.72386 14 8 14Z",fill:"white"}),r.jsx("path",{opacity:"0.8",d:"M8 4.5L2 8L8 11.5L14 8L8 4.5Z",fill:"#25D26A"}),r.jsx("path",{d:"M8 2C7.72386 2 7.5 2.22386 7.5 2.5V8H8.5V2.5C8.5 2.22386 8.27614 2 8 2Z",fill:"white"})]}),CJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{opacity:"0.8",d:"M8 7.5L2 11L8 14.5L14 11L8 7.5Z",fill:"#C8C8C8"}),r.jsx("rect",{x:"7.5",y:"1.5",width:"1",height:"10",rx:"0.5",fill:"white"})]}),wJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{opacity:"0.8",d:"M8 7.5L2 11L8 14.5L14 11L8 7.5Z",fill:"#25D26A"}),r.jsx("rect",{x:"7.5",y:"1.5",width:"1",height:"10",rx:"0.5",fill:"white"})]}),xJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{opacity:"0.8",d:"M8 9L2 12.5L8 16L14 12.5L8 9Z",fill:"#C8C8C8"}),r.jsx("rect",{x:"7.5",y:"3.5",width:"1",height:"10",rx:"0.5",fill:"white"}),r.jsx("path",{opacity:"0.8",d:"M8 0L2 3.5L8 7L14 3.5L8 0Z",fill:"#C8C8C8"})]}),EJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{opacity:"0.8",d:"M8 9L2 12.5L8 16L14 12.5L8 9Z",fill:"#25D26A"}),r.jsx("rect",{x:"7.5",y:"3.5",width:"1",height:"10",rx:"0.5",fill:"white"}),r.jsx("path",{opacity:"0.8",d:"M8 0L2 3.5L8 7L14 3.5L8 0Z",fill:"#25D26A"})]}),SJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("rect",{width:"1",height:"10",rx:"0.5",transform:"matrix(-0.587785 -0.809017 -0.809017 0.587785 13.75 2.9082)",fill:"white"}),r.jsx("path",{opacity:"0.8",d:"M9.25 6.38189V13.9082L2.25 10.4345V2.9082L9.25 6.38189Z",fill:"#C8C8C8"})]}),IJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("rect",{width:"1",height:"10",rx:"0.5",transform:"matrix(-0.587785 -0.809017 -0.809017 0.587785 13.75 2.9082)",fill:"white"}),r.jsx("path",{d:"M9.25 6.38189V13.9082L2.25 10.4345V2.9082L9.25 6.38189Z",fill:"#6583F4",fillOpacity:"0.8"})]}),AJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M7.95871 7.373L12.9664 3.73469C13.1898 3.57237 13.5025 3.6219 13.6648 3.8453C13.8271 4.06871 13.7776 4.38139 13.5542 4.5437L7.95871 8.60907V7.373Z",fill:"white"}),r.jsx("path",{opacity:"0.8",d:"M11.4583 5.97368V13.5L4.45825 10.0263V2.5L11.4583 5.97368Z",fill:"#C8C8C8"}),r.jsx("path",{d:"M7.95824 8.60911L3.03651 12.185C2.81311 12.3473 2.50042 12.2977 2.33811 12.0743C2.1758 11.8509 2.22532 11.5383 2.44873 11.3759L7.95824 7.37305V8.60911Z",fill:"white"})]}),TJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M7.95874 7.373L12.9664 3.73469C13.1899 3.57237 13.5025 3.6219 13.6648 3.8453C13.8272 4.06871 13.7776 4.38139 13.5542 4.5437L7.95874 8.60907V7.373Z",fill:"white"}),r.jsx("path",{d:"M11.4583 5.97368V13.5L4.45825 10.0263V2.5L11.4583 5.97368Z",fill:"#6583F4",fillOpacity:"0.8"}),r.jsx("path",{d:"M7.95827 8.60911L3.03654 12.185C2.81314 12.3473 2.50045 12.2977 2.33814 12.0743C2.17583 11.8509 2.22535 11.5383 2.44876 11.3759L7.95827 7.37305V8.60911Z",fill:"white"})]}),PJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{opacity:"0.8",d:"M13.84 5.53228V13.0586L6.84 9.58491V2.05859L13.84 5.53228Z",fill:"#C8C8C8"}),r.jsx("rect",{width:"1",height:"10",rx:"0.5",transform:"matrix(-0.587785 -0.809017 -0.809017 0.587785 10.84 8.05859)",fill:"white"})]}),OJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M13.84 5.53228V13.0586L6.84003 9.58491V2.05859L13.84 5.53228Z",fill:"#6583F4",fillOpacity:"0.8"}),r.jsx("rect",{width:"1",height:"10",rx:"0.5",transform:"matrix(-0.587785 -0.809017 -0.809017 0.587785 10.84 8.05859)",fill:"white"})]}),MJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{opacity:"0.8",d:"M15 3.47368V11L8 7.52632V0L15 3.47368Z",fill:"#C8C8C8"}),r.jsx("rect",{width:"1",height:"10",rx:"0.5",transform:"matrix(-0.587785 -0.809017 -0.809017 0.587785 12 6)",fill:"white"}),r.jsx("path",{opacity:"0.8",d:"M8 8.47368V16L1 12.5263V5L8 8.47368Z",fill:"#C8C8C8"})]}),LJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M15 3.47368V11L8 7.52632V0L15 3.47368Z",fill:"#6583F4",fillOpacity:"0.8"}),r.jsx("rect",{width:"1",height:"10",rx:"0.5",transform:"matrix(-0.587785 -0.809017 -0.809017 0.587785 12 6)",fill:"white"}),r.jsx("path",{d:"M8 8.47368V16L1 12.5263V5L8 8.47368Z",fill:"#6583F4",fillOpacity:"0.8"})]}),RJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M1.5 10.98V4.68H2.382L4.65 9.072L6.9 4.68H7.791V10.98H7.035V6.03L4.929 10.08H4.362L2.256 6.039V10.98H1.5Z",fill:"white"}),r.jsx("path",{d:"M9.53412 5.526C9.38412 5.526 9.25812 5.478 9.15612 5.382C9.06012 5.28 9.01212 5.154 9.01212 5.004C9.01212 4.86 9.06012 4.74 9.15612 4.644C9.25812 4.548 9.38412 4.5 9.53412 4.5C9.67812 4.5 9.80112 4.548 9.90312 4.644C10.0051 4.74 10.0561 4.86 10.0561 5.004C10.0561 5.154 10.0051 5.28 9.90312 5.382C9.80112 5.478 9.67812 5.526 9.53412 5.526ZM9.15612 10.98V6.516H9.91212V10.98H9.15612Z",fill:"white"}),r.jsx("path",{d:"M10.7784 10.98L12.3264 8.748L10.7784 6.516H11.5974L12.8484 8.361L14.1084 6.516H14.9184L13.3704 8.748L14.9184 10.98H14.1084L12.8484 9.135L11.5974 10.98H10.7784Z",fill:"white"})]}),NJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M1.98587 11.9999L4.69487 4.6499H5.62937L8.32787 11.9999H7.39337L6.72137 10.1099H3.59237L2.90987 11.9999H1.98587ZM3.85487 9.3959H6.45887L5.15687 5.7629L3.85487 9.3959Z",fill:"white"}),r.jsx("path",{d:"M11.1054 12.1259C10.6714 12.1259 10.3109 12.0524 10.0239 11.9054C9.73695 11.7584 9.52345 11.5624 9.38345 11.3174C9.24345 11.0724 9.17345 10.8064 9.17345 10.5194C9.17345 9.9874 9.37645 9.5779 9.78245 9.2909C10.1884 9.0039 10.7414 8.8604 11.4414 8.8604H12.8484V8.7974C12.8484 8.3424 12.7294 7.9994 12.4914 7.7684C12.2534 7.5304 11.9349 7.4114 11.5359 7.4114C11.1929 7.4114 10.8954 7.4989 10.6434 7.6739C10.3984 7.8419 10.2444 8.0904 10.1814 8.4194H9.27845C9.31345 8.0414 9.43945 7.7229 9.65645 7.4639C9.88045 7.2049 10.1569 7.0089 10.4859 6.8759C10.8149 6.7359 11.1649 6.6659 11.5359 6.6659C12.2639 6.6659 12.8099 6.8619 13.1739 7.2539C13.5449 7.6389 13.7304 8.1534 13.7304 8.7974V11.9999H12.9429L12.8904 11.0654C12.7434 11.3594 12.5264 11.6114 12.2394 11.8214C11.9594 12.0244 11.5814 12.1259 11.1054 12.1259ZM11.2419 11.3804C11.5779 11.3804 11.8649 11.2929 12.1029 11.1179C12.3479 10.9429 12.5334 10.7154 12.6594 10.4354C12.7854 10.1554 12.8484 9.8614 12.8484 9.5534V9.5429H11.5149C10.9969 9.5429 10.6294 9.6339 10.4124 9.8159C10.2024 9.9909 10.0974 10.2114 10.0974 10.4774C10.0974 10.7504 10.1954 10.9709 10.3914 11.1389C10.5944 11.2999 10.8779 11.3804 11.2419 11.3804Z",fill:"white"})]}),jJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M1.23734 11.9999L3.94634 4.6499H4.88084L7.57934 11.9999H6.64484L5.97284 10.1099H2.84384L2.16134 11.9999H1.23734ZM3.10634 9.3959H5.71034L4.40834 5.7629L3.10634 9.3959Z",fill:"white"}),r.jsx("path",{d:"M8.41999 11.9999L11.129 4.6499H12.0635L14.762 11.9999H13.8275L13.1555 10.1099H10.0265L9.34399 11.9999H8.41999ZM10.289 9.3959H12.893L11.591 5.7629L10.289 9.3959Z",fill:"white"})]}),DJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M4.17135 12.126C3.73735 12.126 3.37685 12.0525 3.08985 11.9055C2.80285 11.7585 2.58935 11.5625 2.44935 11.3175C2.30935 11.0725 2.23935 10.8065 2.23935 10.5195C2.23935 9.98752 2.44235 9.57802 2.84835 9.29102C3.25435 9.00401 3.80735 8.86052 4.50735 8.86052H5.91435V8.79752C5.91435 8.34252 5.79535 7.99952 5.55735 7.76852C5.31935 7.53052 5.00085 7.41152 4.60185 7.41152C4.25885 7.41152 3.96135 7.49902 3.70935 7.67402C3.46435 7.84202 3.31035 8.09052 3.24735 8.41952H2.34435C2.37935 8.04152 2.50535 7.72302 2.72235 7.46402C2.94635 7.20502 3.22285 7.00902 3.55185 6.87602C3.88085 6.73602 4.23085 6.66602 4.60185 6.66602C5.32985 6.66602 5.87585 6.86202 6.23985 7.25402C6.61085 7.63902 6.79635 8.15352 6.79635 8.79752V12H6.00885L5.95635 11.0655C5.80935 11.3595 5.59235 11.6115 5.30535 11.8215C5.02535 12.0245 4.64735 12.126 4.17135 12.126ZM4.30785 11.3805C4.64385 11.3805 4.93085 11.293 5.16885 11.118C5.41385 10.943 5.59935 10.7155 5.72535 10.4355C5.85135 10.1555 5.91435 9.86152 5.91435 9.55352V9.54302H4.58085C4.06285 9.54302 3.69535 9.63402 3.47835 9.81602C3.26835 9.99102 3.16335 10.2115 3.16335 10.4775C3.16335 10.7505 3.26135 10.971 3.45735 11.139C3.66035 11.3 3.94385 11.3805 4.30785 11.3805Z",fill:"white"}),r.jsx("path",{d:"M10.062 12.126C9.62801 12.126 9.26751 12.0525 8.98051 11.9055C8.69351 11.7585 8.48001 11.5625 8.34001 11.3175C8.20001 11.0725 8.13001 10.8065 8.13001 10.5195C8.13001 9.98752 8.33301 9.57802 8.73901 9.29102C9.14501 9.00401 9.69801 8.86052 10.398 8.86052H11.805V8.79752C11.805 8.34252 11.686 7.99952 11.448 7.76852C11.21 7.53052 10.8915 7.41152 10.4925 7.41152C10.1495 7.41152 9.85201 7.49902 9.60001 7.67402C9.35501 7.84202 9.20101 8.09052 9.13801 8.41952H8.23501C8.27001 8.04152 8.39601 7.72302 8.61301 7.46402C8.83701 7.20502 9.11351 7.00902 9.44251 6.87602C9.77151 6.73602 10.1215 6.66602 10.4925 6.66602C11.2205 6.66602 11.7665 6.86202 12.1305 7.25402C12.5015 7.63902 12.687 8.15352 12.687 8.79752V12H11.8995L11.847 11.0655C11.7 11.3595 11.483 11.6115 11.196 11.8215C10.916 12.0245 10.538 12.126 10.062 12.126ZM10.1985 11.3805C10.5345 11.3805 10.8215 11.293 11.0595 11.118C11.3045 10.943 11.49 10.7155 11.616 10.4355C11.742 10.1555 11.805 9.86152 11.805 9.55352V9.54302H10.4715C9.95351 9.54302 9.58601 9.63402 9.36901 9.81602C9.15901 9.99102 9.05401 10.2115 9.05401 10.4775C9.05401 10.7505 9.15201 10.971 9.34801 11.139C9.55101 11.3 9.83451 11.3805 10.1985 11.3805Z",fill:"white"})]}),FJ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 4.5C2 3.11929 3.11929 2 4.5 2H6.5V1H4.5C2.567 1 1 2.567 1 4.5V6.5H2V4.5ZM14 4.5C14 3.11929 12.8807 2 11.5 2H9.5V1H11.5C13.433 1 15 2.567 15 4.5V6.5H14V4.5ZM4.5 14C3.11929 14 2 12.8807 2 11.5V9.5H1V11.5C1 13.433 2.567 15 4.5 15H6.5V14H4.5ZM14 11.5C14 12.8807 12.8807 14 11.5 14H9.5V15H11.5C13.433 15 15 13.433 15 11.5V9.5H14V11.5Z",fill:"white"})}),BJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 2C3.11929 2 2 3.11929 2 4.5V6.5H1V4.5C1 2.567 2.567 1 4.5 1H6.5V2H4.5Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5 2C12.8807 2 14 3.11929 14 4.5V6.5H15V4.5C15 2.567 13.433 1 11.5 1H9.5V2H11.5Z",fill:"white",fillOpacity:"0.3"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 14C3.11929 14 2 12.8807 2 11.5V9.5H1V11.5C1 13.433 2.567 15 4.5 15H6.5V14H4.5Z",fill:"white",fillOpacity:"0.3"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5 14C12.8807 14 14 12.8807 14 11.5V9.5H15V11.5C15 13.433 13.433 15 11.5 15H9.5V14H11.5Z",fill:"white",fillOpacity:"0.3"})]}),kJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5 2C12.8807 2 14 3.11929 14 4.5V6.5H15V4.5C15 2.567 13.433 1 11.5 1H9.5V2H11.5Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 14C3.11929 14 2 12.8807 2 11.5V9.5H1V11.5C1 13.433 2.567 15 4.5 15H6.5V14H4.5Z",fill:"white",fillOpacity:"0.3"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 2C3.11929 2 2 3.11929 2 4.5V6.5H1V4.5C1 2.567 2.567 1 4.5 1H6.5V2H4.5Z",fill:"white",fillOpacity:"0.3"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5 14C12.8807 14 14 12.8807 14 11.5V9.5H15V11.5C15 13.433 13.433 15 11.5 15H9.5V14H11.5Z",fill:"white",fillOpacity:"0.3"})]}),GJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 2C3.11929 2 2 3.11929 2 4.5V6.5H1V4.5C1 2.567 2.567 1 4.5 1H6.5V2H4.5Z",fill:"white",fillOpacity:"0.3"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5 2C12.8807 2 14 3.11929 14 4.5V6.5H15V4.5C15 2.567 13.433 1 11.5 1H9.5V2H11.5Z",fill:"white",fillOpacity:"0.3"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 14C3.11929 14 2 12.8807 2 11.5V9.5H1V11.5C1 13.433 2.567 15 4.5 15H6.5V14H4.5Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5 14C12.8807 14 14 12.8807 14 11.5V9.5H15V11.5C15 13.433 13.433 15 11.5 15H9.5V14H11.5Z",fill:"white",fillOpacity:"0.3"})]}),VJ=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 2C3.11929 2 2 3.11929 2 4.5V6.5H1V4.5C1 2.567 2.567 1 4.5 1H6.5V2H4.5Z",fill:"white",fillOpacity:"0.3"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5 2C12.8807 2 14 3.11929 14 4.5V6.5H15V4.5C15 2.567 13.433 1 11.5 1H9.5V2H11.5Z",fill:"white",fillOpacity:"0.3"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 14C3.11929 14 2 12.8807 2 11.5V9.5H1V11.5C1 13.433 2.567 15 4.5 15H6.5V14H4.5Z",fill:"white",fillOpacity:"0.3"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5 14C12.8807 14 14 12.8807 14 11.5V9.5H15V11.5C15 13.433 13.433 15 11.5 15H9.5V14H11.5Z",fill:"white"})]}),h5=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 4C5.567 4 4 5.567 4 7.5V13H3V7.5C3 5.01472 5.01472 3 7.5 3L13 3V4H7.5Z",fill:"white"})}),zI=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0849 1.53201L9.95803 1.48438L9.82449 1.5073L0.915403 3.03671L0.5 3.10802V3.5295V9.64715V9.9229L0.733214 10.07L9.21806 15.423L9.58523 15.6546L9.8661 15.3236L15.3813 8.82358L15.5 8.68363V8.50009V3.91185V3.56553L15.1758 3.44377L10.0849 1.53201ZM1.5 4.70718V9.3714L8.99999 14.103V7.35896L1.5 4.70718ZM9.99999 13.6201L14.5 8.31655V5.16678L9.99999 7.30861V13.6201ZM14.2664 4.17047L9.86015 2.51581L2.07967 3.85147L9.45661 6.45974L14.2664 4.17047Z",fill:"white"})}),YI=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("g",{clipPath:"url(#clip0_1632_1149)",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.13049 0.537078L5.9205 0.451172L5.71757 0.552638L0.776393 3.02323L0.5 3.16142V3.47044V10.8822V11.21L0.800637 11.3407L10.2712 15.4584L10.5149 15.5643L10.739 15.4217L15.2684 12.5393L15.5 12.392V12.1175V4.70573V4.37006L15.1893 4.24296L6.13049 0.537078ZM2.18115 3.43888L5.96185 1.54853L13.9165 4.8027L10.4263 7.02373L2.18115 3.43888ZM1.5 4.23316V10.5544L9.97059 14.2372V7.91602L1.5 4.23316ZM10.9706 14.089L14.5 11.843V5.61668L10.9706 7.86267V14.089Z",fill:"white"})}),r.jsx("defs",{children:r.jsx("clipPath",{id:"clip0_1632_1149",children:r.jsx("rect",{width:"16",height:"16",fill:"white"})})})]}),AR=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.1813 3.37981C10.1813 2.06548 11.249 1 12.566 1C13.8831 1 14.9508 2.06548 14.9508 3.37981C14.9508 4.69371 13.8838 5.75891 12.5673 5.75963H12.5647C11.2483 5.75891 10.1813 4.69371 10.1813 3.37981ZM4.34293 15.6736V2.64449H9.11247V15.6736H4.34293ZM1 18.2319L1 5.44063L3.27412 3.1766V15.9625L1 18.2319ZM19 11.2499C19 12.4122 18.551 13.4695 17.8164 14.2591L17.8147 14.2607L17.5776 14.497C16.7869 15.2274 15.7294 15.6736 14.5671 15.6736H10.1813L10.1813 6.82621L14.5671 6.82621C17.0153 6.82621 19 8.80676 19 11.2499ZM1.80284 18.9626L4.02988 16.7402H8.65204L6.45637 18.9626H1.80284ZM14.567 16.7775C14.8458 16.7775 15.1197 16.7568 15.3874 16.7168L14.2515 17.8487C13.5129 18.5858 12.5112 18.9999 11.4666 18.9999H7.95724L10.1529 16.7775H14.567Z",fill:"white"})}),HJ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.14099 2.85096C8.14099 1.8287 8.97143 1 9.99582 1C11.0202 1 11.8506 1.8287 11.8506 2.85096C11.8506 3.87288 11.0207 4.70137 9.99681 4.70192H9.99479C8.97087 4.70137 8.14099 3.87288 8.14099 2.85096ZM3.60005 12.4128V2.27905H7.3097V12.4128H3.60005ZM1 14.4025L1 4.45381L2.76876 2.69291V12.6375L1 14.4025ZM15 8.97212C15 9.87613 14.6508 10.6985 14.0794 11.3126L14.0781 11.3139L13.8937 11.4977C13.2787 12.0657 12.4562 12.4128 11.5522 12.4128H8.14099L8.141 5.53148L11.5522 5.53149C13.4564 5.53149 15 7.07191 15 8.97212ZM1.62443 14.9709L3.35657 13.2423H6.95159L5.24385 14.9709H1.62443ZM11.5522 13.2713C11.7689 13.2713 11.982 13.2552 12.1902 13.2241L11.3068 14.1045C10.7323 14.6778 9.95315 14.9998 9.14071 14.9998H6.41122L8.11896 13.2713H11.5522Z",fill:"white"})}),UJ=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 2H13.5C14.8807 2 16 3.11929 16 4.5C16 5.88071 14.8807 7 13.5 7H11H10H7.5C6.11929 7 5 5.88071 5 4.5C5 3.11929 6.11929 2 7.5 2ZM17 4.5C17 5.77316 16.3202 6.88755 15.3038 7.5C16.3202 8.11245 17 9.22684 17 10.5C17 12.433 15.433 14 13.5 14C12.5207 14 11.6353 13.5978 11 12.9495V13V14V16.4607C11 18.4154 9.41539 20 7.46067 20C5.5494 20 4 18.4311 4 16.5198C4 15.2448 4.68176 14.1204 5.70063 13.5027C4.68176 12.8908 4 11.775 4 10.5C4 9.22684 4.67979 8.11245 5.69621 7.5C4.67979 6.88755 4 5.77316 4 4.5C4 2.567 5.567 1 7.5 1H13.5C15.433 1 17 2.567 17 4.5ZM7.5 13H10V10.5V8H7.5C6.11929 8 5 9.11929 5 10.5C5 11.8807 6.11929 13 7.5 13ZM10 14H7.5C6.1266 14 5 15.1317 5 16.5198C5 17.8861 6.109 19 7.46067 19C8.8631 19 10 17.8631 10 16.4607V14ZM11 8H11.0505C11.0335 8.01666 11.0167 8.0335 11 8.05051V8ZM13.5 13C12.1193 13 11 11.8807 11 10.5C11 9.11929 12.1193 8 13.5 8C14.8807 8 16 9.11929 16 10.5C16 11.8807 14.8807 13 13.5 13Z",fill:"white"})}),TR=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.29295 2H10.707C11.0069 2 11.25 2.24309 11.25 2.54295V3.27673C11.25 3.92709 11.6603 4.46176 12.2012 4.68611C12.7461 4.91212 13.4125 4.81969 13.8701 4.36205L14.3892 3.84295C14.6011 3.63103 14.9447 3.63103 15.1566 3.84295L16.157 4.8433C16.3689 5.05522 16.3689 5.39879 16.157 5.6107L15.6379 6.12975C15.1803 6.58742 15.0878 7.25383 15.3139 7.79874C15.5382 8.33963 16.0729 8.75 16.7233 8.75H17.4571C17.7569 8.75 18 8.99309 18 9.29295V10.7071C18 11.0069 17.7569 11.25 17.4571 11.25H16.7233C16.0729 11.25 15.5382 11.6604 15.3139 12.2013C15.0878 12.7462 15.1803 13.4126 15.6379 13.8702L16.157 14.3893C16.3689 14.6012 16.3689 14.9448 16.157 15.1567L15.1567 16.157C14.9447 16.369 14.6011 16.369 14.3892 16.1571L13.8701 15.638C13.4125 15.1803 12.7461 15.0879 12.2012 15.3139C11.6603 15.5382 11.25 16.0729 11.25 16.7233V17.4571C11.25 17.7569 11.0069 18 10.7071 18H9.29295C8.99309 18 8.75 17.7569 8.75 17.4571V16.7233C8.75 16.0729 8.33963 15.5382 7.79874 15.3139C7.25383 15.0878 6.58742 15.1803 6.12975 15.6379L5.6107 16.157C5.39878 16.3689 5.0552 16.3689 4.84328 16.157L3.84295 15.1567C3.63102 14.9447 3.63102 14.6011 3.84295 14.3892L4.36205 13.8701C4.81969 13.4125 4.91212 12.7461 4.68611 12.2012C4.46176 11.6603 3.92709 11.25 3.27673 11.25H2.54295C2.24309 11.25 2 11.0069 2 10.707V9.29295C2 8.99309 2.24309 8.75 2.54295 8.75H3.27673C3.92709 8.75 4.46176 8.33965 4.68611 7.79878C4.91212 7.25389 4.81969 6.58752 4.36205 6.12988L3.84296 5.61079C3.63103 5.39887 3.63103 5.05527 3.84296 4.84335L4.84331 3.843C5.05522 3.63109 5.39879 3.63109 5.6107 3.843L6.12975 4.36205C6.58742 4.81972 7.25383 4.91215 7.79874 4.68613C8.33963 4.46177 8.75 3.92708 8.75 3.27668V2.54295C8.75 2.24309 8.99309 2 9.29295 2ZM7.75 2.54295C7.75 1.6908 8.4408 1 9.29295 1H10.707C11.5592 1 12.25 1.6908 12.25 2.54295V3.27673C12.25 3.4909 12.3865 3.68036 12.5844 3.76242C12.7823 3.84452 13.0115 3.80647 13.163 3.65494L13.6821 3.13585C14.2846 2.5334 15.2613 2.5334 15.8638 3.13585L16.8641 4.1362C17.4665 4.73863 17.4665 5.71537 16.8641 6.31781L16.3451 6.83686C16.1935 6.98841 16.1554 7.21763 16.2376 7.4156C16.3196 7.61345 16.5091 7.75 16.7233 7.75H17.4571C18.3092 7.75 19 8.4408 19 9.29295V10.7071C19 11.5592 18.3092 12.25 17.4571 12.25H16.7233C16.5091 12.25 16.3196 12.3865 16.2376 12.5844C16.1554 12.7824 16.1935 13.0116 16.3451 13.1631L16.8641 13.6822C17.4666 14.2846 17.4666 15.2614 16.8641 15.8638L15.8638 16.8642C15.2613 17.4666 14.2846 17.4666 13.6821 16.8642L13.163 16.3451C13.0115 16.1935 12.7823 16.1555 12.5844 16.2376C12.3865 16.3196 12.25 16.5091 12.25 16.7233V17.4571C12.25 18.3092 11.5592 19 10.7071 19H9.29295C8.4408 19 7.75 18.3092 7.75 17.4571V16.7233C7.75 16.5091 7.61345 16.3196 7.4156 16.2376C7.21763 16.1554 6.98841 16.1935 6.83686 16.3451L6.3178 16.8641C5.71536 17.4666 4.73862 17.4666 4.13618 16.8641L3.13584 15.8638C2.53339 15.2613 2.53339 14.2846 3.13584 13.6821L3.65494 13.163C3.80647 13.0115 3.84452 12.7823 3.76242 12.5844C3.68036 12.3865 3.4909 12.25 3.27673 12.25H2.54295C1.6908 12.25 1 11.5592 1 10.707V9.29295C1 8.4408 1.6908 7.75 2.54295 7.75H3.27673C3.4909 7.75 3.68036 7.61347 3.76242 7.41564C3.84452 7.2177 3.80647 6.98851 3.65494 6.83699L3.13585 6.31789C2.5334 5.71545 2.5334 4.73869 3.13585 4.13624L4.1362 3.13589C4.73863 2.53346 5.71537 2.53346 6.31781 3.13589L6.83686 3.65494C6.98841 3.8065 7.21763 3.84455 7.4156 3.76244C7.61345 3.68037 7.75 3.49088 7.75 3.27668V2.54295ZM10 13C11.6569 13 13 11.6569 13 10C13 8.34315 11.6569 7 10 7C8.34315 7 7 8.34315 7 10C7 11.6569 8.34315 13 10 13ZM12 10C12 11.1046 11.1046 12 10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10Z",fill:"white"})}),PR=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.0057 1L9.93917 1L9.93917 2.00267L13.2586 2.00268L9.29997 5.79152L10.0057 6.5L14.0084 2.66678L14.0084 6H15.0057L15.0057 1ZM1 15L6.06651 15L6.06651 13.9973L2.74712 13.9973L6.70571 10.2085L5.99999 9.5L1.99732 13.3332L1.99732 10H1V15Z",fill:"white"}),r.jsx("path",{opacity:"0.4",fillRule:"evenodd",clipRule:"evenodd",d:"M2 1C1.44772 1 1 1.44772 1 2V6H2V2H6V1H2ZM10 14L14 14V10H15V14C15 14.5523 14.5523 15 14 15L10 15V14Z",fill:"white"})]}),zJ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.00001 6L6.00001 1.56014L5.08849 1.56014L5.08849 4.46897L1.64409 1L1.00001 1.61844L4.48476 5.12604L1.45456 5.12603V6L6.00001 6ZM10 6.00003L14.4399 6.00004L14.4399 5.08852L11.531 5.08851L15 1.64411L14.3816 1.00004L10.874 4.48478L10.874 1.45458L10 1.45458L10 6.00003ZM10 10L10 14.4399L10.9115 14.4399L10.9115 11.5311L14.3559 15L15 14.3816L11.5153 10.874L14.5455 10.874V10L10 10ZM1.56014 10L6 10L6 14.5455H5.12603L5.12604 11.5153L1.61844 15L1 14.356L4.46897 10.9116L1.56014 10.9116L1.56014 10Z",fill:"white"})}),YJ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 2.5C2 2.22386 2.22386 2 2.5 2H5V1H2.5C1.67157 1 1 1.67157 1 2.5V5H2V2.5ZM14 2.5C14 2.22386 13.7761 2 13.5 2H11V1H13.5C14.3284 1 15 1.67157 15 2.5V5H14V2.5ZM2.5 14C2.22386 14 2 13.7761 2 13.5V11H1V13.5C1 14.3284 1.67157 15 2.5 15H5V14H2.5ZM14 13.5C14 13.7761 13.7761 14 13.5 14H11V15H13.5C14.3284 15 15 14.3284 15 13.5V11H14V13.5Z",fill:"white"})}),bc=r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M19 11L9.67 10.99L4.48 16.54L3.78 15.8L9 10.21L9.01 1H10L9.99 10L19 10.01V11Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.8475 4.4345L12.2412 8.13904L11.4674 7.38569L15.0736 3.68115L15.8475 4.4345ZM6 9.99993H1V10.9999H6V9.99993ZM10 18.9999V13.9999H9V18.9999H10Z",fill:"white",fillOpacity:"0.6"})]}),OR=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.6132 3.60428L9.66604 6.63176L8.9495 5.93421L11.8967 2.90674L12.6132 3.60428ZM5 7.99979H1V8.99979H5V7.99979ZM8 14.9998V10.9998H7V14.9998H8Z",fill:"white",fillOpacity:"0.6"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.00001 8.29289V1H8.00001V8H15V9H7.70711L3.35356 13.3536L2.64645 12.6464L7.00001 8.29289Z",fill:"white"})]}),MR=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.83124 1.05976C7.68326 0.980078 7.50513 0.980079 7.35714 1.05976L5.83124 1.8814L5.35714 1.00093L6.88304 0.179293C7.32701 -0.0597644 7.86138 -0.0597645 8.30534 0.179293L9.83124 1.00093L9.35714 1.8814L7.83124 1.05976ZM12.7371 2.32894L14.2112 3.12269C14.4507 3.25168 14.6459 3.44052 14.7821 3.66479C14.9221 3.89531 15 4.16369 15 4.44339V6.98277H14V4.68321L12.8799 5.28633L12.4058 4.40586L13.4454 3.8461L12.2629 3.20941L12.7371 2.32894ZM1.78886 3.25936L3.26295 2.46561L3.73705 3.34608L2.55464 3.98277L3.5942 4.54254L3.1201 5.42301L2.00001 4.81988V6.98277H1.00001V4.58007C1.00001 4.30037 1.07791 4.03199 1.21791 3.80146C1.3541 3.5772 1.5493 3.38835 1.78886 3.25936ZM7.73705 6.91491L9.35714 6.04255L9.83124 6.92302L8.23705 7.78143V9.98279H7.23705V7.78143L5.5 6.8461L5.9741 5.96563L7.73705 6.91491ZM1 10.8855V9H2V10.8855C2 11.0694 2.101 11.2385 2.26295 11.3257L3.23705 11.8502L2.76295 12.7307L1.78885 12.2062C1.30299 11.9446 1 11.4373 1 10.8855ZM15 9V10.8855C15 11.4373 14.697 11.9446 14.2112 12.2062L13.2371 12.7307L12.763 11.8502L13.7371 11.3257C13.899 11.2385 14 11.0694 14 10.8855V9H15ZM7.23705 13.7986V13H8.23705V13.7986L9.5 13.1186L9.9741 13.9991L8.4482 14.8207C8.22623 14.9402 7.98156 15 7.73705 15C7.49254 15 7.24787 14.9402 7.0259 14.8207L5.5 13.9991L5.9741 13.1186L7.23705 13.7986Z",fill:"white"})}),LR=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M9.33834 1.41611C9.55544 0.787417 10.4446 0.787418 10.6617 1.41611L11.5572 4.00959C11.6274 4.21286 11.7871 4.37258 11.9904 4.44277L14.5839 5.33834C15.2126 5.55544 15.2126 6.44457 14.5839 6.66166L11.9904 7.55723C11.7871 7.62742 11.6274 7.78714 11.5572 7.99041L10.6617 10.5839C10.4446 11.2126 9.55544 11.2126 9.33834 10.5839L8.44277 7.99041C8.37258 7.78714 8.21286 7.62742 8.00959 7.55723L5.41611 6.66166C4.78742 6.44456 4.78742 5.55544 5.41611 5.33834L8.00959 4.44277C8.21286 4.37258 8.37258 4.21286 8.44277 4.00959L9.33834 1.41611Z",fill:"white"}),r.jsx("path",{d:"M3.33834 9.41611C3.55544 8.78742 4.44456 8.78742 4.66166 9.41611L5.04387 10.5229C5.11406 10.7262 5.27378 10.8859 5.47705 10.9561L6.58389 11.3383C7.21258 11.5554 7.21258 12.4446 6.58389 12.6617L5.47705 13.0439C5.27378 13.1141 5.11406 13.2738 5.04387 13.4771L4.66166 14.5839C4.44456 15.2126 3.55544 15.2126 3.33834 14.5839L2.95613 13.4771C2.88594 13.2738 2.72622 13.1141 2.52295 13.0439L1.41611 12.6617C0.787418 12.4446 0.787418 11.5554 1.41611 11.3383L2.52295 10.9561C2.72622 10.8859 2.88594 10.7262 2.95613 10.5229L3.33834 9.41611Z",fill:"white"})]}),RR=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 8C14 11.3137 11.3137 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8ZM15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8ZM9.26583 6.36532L8.79351 5.48275C8.45433 4.84896 7.54567 4.84896 7.20649 5.48275L6.73417 6.36532C6.65033 6.52198 6.52198 6.65033 6.36532 6.73417L5.48275 7.20649C4.84896 7.54567 4.84896 8.45433 5.48275 8.79351L6.36532 9.26583C6.52198 9.34967 6.65033 9.47802 6.73417 9.63468L7.20649 10.5173C7.54567 11.151 8.45433 11.151 8.79351 10.5173L9.26583 9.63468C9.34967 9.47802 9.47802 9.34967 9.63468 9.26583L10.5173 8.79351C11.151 8.45433 11.151 7.54567 10.5173 7.20649L9.63468 6.73417C9.47802 6.65033 9.34967 6.52198 9.26583 6.36532Z",fill:"white"})}),w_=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{d:"M14 7V8L2 8L2 7L14 7Z",fill:"white"})}),Eo=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.04167 1L6.95833 1V6.95833H1L1 8.04167H6.95833L6.95833 14H8.04167V8.04167H14V6.95833L8.04167 6.95833V1Z",fill:"white"})}),WJ=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.67075 7.37629L2.32925 6.62372L10 13.3356L17.6707 6.62372L18.3293 7.37629L10 14.6644L1.67075 7.37629Z",fill:"white"})}),La=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.64645 6.35353L4.35356 5.64642L8.00001 9.29287L11.6465 5.64642L12.3536 6.35353L8.00001 10.7071L3.64645 6.35353Z",fill:"white"})}),d5=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.35356 12.3536L5.64645 11.6465L9.2929 8.00002L5.64645 4.35358L6.35356 3.64647L10.7071 8.00002L6.35356 12.3536Z",fill:"white"})}),x_=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.64644 3.64642L10.3535 4.35353L6.7071 7.99998L10.3535 11.6464L9.64644 12.3535L5.29289 7.99998L9.64644 3.64642Z",fill:"white"})}),NR=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.3535 9.64647L11.6464 10.3536L7.99999 6.70713L4.35355 10.3536L3.64644 9.64647L7.99999 5.29292L12.3535 9.64647Z",fill:"white"})}),XJ=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.35356 11.3535L8.35356 8.35353L8.70711 7.99998L8.35356 7.64642L5.35356 4.64642L4.64645 5.35353L7.2929 7.99998L4.64645 10.6464L5.35356 11.3535ZM9.35356 11.3535L12.3536 8.35353L12.7071 7.99998L12.3536 7.64642L9.35356 4.64642L8.64645 5.35353L11.2929 7.99998L8.64645 10.6464L9.35356 11.3535Z",fill:"white"})}),q0=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{d:"M10 8L6 11V5L10 8Z",fill:"white"})}),jR=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 7.5C12 9.98528 9.98528 12 7.5 12C5.01472 12 3 9.98528 3 7.5C3 5.01472 5.01472 3 7.5 3C9.98528 3 12 5.01472 12 7.5ZM10.8567 11.8572C9.92798 12.5738 8.76377 13 7.5 13C4.46243 13 2 10.5376 2 7.5C2 4.46243 4.46243 2 7.5 2C10.5376 2 13 4.46243 13 7.5C13 8.91352 12.4668 10.2025 11.5905 11.1768L14.1923 13.7785L13.4852 14.4857L10.8567 11.8572Z",fill:"white"})}),ZJ=r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsxs("g",{clipPath:"url(#clip0_151_38)",children:[r.jsx("path",{d:"M2.24936 5.33156L10.0903 9.68524L17.9309 5.33156L10.0902 0.812802L2.24936 5.33156Z",fill:"white"}),r.jsx("path",{opacity:"0.4",fillRule:"evenodd",clipRule:"evenodd",d:"M17.3027 5.37091L10.3333 1.34713C10.1271 1.22804 9.87294 1.22804 9.66667 1.34713L2.69728 5.37091L10 9.42802L17.3027 5.37091ZM2.33975 6.31625V14.0377C2.33975 14.2759 2.46682 14.496 2.67309 14.6151L9.5 18.5566V10.2942L2.33975 6.31625ZM10.5 18.5566L17.3269 14.6151C17.5332 14.496 17.6603 14.2759 17.6603 14.0377V6.31624L10.5 10.2942V18.5566ZM9.16667 0.481104C9.68234 0.183382 10.3177 0.183382 10.8333 0.481103L17.8269 4.51885C18.3426 4.81657 18.6603 5.36679 18.6603 5.96223V14.0377C18.6603 14.6332 18.3426 15.1834 17.8269 15.4811L10.8333 19.5189C10.3177 19.8166 9.68234 19.8166 9.16667 19.5189L2.17309 15.4811C1.65742 15.1834 1.33975 14.6332 1.33975 14.0377V5.96223C1.33975 5.36679 1.65742 4.81657 2.17309 4.51885L9.16667 0.481104Z",fill:"white"})]}),r.jsx("defs",{children:r.jsx("clipPath",{id:"clip0_151_38",children:r.jsx("rect",{width:"20",height:"20",fill:"white"})})})]}),VC=r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C12 3.10457 11.1046 4 10 4C8.89543 4 8 3.10457 8 2C8 0.89543 8.89543 0 10 0C11.1046 0 12 0.89543 12 2ZM10 3C10.5523 3 11 2.55228 11 2C11 1.44772 10.5523 1 10 1C9.44772 1 9 1.44772 9 2C9 2.55228 9.44772 3 10 3ZM5 14C5 15.1046 4.10457 16 3 16C1.89543 16 1 15.1046 1 14C1 12.8954 1.89543 12 3 12C4.10457 12 5 12.8954 5 14ZM3 15C3.55228 15 4 14.5523 4 14C4 13.4477 3.55228 13 3 13C2.44772 13 2 13.4477 2 14C2 14.5523 2.44772 15 3 15ZM17 16C18.1046 16 19 15.1046 19 14C19 12.8954 18.1046 12 17 12C15.8954 12 15 12.8954 15 14C15 15.1046 15.8954 16 17 16ZM18 14C18 14.5523 17.5523 15 17 15C16.4477 15 16 14.5523 16 14C16 13.4477 16.4477 13 17 13C17.5523 13 18 13.4477 18 14Z",fill:"white"}),r.jsx("path",{opacity:"0.4",fillRule:"evenodd",clipRule:"evenodd",d:"M10.933 2.3606C10.9763 2.24873 11 2.12714 11 2C11 1.44772 10.5523 1 10 1C10.2691 1 10.5383 1.06876 10.7794 1.20628L17.3206 4.93643C17.8029 5.21147 18.1 5.71977 18.1 6.26985V13.7302C18.1 14.2802 17.8029 14.7885 17.3206 15.0636L10.7794 18.7937C10.2971 19.0688 9.70288 19.0688 9.22057 18.7937L2.67942 15.0636C2.19711 14.7885 1.89999 14.2802 1.89999 13.7302V6.26985C1.89999 5.71977 2.19711 5.21147 2.67942 4.93643L9.22057 1.20628C9.46173 1.06876 9.73086 0.999999 10 1C9.44771 1 9 1.44772 9 2C9 2.12714 9.02373 2.24873 9.06699 2.3606L3.19902 5.70686L9.99999 9.48522L16.801 5.70686L10.933 2.3606ZM3.78076 14.6249C3.5975 14.8536 3.31585 15 3 15C2.44772 15 2 14.5523 2 14C2 13.5038 2.36138 13.092 2.8353 13.0135V6.53436L9.54999 10.2648L9.54999 17.9148L3.78076 14.6249ZM18 14C18 14.5523 17.5523 15 17 15C16.6841 15 16.4025 14.8536 16.2192 14.6249L10.45 17.9148L10.45 10.2648L17.1647 6.53436V13.0135C17.6386 13.092 18 13.5038 18 14Z",fill:"white"})]}),KJ=r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{opacity:"0.4",fillRule:"evenodd",clipRule:"evenodd",d:"M17.3269 5.38488L10.3333 1.34713C10.1271 1.22804 9.87294 1.22804 9.66667 1.34713L2.67309 5.38488C2.46682 5.50397 2.33975 5.72405 2.33975 5.96223V14.0377C2.33975 14.2759 2.46682 14.496 2.67309 14.6151L9.66667 18.6528C9.87294 18.7719 10.1271 18.7719 10.3333 18.6528L17.3269 14.6151C17.5332 14.496 17.6603 14.2759 17.6603 14.0377V5.96223C17.6603 5.72405 17.5332 5.50397 17.3269 5.38488ZM10.8333 0.481103C10.3177 0.183382 9.68234 0.183382 9.16667 0.481104L2.17309 4.51885C1.65742 4.81657 1.33975 5.36679 1.33975 5.96223V14.0377C1.33975 14.6332 1.65742 15.1834 2.17309 15.4811L9.16667 19.5189C9.68234 19.8166 10.3177 19.8166 10.8333 19.5189L17.8269 15.4811C18.3426 15.1834 18.6603 14.6332 18.6603 14.0377V5.96223C18.6603 5.36679 18.3426 4.81657 17.8269 4.51885L10.8333 0.481103Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.3027 5.37091L17.3269 5.38489C17.5332 5.50397 17.6603 5.72406 17.6603 5.96224V6.31624L10.5 10.2942V18.5566L10.3333 18.6528C10.1271 18.7719 9.87294 18.7719 9.66667 18.6528L9.5 18.5566L9.5 10.2942L2.33975 6.31624V5.96224C2.33975 5.72406 2.46682 5.50397 2.67309 5.38489L2.69729 5.37091L10 9.42802L17.3027 5.37091Z",fill:"white"})]}),qJ=r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("mask",{id:"mask0_929_391",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"2",y:"0",width:"16",height:"20",children:r.jsx("path",{d:"M9.11155 0.44053C9.67133 0.162971 10.3287 0.162971 10.8884 0.44053L16.8884 3.41553C17.5693 3.75312 18 4.44741 18 5.20736V14.2212C18 14.9812 17.5693 15.6755 16.8884 16.0131L10.8884 18.9881C10.3287 19.2656 9.67133 19.2656 9.11155 18.9881L3.11155 16.0131C2.4307 15.6755 2 14.9812 2 14.2212V5.20736C2 4.44741 2.4307 3.75312 3.11155 3.41553L9.11155 0.44053Z",fill:"white"})}),r.jsxs("g",{mask:"url(#mask0_929_391)",children:[r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.5 12L9.5 8L10.5 8L10.5 12L9.5 12Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.11657 3.58089L10.2594 7.83089L9.74057 8.68338L0.597717 4.43338L1.11657 3.58089Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.8834 3.58089L9.74057 7.83089L10.2594 8.68338L19.4023 4.43338L18.8834 3.58089Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.4442 1.33645L16.4442 4.31145C16.7847 4.48024 17 4.82739 17 5.20736V8.60407L10 11.858L3 8.60407V5.20736C3 4.82739 3.21535 4.48024 3.55578 4.31145L9.55577 1.33645C9.83567 1.19767 10.1643 1.19767 10.4442 1.33645ZM18 5.20736V8.13922L18.8834 7.72857L19.4023 8.58105L18 9.23289V14.2212C18 14.9812 17.5693 15.6755 16.8884 16.0131L10.8884 18.9881C10.3287 19.2656 9.67133 19.2656 9.11155 18.9881L3.11155 16.0131C2.4307 15.6755 2 14.9812 2 14.2212V9.23289L0.597717 8.58105L1.11657 7.72857L2 8.13922V5.20736C2 4.44741 2.4307 3.75312 3.11155 3.41553L9.11155 0.44053C9.67133 0.162971 10.3287 0.162971 10.8884 0.44053L16.8884 3.41553C17.5693 3.75312 18 4.44741 18 5.20736ZM10.5 12.7192L17 9.69774V14.2212C17 14.6012 16.7847 14.9483 16.4442 15.1171L10.5 18.0645V12.7192ZM9.5 12.7192L3 9.69774V14.2212C3 14.6012 3.21535 14.9483 3.55578 15.1171L9.5 18.0645V12.7192Z",fill:"white"}),r.jsx("path",{d:"M10 12L2.57146 8.7143V4.85715L3.14289 4.25001L10 1.21429L16.2857 3.64287L17.4286 4.85715V8.7143L10 12Z",fill:"white",fillOpacity:"0.2"})]})]}),QJ=r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("mask",{id:"mask0_932_618",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"2",y:"0",width:"16",height:"20",children:r.jsx("path",{d:"M9.11155 0.44053C9.67133 0.162971 10.3287 0.162971 10.8884 0.44053L16.8884 3.41553C17.5693 3.75312 18 4.44741 18 5.20736V14.2212C18 14.9812 17.5693 15.6755 16.8884 16.0131L10.8884 18.9881C10.3287 19.2656 9.67133 19.2656 9.11155 18.9881L3.11155 16.0131C2.4307 15.6755 2 14.9812 2 14.2212V5.20736C2 4.44741 2.4307 3.75312 3.11155 3.41553L9.11155 0.44053Z",fill:"#C4C4C4"})}),r.jsxs("g",{mask:"url(#mask0_932_618)",children:[r.jsx("path",{opacity:"0.4",fillRule:"evenodd",clipRule:"evenodd",d:"M16.4442 4.31145L10.4442 1.33645C10.1643 1.19767 9.83567 1.19767 9.55577 1.33645L3.55578 4.31145C3.4297 4.37396 3.32078 4.46093 3.2336 4.56498L10 7.7103L16.7664 4.56498C16.6792 4.46093 16.5703 4.37396 16.4442 4.31145ZM10.5 13.3571V8.57155L17 5.55006V14.2212C17 14.6012 16.7847 14.9483 16.4442 15.1171L10.5 18.0645V13.3571H9.5V18.0645L3.55578 15.1171C3.21535 14.9483 3 14.6012 3 14.2212V5.55006L9.5 8.57155V13.3571H10.5ZM18 5.20736C18 5.16701 17.9988 5.12684 17.9964 5.0869L19.4023 4.43338L18.8834 3.58089L17.6889 4.13615C17.4966 3.83294 17.2227 3.58125 16.8884 3.41553L10.8884 0.44053C10.3287 0.162971 9.67133 0.162971 9.11155 0.44053L3.11155 3.41553C2.77732 3.58125 2.50337 3.83294 2.31107 4.13615L1.11657 3.58089L0.597717 4.43338L2.00362 5.0869C2.00121 5.12684 2 5.16701 2 5.20736V14.2212C2 14.9812 2.4307 15.6755 3.11155 16.0131L9.11155 18.9881C9.67133 19.2656 10.3287 19.2656 10.8884 18.9881L16.8884 16.0131C17.5693 15.6755 18 14.9812 18 14.2212V5.20736Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.4198 9.41919L9.9749 13.8923L0.59772 9.53338L1.11657 8.6809L10.0251 12.822L18.9802 8.5808L19.4198 9.41919Z",fill:"white"})]})]}),JJ=r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2.44098L14.118 4.5L10 6.55901L5.88197 4.5L10 2.44098ZM8.11804 4.5L10 5.44098L11.882 4.5L10 3.55901L8.11804 4.5Z",fill:"white"}),r.jsx("path",{opacity:"0.4",fillRule:"evenodd",clipRule:"evenodd",d:"M10.4442 1.33645L16.4442 4.31145C16.5703 4.37396 16.6792 4.46093 16.7664 4.56498L10 7.7103L3.2336 4.56498C3.32078 4.46093 3.4297 4.37396 3.55578 4.31145L9.55577 1.33645C9.83567 1.19767 10.1643 1.19767 10.4442 1.33645ZM10.5 8.57155V13.3571H9.5V8.57155L3 5.55006V14.2212C3 14.6012 3.21535 14.9483 3.55578 15.1171L9.5 18.0645V13.3571H10.5V18.0645L16.4442 15.1171C16.7847 14.9483 17 14.6012 17 14.2212V5.55006L10.5 8.57155ZM17.9999 5.18918C18 5.19523 18 5.20129 18 5.20736V14.2212C18 14.9812 17.5693 15.6755 16.8884 16.0131L10.8884 18.9881C10.3287 19.2656 9.67133 19.2656 9.11155 18.9881L3.11155 16.0131C3.02644 15.9709 2.94525 15.9231 2.86831 15.8703C2.32975 15.5009 2 14.8862 2 14.2212V5.20736C2 5.17281 2.00089 5.1384 2.00265 5.10415C2.00295 5.09839 2.00327 5.09264 2.00362 5.0869H2.00362C2.02424 4.74392 2.13243 4.4178 2.31107 4.13615C2.50337 3.83294 2.77732 3.58125 3.11155 3.41553L9.11155 0.44053C9.67133 0.162971 10.3287 0.162971 10.8884 0.44053L16.8884 3.41553C17.2227 3.58125 17.4966 3.83294 17.6889 4.13615C17.8676 4.4178 17.9758 4.74392 17.9964 5.0869C17.9984 5.12084 17.9996 5.15494 17.9999 5.18918Z",fill:"white"})]}),$J=r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{opacity:"0.4",fillRule:"evenodd",clipRule:"evenodd",d:"M10.4432 1.33473L14.9514 3.56378C15.1478 3.66086 15.3068 3.81972 15.4041 4.01594L16.8959 7.02441C16.9644 7.16249 17 7.31453 17 7.46866V14.2212C17 14.6012 16.7847 14.9484 16.4442 15.1172L10.5 18.0645V10H9.5L9.5 18.0645L3.55578 15.1172C3.21535 14.9484 3 14.6012 3 14.2212V7.46866C3 7.31453 3.03563 7.16249 3.1041 7.02441L4.5959 4.01595C4.6932 3.81972 4.85224 3.66086 5.04858 3.56378L9.55677 1.33473C9.83612 1.19661 10.1639 1.19661 10.4432 1.33473ZM9.11355 0.43832C9.67223 0.162081 10.3278 0.16208 10.8864 0.438319L15.3946 2.66737C15.7873 2.86153 16.1054 3.17924 16.3 3.5717L17.7918 6.58016C17.9287 6.85633 18 7.16041 18 7.46866V14.2212C18 14.9812 17.5693 15.6755 16.8884 16.0131L10.8884 18.9881C10.3287 19.2656 9.67133 19.2656 9.11155 18.9881L3.11155 16.0131C2.4307 15.6755 2 14.9812 2 14.2212V7.46866C2 7.16041 2.07125 6.85633 2.20819 6.58016L3.7 3.5717C3.8946 3.17924 4.21267 2.86153 4.60535 2.66737L9.11355 0.43832Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.08965 6.86976C2.11983 6.77236 2.15751 6.67714 2.20247 6.58496L2.50325 5.96835L2.51002 5.9715L3.7 3.5717C3.89461 3.17924 4.21268 2.86153 4.60536 2.66737L9.11356 0.43832C9.67224 0.16208 10.3278 0.16208 10.8865 0.438319L15.3947 2.66737C15.7873 2.86153 16.1054 3.17924 16.3 3.5717L17.49 5.9715L17.4968 5.96836L17.7975 6.58496C17.8425 6.67714 17.8802 6.77236 17.9104 6.86976L10.2676 10.4225C10.1902 10.4716 10.0984 10.5 10 10.5C9.90158 10.5 9.80979 10.4716 9.73242 10.4225L2.08965 6.86976ZM10.5 9.22075L16.5829 6.39316L15.5443 4.29864L10.5 6.57487V9.22075ZM9.5 9.22075L3.41712 6.39316L4.45806 4.29393L9.5 6.5746V9.22075ZM10.0003 5.71367L5.14362 3.51679L9.55678 1.33473C9.83613 1.19661 10.1639 1.19661 10.4432 1.33473L14.8623 3.5197L10.0003 5.71367Z",fill:"white"})]}),t$=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.4138 1.28656L12.3808 3.08972C12.6077 3.19287 12.7879 3.37706 12.8861 3.60617L13.9191 6.01661C13.9725 6.14109 14 6.2751 14 6.41053V11.4596C14 11.8481 13.775 12.2015 13.4229 12.3658L8.5 14.6631V11V6.50002H7.5V11V14.6631L2.57712 12.3658C2.22504 12.2015 2 11.8481 2 11.4596V6.41053C2 6.2751 2.02751 6.14109 2.08086 6.01661L3.1139 3.60617C3.21209 3.37706 3.39231 3.19287 3.61924 3.08973L7.5862 1.28656C7.84912 1.16705 8.15088 1.16705 8.4138 1.28656ZM7.17239 0.376197C7.69824 0.137174 8.30175 0.137174 8.82761 0.376197L12.7946 2.17936C13.2484 2.38566 13.6089 2.75402 13.8052 3.21225L14.8383 5.62269C14.945 5.87164 15 6.13967 15 6.41053V11.4596C15 12.2367 14.5499 12.9434 13.8458 13.272L8.84577 15.6053C8.30967 15.8555 7.69032 15.8555 7.15423 15.6053L2.15423 13.272C1.45008 12.9434 1 12.2367 1 11.4596V6.41053C1 6.13967 1.05502 5.87164 1.16171 5.62269L2.19475 3.21225C2.39114 2.75402 2.75158 2.38566 3.20544 2.17936L7.17239 0.376197Z",fill:"white",fillOpacity:"0.5"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.49982 6.00604V8.31165L13.8389 5.82981L13.037 3.95865L8.49982 6.00604ZM14.7461 5.40808L13.8051 3.21225C13.6731 2.90438 13.4671 2.63707 13.2085 2.43223C13.1916 2.41885 13.1745 2.40573 13.1571 2.39289C13.1498 2.38745 13.1424 2.38205 13.1349 2.3767C13.0289 2.30039 12.9149 2.23416 12.7944 2.17936C12.7944 2.17936 12.7944 2.17936 12.7944 2.17936L8.82743 0.376197C8.30158 0.137174 7.69807 0.137174 7.17222 0.376197H7.1722L3.20526 2.17936C2.75141 2.38566 2.39096 2.75402 2.19458 3.21225L1.16153 5.62269C1.05833 5.86349 1.00348 6.12213 1 6.38392L7.69387 9.49552C7.77843 9.56103 7.88457 9.60002 7.99982 9.60002C8.11506 9.60002 8.2212 9.56103 8.30576 9.49552L14.9996 6.38391C14.9962 6.12213 14.9413 5.86349 14.8381 5.62269L14.7461 5.40808ZM7.49982 8.31165L2.16073 5.8298L2.96452 3.95427L7.49982 6.00577V8.31165ZM8.00013 5.14484L3.54259 3.12851C3.56743 3.11455 3.59293 3.1016 3.61905 3.08973L7.58601 1.28656C7.84893 1.16705 8.15069 1.16705 8.41361 1.28656L12.3806 3.08973C12.4085 3.10241 12.4357 3.11631 12.4621 3.13138L8.00013 5.14484Z",fill:"white"})]}),e$=r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("g",{clipPath:"url(#clip0_1085_549)",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.32134 14.6787C2.24173 13.7453 0 10.8844 0 7.5C0 3.35786 3.35786 0 7.5 0C10.8844 0 13.7453 2.24173 14.6787 5.32134C17.7583 6.25475 20 9.11558 20 12.5C20 16.6421 16.6421 20 12.5 20C9.11558 20 6.25475 17.7583 5.32134 14.6787Z",fill:"white"})}),r.jsx("defs",{children:r.jsx("clipPath",{id:"clip0_1085_549",children:r.jsx("rect",{width:"20",height:"20",fill:"white"})})})]}),s$=r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("g",{clipPath:"url(#clip0_1085_547)",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 7.5C14 11.0899 11.0899 14 7.5 14C3.91015 14 1 11.0899 1 7.5C1 3.91015 3.91015 1 7.5 1C11.0899 1 14 3.91015 14 7.5ZM14.6737 5.30498C13.7351 2.23379 10.8784 0 7.5 0C3.35786 0 0 3.35786 0 7.5C0 10.8784 2.23379 13.7351 5.30498 14.6737C6.24355 17.7449 9.10024 19.9787 12.4787 19.9787C16.6208 19.9787 19.9787 16.6208 19.9787 12.4787C19.9787 9.10024 17.7449 6.24355 14.6737 5.30498Z",fill:"white"})}),r.jsx("defs",{children:r.jsx("clipPath",{id:"clip0_1085_547",children:r.jsx("rect",{width:"20",height:"20",fill:"white"})})})]}),i$=r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("g",{clipPath:"url(#clip0_1085_545)",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.5 5C12.8497 5 13.1937 5.02393 13.5306 5.07023C12.5683 2.68403 10.2308 1 7.5 1C3.91015 1 1 3.91015 1 7.5C1 10.2308 2.68403 12.5683 5.07023 13.5306C5.02393 13.1937 5 12.8497 5 12.5C5 8.35786 8.35786 5 12.5 5ZM5.32134 14.6787C2.24173 13.7453 0 10.8844 0 7.5C0 3.35786 3.35786 0 7.5 0C10.8844 0 13.7453 2.24173 14.6787 5.32134C17.7583 6.25475 20 9.11558 20 12.5C20 16.6421 16.6421 20 12.5 20C9.11558 20 6.25475 17.7583 5.32134 14.6787ZM14.9298 6.46936C14.9761 6.80629 15 7.15035 15 7.5C15 11.6421 11.6421 15 7.5 15C7.15035 15 6.80629 14.9761 6.46936 14.9298C7.43168 17.316 9.76918 19 12.5 19C16.0899 19 19 16.0899 19 12.5C19 9.76918 17.316 7.43168 14.9298 6.46936Z",fill:"white"})}),r.jsx("defs",{children:r.jsx("clipPath",{id:"clip0_1085_545",children:r.jsx("rect",{width:"20",height:"20",fill:"white"})})})]}),Q0=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{d:"M7.13397 4.5C7.51887 3.83333 8.48113 3.83333 8.86603 4.5L12.3301 10.5C12.715 11.1667 12.2339 12 11.4641 12H4.5359C3.7661 12 3.28497 11.1667 3.66987 10.5L7.13397 4.5Z",fill:"#F4A56C"})}),n$=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("circle",{cx:"8",cy:"8",r:"5",fill:"url(#paint0_linear_5272_14009)"}),r.jsx("defs",{children:r.jsxs("linearGradient",{id:"paint0_linear_5272_14009",x1:"8",y1:"3",x2:"8",y2:"13",gradientUnits:"userSpaceOnUse",children:[r.jsx("stop",{stopColor:"#25D26A"}),r.jsx("stop",{offset:"1",stopColor:"#25D2B3"})]})})]}),DR=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.3624 5.34449L8.44445 14.7257L2.63762 8.61721L3.36239 7.92823L8.44445 13.2743L16.6376 4.6555L17.3624 5.34449Z",fill:"white"})}),ps=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3684 5.33802L7.49508 11.7396L3.63156 7.52859L4.36842 6.85254L7.49508 10.2604L12.6316 4.66197L13.3684 5.33802Z",fill:"white"})}),FR=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 10C18 14.4183 14.4183 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10ZM19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10ZM10.5 10V14H9.5V10H10.5ZM9 7C9 6.44772 9.44772 6 10 6C10.5523 6 11 6.44772 11 7C11 7.55228 10.5523 8 10 8C9.44772 8 9 7.55228 9 7Z",fill:"white"})}),o$=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 8C14 11.3137 11.3137 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8ZM15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8ZM8.5 7L8.5 11H7.5L7.5 7H8.5ZM7.25 5.25C7.25 4.83579 7.58579 4.5 8 4.5C8.41421 4.5 8.75 4.83579 8.75 5.25C8.75 5.66421 8.41421 6 8 6C7.58579 6 7.25 5.66421 7.25 5.25Z",fill:"white"})}),r$=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 15C11.866 15 15 11.866 15 8C15 4.13401 11.866 1 8 1C4.13401 1 1 4.13401 1 8C1 11.866 4.13401 15 8 15ZM7.57572 10.3536L11.0757 6.85355L10.3686 6.14645L7.22217 9.29289L5.35355 7.42428L4.64645 8.13139L6.86861 10.3536L7.22217 10.7071L7.57572 10.3536Z",fill:"white"})}),a$=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.5 3C9.5 3.82843 8.82843 4.5 8 4.5C7.17157 4.5 6.5 3.82843 6.5 3C6.5 2.17157 7.17157 1.5 8 1.5C8.82843 1.5 9.5 2.17157 9.5 3ZM9.5 8C9.5 8.82843 8.82843 9.5 8 9.5C7.17157 9.5 6.5 8.82843 6.5 8C6.5 7.17157 7.17157 6.5 8 6.5C8.82843 6.5 9.5 7.17157 9.5 8ZM8 14.5C8.82843 14.5 9.5 13.8284 9.5 13C9.5 12.1716 8.82843 11.5 8 11.5C7.17157 11.5 6.5 12.1716 6.5 13C6.5 13.8284 7.17157 14.5 8 14.5Z",fill:"white"})}),l$=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 10C1 11.1046 1.89543 12 3 12C4.10457 12 5 11.1046 5 10C5 8.89543 4.10457 8 3 8C1.89543 8 1 8.89543 1 10ZM10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12ZM17 12C15.8954 12 15 11.1046 15 10C15 8.89543 15.8954 8 17 8C18.1046 8 19 8.89543 19 10C19 11.1046 18.1046 12 17 12Z",fill:"white"})}),$l=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 6.5C3.82843 6.5 4.5 7.17157 4.5 8C4.5 8.82843 3.82843 9.5 3 9.5C2.17157 9.5 1.5 8.82843 1.5 8C1.5 7.17157 2.17157 6.5 3 6.5ZM8 6.5C8.82843 6.5 9.5 7.17157 9.5 8C9.5 8.82843 8.82843 9.5 8 9.5C7.17157 9.5 6.5 8.82843 6.5 8C6.5 7.17157 7.17157 6.5 8 6.5ZM14.5 8C14.5 7.17157 13.8284 6.5 13 6.5C12.1716 6.5 11.5 7.17157 11.5 8C11.5 8.82843 12.1716 9.5 13 9.5C13.8284 9.5 14.5 8.82843 14.5 8Z",fill:"white"})}),c$=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 3H3V10H10V17H17V10H10V3ZM3 2C2.44772 2 2 2.44772 2 3V17C2 17.5523 2.44772 18 3 18H17C17.5523 18 18 17.5523 18 17V3C18 2.44772 17.5523 2 17 2H3Z",fill:"white"})}),BR=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 3H8V8H3V3ZM8 13V8H13V13H8ZM2 3C2 2.44772 2.44772 2 3 2H13C13.5523 2 14 2.44772 14 3V13C14 13.5523 13.5523 14 13 14H3C2.44772 14 2 13.5523 2 13V3Z",fill:"white"})}),h$=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 2C2.44772 2 2 2.44772 2 3V10C2 10.5523 2.44772 11 3 11H10V18C10 18.5523 10.4477 19 11 19H18C18.5523 19 19 18.5523 19 18V11C19 10.4477 18.5523 10 18 10H11V3C11 2.44772 10.5523 2 10 2H3ZM11 11H18V18H11V11Z",fill:"white"})}),kR=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 2C2.44772 2 2 2.44772 2 3V8C2 8.55228 2.44772 9 3 9H8V14C8 14.5523 8.44772 15 9 15H14C14.5523 15 15 14.5523 15 14V9C15 8.44772 14.5523 8 14 8H9V3C9 2.44772 8.55228 2 8 2H3ZM9 9H14V14H9V9Z",fill:"white"})}),d$=r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("g",{clipPath:"url(#clip0_2196_1829)",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.718781 18.5741L18.3964 0.896423L19.1036 1.60353L1.42589 19.2812L0.718781 18.5741ZM11.9999 3.99998H5C4.44772 3.99998 4 4.44769 4 4.99998V11.9999L11.9999 3.99998ZM15 16L8.00006 16L9.00006 15L15 15L15 9.00003L16 8.00003L16 15C16 15.5523 15.5523 16 15 16Z",fill:"white"})}),r.jsx("defs",{children:r.jsx("clipPath",{id:"clip0_2196_1829",children:r.jsx("rect",{width:"20",height:"20",fill:"white"})})})]}),GR=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.46878 13.8241L13.6465 1.64642L14.3536 2.35353L2.17589 14.5312L1.46878 13.8241ZM8.99996 2.99998H4.00001C3.44772 2.99998 3.00001 3.44769 3.00001 3.99998V8.99993L8.99996 2.99998ZM12 13L7.00005 13L8.00005 12H12V8.00002L13 7.00002L13 12C13 12.5523 12.5523 13 12 13Z",fill:"white"})}),u$=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 15C5.50713 15 2.97686 11.9085 2.10807 10.0544C3.22215 8.06964 5.52062 5 10 5C14.4794 5 16.7778 8.06964 17.8919 10.0544C17.0231 11.9085 14.4929 15 10 15ZM10 16C15.4 16 18.25 12 19 10C17.95 8 15.4 4 10 4C4.6 4 2.05 8 1 10C1.75 12 4.6 16 10 16ZM6 10C6 12.2091 7.79086 14 10 14C12.2091 14 14 12.2091 14 10C14 7.79086 12.2091 6 10 6C7.79086 6 6 7.79086 6 10Z",fill:"white"})}),Pb=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 12C4.69275 12 2.78156 9.57762 2.09647 8.05017C2.97137 6.39849 4.70391 4 8 4C11.2961 4 13.0286 6.39848 13.9035 8.05017C13.2184 9.57761 11.3072 12 8 12ZM8 13C12.2 13 14.4167 9.66667 15 8C14.1833 6.33333 12.2 3 8 3C3.8 3 1.81667 6.33333 1 8C1.58333 9.66667 3.8 13 8 13ZM5 8C5 9.65685 6.34315 11 8 11C9.65685 11 11 9.65685 11 8C11 6.34315 9.65685 5 8 5C6.34315 5 5 6.34315 5 8Z",fill:"white"})}),f$=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.3571 3.09065L15.65 2.38354L13.4222 4.61134C12.434 4.23165 11.2995 4 10 4C4.6 4 2.05 8 1 10C1.39896 11.0639 2.39213 12.6937 4.04725 13.9863L2.21497 15.8186L2.92208 16.5257L16.3571 3.09065ZM4.76081 13.2727L6.36401 11.6695C6.13032 11.1614 6 10.5959 6 10C6 7.79086 7.79086 6 10 6C10.5959 6 11.1614 6.13032 11.6695 6.36401L12.6365 5.39703C11.855 5.14683 10.9797 5 10 5C5.52062 5 3.22215 8.06964 2.10807 10.0544C2.54974 10.997 3.42079 12.2593 4.76081 13.2727ZM10 15C8.67983 15 7.52912 14.7331 6.54021 14.3091L5.78315 15.0661C6.96324 15.6332 8.36469 16 10 16C15.4 16 18.25 12 19 10C18.3772 8.81375 17.2267 6.92389 15.2669 5.58241L14.5449 6.30439C16.1932 7.37552 17.2433 8.89884 17.8919 10.0544C17.0231 11.9085 14.4929 15 10 15ZM13.2212 7.62808L7.62808 13.2212C8.29173 13.7107 9.11208 14 10 14C12.2091 14 14 12.2091 14 10C14 9.11208 13.7107 8.29173 13.2212 7.62808Z",fill:"white"})}),Ob=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 12C7.30682 12 6.67497 11.8936 6.10288 11.7113L5.319 12.4952C6.10213 12.8088 6.99419 13 8 13C12.2 13 14.4167 9.66667 15 8C14.6024 7.1886 13.9283 5.98216 12.8565 4.95765L12.1493 5.66488C12.9482 6.42149 13.5118 7.31068 13.9035 8.05016C13.2184 9.57761 11.3072 12 8 12ZM3.53998 11.46L1.68629 13.3137L2.3934 14.0208L13.7071 2.70711L13 2L11.2263 3.77365C10.3336 3.30373 9.2678 3 8 3C3.8 3 1.81667 6.33333 1 8C1.32372 8.92491 2.15044 10.3631 3.53998 11.46ZM4.25374 10.7463C3.17121 9.92685 2.46063 8.86208 2.09647 8.05017C2.97137 6.39849 4.70391 4 8 4C8.9501 4 9.77029 4.19929 10.4775 4.52253L9.56187 5.43813C9.10692 5.16018 8.57217 5 8 5C6.34315 5 5 6.34315 5 8C5 8.57217 5.16018 9.10692 5.43813 9.56187L4.25374 10.7463ZM10.8253 6.98885L6.98885 10.8253C7.30477 10.9384 7.64519 11 8 11C9.65685 11 11 9.65685 11 8C11 7.64519 10.9384 7.30477 10.8253 6.98885Z",fill:"white"})}),p$=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.99995 1.5C13.1602 1.5 15.7222 4.06193 15.7222 7.22222C15.7222 9.16633 14.7531 10.8842 13.2695 11.9191C12.9176 12.1645 12.6474 12.4467 12.4505 12.7876C12.2553 13.1255 12.146 13.4969 12.0829 13.9021C12.0779 13.9343 12.0731 13.9669 12.0687 14H7.94333C7.93637 13.944 7.92868 13.8894 7.9202 13.8361C7.85696 13.439 7.7462 13.0813 7.54716 12.755C7.34747 12.4277 7.07613 12.1602 6.73044 11.9191C5.08835 10.7737 4.27772 9.17521 4.27772 7.22222C4.27773 4.06193 6.83965 1.5 9.99995 1.5ZM11.9954 16C11.9935 15.6412 11.993 15.3082 12.0002 15H8.00294C8.00827 15.3047 8.007 15.6372 8.0047 16H11.9954ZM12.9959 16C12.9915 15.1672 12.9934 14.554 13.071 14.056C13.1215 13.7316 13.2009 13.4877 13.3164 13.2878C13.4301 13.091 13.5924 12.9131 13.8416 12.7393C15.5819 11.5254 16.7222 9.507 16.7222 7.22222C16.7222 3.50964 13.7125 0.5 9.99995 0.5C6.28737 0.5 3.27773 3.50964 3.27773 7.22222C3.27773 9.49812 4.24487 11.4046 6.15834 12.7393C6.41828 12.9206 6.5817 13.0926 6.69349 13.2758C6.80593 13.4601 6.88338 13.684 6.93263 13.9934C6.97209 14.2411 6.99133 14.5223 7 14.8555V15H7.00308C7.008 15.2915 7.00648 15.6212 7.00416 16H7V17H8H12H13V16H12.9959ZM12 18H8V19H12V18Z",fill:"white"})}),VR=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 1.5C10.4801 1.5 12.5 3.53437 12.5 6.05556C12.5 7.60559 11.736 8.97329 10.569 9.79635C10.0999 10.1272 9.82996 10.52 9.67951 11H6.33549C6.28184 10.8259 6.21042 10.6605 6.11475 10.503C5.94543 10.2242 5.71701 9.99804 5.43103 9.79635C4.13806 8.88445 3.5 7.61444 3.5 6.05556C3.5 3.53437 5.51991 1.5 8 1.5ZM9.49617 13C9.49565 12.6339 9.49926 12.3007 9.5175 12H6.48784C6.50326 12.2963 6.50543 12.6285 6.50424 13H9.49617ZM10.4966 13C10.4955 12.4194 10.5034 11.9832 10.5602 11.6234C10.6367 11.1384 10.7924 10.8625 11.1453 10.6135C12.569 9.60946 13.5 7.94149 13.5 6.05556C13.5 2.99253 11.0428 0.5 8 0.5C4.95724 0.5 2.5 2.99253 2.5 6.05556C2.5 7.93264 3.29051 9.51038 4.85468 10.6135C5.05537 10.7551 5.17742 10.886 5.26006 11.0221C5.3434 11.1593 5.40353 11.3294 5.44281 11.5729C5.5003 11.9292 5.50594 12.3734 5.50373 13H5.5V13.9938C5.5 13.9959 5.5 13.9979 5.5 14H6.5H9.5H10.5V13H10.4966ZM10 16V15H6V16H10Z",fill:"white"})}),m$=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99999 1.99042C5.73022 1.99042 4.00317 3.77017 4.00317 6.22222C4.00317 7.42208 4.43386 8.12448 4.91267 8.81601C4.94999 8.86993 4.98812 8.92431 5.0267 8.97933C5.41014 9.52622 5.83785 10.1363 5.96348 10.9747L10.0372 10.9974C10.1636 10.1611 10.5895 9.54766 10.9719 8.99687C11.0105 8.94127 11.0487 8.88631 11.0861 8.83183C11.5656 8.13256 11.9968 7.42281 11.9968 6.22222C11.9968 3.77017 10.2698 1.99042 7.99999 1.99042ZM10 11.9972L6 11.9749V13H10V11.9972ZM3.00317 6.22222C3.00317 3.2665 5.13055 0.990417 7.99999 0.990417C10.8694 0.990417 12.9968 3.2665 12.9968 6.22222C12.9968 7.72553 12.4296 8.64071 11.9108 9.39738C11.8791 9.44361 11.8478 9.48894 11.8171 9.53348C11.3442 10.22 11 10.7196 11 11.5V14H5V11.4721C5 10.6929 4.65695 10.1998 4.18426 9.52025C4.15353 9.47609 4.12226 9.43114 4.09051 9.38527C3.57091 8.63483 3.00317 7.72625 3.00317 6.22222ZM10 16H6V15H10V16Z",fill:"#FCFCFC"})}),g$=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9554 2.95117C11.0597 1.74573 9.65298 0.990417 8 0.990417C5.13056 0.990417 3.00318 3.2665 3.00318 6.22222C3.00318 7.72625 3.57091 8.63483 4.09052 9.38527L4.18426 9.52025C4.19771 9.53958 4.21105 9.55876 4.22429 9.5778L1.19024 12.1784C0.980575 12.3581 0.956295 12.6738 1.13601 12.8834C1.31572 13.0931 1.63137 13.1174 1.84103 12.9377L14.7291 1.8908C14.9387 1.71109 14.963 1.39544 14.7833 1.18577C14.6036 0.976111 14.2879 0.95183 14.0783 1.13154L11.9554 2.95117ZM8 1.99042C5.73023 1.99042 4.00318 3.77017 4.00318 6.22222C4.00318 7.42208 4.43386 8.12448 4.91268 8.81601C4.93734 8.85163 4.96235 8.88745 4.98761 8.92353L11.1945 3.60335C10.4756 2.60252 9.33111 1.99042 8 1.99042Z",fill:"#FCFCFC"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.00001 11.5427L5.92215 10.7523C5.93824 10.8246 5.9521 10.8987 5.96349 10.9747L10.0372 10.9974C10.1636 10.1611 10.5895 9.54767 10.9719 8.99687L10.9725 8.99603C11.0108 8.94083 11.049 8.88593 11.0861 8.83183C11.5656 8.13256 11.9968 7.42281 11.9968 6.22222C11.9968 6.00259 11.983 5.78834 11.9561 5.58029L12.8313 4.8301C12.9396 5.27117 12.9968 5.73756 12.9968 6.22222C12.9968 7.72553 12.4297 8.64071 11.9108 9.39738L11.8172 9.53348C11.3442 10.22 11 10.7196 11 11.5V14H5.00001V11.5427ZM10 11.9972L6.00001 11.9749V13H10V11.9972Z",fill:"#FCFCFC"}),r.jsx("path",{d:"M10 16H6.00001V15H10V16Z",fill:"#FCFCFC"})]}),_$=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5 0V3H9.5V0H10.5ZM17 6H3V14H17V6ZM3 5C2.44772 5 2 5.44772 2 6V14C2 14.5523 2.44772 15 3 15H17C17.5523 15 18 14.5523 18 14V6C18 5.44772 17.5523 5 17 5H3ZM7.18301 3.34808L5.68301 0.75L4.81699 1.25L6.31699 3.84808L7.18301 3.34808ZM14.067 0.75L12.567 3.34808L13.433 3.84808L14.933 1.25L14.067 0.75ZM9.5 17L9.5 20H10.5V17H9.5ZM14.067 19.25L12.567 16.6519L13.433 16.1519L14.933 18.75L14.067 19.25ZM7.18301 16.6519L5.68301 19.25L4.81699 18.75L6.31699 16.1519L7.18301 16.6519Z",fill:"white"})}),v$=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5 0V2H7.5V0H8.5ZM13 5H3L3 11H13V5ZM3 4C2.44772 4 2 4.44772 2 5V11C2 11.5523 2.44772 12 3 12H13C13.5523 12 14 11.5523 14 11V5C14 4.44772 13.5523 4 13 4H3ZM5.68301 1.98205L4.68301 0.25L3.81699 0.75L4.81699 2.48205L5.68301 1.98205ZM11.067 0.25L10.067 1.98205L10.933 2.48205L11.933 0.75L11.067 0.25ZM8.5 14V16H7.5V14H8.5ZM4.68301 15.75L5.68301 14.0179L4.81699 13.5179L3.81699 15.25L4.68301 15.75ZM10.067 14.0179L11.067 15.75L11.933 15.25L10.933 13.5179L10.067 14.0179Z",fill:"white"})}),y$=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.5981 4.23202L16.0981 5.09805L14.366 4.09805L14.866 3.23202C15.1422 2.75373 15.7538 2.58986 16.232 2.866C16.7103 3.14214 16.8742 3.75373 16.5981 4.23202ZM14 2.73202C14.5523 1.77544 15.7755 1.44769 16.732 1.99997C17.6886 2.55226 18.0164 3.77544 17.4641 4.73202L16.4641 6.46407L13 4.46407L14 2.73202ZM13.3155 6.88789L2.17721 15.947C2.16795 16.0678 2.22688 16.3471 2.79176 16.6919C3.48326 17.114 4.79511 17.5 7.00001 17.5C9.54435 17.5 10.8057 17.0094 11.4161 16.5884C11.7191 16.3795 11.8682 16.1837 11.94 16.0606C11.9765 15.998 11.9948 15.9512 12.003 15.9268C12.0052 15.92 12.0067 15.9149 12.0077 15.9116L12.0086 15.9055L12.0133 15.8855L14.0133 7.38547L14.9867 7.61451L12.9895 16.1026C12.9875 16.1127 12.9851 16.1244 12.9819 16.1376C12.9751 16.1665 12.9652 16.2026 12.951 16.2451C12.9224 16.33 12.8767 16.4395 12.8038 16.5644C12.6568 16.8163 12.4059 17.1205 11.9839 17.4116C11.1443 17.9906 9.65566 18.5 7.00001 18.5C4.7049 18.5 3.18341 18.1026 2.27075 17.5455C1.39004 17.0079 0.908604 16.1671 1.30857 15.4151L1.35606 15.3258L1.43452 15.262L12.6845 6.11209L13.3155 6.88789Z",fill:"white"})}),b$=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5981 4.23202L13.0981 5.09805L11.366 4.09805L11.866 3.23202C12.1422 2.75373 12.7538 2.58986 13.2321 2.866C13.7103 3.14214 13.8742 3.75373 13.5981 4.23202ZM11 2.73202C11.5523 1.77544 12.7755 1.44769 13.7321 1.99997C14.6886 2.55226 15.0164 3.77544 14.4641 4.73202L13.4641 6.46407L10 4.46407L11 2.73202ZM10.3238 6.1636L2.35011 12.9409C2.35332 12.9547 2.3591 12.9725 2.36937 12.9944C2.41067 13.0824 2.5218 13.2271 2.77784 13.384C3.2923 13.6992 4.29147 14 6 14C7.97075 14 8.92857 13.6182 9.37905 13.3063C9.60203 13.1519 9.7072 13.0106 9.75509 12.9281C9.77961 12.8859 9.79091 12.8561 9.79513 12.8434L9.79558 12.8421L9.79768 12.828L11.5196 6.86138L12.4804 7.13865L10.7734 13.0536L10.7703 13.067C10.7643 13.0927 10.7557 13.1241 10.7435 13.1606C10.7191 13.2336 10.6805 13.326 10.6197 13.4305C10.4971 13.6416 10.2905 13.8915 9.94831 14.1284C9.26851 14.5991 8.08269 15 6 15C4.20075 15 2.99132 14.6876 2.25532 14.2366C1.55058 13.8047 1.11328 13.0921 1.46577 12.4267L1.51068 12.3419L9.67619 5.40164L10.3238 6.1636Z",fill:"white"})}),C$=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 6C11 7.65685 12.3431 9 14 9C15.6569 9 17 7.65685 17 6C17 4.34315 15.6569 3 14 3C12.3431 3 11 4.34315 11 6ZM14 2C11.7909 2 10 3.79086 10 6C10 8.20914 11.7909 10 14 10C16.2091 10 18 8.20914 18 6C18 3.79086 16.2091 2 14 2ZM3.5 15.7929L9.14645 10.1464L9.85356 10.8535L4.20709 16.5H6V17.5H2.5V14H3.5V15.7929ZM2.64645 10.6464L7.64645 5.64642L8.35356 6.35353L3.35356 11.3535L2.64645 10.6464ZM13.6465 11.6464L8.64645 16.6464L9.35356 17.3535L14.3536 12.3535L13.6465 11.6464Z",fill:"white"})}),w$=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 4C10 5.10457 10.8954 6 12 6C13.1046 6 14 5.10457 14 4C14 2.89543 13.1046 2 12 2C10.8954 2 10 2.89543 10 4ZM12 1C10.3431 1 9 2.34315 9 4C9 5.65685 10.3431 7 12 7C13.6569 7 15 5.65685 15 4C15 2.34315 13.6569 1 12 1ZM3 12.2929L7.64645 7.64642L8.35356 8.35353L3.70709 13H5.5V14H2V10.5H3V12.2929ZM3 13V13H3.00003L3 13ZM2.64645 7.64642L6.64645 3.64642L7.35356 4.35353L3.35356 8.35353L2.64645 7.64642ZM11.6465 8.64642L7.64645 12.6464L8.35356 13.3535L12.3536 9.35353L11.6465 8.64642Z",fill:"white"})}),s9=r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 2H2L2 17H17V2ZM2 1C1.44772 1 1 1.44772 1 2V17C1 17.5523 1.44772 18 2 18H17C17.5523 18 18 17.5523 18 17V2C18 1.44772 17.5523 1 17 1H2Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 5H9V9L5 9V10H9V14H10V10H14V9L10 9V5Z",fill:"white"})]}),x$=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2V1C11.866 1 15 4.13401 15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 6.28648 1.61568 4.71677 2.63789 3.5H2H1.5L1.5 2.5L2 2.5L4 2.5C4.27614 2.5 4.5 2.72386 4.5 3L4.5 5V5.5H3.5V5L3.5 4.03126C2.56646 5.08896 2 6.47833 2 8C2 11.3137 4.68629 14 8 14ZM8.5 3.5V4V7.5H11H11.5V8.5H11H8C7.72386 8.5 7.5 8.27614 7.5 8V4V3.5H8.5Z",fill:"white"})}),Yy=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4C7 5.10457 6.10457 6 5 6C3.89543 6 3 5.10457 3 4C3 2.89543 3.89543 2 5 2C6.10457 2 7 2.89543 7 4ZM8 4C8 5.65685 6.65685 7 5 7C3.34315 7 2 5.65685 2 4C2 2.34315 3.34315 1 5 1C6.65685 1 8 2.34315 8 4ZM13 6C13 6.55228 12.5523 7 12 7C11.4477 7 11 6.55228 11 6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6ZM14 6C14 7.10457 13.1046 8 12 8C10.8954 8 10 7.10457 10 6C10 4.89543 10.8954 4 12 4C13.1046 4 14 4.89543 14 6ZM11 15H15H16V14V13C16 10.7909 14.2091 9 12 9C11.2418 9 10.5328 9.21095 9.92868 9.57735C10.1186 9.85035 10.2865 10.1399 10.4296 10.4433C10.8864 10.1622 11.4242 10 12 10C13.6568 10 15 11.3431 15 13V14H14H11V15ZM0 13V15H10V13C10 10.2386 7.76142 8 5 8C2.23858 8 0 10.2386 0 13ZM1 13C1 10.7909 2.79086 9 5 9C7.20914 9 9 10.7909 9 13V14H1V13Z",fill:"white"})}),E$=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 9C12.2091 9 14 7.20914 14 5C14 2.79086 12.2091 1 10 1C7.79086 1 6 2.79086 6 5C6 7.20914 7.79086 9 10 9ZM10 12C6.68629 12 4 14.6863 4 18V19H16V18C16 14.6863 13.3137 12 10 12Z",fill:"white"})}),S$=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 4C15 2.89543 14.1046 2 13 2C11.8954 2 11 2.89543 11 4V5V6H12C12.5523 6 13 6.44772 13 7V13C13 13.5523 12.5523 14 12 14H4C3.44772 14 3 13.5523 3 13V7C3 6.44772 3.44772 6 4 6H10.0355C10.0159 6 10 5.98412 10 5.96454V4C10 2.34315 11.3431 1 13 1C14.6569 1 16 2.34315 16 4V5.96454C16 5.98412 15.9841 6 15.9645 6H15V5V4ZM4 7H12V13H4V7Z",fill:"white"})}),HR=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 4C10 2.89543 9.10457 2 8 2C6.89543 2 6 2.89543 6 4V5V6H10V5V4ZM10.9645 6H12C12.5523 6 13 6.44772 13 7V13C13 13.5523 12.5523 14 12 14H4C3.44772 14 3 13.5523 3 13V7C3 6.44772 3.44772 6 4 6H5.03546C5.01588 6 5 5.98412 5 5.96454V4C5 2.34315 6.34315 1 8 1C9.65685 1 11 2.34315 11 4V5.96454C11 5.98412 10.9841 6 10.9645 6ZM4 13V7H12V13H4Z",fill:"white"})}),P4=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("circle",{cx:"8",cy:"8",r:"2",fill:"white"})}),I$=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 7V5.5C11 4.11929 9.88071 3 8.5 3C7.11929 3 6 4.11929 6 5.5V7H5V5.5C5 3.567 6.567 2 8.5 2C10.433 2 12 3.567 12 5.5V7H11ZM6 10L6 11.5C6 12.8807 7.11929 14 8.5 14C9.88071 14 11 12.8807 11 11.5V10H12V11.5C12 13.433 10.433 15 8.5 15C6.567 15 5 13.433 5 11.5V10H6ZM8 5V11H9V5H8Z",fill:"white"})}),A$=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 6V5.5C11 4.11929 9.88071 3 8.5 3C7.11929 3 6 4.11929 6 5.5V6H5V5.5C5 3.567 6.567 2 8.5 2C10.433 2 12 3.567 12 5.5V6H11ZM6 11V11.5C6 12.8807 7.11929 14 8.5 14C9.88071 14 11 12.8807 11 11.5V11H12V11.5C12 13.433 10.433 15 8.5 15C6.567 15 5 13.433 5 11.5V11H6ZM14 8L3 8V9L14 9V8Z",fill:"white"})}),T$=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 5.5V6H12V5.5C12 3.567 10.433 2 8.5 2C6.567 2 5 3.567 5 5.5V6H6V5.5C6 4.11929 7.11929 3 8.5 3C9.88071 3 11 4.11929 11 5.5ZM6 11.5L6 11H5V11.5C5 13.433 6.567 15 8.5 15C10.433 15 12 13.433 12 11.5V11H11V11.5C11 12.8807 9.88071 14 8.5 14C7.11929 14 6 12.8807 6 11.5Z",fill:"white"})}),P$=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("g",{clipPath:"url(#clip0_643_348)",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.9498 7.29294L11.5355 8.70716L12.2426 9.41427L13.6569 8.00005C15.219 6.43795 15.219 3.90529 13.6569 2.3432C12.0948 0.7811 9.5621 0.7811 8 2.3432L6.58579 3.75741L7.2929 4.46452L8.70711 3.0503C9.87868 1.87873 11.7782 1.87873 12.9498 3.0503C14.1213 4.22188 14.1213 6.12137 12.9498 7.29294ZM3.05026 8.70716L4.46447 7.29294L3.75736 6.58584L2.34315 8.00005C0.781053 9.56215 0.781053 12.0948 2.34315 13.6569C3.90525 15.219 6.43791 15.219 8 13.6569L9.41422 12.2427L8.70711 11.5356L7.2929 12.9498C6.12132 14.1214 4.22183 14.1214 3.05026 12.9498C1.87868 11.7782 1.87868 9.87873 3.05026 8.70716ZM9.76788 5.52515L5.52524 9.76779L6.23235 10.4749L10.475 6.23225L9.76788 5.52515Z",fill:"white"})}),r.jsx("defs",{children:r.jsx("clipPath",{id:"clip0_643_348",children:r.jsx("rect",{width:"16",height:"16",fill:"white"})})})]}),Wy=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.0606 4.84644L11.4141 5.19999L10.707 5.9071L10.3535 5.55354L8.23216 3.43222C8.0369 3.23696 8.0369 2.92038 8.23216 2.72512L10.3535 0.603798L10.707 0.250244L11.4141 0.957351L11.0606 1.3109L9.89596 2.47554C12.0775 2.44865 14.2674 3.26747 15.932 4.932C19.2081 8.20815 19.2081 13.5198 15.932 16.796C12.6558 20.0721 7.34416 20.0721 4.06801 16.796C2.46454 15.1925 1.64587 13.1014 1.612 11H2.61215C2.64591 12.8455 3.36691 14.6807 4.77512 16.0889C7.66074 18.9745 12.3393 18.9745 15.2249 16.0889C18.1105 13.2032 18.1105 8.52473 15.2249 5.63911C13.7046 4.11879 11.6866 3.39946 9.69529 3.48114L11.0606 4.84644Z",fill:"white"})}),WI=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.55358 3.92156L8.90714 4.27511L8.20003 4.98222L7.84648 4.62866L6.07871 2.8609C5.88345 2.66564 5.88345 2.34905 6.07871 2.15379L7.84648 0.386024L8.20003 0.0324707L8.90714 0.739577L8.55358 1.09313L7.63585 2.01087C7.7563 2.00366 7.87771 2 7.99997 2C11.3137 2 14 4.68629 14 8C14 11.3137 11.3137 14 7.99997 14C4.68626 14 1.99997 11.3137 1.99997 8V7.99997L2.99997 7.99997L2.99997 8C2.99997 10.7614 5.23855 13 7.99997 13C10.7614 13 13 10.7614 13 8C13 5.23857 10.7614 3 7.99997 3C7.88044 3 7.7619 3.00419 7.64447 3.01244L8.55358 3.92156Z",fill:"white"})}),O$=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.96004 7.4204L4.31359 7.06685L5.0207 7.77396L4.66715 8.12751L2.89938 9.89528C2.70412 10.0905 2.38754 10.0905 2.19227 9.89528L0.424507 8.12751L0.0709534 7.77396L0.77806 7.06685L1.13161 7.4204L2.04932 8.33811C2.04211 8.21766 2.03846 8.09626 2.03846 7.974C2.03846 4.66029 4.72475 1.974 8.03846 1.974C9.45635 1.974 10.7594 2.46582 11.7862 3.28818L10.9545 3.91194C10.1337 3.32165 9.12668 2.974 8.03846 2.974C5.27703 2.974 3.03846 5.21257 3.03846 7.974C3.03846 8.09354 3.04265 8.2121 3.0509 8.32954L3.96004 7.4204ZM11.6989 8.8687L12.0524 8.51514L12.9616 7.60601C12.9698 7.72345 12.974 7.84201 12.974 7.96155C12.974 10.723 10.7354 12.9615 7.97402 12.9615C6.90411 12.9615 5.91269 12.6255 5.09955 12.0532L4.26564 12.6786C5.28633 13.4822 6.57419 13.9615 7.97402 13.9615C11.2877 13.9615 13.974 11.2753 13.974 7.96155C13.974 7.83929 13.9704 7.71788 13.9632 7.59743L14.8809 8.51514L15.2344 8.8687L15.9415 8.16159L15.588 7.80804L13.8202 6.04027C13.6249 5.84501 13.3084 5.84501 13.1131 6.04027L11.3453 7.80804L10.9918 8.16159L11.6989 8.8687Z",fill:"white"})}),UR=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.70711 5.00004L9.85355 6.14648L9.14645 6.85359L7.14645 4.85359L6.79289 4.50004L7.14645 4.14648L9.14645 2.14648L9.85355 2.85359L8.70711 4.00004L11 4.00004C13.2091 4.00004 15 5.7909 15 8.00004C15 10.2092 13.2091 12 11 12V11C12.6569 11 14 9.65689 14 8.00004C14 6.34318 12.6569 5.00004 11 5.00004L8.70711 5.00004ZM5 4.00004C2.79086 4.00004 1 5.7909 1 8.00004C1 10.2092 2.79086 12 5 12H7.29289L6.14645 13.1465L6.85355 13.8536L8.85355 11.8536L9.20711 11.5L8.85355 11.1465L6.85355 9.14648L6.14645 9.85359L7.29289 11H5C3.34315 11 2 9.65689 2 8.00004C2 6.34318 3.34315 5.00004 5 5.00004V4.00004Z",fill:"white"})}),M$=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0699 2.00004L8.99994 2L5.93007 14H7.00007L10.0699 2.00004ZM0.646461 7.64644L3.64646 4.64644L4.35357 5.35355L1.70712 8L4.35357 10.6464L3.64646 11.3536L0.646461 8.35355L0.292908 8L0.646461 7.64644ZM15.3536 8.35355L12.3536 11.3536L11.6465 10.6464L14.2929 8L11.6465 5.35355L12.3536 4.64644L15.3536 7.64644L15.7071 8L15.3536 8.35355Z",fill:"white"})}),XI=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 4V2H10V4H6ZM5 4V2C5 1.44772 5.44772 1 6 1H10C10.5523 1 11 1.44772 11 2V4H12H13H14V5H13V14C13 14.5523 12.5523 15 12 15H4C3.44772 15 3 14.5523 3 14V5H2V4H3H4H5ZM4 5V14H12V5H11H10H6H5H4ZM7 7V12H6V7H7ZM10 12V7H9V12H10Z",fill:"white"})}),L$=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M6 10H10V6H6V10Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14ZM8 15C11.866 15 15 11.866 15 8C15 4.13401 11.866 1 8 1C4.13401 1 1 4.13401 1 8C1 11.866 4.13401 15 8 15Z",fill:"white"})]}),u5=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8ZM6.17061 11.8899L11.6247 8.65516C12.1251 8.3584 12.1251 7.6416 11.6247 7.34484L6.17061 4.11006C5.65543 3.80451 5 4.17133 5 4.76522V11.2348C5 11.8287 5.65543 12.1955 6.17061 11.8899Z",fill:"white"})}),R$=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{d:"M16.376 10.416L5.77735 17.4818C5.44507 17.7033 5 17.4651 5 17.0657L5 2.93426C5 2.53491 5.44507 2.29671 5.77735 2.51823L16.376 9.58397C16.6728 9.78189 16.6728 10.2181 16.376 10.416Z",fill:"white"})}),zR=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{d:"M13.2854 8.42875L4.75725 13.5457C4.42399 13.7456 4 13.5056 4 13.1169L4 2.88309C4 2.49445 4.42399 2.25439 4.75725 2.45435L13.2854 7.57125C13.6091 7.76546 13.6091 8.23454 13.2854 8.42875Z",fill:"white"})}),N$=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 8C14 11.3137 11.3137 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8ZM15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8ZM5 6H7V10H5V6ZM9 6H11V10H9V6Z",fill:"white"})}),j$=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M4 4C4 3.44772 4.44772 3 5 3H6C6.55228 3 7 3.44772 7 4V12C7 12.5523 6.55228 13 6 13H5C4.44772 13 4 12.5523 4 12V4Z",fill:"white"}),r.jsx("path",{d:"M9 4C9 3.44772 9.44772 3 10 3H11C11.5523 3 12 3.44772 12 4V12C12 12.5523 11.5523 13 11 13H10C9.44772 13 9 12.5523 9 12V4Z",fill:"white"})]}),YR=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"1",fill:"white"})}),D$=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 8C2 5.24703 4.27482 3 7.1 3C7.88455 3 8.62622 3.17335 9.2886 3.48239L9.7114 2.57617C8.91898 2.20645 8.03321 2 7.1 2C3.73959 2 1 4.67784 1 8C1 11.3222 3.73959 14 7.1 14C8.03321 14 8.91898 13.7935 9.7114 13.4238L9.2886 12.5176C8.62622 12.8267 7.88455 13 7.1 13C4.27482 13 2 10.753 2 8ZM8 6H12V5H8V6ZM8 11H13V10H8V11ZM15 8.5H9V7.5H15V8.5Z",fill:"white"})}),F$=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{d:"M16.2477 4.08873C15.0651 3.57279 13.8166 3.20676 12.5342 3C12.3587 3.29895 12.1999 3.60652 12.0585 3.92144C10.6925 3.72528 9.30327 3.72528 7.93722 3.92144C7.79573 3.60655 7.63694 3.29898 7.46152 3C6.17826 3.20851 4.92896 3.5754 3.74515 4.09143C1.39498 7.40484 0.757891 10.6359 1.07644 13.8212C2.45275 14.7902 3.99324 15.5271 5.63094 16C5.99971 15.5274 6.32601 15.026 6.6064 14.5011C6.07384 14.3116 5.55982 14.0778 5.0703 13.8023C5.19914 13.7133 5.32514 13.6215 5.4469 13.5325C6.87129 14.1708 8.42594 14.5018 9.99999 14.5018C11.574 14.5018 13.1287 14.1708 14.5531 13.5325C14.6762 13.6283 14.8023 13.72 14.9297 13.8023C14.4392 14.0782 13.9242 14.3125 13.3907 14.5025C13.6708 15.0271 13.9971 15.5281 14.3662 16C16.0053 15.529 17.547 14.7924 18.9235 13.8225C19.2973 10.1287 18.285 6.92725 16.2477 4.08873ZM7.0099 11.8623C6.12221 11.8623 5.38885 11.0946 5.38885 10.1503C5.38885 9.20589 6.09673 8.43151 7.00707 8.43151C7.9174 8.43151 8.6451 9.20589 8.62953 10.1503C8.61396 11.0946 7.91457 11.8623 7.0099 11.8623ZM12.9901 11.8623C12.101 11.8623 11.3704 11.0946 11.3704 10.1503C11.3704 9.20589 12.0783 8.43151 12.9901 8.43151C13.9018 8.43151 14.6239 9.20589 14.6083 10.1503C14.5927 11.0946 13.8947 11.8623 12.9901 11.8623Z",fill:"white"})}),B$=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{d:"M12.8593 3.83748C11.9395 3.44061 10.9685 3.15905 9.97103 3C9.83453 3.22996 9.71103 3.46656 9.60104 3.7088C8.53856 3.55791 7.45809 3.55791 6.39561 3.7088C6.28556 3.46658 6.16206 3.22999 6.02562 3C5.02753 3.16039 4.05585 3.44262 3.13511 3.83956C1.30721 6.38834 0.811693 8.87381 1.05945 11.324C2.12992 12.0694 3.32807 12.6363 4.60184 13C4.88865 12.6364 5.14245 12.2508 5.36053 11.847C4.94631 11.7012 4.54652 11.5213 4.16578 11.3095C4.26599 11.241 4.36399 11.1704 4.45869 11.1019C5.56655 11.5929 6.77572 11.8475 7.99998 11.8475C9.22423 11.8475 10.4334 11.5929 11.5413 11.1019C11.6371 11.1756 11.7351 11.2462 11.8342 11.3095C11.4527 11.5217 11.0522 11.7019 10.6372 11.8481C10.855 12.2516 11.1088 12.637 11.3959 13C12.6708 12.6377 13.8698 12.0711 14.9405 11.325C15.2312 8.4836 14.4439 6.02096 12.8593 3.83748ZM5.67436 9.81714C4.98394 9.81714 4.41354 9.22665 4.41354 8.50021C4.41354 7.77377 4.96412 7.17808 5.67215 7.17808C6.38019 7.17808 6.94618 7.77377 6.93407 8.50021C6.92195 9.22665 6.37799 9.81714 5.67436 9.81714ZM10.3256 9.81714C9.63408 9.81714 9.06588 9.22665 9.06588 8.50021C9.06588 7.77377 9.61646 7.17808 10.3256 7.17808C11.0347 7.17808 11.5963 7.77377 11.5842 8.50021C11.5721 9.22665 11.0292 9.81714 10.3256 9.81714Z",fill:"white"})}),k$=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{d:"M17.1093 6.51992C17.1202 6.66885 17.1202 6.81777 17.1202 6.96806C17.1202 11.5476 13.4331 16.8291 6.69105 16.8291V16.8264C4.69944 16.8291 2.7492 16.2897 1.07259 15.2727C1.36218 15.3056 1.65323 15.3221 1.94501 15.3228C3.59549 15.3241 5.1988 14.8005 6.49726 13.8363C4.9288 13.8082 3.55339 12.8412 3.07291 11.4295C3.62234 11.5297 4.18847 11.5091 4.72775 11.3698C3.01775 11.0432 1.78751 9.62257 1.78751 7.97277V7.92885C2.29702 8.19718 2.86751 8.3461 3.45105 8.36257C1.84049 7.34483 1.34404 5.31894 2.31662 3.73502C4.17759 5.90022 6.92331 7.21649 9.87081 7.35581C9.57541 6.15208 9.97896 4.89071 10.9312 4.04453C12.4075 2.73238 14.7294 2.79963 16.1171 4.19483C16.938 4.04179 17.7248 3.75698 18.4448 3.35345C18.1711 4.15571 17.5985 4.83718 16.8335 5.27022C17.56 5.18924 18.2698 5.00532 18.9383 4.72463C18.4462 5.42189 17.8264 6.02924 17.1093 6.51992Z",fill:"white"})}),G$=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 19H17C18.1046 19 19 18.1046 19 17V3C19 1.89543 18.1046 1 17 1H3C1.89543 1 1 1.89543 1 3V17C1 18.1046 1.89543 19 3 19ZM16.5 16.5H13.8289V11.9505C13.8289 10.7032 13.3549 10.0061 12.3677 10.0061C11.2937 10.0061 10.7325 10.7315 10.7325 11.9505V16.5H8.15833V7.83333H10.7325V9.00073C10.7325 9.00073 11.5065 7.56855 13.3456 7.56855C15.1839 7.56855 16.5 8.69112 16.5 11.0128V16.5ZM5.08734 6.6985C4.21051 6.6985 3.5 5.98241 3.5 5.09925C3.5 4.21609 4.21051 3.5 5.08734 3.5C5.96416 3.5 6.67425 4.21609 6.67425 5.09925C6.67425 5.98241 5.96416 6.6985 5.08734 6.6985ZM3.75814 16.5H6.44235V7.83333H3.75814V16.5Z",fill:"white"})}),V$=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.97361 0.0342285L1.8801 0.647271C1.22716 0.70517 1 1.14272 1 1.66711V10.766C1 11.1744 1.14144 11.5239 1.48269 11.991L3.38521 14.528C3.69779 14.9364 3.98199 15.024 4.57877 14.9949L13.9776 14.4114C14.7723 14.3534 15 13.9739 15 13.3325V3.09614C15 2.76465 14.8723 2.6691 14.4964 2.3862L11.8483 0.471623C11.2233 0.00557882 10.9678 -0.0533705 9.97361 0.0340785V0.0342285ZM4.7913 2.92859C4.02382 2.98154 3.84976 2.99354 3.41388 2.6301L2.30574 1.72621C2.19312 1.60921 2.24972 1.46326 2.53349 1.43416L10.314 0.851119C10.9674 0.792619 11.3076 1.02617 11.5631 1.23016L12.8975 2.22165C12.9546 2.2512 13.0965 2.42565 12.9258 2.42565L4.89076 2.92169L4.7913 2.92859ZM3.89657 13.245V4.55517C3.89657 4.17568 4.01022 4.00063 4.35044 3.97123L13.5791 3.41714C13.8922 3.38819 14.0336 3.59219 14.0336 3.97108V12.603C14.0336 12.9825 13.9766 13.3035 13.4656 13.3325L4.63435 13.8575C4.12343 13.8864 3.89671 13.712 3.89671 13.245H3.89657ZM12.6142 5.02107C12.6708 5.28357 12.6142 5.54606 12.3582 5.57606L11.9326 5.66261V12.0785C11.563 12.2825 11.2227 12.399 10.9384 12.399C10.4839 12.399 10.3704 12.2531 10.0301 11.816L7.24657 7.32504V11.67L8.12711 11.8745C8.12711 11.8745 8.12711 12.3995 7.41668 12.3995L5.45814 12.516C5.40109 12.399 5.45814 12.1076 5.65662 12.0495L6.16813 11.904V6.15911L5.45828 6.10016C5.40124 5.83766 5.54312 5.45861 5.94097 5.42921L8.04242 5.28417L10.9385 9.83316V5.80871L10.2003 5.72171C10.1433 5.40026 10.3704 5.16672 10.6542 5.13822L12.6142 5.02107Z",fill:"white"})}),i9=r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M1.56158 14.9999L4.88958 5.8999H6.76158L10.0896 14.9999H8.32158L7.59359 12.8939H4.04458L3.30358 14.9999H1.56158ZM4.49958 11.5939H7.13859L5.81258 7.8109L4.49958 11.5939Z",fill:"white"}),r.jsx("path",{d:"M11.5218 14.9999V5.8999H14.8628C15.5908 5.8999 16.1888 6.02557 16.6568 6.2769C17.1335 6.51957 17.4888 6.85324 17.7228 7.2779C17.9568 7.6939 18.0738 8.15757 18.0738 8.6689C18.0738 9.22357 17.9265 9.73057 17.6318 10.1899C17.3458 10.6492 16.8952 10.9829 16.2798 11.1909L18.1648 14.9999H16.2538L14.5638 11.4119H13.1858V14.9999H11.5218ZM13.1858 10.1899H14.7588C15.3135 10.1899 15.7208 10.0556 15.9808 9.7869C16.2408 9.51824 16.3708 9.1629 16.3708 8.7209C16.3708 8.28757 16.2408 7.9409 15.9808 7.6809C15.7295 7.4209 15.3178 7.2909 14.7458 7.2909H13.1858V10.1899Z",fill:"white"})]}),WR=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 5H11V4H5V5ZM11 8H5V7H11V8ZM11 11H5V10H11V11Z",fill:"white"})}),H$=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M5 6C5 5.44772 5.44772 5 6 5H10C10.5523 5 11 5.44772 11 6V10C11 10.5523 10.5523 11 10 11H6C5.44772 11 5 10.5523 5 10V6Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 12V14C1 14.5523 1.44772 15 2 15H4V14H2L2 12H1ZM4 1H2C1.44772 1 1 1.44772 1 2V4H2V2L4 2V1ZM1 10H2V6H1V10ZM6 1V2H10V1H6ZM12 1V2H14V4H15V2C15 1.44772 14.5523 1 14 1H12ZM15 6H14V10H15V6ZM15 12H14V14H12V15H14C14.5523 15 15 14.5523 15 14V12ZM10 15V14H6V15H10Z",fill:"white"})]}),U$=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{d:"M14.9872 14.5395C14.9651 14.8148 14.724 15.0205 14.4487 14.9984C14.1737 14.9763 13.9686 14.7357 13.9903 14.4607L13.9903 14.4597L13.9909 14.4522C13.9914 14.4448 13.9921 14.4328 13.993 14.4162C13.9947 14.3831 13.9969 14.3319 13.9984 14.2642C14.0013 14.1287 14.0014 13.9272 13.9893 13.6716C13.9651 13.1601 13.8922 12.4343 13.6971 11.588C13.3069 9.89559 12.4307 7.73281 10.4859 5.82957C8.5344 3.91975 6.2852 2.96035 4.51455 2.47902C3.63025 2.23863 2.8697 2.11873 2.33264 2.059C2.06429 2.02916 1.8523 2.0144 1.70921 2.00711C1.63768 2.00346 1.58343 2.00169 1.54802 2.00082L1.50926 2.00009L1.50087 2.00001L1.49969 2C1.22369 1.99983 1 1.77604 1 1.5C1 1.22386 1.22386 1 1.5 1L1.50244 1L1.50681 1.00002L1.52126 1.00016C1.5334 1.0003 1.55054 1.00058 1.57248 1.00112C1.61635 1.00219 1.67943 1.00429 1.76011 1.00841C1.92145 1.01663 2.1534 1.03291 2.44316 1.06513C3.02232 1.12954 3.83462 1.2579 4.77687 1.51404C6.6593 2.02576 9.07791 3.05247 11.1854 5.11487C13.2995 7.18385 14.2499 9.53497 14.6715 11.3634C14.8823 12.2775 14.9616 13.0639 14.9882 13.6244C15.0014 13.9048 15.0015 14.1294 14.9981 14.2859C14.9964 14.3641 14.9938 14.4255 14.9916 14.4683C14.9905 14.4897 14.9895 14.5065 14.9887 14.5186L14.9877 14.533L14.9873 14.5374L14.9872 14.5395Z",fill:"white"})}),n9=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.4937 1.92074C15.5375 2.19338 15.352 2.44992 15.0794 2.49374C12.943 2.83709 10.7207 4.2058 8.43521 8.24625C7.16172 10.4976 5.95645 11.9635 4.74278 12.9163C3.5193 13.8767 2.31315 14.2955 1.07935 14.4937C0.806709 14.5376 0.550166 14.3521 0.506348 14.0794C0.462531 13.8068 0.648031 13.5502 0.920675 13.5064C2.02021 13.3297 3.05942 12.9664 4.12529 12.1297C5.20096 11.2852 6.32903 9.93859 7.56481 7.7539C9.94597 3.54435 12.3904 1.91306 14.9207 1.50641C15.1933 1.46259 15.4499 1.64809 15.4937 1.92074Z",fill:"white"})}),z$=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{d:"M1.46049 14.9872C1.18524 14.9651 0.979534 14.724 1.00163 14.4487C1.02372 14.1737 1.26437 13.9686 1.53934 13.9903L1.54034 13.9903L1.54783 13.9909C1.55519 13.9914 1.56725 13.9921 1.58382 13.993C1.61697 13.9947 1.66815 13.9969 1.73588 13.9984C1.87137 14.0013 2.07282 14.0014 2.32839 13.9893C2.83993 13.9651 3.56576 13.8922 4.412 13.6971C6.10444 13.3069 8.26722 12.4307 10.1705 10.4859C12.0803 8.5344 13.0397 6.2852 13.521 4.51455C13.7614 3.63025 13.8813 2.8697 13.941 2.33264C13.9709 2.06429 13.9856 1.8523 13.9929 1.70921C13.9966 1.63768 13.9983 1.58343 13.9992 1.54802L13.9999 1.50926L14 1.50087L14 1.49969C14.0002 1.22369 14.224 1 14.5 1C14.7762 1 15 1.22386 15 1.5L15 1.50244L15 1.50681L14.9999 1.52126C14.9997 1.5334 14.9994 1.55054 14.9989 1.57248C14.9978 1.61635 14.9957 1.67943 14.9916 1.76011C14.9834 1.92145 14.9671 2.1534 14.9349 2.44316C14.8705 3.02232 14.7421 3.83462 14.486 4.77687C13.9743 6.6593 12.9476 9.07791 10.8852 11.1854C8.81618 13.2995 6.46506 14.2499 4.63667 14.6715C3.7225 14.8823 2.93617 14.9616 2.37566 14.9882C2.09521 15.0014 1.87066 15.0015 1.71416 14.9981C1.63589 14.9964 1.57458 14.9938 1.53173 14.9916C1.51031 14.9905 1.49349 14.9895 1.48148 14.9887L1.46708 14.9877L1.46262 14.9873L1.46049 14.9872Z",fill:"white"})}),Y$=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{d:"M14.5395 1.01284C14.8148 1.03494 15.0205 1.27603 14.9984 1.55129C14.9763 1.82631 14.7357 2.03142 14.4607 2.00973L14.4597 2.00965L14.4522 2.00913C14.4448 2.00864 14.4328 2.00789 14.4162 2.00703C14.3831 2.0053 14.3319 2.00311 14.2642 2.00164C14.1287 1.9987 13.9272 1.99862 13.6716 2.01072C13.1601 2.03493 12.4343 2.1078 11.588 2.30292C9.89559 2.69314 7.73281 3.56926 5.82957 5.51407C3.91975 7.4656 2.96035 9.7148 2.47902 11.4855C2.23863 12.3697 2.11873 13.1303 2.059 13.6674C2.02916 13.9357 2.0144 14.1477 2.00711 14.2908C2.00346 14.3623 2.00169 14.4166 2.00082 14.452L2.00009 14.4907L2.00001 14.4991L2 14.5003C1.99983 14.7763 1.77604 15 1.5 15C1.22386 15 1 14.7761 1 14.5L1 14.4976L1.00002 14.4932L1.00016 14.4787C1.0003 14.4666 1.00058 14.4495 1.00112 14.4275C1.00219 14.3836 1.00429 14.3206 1.00841 14.2399C1.01663 14.0786 1.03291 13.8466 1.06513 13.5568C1.12954 12.9777 1.2579 12.1654 1.51404 11.2231C2.02576 9.3407 3.05247 6.92209 5.11487 4.81464C7.18385 2.70047 9.53497 1.75005 11.3634 1.32848C12.2775 1.1177 13.0639 1.03836 13.6244 1.01183C13.9048 0.998561 14.1294 0.99848 14.2859 1.00188C14.3641 1.00358 14.4255 1.00615 14.4683 1.00839C14.4897 1.0095 14.5065 1.01054 14.5186 1.01134L14.533 1.01234L14.5374 1.01267L14.5395 1.01284Z",fill:"white"})}),W$=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.69339 9.4313C1.64966 10.5935 1.59933 11.8289 1.49827 13.0415C1.47534 13.3167 1.23366 13.5212 0.958475 13.4983C0.683286 13.4753 0.478792 13.2337 0.501724 12.9585C0.600669 11.7711 0.650339 10.5565 0.694101 9.3937C0.697766 9.29632 0.70139 9.19926 0.705 9.10258C0.744308 8.04995 0.78193 7.04248 0.851548 6.16065C0.926859 5.20671 1.0425 4.35178 1.2585 3.72467C1.46298 3.13103 1.84969 2.5 2.6 2.5C3.27764 2.5 3.7327 3.00913 4.03552 3.48969C4.3519 3.99178 4.6183 4.64946 4.86424 5.2643C4.87561 5.29274 4.88694 5.32109 4.89824 5.34937C5.14035 5.95504 5.36738 6.52299 5.62228 6.97184C5.90168 7.46383 6.13731 7.66894 6.32127 7.71493C6.61416 7.78815 6.7845 7.74431 6.9067 7.67851C7.05202 7.60027 7.18576 7.46104 7.35532 7.24303C7.38558 7.20412 7.41826 7.16076 7.45311 7.11452C7.58797 6.93558 7.75522 6.71366 7.93967 6.54111C8.19671 6.30066 8.53799 6.1 9 6.1C9.45449 6.1 9.79509 6.28787 10.0571 6.52879C10.263 6.71808 10.4395 6.96085 10.5845 7.16026C10.608 7.19259 10.6307 7.22377 10.6525 7.2534C10.9919 7.71401 11.2606 8 11.8 8H15C15.2761 8 15.5 8.22386 15.5 8.5C15.5 8.77614 15.2761 9 15 9H11.8C10.7394 9 10.2081 8.33599 9.84747 7.8466C9.81926 7.80832 9.7925 7.77173 9.7669 7.73673C9.61695 7.53173 9.50697 7.38137 9.38035 7.26496C9.2549 7.14963 9.1455 7.1 9 7.1C8.862 7.1 8.75329 7.14934 8.62283 7.27139C8.5076 7.37918 8.41175 7.50586 8.28729 7.67036C8.2439 7.7277 8.19704 7.78964 8.14467 7.85697C7.96424 8.08896 7.72298 8.37473 7.3808 8.55899C7.01549 8.75569 6.58583 8.81185 6.07873 8.68507C5.46268 8.53106 5.04831 7.98617 4.75272 7.46566C4.46275 6.95507 4.21215 6.32764 3.97946 5.74505C3.96482 5.70841 3.95026 5.67194 3.93576 5.6357C3.6817 5.00054 3.44809 4.43322 3.18948 4.02281C2.91729 3.59087 2.72236 3.5 2.6 3.5C2.5503 3.5 2.38702 3.51897 2.20399 4.05033C2.0325 4.54822 1.92314 5.29329 1.84845 6.23935C1.78056 7.09931 1.7437 8.08576 1.70414 9.14442C1.70059 9.23948 1.69701 9.33512 1.69339 9.4313Z",fill:"white"})}),X$=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.3066 6.3187C14.3503 5.15652 14.4007 3.92114 14.5017 2.70848C14.5247 2.43329 14.7663 2.2288 15.0415 2.25173C15.3167 2.27466 15.5212 2.51633 15.4983 2.79152C15.3993 3.97886 15.3497 5.19348 15.3059 6.3563C15.3022 6.45368 15.2986 6.55074 15.295 6.64742C15.2557 7.70005 15.2181 8.70752 15.1485 9.58935C15.0731 10.5433 14.9575 11.3982 14.7415 12.0253C14.537 12.619 14.1503 13.25 13.4 13.25C12.7224 13.25 12.2673 12.7409 11.9645 12.2603C11.6481 11.7582 11.3817 11.1005 11.1358 10.4857C11.1244 10.4573 11.1131 10.4289 11.1018 10.4006C10.8597 9.79497 10.6326 9.22701 10.3777 8.77816C10.0983 8.28617 9.86269 8.08106 9.67873 8.03507C9.38584 7.96185 9.2155 8.00569 9.0933 8.07149C8.94798 8.14973 8.81424 8.28896 8.64468 8.50697C8.61442 8.54588 8.58173 8.58925 8.54688 8.63549C8.41202 8.81443 8.24478 9.03634 8.06033 9.20889C7.80329 9.44934 7.46201 9.65 7 9.65C6.20341 9.65 5.75751 9.12791 5.45377 8.77227C5.42595 8.73969 5.39931 8.70851 5.37371 8.67925C5.20274 8.48385 5.05683 8.3336 4.8817 8.22583C4.71765 8.12487 4.50852 8.05 4.2 8.05H1C0.723861 8.05 0.500003 7.82614 0.500003 7.55C0.500003 7.27386 0.723861 7.05 1 7.05H4.2C4.69148 7.05 5.08236 7.17513 5.4058 7.37417C5.71818 7.5664 5.94727 7.81615 6.12629 8.02075C6.13478 8.03045 6.14315 8.04002 6.15142 8.04947C6.5277 8.47968 6.67667 8.65 7 8.65C7.138 8.65 7.24671 8.60066 7.37717 8.47861C7.49241 8.37082 7.58825 8.24414 7.71272 8.07963C7.7561 8.0223 7.80296 7.96036 7.85533 7.89303C8.03576 7.66104 8.27702 7.37527 8.6192 7.19101C8.98451 6.99431 9.41417 6.93815 9.92127 7.06493C10.5373 7.21894 10.9517 7.76383 11.2473 8.28434C11.5372 8.79493 11.7879 9.42236 12.0205 10.0049C12.0352 10.0416 12.0497 10.0781 12.0642 10.1143C12.3183 10.7495 12.5519 11.3168 12.8105 11.7272C13.0827 12.1591 13.2776 12.25 13.4 12.25C13.4497 12.25 13.613 12.231 13.796 11.6997C13.9675 11.2018 14.0769 10.4567 14.1516 9.51065C14.2194 8.65069 14.2563 7.66424 14.2959 6.60558C14.2994 6.51052 14.303 6.41488 14.3066 6.3187Z",fill:"white"})}),o9=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.44796 14.1658C7.2531 14.5538 6.91462 15 6.35294 15C5.57485 15 5.10271 14.5022 4.81982 13.9451C4.54645 13.4069 4.39413 12.7153 4.26762 12.1008C4.25326 12.0311 4.23922 11.9623 4.2254 11.8945C4.1102 11.3301 4.00979 10.8381 3.86173 10.4662C3.6902 10.0352 3.55218 10 3.47059 10H1.00034C0.724197 10 0.5 9.77614 0.5 9.5C0.5 9.22386 0.723858 9 1 9H3.47059C4.21253 9 4.58921 9.58978 4.79084 10.0963C4.97449 10.5577 5.09398 11.1462 5.20461 11.6909C5.21887 11.7612 5.23299 11.8307 5.24708 11.8992C5.37792 12.5347 5.5087 13.0931 5.71143 13.4924C5.90259 13.8688 6.09744 13.9973 6.34497 14C6.36424 13.9915 6.44059 13.9435 6.55434 13.717C6.70213 13.4227 6.83657 12.9681 6.95646 12.3704C7.19472 11.1827 7.34694 9.58707 7.50224 7.9527L7.50431 7.9309C7.65717 6.32219 7.8135 4.67704 8.06308 3.43291C8.18767 2.81181 8.34276 2.25086 8.55204 1.83418C8.7469 1.44621 9.08538 1 9.64706 1C10.4251 1 10.8973 1.4978 11.1802 2.05485C11.4536 2.59314 11.6059 3.2847 11.7324 3.89917C11.7467 3.96892 11.7608 4.03771 11.7746 4.10546C11.8898 4.66987 11.9902 5.16188 12.1383 5.53384C12.3098 5.96478 12.4478 6 12.5294 6H15C15.2761 6 15.5 6.22386 15.5 6.5C15.5 6.77614 15.2761 7 15 7H12.5294C11.7875 7 11.4108 6.41022 11.2092 5.90366C11.0255 5.44227 10.906 4.85385 10.7954 4.30907C10.7811 4.23881 10.767 4.16927 10.7529 4.10083C10.6221 3.4653 10.4913 2.90686 10.2886 2.50765C10.0974 2.13123 9.90256 2.00272 9.65503 2.00004C9.63576 2.00852 9.55941 2.05653 9.44566 2.28301C9.29786 2.57727 9.16343 3.03194 9.04354 3.62959C8.80528 4.81734 8.65306 6.41293 8.49776 8.0473L8.49569 8.0691C8.34283 9.67781 8.1865 11.323 7.93692 12.5671C7.81233 13.1882 7.65724 13.7491 7.44796 14.1658Z",fill:"white"})}),XR=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.3796 1.67461C15.5593 1.88428 15.5351 2.19993 15.3254 2.37964L1.3254 14.3796C1.11574 14.5593 0.800092 14.5351 0.620381 14.3254C0.44067 14.1157 0.46495 13.8001 0.674613 13.6204L14.6746 1.62038C14.8843 1.44067 15.1999 1.46495 15.3796 1.67461Z",fill:"white"})}),r9=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.4937 2.42074C15.5375 2.69338 15.352 2.94992 15.0794 2.99374C13.96 3.17364 12.8718 3.49781 11.7858 4.25413C10.696 5.01307 9.57551 6.23036 8.43521 8.24625C7.15712 10.5057 5.94344 11.8563 4.71401 12.6872C3.47964 13.5215 2.2718 13.8021 1.07935 13.9937C0.806709 14.0376 0.550166 13.8521 0.506348 13.5794C0.462531 13.3068 0.648031 13.0502 0.920675 13.0064C2.06156 12.8231 3.09908 12.5717 4.15406 11.8587C5.21397 11.1424 6.33363 9.93046 7.56481 7.7539C8.75785 5.64479 9.9707 4.29958 11.2143 3.43352C12.4616 2.56484 13.7067 2.20151 14.9207 2.00641C15.1933 1.96259 15.4499 2.14809 15.4937 2.42074Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 2.5C6 2.77614 5.77614 3 5.5 3C5.22386 3 5 2.77614 5 2.5C5 2.22386 5.22386 2 5.5 2C5.77614 2 6 2.22386 6 2.5ZM6.91705 2.99315C6.71308 3.57932 6.15567 4 5.5 4C4.67157 4 4 3.32843 4 2.5C4 1.67157 4.67157 1 5.5 1C6.15567 1 6.71308 1.42068 6.91705 2.00685C6.94403 2.00234 6.97174 2 7 2L15 2C15.2761 2 15.5 2.22386 15.5 2.5C15.5 2.77614 15.2761 3 15 3L7 3C6.97174 3 6.94403 2.99766 6.91705 2.99315ZM9.08295 13.9932C9.05597 13.9977 9.02826 14 9 14H1C0.723857 14 0.5 13.7761 0.5 13.5C0.5 13.2239 0.723857 13 1 13H9C9.02826 13 9.05597 13.0023 9.08295 13.0068C9.28692 12.4207 9.84433 12 10.5 12C11.3284 12 12 12.6716 12 13.5C12 14.3284 11.3284 15 10.5 15C9.84433 15 9.28692 14.5793 9.08295 13.9932ZM10 13.5C10 13.2239 10.2239 13 10.5 13C10.7761 13 11 13.2239 11 13.5C11 13.7761 10.7761 14 10.5 14C10.2239 14 10 13.7761 10 13.5Z",fill:"white",fillOpacity:"0.4"})]}),Z$=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 2L14 6.58359L11.5172 14H3.48278L1 6.58359L7.5 2ZM2.21402 6.96645L4.23309 12.9977H10.7669L12.786 6.96645L7.5 3.23895L2.21402 6.96645Z",fill:"white"})}),ZR=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("g",{clipPath:"url(#clip0_3295_2862)",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 7.99993L12.2426 3.75729C12.0046 3.51928 11.7481 3.30281 11.4762 3.10952C10.7894 2.62135 10.0043 2.28106 9.17054 2.11522C8.00666 1.88371 6.80026 2.00253 5.7039 2.45665C4.60755 2.91078 3.67047 3.67981 3.01119 4.66651C2.3519 5.6532 2 6.81324 2 7.99993C2 9.18662 2.3519 10.3467 3.01119 11.3334C3.67047 12.32 4.60755 13.0891 5.7039 13.5432C6.80026 13.9973 8.00666 14.1162 9.17054 13.8846C10.0043 13.7188 10.7894 13.3785 11.4762 12.8903C11.7481 12.697 12.0046 12.4806 12.2426 12.2426L8 7.99993ZM10.757 12.1711L6.58579 7.99993L10.757 3.82872C10.2189 3.47305 9.6143 3.22308 8.97545 3.096C8.00555 2.90308 7.00022 3.00209 6.08659 3.38053C5.17296 3.75897 4.39206 4.39983 3.84265 5.22208C3.29325 6.04432 3 7.01102 3 7.99993C3 8.98884 3.29325 9.95553 3.84265 10.7778C4.39206 11.6 5.17296 12.2409 6.08659 12.6193C7.00022 12.9978 8.00555 13.0968 8.97545 12.9039C9.6143 12.7768 10.2189 12.5268 10.757 12.1711Z",fill:"white"})}),r.jsx("defs",{children:r.jsx("clipPath",{id:"clip0_3295_2862",children:r.jsx("rect",{width:"16",height:"16",fill:"white"})})})]}),K$=r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M7.35212 8C6.07268 8 4.97468 8.73181 4.7389 9.98434L4.0152 13.9716C3.9146 14.506 4.32622 15 4.87211 15C5.28771 15 5.64553 14.7078 5.72703 14.3019L6.39151 10.8499C6.43685 10.6241 6.63591 10.4615 6.8671 10.4615C7.13497 10.4615 7.35212 10.6778 7.35212 10.9446L7.54378 14.0802C7.57537 14.597 8.00374 15 8.52155 15H11.4785C11.9963 15 12.4246 14.597 12.4562 14.0802L12.6479 10.9446C12.6479 10.6778 12.865 10.4615 13.1329 10.4615C13.3641 10.4615 13.5632 10.6241 13.6085 10.8499L14.273 14.3019C14.3545 14.7078 14.7123 15 15.1279 15C15.6738 15 16.0854 14.506 15.9848 13.9716L15.2611 9.98434C15.0253 8.73181 13.9273 8 12.6479 8H7.35212Z",fill:"white"}),r.jsx("path",{d:"M12 5C12 6.10457 11.1046 7 10 7C8.89543 7 8 6.10457 8 5C8 3.89543 8.89543 3 10 3C11.1046 3 12 3.89543 12 5Z",fill:"white"}),r.jsx("ellipse",{cx:"10",cy:"17.5",rx:"4",ry:"0.5",fill:"white"})]}),q$=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M5.79343 6C4.72723 6 3.81224 6.64034 3.61575 7.73629L3.01266 11.1001C2.92883 11.5677 3.27185 12 3.72676 12C4.07309 12 4.37127 11.7443 4.43919 11.3892L4.99292 8.49365C5.03071 8.29607 5.19659 8.15385 5.38925 8.15385C5.61247 8.15385 5.79343 8.3431 5.79343 8.57655L5.94329 11.0602C5.97515 11.5882 6.41259 12 6.94148 12H9.05852C9.58741 12 10.0249 11.5882 10.0567 11.0602L10.2066 8.57655C10.2066 8.3431 10.3875 8.15385 10.6107 8.15385C10.8034 8.15385 10.9693 8.29607 11.0071 8.49365L11.5608 11.3892C11.6287 11.7443 11.9269 12 12.2732 12C12.7282 12 13.0712 11.5677 12.9873 11.1001L12.3843 7.73629C12.1878 6.64034 11.2728 6 10.2066 6H5.79343Z",fill:"white"}),r.jsx("path",{d:"M10 3C10 4.10457 9.10457 5 8 5C6.89543 5 6 4.10457 6 3C6 1.89543 6.89543 1 8 1C9.10457 1 10 1.89543 10 3Z",fill:"white"}),r.jsx("ellipse",{cx:"8",cy:"14.5",rx:"3",ry:"0.5",fill:"white"})]}),Q$=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M8.00003 1C6.34317 1 5.00003 2.34314 5.00003 4C5.00003 5.65685 6.34317 6.99999 8.00003 6.99999V1Z",fill:"white"}),r.jsx("path",{d:"M8.00003 1C9.65689 1 11 2.34314 11 4C11 5.65685 9.65689 6.99999 8.00003 6.99999V1Z",fill:"white",fillOpacity:"0.3"}),r.jsx("path",{d:"M8 8H5.35212C4.07269 8 2.97469 8.80042 2.7389 10.1704L2.01517 13.8752C1.91456 14.4597 2.32619 15 2.87208 15C3.28767 15 3.64549 14.6804 3.727 14.2365L4.39151 11.4248C4.43685 11.1778 4.63591 11 4.86711 11C5.13497 11 5.35212 11.1329 5.35212 11.4248L5.6 13.8C5.63822 14.4599 6.09511 15 6.72978 15H7.36489H8V8Z",fill:"white"}),r.jsx("path",{d:"M8 8H10.6479C11.9273 8 13.0253 8.80042 13.2611 10.1704L13.9848 13.8752C14.0854 14.4597 13.6738 15 13.1279 15C12.7123 15 12.3545 14.6804 12.273 14.2365L11.6085 11.4248C11.5631 11.1778 11.3641 11 11.1329 11C10.865 11 10.6479 11.188 10.6479 11.4798L10.4 13.8C10.3618 14.4599 9.90489 15 9.27022 15H8.63511H8V8Z",fill:"white",fillOpacity:"0.3"})]}),J$=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M8.00003 1C6.34317 1 5.00003 2.34314 5.00003 4C5.00003 5.65685 6.34318 6.99999 8.00003 6.99999L8.00003 1Z",fill:"white",fillOpacity:"0.3"}),r.jsx("path",{d:"M8.00003 1C9.65688 1 11 2.34314 11 4C11 5.65685 9.65688 6.99999 8.00003 6.99999L8.00003 1Z",fill:"white"}),r.jsx("path",{d:"M8 8L5.35212 8C4.07269 8 2.97469 8.80042 2.7389 10.1704L2.01517 13.8752C1.91457 14.4597 2.32619 15 2.87208 15C3.28768 15 3.64549 14.6804 3.727 14.2365L4.39151 11.4248C4.43685 11.1778 4.63591 11 4.86711 11C5.13497 11 5.35212 11.1329 5.35212 11.4248L5.6 13.8C5.63822 14.4599 6.09511 15 6.72978 15L7.36489 15L8 15L8 8Z",fill:"white",fillOpacity:"0.3"}),r.jsx("path",{d:"M8 8L10.6479 8C11.9273 8 13.0253 8.80042 13.2611 10.1704L13.9848 13.8752C14.0854 14.4597 13.6738 15 13.1279 15C12.7123 15 12.3545 14.6804 12.273 14.2365L11.6085 11.4248C11.5631 11.1778 11.3641 11 11.1329 11C10.865 11 10.6479 11.188 10.6479 11.4798L10.4 13.8C10.3618 14.4599 9.9049 15 9.27022 15L8 15L8 8Z",fill:"white"})]}),$$=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.35212 8H8H10.6479C11.9273 8 13.0253 8.80042 13.2611 10.1704L13.9848 13.8752C14.0854 14.4597 13.6738 15 13.1279 15C12.7123 15 12.3545 14.6804 12.273 14.2365L11.6085 11.4248C11.5631 11.1778 11.3641 11 11.1329 11C10.865 11 10.6479 11.1329 10.6479 11.4248L10.4 13.8C10.3618 14.4599 9.90489 15 9.27022 15H8.63511H8H7.36489H6.72978C6.09511 15 5.63822 14.4599 5.6 13.8L5.35212 11.4248C5.35212 11.1329 5.13497 11 4.86711 11C4.63591 11 4.43685 11.1778 4.39151 11.4248L3.727 14.2365C3.64549 14.6804 3.28767 15 2.87208 15C2.32619 15 1.91456 14.4597 2.01517 13.8752L2.7389 10.1704C2.97469 8.80042 4.07269 8 5.35212 8Z",fill:"white",fillOpacity:"0.3"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 4C5 2.34314 6.34314 1 8 1V6.99999C6.34314 6.99999 5 5.65685 5 4ZM11 4C11 2.34314 9.65686 1 8 1V6.99999C9.65686 6.99999 11 5.65685 11 4Z",fill:"white"})]}),KR=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{d:"M8 2C4.69106 2 2 4.69106 2 8C2 11.3089 4.69106 14 8 14C11.3089 14 14 11.3089 14 8C14 4.69106 11.3089 2 8 2ZM8 2.79687V13.2C5.12331 13.2 2.79997 10.8766 2.79997 7.99995C2.79997 5.12325 5.12331 2.79687 8 2.79687Z",fill:"white"})}),ZI=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 1C7.22386 1 7 1.22386 7 1.5V7.5C7 7.77614 7.22386 8 7.5 8C7.77614 8 8 7.77614 8 7.5V1.5C8 1.22386 7.77614 1 7.5 1ZM4.19975 3.99987C4.42053 3.834 4.46503 3.52056 4.29916 3.29979C4.13329 3.07902 3.81985 3.03451 3.59908 3.20038C2.02178 4.38543 1 6.27353 1 8.40013C1 11.99 3.91015 14.9001 7.5 14.9001C11.0899 14.9001 14 11.99 14 8.40013C14 6.27353 12.9782 4.38543 11.4009 3.20038C11.1801 3.03451 10.8667 3.07902 10.7008 3.29979C10.535 3.52056 10.5795 3.834 10.8002 3.99987C12.137 5.00417 13 6.60129 13 8.40013C13 11.4377 10.5376 13.9001 7.5 13.9001C4.46243 13.9001 2 11.4377 2 8.40013C2 6.60129 2.86304 5.00417 4.19975 3.99987Z",fill:"white"})}),Xw=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M14 1.5L0.5 15",stroke:"white",strokeLinecap:"round"}),r.jsx("path",{d:"M14 1.5L0.5 15",stroke:"white",strokeLinecap:"round"}),r.jsx("path",{d:"M14 1.5L0.5 15",stroke:"white",strokeLinecap:"round"}),r.jsx("path",{d:"M14 1.5L0.5 15",stroke:"white",strokeLinecap:"round"}),r.jsx("path",{d:"M14 1.5L0.5 15",stroke:"white",strokeLinecap:"round"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 1C7.22386 1 7 1.22386 7 1.5V7.5C7 7.77614 7.22386 8 7.5 8C7.77614 8 8 7.77614 8 7.5V1.5C8 1.22386 7.77614 1 7.5 1ZM4.19975 3.99987C4.42053 3.834 4.46503 3.52056 4.29916 3.29979C4.13329 3.07902 3.81985 3.03451 3.59908 3.20038C2.02178 4.38543 1 6.27353 1 8.40013C1 10.2686 1.78839 11.953 3.05067 13.1387L3.75819 12.4311C2.67669 11.4268 2 9.99248 2 8.40013C2 6.60129 2.86304 5.00417 4.19975 3.99987ZM5.00678 13.3039L4.26911 14.0416C5.22084 14.5878 6.32395 14.9001 7.5 14.9001C11.0899 14.9001 14 11.99 14 8.40013C14 7.22405 13.6875 6.12092 13.1414 5.16931L12.4038 5.90683C12.7852 6.65533 13 7.50262 13 8.40013C13 11.4377 10.5376 13.9001 7.5 13.9001C6.60249 13.9001 5.75519 13.6851 5.00678 13.3039ZM12 3.70973C12.0816 3.78801 12.1611 3.86841 12.2385 3.95083L11.531 4.65829C11.3078 4.41792 11.0633 4.1975 10.8004 4H12V3.70973Z",fill:"white"})]}),ttt=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 15L1 14L15 14L15 15L1 15ZM1 2L1 1L15 1L15 2L1 2ZM6 6L10 6L10 10L6 10L6 6ZM5 6C5 5.44772 5.44772 5 6 5L10 5C10.5523 5 11 5.44771 11 6L11 10C11 10.5523 10.5523 11 10 11L6 11C5.44772 11 5 10.5523 5 10L5 6Z",fill:"white"})}),qR=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 1L1 1L1 15H2L2 1ZM14 1L15 1V15H14V1ZM10 6L6 6L6 10H10V6ZM6 5C5.44772 5 5 5.44772 5 6L5 10C5 10.5523 5.44772 11 6 11H10C10.5523 11 11 10.5523 11 10V6C11 5.44772 10.5523 5 10 5H6Z",fill:"white"})}),ett=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsxs("g",{clipPath:"url(#clip0_3420_284)",children:[r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 8H2V14H8V8ZM2 7C1.44772 7 1 7.44772 1 8V14C1 14.5523 1.44772 15 2 15H8C8.55228 15 9 14.5523 9 14V8C9 7.44772 8.55228 7 8 7H2Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4L7 2C7 1.44772 7.44772 1 8 1L14 1C14.5523 1 15 1.44772 15 2L15 8C15 8.55229 14.5523 9 14 9L12 9L12 8L14 8L14 2L8 2L8 4L7 4Z",fill:"white"})]}),r.jsx("defs",{children:r.jsx("clipPath",{id:"clip0_3420_284",children:r.jsx("rect",{width:"16",height:"16",fill:"white",transform:"matrix(-1 0 0 1 16 0)"})})})]}),stt=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 8C2 5.24703 4.27482 3 7.1 3C7.88455 3 8.62622 3.17335 9.2886 3.48239L9.7114 2.57617C8.91898 2.20645 8.03321 2 7.1 2C3.73959 2 1 4.67784 1 8C1 11.3222 3.73959 14 7.1 14C8.03321 14 8.91898 13.7935 9.7114 13.4238L9.2886 12.5176C8.62622 12.8267 7.88455 13 7.1 13C4.27482 13 2 10.753 2 8ZM8 6H12V5H8V6ZM8 11H13V10H8V11ZM15 8.5H9V7.5H15V8.5Z",fill:"white"})}),Zw=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 3V1H8.5V3H7.5ZM13 7.5H15V8.5H13V7.5ZM12.5962 13.3033L13.3033 12.5962L11.8891 11.1819L11.182 11.889L12.5962 13.3033ZM3.40372 13.3033L2.69662 12.5962L4.11083 11.1819L4.81794 11.889L3.40372 13.3033ZM7.5 13V15H8.5V13H7.5ZM1 7.5H3V8.5H1V7.5ZM4.81803 4.1108L3.40382 2.69659L2.69671 3.4037L4.11092 4.81791L4.81803 4.1108ZM13.3033 3.4037L11.8891 4.81791L11.182 4.1108L12.5962 2.69659L13.3033 3.4037ZM12 8C12 10.2091 10.2091 12 8 12C5.79086 12 4 10.2091 4 8C4 5.79086 5.79086 4 8 4C10.2091 4 12 5.79086 12 8ZM5 8C5 9.65685 6.34315 11 8 11V5C6.34315 5 5 6.34315 5 8Z",fill:"white"})}),itt=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.12858 13.2922C6.21194 14.3802 7.68176 14.9919 9.21484 14.992C9.97392 14.9921 10.7255 14.842 11.4267 14.5503C12.1279 14.2587 12.7649 13.8313 13.3014 13.2926C14.3848 12.2048 14.9932 10.7297 14.9933 9.19201C14.9934 7.65434 14.3851 6.17911 13.3018 5.0911L9.21477 0.987793L6.47271 3.74016L10.5571 7.84073C10.7336 8.01792 10.8737 8.22841 10.9693 8.46023C11.0649 8.69205 11.1142 8.94059 11.1142 9.19164C11.1142 9.44268 11.0649 9.69122 10.9693 9.92304C10.8737 10.1549 10.7336 10.3653 10.5571 10.5425C10.2008 10.9002 9.71808 11.1008 9.21521 11.1008C8.71235 11.1008 8.22964 10.9002 7.87336 10.5425L3.78629 6.43923L1.04423 9.1916L5.12858 13.2922ZM4.41729 11.161L5.83709 12.5865C6.73325 13.4865 7.94841 13.9919 9.21491 13.992C9.84208 13.992 10.4632 13.868 11.0427 13.627C11.6223 13.386 12.149 13.0326 12.5928 12.587C13.4892 11.6869 13.9932 10.4658 13.9933 9.19195C13.9933 7.91821 13.4895 6.69694 12.5933 5.7968L11.1902 4.38807L9.8572 5.72106L11.2656 7.13503C11.5347 7.40527 11.7482 7.72601 11.8937 8.07886C12.0393 8.43171 12.1142 8.80983 12.1142 9.19164C12.1142 9.57344 12.0393 9.95156 11.8937 10.3044C11.7482 10.6573 11.5348 10.978 11.2656 11.2482C10.7221 11.7939 9.9846 12.1008 9.21521 12.1008C8.44583 12.1008 7.70836 11.7939 7.16487 11.2483L5.75028 9.82804L4.41729 11.161Z",fill:"white"})}),ntt=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.21484 14.992C7.68176 14.9919 6.21194 14.3802 5.12858 13.2922L4.94889 13.1118L5.656 12.4047L5.83709 12.5865C6.73325 13.4865 7.94841 13.9919 9.21491 13.992C9.84208 13.992 10.4632 13.868 11.0427 13.627C11.6223 13.386 12.149 13.0326 12.5928 12.587C13.4892 11.6869 13.9932 10.4658 13.9933 9.19195C13.9933 7.91821 13.4895 6.69694 12.5933 5.7968L12.4289 5.63173L13.136 4.92463L13.3018 5.0911C14.3851 6.17911 14.9934 7.65434 14.9933 9.19201C14.9932 10.7297 14.3848 12.2048 13.3014 13.2926C12.7649 13.8313 12.1279 14.2587 11.4267 14.5503C10.7255 14.842 9.97392 14.9921 9.21484 14.992ZM12.0775 3.86186L9.21477 0.987793L6.47271 3.74016L9.33027 6.60907L10.0374 5.90196L9.8572 5.72106L11.1902 4.38807L11.3704 4.56897L12.0775 3.86186ZM11.0959 6.96472L11.2656 7.13503C11.5347 7.40527 11.7482 7.72601 11.8937 8.07886C12.0393 8.43171 12.1142 8.80983 12.1142 9.19164C12.1142 9.57344 12.0393 9.95156 11.8937 10.3044C11.7482 10.6573 11.5348 10.978 11.2656 11.2482C10.7221 11.7939 9.9846 12.1008 9.21521 12.1008C8.44583 12.1008 7.70836 11.7939 7.16487 11.2483L6.98899 11.0717L7.69609 10.3646L7.87336 10.5425C8.22964 10.9002 8.71235 11.1008 9.21521 11.1008C9.71808 11.1008 10.2008 10.9002 10.5571 10.5425C10.7336 10.3653 10.8737 10.1549 10.9693 9.92304C11.0649 9.69122 11.1142 9.44268 11.1142 9.19164C11.1142 8.94059 11.0649 8.69205 10.9693 8.46023C10.8737 8.22841 10.7336 8.01792 10.5571 7.84073L10.3888 7.67183L11.0959 6.96472ZM4.59744 11.3419L4.41729 11.161L5.75028 9.82804L5.93043 10.0089L6.63754 9.3018L3.78629 6.43923L1.04423 9.1916L3.89034 12.049L4.59744 11.3419Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.3536 1.14645C14.5488 1.34171 14.5488 1.65829 14.3536 1.85355L1.85355 14.3536C1.65829 14.5488 1.34171 14.5488 1.14645 14.3536C0.951184 14.1583 0.951184 13.8417 1.14645 13.6464L13.6464 1.14645C13.8417 0.951184 14.1583 0.951184 14.3536 1.14645Z",fill:"white"})]}),f5=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.1218 5.11748L14.2371 3.44004L13.763 2.55957L1.88147 8.95731L13.7905 14.4538L14.2096 13.5458L11.3962 12.2474C11.7861 11.24 11.9999 10.1449 11.9999 8.99982C11.9999 7.60955 11.6847 6.29292 11.1218 5.11748ZM10.24 5.59229L4.1186 8.88846L10.486 11.8272C10.8182 10.9482 10.9999 9.99521 10.9999 8.99982C10.9999 7.78113 10.7274 6.62608 10.24 5.59229Z",fill:"white"})}),ott=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 2H6V13H9V2ZM10 1H9H6H5H2C1.44772 1 1 1.44772 1 2V13C1 13.5523 1.44771 14 2 14H5H6H9H10H13C13.5523 14 14 13.5523 14 13V2C14 1.44772 13.5523 1 13 1H10ZM10 13H13V2H10V13ZM2 13H5V2H2V13Z",fill:"white"})}),KI=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 2V1H10C9.44772 1 9 1.44772 9 2V5H6C5.44771 5 5 5.44772 5 6V9H2C1.44771 9 1 9.44772 1 10V14H2V10L5 10C5.55228 10 6 9.55229 6 9V6H9C9.55228 6 10 5.55228 10 5V2L14 2Z",fill:"white"})}),rtt=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 13C10.7614 13 13 10.7614 13 8C13 5.23858 10.7614 3 8 3C5.23858 3 3 5.23858 3 8C3 10.7614 5.23858 13 8 13ZM8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14Z",fill:"white"})}),att=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("circle",{cx:"8",cy:"8",r:"6",fill:"white"})}),ltt=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("g",{clipPath:"url(#clip0_3669_2765)",children:r.jsx("circle",{cx:"8",cy:"8",r:"8",fill:"url(#paint0_radial_3669_2765)"})}),r.jsxs("defs",{children:[r.jsxs("radialGradient",{id:"paint0_radial_3669_2765",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(8 8) rotate(90) scale(8)",children:[r.jsx("stop",{offset:"0.295986",stopColor:"white"}),r.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),r.jsx("clipPath",{id:"clip0_3669_2765",children:r.jsx("rect",{width:"16",height:"16",fill:"white",transform:"matrix(-1 0 0 1 16 0)"})})]})]}),ctt=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("rect",{x:"2",y:"6",width:"12",height:"1",fill:"white"}),r.jsx("path",{d:"M7 9H9V10H7V9Z",fill:"white",fillOpacity:"0.6"}),r.jsx("path",{d:"M4 9V10H2V9H4Z",fill:"white",fillOpacity:"0.6"}),r.jsx("path",{d:"M14 9H12V10H14V9Z",fill:"white",fillOpacity:"0.6"})]}),htt=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M7 6H9V7H7V6Z",fill:"white",fillOpacity:"0.6"}),r.jsx("path",{d:"M4 6V7H2V6H4Z",fill:"white",fillOpacity:"0.6"}),r.jsx("path",{d:"M14 6H12V7H14V6Z",fill:"white",fillOpacity:"0.6"}),r.jsx("rect",{x:"2",y:"9",width:"12",height:"1",fill:"white"})]}),dtt=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("rect",{x:"2",y:"6",width:"12",height:"1",fill:"white"}),r.jsx("rect",{x:"2",y:"9",width:"12",height:"1",fill:"white"})]}),utt=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("circle",{cx:"8",cy:"8",r:"7",fill:"url(#paint0_radial_3669_2772)"}),r.jsx("defs",{children:r.jsxs("radialGradient",{id:"paint0_radial_3669_2772",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(8 8) rotate(90) scale(7)",children:[r.jsx("stop",{stopColor:"#D9D9D9"}),r.jsx("stop",{offset:"1",stopColor:"#D9D9D9",stopOpacity:"0"})]})})]}),_g=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 13C10.7614 13 13 10.7614 13 8C13 5.23858 10.7614 3 8 3C5.23858 3 3 5.23858 3 8C3 10.7614 5.23858 13 8 13ZM8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5 6C7.11929 6 6 7.11929 6 8.5C6 8.77614 5.77614 9 5.5 9C5.22386 9 5 8.77614 5 8.5C5 6.567 6.567 5 8.5 5C8.77614 5 9 5.22386 9 5.5C9 5.77614 8.77614 6 8.5 6Z",fill:"white"})]}),qI=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 2H12V4L14 4V5H12V7H11V5H9.00001V4L11 4V2ZM1.68765 10.3904L6.68765 14.3904L7.31235 13.6096L2.31235 9.60957L1.68765 10.3904ZM6 3H3V6H6V3ZM2 2V7H7V2H2ZM13 11.5C13 12.3284 12.3284 13 11.5 13C10.6716 13 10 12.3284 10 11.5C10 10.6716 10.6716 10 11.5 10C12.3284 10 13 10.6716 13 11.5ZM14 11.5C14 12.8807 12.8807 14 11.5 14C10.1193 14 9 12.8807 9 11.5C9 10.1193 10.1193 9 11.5 9C12.8807 9 14 10.1193 14 11.5Z",fill:"white"})}),ftt=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5 5.5V6.5H15V9H14V6.5H11.5V5.5H14V3H15V5.5H17.5ZM2.6799 12.3839L8.6799 17.3839L9.32009 16.6157L3.32009 11.6157L2.6799 12.3839ZM14.5 16C15.3284 16 16 15.3284 16 14.5C16 13.6716 15.3284 13 14.5 13C13.6716 13 13 13.6716 13 14.5C13 15.3284 13.6716 16 14.5 16ZM14.5 17C15.8807 17 17 15.8807 17 14.5C17 13.1193 15.8807 12 14.5 12C13.1193 12 12 13.1193 12 14.5C12 15.8807 13.1193 17 14.5 17ZM4 4H8V8H4V4ZM3 9V3H9V9H3Z",fill:"white"})}),ptt=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M8.49999 2C4.91473 2 2 4.91473 2 8.49999C2 10.2379 2.67054 11.8663 3.9021 13.0979C4.0116 13.2074 4.16211 13.2621 4.31263 13.2621C4.46314 13.2621 4.61366 13.2073 4.72316 13.0979L6.11894 11.7021C6.33788 11.4832 6.33788 11.1137 6.11894 10.881C5.90001 10.6621 5.5305 10.6621 5.29789 10.881L4.32633 11.8526C3.68319 11.0589 3.30001 10.101 3.19051 9.07472H4.54525C4.86001 9.07472 5.11996 8.81471 5.11996 8.50001C5.11996 8.18525 4.85995 7.92529 4.54525 7.92529H3.17683C3.28632 6.8853 3.69685 5.9274 4.3263 5.16108L5.2842 6.11898C5.39369 6.22847 5.54421 6.28316 5.69472 6.28316C5.84524 6.28316 5.99575 6.22842 6.10525 6.11898C6.32418 5.90004 6.32418 5.53053 6.10525 5.29793L5.14735 4.34003C5.92733 3.71057 6.87156 3.30004 7.91156 3.19056V4.55898C7.91156 4.87374 8.17157 5.13369 8.48628 5.13369C8.80104 5.13369 9.06099 4.87368 9.06099 4.55898V3.19056C11.5515 3.46424 13.522 5.43477 13.7957 7.92529H12.4273C12.1125 7.92529 11.8526 8.1853 11.8526 8.50001C11.8526 8.81476 12.1126 9.07472 12.4273 9.07472H13.782C13.7 10.101 13.3168 11.0589 12.6737 11.8526L11.7021 10.881C11.4832 10.6621 11.1137 10.6621 10.8811 10.881C10.6621 11.1 10.6621 11.4695 10.8811 11.7021L12.2768 13.0979C12.3863 13.2074 12.5369 13.2621 12.6874 13.2621C12.8379 13.2621 12.9884 13.2073 13.0979 13.0979C14.3295 11.8663 15 10.2379 15 8.49999C15 4.91473 12.0853 2 8.49999 2Z",fill:"white"}),r.jsx("path",{d:"M11.4558 6.36514C11.6747 6.1462 11.6747 5.77669 11.4558 5.54408C11.2369 5.32515 10.8674 5.32515 10.6348 5.54408L9.04739 7.13145C8.8832 7.06303 8.69161 7.02196 8.50002 7.02196C7.67897 7.02196 7.02213 7.67882 7.02213 8.49985C7.02213 9.32088 7.67899 9.97775 8.50002 9.97775C9.32105 9.97775 9.97791 9.32088 9.97791 8.49985C9.97791 8.30826 9.93684 8.11667 9.86842 7.95249L11.4558 6.36514Z",fill:"white"})]}),p5=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 3H13V5H11V3ZM3 3H5V5H3V3ZM5 11H3V13H5V11Z",fill:"white"}),r.jsx("path",{d:"M12.6219 8.75521L7 7L8.75523 12.6219L9.88774 10.7165L12.1712 13L13 12.1712L10.7165 9.88776L12.6219 8.75521Z",fill:"white"})]}),mtt=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M12 3H4V13H8V14H3V2H13V7H12V3Z",fill:"white"}),r.jsx("path",{d:"M11 5H5V6H11V5Z",fill:"white"}),r.jsx("path",{d:"M8 8H5V9H8V8Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5 14C11.9263 14 12.3277 13.8933 12.6789 13.7052L14.4852 15.4855L15.1871 14.7733L13.4516 13.0627C13.7947 12.6346 14 12.0913 14 11.5C14 10.1193 12.8807 9 11.5 9C10.1193 9 9 10.1193 9 11.5C9 12.8807 10.1193 14 11.5 14ZM11.5 13C12.3284 13 13 12.3284 13 11.5C13 10.6716 12.3284 10 11.5 10C10.6716 10 10 10.6716 10 11.5C10 12.3284 10.6716 13 11.5 13Z",fill:"white"})]}),a9=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.29731 8.8153C3.30884 9.2191 3.40493 9.53059 3.52817 9.72381C3.70051 9.99376 3.95757 10.1081 4.21964 10.1081C4.55766 10.1081 4.86688 10.0269 5.46279 9.22877C5.79931 8.77783 6.17812 8.19859 6.50496 7.69881C6.64179 7.48959 6.76951 7.29429 6.88121 7.12817L7.39139 6.36906C7.1423 6.02555 6.92802 5.76412 6.77397 5.60561C6.46558 5.28838 6.06915 4.90528 5.43651 4.90528C4.92448 4.90528 4.48965 5.25322 4.12576 5.78544L4.12568 5.78539C3.61118 6.53745 3.29615 7.65761 3.29615 8.73332C3.29615 8.76105 3.29654 8.78838 3.29731 8.8153ZM2 8.68846C2 9.37182 2.13938 9.97153 2.42315 10.4286C2.77076 10.9895 3.33204 11.3617 4.21964 11.3617C4.96787 11.3617 5.53624 11.0364 6.20184 10.178C6.58158 9.68784 6.77396 9.39082 7.53345 8.08673L7.91153 7.43813L8.00435 7.27891C8.03473 7.32712 8.06529 7.37608 8.09599 7.42575L9.17222 9.16669C9.53402 9.75265 10.0043 10.4045 10.4066 10.7714C10.9299 11.2495 11.4031 11.3618 11.9373 11.3618C12.7965 11.3618 13.3073 10.9226 13.5694 10.4829C13.8406 10.0283 14 9.4528 14 8.66962L14 8.66962V8.66947C14 7.35205 13.6595 6.07544 12.958 5.06192C12.317 4.13649 11.4795 3.64307 10.6002 3.64307C10.0765 3.64307 9.55613 3.86937 9.07372 4.27672C8.74765 4.55212 8.44459 4.89976 8.1636 5.26734C7.81783 4.84345 7.49627 4.52037 7.1846 4.27405C6.59328 3.80648 6.027 3.64322 5.45738 3.64322C5.45737 3.64322 5.45737 3.64322 5.45736 3.64322L5.45737 3.64307C4.47378 3.64307 3.61622 4.26339 3.02198 5.15042C2.3522 6.15061 2 7.4458 2 8.68846ZM9.38087 7.01436C9.16096 6.65964 8.95221 6.34058 8.75248 6.0536C8.78807 6.00019 8.8235 5.94805 8.85881 5.89723C9.41925 5.09021 9.91793 4.6376 10.5376 4.6376C11.1106 4.6376 11.6314 5.00454 12.0332 5.60505C12.5995 6.45168 12.8566 7.63655 12.8566 8.70422C12.8566 9.45346 12.673 10.1081 11.9373 10.1081V10.1083C11.6472 10.1083 11.424 9.99674 11.1052 9.62253C10.8573 9.33116 10.4337 8.71327 9.68926 7.51223L9.38087 7.01436Z",fill:"white"})}),QR=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 3C4 1.89543 4.89543 1 6 1H11C12.1046 1 13 1.89543 13 3V13C13 14.1046 12.1046 15 11 15H6C4.89543 15 4 14.1046 4 13V3ZM5 3C5 2.44772 5.44772 2 6 2H11C11.5523 2 12 2.44772 12 3V13C12 13.5523 11.5523 14 11 14H6C5.44772 14 5 13.5523 5 13V3ZM6.5 3C6.22386 3 6 3.22386 6 3.5C6 3.77614 6.22386 4 6.5 4H10.5C10.7761 4 11 3.77614 11 3.5C11 3.22386 10.7761 3 10.5 3H6.5Z",fill:"white"})}),JR=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3H4C3.44772 3 3 3.44772 3 4V10C3 10.5523 3.44772 11 4 11H12C12.5523 11 13 10.5523 13 10V4C13 3.44772 12.5523 3 12 3ZM4 2C2.89543 2 2 2.89543 2 4V10C2 11.1046 2.89543 12 4 12H12C13.1046 12 14 11.1046 14 10V4C14 2.89543 13.1046 2 12 2H4Z",fill:"white"}),r.jsx("path",{d:"M5 13.5C5 13.2239 5.22386 13 5.5 13H10.5C10.7761 13 11 13.2239 11 13.5C11 13.7761 10.7761 14 10.5 14H5.5C5.22386 14 5 13.7761 5 13.5Z",fill:"white"})]}),gtt=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.65668 2.3289L1 2V2.73444V13.2407V13.9751L1.65668 13.6462C3.45356 12.7463 5.70533 12.2728 7.98861 12.242C10.2797 12.2699 12.5405 12.7436 14.3433 13.6465L15 13.9754V13.241V2.78626V2.05183L14.3433 2.38072C12.4886 3.30965 10.1745 3.73486 7.80346 3.73486V4.64198C10.0085 4.64198 12.2107 4.28997 14.0929 3.4943V9.2159L11.8068 7.73246C11.7515 7.6755 11.6784 7.64686 11.605 7.64686C11.5319 7.64686 11.4585 7.6755 11.4033 7.73246L9.50001 9.98762L11.104 11.6406C10.553 11.5361 9.99088 11.4585 9.42381 11.4074L7.36173 9.23656C7.30645 9.1796 7.23305 9.15096 7.15996 9.15096C7.08656 9.15096 7.01347 9.17959 6.95819 9.23656L6.10607 10.1147L4.48045 7.7324C4.42517 7.67544 4.35208 7.6468 4.27868 7.6468C4.22438 7.6468 2.69175 9.60676 1.90713 10.6147V3.44961C3.70601 4.24489 5.5874 4.64174 7.80346 4.64174V3.73461C5.45248 3.73461 3.52665 3.26547 1.65668 2.3289ZM6.44276 5.59038C6.06681 5.59038 5.72664 5.74692 5.48031 6.00075C5.23397 6.25458 5.08207 6.60513 5.08207 6.99254C5.08207 7.37995 5.23398 7.73048 5.48031 7.98432C5.72663 8.23817 6.06681 8.39469 6.44276 8.39469C6.81872 8.39469 7.15888 8.23816 7.40522 7.98432C7.65156 7.73049 7.80346 7.37995 7.80346 6.99254C7.80346 6.60513 7.65154 6.2546 7.40522 6.00075C7.15889 5.74691 6.81872 5.59038 6.44276 5.59038Z",fill:"white"})}),_tt=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsxs("g",{clipPath:"url(#clip0_5768_14810)",children:[r.jsx("circle",{cx:"7.5",cy:"2.5",r:"2.5",transform:"rotate(-90 7.5 2.5)",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.5 9C3.32843 9 4 8.32843 4 7.5C4 6.67157 3.32843 6 2.5 6C1.67157 6 1 6.67157 1 7.5C1 8.32843 1.67157 9 2.5 9ZM2.5 10C3.88071 10 5 8.88071 5 7.5C5 6.11929 3.88071 5 2.5 5C1.11929 5 0 6.11929 0 7.5C0 8.88071 1.11929 10 2.5 10Z",fill:"white",fillOpacity:"0.6"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 14C8.32843 14 9 13.3284 9 12.5C9 11.6716 8.32843 11 7.5 11C6.67157 11 6 11.6716 6 12.5C6 13.3284 6.67157 14 7.5 14ZM7.5 15C8.88071 15 10 13.8807 10 12.5C10 11.1193 8.88071 10 7.5 10C6.11929 10 5 11.1193 5 12.5C5 13.8807 6.11929 15 7.5 15Z",fill:"white",fillOpacity:"0.6"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.5 9C13.3284 9 14 8.32843 14 7.5C14 6.67157 13.3284 6 12.5 6C11.6716 6 11 6.67157 11 7.5C11 8.32843 11.6716 9 12.5 9ZM12.5 10C13.8807 10 15 8.88071 15 7.5C15 6.11929 13.8807 5 12.5 5C11.1193 5 10 6.11929 10 7.5C10 8.88071 11.1193 10 12.5 10Z",fill:"white",fillOpacity:"0.6"})]}),r.jsx("defs",{children:r.jsx("clipPath",{id:"clip0_5768_14810",children:r.jsx("rect",{width:"16",height:"16",fill:"white",transform:"matrix(-1 0 0 1 16 0)"})})})]}),vtt=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("circle",{cx:"12.5",cy:"7.5",r:"2.5",transform:"rotate(-90 12.5 7.5)",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.5 9C3.32843 9 4 8.32843 4 7.5C4 6.67157 3.32843 6 2.5 6C1.67157 6 1 6.67157 1 7.5C1 8.32843 1.67157 9 2.5 9ZM2.5 10C3.88071 10 5 8.88071 5 7.5C5 6.11929 3.88071 5 2.5 5C1.11929 5 0 6.11929 0 7.5C0 8.88071 1.11929 10 2.5 10Z",fill:"white",fillOpacity:"0.6"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 14C8.32843 14 9 13.3284 9 12.5C9 11.6716 8.32843 11 7.5 11C6.67157 11 6 11.6716 6 12.5C6 13.3284 6.67157 14 7.5 14ZM7.5 15C8.88071 15 10 13.8807 10 12.5C10 11.1193 8.88071 10 7.5 10C6.11929 10 5 11.1193 5 12.5C5 13.8807 6.11929 15 7.5 15Z",fill:"white",fillOpacity:"0.6"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 4C8.32843 4 9 3.32843 9 2.5C9 1.67157 8.32843 1 7.5 1C6.67157 1 6 1.67157 6 2.5C6 3.32843 6.67157 4 7.5 4ZM7.5 5C8.88071 5 10 3.88071 10 2.5C10 1.11929 8.88071 0 7.5 0C6.11929 0 5 1.11929 5 2.5C5 3.88071 6.11929 5 7.5 5Z",fill:"white",fillOpacity:"0.6"})]}),ytt=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("circle",{cx:"7.5",cy:"12.5",r:"2.5",transform:"rotate(-90 7.5 12.5)",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.5 9C13.3284 9 14 8.32843 14 7.5C14 6.67157 13.3284 6 12.5 6C11.6716 6 11 6.67157 11 7.5C11 8.32843 11.6716 9 12.5 9ZM12.5 10C13.8807 10 15 8.88071 15 7.5C15 6.11929 13.8807 5 12.5 5C11.1193 5 10 6.11929 10 7.5C10 8.88071 11.1193 10 12.5 10Z",fill:"white",fillOpacity:"0.6"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.5 9C3.32843 9 4 8.32843 4 7.5C4 6.67157 3.32843 6 2.5 6C1.67157 6 1 6.67157 1 7.5C1 8.32843 1.67157 9 2.5 9ZM2.5 10C3.88071 10 5 8.88071 5 7.5C5 6.11929 3.88071 5 2.5 5C1.11929 5 0 6.11929 0 7.5C0 8.88071 1.11929 10 2.5 10Z",fill:"white",fillOpacity:"0.6"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 4C8.32843 4 9 3.32843 9 2.5C9 1.67157 8.32843 1 7.5 1C6.67157 1 6 1.67157 6 2.5C6 3.32843 6.67157 4 7.5 4ZM7.5 5C8.88071 5 10 3.88071 10 2.5C10 1.11929 8.88071 0 7.5 0C6.11929 0 5 1.11929 5 2.5C5 3.88071 6.11929 5 7.5 5Z",fill:"white",fillOpacity:"0.6"})]}),btt=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsxs("g",{clipPath:"url(#clip0_5769_76)",children:[r.jsx("circle",{cx:"2.5",cy:"7.5",r:"2.5",transform:"rotate(-90 2.5 7.5)",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.5 9C13.3284 9 14 8.32843 14 7.5C14 6.67157 13.3284 6 12.5 6C11.6716 6 11 6.67157 11 7.5C11 8.32843 11.6716 9 12.5 9ZM12.5 10C13.8807 10 15 8.88071 15 7.5C15 6.11929 13.8807 5 12.5 5C11.1193 5 10 6.11929 10 7.5C10 8.88071 11.1193 10 12.5 10Z",fill:"white",fillOpacity:"0.6"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 14C8.32843 14 9 13.3284 9 12.5C9 11.6716 8.32843 11 7.5 11C6.67157 11 6 11.6716 6 12.5C6 13.3284 6.67157 14 7.5 14ZM7.5 15C8.88071 15 10 13.8807 10 12.5C10 11.1193 8.88071 10 7.5 10C6.11929 10 5 11.1193 5 12.5C5 13.8807 6.11929 15 7.5 15Z",fill:"white",fillOpacity:"0.6"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 4C8.32843 4 9 3.32843 9 2.5C9 1.67157 8.32843 1 7.5 1C6.67157 1 6 1.67157 6 2.5C6 3.32843 6.67157 4 7.5 4ZM7.5 5C8.88071 5 10 3.88071 10 2.5C10 1.11929 8.88071 0 7.5 0C6.11929 0 5 1.11929 5 2.5C5 3.88071 6.11929 5 7.5 5Z",fill:"white",fillOpacity:"0.6"})]}),r.jsx("defs",{children:r.jsx("clipPath",{id:"clip0_5769_76",children:r.jsx("rect",{width:"16",height:"16",fill:"white",transform:"matrix(1 0 0 -1 0 16)"})})})]}),Ctt=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("circle",{cx:"11",cy:"5",r:"3",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 13C6.10457 13 7 12.1046 7 11C7 9.89543 6.10457 9 5 9C3.89543 9 3 9.89543 3 11C3 12.1046 3.89543 13 5 13ZM5 14C6.65685 14 8 12.6569 8 11C8 9.34315 6.65685 8 5 8C3.34315 8 2 9.34315 2 11C2 12.6569 3.34315 14 5 14Z",fill:"white",fillOpacity:"0.6"})]}),wtt=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("circle",{cx:"5",cy:"11",r:"3",transform:"rotate(-180 5 11)",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 3C9.89543 3 9 3.89543 9 5C9 6.10457 9.89543 7 11 7C12.1046 7 13 6.10457 13 5C13 3.89543 12.1046 3 11 3ZM11 2C9.34315 2 8 3.34315 8 5C8 6.65685 9.34315 8 11 8C12.6569 8 14 6.65685 14 5C14 3.34315 12.6569 2 11 2Z",fill:"white",fillOpacity:"0.6"})]}),xtt=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("circle",{cx:"5",cy:"5",r:"3",transform:"rotate(-90 5 5)",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 11C13 9.89543 12.1046 9 11 9C9.89543 9 9 9.89543 9 11C9 12.1046 9.89543 13 11 13C12.1046 13 13 12.1046 13 11ZM14 11C14 9.34315 12.6569 8 11 8C9.34315 8 8 9.34315 8 11C8 12.6569 9.34315 14 11 14C12.6569 14 14 12.6569 14 11Z",fill:"white",fillOpacity:"0.6"})]}),Ett=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("circle",{cx:"11",cy:"11",r:"3",transform:"rotate(90 11 11)",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 5C3 6.10457 3.89543 7 5 7C6.10457 7 7 6.10457 7 5C7 3.89543 6.10457 3 5 3C3.89543 3 3 3.89543 3 5ZM2 5C2 6.65685 3.34315 8 5 8C6.65685 8 8 6.65685 8 5C8 3.34315 6.65685 2 5 2C3.34315 2 2 3.34315 2 5Z",fill:"white",fillOpacity:"0.6"})]}),Stt=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 1C5.79086 1 4 2.79086 4 5V11C4 13.2091 5.79086 15 8 15C10.2091 15 12 13.2091 12 11V5C12 2.79086 10.2091 1 8 1ZM7.5 8V6.5H8.5V8H10V9H8.5V10.5H7.5V9H6V8H7.5Z",fill:"white"})}),Itt=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 11V5C11 3.34315 9.65685 2 8 2C6.34315 2 5 3.34315 5 5V11C5 12.6569 6.34315 14 8 14C9.65685 14 11 12.6569 11 11ZM8 1C5.79086 1 4 2.79086 4 5V11C4 13.2091 5.79086 15 8 15C10.2091 15 12 13.2091 12 11V5C12 2.79086 10.2091 1 8 1Z",fill:"white"}),r.jsx("rect",{x:"6",y:"7.5",width:"4",height:"1",fill:"white"})]}),Att=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 8C14 11.3137 11.3137 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8ZM15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8ZM8 13C10.7614 13 13 10.7614 13 8C13 5.23858 10.7614 3 8 3C5.23858 3 3 5.23858 3 8C3 10.7614 5.23858 13 8 13Z",fill:"white"})}),Ttt=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M8.17692 1.93907C8.06979 2.02031 7.93021 2.02031 7.82308 1.93907L6.14262 0.66469C5.88004 0.46557 6.00397 0 6.31954 0H9.68046C9.99603 0 10.12 0.46557 9.85738 0.66469L8.17692 1.93907Z",fill:"white"}),r.jsx("path",{d:"M8 13C10.7614 13 13 10.7614 13 8C13 5.23858 10.7614 3 8 3C5.23858 3 3 5.23857 3 8C3 10.7614 5.23858 13 8 13Z",fill:"white"}),r.jsx("path",{d:"M6.82105 2.11596C4.07188 2.66372 2 5.08999 2 8.00018C2 11.3139 4.68629 14.0002 8 14.0002C11.3137 14.0002 14 11.3139 14 8.00018C14 5.08999 11.9281 2.66373 9.17895 2.11596L10.1975 1.35205C12.987 2.2736 15 4.90181 15 8.00018C15 11.8662 11.866 15.0002 8 15.0002C4.13401 15.0002 1 11.8662 1 8.00018C1 4.90181 3.013 2.2736 5.80251 1.35205L6.82105 2.11596Z",fill:"white"})]}),Ptt=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M8.17692 1.93907C8.06979 2.02031 7.93021 2.02031 7.82308 1.93907L6.14262 0.66469C5.88004 0.46557 6.00397 0 6.31954 0H9.68046C9.99603 0 10.12 0.46557 9.85738 0.66469L8.17692 1.93907Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 13C10.7614 13 13 10.7614 13 8C13 5.23858 10.7614 3 8 3C5.23858 3 3 5.23857 3 8C3 10.7614 5.23858 13 8 13ZM7 5H6V11L10 11V10H7V5Z",fill:"white"}),r.jsx("path",{d:"M6.82105 2.11596C4.07188 2.66372 2 5.08999 2 8.00018C2 11.3139 4.68629 14.0002 8 14.0002C11.3137 14.0002 14 11.3139 14 8.00018C14 5.08999 11.9281 2.66373 9.17895 2.11596L10.1975 1.35205C12.987 2.2736 15 4.90181 15 8.00018C15 11.8662 11.866 15.0002 8 15.0002C4.13401 15.0002 1 11.8662 1 8.00018C1 4.90181 3.013 2.2736 5.80251 1.35205L6.82105 2.11596Z",fill:"white"})]}),Ott=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M8.17692 1.93907C8.06979 2.02031 7.93021 2.02031 7.82308 1.93907L6.14262 0.66469C5.88004 0.46557 6.00397 0 6.31954 0H9.68046C9.99603 0 10.12 0.46557 9.85738 0.66469L8.17692 1.93907Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 13C10.7614 13 13 10.7614 13 8C13 5.23858 10.7614 3 8 3C5.23858 3 3 5.23858 3 8C3 10.7614 5.23857 13 8 13ZM8.24571 5L6 5L6 11L7 11L7 8.65143L8.01339 8.65143L9.11143 11L10.4314 11L9.20184 8.50848C9.28847 8.47811 9.36976 8.4429 9.44571 8.40286C9.76571 8.23143 10 8.00857 10.1486 7.73429C10.3029 7.45429 10.38 7.15429 10.38 6.83429C10.38 6.49714 10.3 6.19143 10.14 5.91714C9.98571 5.63714 9.75143 5.41429 9.43714 5.24857C9.12286 5.08286 8.72571 5 8.24571 5ZM8.16857 7.81143L7 7.81143L7 5.96857L8.16857 5.96857C8.52286 5.96857 8.78286 6.05143 8.94857 6.21714C9.11428 6.37714 9.19714 6.59714 9.19714 6.87714C9.19714 7.15714 9.11428 7.38286 8.94857 7.55429C8.78286 7.72571 8.52286 7.81143 8.16857 7.81143Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.82105 2.11596C4.07188 2.66372 2 5.08999 2 8.00018C2 11.3139 4.68629 14.0002 8 14.0002C11.3137 14.0002 14 11.3139 14 8.00018C14 5.08999 11.9281 2.66373 9.17895 2.11596L10.1975 1.35205C12.987 2.2736 15 4.90181 15 8.00018C15 11.8662 11.866 15.0002 8 15.0002C4.13401 15.0002 1 11.8662 1 8.00018C1 4.90181 3.013 2.2736 5.80251 1.35205L6.82105 2.11596Z",fill:"white"})]}),$R=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 1C4.13401 1 1 4.13401 1 8V13.5C1 14.3284 1.67157 15 2.5 15H13.5C14.3284 15 15 14.3284 15 13.5V8C15 4.13401 11.866 1 8 1ZM6 5V12H10V10.9998L7 10.9557V5H6Z",fill:"white"})}),tN=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M8.16857 8.81143H7V6.96857H8.16857C8.52286 6.96857 8.78286 7.05143 8.94857 7.21714C9.11429 7.37714 9.19714 7.59714 9.19714 7.87714C9.19714 8.15714 9.11429 8.38286 8.94857 8.55429C8.78286 8.72571 8.52286 8.81143 8.16857 8.81143Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 1C4.13401 1 1 4.13401 1 8V13.5C1 14.3284 1.67157 15 2.5 15H13.5C14.3284 15 15 14.3284 15 13.5V8C15 4.13401 11.866 1 8 1ZM6 6V12H7V9.65143H8.0134L9.11143 12H10.4314L9.20185 9.50848C9.28848 9.47811 9.36976 9.4429 9.44571 9.40286C9.76571 9.23143 10 9.00857 10.1486 8.73429C10.3029 8.45429 10.38 8.15429 10.38 7.83429C10.38 7.49714 10.3 7.19143 10.14 6.91714C9.98571 6.63714 9.75143 6.41429 9.43714 6.24857C9.12286 6.08286 8.72571 6 8.24571 6H6Z",fill:"white"})]}),eN=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M7.16857 7.81143H6V5.96857H7.16857C7.52286 5.96857 7.78286 6.05143 7.94857 6.21714C8.11429 6.37714 8.19714 6.59714 8.19714 6.87714C8.19714 7.15714 8.11429 7.38286 7.94857 7.55429C7.78286 7.72571 7.52286 7.81143 7.16857 7.81143Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 1C1.89543 1 1 1.89543 1 3V9C1 12.3137 3.68629 15 7 15H13.5C14.3284 15 15 14.3284 15 13.5C15 12.839 14.6433 12.392 14.1994 11.8357C13.4681 10.9191 12.5 9.70586 12.5 6.75V2.99828C12.5 1.89371 11.6046 1 10.5 1H3ZM5 5V11H6V8.65143H7.0134L8.11143 11H9.43143L8.20185 8.50848C8.28848 8.47811 8.36976 8.4429 8.44571 8.40286C8.76571 8.23143 9 8.00857 9.14857 7.73429C9.30286 7.45429 9.38 7.15429 9.38 6.83429C9.38 6.49714 9.3 6.19143 9.14 5.91714C8.98571 5.63714 8.75143 5.41429 8.43714 5.24857C8.12286 5.08286 7.72571 5 7.24571 5H5Z",fill:"white"})]}),sN=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 1C14.1046 1 15 1.89543 15 3V9C15 12.3137 12.3137 15 9 15H2.5C1.67157 15 1 14.3284 1 13.5C1 12.839 1.35667 12.392 1.80057 11.8357C2.5319 10.9191 3.5 9.70586 3.5 6.75V2.99828C3.5 1.89371 4.39543 1 5.5 1H13ZM7 4.5V11.0003H11V10.0001L8 9.956V4.5H7Z",fill:"white"})}),Mtt=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M6.57143 3L9.42857 3C9.61905 3 10 3.09412 10 3.47059V5L8 7L6 5L6 3.47059C6 3.09412 6.38095 3 6.57143 3Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 7L11.4142 7L10.4142 8L11.4142 9L12 9L12 7ZM11 10L9 8L11 6L12.5294 6C12.9059 6 13 6.38095 13 6.57143L13 9.42857C13 9.61905 12.9059 10 12.5294 10L11 10Z",fill:"white",fillOpacity:"0.6"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 12L9 11.4142L8 10.4142L7 11.4142V12H9ZM6 11L8 9L10 11L10 12.5294C10 12.9059 9.61905 13 9.42857 13H6.57143C6.38095 13 6 12.9059 6 12.5294L6 11Z",fill:"white",fillOpacity:"0.6"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 9L4.58579 9L5.58579 8L4.58579 7L4 7L4 9ZM5 6L7 8L5 10L3.47059 10C3.09412 10 3 9.61905 3 9.42857L3 6.57143C3 6.38095 3.09412 6 3.47059 6L5 6Z",fill:"white",fillOpacity:"0.6"})]}),Ltt=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M13 6.57143L13 9.42857C13 9.61905 12.9059 10 12.5294 10H11L9 8L11 6L12.5294 6C12.9059 6 13 6.38095 13 6.57143Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 12V11.4142L8 10.4142L7 11.4142V12H9ZM6 11L8 9L10 11V12.5294C10 12.9059 9.61905 13 9.42857 13H6.57143C6.38095 13 6 12.9059 6 12.5294V11Z",fill:"white",fillOpacity:"0.6"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 9L4.58579 9L5.58579 8L4.58579 7L4 7L4 9ZM5 6L7 8L5 10L3.47059 10C3.09412 10 3 9.61905 3 9.42857L3 6.57143C3 6.38095 3.09412 6 3.47059 6L5 6Z",fill:"white",fillOpacity:"0.6"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4L7 4.58579L8 5.58579L9 4.58579V4L7 4ZM10 5L8 7L6 5L6 3.47059C6 3.09412 6.38095 3 6.57143 3L9.42857 3C9.61905 3 10 3.09412 10 3.47059L10 5Z",fill:"white",fillOpacity:"0.6"})]}),Rtt=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M9.42857 13L6.57143 13C6.38095 13 6 12.9059 6 12.5294L6 11L8 9L10 11V12.5294C10 12.9059 9.61905 13 9.42857 13Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 9H4.58579L5.58579 8L4.58579 7L4 7L4 9ZM5 6L7 8L5 10L3.47059 10C3.09412 10 3 9.61905 3 9.42857L3 6.57143C3 6.38095 3.09412 6 3.47059 6L5 6Z",fill:"white",fillOpacity:"0.6"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4L7 4.58579L8 5.58579L9 4.58579V4L7 4ZM10 5L8 7L6 5L6 3.47059C6 3.09412 6.38096 3 6.57143 3L9.42857 3C9.61905 3 10 3.09412 10 3.47059L10 5Z",fill:"white",fillOpacity:"0.6"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 7H11.4142L10.4142 8L11.4142 9L12 9L12 7ZM11 10L9 8L11 6L12.5294 6C12.9059 6 13 6.38096 13 6.57143L13 9.42857C13 9.61905 12.9059 10 12.5294 10L11 10Z",fill:"white",fillOpacity:"0.6"})]}),Ntt=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("path",{d:"M3 9.42857L3 6.57143C3 6.38095 3.09412 6 3.47059 6L5 6L7 8L5 10L3.47059 10C3.09412 10 3 9.61905 3 9.42857Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4V4.58579L8 5.58579L9 4.58579V4H7ZM10 5L8 7L6 5V3.47059C6 3.09412 6.38095 3 6.57143 3H9.42857C9.61905 3 10 3.09412 10 3.47059V5Z",fill:"white",fillOpacity:"0.6"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 7H11.4142L10.4142 8L11.4142 9H12V7ZM11 10L9 8L11 6L12.5294 6C12.9059 6 13 6.38095 13 6.57143V9.42857C13 9.61905 12.9059 10 12.5294 10H11Z",fill:"white",fillOpacity:"0.6"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 12L9 11.4142L8 10.4142L7 11.4142V12H9ZM6 11L8 9L10 11L10 12.5294C10 12.9059 9.61905 13 9.42857 13H6.57143C6.38095 13 6 12.9059 6 12.5294V11Z",fill:"white",fillOpacity:"0.6"})]}),Kw=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.0307 5.59668C13.8463 5.08991 13.5106 4.65282 13.0691 4.34369C12.6275 4.03456 12.1018 3.86859 11.5627 3.86859H10.7873C10.7036 3.86859 10.6198 3.86832 10.5254 3.86802C10.296 3.86729 10.0043 3.86635 9.50026 3.86859L9.45651 3.86865H6.50017C6.08389 3.8668 5.98353 3.86717 5.81416 3.8678C5.7339 3.8681 5.63814 3.86845 5.48592 3.86865L6.00001 3.86865V4.61865C6.00001 4.75672 6.11193 4.86865 6.25001 4.86865H9.75001C9.88808 4.86865 10 4.75672 10 4.61865V3.86865L11 3.86865V5.36865C11 5.64479 10.7761 5.86865 10.5 5.86865H5.50001C5.22386 5.86865 5.00001 5.64479 5.00001 5.36865V3.86875L4.43747 3.86859C3.89839 3.86859 3.37262 4.03456 2.93108 4.34369C2.48955 4.65282 2.15381 5.08991 1.96948 5.59668C1.24417 7.48052 0.919834 9.49435 1.01676 11.5108C1.0649 12.1113 1.44181 12.6358 1.99673 12.872C2.55101 13.1083 3.1908 13.0171 3.65704 12.6357L5.91211 10.7808C6.50123 10.2988 7.23921 10.0359 8 10.0359C8.76079 10.0359 9.49882 10.2988 10.0879 10.7808L12.343 12.6357C12.8092 13.0171 13.449 13.1083 14.0033 12.872C14.5582 12.6357 14.9351 12.1112 14.9832 11.5108C15.0802 9.49435 14.756 7.48065 14.0307 5.59668ZM11.5 7.86865C11.7761 7.86865 12 7.64479 12 7.36865C12 7.09251 11.7761 6.86865 11.5 6.86865C11.2239 6.86865 11 7.09251 11 7.36865C11 7.64479 11.2239 7.86865 11.5 7.86865ZM11.5 9.86865C11.7761 9.86865 12 9.64479 12 9.36865C12 9.09251 11.7761 8.86865 11.5 8.86865C11.2239 8.86865 11 9.09251 11 9.36865C11 9.64479 11.2239 9.86865 11.5 9.86865ZM11 8.36865C11 8.64479 10.7761 8.86865 10.5 8.86865C10.2239 8.86865 10 8.64479 10 8.36865C10 8.09251 10.2239 7.86865 10.5 7.86865C10.7761 7.86865 11 8.09251 11 8.36865ZM12.5 8.86865C12.7761 8.86865 13 8.64479 13 8.36865C13 8.09251 12.7761 7.86865 12.5 7.86865C12.2239 7.86865 12 8.09251 12 8.36865C12 8.64479 12.2239 8.86865 12.5 8.86865ZM4.00001 7.36865C4.00001 7.09251 4.22386 6.86865 4.50001 6.86865C4.77615 6.86865 5.00001 7.09251 5.00001 7.36865V7.86865H5.50001C5.77615 7.86865 6.00001 8.09251 6.00001 8.36865C6.00001 8.64479 5.77615 8.86865 5.50001 8.86865H5.00001V9.36865C5.00001 9.64479 4.77615 9.86865 4.50001 9.86865C4.22386 9.86865 4.00001 9.64479 4.00001 9.36865V8.86865H3.50001C3.22386 8.86865 3.00001 8.64479 3.00001 8.36865C3.00001 8.09251 3.22386 7.86865 3.50001 7.86865H4.00001V7.36865Z",fill:"white"})}),jtt=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsxs("g",{clipPath:"url(#clip0_5903_17665)",children:[r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 0.75C4.27614 0.75 4.5 0.973858 4.5 1.25V4.25C4.5 4.52614 4.27614 4.75 4 4.75C3.72386 4.75 3.5 4.52614 3.5 4.25V1.25C3.5 0.973858 3.72386 0.75 4 0.75Z",fill:"white"}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 0.75C12.2761 0.75 12.5 0.973858 12.5 1.25V4.25C12.5 4.52614 12.2761 4.75 12 4.75C11.7239 4.75 11.5 4.52614 11.5 4.25V1.25C11.5 0.973858 11.7239 0.75 12 0.75Z",fill:"white"}),r.jsx("path",{d:"M3 2.25H1.5C0.947715 2.25 0.5 2.69772 0.5 3.25V14.25C0.5 14.8023 0.947715 15.25 1.5 15.25H14.5C15.0523 15.25 15.5 14.8023 15.5 14.25V3.25C15.5 2.69772 15.0523 2.25 14.5 2.25H13V3.25H14.5V14.25H1.5V3.25H3V2.25Z",fill:"white"}),r.jsx("path",{d:"M5 3.25H11V2.25H5V3.25Z",fill:"white"}),r.jsx("path",{d:"M2.5 6.25H5.5V9.25H2.5V6.25Z",fill:"white"}),r.jsx("path",{d:"M2.5 10.25H5.5V13.25H2.5V10.25Z",fill:"white"}),r.jsx("path",{d:"M6.5 6.25H9.5V9.25H6.5V6.25Z",fill:"white"}),r.jsx("path",{d:"M6.5 10.25H9.5V13.25H6.5V10.25Z",fill:"white"}),r.jsx("path",{d:"M10.5 6.25H13.5V9.25H10.5V6.25Z",fill:"white"})]}),r.jsx("defs",{children:r.jsx("clipPath",{id:"clip0_5903_17665",children:r.jsx("rect",{width:"16",height:"16",fill:"white"})})})]});var Dtt=Object.defineProperty,Ftt=(s,t,e)=>t in s?Dtt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,zi=(s,t,e)=>(Ftt(s,typeof t!="symbol"?t+"":t,e),e),qw=(s=>(s.TOGGLE="commandPalette.toggle",s.OPEN="commandPalette.open",s))(qw||{}),Zi=(s=>(s.RESET_CAMERA="viewport.resetCamera",s.FOCUS="viewport.focus",s.FOCUS_ALL="viewport.focusAll",s.VIEW_DIRECTION="viewport.viewDirection",s.VIEW_AXES="viewport.viewAxes",s.TOGGLE_ORTHOGRAPHIC="viewport.toggleOrthographic",s.GRID="viewport.toggleGrid",s.SNAP_MODE="viewport.snapMode",s.RENDER="viewport.render",s.PLAY_ALL="viewport.playAll",s.PREVIEW_ALL_BEHAVIORS="viewport.previewAllBehaviors",s))(Zi||{}),co=(s=>(s.OFF="snap.off",s.GRID="snap.grid",s.INCREMENT="snap.increment",s))(co||{}),Dl=(s=>(s.TOGGLE_UI="rootMenu.toggleUI",s.TOGGLE_EDITOR_COMMENTS="viewport.toggleEditorComments",s.SYNC_ALL_FIGMA_FRAMES="viewport.updateAllFigmaFrames",s.HIERARCHY="view.hierarchy",s.VIEW_SELECTED_CAMERA="viewort.viewSelectedCamera",s.RESET_PANEL_SIZES="view.resetPanelSizes",s))(Dl||{}),ne=(s=>(s.TOP="view.direction.top",s.RIGHT="view.direction.side",s.FRONT="view.direction.front",s.LEFT="view.direction.left",s.BACK="view.direction.back",s.BOTTOM="view.direction.bottom",s))(ne||{}),m5=(s=>(s.XZ="view.axes.xz",s.XY="view.axes.xy",s.YZ="view.axes.yz",s))(m5||{}),E_=(s=>(s.FOG="view.render.toggleFog",s.AMBIENT_LIGHT="view.render.toggleAmbientLight",s))(E_||{}),jh=(s=>(s.COLLAPSE_HIERARCHY_ITEMS="view.hierarchy.collapseHierarchyItems",s.EXPAND_HIERARCHY_ITEMS="view.hierarchy.expandHierarchyItems",s.TOGGLE_VISIBILITY="view.hierarchy.toggleVisibility",s.UNHIDE_ALL="view.hierarchy.unhideAll",s.HIDE_INVERSE="view.hierarchy.hideInverse",s.TOGGLE_LOCK="view.hierarchy.toggleLock",s.UNLOCK_ALL="view.hierarchy.unlockAll",s.LOCK_INVERSE="view.hierarchy.lockInverse",s))(jh||{}),Ol=(s=>(s.ALIGN_MIN_X="layout.alignment.x.minimum",s.ALIGN_CENTER_X="layout.alignment.x.center",s.ALIGN_MAX_X="layout.alignment.x.maximum",s.ALIGN_MIN_Y="layout.alignment.y.minimum",s.ALIGN_CENTER_Y="layout.alignment.y.center",s.ALIGN_MAX_Y="layout.alignment.y.maximum",s.ALIGN_MIN_Z="layout.alignment.z.minimum",s.ALIGN_CENTER_Z="layout.alignment.z.center",s.ALIGN_MAX_Z="layout.alignment.z.maximum",s.TOGGLE_SCOPE="layout.alignment.scope",s))(Ol||{}),Ay=(s=>(s.DISTRIBUTE_ALONG_X="layout.distribution.x",s.DISTRIBUTE_ALONG_Y="layout.distribution.y",s.DISTRIBUTE_ALONG_Z="layout.distribution.z",s))(Ay||{}),QI=(s=>(s.UNITS="document.units",s))(QI||{}),kp=(s=>(s.FILE="menu.file",s.EDIT="menu.edit",s.VIEW="menu.view",s.HELP="menu.help",s))(kp||{}),Mb=(s=>(s.OPEN="canvasInput.open",s.CLOSE="canvasInput.close",s.COMMIT="canvasInput.commit",s))(Mb||{}),it=(s=>(s.PLANE="tool.plane",s.BOX="tool.box",s.SPHERE="tool.sphere",s.CYLINDER="tool.cylinder",s.CONE="tool.cone",s.PEN="tool.pen",s.LINE="tool.line",s.TEXT="tool.text",s.GROUP="tool.group",s.FRAME="tool.frame",s.HUMAN="tool.human",s.IMAGE="tool.image",s.MODEL="tool.model",s.CAMERA="tool.camera",s.XRRIG="tool.bodyRig",s.EMPTY="tool.empty",s.GAMEPAD="tool.gamepad",s.SOUND="tool.sound",s.SOUND_SPATIAL="tool.soundSpatial",s.POINT_LIGHT="tool.pointLight",s.AREA_LIGHT="tool.areaLight",s.SPOT_LIGHT="tool.spotLight",s.DIRECTIONAL_LIGHT="tool.directionalLight",s.EXTRUDE="tool.extrude",s.INSET="tool.inset",s.BEVEL="tool.bevel",s.LOOP_CUT="tool.loopcut",s.BOOLEAN_UNION="tool.boolean.union",s.BOOLEAN_SUBTRACT="tool.boolean.subtract",s.BOOLEAN_INTERSECT="tool.boolean.intersect",s.SELECT="tool.select",s.SELECT_TARGET="tool.selectTarget",s.MOVE="tool.move",s.MEASURE="tool.measure",s.MESH_SELECT="tool.meshSelect",s.CURVE_EDIT="tool.curveEdit",s.TEXT_EDIT="tool.textEdit",s.PLACE="tool.place",s.PLAY_MODE_INTERACTION="tool.playModeInteraction",s.XR_SET_ANCHOR="tool.xrSetAnchor",s.BOOKMARKS="tool.bookmarks",s.COMMENTS="tool.comments",s.HISTORY="tool.history",s.ASSET_LIBRARY="tool.assetLibrary",s.TEMPLATE_LIBRARY="tool.templateLibrary",s.GENERATE="tool.generate",s))(it||{}),zl=(s=>(s.EXIT="meshing.exit",s.TOGGLE_XRAY_VIEW="meshing.xrayView",s.SELECT_FACE="meshing.select.face",s.SELECT_EDGE="meshing.select.edge",s.SELECT_VERTEX="meshing.select.vertex",s))(zl||{}),JI=(s=>(s.EXIT="pen.exit",s.DELETE="pen.delete",s))(JI||{}),$I=(s=>(s.EXIT="line.exit",s.DELETE="line.delete",s))($I||{}),g5=(s=>(s.EXIT="curve.exit",s.DELETE="curve.delete",s))(g5||{}),Me=(s=>(s.COPY="tool.select.copy",s.PASTE="tool.select.paste",s.DUPLICATE="tool.select.duplicate",s.DELETE="tool.select.delete",s.FRAME="tool.select.frame.wrap",s.FRAME_FIT_CHILDREN="tool.select.frame.fitChildren",s.GROUP="tool.select.group",s.UNGROUP="tool.select.ungroup",s.SELECT_ALL="tool.select.selectAll",s.TOGGLE_SPACE="tool.select.toggleSpace",s.EDIT="tool.select.edit",s.COMPONENT_CREATE="tool.select.component.create",s.COMPONENT_INSTANCE="tool.select.component.instance",s.COMPONENT_INSTANCE_UNLINK="tool.select.component.instance.unlink",s.APPLY_SCALE="tool.select.apply.scale",s.COLLIDER_ADD="tool.select.collider.add",s.COLLIDER_REMOVE="tool.select.collider.remove",s.COLLIDER_TYPE_CHANGE="tool.select.collider.changeType",s.COLLIDER_NAME_CHANGE="tool.select.collider.changeName",s.COLLIDER_TOGGLE_ENABLED="tool.select.collider.toggleEnabled",s.EMPTY_TYPE_CHANGE="tool.select.empty.changeType",s.ENTER_TEXT_EDIT_MODE="tool.select.enterTextEditMode",s.SET_ALL_STATES_TO_START="tool.select.states.setAllToStart",s.SET_ALL_STATES_TO_BASE="tool.seelct.states.setAllToBase",s))(Me||{}),tm=(s=>(s.DETACH="instance.detach",s.GO_TO_MAIN_COMPONENT="instance.goToMainComponent",s.RESTORE_MAIN_COMPONENT="instance.restoreMainComponent",s.PROMOTE_OVERRIDES="instance.overrides.promote",s.RESET_OVERRIDES="instance.overrides.reset",s))(tm||{}),_5=(s=>(s.TOGGLE_SHORTCUTS_PANEL="help.toggleShortcutsPanel",s.DOCUMENTATION="help.documentation",s.COMMUNITY="help.community",s.DISCORD="help.discord",s.FEEDBACK="help.feedback",s.TWITTER="help.twitter",s))(_5||{}),iN=(s=>(s.NOT_FOUND="rootMenu.notFound",s))(iN||{}),v5=(s=>(s.NEW_FILE="file.new",s.DUPLICATE_FILE="file.duplicate",s.SAVE_VERSION="file.saveVersionHistory",s.VERSION_HISTORY="file.showVersionHistory",s.EDIT_UNITS_CONVERSION="file.editUnitsConversion",s.EXPORT="file.export.gltf",s))(v5||{}),J0=(s=>(s.UNDO="history.undo",s.REDO="history.redo",s))(J0||{}),Gp=(s=>(s.METERS="units.meters",s.CENTIMETERS="units.centimeters",s.MILLIMETERS="units.millimeters",s.FEET="units.feet",s.INCHES="units.inches",s))(Gp||{}),Qw=(s=>(s.TOGGLE_DEV_PERF_PANEL="perf.panel",s.VIEW_IN_PERFORMANCE="perf.viewInPerformance",s))(Qw||{}),lo=(s=>(s.LIBRARY="bottom.bar.library",s.STATE_MACHINE="bottom.bar.stateMachine",s.PERFORMANCE="bottom.bar.performance",s.GEN_AI="bottom.bar.genAi",s))(lo||{});class Btt{constructor(){zi(this,"commandPalette",qw),zi(this,"viewport",Zi),zi(this,"view",Dl),zi(this,"viewDirection",ne),zi(this,"viewAxes",m5),zi(this,"viewRender",E_),zi(this,"viewHierarchy",jh),zi(this,"tool",it),zi(this,"selectToolCommand",Me),zi(this,"instanceCommand",tm),zi(this,"rootMenu",iN),zi(this,"file",v5),zi(this,"help",_5),zi(this,"history",J0),zi(this,"meshing",zl),zi(this,"pen",JI),zi(this,"line",$I),zi(this,"curve",g5),zi(this,"units",Gp),zi(this,"documentSetting",QI),zi(this,"menu",kp),zi(this,"canvasInput",Mb),zi(this,"snap",co),zi(this,"alignment",Ol),zi(this,"distribute",Ay),zi(this,"perf",Qw),zi(this,"bottomBar",lo)}}const R=new Btt;var u0=(s=>(s.BOOLEAN="Boolean",s.OBJECT="Object",s.TOOL="Tool",s.MODELING="Modeling",s.SETTING="File Setting",s.VIEW="View",s.GRID="Grid",s.AI="AI",s))(u0||{});const de={[R.commandPalette.TOGGLE]:{id:R.commandPalette.TOGGLE,label:"Search",description:"Toggle command palette",defaultKeys:["/"],defaultAlias:"",accessLevel:Z.VIEWER,hideFromCommandCenter:!0,isRepeatable:!1},[R.commandPalette.OPEN]:{id:R.commandPalette.OPEN,label:"Open command palette",description:"Open command palette",defaultKeys:["q","w","e","r","t","y","u","i","o","p","a","s","d","f","g","h","j","k","l","z","x","c","v","b","n","m"],defaultAlias:"",accessLevel:Z.EDITOR,hideFromCommandCenter:!0,isRepeatable:!1},[R.canvasInput.OPEN]:{id:R.canvasInput.OPEN,label:"Open canvas input",description:"Open canvas input",accessLevel:Z.EDITOR,hideFromCommandCenter:!0,isRepeatable:!1},[R.canvasInput.CLOSE]:{id:R.canvasInput.CLOSE,label:"Close canvas input",description:"Close canvas input",accessLevel:Z.EDITOR,hideFromCommandCenter:!0,isRepeatable:!1},[R.canvasInput.COMMIT]:{id:R.canvasInput.COMMIT,label:"Commit",description:"Commit and close canvas input",accessLevel:Z.EDITOR,hideFromCommandCenter:!0,isRepeatable:!1},[R.viewport.FOCUS]:{id:R.viewport.FOCUS,label:"Focus",description:"Focus the selected objects",defaultKeys:["Alt+F"],defaultAlias:"f",keywords:["zoom","zs"],accessLevel:Z.GUEST,category:"View"},[R.viewport.FOCUS_ALL]:{id:R.viewport.FOCUS_ALL,label:"Focus all",description:"Focus all the visible objects",defaultKeys:["Shift+F"],defaultAlias:"fa",accessLevel:Z.GUEST,category:"View"},[R.viewport.PLAY_ALL]:{id:R.viewport.PLAY_ALL,label:"Play all",description:"Preview all animations",defaultKeys:["Shift+P"],defaultAlias:"pa",accessLevel:Z.GUEST,category:"View"},[R.viewport.PREVIEW_ALL_BEHAVIORS]:{id:R.viewport.PREVIEW_ALL_BEHAVIORS,label:"Play all behaviors",description:"Play all behaviors",defaultKeys:["Shift+O"],defaultAlias:"behaviors",accessLevel:Z.GUEST,category:"View"},[R.viewport.RESET_CAMERA]:{id:R.viewport.RESET_CAMERA,label:"Reset camera",description:"Reset camera to default",defaultKeys:["Mod+0"],defaultAlias:"rc",accessLevel:Z.GUEST,category:"View"},[R.viewport.TOGGLE_ORTHOGRAPHIC]:{id:R.viewport.TOGGLE_ORTHOGRAPHIC,label:"Orthographic",icon:_E,description:"Toggles between orthographic and perspective mode",defaultAlias:"tv",accessLevel:Z.GUEST,category:"View"},[R.viewport.VIEW_DIRECTION]:{id:R.viewport.VIEW_DIRECTION,label:"View direction",description:"Show view direction menu",accessLevel:Z.VIEWER},[R.viewDirection.TOP]:{id:R.viewDirection.TOP,label:"Top",description:"View selection from top",defaultAlias:"vt",accessLevel:Z.GUEST,category:"View",divideBefore:!0},[R.viewDirection.RIGHT]:{id:R.viewDirection.RIGHT,label:"Right",description:"View selection from right side",defaultAlias:"vr",accessLevel:Z.GUEST,category:"View"},[R.viewDirection.FRONT]:{id:R.viewDirection.FRONT,label:"Front",description:"View selection from front",defaultAlias:"vf",accessLevel:Z.GUEST,category:"View"},[R.viewDirection.LEFT]:{id:R.viewDirection.LEFT,label:"Left",description:"View selection from left side",defaultAlias:"vl",accessLevel:Z.GUEST,category:"View"},[R.viewDirection.BACK]:{id:R.viewDirection.BACK,label:"Back",description:"View selection from back",defaultAlias:"vb",accessLevel:Z.GUEST,category:"View"},[R.viewDirection.BOTTOM]:{id:R.viewDirection.BOTTOM,label:"Bottom",description:"View selection from bottom",defaultAlias:"vm",accessLevel:Z.GUEST,category:"View"},[R.viewport.GRID]:{id:R.viewport.GRID,label:"Show grid",icon:_v,description:"Show grid and axes",defaultKeys:["Mod+'"],defaultAlias:"grid",accessLevel:Z.EDITOR,category:"File Setting",divideBefore:!0},[R.viewport.VIEW_AXES]:{id:R.viewport.VIEW_AXES,label:"Grid axes",description:"Set grid axes",accessLevel:Z.VIEWER},[R.viewAxes.XZ]:{id:R.viewAxes.XZ,label:"xz",description:"Set axes to xz",defaultAlias:"xz",keywords:["zx"],accessLevel:Z.GUEST,category:"Grid",divideBefore:!0},[R.viewAxes.XY]:{id:R.viewAxes.XY,label:"xy",description:"Set axes to xy",defaultAlias:"xy",keywords:["yx"],accessLevel:Z.GUEST,category:"Grid"},[R.viewAxes.YZ]:{id:R.viewAxes.YZ,label:"yz",description:"Set axes to yz",defaultAlias:"yz",keywords:["zy"],accessLevel:Z.GUEST,category:"Grid"},[R.viewport.RENDER]:{id:R.viewport.RENDER,label:"Render",description:"Show render menu",accessLevel:Z.VIEWER},[R.viewRender.FOG]:{id:R.viewRender.FOG,label:"Render fog",icon:YQ,description:"Render fog",accessLevel:Z.EDITOR,category:"File Setting"},[R.viewRender.AMBIENT_LIGHT]:{id:R.viewRender.AMBIENT_LIGHT,label:"Ambient light",description:"Ambient light",accessLevel:Z.EDITOR,category:"File Setting"},[R.view.TOGGLE_UI]:{id:R.view.TOGGLE_UI,label:"Show UI",description:"Toggle UI panels on and off",defaultKeys:["Mod+."],accessLevel:Z.GUEST,category:"View",divideBefore:!0},[R.view.RESET_PANEL_SIZES]:{id:R.view.RESET_PANEL_SIZES,label:"Reset panel sizes",accessLevel:Z.GUEST,category:"View"},[R.view.TOGGLE_EDITOR_COMMENTS]:{id:R.view.TOGGLE_EDITOR_COMMENTS,label:"Show comments",description:"Show comments",defaultKeys:["Shift+C"],accessLevel:Z.VIEWER,category:"File Setting"},[R.view.VIEW_SELECTED_CAMERA]:{id:R.view.VIEW_SELECTED_CAMERA,label:"Preview camera",description:"Preview selected camera",defaultKeys:["0"],accessLevel:Z.GUEST,category:"View"},[R.view.HIERARCHY]:{id:R.view.HIERARCHY,label:"Hierarchy",description:"Show hierarchy menu",accessLevel:Z.VIEWER},[R.viewHierarchy.COLLAPSE_HIERARCHY_ITEMS]:{id:R.viewHierarchy.COLLAPSE_HIERARCHY_ITEMS,label:"Collapse hierarchy",description:"Collapses all items in the hierarchy except the selected items' parents",defaultKeys:["Alt+L"],accessLevel:Z.EDITOR,category:"View",isRepeatable:!1},[R.viewHierarchy.EXPAND_HIERARCHY_ITEMS]:{id:R.viewHierarchy.EXPAND_HIERARCHY_ITEMS,label:"Expand hierarchy",description:"Expands all items in the hierarchy",defaultKeys:["Alt+Shift+L"],accessLevel:Z.EDITOR,category:"View",isRepeatable:!1},[R.viewHierarchy.TOGGLE_VISIBILITY]:{id:R.viewHierarchy.TOGGLE_VISIBILITY,label:"Show/hide selection",description:"Toggles visibility of selected items",defaultKeys:["Mod+Shift+H"],defaultAlias:"h",keywords:["visible","visibility","hide","toggle visib"],accessLevel:Z.EDITOR,category:"View"},[R.viewHierarchy.UNHIDE_ALL]:{id:R.viewHierarchy.UNHIDE_ALL,label:"Unhide all",description:"Shows all hidden items",defaultAlias:"sh",keywords:["uh"],accessLevel:Z.EDITOR,category:"View"},[R.viewHierarchy.HIDE_INVERSE]:{id:R.viewHierarchy.HIDE_INVERSE,label:"Hide inverse",description:"Hides all unselected items",defaultAlias:"hi",accessLevel:Z.EDITOR,category:"View"},[R.viewHierarchy.TOGGLE_LOCK]:{id:R.viewHierarchy.TOGGLE_LOCK,label:"Lock/Unlock selection",description:"Toggles lock of selected items",defaultAlias:"lo",defaultKeys:["Mod+Shift+L"],accessLevel:Z.EDITOR,category:"View"},[R.viewHierarchy.LOCK_INVERSE]:{id:R.viewHierarchy.LOCK_INVERSE,label:"Lock inverse",description:"Locks all unselected items",defaultAlias:"li",accessLevel:Z.EDITOR,category:"View"},[R.viewHierarchy.UNLOCK_ALL]:{id:R.viewHierarchy.UNLOCK_ALL,label:"Unlock all",description:"Unlocks all locked items",defaultAlias:"ul",defaultKeys:["Mod+Alt+Shift+L"],accessLevel:Z.EDITOR,category:"View"},[R.view.SYNC_ALL_FIGMA_FRAMES]:{id:R.view.SYNC_ALL_FIGMA_FRAMES,label:"Sync all Figma frames",icon:UJ,description:"Updates any Figma frames in the scene using the user's Figma API key",accessLevel:Z.EDITOR},[R.viewport.SNAP_MODE]:{id:R.viewport.SNAP_MODE,label:"Snap modes",icon:_v,defaultAlias:"snap",keywords:["snap"],accessLevel:Z.EDITOR,category:"File Setting"},[R.snap.OFF]:{id:R.snap.OFF,label:"Snapping off",icon:_v,description:"Turn off snapping",defaultKeys:["Mod+Shift+]"],keywords:["snap","off"],accessLevel:Z.EDITOR,category:"File Setting"},[R.snap.GRID]:{id:R.snap.GRID,label:"Snap to grid",icon:_v,description:"Snap positions and bounds to grid",defaultKeys:["Mod+Shift+'"],keywords:["snap","grid","absolute"],accessLevel:Z.EDITOR,category:"File Setting"},[R.snap.INCREMENT]:{id:R.snap.INCREMENT,label:"Snap to increment",icon:_v,description:"Limit position and size changes to unit increments",defaultKeys:["Mod+Shift+/"],keywords:["snap","increment","relative"],accessLevel:Z.EDITOR,category:"File Setting"},[R.alignment.ALIGN_MIN_X]:{id:R.alignment.ALIGN_MIN_X,label:"Align to minimum x",description:"Align objects to the minimum x-coordinate of the selection",icon:bc,keywords:["align","min","x"],accessLevel:Z.EDITOR,category:"Object"},[R.alignment.ALIGN_MIN_Y]:{id:R.alignment.ALIGN_MIN_Y,label:"Align to minimum y",description:"Align objects to the minimum y-coordinate of the selection",icon:bc,keywords:["align","min","y"],accessLevel:Z.EDITOR,category:"Object"},[R.alignment.ALIGN_MIN_Z]:{id:R.alignment.ALIGN_MIN_Z,label:"Align to minimum z",description:"Align objects to the minimum z-coordinate of the selection",icon:bc,keywords:["align","min","z"],accessLevel:Z.EDITOR,category:"Object"},[R.alignment.ALIGN_CENTER_X]:{id:R.alignment.ALIGN_CENTER_X,label:"Align to center on X",description:"Align objects to the center of the selection on the X axis",icon:bc,keywords:["align","center","x"],accessLevel:Z.EDITOR,category:"Object"},[R.alignment.ALIGN_CENTER_Y]:{id:R.alignment.ALIGN_CENTER_Y,label:"Align to center on Y",description:"Align objects to the center of the selection on the Y axis",icon:bc,keywords:["align","center","y"],accessLevel:Z.EDITOR,category:"Object"},[R.alignment.ALIGN_CENTER_Z]:{id:R.alignment.ALIGN_CENTER_Z,label:"Align to center on Z",description:"Align objects to the center of the selection on the Z axis",icon:bc,keywords:["align","center","z"],accessLevel:Z.EDITOR,category:"Object"},[R.alignment.ALIGN_MAX_X]:{id:R.alignment.ALIGN_MAX_X,label:"Align to maximum x",description:"Align objects to the maximum x-coordinate of the selection",icon:bc,keywords:["align","max","x"],accessLevel:Z.EDITOR,category:"Object"},[R.alignment.ALIGN_MAX_Y]:{id:R.alignment.ALIGN_MAX_Y,label:"Align to maximum y",description:"Align objects to the maximum y-coordinate of the selection",icon:bc,keywords:["align","max","y"],accessLevel:Z.EDITOR,category:"Object"},[R.alignment.ALIGN_MAX_Z]:{id:R.alignment.ALIGN_MAX_Z,label:"Align to maximum z",description:"Align objects to the maximum z-coordinate of the selection",icon:bc,keywords:["align","max","z"],accessLevel:Z.EDITOR,category:"Object"},[R.alignment.TOGGLE_SCOPE]:{id:R.alignment.TOGGLE_SCOPE,label:"Toggle alignment scope",description:"Toggle alignment scope between selection and frame",icon:vE,keywords:["align","scope"],accessLevel:Z.EDITOR,category:"Object"},[R.distribute.DISTRIBUTE_ALONG_X]:{id:R.distribute.DISTRIBUTE_ALONG_X,label:"Distribute along X",description:"Distribute objects evenly along the X axis",icon:bc,keywords:["distribute","x"],accessLevel:Z.EDITOR,category:"Object"},[R.distribute.DISTRIBUTE_ALONG_Y]:{id:R.distribute.DISTRIBUTE_ALONG_Y,label:"Distribute along Y",description:"Distribute objects evenly along the Y axis",icon:bc,keywords:["distribute","y"],accessLevel:Z.EDITOR,category:"Object"},[R.distribute.DISTRIBUTE_ALONG_Z]:{id:R.distribute.DISTRIBUTE_ALONG_Z,label:"Distribute along Z",description:"Distribute objects evenly along the Z axis",icon:bc,keywords:["distribute","z"],accessLevel:Z.EDITOR,category:"Object"},[R.tool.SELECT]:{id:R.tool.SELECT,label:"Select",icon:qT,description:"Select objects",defaultKeys:["Esc"],defaultAlias:"v",accessLevel:Z.GUEST,category:"Tool",isRepeatable:!1},[R.tool.MESH_SELECT]:{id:R.tool.MESH_SELECT,label:"Mesh select",icon:VC,description:"Select mesh vertices, edges, faces",accessLevel:Z.EDITOR},[R.tool.SELECT_TARGET]:{id:R.tool.SELECT_TARGET,label:"Select target",icon:qT,description:"Select target",accessLevel:Z.EDITOR,category:"Tool",isRepeatable:!0,hideFromCommandCenter:!0},[R.tool.TEXT_EDIT]:{id:R.tool.TEXT_EDIT,label:"Text edit",icon:VC,description:"Select text",accessLevel:Z.EDITOR},[R.tool.BOOLEAN_UNION]:{id:R.tool.BOOLEAN_UNION,label:"Boolean union (beta)",icon:e$,description:"Union selected object",defaultAlias:"bu",keywords:["join","merge","combine"],accessLevel:Z.EDITOR,category:"Modeling"},[R.tool.BOOLEAN_SUBTRACT]:{id:R.tool.BOOLEAN_SUBTRACT,label:"Boolean subtract (beta)",icon:s$,description:"Subtract selected object",defaultAlias:"bs",keywords:["hole","window","difference"],accessLevel:Z.EDITOR,category:"Modeling"},[R.tool.BOOLEAN_INTERSECT]:{id:R.tool.BOOLEAN_INTERSECT,label:"Boolean intersect (beta)",icon:i$,description:"Intersect selected object",defaultAlias:"bi",keywords:["overlap","common"],accessLevel:Z.EDITOR,category:"Modeling"},[R.tool.MOVE]:{id:R.tool.MOVE,label:"Move",icon:HQ,description:"Move objects from point to point",defaultAlias:"m",keywords:["snapping"],accessLevel:Z.EDITOR,category:"Tool"},[R.tool.PLACE]:{id:R.tool.PLACE,label:"Place",description:"Place object at point",accessLevel:Z.EDITOR,hideFromCommandCenter:!0},[R.tool.MEASURE]:{id:R.tool.MEASURE,label:"Measure",icon:e9,description:"Measure a distance from point to point",keywords:["ruler","distance"],accessLevel:Z.EDITOR,category:"Tool"},[R.tool.PLANE]:{id:R.tool.PLANE,label:"Plane",icon:vQ,description:"Draw a plane",defaultAlias:"re",keywords:["rectangle","panel","window"],accessLevel:Z.EDITOR,category:"Object"},[R.tool.BOX]:{id:R.tool.BOX,label:"Box",icon:wR,description:"Create a box",defaultAlias:"b",keywords:["cube"],accessLevel:Z.EDITOR,category:"Object"},[R.tool.SPHERE]:{id:R.tool.SPHERE,label:"Sphere",icon:dQ,description:"Create a sphere",defaultAlias:"s",keywords:["ball"],accessLevel:Z.EDITOR,category:"Object"},[R.tool.CYLINDER]:{id:R.tool.CYLINDER,label:"Cylinder",icon:cQ,description:"Create a cylinder",accessLevel:Z.EDITOR,category:"Object"},[R.tool.CONE]:{id:R.tool.CONE,label:"Cone",icon:fQ,description:"Create a cone",keywords:["pyramid"],accessLevel:Z.EDITOR,category:"Object"},[R.tool.TEXT]:{id:R.tool.TEXT,label:"Text",icon:UQ,description:"Create a 2D text object",defaultAlias:"t",accessLevel:Z.EDITOR,category:"Object"},[R.tool.HUMAN]:{id:R.tool.HUMAN,label:"Human",icon:mQ,description:"Create a human",keywords:["person","figure"],accessLevel:Z.EDITOR,category:"Object"},[R.tool.EMPTY]:{id:R.tool.EMPTY,label:"Empty",icon:QT,description:"Create an empty",keywords:["empty"],accessLevel:Z.EDITOR,category:"Object"},[R.tool.FRAME]:{id:R.tool.FRAME,label:"Frame (beta)",icon:vE,description:"Create a frame",keywords:["fr","frame"],accessLevel:Z.EDITOR,category:"Object"},[R.tool.GROUP]:{id:R.tool.GROUP,label:"Group",icon:QT,description:"Create a group",keywords:["empty"],accessLevel:Z.EDITOR,category:"Object",hideFromCommandCenter:!0},[R.tool.IMAGE]:{id:R.tool.IMAGE,label:"Image...",icon:bQ,description:"Upload an image",keywords:["import","upload"],accessLevel:Z.EDITOR,category:"Object"},[R.tool.MODEL]:{id:R.tool.MODEL,label:"3D Model...",icon:RQ,description:"Upload a 3D model",keywords:["import","upload"],accessLevel:Z.EDITOR,category:"Object"},[R.tool.CAMERA]:{id:R.tool.CAMERA,label:"Camera",icon:_E,description:"Add camera",keywords:["bookmark"],defaultAlias:"cam",accessLevel:Z.EDITOR,category:"Object"},[R.tool.SOUND]:{id:R.tool.SOUND,label:"Audio",icon:CQ,description:"Create an audio object",keywords:["audio","sound"],defaultAlias:"audio",accessLevel:Z.EDITOR,category:"Object"},[R.tool.SOUND_SPATIAL]:{id:R.tool.SOUND_SPATIAL,label:"Spatial audio",icon:wQ,description:"Create a spatial audio object",keywords:["audio","sound","spatial"],defaultAlias:"spatial",accessLevel:Z.EDITOR,category:"Object"},[R.tool.GAMEPAD]:{id:R.tool.GAMEPAD,label:"Inputs",icon:Kw,description:"Create inputs",defaultAlias:"input",keywords:["inputs","gamepad","xbox","ps5","controller"],accessLevel:Z.EDITOR,category:"Object"},[R.tool.XRRIG]:{id:R.tool.XRRIG,label:"Body Rig",icon:K$,description:"Create an Body Rig",defaultAlias:"rig",keywords:["rig","head","vrrig","xrrig","body"],accessLevel:Z.EDITOR,category:"Object"},[R.tool.POINT_LIGHT]:{id:R.tool.POINT_LIGHT,label:"Point light",icon:p$,description:"Create a point light",accessLevel:Z.EDITOR,category:"Object"},[R.tool.AREA_LIGHT]:{id:R.tool.AREA_LIGHT,label:"Area light",icon:_$,description:"Create a area light",keywords:["rectanglelight"],accessLevel:Z.EDITOR,category:"Object"},[R.tool.SPOT_LIGHT]:{id:R.tool.SPOT_LIGHT,label:"Spot light",icon:y$,description:"Create a spot light",keywords:["conelight"],accessLevel:Z.EDITOR,category:"Object"},[R.tool.DIRECTIONAL_LIGHT]:{id:R.tool.DIRECTIONAL_LIGHT,label:"Directional light",icon:C$,description:"Create a directional light",accessLevel:Z.EDITOR,category:"Object"},[R.tool.HISTORY]:{id:R.tool.HISTORY,label:"Version History",description:"Version history tool",accessLevel:Z.EDITOR,hideFromCommandCenter:!0},[R.file.NEW_FILE]:{id:R.file.NEW_FILE,label:"New file",accessLevel:Z.VIEWER},[R.file.DUPLICATE_FILE]:{id:R.file.DUPLICATE_FILE,label:"Duplicate file",accessLevel:Z.VIEWER,defaultAlias:"dupf",keywords:["remix"]},[R.file.SAVE_VERSION]:{id:R.file.SAVE_VERSION,label:"Save to version history",accessLevel:Z.EDITOR,divideBefore:!0},[R.file.VERSION_HISTORY]:{id:R.file.VERSION_HISTORY,label:"Show version history",accessLevel:Z.EDITOR},[R.file.EDIT_UNITS_CONVERSION]:{id:R.file.EDIT_UNITS_CONVERSION,label:"Unit Conversion",accessLevel:Z.EDITOR},[R.file.EXPORT]:{id:R.file.EXPORT,label:"Export file",keywords:["download","export"],accessLevel:Z.EDITOR,divideBefore:!0},[R.history.UNDO]:{id:R.history.UNDO,label:"Undo",icon:sQ,description:"Undo recent action",defaultKeys:["Mod+Z"],accessLevel:Z.EDITOR,isRepeatable:!1},[R.history.REDO]:{id:R.history.REDO,label:"Redo",icon:iQ,description:"Redo recent action",defaultKeys:["Mod+Shift+Z","Mod+Y"],accessLevel:Z.EDITOR,isRepeatable:!1},[R.selectToolCommand.EDIT]:{id:R.selectToolCommand.EDIT,label:"Edit Object",icon:VC,description:"Edit selected object",defaultKeys:["Enter","Tab"],defaultAlias:"ed",accessLevel:Z.EDITOR},[R.selectToolCommand.COPY]:{id:R.selectToolCommand.COPY,label:"Copy",description:"Copy object",defaultKeys:["Mod+C"],accessLevel:Z.VIEWER,divideBefore:!0,isRepeatable:!1},[R.selectToolCommand.PASTE]:{id:R.selectToolCommand.PASTE,label:"Paste",description:"Paste object",defaultKeys:["Mod+V"],accessLevel:Z.EDITOR},[R.selectToolCommand.DUPLICATE]:{id:R.selectToolCommand.DUPLICATE,label:"Duplicate",description:"Duplicate object",defaultKeys:["Mod+D"],defaultAlias:"dup",accessLevel:Z.EDITOR},[R.selectToolCommand.DELETE]:{id:R.selectToolCommand.DELETE,label:"Delete",description:"Delete object from scene",defaultKeys:["Backspace","Del"],defaultAlias:"del",accessLevel:Z.EDITOR,isRepeatable:!1},[R.selectToolCommand.GROUP]:{id:R.selectToolCommand.GROUP,label:"Group",description:"Group objects",defaultKeys:["Mod+G"],defaultAlias:"g",accessLevel:Z.EDITOR,divideBefore:!0},[R.selectToolCommand.UNGROUP]:{id:R.selectToolCommand.UNGROUP,label:"Ungroup",description:"Ungroup objects",defaultKeys:["Mod+Shift+G"],defaultAlias:"ug",accessLevel:Z.EDITOR},[R.selectToolCommand.SELECT_ALL]:{id:R.selectToolCommand.SELECT_ALL,label:"Select all objects",description:"Select all objects",defaultKeys:["Mod+A"],defaultAlias:"sa",accessLevel:Z.GUEST},[R.selectToolCommand.TOGGLE_SPACE]:{id:R.selectToolCommand.TOGGLE_SPACE,label:"Toggle transform space",description:"Toggle transform space",defaultKeys:["Alt+Q"],defaultAlias:"q",keywords:["global","world","local","pivot"],accessLevel:Z.EDITOR,category:"File Setting"},[R.selectToolCommand.APPLY_SCALE]:{id:R.selectToolCommand.APPLY_SCALE,label:"Apply scale",description:"Applies scale into shape parameters and resets scale to 1, 1, 1",defaultAlias:"as",accessLevel:Z.EDITOR,category:"Object"},[R.selectToolCommand.COLLIDER_ADD]:{id:R.selectToolCommand.COLLIDER_ADD,label:"Add collider",description:"Add a collider",defaultAlias:"coll",accessLevel:Z.EDITOR,category:"Object",isRepeatable:!1},[R.selectToolCommand.COLLIDER_REMOVE]:{id:R.selectToolCommand.COLLIDER_REMOVE,label:"Remove collider",description:"Remove a collider",accessLevel:Z.EDITOR,category:"Object",isRepeatable:!1},[R.selectToolCommand.COLLIDER_TYPE_CHANGE]:{id:R.selectToolCommand.COLLIDER_TYPE_CHANGE,label:"Change collider type",description:"Change collider type",accessLevel:Z.EDITOR,category:"Object",isRepeatable:!1,hideFromCommandCenter:!0},[R.selectToolCommand.COLLIDER_NAME_CHANGE]:{id:R.selectToolCommand.COLLIDER_NAME_CHANGE,label:"Change collider name",description:"Change collider name",accessLevel:Z.EDITOR,category:"Object",isRepeatable:!1,hideFromCommandCenter:!0},[R.selectToolCommand.COLLIDER_TOGGLE_ENABLED]:{id:R.selectToolCommand.COLLIDER_TOGGLE_ENABLED,label:"Enable/disable collider",description:"Toggle collider enabled",accessLevel:Z.EDITOR,category:"Object",isRepeatable:!0},[R.selectToolCommand.EMPTY_TYPE_CHANGE]:{id:R.selectToolCommand.EMPTY_TYPE_CHANGE,label:"Change empty display type",description:"Change the display type of an empty",accessLevel:Z.EDITOR,category:"Object",isRepeatable:!1,hideFromCommandCenter:!0},[R.selectToolCommand.ENTER_TEXT_EDIT_MODE]:{id:R.selectToolCommand.ENTER_TEXT_EDIT_MODE,label:"Edit text",description:"Change the selection to edit text",accessLevel:Z.EDITOR,category:"Object",isRepeatable:!1},[R.selectToolCommand.FRAME]:{id:R.selectToolCommand.FRAME,label:"Create frame (beta)",icon:vE,description:"Create frame",defaultKeys:["Mod+Alt+G"],defaultAlias:"frame",accessLevel:Z.EDITOR,hideFromCommandCenter:!0},[R.selectToolCommand.FRAME_FIT_CHILDREN]:{id:R.selectToolCommand.FRAME_FIT_CHILDREN,label:"Fit to children",description:"Fit frame to children",accessLevel:Z.EDITOR,category:"Object",hideFromCommandCenter:!0},[R.selectToolCommand.COMPONENT_CREATE]:{id:R.selectToolCommand.COMPONENT_CREATE,label:"Create component",icon:c$,description:"Create component from selection",defaultKeys:["Mod+K"],defaultAlias:"component",accessLevel:Z.EDITOR},[R.selectToolCommand.COMPONENT_INSTANCE]:{id:R.selectToolCommand.COMPONENT_INSTANCE,label:"Create instance",icon:h$,description:"Create instance of component",defaultKeys:["Mod+I"],defaultAlias:"instance",accessLevel:Z.EDITOR},[R.selectToolCommand.COMPONENT_INSTANCE_UNLINK]:{id:R.selectToolCommand.COMPONENT_INSTANCE_UNLINK,label:"Unlink instance",icon:d$,description:"Unlink instance of component",defaultKeys:["Mod+Shift+I"],defaultAlias:"unlink",keywords:["unlink","detach"],accessLevel:Z.EDITOR},[R.selectToolCommand.SET_ALL_STATES_TO_START]:{id:R.selectToolCommand.SET_ALL_STATES_TO_START,label:"Set all to Start State",description:"Set all objects to start state",defaultKeys:["Shift+Mod+S"],defaultAlias:"start",accessLevel:Z.EDITOR},[R.selectToolCommand.SET_ALL_STATES_TO_BASE]:{id:R.selectToolCommand.SET_ALL_STATES_TO_BASE,label:"Set all to Base State",description:"Set all objects to Base State",defaultAlias:"base",defaultKeys:["Shift+Mod+B"],accessLevel:Z.EDITOR},[R.instanceCommand.GO_TO_MAIN_COMPONENT]:{id:R.instanceCommand.GO_TO_MAIN_COMPONENT,label:"Go to main component",icon:LQ,description:"Select and focus main component",accessLevel:Z.EDITOR},[R.instanceCommand.RESTORE_MAIN_COMPONENT]:{id:R.instanceCommand.RESTORE_MAIN_COMPONENT,label:"Restore main component",description:"Restore main component",accessLevel:Z.EDITOR},[R.instanceCommand.PROMOTE_OVERRIDES]:{id:R.instanceCommand.PROMOTE_OVERRIDES,label:"Push changes to main",description:"Push changes to main",accessLevel:Z.EDITOR},[R.instanceCommand.RESET_OVERRIDES]:{id:R.instanceCommand.RESET_OVERRIDES,label:"Reset changes",description:"Reset changes",accessLevel:Z.EDITOR},[R.tool.BOOKMARKS]:{id:R.tool.BOOKMARKS,label:"Cameras",icon:_E,description:"Cameras tool",accessLevel:Z.GUEST,hideFromCommandCenter:!0},[R.meshing.SELECT_FACE]:{id:R.meshing.SELECT_FACE,label:"Face",icon:ZJ,description:"Select faces",defaultKeys:["1"],defaultAlias:"sf",accessLevel:Z.EDITOR,category:"Modeling"},[R.meshing.SELECT_EDGE]:{id:R.meshing.SELECT_EDGE,label:"Edge",icon:KJ,description:"Select edges",defaultKeys:["2"],defaultAlias:"se",accessLevel:Z.EDITOR,category:"Modeling"},[R.meshing.SELECT_VERTEX]:{id:R.meshing.SELECT_VERTEX,label:"Vertex",icon:VC,description:"Select vertices",defaultKeys:["3"],defaultAlias:"sv",accessLevel:Z.EDITOR,category:"Modeling"},[R.meshing.EXIT]:{id:R.meshing.EXIT,label:"Exit object edit",description:"Exit object editing",defaultKeys:["Enter","Tab"],accessLevel:Z.EDITOR,hideFromCommandCenter:!0,isRepeatable:!1},[R.tool.EXTRUDE]:{id:R.tool.EXTRUDE,label:"Extrude",icon:qJ,description:"Extrude selection",defaultKeys:["Shift+E"],defaultAlias:"e",keywords:["push","pull"],accessLevel:Z.EDITOR,category:"Modeling"},[R.tool.INSET]:{id:R.tool.INSET,label:"Inset",icon:JJ,description:"Inset selection",defaultKeys:["Shift+I"],defaultAlias:"i",accessLevel:Z.EDITOR,category:"Modeling"},[R.tool.LOOP_CUT]:{id:R.tool.LOOP_CUT,label:"Loop Cut",icon:QJ,description:"Loop cut edges",defaultKeys:["Shift+L"],defaultAlias:"l",accessLevel:Z.EDITOR,category:"Modeling"},[R.tool.BEVEL]:{id:R.tool.BEVEL,label:"Bevel",icon:$J,description:"Bevel and chamfer",defaultKeys:["Shift+B"],defaultAlias:"bev",accessLevel:Z.EDITOR,category:"Modeling",hideFromCommandCenter:!0},[R.meshing.TOGGLE_XRAY_VIEW]:{id:R.meshing.TOGGLE_XRAY_VIEW,label:"Xray View",description:"See all edges, faces, and vertices",defaultKeys:["Alt+Z"],defaultAlias:"xray",accessLevel:Z.EDITOR,category:"Modeling"},[R.tool.COMMENTS]:{id:R.tool.COMMENTS,label:"Comments",icon:oQ,description:"Comments tool",accessLevel:Z.VIEWER},[R.tool.PEN]:{id:R.tool.PEN,label:"Pen",icon:xR,description:"Create a curve in a plane",defaultAlias:"p",keywords:["curve","line","bezier","arc","plane","2d"],accessLevel:Z.EDITOR,category:"Object"},[R.tool.LINE]:{id:R.tool.LINE,label:"Line",icon:AQ,description:"Create a curve in 3D space",defaultAlias:"ln",keywords:["curve","line","bezier","arc"],accessLevel:Z.EDITOR,category:"Object"},[R.pen.EXIT]:{id:R.pen.EXIT,label:"Exit 2D curve creation",description:"Exit 2D curve creation",defaultKeys:["Enter","Tab"],accessLevel:Z.EDITOR,hideFromCommandCenter:!0,isRepeatable:!1},[R.pen.DELETE]:{id:R.pen.DELETE,label:"Delete 2D curve",description:"Delete 2D curve from scene",defaultKeys:["Backspace","Del"],accessLevel:Z.EDITOR,hideFromCommandCenter:!0,isRepeatable:!1},[R.line.EXIT]:{id:R.line.EXIT,label:"Exit 3D curve creation",description:"Exit 3D curve creation",defaultKeys:["Enter","Tab"],accessLevel:Z.EDITOR,hideFromCommandCenter:!0,isRepeatable:!1},[R.line.DELETE]:{id:R.line.DELETE,label:"Delete 3D curve",description:"Delete 3D curve from scene",defaultKeys:["Backspace","Del"],accessLevel:Z.EDITOR,hideFromCommandCenter:!0,isRepeatable:!1},[R.tool.CURVE_EDIT]:{id:R.tool.CURVE_EDIT,label:"Edit Curve",description:"Edit a curve",accessLevel:Z.EDITOR},[R.curve.EXIT]:{id:R.curve.EXIT,label:"Exit curve edit",description:"Exit curve editing",defaultKeys:["Enter","Tab"],accessLevel:Z.EDITOR,hideFromCommandCenter:!0,isRepeatable:!1},[R.curve.DELETE]:{id:R.curve.DELETE,label:"Delete curve",description:"Delete curve from scene",defaultKeys:["Backspace","Del"],accessLevel:Z.EDITOR,hideFromCommandCenter:!0,isRepeatable:!1},[R.documentSetting.UNITS]:{id:R.documentSetting.UNITS,label:"Units",description:"Set document units",icon:e9,accessLevel:Z.EDITOR,category:"File Setting"},[R.units.METERS]:{id:R.units.METERS,label:"Meters",description:"Set document units to meters",keywords:["metric"],accessLevel:Z.EDITOR,category:"File Setting",isRepeatable:!1},[R.units.MILLIMETERS]:{id:R.units.MILLIMETERS,label:"Millimeters",description:"Set document units to millimeters",accessLevel:Z.EDITOR,category:"File Setting",isRepeatable:!1},[R.units.CENTIMETERS]:{id:R.units.CENTIMETERS,label:"Centimeters",description:"Set document units to centimeters",accessLevel:Z.EDITOR,category:"File Setting",isRepeatable:!1},[R.units.FEET]:{id:R.units.FEET,label:"Feet",description:"Set document units to feet",keywords:["imperial"],accessLevel:Z.EDITOR,category:"File Setting",isRepeatable:!1},[R.units.INCHES]:{id:R.units.INCHES,label:"Inches",description:"Set document units to inches",accessLevel:Z.EDITOR,category:"File Setting",isRepeatable:!1},[R.tool.PLAY_MODE_INTERACTION]:{id:R.tool.PLAY_MODE_INTERACTION,label:"Play mode interaction tool",description:"Interact with objects in play mode",defaultKeys:["Esc"],accessLevel:Z.NONE,category:"Tool",isRepeatable:!1,hideFromCommandCenter:!0},[R.tool.XR_SET_ANCHOR]:{id:R.tool.XR_SET_ANCHOR,label:"Change anchor point in XR",description:"Look around to change anchor and select to commit",accessLevel:Z.NONE,category:"Tool",isRepeatable:!1,hideFromCommandCenter:!0},[R.menu.FILE]:{id:R.menu.FILE,label:"File",description:"Show file menu",accessLevel:Z.VIEWER},[R.menu.EDIT]:{id:R.menu.EDIT,label:"Edit",description:"Show edit menu",accessLevel:Z.EDITOR},[R.menu.VIEW]:{id:R.menu.VIEW,label:"View",description:"Show view menu",accessLevel:Z.VIEWER},[R.menu.HELP]:{id:R.menu.HELP,label:"Help and support",description:"Show help menu",accessLevel:Z.GUEST},[R.rootMenu.NOT_FOUND]:{id:R.rootMenu.NOT_FOUND,label:"Looking for this?",description:"Command not found",accessLevel:Z.VIEWER},[R.help.TOGGLE_SHORTCUTS_PANEL]:{id:R.help.TOGGLE_SHORTCUTS_PANEL,label:"Keyboard shortcuts",accessLevel:Z.EDITOR},[R.help.DOCUMENTATION]:{id:R.help.DOCUMENTATION,label:"Documentation",accessLevel:Z.GUEST},[R.help.COMMUNITY]:{id:R.help.COMMUNITY,label:"Help Center",accessLevel:Z.GUEST,divideBefore:!0},[R.help.DISCORD]:{id:R.help.DISCORD,label:"Discord",accessLevel:Z.GUEST},[R.help.FEEDBACK]:{id:R.help.FEEDBACK,label:"Submit feedback",accessLevel:Z.GUEST},[R.help.TWITTER]:{id:R.help.TWITTER,label:"@Bezi_3D",accessLevel:Z.GUEST,hideFromCommandCenter:!0},[R.tool.ASSET_LIBRARY]:{id:R.tool.ASSET_LIBRARY,label:"Assets",icon:s9,keywords:["asset","shop"],accessLevel:Z.EDITOR,category:"View"},[R.tool.TEMPLATE_LIBRARY]:{id:R.tool.TEMPLATE_LIBRARY,label:"Template Library",icon:s9,accessLevel:Z.EDITOR,hideFromCommandCenter:!0},[R.bottomBar.LIBRARY]:{id:R.bottomBar.LIBRARY,label:"Library",icon:ftt,keywords:["library","component","style"],description:"Toggle library panel",accessLevel:Z.EDITOR,category:"View"},[R.bottomBar.STATE_MACHINE]:{id:R.bottomBar.STATE_MACHINE,label:"State machine",icon:WQ,keywords:["interactions","states","timeline","prototype"],description:"Toggle state machine panel",defaultKeys:["`"],accessLevel:Z.EDITOR,category:"View",tourStep:li.TRY_STATE_MACHINE},[R.bottomBar.GEN_AI]:{id:R.bottomBar.GEN_AI,label:"Generate",icon:LR,description:"Generate asset",keywords:["generate","gen"],accessLevel:Z.EDITOR,category:"AI"},[R.perf.TOGGLE_DEV_PERF_PANEL]:{id:R.perf.TOGGLE_DEV_PERF_PANEL,label:"Toggle Dev Performance Panel",description:"Toggle Dev Performance panel on and off",keywords:["performance","dev","stats"],accessLevel:Z.EDITOR,category:"View",isDevOnly:!0},[R.bottomBar.PERFORMANCE]:{id:R.bottomBar.PERFORMANCE,label:"Performance",icon:ptt,description:"Toggle Performance panel",keywords:[],accessLevel:Z.EDITOR,category:"View"},[R.perf.VIEW_IN_PERFORMANCE]:{id:R.perf.VIEW_IN_PERFORMANCE,label:"View performance",accessLevel:Z.EDITOR,category:"Object"}};var Xi=(s=>(s.VALID="valid",s.INVALID="invalid",s.MISSING="missing",s))(Xi||{});function Ht(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,s=>(s^crypto.getRandomValues(new Uint8Array(1))[0]&15>>s/4).toString(16))}const sr="Any State";var Qe=(s=>(s.LINEAR="animationTiming.linear",s.POWER1="animationTiming.power1",s.ELASTIC="animationTiming.elastic",s.CUSTOM="animationTiming.custom",s))(Qe||{}),_n=(s=>(s.IN="animationTimingDirection.in",s.OUT="animationTimingDirection.out",s.IN_OUT="animationTimingDirection.inOut",s))(_n||{});const nN=S.object({duration:S.number(),delay:S.number().optional(),repeat:S.optional(S.number().or(S.null())),repeatDelay:S.number().optional(),yoyo:S.boolean().optional(),ease:S.nativeEnum(Qe).optional(),easeDirection:S.nativeEnum(_n).optional(),customEaseSVGPath:S.string().optional(),elasticEaseParams:S.object({amplitude:S.number(),period:S.number()}).optional()}),t7=S.object({id:S.string(),sceneEntityId:S.string(),fromStateId:S.string().nullable(),toStateId:S.string().nullable()}).merge(nN),ci="Scene",oN=S.object({id:S.string(),sceneId:S.literal("Scene").optional(),fromStateId:S.string().nullable(),toStateId:S.string().nullable()}).merge(nN),ktt=S.record(S.string(),t7.or(oN));var te=(s=>(s.AUTO="animationTrigger.auto",s.POINTER="animationTrigger.pointer",s.BOOKMARK="animationTrigger.bookmark",s.KEYBOARD="animationTrigger.keyboard",s.COLLIDER="animationTrigger.collider",s.GAMEPAD="animationTrigger.gamepad",s))(te||{}),Wt=(s=>(s.AUTO="animationTrigger.auto",s.POINTER_DOWN="animationEvent.pointerDown",s.POINTER_UP="animationEvent.pointerUp",s.HOVER_INSIDE="animationEvent.hoverInside",s.HOVER_OUTSIDE="animationEvent.hoverOutside",s.KEY_DOWN="animationEvent.keyDown",s.KEY_UP="animationEvent.keyUp",s.ON_COLLISION_START="animationEvent.onCollisionStart",s.ON_COLLISION_END="animationEvent.onCollisionEnd",s.DIRECT_TOUCH_INSIDE="animationEvent.directTouchInside",s.DIRECT_TOUCH_OUTSIDE="animationEvent.directTouchOutside",s.GAMEPAD_ACTION_START="animationEvent.gamepadActionStart",s.GAMEPAD_ACTION_END="animationEvent.gamepadActionEnd",s))(Wt||{});const Gtt=S.object({type:S.literal("animationTrigger.auto"),event:S.literal("animationTrigger.auto")}),rN=S.object({type:S.literal("animationTrigger.pointer"),event:S.literal("animationEvent.pointerDown").or(S.literal("animationEvent.pointerUp")).or(S.literal("animationEvent.hoverInside")).or(S.literal("animationEvent.hoverOutside")),targetEntityIds:S.array(S.string())}),aN=S.object({type:S.literal("animationTrigger.keyboard"),event:S.literal("animationEvent.keyDown").or(S.literal("animationEvent.keyUp")),key:S.string().optional()}),Vtt=S.object({type:S.literal("animationTrigger.collider"),event:S.literal("animationEvent.onCollisionStart").or(S.literal("animationEvent.onCollisionEnd")).or(S.literal("animationEvent.directTouchInside")).or(S.literal("animationEvent.directTouchOutside")),targetEntityIds:S.array(S.string()).optional(),targetEntityIds2:S.array(S.string()).optional()}),lN=S.object({type:S.literal("animationTrigger.gamepad"),event:S.literal("animationEvent.gamepadActionStart").or(S.literal("animationEvent.gamepadActionEnd")),targetEntityIds:S.array(S.string()),action:S.string().optional()}),Htt=S.discriminatedUnion("type",[Gtt,rN,aN,Vtt,lN]);function Jw(s){return s.entity.scene!=null}function em(s){return s.entity.scene==null}class Utt{static build(t,e,i={}){const n=em(t)?Ms:null,o=n==null?{sceneId:ci}:{sceneEntityId:n},a=Ht(),l={[a]:{...o,id:a,duration:.5,...e}},c=t.getDefaultTargetEntityIds(),h=ztt(c,i);return t.addInteraction(h,l)}}function ztt(s,t){let e=t.type??te.POINTER;switch(t.event!=null&&(e=Ytt(t.event)),e){case te.POINTER:return{type:te.POINTER,event:Wt.POINTER_DOWN,targetEntityIds:s,...t};case te.COLLIDER:return{type:te.COLLIDER,event:Wt.ON_COLLISION_START,targetEntityIds:s,...t};case te.AUTO:return{type:te.AUTO,event:Wt.AUTO,...t};case te.KEYBOARD:return{type:te.KEYBOARD,event:Wt.KEY_DOWN,key:"",...t};default:return{type:te.POINTER,event:Wt.POINTER_DOWN,targetEntityIds:s}}}function Ytt(s){switch(s){case Wt.AUTO:return te.AUTO;case Wt.KEY_DOWN:case Wt.KEY_UP:return te.KEYBOARD;case Wt.ON_COLLISION_START:case Wt.ON_COLLISION_END:case Wt.DIRECT_TOUCH_INSIDE:case Wt.DIRECT_TOUCH_OUTSIDE:return te.COLLIDER;default:return te.POINTER}}function x0(s,t,e){if(t!=null&&s>=t)throw new Error(s+" >= "+t);if(s.slice(-1)==="0"||t&&t.slice(-1)==="0")throw new Error("trailing zero");if(t){let o=0;for(;(s[o]||"0")===t[o];)o++;if(o>0)return t.slice(0,o)+x0(s.slice(o),t.slice(o),e)}const i=s?e.indexOf(s[0]):0,n=t!=null?e.indexOf(t[0]):e.length;if(n-i>1){const o=Math.round(.5*(i+n));return e[o]}else return t&&t.length>1?t.slice(0,1):e[i]+x0(s.slice(1),null,e)}function cN(s){if(s.length!==hN(s[0]))throw new Error("invalid integer part of order key: "+s)}function hN(s){if(s>="a"&&s<="z")return s.charCodeAt(0)-97+2;if(s>="A"&&s<="Z")return 90-s.charCodeAt(0)+2;throw new Error("invalid order key head: "+s)}function py(s){const t=hN(s[0]);if(t>s.length)throw new Error("invalid order key: "+s);return s.slice(0,t)}function l9(s){if(s===dN)throw new Error("invalid order key: "+s);const t=py(s);if(s.slice(t.length).slice(-1)==="0")throw new Error("invalid order key: "+s)}function c9(s,t=e7){cN(s);const[e,...i]=s.split("");let n=!0;for(let o=i.length-1;n&&o>=0;o--){const a=t.indexOf(i[o])+1;a===t.length?i[o]="0":(i[o]=t[a],n=!1)}if(n){if(e==="Z")return uN;if(e==="z")return null;const o=String.fromCharCode(e.charCodeAt(0)+1);return o>"a"?i.push("0"):i.pop(),o+i.join("")}else return e+i.join("")}function Wtt(s,t=e7){cN(s);const[e,...i]=s.split("");let n=!0;for(let o=i.length-1;n&&o>=0;o--){const a=t.indexOf(i[o])-1;a===-1?i[o]=t.slice(-1):(i[o]=t[a],n=!1)}if(n){if(e==="a")return"Z"+t.slice(-1);if(e==="A")return null;const o=String.fromCharCode(e.charCodeAt(0)-1);return o<"Z"?i.push(t.slice(-1)):i.pop(),o+i.join("")}else return e+i.join("")}function ll(s,t,e=e7){if(s!=null&&l9(s),t!=null&&l9(t),s!=null&&t!=null&&s>=t)throw new Error(s+" >= "+t);if(s==null){if(t==null)return uN;const c=py(t),h=t.slice(c.length);if(c===dN)return c+x0("",h,e);if(c<t)return c;const d=Wtt(c,e);if(d==null)throw new Error("cannot decrement any more");return d}if(t==null){const c=py(s),h=s.slice(c.length),d=c9(c,e);return d??c+x0(h,null,e)}const i=py(s),n=s.slice(i.length),o=py(t),a=t.slice(o.length);if(i===o)return i+x0(n,a,e);const l=c9(i,e);if(l==null)throw new Error("cannot increment any more");return l<t?l:i+x0(n,null,e)}function mf(s,t){return s<t?-1:s>t?1:0}const e7="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",dN="A00000000000000000000000000",uN="a0";var Xtt=Object.defineProperty,Ztt=(s,t,e)=>t in s?Xtt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,yE=(s,t,e)=>(Ztt(s,typeof t!="symbol"?t+"":t,e),e);te.POINTER,te.COLLIDER,te.GAMEPAD;const fN=new Set([Wt.AUTO,Wt.KEY_DOWN,Wt.KEY_UP]);class pN{constructor(t){this._editor=t,yE(this,"recordBeforeInteraction",e=>{this._editor.stateController.recordBefore(this._getActionParams(e))}),yE(this,"recordAfterInteraction",e=>{this._editor.stateController.recordAfter(this._getActionParams(e))}),yE(this,"dispatchAndRecordAfterInteraction",(e,i=!0)=>{e.length<1||(this._editor.stateController.signals.interactions.dispatch(this._getActionParams(e)),i&&this.recordAfterInteraction(e))})}addInteraction(t,e,i,n,o=!0,a){if(t.length<1)return null;o&&this.recordBeforeInteraction(t);const l=[];for(const c of t){const h=a??this._getNextTriggerEventAndType(e,n);if(h==null)return null;const d=Utt.build(c,{fromStateId:e,toStateId:i},h);l.push({interactionId:d,component:c})}return o&&this.dispatchAndRecordAfterInteraction(t),l}removeInteractions(t,e=!0){const{sceneComponentsAndIds:i,interactionsComponentsAndIds:n}=this._separateSceneAndInteractionsComponents(t);i.length>0&&this._removeInteractionsForComponentsAndIds(i,e),n.length>0&&this._removeInteractionsForComponentsAndIds(n,e)}_removeInteractionsForComponentsAndIds(t,e=!0){const i=t.map(({component:n})=>n);e&&this.recordBeforeInteraction(i);for(const{component:n,interactionIds:o}of t)for(const a of o)n.removeInteraction(a);e&&this.dispatchAndRecordAfterInteraction(i)}updateInteractionsIndividually(t){let e=null;const i=[];for(const n of t)Jw(n.component)?e={...n,component:n.component}:em(n.component)&&i.push({...n,component:n.component});if(e!=null&&(this.recordBeforeInteraction([e.component]),e.component.updateInteraction(e.interactionId,e.trigger,e.animations),this.dispatchAndRecordAfterInteraction([e.component])),i.length>0){const n=i.map(o=>o.component);this.recordBeforeInteraction(n);for(const o of i)o.component.updateInteraction(o.interactionId,o.trigger,o.animations);this.dispatchAndRecordAfterInteraction(n)}}updateInteractionsComponents(t,e,i,n=!0){const o=t.map(({component:a})=>a);n&&this.recordBeforeInteraction(o);for(const{component:a,interactionId:l}of t){const c=a.get(l);if(c==null)continue;const{trigger:h,animations:d}=c,u=e==null?{...h}:{...e},f={...d};if(u.event!==h.event){const p={};for(const g of Object.values(f)){const _=ll(null,null);p[g.id]=_}a.setTimelineIndicesByAnimationId(p)}if(i!=null&&Object.values(f).length>0){const p=Object.values(f)[0];let g={};i.yoyo!=null&&(p.repeat==null&&i.yoyo===!0?g={repeat:1}:p.repeat!=null&&p.repeat>0&&i.yoyo===!1&&(g={repeat:null})),f[p.id]={...p,...g,...i}}(e==null?void 0:e.targetEntityIds)!=null&&(u.targetEntityIds=e.targetEntityIds),a.updateInteraction(l,u,f)}this.dispatchAndRecordAfterInteraction(o,n)}removeOrReplaceTargetEntityForInteractions(t,e,i,n="targetEntityIds"){const o=t.map(({component:a})=>a);this.recordBeforeInteraction(o);for(const{component:a,interactionId:l}of t){const c=this._getInteractionComponents(a,l);if(c==null)continue;const{trigger:h,animations:d}=c,u=c[n],f=i===Ms?a.entityId:i;if(f&&u&&u.includes(f))continue;let p=e;e===Ms&&(p=a.entityId);let g=(u==null?void 0:u.slice())??[];if(e===lT)g=f==null?[]:[f];else if(u&&g){let _=u.indexOf(Ms);_<0&&(_=u.indexOf(p)),_>=0?f==null?g.splice(_,1):g.splice(_,1,f):e===wo&&f!=null&&(g=[f])}else!u&&!g&&f&&(g=[f]);if(e===wo&&!f&&(g=[]),h.type===te.POINTER&&g){const _={...h,targetEntityIds:g};a.updateInteraction(l,_,d)}else if(h.type===te.GAMEPAD&&g){const _={...h,targetEntityIds:g};a.updateInteraction(l,_,d)}else if(h.type===te.COLLIDER){const _={...h,[n]:g};a.updateInteraction(l,_,d)}}this.dispatchAndRecordAfterInteraction(o)}addTargetEntityForInteraction(t,e,i="targetEntityIds"){const n=t.map(({component:o})=>o);this.recordBeforeInteraction(n);for(const{component:o,interactionId:a}of t){const l=e===Ms?o.entityId:e,c=this._getInteractionComponents(o,a);if(c==null)continue;const{trigger:h,animations:d}=c,u=c[i];if(u&&u.includes(l))continue;const f=u?[...u.slice(),l]:[l];if(h.type===te.POINTER){const p={...h,targetEntityIds:f};o.updateInteraction(a,p,d)}else if(h.type===te.COLLIDER){f.includes(wo)&&f.splice(f.indexOf(wo),1);const p={...h,[i]:f};o.updateInteraction(a,p,d)}}this.dispatchAndRecordAfterInteraction(n)}_getInteractionComponents(t,e){var c,h,d;const i=t.get(e);if(i==null)return null;const{trigger:n,animations:o}=i;let a,l;return n.type===te.POINTER||n.type===te.GAMEPAD?a=((c=n.targetEntityIds)==null?void 0:c.slice())??[]:n.type===te.COLLIDER&&(a=((h=n.targetEntityIds)==null?void 0:h.slice())??[],l=((d=n.targetEntityIds2)==null?void 0:d.slice())??[]),{targetEntityIds:a,targetEntityIds2:l,trigger:n,animations:o}}_getNextTriggerEventAndType(t,e){return e&&e.length>0&&e.every(({trigger:i,animations:n})=>i.event===Wt.HOVER_INSIDE&&Object.values(n).length>0&&Object.values(n)[0].fromStateId!==t)?{type:te.POINTER,event:Wt.HOVER_OUTSIDE}:{type:te.POINTER,event:Wt.POINTER_DOWN}}_separateSceneAndInteractionsComponents(t){const{sceneComponentsAndIds:e,interactionsComponentsAndIds:i}=t.reduce((n,o)=>{const{component:a,...l}=o;return em(a)?n.interactionsComponentsAndIds.push({component:a,...l}):Jw(a)&&n.sceneComponentsAndIds.push({component:a,...l}),n},{sceneComponentsAndIds:[],interactionsComponentsAndIds:[]});return{sceneComponentsAndIds:e,interactionsComponentsAndIds:i}}_getActionParams(t){const e=t[0];return em(e)?{action:P.INTERACTIONS,selection:t}:{action:P.SCENE_INTERACTIONS}}}var Ktt=Object.defineProperty,qtt=(s,t,e)=>t in s?Ktt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Qtt=(s,t,e)=>(qtt(s,t+"",e),e);class mN{constructor(){Qtt(this,"_reactionDisposers",[])}get disposableReactions(){return this._reactionDisposers}dispose(){for(const t of this._reactionDisposers)t&&t()}}var Jtt=Object.defineProperty,$tt=(s,t,e)=>t in s?Jtt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,tet=(s,t,e)=>($tt(s,t+"",e),e);class Es extends mN{constructor(t,e=!0){super(),tet(this,"_entity"),this._entity=t,e&&this.watch()}get entity(){return this._entity}dispose(){super.dispose()}}var pt=(s=>(s[s.Camera=0]="Camera",s[s.States=1]="States",s[s.Transform=2]="Transform",s[s.BodyRig=3]="BodyRig",s[s.Head=4]="Head",s[s.Hand=5]="Hand",s[s.Finger=6]="Finger",s[s.Highlight=7]="Highlight",s[s.Text=8]="Text",s[s.Mesh=9]="Mesh",s[s.Light=10]="Light",s[s.Group=11]="Group",s[s.Frame=12]="Frame",s[s.Geometry=13]="Geometry",s[s.Modifier=14]="Modifier",s[s.Line=15]="Line",s[s.Animation=16]="Animation",s[s.Opacity=17]="Opacity",s[s.AnimatedModel=18]="AnimatedModel",s[s.Material=19]="Material",s[s.Interaction=20]="Interaction",s[s.Collider=21]="Collider",s[s.Comment=22]="Comment",s[s.Constraint=23]="Constraint",s[s.Components=24]="Components",s[s.Instance=25]="Instance",s[s.Behaviors=26]="Behaviors",s[s.Behavior=27]="Behavior",s[s.Sounds=28]="Sounds",s[s.Sound=29]="Sound",s[s.Settings=30]="Settings",s[s.PlaySettings=31]="PlaySettings",s[s.Gamepad=32]="Gamepad",s))(pt||{});const an="animating",$w=Qe.POWER1,tx=_n.IN_OUT,s7=_n.OUT,uw={amplitude:1,period:.7},eet="M0,0 C0.25,0.25 0.75,0.75 1,1";var gN=Object.defineProperty,set=Object.getOwnPropertyDescriptor,iet=(s,t,e)=>t in s?gN(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,$r=(s,t,e,i)=>{for(var n=i>1?void 0:i?set(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&gN(t,e,n),n},HC=(s,t,e)=>(iet(s,typeof t!="symbol"?t+"":t,e),e);class cr extends Es{constructor(t,e="states",i="activeState"){var a;super(t),this._statesKey=e,this._activeStateIdKey=i,HC(this,"type",pt.States),HC(this,"stateId"),HC(this,"_states"),HC(this,"_statesMetadata"),this.stateId=t.proxy[this._activeStateIdKey];const n=Object.entries(t.proxy[this._statesKey]??{});this._states=new ho(n);const o=((a=t.proxy._metadata)==null?void 0:a.states)??{};this._statesMetadata=new ho(o),vt(this)}get count(){return this.stateIds.length}renameState(t,e){const i=this._states.get(t);i!=null&&(i.name=e)}setToStartState(){let t=this.entity.proxy.startState??null;t===cT&&(t=null),this.setActiveState(t)}get startState(){return this.entity.proxy.startState}setStartState(t){this.entity.proxy.startState=t}get stateNames(){const t=[];if(!this.entity.proxy[this._statesKey])return t;const e=Object.values(this.entity.proxy[this._statesKey]);for(const i of e)t.push(i.name);return t}setActiveState(t){const e=t===ys?null:t;this.entity.proxy[this._activeStateIdKey]=e,!(e!=null&&!this._states.has(e))&&(this.stateId=t)}getNextAddedStateId(){return`${this.count<1?1:Number.parseInt(this.stateIds[this.stateIds.length-1])+1}`}add(t,e){const i=t??this.getNextAddedStateId(),n=`State ${i}`,o=this._copyLastState(i,e);o.name=n;const a=i.toString();this.setState(a,o),this.setActiveState(a)}addStateAndInteraction(t,e){const i=this.stateId;this.add(t,e);const n=this.stateId;this.entity.editor.stateMachineController.interactionsManager.addInteraction([this.entity.interactions],i,n,void 0,!1)}getNextStateForStartState(t){if(this.stateIds.length<1)return null;if(t==null)return this.stateIds[0];for(let e=0;e<this.stateIds.length-1;e++)if(t===this.stateIds[e])return this.stateIds[e+1];return null}get hasOnlyAnimatingState(){return!(this.count>1||this.count===1&&this.getState(an)==null)}getNextStateId(){return this.getNextStateForStartState(this.stateId)}getState(t){return this._states.get(t)}setState(t,e){this._states.set(t,e),this.entity.proxy[this._statesKey][t]=e}get entries(){return Array.from(this._states.entries())}get stateIds(){return Array.from(this._states.keys())}getPreviousStateId(){if(this.stateIds.length<1)return null;if(this.stateId==null)return this.stateIds[this.stateIds.length-1];if(this.stateId===this.stateIds[0])return null;for(let t=this.stateIds.length-1;t>0;t--)if(this.stateId===this.stateIds[t])return this.stateIds[t-1];return null}remove(t){if(t===this.entity.proxy[this._activeStateIdKey]){let n=null;for(const o of this.stateIds)if(o!==t)n=o;else break;this.setActiveState(n)}this.entity.proxy.startState===t&&this.setStartState(null),this._states.delete(t),this._statesMetadata.delete(t),delete this.entity.proxy[this._statesKey][t];const e=this.entity.proxy._metadata.states;e!=null&&e[t]!=null&&delete e[t],this.entity.interactions.removeAnimationsWithState(t)}setStateMetadata(t,e){this._statesMetadata.set(t,e);const i=this.entity.proxy._metadata.states;i!=null?i[t]=e:this.entity.proxy._metadata.states={[t]:e}}getStateMetadata(t){return this._statesMetadata.get(t)??{}}get metadataEntries(){return Array.from(this._statesMetadata.entries())}removeAll(){this.setActiveState(null);for(const t of this.stateIds)this.remove(t)}watch(){this.disposableReactions.push(rt(()=>{this.entity!=null&&(this.setStatesFromData(this.entity.proxy[this._statesKey],this.entity.proxy._metadata),this._setActiveState(this.entity.proxy[this._activeStateIdKey]),this.stateNames)}))}setStatesFromData(t,e){if(!this._states)return;this._states.clear(),this._statesMetadata.clear();for(const[n,o]of Object.entries(t))this._states.set(n,o);const i=(e==null?void 0:e.states)??{};for(const[n,o]of Object.entries(i))this._statesMetadata.set(n,o)}_setActiveState(t){this.stateId=t}}$r([V],cr.prototype,"stateId",2);$r([M],cr.prototype,"count",1);$r([E],cr.prototype,"renameState",1);$r([E],cr.prototype,"setStartState",1);$r([M],cr.prototype,"stateNames",1);$r([E],cr.prototype,"setActiveState",1);$r([E],cr.prototype,"add",1);$r([E],cr.prototype,"addStateAndInteraction",1);$r([M],cr.prototype,"hasOnlyAnimatingState",1);$r([E],cr.prototype,"setState",1);$r([M],cr.prototype,"entries",1);$r([M],cr.prototype,"stateIds",1);$r([E],cr.prototype,"remove",1);$r([E],cr.prototype,"removeAll",1);$r([E],cr.prototype,"setStatesFromData",1);$r([E],cr.prototype,"_setActiveState",1);function sm(s){return s.entity.scene==null}function Cu(s){return s.entity.scene!=null}var net=Object.defineProperty,oet=(s,t,e)=>t in s?net(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,vv=(s,t,e)=>(oet(s,typeof t!="symbol"?t+"":t,e),e);class O4{constructor(t){this._editor=t,vv(this,"renameState",(e,i,n)=>{if(e.length<1)return;const o=Cu(e[0])?P.SCENE_STATE_METADATA:P.STATE_METADATA;this.recordBeforeStates(e,o);for(const a of e)a.renameState(i,n);this.dispatchAndRecordAfterStates(e,this._editor.stateController.signals.states,o)}),vv(this,"recordBeforeStates",(e,i)=>{if(e.length<1)return;const n=sm(e[0])?e.map(a=>a.entity.id):null,o=n==null?{}:{ids:new Set(n)};this._editor.stateController.recordBefore({...o,action:i})}),vv(this,"saveStateMetadata",(e,i,n)=>{if(e.length<1)return;const o=e[0],a=Cu(o)?P.SCENE_STATE_METADATA:P.STATE_METADATA;for(const c of e)c.setStateMetadata(i,n);const l=Cu(o)?this._editor.stateController.signals.sceneStates:this._editor.stateController.signals.states;this.dispatchAndRecordAfterStates(e,l,a)}),vv(this,"dispatchAndRecordAfterStates",(e,i,n)=>{if(e.length<1)return;const o=sm(e[0])?e.map(l=>l.entity.id):null,a=o==null?{}:{ids:new Set(o)};i.dispatch({...a,action:n}),this._recordAfterStates(n,a)}),vv(this,"_recordAfterStates",(e,i)=>{this._editor.stateController.recordAfter({...i,action:e})})}addState(t,e,i){const n=this.getAddAction(t),o=this.getAddSignal(t);if(!(n==null||o==null)){this.recordBeforeStates(t,n);for(const a of t)a.add(e,i);this.dispatchAndRecordAfterStates(t,o,n)}}getAddAction(t){if(t.length<1)return null;const e=t[0];return Cu(e)?P.SCENE_STATE_ADD:P.STATE_ADD}getAddSignal(t){if(t.length<1)return null;const e=t[0];return Cu(e)?this._editor.stateController.signals.sceneAddState:this._editor.stateController.signals.addState}setActiveState(t,e){if(t.length<1)return;const i=t[0],n=Cu(i),o=n?P.SCENE_ACTIVE_STATE:P.ACTIVE_STATE;this.recordBeforeStates(t,o);for(const l of t)l.setActiveState(e);const a=n?this._editor.stateController.signals.sceneActiveState:this._editor.stateController.signals.activeState;this.dispatchAndRecordAfterStates(t,a,o)}setStartState(t,e){if(t.length<1)return;const i=t[0],n=Cu(i),o=n?P.SCENE_START_STATE:P.START_STATE;this.recordBeforeStates(t,o);for(const l of t)l.setStartState(e);const a=n?this._editor.stateController.signals.sceneStartState:this._editor.stateController.signals.startState;this.dispatchAndRecordAfterStates(t,a,o)}setActiveStateToStartState(t){if(t.length<1)return;const e=t[0],i=Cu(e),n=i?P.SCENE_ACTIVE_STATE:P.ACTIVE_STATE;this.recordBeforeStates(t,n);for(const a of t)a.setToStartState();const o=i?this._editor.stateController.signals.sceneActiveState:this._editor.stateController.signals.activeState;this.dispatchAndRecordAfterStates(t,o,n)}deleteState(t,e){if(t.length<1)return;const i=Cu(t[0])?P.SCENE_STATE_DELETE:P.STATE_DELETE;this.recordBeforeStates(t,i);for(const n of t)if(n.remove(e),sm(n)&&n.entity.compo.isInstanceEntity&&!n.entity.compo.isRoot)return;this.dispatchAndRecordAfterStates(t,this._editor.stateController.signals.states,i)}}var L=(s=>(s.UNSUPPORTED="None",s.PLANE="Plane",s.SPHERE="Sphere",s.BOX="Box",s.CYLINDER="Cylinder",s.CONE="Cone",s.HUMAN="Human",s.SHAPE="Shape",s.IMAGE="Image",s.AUDIO="Audio",s.MODEL="Model",s.MODEL_ANIMATED="ModelSkinned",s.OBJMODEL="ObjModel",s.FBXMODEL="FbxModel",s.STLMODEL="StlModel",s.STEPMODEL="StepModel",s.JSONOBJECT="JsonObject",s.GROUP="Group",s.FRAME="Frame",s.AMBIENT_LIGHT="AmbientLight",s.POINT_LIGHT="PointLight",s.AREA_LIGHT="AreaLight",s.SPOT_LIGHT="SpotLight",s.DIRECTIONAL_LIGHT="DirectionalLight",s.BOOLEAN="Boolean",s.TEXT="Text",s.CURVE="Curve",s.CAMERA="Camera",s.GAMEPAD="Gamepad",s.XRRIG="XRRig",s.HEAD="Head",s.HAND="Hand",s.FINGER="Finger",s))(L||{}),J=(s=>(s.COLOR="Color",s.ALPHA="Opacity",s.ROUGHNESS="Roughness",s.METALNESS="Metalness",s.NORMAL="Normal",s.AO="Ambient Occlusion",s.DISPLACEMENT="Displacement",s.EMISSIVE="Emissive",s.CLEARCOAT="Clearcoat",s.CLEARCOAT_ROUGHNESS="Clearcoat roughness",s.SHEEN_COLOR="Sheen color",s.SHEEN_ROUGHNESS="Sheen roughness",s.THICKNESS="Thickness",s.TRANSMISSION="Transmission",s))(J||{});const _N=S.tuple([S.number(),S.number(),S.number()]),ret=S.object({radius:S.number(),phi:S.number(),theta:S.number()}),aet="_iconContainer_1ylsi_1",cet="_normal_1ylsi_9",het="_whiteFill_1ylsi_9",det="_grayFill_1ylsi_12",uet="_blackFill_1ylsi_15",fet="_whiteStroke_1ylsi_18",pet="_grayStroke_1ylsi_21",met="_blackStroke_1ylsi_24",get="_info_1ylsi_27",_et="_warn_1ylsi_30",vet="_error_1ylsi_33",yet="_invert_1ylsi_36",yv={iconContainer:aet,normal:cet,whiteFill:het,grayFill:det,blackFill:uet,whiteStroke:fet,grayStroke:pet,blackStroke:met,info:get,warn:_et,error:vet,invert:yet},bet=({className:s,style:t,icon:e,status:i="normal",color:n="white",fill:o=!1,stroke:a=!1,invert:l=!1,...c},h)=>r.jsx("div",{ref:h,className:W(yv.iconContainer,yv[i],o&&yv[`${n}Fill`],a&&yv[`${n}Stroke`],l&&yv.invert,s),style:t,...c,children:e}),Oi=m.memo(m.forwardRef(bet)),Cet="_buttonContainer_1ek28_1",wet="_sm_1ek28_11",xet="_main_1ek28_16",Eet="_md_1ek28_19",Iet="_lg_1ek28_26",Aet="_auto_1ek28_33",Tet="_menu_1ek28_38",Pet="_normal_1ek28_42",Oet="_tab_1ek28_47",Met="_icon_1ek28_57",Let="_primary_1ek28_61",Ret="_secondary_1ek28_65",Net="_ai_1ek28_69",jet="_destructive_1ek28_83",Det="_round_1ek28_87",Fet="_disabled_1ek28_91",Bet="_label_1ek28_101",wu={buttonContainer:Cet,sm:wet,main:xet,md:Eet,lg:Iet,auto:Aet,menu:Tet,normal:Pet,tab:Oet,"tab-active":"_tab-active_1ek28_52",icon:Met,primary:Let,secondary:Ret,ai:Net,"mobile-secondary":"_mobile-secondary_1ek28_76","mobile-dropshadow":"_mobile-dropshadow_1ek28_80",destructive:jet,round:Det,disabled:Fet,label:Bet},ket=({className:s,style:t,type:e="button",size:i="md",variant:n="normal",leftIcon:o,rightIcon:a,leftIconStatus:l="normal",rightIconStatus:c="normal",round:h=!1,rounded:d=!1,disabled:u=!1,children:f,htmlFor:p,onClick:g,onPointerOver:_,onPointerOut:v,labelClassname:y="",value:b,...C},x)=>{const I=C.testid??"button";return r.jsx("button",{ref:x,"data-testid":I,className:W(wu.buttonContainer,wu[i],wu[n],h&&wu.round,u&&wu.disabled,s,d&&"rounded"),style:t,type:e,onClick:g,onPointerOver:_,onPointerOut:v,value:b,...C,children:r.jsxs("div",{className:wu.main,children:[o&&r.jsx(Oi,{className:wu.icon,icon:o,status:l,invert:h9(n)}),f&&r.jsx("label",{className:`${wu.label} ${y}`,htmlFor:p,children:f}),a&&r.jsx(Oi,{className:wu.icon,icon:a,status:c,invert:h9(n)})]})})};function h9(s){return s==="primary"||s==="destructive"}const Tt=m.memo(m.forwardRef(ket)),Get="_textFieldContainer_1c3wt_1",Vet="_main_1c3wt_4",Het="_iconButton_1c3wt_21",Uet="_icon_1c3wt_21",zet="_statusLabel_1c3wt_30",Yet="_info_1c3wt_33",Wet="_warn_1c3wt_39",Xet="_error_1c3wt_45",Zet="_sm_1c3wt_51",Ket="_md_1c3wt_67",qet="_lg_1c3wt_83",xu={textFieldContainer:Get,main:Vet,iconButton:Het,icon:Uet,statusLabel:zet,info:Yet,warn:Wet,error:Xet,sm:Zet,md:Ket,lg:qet},Qet=({className:s,inputClassName:t,backgroundClassName:e,style:i,name:n,value:o,placeholder:a,size:l="md",type:c="text",autoComplete:h="off",autoFocus:d,required:u=!1,readOnly:f=!1,disabled:p=!1,status:g="normal",statusLabel:_,statusLabelClassName:v="",leftIcon:y,rightIcon:b,leftIconStatus:C="normal",rightIconStatus:x="normal",isClean:I=!1,onChange:O,onSubmit:T,onLeftIconClick:D,onRightIconClick:B,onFocus:F,...k},Y)=>{const G=m.useCallback(st=>{st.stopPropagation(),st.key==="Enter"&&(T==null||T())},[T]);return r.jsxs("div",{className:W(xu.textFieldContainer,xu[g],xu[l],I&&"!h-full",s,p&&"disabled"),style:i,...k,children:[r.jsxs("div",{className:`${xu.main} ${I?"!h-full !bg-transparent":""} ${e??""}`,children:[y&&r.jsx(r.Fragment,{children:D?r.jsx(Tt,{className:xu.iconButton,leftIcon:y,leftIconStatus:C,onClick:D}):r.jsx(Oi,{className:xu.icon,icon:y,status:C,stroke:!0})}),r.jsx("input",{ref:Y,name:n,placeholder:a,value:o,type:c,required:u,readOnly:f,disabled:p,autoComplete:h,onChange:O,onKeyDown:G,autoFocus:d,className:t??"",onFocus:()=>F==null?void 0:F()}),b&&r.jsx(r.Fragment,{children:B?r.jsx(Tt,{className:xu.iconButton,leftIcon:b,leftIconStatus:x,onClick:B}):r.jsx(Oi,{className:xu.icon,icon:b,status:x,stroke:!0})})]}),g&&_&&r.jsx("p",{className:`${xu.statusLabel} ${v}`,children:_})]})},Mi=m.memo(m.forwardRef(Qet)),ss=(s=!1)=>{const[t,e]=m.useState(s),i=m.useCallback(()=>e(s),[s]),n=m.useCallback(()=>e(l=>!l),[]),o=m.useCallback(()=>e(!0),[]),a=m.useCallback(()=>e(!1),[]);return m.useEffect(()=>()=>{e(!1)},[]),[t,{set:e,reset:i,toggle:n,toggleOn:o,toggleOff:a}]},be={open:()=>{},close:()=>{}},Yp=s=>btoa(s),vN=s=>atob(s),i7=s=>!!s.toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),d9=s=>s.replace(/\s/g,""),ir=s=>s.replace("#",""),S_=s=>/^#([0-9a-f]{3}){1,2}$/i.test(s),Jet=/^[a-zA-Z ]*$/,$et=50,tst=s=>Jet.test(s)&&s.length<=$et,est=new RegExp(/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i),_t=()=>`10000000-1000-4000-8000${-1e11}`.replace(/[018]/g,s=>(parseInt(s)^crypto.getRandomValues(new Uint8Array(1))[0]&15>>parseInt(s)/4).toString(16));function Vl(s){return s.match(est)}const my=s=>`${s}--${_t()}`,$0=s=>{const t=JSON.stringify(s),e=new TextEncoder().encode(t);return new Blob([e],{type:"application/json;charset=utf-8"})},sst=async s=>JSON.parse(await s.text()),xs=async s=>{try{return(await TX({key:s})).url.toString()}catch(t){console.error("Error while fetching url of s3 asset: ",t);return}},ex=async s=>Promise.all(s.map(t=>t&&xs(t))),ks=async(s,t,e)=>{try{return t!==null&&await cL({key:s,data:t,options:{accessLevel:"guest",...e}}).result,!0}catch(i){return console.error("Error while uploading file to s3: ",i),!1}},ist=async(s,t)=>{try{return(await cL({key:s,data:t,options:{contentType:t.type,accessLevel:"guest"}}).result).key}catch(e){console.error("Error while uploading file to S3: ",e);return}},nst=async s=>{try{return await PX({key:s}),!0}catch(t){return console.error("Error while removing file from s3: ",t),!1}},yN=s=>typeof s.byteLength!="number"?$0(s):s,y5=new xf,ost=new OX(y5),rst=new zx(y5),ast=new kh(y5),lst=new MX(y5),Tg={},n7=s=>{switch(s){case"hdr":return ost;case"exr":return rst;default:return ast}},bN=async(s,t,e)=>new Promise((i,n)=>{const o=new Image;t!=null&&t.crossOrigin&&(o.crossOrigin=t.crossOrigin),o.onload=()=>i(o),o.onprogress=a=>{e&&e(a.loaded,a.total)},o.onerror=n,o.src=s}),cst=async(s,t,e,i)=>{const n=await xs(s);if(!n){console.error(`Audio file not found: ${s}`);return}return new Promise((o,a)=>{lst.load(n,l=>{t(l),o(l)},e,l=>{i&&i(l),a(l)})})},hst=async(s,t,e)=>new Promise((i,n)=>{const o=new FileReader;o.onload=async()=>{const a=o.result;if(a)try{const l=await t.decodeAudioData(a);i(l)}catch(l){n(l)}},o.onprogress=a=>{},o.onerror=a=>{n(new Error("Error reading audio file"))},o.readAsArrayBuffer(s)}),CN=async(s,t)=>{let e=fy.BEGIN;Tg[s[fy.LG]]&&(t(Tg[s[fy.LG]]),e=fy.MD);const i=new kh;(await ex(s)).forEach((o,a)=>{o&&i.loadAsync(o).then(l=>{if(e>a)return;e=a,t(l);const c=s[a];c&&(Tg[c]||(Tg[c]=l))})})},dst={};var ust={};const fst=S.object({MIXPANEL_PROJECT_TOKEN:S.string(),GOOGLE_CLIENT_ID:S.string(),EXAMPLE_TEAM_ID:S.string(),YOUTUBE_API_KEY:S.string(),YOUTUBE_TUTORIAL_CHANNEL_ID:S.string(),IS_LOCALHOST:S.string(),USER_BRANCH:S.union([S.literal("dev"),S.literal("main"),S.undefined()]),POSTHOG_API_TOKEN:S.string(),GROWTHBOOK_CLIENT_KEY:S.string(),SYNC_SERVER_ADDR:S.string(),SYNC_SERVER_PROTOCOL_ID:S.string(),BACKEND_SERVER_ADDR:S.string()}),M4=fst.safeParse({MIXPANEL_PROJECT_TOKEN:"d1aeb45c36658925631793cda5a1bbdd",GOOGLE_CLIENT_ID:"17109378972-vlavqkcl5ar7587onvp6umvlfonp8j93.apps.googleusercontent.com",EXAMPLE_TEAM_ID:"dbb6cbcc-f4e7-4a66-a27c-01888451f5b0",YOUTUBE_API_KEY:"AIzaSyBdj2c2ijScgv1nOaXLF4fc1o21hIKE87w",YOUTUBE_TUTORIAL_CHANNEL_ID:"UCpRVdj2pJLYT9aoM-u-3eCA",IS_LOCALHOST:"false",USER_BRANCH:"main",POSTHOG_API_TOKEN:"phc_MCaYgiJQvw9e4YXpjkJVioUj61tke2x6wAvJjZw6YYR",GROWTHBOOK_CLIENT_KEY:"sdk-oICzj63JYdxJiTbo",SYNC_SERVER_ADDR:"/dns4/sync-server.public.bezel.it/tcp/443/wss",SYNC_SERVER_PROTOCOL_ID:"/bezi/sync/1.0.0",BACKEND_SERVER_ADDR:"https://prod.public.bezel.it"});if(!M4.success)throw console.error(M4.error.issues),new Error("There is an error with the environment variables");const pst=M4.data,mst="d1aeb45c36658925631793cda5a1bbdd",gst="dbb6cbcc-f4e7-4a66-a27c-01888451f5b0",_st="AIzaSyBdj2c2ijScgv1nOaXLF4fc1o21hIKE87w",Xh="main",vst="y7IEvqzyWS9ff8TCayFa-Az0q5IWp1l9VEjQF8iUI",yst="/dns4/sync-server.public.bezel.it/tcp/443/wss",u9="/bezi/sync/1.0.0",bst="https://prod.public.bezel.it",Cst=Xh!=="main",Ia=window.location.origin.includes("bezi.com"),Hl="DEV",wN="QA",xN="PRODUCTION",jo=Ia?xN:window.location.origin.includes("amplifyapp.com")?wN:window.location.origin.includes("localhost")?Hl:"UNKNOWN",wst="17109378972-vlavqkcl5ar7587onvp6umvlfonp8j93.apps.googleusercontent.com",xst="login.bezi.com",Est="Tod2ZEsFXsGNfKjqGRX9hAa4Zfslh8lu",Sst="us-east-2:b60c579d-b1c1-445a-8d5d-822f044591a7",Ist="",Ast="",Tst="",Pst=!1,Ost="arn:aws:iam::291682240070:role/Cognito_sandcastle_identity_poolUnauth_Role",Mst=dst,ar={...ust.secrets,...Mst},EN=ar.AUTH0_DOMAIN||xst,SN=ar.AUTH0_CLIENT_ID||Est,Lst=ar.AMPLIFY_IDENTITYPOOL_ID||Sst,Rst=ar.GOOGLE_CLIENT_ID||wst,UC=ar.CONSOLE_LOG_LEVEL||Ist,zC=ar.CLOUD_LOG_LEVEL||Ast,YC=ar.FILE_LOG_LEVEL||Tst,IN=ar.LOGGING_DEV_ID||"",Nst=ar.GUEST_ROLE_ID||Ost,f9=ar.DEACTIVATE_EXTERNAL_LOGS||Pst,b5=`${window.location.origin}/complete-sso-login`,o7=ar.SUPER_NOISY_FULL_DEBUG_MODE?ar.SUPER_NOISY_FULL_DEBUG_MODE:!1,jst=ar.CONSOLE_PRINT_LOG_TIME?ar.CONSOLE_PRINT_LOG_TIME:!0,Dst=ar.CONSOLE_PRINT_TRACE_WITH_STACK_TRACE?ar.CONSOLE_PRINT_TRACE_WITH_STACK_TRACE:!1,Fst=ar.CONSOLE_PRINT_DEBUG_WITH_STACK_TRACE?ar.CONSOLE_PRINT_DEBUG_WITH_STACK_TRACE:!1,Bst="sandcastle-delete-objects",kst="sandcastle-delete-file",Gst="sandcastle-gatekeeper",Vst="sandcastle-duplicate-shape",Hst="send-email",Ust="sandcastle-add-contact",zst="sandcastle-create-file",Yst="bezi-request-text-to-3d",Wst="bezi-get-creation",Xst="bezi-request-3d-to-3d-refine",Zst="bezi-request-3d-to-variants",Kst="AI-Assets-Query",qst="stripeManagement",Qst="decrementAICredit",WC=Ia?"getCustomerInfo":"getCustomerInfo-dev",Jst="systemAlerts",$st="AI-Jobs",tit="AI-Assets",eit="AI-Credits-Profile",sit="Announcements",iit="APITokens",AN="Asset-crqfdn2norf3vmcgn2shxv6hhi-main",nit="File-crqfdn2norf3vmcgn2shxv6hhi-main",oit="Team-crqfdn2norf3vmcgn2shxv6hhi-main",rit="FileHistory",ait="FileSettings",lit="FileSyncKeys",cit="FileViews",hit="Subscriptions",TN="Material-crqfdn2norf3vmcgn2shxv6hhi-main",PN="Object-crqfdn2norf3vmcgn2shxv6hhi-main",dit="ProfileIntegrations",uit="Profile-crqfdn2norf3vmcgn2shxv6hhi-main",fit="TeamMembers",pit="Tutorials",mit="Organizations",git="OrganizationMembers",_it="Connect",XC=$st,Eu=tit,bE=eit,C5=sit,r7=iit,ON=AN,CE=nit,MN=rit,LN=ait,a7=lit,RN=cit,l7=TN,w5=PN,NN=dit,vit=uit,Fg=fit,jN=pit,DN=hit,p9=mit,G1=git,bv=_it,L4=oit;var Zh;(s=>{function t(i,n=35){const o=Math.tan(ms.DEG2RAD*.5*i);return .5*n/o}s.fov2FocalLength=t;function e(i,n=35){const o=.5*n/i;return ms.RAD2DEG*2*Math.atan(o)}s.focalLength2Fov=e})(Zh||(Zh={}));const yit="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='12'%20width='12'%20height='12'%20fill='%23282828'/%3e%3crect%20x='12'%20y='12'%20width='12'%20height='12'%20fill='%23313131'/%3e%3crect%20y='12'%20width='12'%20height='12'%20fill='%23282828'/%3e%3crect%20width='12'%20height='12'%20fill='%23313131'/%3e%3c/svg%3e",m9=`linear-gradient(0deg, var(--root-background), var(--root-background), rgb(0, 0, 0, 0)), url("${yit}")`,bit=Math.PI/180,im=1e-5,FN=24,Cit=10,wit=25,I_=500,Fo=1e-6,vf=.001,xit=1e3,Kh="#cef23f",Eit="#f298ce",P0="#1eed7d",Sit="#A98BFD",Iit="#ffffff",Ait="#e2e2e2",g9="#989898",Tit="#7B7B7B",BN="#555555",Pit="#313131",Oit="#000000",Mit="#E15E5E",Lit="#25D26A",Rit="#6583F4",c7="#202125";var kN=(s=>(s.RED="RED",s.ORANGE="ORANGE",s.GREEN="GREEN",s.TEAL="TEAL",s.SEAFOAM="SEAFOAM",s.BLUE="BLUE",s.VIOLET="VIOLET",s.PURPLE="PURPLE",s.PINK="PINK",s.MAGENTA="MAGENTA",s))(kN||{});const Xl={RED:{BACKGROUND:"#C42C2C",FILL:"#F52525",OUTLINE:"#8E0F0F"},ORANGE:{BACKGROUND:"#B1530F",FILL:"#E16307",OUTLINE:"#7B3807"},GREEN:{BACKGROUND:"#508908",FILL:"#639E17",OUTLINE:"#365A06"},TEAL:{BACKGROUND:"#247D6D",FILL:"#17A189",OUTLINE:"#06584A"},SEAFOAM:{BACKGROUND:"#30709E",FILL:"#0092D0",OUTLINE:"#0C4269"},BLUE:{BACKGROUND:"#2457BB",FILL:"#205EFF",OUTLINE:"#0D3A8B"},VIOLET:{BACKGROUND:"#583EC0",FILL:"#5F37FF",OUTLINE:"#392295"},PURPLE:{BACKGROUND:"#8E4BCF",FILL:"#9658FB",OUTLINE:"#4F1F87"},PINK:{BACKGROUND:"#AD3DAF",FILL:"#D23BD5",OUTLINE:"#711475"},MAGENTA:{BACKGROUND:"#AA286F",FILL:"#CC227F",OUTLINE:"#7D0D49"}},wE=["#F52525","#E16307","#639E17","#17A189","#0092D0","#205EFF","#5F37FF","#9658FB","#D23BD5","#CC227F"],Nit=.3,R4=80,jit=200,Dit=20*1e3,Fit=6e5,Bit=".jpg,.jpeg,.png",kit=".glb,.fbx,.obj,.stl,.json,.zip";var fw=(s=>(s.ALL="all",s.FURNITURE="furniture",s.NATURE="nature",s.SHAPES="shapes",s.INTERIOR="interior",s.TECHNOLOGY="technology",s))(fw||{});const Git={[uo.BEZI]:"Bezi Assets",[uo.DRAFTS]:"Drafts"},Bg={EDGE:0,FACE:1,MESH:2},GN=32,VN=256,Vit=8196,Hit=100,Uit=2e3,zit=50,Yit=5;var yf=(s=>(s.COPY_CONTENT="bezel.copy.content",s.ASYNC_TOUR_STATUS="async.tour.status",s.PLAY_MODE_TOUR_STEP_DONE="play.mode.tour.step.done",s.DOUBLE_CLICK_INTERVAL_MS="settings.pointer.doubleClickInterval",s))(yf||{}),Vh=(s=>(s.SELECT_AND_FOCUS="select_and_focus",s.IS_TOUR_STEP="is.tour.step",s.TOAST="toast",s.PREV_PATH_NAME="prevPathName",s.IS_TEAM_UPGRADE="isTeamUpgrade",s))(Vh||{});const Qg=231130,HN=Dt.M,Jg={projection:Xe.PERSPECTIVE,fov:Zh.focalLength2Fov(50),lensUnit:Kr.FOV},Wit={isGridSnapEnabled:!1,isGridSnapAbsolute:!1},UN={areLightHelpersVisible:!1,areCameraHelpersVisible:!1,areFramesVisible:!1,areSoundsVisible:!1,areCollidersVisible:!1,areGamepadsVisible:!1,isBodyRigVisible:!1,isGridVisible:!1},N4={helperVisibility:UN,camera:{...Jg},shouldShowHotspots:!1,isHandLocomotionEnabled:!0},zN={areLightHelpersVisible:!0,areCameraHelpersVisible:!0,areFramesVisible:!0,areSoundsVisible:!0,areCollidersVisible:!0,areGamepadsVisible:!1,isBodyRigVisible:!0,isGridVisible:!0},$u={camera:Jg,mmsPerPixel:1,axes:rn.XZ,snapSettings:Wit,playModeSettings:N4,editorHelperVisibility:zN},YN={isEnabled:!0,intensity:1,rotation:0,fileExtension:"exr"},WN={...YN,imageURL:"0324daa3-13eb-44cc-8bab-6f017737a2c7",previewURL:"b00e82b4-e83e-4181-a86b-3327515ddbd9",name:"Afternoon Sky"},sx="0324daa3-13eb-44cc-8bab-6f017737a2c7",XN={type:ln.COLOR,color:c7,opacity:1},Xit={type:ln.ENVIRONMENT},Zit={isVisible:!0,shouldShowInAR:!1,parameters:XN},on={background:Zit,fog:{isEnabled:!1,shouldUseBackgroundColor:!0,color:"#ffffff",shouldUseCameraPlanes:!0,near:.1,far:10},ambientLight:{isEnabled:!0,intensity:1,color:"#ffffff"},hdrLighting:WN,units:HN,spawn:null,showBookmarks:!0,lastVersion:0,lastWriter:"",lastUpdated:0,states:{},interactions:{},startState:null,_metadata:{},activeState:null},ZN={lastUpdated:0},Ty={type:fm.DEFAULT,version:Qg,creator:"",team:"-",access:JSON.stringify(BI),title:"Untitled",scene:JSON.stringify(on),bookmarks:JSON.stringify(ZN)},Kit={name:"Component",description:"",type:Ae.COMPONENT,team:"-",file:"",source:"",data:"",isPrivate:!0,lastWriter:""},qit="#ffffff",Qit="#000000",KN=1,qN=.25,QN=.15,JN=0,$N=0,tj=1,ix=.9999,t_={lightingModel:ue.Standard,preview:null,color:qit,map:null,emissive:Qit,emissiveMap:null,opacity:KN,alphaMap:null,aoMap:null,ambientOcclusion:tj,metalness:QN,metalnessMap:null,roughness:qN,roughnessMap:null,normal:JN,normalMap:null,displacement:$N,displacementMap:null,envMap:null,envMapIntensity:.5,flipY:!1,repeatX:1,repeatY:1,offsetX:1,offsetY:1,rotation:0,advancedEffects:{},mask:Gc.COLOR|1<<Gc.OPACITY|1<<Gc.METALNESS|1<<Gc.ROUGHNESS},ej={Glass:{thickness:.1,transmission:1,ior:1.5}},sj={Sheen:{sheen:1,color:"#ffffff",roughness:1}},ij={Clearcoat:{clearcoat:.5,roughness:0}},nm={name:"Material",team:"-",file:"-",data:JSON.stringify(t_),lastWriter:"-"},xE={castShadow:!0,receiveShadow:!0,side:Wl,shouldFlipTextures:!1},Jit="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVQAAACMCAYAAAAjiFFDAAAAAXNSR0IArs4c6QAAIABJREFUeF7tXVuTHMWxru5Z/QQ/+IFwcGzCxliWhbRCG4SC3Qf/rt39VX4giBkh+xAKAmMsY8AKhwzCCJBsvR52prsPdc+syuqunum59SQRi+ZSXZesqm++vFRWIfg/lgBLgCXAEhhEAsUgtXAlLAGWAEuAJSAYUHkRsARYAiyBgSTAgDqQILkalgBLgCXAgMprYKck8PLly1Pbobqu3WshavVxrf+Z+U4vxE9+8lPwfqeGw505MAkwoB7YhO/CcJ8/f35alkKB5WRy9E5dN6JpIHjSvWzkx+Z/jfpX/1eWhajrZia/nExK8cMP80v5+U9/ykC7C/N9SH1gQD2k2d7SWP/zn/9cGOB7p2kawDrlpzlLEKCnxFT3Vr/Q7/3rRr5uJEgLURSFYq9VVV0ywG5pARxQszmr+YDEwUMdSgIvX0oQLQ2ASrArRBGtNmr5YfAM+wPB034XAqoEV/sZ/FfWXBbFTIIrM9ihZprrgRJgQOX1MJgEnj9/bphoeS7Bs3AIqpdZDKjppkMWuiywWgarWaskrhJsG1E3tYT42WKxuHzllVfYBjvYKjjsihhQD3v+Vx69dCItFovTyWRyDkGzkKr8qqtLY6BT5/uCKjQHOKZqqrPAqsC1bqQddrZYiMtXXmG768qL4oArWHXJH7DoDnvo0i5allKll84kq85Tav1qcqJUfKzqx4AbmwB0Gch65WsJpvZzDay1srlKkwCz1tXm7VCfZkA91JlfctwaSItz7fCxlbQBKVxi7fbRqEtLMFTISjHwQgcWBFgNtJCxqtcSauv6jIF1yYVyoI8xoB7oxPcdtgTSoijOJaODttE8R1NabW/rRxs7pYCTAlBfzvchVP8hS/VgqhmrjnltmLH2XTAHWp4B9UAnPnfY1kZaluW5jPekvfWytq6lNCw7NT6myL5KObO6wqygOUADqndgSftqJU0BolGmgFdffZUdWLmL5wDLde2CAxQJD9lKQHrtJZBKRqqZaEq171pGPcE0iC2lZiTFXrvCqkJma8HWgSiMBjCFa2NfrStpYxWXP/vZz1Q0A//HEggl0LUTWGIHKIGXL19KwDiXbK0dSNuYaX8QdaLOsp3GZoR8dhqq//o9jl0FdlUF8I1oam0GaBoxa5ri8tVXOdzqALdH65AZUHlFIAlIMG2aBoRAdbHSFYCzTfYtoJqKUQ3ZKTyqaptCnn6EyT4KIMVWMag2oqrqy5///FVmq7yHnAQYUHkxKAmYpCTnMgxKO52GD4HqK+p2tR4z1FXZqTcFKK5qA2BNaJVlq/hgQF2pUIfZoqkuX2Pbat/pHWV5BtRRTmu/QXkPvg2F2j6YYkZJneVv/yxyRAVsFAKogVAHoqGTSpe1YVc+zEqetpJOK/knmobZar9lN8rSDKijnNb8QTkwVQebvPMprmFV1T611PLqjdR5kBDFg6Oviy4PbKehug/ekwzVNOLtrOYIqwRUc9rqx3SDs9d+8T9n+dLnkmOTAAPq2Ga0x3j++9//Tn+MszzVGr6CU/W0jS31LM/xxR6126KmTlVxv8ctK3RPKU2cBs3U6SjMRAGgkhmrdEutgAqAVQVYqdSDBlSrWoIrg2q/aR5V6Z5LfFRjP+jBSDAtCpmTVLJSipmGwIUoXabsDEQnV5n8opuhImCNQJVO4WehEQNqeFrKwCfqAjyiClR9C6Thv+aUlWSpKgpAmgGqZvbaa8xUMxfJqIoxoI5qOvMG45mpBVP9r//PhxB5QOoGPtx6bIftkzAlZKeYgaZYKkilEuRIBdwT20qD3wnITvXYYZ0ekGEkgDu2itT/ZlYtqsvXX3+NDwLkLctRlGJAHcU05g1CZ8ovpxI85amnoigNO4WAqlVY/QcZXD6ghsCJwTqEXQjj9DgguHrnkEdC6DAKGWkYOoXNGJiN4gQqgeoPKoZyidMCaqYqT1dVVS1fnzGo5q3PMZRiQB3DLGaO4cWLF01Zlg5M4WtJUH2SEO29htmYclRz2Y0QPLved3WdBlOs5lPAHwbpk578THYKWToEaASs5siqkqFhqlVViapqxOu/+gXvs66JHsn3PNEjmciuYbx48WJaluWpZaYSTOX9S2U5cSBoU9jp00AaVOEJoq42MHh6lX8pUDUZn2ybMQv1YUxINXfhTZBdh68x+zTfot8MDZyEum8+t8CKVf8ga1XdiEVVS7Y6+/WvXmPvf9cCGsH3DKgjmMSuITyXYFoUpxJApZqvwXSi/uRrCXgQTOu6UkcsPaBSzpwwAz+2mVoQDf+FfY1MAQGIqrLgszZQDVlqmrXG4Bqr+ujiKnMvIAZXClDhjQCW7Utn1WJRCWlPfeONX/Kpqq7FuuffM6Du+QR2df+7755fTCbluQZTaTvVYHp0NBGlBNSiNLilz6lLNRUCKlb7fWth2j4qpR8FphFbNVWSFtouMDUe/zDonrxTCqj32PEUePUBM3WPIKbq+Ky+UsUmUwmSqoQ3Akh76nxRXV5nUO1asnv9PQPqXk9fe+e/++67i7KcRGCqAfXIsVNZi2akElAXypli1X7vnLLwgmNVdQ9i9b6NobY5qeyI2m2n1r7rj4RqEMWnmaiEJ22OJ42lIILAI6r+0QFgm2SoJskKdOxZ9r9YKPWfQXXEe44BdaST++zZs9PJ0dF0opxQMTudTI6ch99ueO1Eseq+tKOmbKh56n2X2k8Ca4btFAMnBNFuQEVB++DMvuOdgCpTAIqdW+aYAWKqBpRNlIQFVqn6yx8q+Xc1n1/evPEGq/8j3HsMqCOcVDmk77//XjmhirJQar10RkkHVGg7tazMq/sUOw0VcgiomJ3akKkUmFIgKp+BJ6AipgiAvQ1M8bFQA5Eo9Asy0OVUfUhaKXBWP0HagKqjJgxzlq+1jGvlqLr+xi95741w7/GkjnBSnz9/MRWikTGnjoXqECnvkNKno7QzCjuktIcfxqHGIgIgam43pYC0Ve1XloJ4+fVT9TE7DQE1sm8SWaRCVT79HttOIVO1TNa6rTT+m3upQqaqQLUR88Xi8sb115mljmz/MaCObEKVqj+ZTAsJngY0LXhCUIXn9TV42thTDKYwEB7iXxsDhd91qf3aAhtEuSacUe3sFB5E8BmhyMxREFiBXRSbTKFXPwTTMOjfXJli6oIAa3+YoJNKAqoO/K8YVEe2/xhQRzah333/fRMCqQTC8FSUBrr4xk/akeOFZEGVAsouIFWLDaAydRS1Nd4Usb6QnYaAGp/0siq4TR8AbaRdYBp+751S5hubQtX+GCQYqlL99Xl/pf5f/w2r/mPaggyoI5rN758/nzZNcwoBVWNY6sy+HnzofPKstNt2mgLRLnBNib091tTYJu2VJMirHx6X9TZMGx9K22aNDDBiGo+++xC8b2GnLoQqVvmhTVXnUJUe/0bM59XlzRus+o9lGzKgjmQmpapflKUM4HcAqs2b8II9H/LkoBK8oFPgaZ3cLRSV5k8r6pr52jp9PgAH4IaRRmw2YKpuCkAmKQpYrdpsgRGq0fgz+kcCO5HCk1AUeIZqP0gfCK9oidgpjk+Nbao6KbW6UVWl/KtZ9R/JPmRAHclEfvvtd41nohjoPH61TbcPASJF4kAV34AKnVFdrBSq/GTmqVzbKfKeU8y0nZ2mwqHa1X4MprossJ1qRHdMNjySip1Uus+SoVpg/S2r/qPYiQyoI5hGqerXVa1CpBSoagIZJIzOnWryzFJn8L5uV6Ou7wNmrdb8YLqXzISaYqchKMVM1QT6ax0fZctydRrgawfPdmYKwdTXAwK/AmClGKoOo9L5U6WTqmjqy+vs9d/73Zi7y/Z+oGMdgFL1i3IqgUyq+zrzvv7PXgHtxg5VdyCQWP0HX6JnAnYK1f0EmCJWassjGwLsiAelvOD9PHaazsBPq/mhPFyvzBcObv1dfjE7dRYFGHEAk6fo19aeKuu8urq6vHXzOodS7fFmZUDd48mTXf/22++njaidIwqyQI2qnqmuMlQLzrSX39tTSe+/R/covV/YJxeHCrzkkIliVmq4IsjfCh1sMFepfS5kphg8IcvUPesFproRQu2nL/nzMcBa/Z/PF5e3bvIJqlXW6bafZUDd9gys0L5kp0IUKmE0dBBFoGrbALMdTnzsz4cdg+f381gq7AOVJMVgPan2J1X+pHff2jPjxNihqh/ZTwHC9mGm/jFsHrAA7Bx8hsXq01P25BRO82cv+ZNF5nNmqStsia0/yoC69SlYvgOKnTb1qQVUqO4nQbVvc8AZ5YlmC6gCMwAFqgjbTVbrEMzJ0Ckys1QqmB/aUn1SE9oZhXioO2HQxkxJMKXYaaD206enrOqvw6jquuEwqr5rdIfKM6Du0GT06Ypkp00jDDsFl+xRdtLADtqnHQeA1tMFbLPQDEB6+N2x1PiYqTvTT+RAbY9FNQAIzsrDGE//GqrfVg2PTz8BgurEkgWmEEBNJfA5HAFA2VEt6PsM/zrDVyOurhaXx7fYlrrMOt32Mwyo256BJdt/9u2306ZuDDsNLsQDjqklq8exp+h66Vj970qEEiZECU9MwfP7Gqf8KajwPbp2BHjz0d1OiC3CcDDitUNULalhwNSCvpE+aQ/247TXzdgQqkY0s9/99nXO8L/04t3egwyo25P90i0/ffbstJTs1J2C0gwQTabzqC/djH8QOrZS8agJVV9WEgEqTArQk6FagA3vc3KfE6eV8FUmCDaTKr7HWe/K9zbW0HkFoxMcXTX2YZ/VirKjytL+Cmofl7q4WpwdH1/nG1MHWL6brIIBdZPSHqitZ8++nda1tZ12qPu2TYy2rid9FgAMw8Jef2xTxSAaXyftvgcno6BoPEOFTC+IKwUZ8l1OAvRZYDt1CBkfYEiyUsBeIZgiUgt/ENBJL8xOoUMK5VDQvwQIVOX4Fwvp8We1f6Ats7Fq+uynjXWKG2qXwL+/eabQRQXyQzsliO8cZGJNJYj7RgwVsOPgWKoeRRpQ4VFXO+L4+Cud5CQC0TYwdfGjKJBUNZmt4hvgw2DacRTVJJ/Rj1ozhv+RUGFTCFA1W9UmgFrcvPHrQaaR99PmJMATtjlZD9LS06fyzH4zVWFSCqzM6SRUO/ZMDTLJQTyrY6sUwCIQpQGVSNqnAQ7d3xSDEJUNK7a5Aqg0aaG6QqI8UBIqvgE9FI0A2TV1rj94Bh9U0JNlU/vZMUHVX373w3xx+RY7pwbZN5uqZJC9tqnOcjtCfP3NN1NRi1MXd2qBzrHJDikRSZ3bnogWSCKMSnFREwngm4AOrO7ZI9mpQ7qQqRLOK1iWfG2ADOXvs2ZUzF6TKr6pF3v0ARxHyWZ0stfobD8AVPtdaEv90ek4e/Pmr9k51b10dqYEA+rOTEV3R54+fXoqiolxRhlnTwBw1jM16MRSqn9wtDW2ryqIdYPKwXEq25U/NgqcO0Tmfas6G0IKlfnlHE+GYXqoNEMJ7b4kU01df22Ys2XNOuWAA1sFqE7l16r/m79jtb97Z+xOiUH33e4Ma5w90YBaTl1KPpQIxY655TiUKbLypIfHWUlzAADURA4B22Py+Ce0e1KvKdNAgpXCs/e4TXgYP741AIFpaId1TNW/oKIAUjbhOMzLePslqKqkKfJPqKtSWO3fn/288t7an6Huf0+//voblUA6UvcxdmUOlJp64gBqFz6nbKuwFy2A6hmlfwAlM0lcVxIx0YTjiXY6ITTEx18hUCP0BaFSbWAKHFGa5FJ24OBsv2HDOpu/Zam6jPT2c5B/5pLegWIMqDswCbldePr1v9WuVuozkaZP1RPM6Fom2NpKg45TN5qm+hM6iTB2eWCnj4vGJ56WcTohBmpALf4MePLBl5D1wt7CO7jggQUYN4uBFtuGLaC69H51LW7dfGMt05i77rhcvgR4ovJltdWST54+PZ0Iqe7HgIpxlJjSAWY5WUUCXJGw3MP48AGARaRvkw4hQGUxq03ElQKyjeAZ+550N8O6AbojXoqehczTU1YI7FGilDClH2Cm0AQgVX1lSzXq/3w+v3zr+Aan9dvqDsxrfICtltcQl1pNAl999bXMeXqqwNOxUwBQXao5jXBEp0K13xahGyAXELqIr3vcIYAilmgdOIjC6hKhuSBHvc9lpaAFALo4IgCyUZe2z/Qzj52aVmAUgLGdutR+jbxyumI7avcy2okSDKg7MQ3dnZCA2ggfLmWIoXowOHQaqf1h7cNPujeSLls3VtkRdwXsNTzyabEO006KkWYBKWCr6GcF+a58W/CHAJanwNSQUdVhFJNq2qQYqo1TrapmdvtNDp/q3iXbL7Hs+t9+zw+sB19++bSJrhcJyGMErG0yapv5kKS2lKW/yllWMROO7ao0gLazR4dQbvQhOAaRpwEDDfoFg/YBS07ZTV3MKeqGD/nyJ7yCZNTo1BTO7F/VtbjNdtS92PE5K38vBjLmTj558vS0KGWqPsNGLSGMEqLEUugHeCl1H9abWDLLrCSyudib7nGMNIwCL31bGJTnqFGzoVkB0FnElXH12uyAqCl2YJFxtaTX314qaM/1Y0CV8ahXi+rshJOl7Pw2X2Yb7PygxtZBB6hKvzfZ+R071VNI2zLXK4n2xUN928JKAfuDvQ4BLf5uSUaKQDPFSjGy4lIBmAJVXj0F6Dbl+YfhVCh3qsnzirz9MnyKHVPrXcwD1c6AOpAg11nNkydfXhRlcW4TjeCEKBBNW8B1XR1cZQUlCDHlWY/xFttNAfTposBjRTPSIBwqxUpjvI6ZaQCmPnTW/By4roI8AYm7p1yCbOvlNx7/+by6fOuYs0+taxkPVe8q22GoPnA9HRL417++Mg4pn2gE3msfTWKPWZX1BEp21Jt1wXTgegJA6LsQssLwEqqU+h4BbBsjjUCTcDy5LrUzU89OMZhC84DGeh+lQDFU65CqlVmhEVVVz47f/A2f699xtOix9XZ8JCPu3pN/fTUV1sOP0vURV4v0kQOc/ZT5dF0rJMlO4QBiFkoCpUcx8tI/nwuFaDRqIgWm9pI9LOD4tgHfQ0CS3Xl9CLj2e5g4xVxCoDNRgQQqVVWJ22/+Zl2z0WfVcNkWCfAE7cHyePLkyyY6GWVmDk0gjKVKjCtnwuVGzim3iuhS+G1SM6Gqk2Xb1PoMRorBGSMrxYzDfoT5XKHdFGB8ZCJoO47qQDYEVPb0r7LcNvbsuvfNxgYy1oYeP35yOjkqJUPVAf0OSOMD8snJXGmW+z8sn0gDpp2poET7Wz+9XSC6LJBGar9pkriiRYNlALnubajq47Kd6r7tRwCo8gK/q0XNnv4d3+j9d8uOD2hs3QsBVQOrH6WLPe2YyaUneukHiZnoQNkcJopZZdCGI5lpe0LEPAG+R08lwTTgtm1g2prcBdpRvV3V3z3lk1AzoO7Hzh5yu+zHiPeslxJQy0mhrov2YGpgNJg9rP6vNrWrPd0t5E4GCw2QXYw3A0hJ9T7FSo2+TvUx79oWj9IoZMrU6/+hHVMOUB1LFYIBtXtN7UKJde+bXRjjXvfBAqoPmbIGTvocPxxs1uRC/dw9kPVkJNccH1frZCwBohoT04w0ZrSgbBSob3qXyUwhMDoIRdUH16mgHK4+sbQbgyke347KgLovm3i5nbMvoxtBPyWgFqVkqP46Zsr3lKv6hyKxeNpufx1wmQSgCfuTx1r1E62hXti/ZFHSN0V+7+lqP2bqIRubVXF4lbWdutIobIrI8G8SpqiM/jJPal2r3KicdWq3N/WAO2W3B7qvvXv8+J8XRVmehyq/HE/KqU9PakfafEJA61wcneDpKB/EwZanMPGMQRRQVboWOizKoHcM4MEZf/w7QWTCAmjrcqM6DMdtpxgqA+ru7+J17pndH/0e9PCLx/+8KAsNqM7DH6jmfTX1Idloqq5swAznAD3YdeTAG1f9Y0TLSUaKUZbsc3iHlIXq0DzRyzFlODa0/VqAJi7005n8a7GQt6ByXtSd3rUMqDs9PUJoQC0AQzXOKUdR4wH0Tedna4gWQ87NeqvILwBPAG/tteaw0RxG2lkmDo9Sj/QA0zCBilX9YRXRSSnAXFnlX2WBbf5ZBtTNy7xXi1988c+LcuLP8SscDXT9lOofNkROdgto5i0OUyosHDA2atDZLDYoqN92q/9xiRiJ2/oQxppSYBp+1s+OGjqmUqFTbEPttWm2WDhvz2yxg4fe9BdfPL4oysl5eOc9DaJERtSMGfZF+ttZk+y2K9SpbWL7Amgr0yQr6z540CugH0A8wuwgnSCgpbEd1dFSd+TUhrBqp1Ql6kVzdswp/HYaEjK22073f/Sd++yzx+akVGhDRTCYfVY0BzzXrvpHtLDVAhrPca7Kn6HS48q9sZVirm3n9j1T1Y0GVgHzPgTeOLDfdhkH92tAvVrMz06Ob85Gv+j3eIAMqDs+eRJQy0kZBPbrTsfaegCybfQRjDsHZFV7K8gqW72HbQQ21s46SKC1FXY+7Vv2uAo+ww4y2o5qADMkxdDDD5A3z45qw6YYUFdYfht7dJU9srFOHnJDGlCLqUuOQthQEdhlzqhzbRHl0Ue5Bto+kxTSN/BsNuxF4NnxZFfFlNygxg5NAIHnP75DylPj4Mi/v0/KFcFsVovGZpoybNfEoTJD7bPItlM2c/ttp3PcqhASUHVgv4FAMGM5WAdiArw4g1nHAEoviVUXSheeRXMdsFMPUR2rgjaZJh9y44pfOCuws3faugG4pi7kA0TUtB0E+kf2VHBYwQTzw2uo66oWVxWr/LuOCavuk10f3yj69/kXj336PhTQj6cvZpbp4Xv8yKljyGVC6dO4n1nguyzgoqZwTgSYtNsVAyeWfFJoyyq9GaBPKJUNkwIkFdldIUu1jimdD/X6kBMxir2xa4PgCdq1GSH689nnj5vQy99XzU/ZSZdV75ddOFlgaWUQ6suO62VMWldDZgD+Ohnj9FMXH9rR2cvzdNZ8m0Xfq+TAmUachKKGEYNp6KjyoVSWxMp/q2oxu/3mbzljf8bUb7PIsvtim30+uLY/+/wfUyGKU5y2L+0l0oAgt6FDjYCXgbdEHGrvRZH7QBfILQWYuNLMJjRomltkbZ6EoixNzlkvwaaWQFoLdWmeem3+3I2nQJUnTlW1MVd8eZ83aqhgfmDjkG1XdTU7ZkDd+b2fuxV2fiBj7uCnn36hLumj7Kh23DnqPjYTIs4aiy97ZWQXzJiidZgDgmbhb4w6zqv/yrIUZWn+LUr9W2ScQTIxSVXXKkGJAlQJrAZQnQ01iFuN0vyFZ/+hUy1it5ilyvbmC3lJ342LDCFykS1KYMjdsMVhjLvpTz/97ELIBCmSV4EZI/0ohChWtZduapF0s8tUvj096O7nLWc37BSA6aQsxWQyUX8SXCXIqsvx6kpI+2W1qDyoIqaKM0U5O6vT922/oHnAf9meL1U/KwH1B45B3YtNvqm9shfC2NVOPnr0mYlF9T1UE9cxe8vYTVurHGq15CAfMRmtjyXsrbgaq+br2DPFTA07nRxNxNHRkfqblBMDqLUC08VC/i3EoqpELf/qRpsAzEF7awVFXUiq/1i1B9DqfhGgui9f6+TSCw7q39UNCi1oe9BH7qIQ4m+fft60qfyk6h+ALjYL9FX5O8r3nKU0OPaMe8pkpkgUxvGkVf1CM9Ojibh2dE1cu3ak3svvlO1ysRDz+ULMFwv1WgKsBlSj/isKCYL+qSOrUdwqoK8u2Qpg2QZRG2N3qKtG3GIPf88Vtp3iQ3GO7fT+gFr9298/nxZCnIZDzmWUlNofPQtsCL0XRu4D62CnivR1VezzFMiuItvpRLLTibh27Zq4Jhnq5MgxVMlO5/O5mC/miqlqQK29gwo4p8D1UQYd4/SDyLYaWTC8g8uNphHS1MAe/j3Z67nbYE+GM95ufvLoU5MXtZ/a75hZYCOgHFTkYuhcIbpAZ7G+KjxlEe3AzLavQ/OHA9QCM1Sl8h9NVBSA9O5bdd8Cqlf5NUPVIAoSRMNrThARpY6uptR/T7sleNe1mB3f5pCpfdjdy+yDfRjX6PqoAVWn8ZNbuJcNFXiyOoEU2wWWA8twVXWRxx6z1VlVqgDoE2SoMlRKOqGOjNp/NJEMtVQ/EcoppWyo2n6q2GklQ6gwQ3XMNFT3M9T/kNWik1fKftqIeVWx/bTHGtlmUQbUbUq/Z9t/ffR3E+DvmU27CQA4YWxBe4QVPohRlmabGbaFnMXUCYhJmbR7+OFjYRu4X2H8qQmXmpTKGaW9/ApyFaCqkCkLpiZ0yjqkSIaqOkJcp+LsoqanQRhVaLVQRLcQCsBv37qRI9qeq4mLr0MCPFHrkOqa6vzkk0fqfql2ELVwEoApCaQt6nrAVHstlDUy1PRPSb7QNbvXJ6JUUL9kqcbbb1/rdnTMqVa75R8I8nfOKAiewS2nTuW3cQAWTAPbKgRX9LtRSDCfHd/+HZ+Qyp/erZbstU+22lNuXHz8ySOj9nthtNk9HVzCvNHAVhBr9xn20OSKQVbK1tlanqV6QFpuOZg+OnkYQAUB/ta2aoHbBfLb01LWbqrU+RhM0dhIeyqMCAhubw1IuHz8itX95aZ6S08xoG5J8Ms2+5dP/hZwGFBTYCc0Zyu9Ch+y1FZwVTTOVd5roVCFV0ZRLLFVqot+aABbhWkStZZuzvMbAM1zRCVuUE2lAEycopKAOr+qz05OOKn0svtl08/12ieb7hy3F0vgL399NBV1g8OniFn0Z9V9JmpsKg2uS0mBq+1C1EZkmRxsunqDZZ8HWn90vJkEhi15Jhp69UMVfwmVH8aoBgy1rhtW9wdbVZupiAF1M3IerJWPPv7EqP00isRqfoct1QApjZcZJgAScAdeVvDo0GCS9Oq/5+Jxv52CDsKjtDmgy3aaBtcIrJ0lA85pIa5+uDo7OTnmK08Gm/P1VzTwyl9/h7kFIT7++K82p7sSR+raaI2VNudnAI59nFSxsdW0u73Z6ENK23rZZdSAgOqAVL8wkbIESzXfg3/71z7oAAALyElEQVTcwQMPpqFjCmful5EEx7dv8v7c3hJbqmWesKXEtt2HPvrokwtRNM7bH+JdDkvFzxBMtMsE0MFM2xbWUGDoZmGICsMOgzoR9JnPo7ymqjMUK6XNApClwkv9ZL3yJ7Cq6tmdO2+yd3+7W6136wyovUW2/Qc+/PDj07IUU9ST0DZomanL+0nZUkPW2qL8AoD1pTpkAVfXEKDXQ/SDNYeANaaeIYP1JbBB1Dq4kqw1OAQwv1qwut9jvnelKAPqrsxEz378+c9/mdZ17Z1TyCRo0/wF2ZUcq6QYaU8nFULV9TmoQrEMApQ9KolO4zuGihkpAtJOlT+IAgjAVDqj7hwzO+25JXaiOAPqTkxD/058+OHHWu23SUEcoBIgSrHVPuDqwLPL4gjGETDa/iNseSIJiD2Q0lTf+URQoJWRIvoJ8rOieNRE7KpL7lLI7FbMTgddMJurjAF1c7IevKWHH3508eMByXN72wlyQrlk1JksNXkklWCzcCTLmAIGl4SusBMcqXZbH4qzRcFG9KOIsoJP8Oexyp9IqNKI2TGz0zWtkPVXy4C6fhmvrQUFqE1zbre9nEydM7WFpUbB/bT670hp2Hsq0Qo1wnUy1JREeyOqf6AP6aWcVB5aKYBtiVd17FU+V4jFvGJ2urYds/6KGVDXL+O1tvDBw4cXpZBZqDQEajz1oVIWLqNbUxOnpsKIAXBpSHocO8RSw05mY2xHwZQttQ1I9XcQTENHVXhQoGDb6Vp3y/orZ0Bdv4zX2sLDhx/Ki9vOZe5OBanmXLoDV/2hSfcXAq3pmrOx+vcRQ+0LmttgqJSksxHVQyN+FVTaEU5lS5PxqzDkyjQCAff/Fldn905OOJB/rTtmvZUzoK5Xvhup/QMJqnWlWKoD1CSIgov+CPWfYqjJRUKA5nALKqemXmhJzkWHCTXxTBRL5crRTiuapWowdZbY2Z3j2xx3upEds75Gclbt+lrnmgeTwP9+8FDmmosA1d9DZZR/awNFrDQ8nqr56RDqf8R0BxsxXdFSENv5EHI/6YbRMziDlO8ZPv3k2aj93D935/g278U1r41NVM+TuAkpb6CNDz54eFHX1bllqAhI21T+TpYaHWz1o8l1UMHxw3uwNyCXGPxSjWJUJTE2FUIVASxIy6fd+xp/0Wt7f1QjqkKcnRzzmf1NLYd1tsOAuk7pbrjuBw/+dFGWRQSq1oYaslWYqk51FbLWPmf97Tj72lk3LB+quT7efUtN3TPRwxRT9RfveWD1YFoUxeyYVf0dWAnDdIEBdRg57kwtf/zjn9R10zBRcitbDYE05z0BoH3srClhrbIYO7X2PGIKSrUw1kDdRwQVoC1kpapMwFDlXVa3b99aZdg7s+64I1oCPJkjWwkPHjy4KIqSVv1dnKqNV41ZKbabUjGqetmkAdR/s/ziMk/mVLAUkqYfymOsmTbVFnVfstWqKjjmdGT7L2fJjmzI4x+OBlWr+ssbPA2AKt+T/B8RPoXUfSolYDeIkoupJXxqW4svDzTDdeKfolV+ALKemhqzKfxOqvuN1CBmd+4cs1d/ZNtxW2t6ZGLcveE8ePCgUZfQyRs84RUfKvgfe/zte4O8gXefAFLKvgpFYEB0qcW1bqcVYffMmb02EI1VfgOgEFhteJQCUzG7c+cOg2mO4PeszFJrfs/GeJDdlQ4qIepzB6rgbL8CUMNWk2Bq2ayzlyYYKmCgrYuJAMpdW3x5zJWwrQZoq3EUMFoAplLVr2t5TxQH8I9xY+7amh6jjLc2pvv3H1yUhThXDNWdoLLB/8YW6tgqMKlDMA2B1RRLGgByATYllRYTwTKCtAu809Sah6aqC6GzCfbLOp40pgag2jSibsTlyclb8nQb/zdCCTCgjnBS4ZDu37+v76AqSgOqFkg9oNpz/lrlx/bTVnOAw+A2+6oH6s0stq5WOqE1WhGYgNLPp1ipCpWSXyowrS9PTk4YTEe857pW34iHfjhDk6DqnVRyyi1jDcE1wVJdsn+wXCjmih7PWFquyBCRAavPJwmVgGWGLYQgSrJShaUyz0I5u3uX7aarz9Ju15Cx6nd7ANy7PAm8//778sqUU6X6W0+/dR5FTqo0sIYM1rU+BMBSQxnABCCroMFSQWCeAGFJAmRhkhPHShU7VfXP7t69y06obEnvb0EG1P2du949f//+fbW7i6LUqr3Jnartq5it0uo/AFrTOjIXwB6lADYoo9+2mAx6j3LYBygWilsITkIRnv27d+/yPht2Wna2Np7onZ2a4Ts2nT44Lct6qrHThk9pMPXg6kETgmXqNeqlDh6Iz4ukPu8aolmd64DbyFefT1T12XxUPgGq+q4o9uh3zfOIvmdAHdFk5gxFguqkqM6bojDqfwyuPpeqjVelQdbgsuWqUfM+UqplmTnQJIA4Z0AbKRMCqG2Uuh9Kp+RrhJidnJywmr+R+dmdRhhQd2cuNtoTaVNtmvrU21OtbRUcS3Wxq0YthyFRlEMJraZgaTmW2gM4twa2OO1eqOKr9y7FKci6rz5nMN3oQt6xxhhQd2xCNtmd92fvTxtRn7o4VWQK6ALWkLXangOPPQG6aHwIZHsAbUpIOAghKkWfduqSuHkK317iENUnlHavmJl2iXTE3zOgjnhyc4b2/mw2/VE9PdVYao6pukgAXYNmsZCluk9Bep12II0PSrUvPVx+E8s0NqKGdlIoTxe0rxmpAti6bi7ffvttjjPNWXgjLbOJlTpS0Y1nWNPp9KKQJ6rsFSr2vD9IooKBFYIsBa7d7NXxWXIF9liWEcvNmJeIbaaeASDriKp94bPuy6frhsE0Q/KjL9Jj5Y5eFgc9wOm709PimjgXjY5VjcwAGm0DxhoCawpI2z7338EJ6M6RMtTSTbj3vaaPY1UtI/X0dbaoqst79+7x5XoHvYOsNsdCYAkACUzfe++iKMtzlDwlZKrw6hN0DQpFF8GlgK4dDIbA1xXMRYdZACHwCtOYAk9bpb9ID1yq14imEpdv32MVfwXJj+7RoX7mRyeYQx7Q9N13T8XR0XkhGs9WUR5VqObHrBXw0SCFuc3DmpIusMPSxLVlWnKXckbAKQRQAKowyL9aLC7vvfMO20sPeaMQY89dhSy2A5TAe++9d1GW4rwQOrGKT0wNzjYF7NXhYKCze8dWKMgukMXIGi3Yvis4qeGHX8RXP0urqXQ83bt3j4H0APdDzpD7LsecOrnMiCSg2Opkcv5jUmQdXmU8/uhfhXngPBOMV7WyiG5Ibfcmudo2tkIhgDpaauJNNZDKM/lsKx3R4l7DUDa2XNfQd65ygxKYTt89FWJyXsgQq+gKFcxe0QHUDnB1eAvH0u2RIu60QqcAsGTA+XpKZCBrKciV4m8mlTlMmZVucLHtcVMMqHs8edvouravTnw+ANUJfwMAykYFAvv9S2tzBb1PeKXQ4swA2Xx5xOFQ7opnWYmxocr8pffusZ00X65ckgGV18BSEkCmAHCbqlf9vUqP1ffQNNBiI027/12fl1nANhBfVRIcn2oaMWvq+j47nJZaFgf/0DLr8eCFxgLwErDAKopG5wUAJ648VEJw9YzWq/vBMsTUNO+uc2oltzr0cWB+I22kZT27d++M40l5gS8tAQbUpUXHD4YSMOYAFW6FzAAaZQEwWhMBZqcQOQnDgG6uY8XKr9PJpCElbURV19LRJN5554y99rycB5EAA+ogYuRKoAQUsMr/jqQTy4ArNAskADbGyxZHUze2qi449d6hbDGrm+o+gyiv2XVIgAF1HVLlOpEEgL1VQpxir1Gm/7YM/4jd5grXIeisrpr7iomeMRPNlR6XW04CDKjLyY2fWkEClsEWRxOVkEUx07I8FeoyO/eJf5WzSgsxk0aFuqoUeNainJ2dsT10hWniR5eQQM5SXaJafoQl0F8C7/7hD/LIqziyj0qQda9hffVMLPT7s9//np1I/UXNT6xJAgyoaxIsV8sSYAkcngQYUA9vznnELAGWwJokwIC6JsFytSwBlsDhSYAB9fDmnEfMEmAJrEkC/w82FfoipdvaWQAAAABJRU5ErkJggg==",x5="https://discord.gg/UKWB46HTT9",nj="https://community.bezi.com/home",oj="https://twitter.com/bezi_3d",$it="https://www.linkedin.com/company/bezi3d",rj="https://www.bezi.com/docs",tnt="https://www.bezi.com/privacy-policy",ent="https://www.bezi.com/terms-of-use",snt="https://www.bezi.com",int="/Onboarding_1-DyxHYrAh.png",nnt="/Onboarding_2-DvWEbzbf.png",ont="/Onboarding_5-DKkc4HnT.png",rnt="/Onboarding_4-C9S63Cut.png",ant="/Onboarding_3-Ds7zvl2f.png",lnt=({className:s,style:t,stepContent:e,...i})=>{var o,a,l,c;const{onContinue:n}=Um();return r.jsxs("div",{className:W("flex w-72 flex-col gap-2 overflow-hidden rounded-lg border border-lime bg-gray-90 p-3",s),style:t,...i,children:[(e==null?void 0:e.title)&&r.jsx("p",{className:"text-body1 font-bold",children:e.title}),(e==null?void 0:e.description)&&r.jsx("p",{className:"text-body2 text-white/60",children:e.description}),r.jsx("div",{className:"mt-1 flex w-full justify-end",children:r.jsx(Tt,{className:"mr-2 w-fit !text-white/60",variant:((a=(o=e.customActions)==null?void 0:o.skip)==null?void 0:a.type)||"auto",size:"sm",onClick:n,children:((c=(l=e.customActions)==null?void 0:l.skip)==null?void 0:c.label)||"Skip"})})]})},cnt=m.memo(lnt),hnt=({className:s,style:t,...e})=>{const{progressStatus:i,onClickDot:n}=fWt();return r.jsx("div",{className:W("flex gap-3",s),style:t,...e,children:i.map(({step:o,completed:a,active:l},c)=>r.jsx("button",{className:W("h-1.5 w-1.5 rounded-full",l?"bg-lime":"bg-white/40",a?"!bg-lime-alpha-50":"pointer-events-none"),value:o,onClick:n},`tour-progress-dot-${c}`))})},aj=A(hnt),dnt=({className:s,style:t,stepContent:e,...i})=>{var a,l,c,h,d,u,f,p,g;const{onContinue:n,onSkip:o}=Um();return r.jsxs("div",{className:W("flex w-72 flex-col gap-2 overflow-hidden rounded-lg border border-lime bg-gray-90",s),style:t,...i,children:[e.thumb&&r.jsx("div",{className:"aspect-tourThumb w-full",children:r.jsx("img",{className:"h-full w-full",src:e.thumb,alt:""})}),r.jsxs("div",{className:"flex w-full flex-col gap-2 p-3",children:[(e==null?void 0:e.title)&&r.jsx("p",{className:"text-body1 font-bold",children:e.title}),(e==null?void 0:e.description)&&r.jsx("p",{className:"text-body2 text-white/60",children:e.description}),(a=e.sub)==null?void 0:a.map(({title:_,description:v},y)=>r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("p",{className:"text-body2 text-white",children:_}),r.jsx("p",{className:"text-body2 text-white/60",dangerouslySetInnerHTML:{__html:v}})]},`tour-indicator-subtitle-${y}`)),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx(Tt,{variant:((c=(l=e.customActions)==null?void 0:l.continue)==null?void 0:c.type)||"secondary",size:"sm",onClick:n,children:((d=(h=e.customActions)==null?void 0:h.continue)==null?void 0:d.label)||"Continue"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(aj,{}),r.jsx(Tt,{className:"mr-2 w-fit !opacity-60 hover:!opacity-100 active:!opacity-100",variant:((f=(u=e.customActions)==null?void 0:u.skip)==null?void 0:f.type)||"auto",size:"sm",onClick:o,children:((g=(p=e.customActions)==null?void 0:p.skip)==null?void 0:g.label)||"Skip tour"})]})]})]})]})},unt=m.memo(dnt),fnt=({stepContent:s,anchorBoundingData:t,...e})=>r.jsx(fC,{popoverContent:s.variant===2?r.jsx(unt,{stepContent:s}):r.jsx(cnt,{stepContent:s}),arrowClassName:"fill-lime",placement:s.placement||"bottom",offsetSize:s.offset||18,open:!0,disableOnFocus:!0,disableOnHover:!0,disableOnOutsideClick:!0,disableOnEscPress:!0,disableBackdrop:!0,...e,children:r.jsx("div",{className:"pointer-events-none fixed",style:{top:`${t.top}px`,left:`${t.left}px`,width:`${t.width}px`,height:`${t.height}px`}})}),pnt=m.memo(fnt),mnt=({stepContent:s})=>s.component?r.jsx(s.component,{}):null,gnt=m.memo(mnt),_nt=()=>{var i,n;const{onContinue:s}=Um(),t=m.useRef(null);tc(t,s);const e=m.useCallback(o=>{window.open(o,"_blank")},[]);return r.jsxs("div",{ref:t,className:"fixed left-1/2 top-1/2 flex w-96 -translate-x-1/2 -translate-y-1/2 flex-col gap-2 overflow-hidden rounded-panel border border-border bg-dialog p-6 shadow-dialog",children:[r.jsx("h3",{children:(i=Hh[Gi.JOIN_COMMUNITY])==null?void 0:i.title}),r.jsx("p",{className:"mb-2 text-body2 text-white/60",children:(n=Hh[Gi.JOIN_COMMUNITY])==null?void 0:n.description}),r.jsx(Tt,{className:"!bg-purple-30",variant:"primary",onClick:()=>e(x5),children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[F$,r.jsx("span",{className:"text-body1 text-white",children:"Join Discord"})]})}),r.jsxs("div",{className:"flex items-center justify-center gap-7 py-2",children:[r.jsx(Tt,{className:"!opacity-60 hover:!opacity-100 active:!opacity-80",variant:"auto",onClick:()=>e(oj),children:k$}),r.jsx(Tt,{className:"!opacity-60 hover:!opacity-100 active:!opacity-80",variant:"auto",onClick:()=>e($it),children:G$})]})]})},vnt=m.memo(_nt);var Jo=(s=>(s.ROTATE_START="rotate_start",s.TRANSITION_START="transition_start",s.DOLLY="dolly",s.TRUCK="truck",s.WAKE="wake",s.UPDATE="update",s.REST="rest",s.SLEEP="sleep",s))(Jo||{}),e_=(s=>(s[s.NONE=0]="NONE",s[s.MACOS=1]="MACOS",s[s.IOS=2]="IOS",s[s.WINDOWS=3]="WINDOWS",s[s.ANDROID=4]="ANDROID",s[s.LINUX=5]="LINUX",s))(e_||{});function lj(){const s=window.navigator.userAgent.toLowerCase(),t=/(macintosh|macintel|macppc|mac68k|macos)/i,e=/(win32|win64|windows|wince)/i,i=/(iphone|ipad|ipod)/i;let n=0;return t.test(s)?n=1:i.test(s)?n=2:e.test(s)?n=3:/android/.test(s)?n=4:!n&&/linux/.test(s)&&(n=5),n}const s_=lj()===1,Sf=LX=="T35ZT6VBS8.Bezi.Bezi",ynt=Yd&&s_,bnt=ynt||Sf,cj=s_?e_.MACOS:e_.WINDOWS,hj={[e_.MACOS]:{Command:"",CommandOrControl:"",Meta:"",Mod:"",Control:"",Ctrl:"",Delete:"",Option:"",Alt:"",PageUp:"PgUp",PageDown:"PgDn",Shift:"",Tab:""},[e_.WINDOWS]:{Alt:"Alt",CommandOrControl:"Ctrl",Mod:"Ctrl",Control:"Ctrl",Ctrl:"Ctrl",Delete:"Del",PageUp:"PgUp",PageDown:"PgDn",Shift:"Shift",Tab:"Tab",Home:"Fn",End:"Fn"}};Object.freeze(hj[cj]);const Lb=s=>hj[cj][s]||s,sn=s=>s?s[0].split("+").map(Lb).join(" "):"",Cnt=()=>{var h,d;const{editor:s}=Pt(),{onContinue:t,onSkip:e}=Um(),[i,n]=m.useState({orbit:!1,pan:!1,zoom:!1}),o=m.useMemo(()=>{var u;return(u=s==null?void 0:s.viewportController.activeViewport)==null?void 0:u.controls},[s]),a=m.useCallback(()=>{o&&(o.canNotifyCameraTrucked=!0,n(u=>({...u,orbit:!0})))},[o]),l=m.useCallback(()=>{o&&(o.canNotifyCameraDollied=!0,n(u=>u.orbit?{...u,pan:!0}:u))},[o]),c=m.useCallback(()=>{n(u=>u.pan?{...u,zoom:!0}:u)},[]);return m.useEffect(()=>{if(o)return o.canNotifyCameraRotated=!0,o.addEventListener(Jo.ROTATE_START,a),o.addEventListener(Jo.TRUCK,l),o.addEventListener(Jo.DOLLY,c),()=>{o.removeEventListener(Jo.ROTATE_START,a),o.removeEventListener(Jo.TRUCK,l),o.removeEventListener(Jo.DOLLY,c)}},[o,a,l,c]),r.jsxs("div",{className:"absolute bottom-7 left-1/2 flex h-60 w-72 -translate-x-1/2 flex-col gap-3 rounded-lg border border-lime bg-gray-90 p-3 shadow-lg",children:[r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("p",{className:"text-body1 font-bold",children:(h=Hh[li.CONTROL_SCENE])==null?void 0:h.title}),r.jsx("p",{className:"text-body2 text-white/60",children:(d=Hh[li.CONTROL_SCENE])==null?void 0:d.description}),r.jsx(Pa,{className:"w-full",variant:"third",size:"sm",round:!0,isSelected:i.orbit,isReadOnly:!0,children:r.jsxs("div",{className:"flex flex-grow items-center justify-between",children:[r.jsx("span",{className:"text-body2 text-white",children:"Orbit"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("span",{className:"flex h-7 w-7 items-center justify-center rounded bg-white/10",children:t9}),r.jsx("span",{className:"flex h-7 w-14 items-center justify-center rounded bg-white/10",children:"Drag"})]})]})}),r.jsx(Pa,{className:"w-full",variant:"third",size:"sm",round:!0,isSelected:i.pan,isReadOnly:!0,children:r.jsxs("div",{className:"flex flex-grow items-center justify-between",children:[r.jsx("span",{className:"text-body2 text-white",children:"Pan"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("span",{className:"flex h-7 w-7 items-center justify-center rounded bg-white/10",children:""}),r.jsx("span",{className:"flex h-7 w-7 items-center justify-center rounded bg-white/10",children:t9}),r.jsx("span",{className:"flex h-7 w-14 items-center justify-center rounded bg-white/10",children:"Drag"})]})]})}),r.jsx(Pa,{className:"w-full",variant:"third",size:"sm",round:!0,isSelected:i.zoom,isReadOnly:!0,children:r.jsxs("div",{className:"flex flex-grow items-center justify-between",children:[r.jsx("span",{className:"text-body2 text-white",children:"Zoom in/out"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("span",{className:"flex h-7 w-7 items-center justify-center rounded bg-white/10",children:Lb("Mod")}),r.jsx("span",{className:"flex h-7 w-14 items-center justify-center rounded bg-white/10",children:"Scroll"})]})]})})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx(Tt,{variant:"primary",size:"sm",onClick:t,children:"Continue"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(aj,{}),r.jsx(Tt,{className:"mr-2 w-fit !opacity-60 hover:!opacity-100 active:!opacity-100",variant:"auto",size:"sm",onClick:e,children:"Skip tour"})]})]})]})},wnt=m.memo(Cnt),xnt=()=>{var e,i;const{onContinue:s,onSkip:t}=Um();return r.jsxs("div",{className:"fixed left-1/2 top-1/2 flex w-96 -translate-x-1/2 -translate-y-1/2 flex-col gap-2 overflow-hidden rounded-panel border border-border bg-dialog p-6 shadow-dialog",children:[r.jsx("h3",{children:(e=Hh[li.START_EDITOR_TOUR])==null?void 0:e.title}),r.jsx("p",{className:"mb-2 text-body2 text-white/60",children:(i=Hh[li.START_EDITOR_TOUR])==null?void 0:i.description}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Tt,{variant:"secondary",size:"sm",onClick:t,children:"Skip tour"}),r.jsx(Tt,{variant:"primary",size:"sm",onClick:s,children:"Start the tour"})]})]})},Ent=m.memo(xnt),Snt=({holeBoundingData:s})=>r.jsx("div",{className:"pointer-events-none fixed left-0 top-0 h-full w-full overflow-hidden opacity-60",children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"pointer-events-auto absolute h-full w-full -translate-y-full bg-black",style:{top:`${s.top}px`}}),r.jsx("div",{className:"pointer-events-auto absolute h-full w-full -translate-x-full bg-black",style:{left:`${s.left}px`}}),r.jsx("div",{className:"pointer-events-auto absolute h-full w-full bg-black",style:{top:`${s.bottom}px`}}),r.jsx("div",{className:"pointer-events-auto absolute h-full w-full bg-black",style:{left:`${s.right}px`}})]}):r.jsx("div",{className:"pointer-events-auto absolute left-0 top-0 h-full w-full bg-black"})}),Int=m.memo(Snt),Ant=()=>{const{activeTourStep:s,tourStepVisible:t}=Pt(),e=hWt(),i=m.useMemo(()=>{if(s)return Hh[s]},[s]),n=m.useMemo(()=>!(!t||!i),[i,t]),o=m.useMemo(()=>i?e?r.jsx(pnt,{stepContent:i,anchorBoundingData:e}):r.jsx(gnt,{stepContent:i}):null,[e,i]);return n?r.jsxs(r.Fragment,{children:[!(i!=null&&i.disableBackdrop)&&r.jsx(Int,{holeBoundingData:e}),s!==null&&o]}):null},Tnt=A(Ant),Pnt="f31eaf73-2a02-4c3a-8ab3-7de7ac9480af",Ont="nux-tour-portal",_9={[Gi.CREATE_PROFILE]:{title:"Complete your profile",description:"Make an account and set up your profile."},[Gi.CREATE_FILE]:{title:"Create a new file",description:"Create a new file and well take you through making a simple prototype."},[Gi.CREATE_TEAM]:{title:"Create a team to collaborate",description:"Create a team to invite collaborators and keep files organized."},[Gi.JOIN_COMMUNITY]:{title:"Join our community",description:"Connect with other Bezi users, ask questions, and get support."}},Hh={[Gi.CREATE_FILE]:{variant:1,title:"Create a new file",description:"Click on the New file button to make a new blank file. Well give you a tour of the editor! "},[Gi.CREATE_TEAM]:{variant:1,title:"Create a team",description:"You can invite your team to collaborate, organize files, and review designs.",placement:"right",offset:-40,shouldHideWhenAnchorInteractOn:!0},[Gi.JOIN_COMMUNITY]:{component:vnt,title:"Join our community",description:"We're excited to have you here! Join our community of creatives passionate about Bezi!",disableAnchorInteraction:!0},[li.START_EDITOR_TOUR]:{component:Ent,title:"Let us show you around ",description:"Take this quick tour to learn the basics of Bezi. You can skip the tour at any time.",disableAnchorInteraction:!0},[li.CONTROL_SCENE]:{component:wnt,title:"Navigating your file",description:"You can use your mouse or trackpad",disableBackdrop:!0},[li.TRY_COMMAND_CENTER]:{variant:2,thumb:int,thumbType:1,title:"The Command Center",sub:[{title:"Type human and press Spacebar",description:"You can access any tools or actions with the Command Center. Just start typing to find what you need and press spacebar."}],toasts:{complete:"Nicely done!  Now place the human model by clicking on the canvas."},shouldHideWhenAnchorInteractOn:!0,disableBackdrop:!0},[li.CREATE_OBJECT]:{variant:2,thumb:nnt,thumbType:1,title:"Create objects",sub:[{title:"Click on the canvas to place the human",description:"You can create objects like shapes, light objects, camera, and more using this dropdown menu."}],toasts:{complete:"Great! Now select Continue."},shouldHideWhenAnchorInteractOn:!0,disableBackdrop:!0},[li.TRY_STATE_MACHINE]:{variant:2,thumb:ant,thumbType:1,title:"Prototyping",sub:[{title:"Open the Prototyping tab",description:"You can add States to any object and add interactivity that will trigger state transitions with the State Machine and Timeline."}],toasts:{anchorInteractOn:"Nicely done! Now close the prototyping tab by pressing ESC.",anchorInteractOff:"Great! Select Continue to go to the next step."},disableBackdrop:!0},[li.TRY_SHARE]:{variant:2,thumb:rnt,thumbType:1,title:"Share and export",sub:[{title:"Open the Share panel",description:"You can invite anyone to this file to collaborate, or export this file to a variety of formats."}],toasts:{anchorInteractOn:"Nicely done! Now close the Share panel by clicking on it again.",anchorInteractOff:"Great! Select Continue to go to the next step."},shouldHideWhenAnchorInteractOn:!0,disableBackdrop:!0},[li.TRY_PLAY_MODE]:{variant:2,thumb:ont,thumbType:1,title:"Play Mode",sub:[{title:"Enter Play Mode",description:"You can interact with your prototype in Play Mode. Any interactions and animations you have in the file will be available here in real-time."}],toasts:{anchorInteractOn:"Great! Now go back to the previous browser tab.",complete:"Youre done! "},customActions:{continue:{type:"primary",label:"Finish tour"}},disableBackdrop:!0}};var Mnt=Object.defineProperty,Lnt=(s,t,e)=>t in s?Mnt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,dj=(s,t,e)=>(Lnt(s,typeof t!="symbol"?t+"":t,e),e);const uj=class j4{constructor(t=!0){dj(this,"shouldSendExternalLogs",!0),this.shouldSendExternalLogs=t}logMessage(t,e,i,n){if(!this.shouldSendExternalLogs)return;let o=n;if(jo===Hl&&!IN){j4.alreadyDisplayedWarning||(console.warn("Not logging to cloud from localhost, no LOGGING_DEV_ID set"),j4.alreadyDisplayedWarning=!0);return}let a="";try{t==="ERROR"&&(a=U.getLimitedStackTrace(10,5),o?o={dataParam:o,stackTrace:a}:o={stackTrace:a})}catch{}const l={message:e,logLevel:t,contextData:i,hostName:window.location.origin,environment:jo,isProd:Ia,cloudLoggingKey:vst,data:o,stackTrace:a};let c;fetch("https://phvytr3rgqtw4pxpz2zxzzynsy0brmqh.lambda-url.us-east-2.on.aws/",{method:"POST",body:JSON.stringify(l),headers:{"content-type":"application/json","Access-Control-Allow-Origin":"*"}}).then(h=>h.json()).catch(h=>{c=h}),c&&console.error("Error Sending cloud log",c)}};dj(uj,"alreadyDisplayedWarning",!1);let Rnt=uj;var fj=(s=>(s.USER_STARTED_SSO_SIGN_IN="user_started_sso_sign_in",s))(fj||{}),Wd=(s=>(s.AUTH0_REDIRECT_CALLED="auth0_redirect_called",s.AUTH0_REDIRECT_RETURNED="auth0_redirect_returned",s.AUTH0_USER_LOADED="auth0_user_loaded",s.AUTH0_USER_SIGNED_IN="user_signed_in",s.AUTH0_CLIENT_AUTHENTICATE_STARTED="auth0_client_authenticate_started",s.AUTH0_CLIENT_AUTHENTICATE_COMPLETE="auth0_client_authenticate_complete",s.AUTH0_CLIENT_CHECK_SESSION_STARTED="auth0_client_check_session_started",s.AUTH0_CLIENT_GET_TOKEN_STARTED="auth0_client_get_token_started",s.AUTH0_CLIENT_GET_TOKEN_COMPLETE="auth0_client_get_token_complete",s.USER_SIGNED_IN="user_signed_in",s.AUTHENTICATE_SUCCESSFUL="authenticate_successful",s.USER_SIGNED_OUT="user_signed_out",s))(Wd||{}),Bc=(s=>(s.AUTH0_CLIENT_FAILED_TO_LOAD="auth0_client_failed_to_load",s.AUTH0_CLIENT_FAILED_AUTHENTICATIN="auth0_client_failed_authentication",s.AUTH0_SIGN_IN_ERROR="auth0_sign_in_error",s.AUTH0_REDIRECT_FAILED_ERROR="auth0_redirect_failed_error",s.COGNITO_SIGN_IN_ERROR="cognito_sign_in_error",s.COGNITO_SIGN_UP_ERROR="cognito_sign_up_error",s.COGNITO_CONFIRM_CODE_ERROR="cognito_confirm_code_error",s.GOOGLE_SIGN_IN_ERROR="google_sign_in_error",s.EXTERNAL_IDP_LOGIN_FAILED="external_idp_login_failed",s.CREATE_AWS_SESSION_FAILED="create_aws_session_failed",s.ORG_TASKS_FAILED="org_tasks_failed",s.AUTHENTICATE_ERROR="authenticate_error",s))(Bc||{});const wd=["U06F78DR8RG","U06A9TB12SU","U024AFH9U2W","U03SJK61KKJ"],v9={org_tasks_failed:["U03SJK61KKJ"],auth0_client_failed_to_load:wd,auth0_client_failed_authentication:wd,auth0_sign_in_error:wd,auth0_redirect_failed_error:wd,cognito_sign_in_error:wd,cognito_sign_up_error:wd,cognito_confirm_code_error:wd,create_aws_session_failed:wd,external_idp_login_failed:wd,google_sign_in_error:wd};async function ta(s,t,e=!0){const i=Xt.lambdaClient;if(!i){U.warn("lambda.sendLambdaCommand: Lambda Client not yet initialized - attempting to configure"),await EC.updateClientsAuthSession(),Xt.lambdaClient||U.warn("Re-initialization failed - returning with function not running");return}let n="";try{n=U.getLogTraceId()}catch(o){U.error(`Failed to get ${U.OBSCURED_LOG_TRACE_ID_NAME}`,o)}try{const a=new TextEncoder().encode(JSON.stringify({...t,isProd:Ia,environment:jo,hostName:window.location.origin,loggingTraceId:n})),l=new hL({FunctionName:s,Payload:a});return await i.send(l)}catch(o){e?(U.debug("Failure - trying once more"),ta(s,t,!1)):U.error(`Failed to run Lambda function '${s}', 
Payload: ${JSON.stringify(t)}`,o)}}async function pj(s,t,e=!0){const i=Xt.lambdaClient;if(!i){U.warn("lambda.sendLambdaCommand: Lambda Client not yet initialized - attempting to configure"),await EC.updateClientsAuthSession(),Xt.lambdaClient||U.warn("Re-initialization failed - returning with function not running");return}let n="";try{n=U.getLogTraceId()}catch(o){U.error(`Failed to get ${U.OBSCURED_LOG_TRACE_ID_NAME}`,o)}try{const a=new TextEncoder().encode(JSON.stringify({...t,isProd:Ia,environment:jo,hostName:window.location.origin,loggingTraceId:n})),l=new hL({FunctionName:s,Payload:a});return await i.send(l)}catch(o){if(e)U.debug("Failure - trying once more"),ta(s,t,!1);else throw U.debug(`Failed to run Lambda function '${s}', 
Payload: ${JSON.stringify(t)}`,o),o}}function Xy(s){if(s.Payload==null)return null;const e=new TextDecoder().decode(s.Payload);return JSON.parse(e)}function ap(s){return ta(Bst,{urlKeys:s,backend:Xh})}function Nnt(s){return ta(kst,{id:s,backend:Xh})}function jnt(s,t,e=Xh){return ta(zst,{profile:s,file:t,env:e})}function Dnt(s){return pj(Gst,{email:s})}function Fnt(s,t,e,i){return ta(Vst,{fromUrlKeys:s,toUrlKeys:t,fromBackend:e||Xh,toBackend:i||Xh})}function h7(s){return ta(Hst,s)}function Bnt(s){return ta(Ust,{email:s})}async function knt(s){const t=await ta(qst,s);if(t&&(t==null?void 0:t.StatusCode)==200)return!0;{const e=Xy(t);return console.error("Failed on lambda call lambdaStripeManagement with params",s),console.error("Response",e),!1}}async function Gnt(s){const t=await ta(Qst,{profileId:s});if(t&&(t==null?void 0:t.StatusCode)==200){const e=Xy(t),i=e==null?void 0:e.body;if(i&&i.success!==void 0&&i.remainingCredits!==void 0){if(i.success===!1)throw U.info("No credits reamining"),new Error("No credits remaining");return i.remainingCredits}else throw new Error("Unknown response")}else{const e=Xy(t);throw console.error("Failed on lambda call lambdaDecrementCredit with params",{profileId:s}),console.error("Response",e),new Error(`Error in decrement: ${JSON.stringify(e)}`)}}async function Vnt(s){const t=await ta(WC,{profileId:s,createStripeCustomer:!0});if(t&&(t==null?void 0:t.StatusCode)==200){const e=Xy(t),i=e==null?void 0:e.body;if(i&&i.stripeCustomerId!==void 0)return U.debug(`Returning stripeCustomerId: '${i.stripeCustomerId}`),i.stripeCustomerId;throw U.error(`Unknown Response Format for Lambda ${WC}`,e),new Error(`Unknown Response Format for Lambda ${WC}`)}else throw U.error(`Failed on lambda call ${WC} with params`,{profileId:s,isProd:Ia}),U.error("Response",t),new Error(`Error in lambda: ${JSON.stringify(t)}`)}async function Hnt(s){try{if(U.trace("lambdaSystemAlert called, input: ",s),!Xt.lambdaClient)return U.warn("lambda.sendLambdaCommand: Lambda Client STILL not yet initialized"),!1;const t=await pj(Jst,s);if(t&&(t==null?void 0:t.StatusCode)==200)return U.debug(`Successfully sent System Alert: '${s.eventName}'`),!0}catch(t){U.warn("Error attempting System Alert",t)}return!1}var Unt=Object.defineProperty,znt=(s,t,e)=>t in s?Unt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,el=(s,t,e)=>(znt(s,typeof t!="symbol"?t+"":t,e),e);const qh=class gy{constructor(t=!0){if(el(this,"_awsRumServiceLogger"),el(this,"recordEvent",(i,n)=>{var o;gy.sendExternalLogs&&(jo===Hl&&console.debug(`Logging Event: ${i}`),(o=this._awsRumServiceLogger)==null||o.recordEvent(i,n||{}),this.sendSystemAlertIfNecessary(i,n))}),el(this,"sendSystemAlertIfNecessary",(i,n)=>{try{if(U.trace(`EventsLogger.sendSystemAlertIfNecessary Called: ${i}`),this.isSystemAlertNotificationEvent(i)){const o=v9[i]||[];Hnt({eventName:i,peopleToNotify:o,data:n})}else gy.alreadyWarnedNotSendingSystemAlerts||U.debug("Only warning - not sending all events as System Alerts"),gy.alreadyWarnedNotSendingSystemAlerts=!0}catch(o){U.debug(`Failed to send SystemAlert: '${i}`,o)}}),el(this,"isSystemAlertNotificationEvent",i=>i?i in v9:!1),el(this,"setSessionAttribute",(i,n)=>{var o;(o=this._awsRumServiceLogger)==null||o.addSessionAttributes({[i]:n})}),el(this,"recordPageView",()=>{var i;try{const n=window.location;U.debug(`recordPageView location: ${n.toString()}`);const o=n.pathname.split("/");o.pop();const a=o.join("/"),l=a||n.pathname;(i=this._awsRumServiceLogger)==null||i.recordPageView(l)}catch(n){jo===Hl&&U.debug("Failure recording page view",n)}}),el(this,"recordError",(i,n)=>{var o,a;try{n?(a=this._awsRumServiceLogger)==null||a.recordError({message:i,errorData:U.cleanObject(n)}):(o=this._awsRumServiceLogger)==null||o.recordError(i)}catch(l){jo===Hl&&console.debug("Failed to record error in EventsLogger",l)}}),gy.sendExternalLogs=t,!t){jo===Hl&&console.debug("deactivating Events Logger");return}let e="";switch(jo){case Hl:e="7d2d3fdc-36c9-4ef2-807b-fea73f19751c";break;case wN:e="52588889-462f-48c6-9031-cd42706d3e22";break;case xN:e="ac05cca7-586c-45ad-9df7-73ff19f66af6"}try{const i={sessionSampleRate:1,guestRoleArn:Nst,identityPoolId:Lst,endpoint:"https://dataplane.rum.us-east-2.amazonaws.com",telemetries:[["performance",{eventLimit:50}],["errors",{stackTraceLength:500}],["http",{stackTraceLength:500,recordAllRequests:!0,urlsToExclude:[/accounts.google.com\/gsi\/button/,/google-analytics.com/]}],["interaction",{enableMutationObserver:!0,events:["abort","canplay","canplaythrough","error","invalid","load","loadeddata","loadedmetadata","loadstart","offline","online","open","progress","stalled","storage","suspend","waiting"]}]],allowCookies:!0,enableXRay:!0,disableAutoPageView:!0},n="1.0.0",o="us-east-2";this._awsRumServiceLogger=new RX(e,n,o,i),console.info("RUM Service initialized")}catch(i){U.error("Error initializing RUM Logging",i)}}};el(qh,"sendExternalLogs",!0);el(qh,"ERROR_MESSAGE_MISSING_FIELD_BASE"," -- MISSING FIELD: ");el(qh,"ERROR_MESSAGE_MISSING_EMAIL",`${qh.ERROR_MESSAGE_MISSING_FIELD_BASE} email`);el(qh,"ERROR_MESSAGE_MISSING_LOGIN_IDP",`${qh.ERROR_MESSAGE_MISSING_FIELD_BASE} loginIdP`);el(qh,"ERROR_MESSAGE_MISSING_LOGIN_DOMAIN",`${qh.ERROR_MESSAGE_MISSING_FIELD_BASE} domain`);el(qh,"ERROR_MESSAGE_UNDEFINED","--- UNDEFINED ---");el(qh,"alreadyWarnedNotSendingSystemAlerts",!1);let es=qh;var Ynt=Object.defineProperty,Wnt=(s,t,e)=>t in s?Ynt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,ti=(s,t,e)=>(Wnt(s,typeof t!="symbol"?t+"":t,e),e);const Ce=class Fe{constructor(){ti(this,"_eventsLogger"),ti(this,"_cloudLogger"),ti(this,"logToConsole",(t,e,i)=>{const n=Fe.createLogMessageString(t,e,i);switch(t){case 8:case 10:console.error(n);break;case 2:Fst?console.trace(n):console.debug(n);break;case 4:console.info(n);break;case 6:console.warn(n);break;case 0:Dst?console.trace(n):console.debug(n);break}}),ti(this,"logToFile",(t,e,i)=>{}),ti(this,"logToCloud",(t,e,i)=>{var n;try{(n=this._cloudLogger)==null||n.logMessage(Fe.logLevelEnumToString(t),e,Fe.contextData,i)}catch{}}),Fe.setInstance(this),f9&&(Fe.setSendExternalLogs(!1),console.info("External logging - DEACTIVATED")),this._eventsLogger=new es(Fe.shouldSendExternalLogs()),this._cloudLogger=new Rnt(Fe.shouldSendExternalLogs());try{switch(jo){case"DEV":case"QA":Fe.consoleLogLevel=UC?Fe.readLogLevelIn(UC):0,Fe.cloudLogLevel=zC?Fe.readLogLevelIn(zC):0,Fe.fileLogLevel=YC?Fe.readLogLevelIn(YC):-1;break;case"PRODUCTION":case"UNKNOWN":Fe.consoleLogLevel=UC?Fe.readLogLevelIn(UC):4,Fe.cloudLogLevel=zC?Fe.readLogLevelIn(zC):0,Fe.fileLogLevel=YC?Fe.readLogLevelIn(YC):-1;break;default:}const t=Fe.getLogTraceId(),e=`${Fe.logLevelEnumToString(Fe.consoleLogLevel)}`,i=`${Fe.logLevelEnumToString(Fe.fileLogLevel)}`,n=`Cloud Log Level: ${Fe.logLevelEnumToString(Fe.cloudLogLevel)}`;Ia?(console.log("--- --- ---"),console.log(`${e.charAt(0)}-${i.charAt(0)}-${n.charAt(0)}-${jo.charAt(0)}`),console.log(`${Fe.OBSCURED_LOG_TRACE_ID_NAME}: '${t}'`),console.log("--- --- ---")):(console.log("--- --- ---"),console.log("--------- Logger Initialized ----------"),console.log(`Console Log Level: ${e}`),console.log(`File Log Level: ${i}`),console.log(`Cloud Log Level: ${n}`),console.log(`Environment: ${jo}`),console.log(`Log TraceId (${Fe.LOG_TRACE_ID_NAME}): '${t}'`),console.log("---------------------------------------"),console.log("--- --- ---")),Fe.setContextDataField("environment",jo),Fe.setContextDataField("host",window.location.host),Fe.setContextDataField("isProd",Ia),Fe.setContextDataField("userBranch",Xh),Fe.setContextDataField("loggingDevId",IN),Fe.setContextDataField("inDevMode",Cst),Fe.setContextDataField(Fe.LOG_TRACE_ID_NAME,t)}catch(t){jo===Hl&&console.debug("Failed to initialize logger",t)}}static setContextDataField(t,e){try{Fe.contextData[t]=e}catch(i){jo===Hl&&console.debug("Failed to set context data",i)}try{Fe.getInstance().getEventsLogger().setSessionAttribute(t,e)}catch(i){jo===Hl&&console.debug("Failed to setSessionAttribute",i)}}emitLog(t,e,i){const n=Fe.cleanObject(i);t>=Fe.consoleLogLevel&&this.logToConsole(t,e,n),t>=Fe.fileLogLevel&&this.logToFile(t,e,n),this.logToCloud(t,e,n)}static setSendExternalLogs(t){Fe.sendExternalLogs=t}static shouldSendExternalLogs(){return!f9||Fe.sendExternalLogs}getEventsLogger(){return this._eventsLogger}recordErrorInEvents(t,e){try{if(!Fe.shouldSendExternalLogs())return;this._eventsLogger.recordError(t,e)}catch(i){jo===Hl&&console.debug("Failed to record error in EventsLogger",i)}}static recordEvent(t,e){try{if(!Fe.shouldSendExternalLogs())return;Fe.getInstance().getEventsLogger().recordEvent(t,e||{})}catch(i){jo===Hl&&console.debug("Failed to record event",i)}}};ti(Ce,"instance");ti(Ce,"sendExternalLogs",!0);ti(Ce,"OBSCURED_LOG_TRACE_ID_NAME","bzlLgId");ti(Ce,"LOG_TRACE_ID_NAME","logTraceId");ti(Ce,"logTraceId");ti(Ce,"consoleLogLevel",4);ti(Ce,"fileLogLevel",-1);ti(Ce,"cloudLogLevel",-1);ti(Ce,"DASHED_LINE","-----------------------------------------------------");ti(Ce,"contextData",{});ti(Ce,"getLogTraceId",()=>{try{if(Ce.logTraceId)return Ce.logTraceId;const s=localStorage.getItem(Ce.OBSCURED_LOG_TRACE_ID_NAME);if(s)return Ce.logTraceId=s,s;const t=_t();return localStorage.setItem(Ce.OBSCURED_LOG_TRACE_ID_NAME,t),Ce.logTraceId=t,t}catch{const t=`${Ce.OBSCURED_LOG_TRACE_ID_NAME}-${new Date().getTime()}`;return Ce.logTraceId=t,t}});ti(Ce,"getInstance",()=>(Ce.instance||Ce.setInstance(new Ce),Ce.instance));ti(Ce,"setInstance",s=>{Ce.instance=s});ti(Ce,"fatal",(s,t)=>{try{Ce.getInstance().emitLog(10,s,t)}catch(e){console.error(`---- WARNING LOGGING FAILED ------
OriginalMessage: ${s}`,e)}});ti(Ce,"error",(s,t)=>{try{Ce.getInstance().emitLog(8,s,t),Ce.getInstance().recordErrorInEvents(s,t)}catch(e){console.error(`---- WARNING LOGGING FAILED ------
OriginalMessage: ${s}`,e)}});ti(Ce,"warn",(s,t)=>{try{Ce.getInstance().emitLog(6,s,t)}catch(e){console.error(`---- WARNING LOGGING FAILED ------
OriginalMessage: ${s}`,e)}});ti(Ce,"info",(s,t)=>{try{Ce.getInstance().emitLog(4,s,t)}catch(e){console.error(`---- WARNING LOGGING FAILED ------
`,e)}});ti(Ce,"debug",(s,t)=>{try{Ce.getInstance().emitLog(2,s,t)}catch(e){console.error(`---- WARNING LOGGING FAILED ------
OriginalMessage: ${s}`,e)}});ti(Ce,"trace",(s,t)=>{try{Ce.getInstance().emitLog(0,s,t)}catch(e){console.error(`---- WARNING LOGGING FAILED ------
OriginalMessage: ${s}`,e)}});ti(Ce,"prettyPrintDateTime",s=>{const t=s||new Date,e=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),a=new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZoneName:"short"}).format(t);return`${e}-${i}-${n} ${a}`});ti(Ce,"createLogMessageString",(s,t,e)=>{let n=`${jst?`${Ce.prettyPrintDateTime(new Date)}`:""} [${Ce.logLevelEnumToString(s)}]: 	${t}
`;e&&(n+=`${Ce.prettyPrintObj(e)}
${Ce.DASHED_LINE}
`);let o="";try{s===8&&(o=Ce.getLimitedStackTrace(10,4),n+=`
 StackTrace: ${o}`)}catch{}return n});ti(Ce,"prettyPrintObj",s=>{let t="";switch(typeof s){case"string":t=s;break;case"bigint":case"number":t=`${s}`;break;case"boolean":t=s?"TRUE":"FALSE";break;case"object":{try{t=JSON.stringify(s,function(i,n){return n===void 0?"---> FIELD UNDEFINED <---":n},2)}catch{t=`${s}`}break}default:t=`${s}`}return t});ti(Ce,"cleanObject",s=>{try{return typeof s!="object"?s:JSON.stringify(s,function(e,i){return i===void 0?"---> FIELD UNDEFINED <---":i},2)=="{}"&&s.message&&s.stack?{message:s.message,stack:s.stack,name:s.name?s.name:""}:s}catch(t){return Ce.error("Failure converting object for logging",t),s}});ti(Ce,"readLogLevelIn",s=>{let t=s;if(typeof t=="string"||typeof t=="number")switch(t=typeof s=="string"?t.toUpperCase():t,s){case"FATAL":case 10:return 10;case"ERROR":case 8:return 8;case"WARN":case 6:return 6;case"INFO":case 4:return 4;case"DEBUG":case 2:return 2;case"TRACE":case 0:return 0;case"OFF":case-1:return-1;default:return console.error("Unknown logLevel: ",s),console.error("Setting to safest option: OFF"),-1}return s});ti(Ce,"logLevelEnumToString",s=>{switch(s){case 10:return"FATAL";case 8:return"ERROR";case 6:return"WARN";case 4:return"INFO";case 2:return"DEBUG";case 0:return"TRACE";case-1:return"OFF"}});ti(Ce,"recordPageView",()=>{var s;try{if(!Ce.shouldSendExternalLogs())return;(s=Ce.getInstance())==null||s.getEventsLogger().recordPageView()}catch(t){jo===Hl&&console.debug("Failure recording page view",t)}});ti(Ce,"getLimitedStackTrace",(s=7,t=0)=>{var i;let e="";try{e=(((i=new Error().stack)==null?void 0:i.split(`
`))||[]).slice(t+1,s+1+t).join(`
`)}catch{e="Unable to create stack trace"}return e});let U=Ce;function Ft(s,t,e,i){try{U.recordEvent(s,t)}catch{}if(Ia)try{Vy.track(s,t,e,i)}catch{return}}function Xnt(s){Ia&&(Vy.identify(s.id),Vy.people.set({ID:s.id,Email:s.email,FullName:s.fullName}))}function mj(s){Ia&&Vy.time_event(s)}var os=(s=>(s.gltf="gltf",s.glb="glb",s.fbx="fbx",s.obj="obj",s.stl="stl",s.step="step",s.stp="stp",s.json="json",s.bezel="bezel",s.usdz="usdz",s.bin="bin",s.mtl="mtl",s.jpeg="jpeg",s.jpg="jpg",s.png="png",s.tga="tga",s.mp3="mp3",s.wav="wav",s.zip="zip",s))(os||{}),E5=(s=>(s[s.MODEL=0]="MODEL",s[s.MODEL_RESOURCE=1]="MODEL_RESOURCE",s[s.IMAGE=2]="IMAGE",s[s.AUDIO=3]="AUDIO",s[s.ARCHIVE=4]="ARCHIVE",s[s.UNKNOWN=5]="UNKNOWN",s))(E5||{}),Br;(s=>{const t=["fbx","glb","gltf","json","obj","stl"],e=["bin","mtl"],i=["jpeg","jpg","png","tga"],n=["mp3","wav"],o=["zip"],a=new Set([...t,...e,...i,...n,...o]);function l(u){var b;const f=u.name,p=u.size,g=f.split("."),_=(b=g.pop())==null?void 0:b.toLowerCase(),v=os[_];return{name:g.pop(),type:v,size:p}}s.getMetaFromFile=l;function c(u,f){const{type:p}=l(u),g=os[p];switch(f){case 0:return t.includes(g);case 1:return e.includes(g);case 2:return i.includes(g);case 3:return n.includes(g);case 4:return o.includes(g);default:return a.has(g)}}s.isSupportedFileFormat=c;function h(u){if(u===void 0)return Array.from(a);switch(u){case 0:return t;case 1:return e;case 2:return i;case 3:return n;case 4:return o;default:return Array.from(a)}}s.getSupportedFormats=h;function d(u){const f={model:[],modelResources:[],image:[],audio:[],archive:[],other:[]};for(let p=0;p<u.length;p++){const g=u[p],{type:_}=l(g);_&&(t.includes(_)?f.model.push(g):e.includes(_)?f.modelResources.push(g):i.includes(_)?f.image.push(g):n.includes(_)?f.audio.push(g):o.includes(_)?f.archive.push(g):f.other.push(g))}return f}s.sortFilesByType=d})(Br||(Br={}));const Znt=new dL;async function Knt(s){return new Promise((t,e)=>{const i=Znt.load(s,()=>{try{const n=pm.tryGetImageData(i);if(!n){e(new Error("No image data found"));return}t(n)}catch(n){e(n)}})})}async function qnt(s,t){return new Promise((e,i)=>{const n=new FileReader;n.onload=()=>{if(!n.result||typeof n.result!="string"){i("Invalid data URL");return}e(n.result)},n.onprogress=o=>{},n.onerror=i,n.readAsDataURL(s)})}async function Qnt(s){const t=await s.arrayBuffer(),e=URL.createObjectURL(new Blob([t],{type:"image/tga"})),i=await Knt(e);return C4.getDataURL(i)}var pm;(s=>{async function t(n){var a;switch((a=n.name.split(".").pop())==null?void 0:a.toLowerCase()){case os.tga:return Qnt(n);case os.jpg:case os.jpeg:case os.png:return qnt(n);default:return Promise.reject("Unsupported image format")}}s.convertImageFileToDataURL=t;function e(n){if(n.image)try{const o=[HTMLImageElement,HTMLCanvasElement,ImageBitmap,ImageData],a=n.image;if(!o.includes(a.constructor)){const l=i(n);if(l)return C4.getDataURL(l)}return C4.getDataURL(n.image)}catch(o){U.error("Failed to get image data from texture",o)}}s.convertTextureToDataURL=e;function i(n){const o=n.image;if(!o)return;const a=o.data,l=o.width,c=o.height;if(a&&l&&c){const h=new Uint8ClampedArray(a);return new ImageData(h,l,c)}}s.tryGetImageData=i})(pm||(pm={}));const bf=(s,t,e)=>new Promise((i,n)=>{bN(s,t,e).then(o=>{const{width:a,height:l,lowestPowerOfTwo:c,aspectRatio:h,keepOriginal:d}=t,u=document.createElement("canvas"),f=u.getContext("2d");if(c){const p=Math.min(Math.pow(2,Math.floor(Math.log2(o.width))),Vit);u.width=p,u.height=p}else if(a)u.width=a,u.height=l||a/o.width*o.height;else if(h)h>1?(u.width=o.width,u.height=o.height/h):(u.width=o.width*h,u.height=o.height);else if(d)u.width=o.width,u.height=o.height;else return n("No width or POT-enable specified");if(!f)return n;f.scale(u.width/o.width,u.height/o.height),f.drawImage(o,0,0),i({dataUrl:u.toDataURL(),originalWidth:o.width,originalHeight:o.height}),u.remove(),f.clearRect(0,0,u.width,u.height)}).catch(o=>n(o))}),Jnt=async(s,t)=>{const e=await pm.convertImageFileToDataURL(s);return d7(e,s.name,t)},d7=async(s,t,e)=>{const[i,n,o]=await Promise.all([bf(s,{width:GN},e),bf(s,{width:VN},e),bf(s,{lowestPowerOfTwo:!0},e)]),[a,l,c]=await Promise.all([fetch(i.dataUrl),fetch(n.dataUrl),fetch(o.dataUrl)]),[h,d,u]=await Promise.all([a.blob(),l.blob(),c.blob()]),[f,p,g]=[new File([h],`${t?`${t}-`:""}sm`,{type:"image/png"}),new File([d],`${t?`${t}-`:""}md`,{type:"image/png"}),new File([u],`${t?`${t}-`:""}lg`,{type:"image/png"})],_={originalWidth:o.originalWidth,originalHeight:o.originalHeight};return[f,p,g,_]},gj=async(s,t)=>{const e="anonymous",[i,n,o]=await Promise.all([bf(s,{width:GN,crossOrigin:e},t),bf(s,{width:VN,crossOrigin:e},t),bf(s,{keepOriginal:!0,crossOrigin:e},t)]),[a,l,c]=await Promise.all([fetch(i.dataUrl),fetch(n.dataUrl),fetch(o.dataUrl)]),[h,d,u]=await Promise.all([a.blob(),l.blob(),c.blob()]),[f,p,g]=[new File([h],"figmaSm",{type:"image/png"}),new File([d],"figmaMd",{type:"image/png"}),new File([u],"figmaLg",{type:"image/png"})];return[f,p,g]},$nt=1e3;function y9(s,t){const e=$nt/t;return s/e}function tot(s,t,e){return{width:y9(s,e),height:y9(t,e)}}const eot=(s,t)=>s.updatedAt<t.updatedAt?1:s.updatedAt>t.updatedAt?-1:0,sot=(s,t)=>s.createdAt<t.createdAt?1:s.createdAt>t.createdAt?-1:0,iot=(s,t)=>s<t?1:s>t?-1:0,u7=(s,t)=>{const e=Object.keys(s),i=new Set(Object.keys(t));return e.length===i.size&&e.every(n=>i.has(n))&&e.every(n=>s[n]===t[n])};function _j(s){const t=Date.now(),e=typeof s=="number"?s:Date.parse(s),i=60*1e3,n=i*60,o=n*24,a=o*30,l=t-e;if(l<i*2)return"Just now";if(l<n)return`${Math.round(l/i)}m`;if(l<o)return`${Math.round(l/n)}h`;if(l<o*7){const c=new Date(e);return`${oot(c.getDay())} ${F4(c.getHours())}:${D4(c.getMinutes())}${B4(c.getHours())}`}else if(l<a){const c=new Date(e);return`${k4(c.getMonth())} ${c.getDate()}, ${F4(c.getHours())}:${D4(c.getMinutes())}${B4(c.getHours())}`}else{const c=new Date(e);return`${k4(c.getMonth())} ${c.getDate()} ${c.getFullYear()}`}}function not(s){const t=new Date(typeof s=="number"?s:Date.parse(s));return`${k4(t.getMonth())} ${t.getDate()}, ${F4(t.getHours())}:${D4(t.getMinutes())}${B4(t.getHours())}`}function D4(s){return s<10?`0${s}`:s}function F4(s){const t=s%12;return t===0?12:t}function B4(s){return s<12?"am":"pm"}function oot(s){switch(s){case 0:return"Sun";case 1:return"Mon";case 2:return"Tue";case 3:return"Wed";case 4:return"Thu";case 5:return"Fri";case 6:return"Sat";default:return""}}function k4(s){switch(s){case 0:return"Jan";case 1:return"Feb";case 2:return"Mar";case 3:return"Apr";case 4:return"May";case 5:return"Jun";case 6:return"Jul";case 7:return"Aug";case 8:return"Sep";case 9:return"Oct";case 10:return"Nov";case 11:return"Dec";default:return""}}var zd;(s=>{function t(){return window.location.pathname.split("/").pop()}s.getFileIdFromUrl=t})(zd||(zd={}));const rot=(s,t,e)=>e.every(i=>JSON.stringify(s[i])===JSON.stringify(t[i])),aot=(s,t)=>s.filter((e,i,n)=>i===n.findIndex(o=>rot(o,e,t)));function If(s){return new Promise(function(t,e){(function i(){if(s())return t();setTimeout(i,16)})()})}function vj(s){return new Promise(function(t,e){(function i(){return setTimeout(i,s),t()})()})}function f7(s){return new Promise(t=>setTimeout(t,s))}async function lot(s,t,e){const i=new FileReader;let n=!1,o=null;const a=new xf;e&&(a.onProgress=(c,h,d)=>{e(h,d)});const l=new kh(a);return i.onload=async c=>{if(c.target){const h=await l.loadAsync(c.target.result);if(t){const{flipY:d,generateMipmaps:u,colorSpace:f,originalWidth:p,originalHeight:g}=t;h.flipY=d,h.generateMipmaps=u||!1,h.colorSpace=f||Oa,p&&(h.originalWidth=p),g&&(h.originalHeight=g)}o=h,n=!0}},i.readAsDataURL(s),await If(()=>n),n=!1,o}async function yj(s,t,e){const i=new xf,o=await new kh(i).loadAsync(s);return o.generateMipmaps=!1,o.colorSpace=Oa,o}const G4=s=>{const t={...s};return delete t.preview,!t.map&&!t.alphaMap&&!t.aoMap&&!t.envMap&&!t.normalMap&&!t.roughnessMap&&!t.metalnessMap&&(delete t.repeatX,delete t.repeatY,delete t.offsetX,delete t.offsetY,delete t.rotation),t},kg=(s,t,e)=>{var n;return(n=(e??s.states)[t||""])==null?void 0:n.material},p7=(s,t)=>typeof t=="string"?t:typeof t=="object"&&t.baseID?t.baseID:s.material,m7=s=>{if(!s.material||s.type===L.GROUP||s.type===L.AMBIENT_LIGHT||s.type===L.POINT_LIGHT)return[];const t=s.states,e=new Set([s.material]);for(const i of Object.keys(t)){const n=kg(s,i),o=p7(s,n);e.add(o)}return Array.from(e)},cot=s=>s.map(t=>m7(t)).flat(),om=(s,t)=>{if(!s.material||s.type===L.GROUP||s.type===L.AMBIENT_LIGHT||s.type===L.POINT_LIGHT)return;const e=Object.values(s.states);s.material=t[s.material]||s.material;for(const i of Object.values(e))typeof i.material=="object"&&i.material.baseID?i.material.baseID=t[i.material.baseID]||i.material.baseID:typeof i.material=="string"&&(i.material=t[i.material]||i.material)},bj=(s,t,e)=>{const i=Object.values(s.states);let n=0;s.material===t&&(s.material=e[n],n++);for(const o of Object.values(i))typeof o.material=="object"&&o.material.baseID===t?(o.material.baseID=e[n],n++):typeof o.material=="string"&&o.material===t&&(o.material=e[n],n++)},nx=async(s,t,e,i)=>{if(s==null&&e==null)return{texture:null,urlKey:null};try{let n,o,a,l;s?[n,o,a,l]=await Jnt(s,i):[n,o,a]=await gj(e.figmaImageUrl,i);const c=await lot(a,{flipY:t,generateMipmaps:!0},i);c&&(c.colorSpace=Oa,c.generateMipmaps=!0);const h={sm:_t(),md:_t(),lg:_t()};return e!=null&&(h.figmaFileUrl=e.figmaFrameUrl,h.figmaImageUrl=e.figmaImageUrl),l&&(h.originalWidth=l.originalWidth,h.originalHeight=l.originalHeight),await Promise.all([ks(h.sm,n),ks(h.md,o),ks(h.lg,a)]),{texture:c,urlKey:h}}catch(n){U.error("Failed to upload image variants",n)}return{texture:null,urlKey:null}},hot="_container_1dbh3_1",dot="_rotate_1dbh3_1",uot="_stretch_1dbh3_1",Cj={container:hot,rotate:dot,stretch:uot};function ko({size:s=16,lineWeight:t=5}){return r.jsx("svg",{height:s,width:s,className:Cj.container,viewBox:"25 25 50 50",children:r.jsx("circle",{cx:"50",cy:"50",r:"20",strokeWidth:t})})}const ZC=r.jsx("svg",{height:16,width:16,className:Cj.container,viewBox:"25 25 50 50",children:r.jsx("circle",{cx:"50",cy:"50",r:"20",strokeWidth:5})}),fot=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("rect",{x:"2.5",y:"2.5",width:"11",height:"11",rx:"0.5",stroke:P0}),r.jsx("rect",{x:"8",y:"3",width:"5",height:"5",fill:P0}),r.jsx("rect",{x:"3",y:"8",width:"5",height:"5",fill:P0})]}),pot=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("rect",{x:"8.5",y:"8.5",width:"6",height:"6",rx:"0.5",stroke:P0}),r.jsx("rect",{x:"2",y:"2",width:"7",height:"7",rx:"1",fill:P0})]}),mot=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 9.64286L9.28571 1L7.78571 6.5H9.07142L9.07143 6.49997L13 6.49997L6.71429 15.1428L8.21428 9.64286H6.92857H6.14286H3Z",fill:"currentColor"})}),got=r.jsx("svg",{width:"1",height:"32",viewBox:"0 0 1 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("line",{x1:"0.5",y1:"2.18557e-08",x2:"0.499999",y2:"32",stroke:"#3A3B3D"})}),b9=r.jsxs("svg",{width:"8",height:"16",viewBox:"0 0 8 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("line",{x1:"8.74228e-08",y1:"15.5",x2:"8",y2:"15.5",stroke:"#3A3B3D"}),r.jsx("line",{x1:"0.5",x2:"0.5",y2:"16",stroke:"#3A3B3D"})]}),wj=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("path",{d:"M1.5 6.5V2.5C1.5 1.94772 1.94772 1.5 2.5 1.5H6.5",stroke:"currentColor"}),r.jsx("path",{d:"M14.5 6.5V2.5C14.5 1.94772 14.0523 1.5 13.5 1.5H9.5",stroke:"currentColor"}),r.jsx("path",{d:"M1.5 9.5V13.5C1.5 14.0523 1.94772 14.5 2.5 14.5H6.5",stroke:"currentColor"}),r.jsx("path",{d:"M14.5 9.5V13.5C14.5 14.0523 14.0523 14.5 13.5 14.5H9.5",stroke:"currentColor"}),r.jsx("circle",{cx:"8",cy:"8",r:"3",fill:"currentColor"})]}),_ot=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:[r.jsx("g",{clipPath:"url(#clip0_268_113)",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.9498 3.69975L12.2426 2.99265L8 7.23529L3.75735 2.99265L3.05025 3.69975L7.29289 7.9424L3.05026 12.185L3.75737 12.8921L8 8.64951L12.2426 12.8921L12.9497 12.185L8.70711 7.9424L12.9498 3.69975Z",fill:"currentColor"})}),r.jsx("defs",{children:r.jsx("clipPath",{id:"clip0_268_113",children:r.jsx("rect",{width:"16",height:"16",fill:"currentColor"})})})]}),xj=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{d:"M4 7.19057L7.49509 11L13 5",stroke:"currentColor"})}),vot=s=>r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",id:"icon",style:s,children:[r.jsx("path",{d:"M8.99997 13L14 8L8.99997 3",stroke:"currentColor"}),r.jsx("line",{y1:"-0.5",x2:"12",y2:"-0.5",transform:"matrix(-1 -8.74228e-08 -8.74228e-08 1 14 8.5)",stroke:"currentColor"})]}),yot=r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.6465 4.64647L16.6465 9.64647L17 10L16.6465 10.3536L11.6465 15.3536L10.9394 14.6465L15.0858 10.5001L3.29291 10.5001L3.29291 9.50006L15.0858 9.50006L10.9394 5.35358L11.6465 4.64647Z",fill:"currentColor"})}),bot=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 15C11.866 15 15 11.866 15 8C15 4.13401 11.866 1 8 1C4.13401 1 1 4.13401 1 8C1 11.866 4.13401 15 8 15ZM7.57572 10.3536L11.0757 6.85355L10.3686 6.14645L7.22217 9.29289L5.35355 7.42428L4.64645 8.13139L6.86861 10.3536L7.22217 10.7071L7.57572 10.3536Z",fill:"currentColor"})}),Cot=r.jsx("svg",{width:"24",height:"32",viewBox:"0 0 24 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{d:"M22.7519 16.832L1.5547 30.9635C0.890146 31.4066 0 30.9302 0 30.1315L0 1.86852C0 1.06982 0.890145 0.59343 1.5547 1.03646L22.7519 15.1679C23.3457 15.5638 23.3457 16.4362 22.7519 16.832Z",fill:"white"})}),S5=r.jsxs("svg",{viewBox:"0 0 159 139",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("path",{d:"M91.4999 58.6186L134.908 3.45313V79.256L91.4999 58.6186Z",fill:"#3A3A3A"}),r.jsx("path",{d:"M91.4999 58.6186L134.908 3.45313V79.256L91.4999 58.6186Z",fill:"url(#paint0_linear_65_35423)",fillOpacity:"0.3"}),r.jsx("path",{d:"M158.5 56.0831L134.909 3.45312V79.256L158.5 56.0831Z",fill:"#313131"}),r.jsx("circle",{cx:"35.4151",cy:"34.9739",r:"34.9153",fill:"#353535"}),r.jsx("circle",{cx:"35.4151",cy:"34.9739",r:"34.9153",fill:"url(#paint1_radial_65_35423)",fillOpacity:"0.4"}),r.jsx("circle",{cx:"35.4151",cy:"34.9739",r:"34.9153",fill:"url(#paint2_radial_65_35423)",fillOpacity:"0.2"}),r.jsx("path",{d:"M51.6804 96.5422C52.8087 105.537 57.8326 121.111 77.6473 124.987C97.4619 128.864 111.085 117.518 114.326 109.668",stroke:"#272727",strokeWidth:"12",strokeLinecap:"round",strokeLinejoin:"round"}),r.jsx("path",{d:"M51.6804 96.5422C52.8087 105.537 57.8326 121.111 77.6473 124.987C97.4619 128.864 111.085 117.518 114.326 109.668",stroke:"url(#paint3_radial_65_35423)",strokeOpacity:"0.2",strokeWidth:"12",strokeLinecap:"round",strokeLinejoin:"round"}),r.jsx("path",{d:"M51.6804 96.5422C52.8087 105.537 57.8326 121.111 77.6473 124.987C97.4619 128.864 111.085 117.518 114.326 109.668",stroke:"url(#paint4_radial_65_35423)",strokeOpacity:"0.2",strokeWidth:"12",strokeLinecap:"round",strokeLinejoin:"round"}),r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"paint0_linear_65_35423",x1:"103.767",y1:"18.2147",x2:"124.608",y2:"65.3829",gradientUnits:"userSpaceOnUse",children:[r.jsx("stop",{stopColor:"white",stopOpacity:"0.71"}),r.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),r.jsxs("radialGradient",{id:"paint1_radial_65_35423",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(28.1913 21.7301) rotate(58.0919) scale(37.5845 40.2611)",children:[r.jsx("stop",{stopColor:"white"}),r.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),r.jsxs("radialGradient",{id:"paint2_radial_65_35423",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(23.9774 22.3321) rotate(51.2345) scale(50.956)",children:[r.jsx("stop",{}),r.jsx("stop",{offset:"1",stopOpacity:"0"})]}),r.jsxs("radialGradient",{id:"paint3_radial_65_35423",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(87.1124 87.6704) rotate(69.5103) scale(54.3545 53.8663)",children:[r.jsx("stop",{offset:"0.576118",stopColor:"white",stopOpacity:"0"}),r.jsx("stop",{offset:"0.706667",stopColor:"white"}),r.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),r.jsxs("radialGradient",{id:"paint4_radial_65_35423",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(51.3653 96.7528) rotate(70.7339) scale(19.0764 9.21083)",children:[r.jsx("stop",{stopColor:"white"}),r.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]})]})]}),wot=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{d:"M6.765 10.56L6.705 8.14501H7.17C7.73 8.14501 8.25 8.09001 8.73 7.98001C9.22 7.87001 9.615 7.65501 9.915 7.33501C10.215 7.01501 10.365 6.53501 10.365 5.89501C10.365 5.27501 10.17 4.78501 9.78 4.42501C9.4 4.06501 8.895 3.88501 8.265 3.88501C7.625 3.88501 7.12 4.06001 6.75 4.41001C6.38 4.76001 6.195 5.23001 6.195 5.82001H4.995C4.995 5.22001 5.13 4.69501 5.4 4.24501C5.68 3.79501 6.065 3.44501 6.555 3.19501C7.045 2.94501 7.615 2.82001 8.265 2.82001C8.915 2.82001 9.49 2.94501 9.99 3.19501C10.49 3.44501 10.88 3.80001 11.16 4.26001C11.44 4.72001 11.58 5.26501 11.58 5.89501C11.58 6.63501 11.42 7.23501 11.1 7.69501C10.79 8.15501 10.355 8.49001 9.795 8.70001C9.245 8.91001 8.615 9.01501 7.905 9.01501L7.86 10.56H6.765ZM7.305 13.575C7.055 13.575 6.845 13.495 6.675 13.335C6.515 13.165 6.435 12.96 6.435 12.72C6.435 12.48 6.515 12.28 6.675 12.12C6.845 11.95 7.055 11.865 7.305 11.865C7.555 11.865 7.76 11.95 7.92 12.12C8.08 12.28 8.16 12.48 8.16 12.72C8.16 12.96 8.08 13.165 7.92 13.335C7.76 13.495 7.555 13.575 7.305 13.575Z",fill:"currentColor"})}),xot=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.64645 6.35353L4.35356 5.64642L8.00001 9.29287L11.6465 5.64642L12.3536 6.35353L8.00001 10.7071L3.64645 6.35353Z",fill:"currentColor"})}),ox=r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("path",{d:"M9.33834 1.4166C9.55544 0.787905 10.4446 0.787906 10.6617 1.4166L11.5572 4.01008C11.6274 4.21334 11.7871 4.37307 11.9904 4.44326L14.5839 5.33883C15.2126 5.55592 15.2126 6.44505 14.5839 6.66215L11.9904 7.55772C11.7871 7.62791 11.6274 7.78763 11.5572 7.9909L10.6617 10.5844C10.4446 11.2131 9.55544 11.2131 9.33834 10.5844L8.44277 7.9909C8.37258 7.78763 8.21286 7.62791 8.00959 7.55772L5.41611 6.66215C4.78742 6.44505 4.78742 5.55592 5.41611 5.33883L8.00959 4.44326C8.21286 4.37307 8.37258 4.21334 8.44277 4.01008L9.33834 1.4166Z",fill:"url(#paint0_linear_595_25480)"}),r.jsx("path",{d:"M3.33834 9.4166C3.55544 8.78791 4.44456 8.78791 4.66166 9.4166L5.04387 10.5234C5.11406 10.7267 5.27378 10.8864 5.47705 10.9566L6.58389 11.3388C7.21258 11.5559 7.21258 12.4451 6.58389 12.6621L5.47705 13.0444C5.27378 13.1145 5.11406 13.2743 5.04387 13.4775L4.66166 14.5844C4.44456 15.2131 3.55544 15.2131 3.33834 14.5844L2.95613 13.4775C2.88594 13.2743 2.72622 13.1145 2.52295 13.0444L1.41611 12.6621C0.787418 12.4451 0.787418 11.5559 1.41611 11.3388L2.52295 10.9566C2.72622 10.8864 2.88594 10.7267 2.95613 10.5234L3.33834 9.4166Z",fill:"url(#paint1_linear_595_25480)"}),r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"paint0_linear_595_25480",x1:"3.5",y1:"-0.499512",x2:"18.3958",y2:"12.5005",gradientUnits:"userSpaceOnUse",children:[r.jsx("stop",{stopColor:"#78AEFF"}),r.jsx("stop",{offset:"1",stopColor:"#A281FF"})]}),r.jsxs("linearGradient",{id:"paint1_linear_595_25480",x1:"-0.5",y1:"7.50049",x2:"9.8125",y2:"16.5005",gradientUnits:"userSpaceOnUse",children:[r.jsx("stop",{stopColor:"#78AEFF"}),r.jsx("stop",{offset:"1",stopColor:"#A281FF"})]})]})]}),Eot=r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",id:"icon",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 2C2.44772 2 2 2.44772 2 3V13C2 13.5523 2.44772 14 3 14H13C13.5523 14 14 13.5523 14 13V10H13V13H3V3H6V2H3ZM13.5175 2L9 2V3L12.3077 3L7.647 7.64588L8.35298 8.35411L13.0175 3.7044L13.0175 6.99999H14.0175L14.0175 2.5L14.0175 2L13.5175 2Z",fill:"currentColor"})}),Sot=r.jsx("svg",{width:"200",height:"211",viewBox:"0 0 200 211",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{d:"M113.136 100.062V100.062V100.345V100.786L113.573 100.841C116.905 101.265 119.5 104.145 119.5 107.64V123.278C119.5 127.064 116.455 130.137 112.727 130.137H87.2727C83.5453 130.137 80.5 127.064 80.5 123.278V107.64C80.5 104.147 83.0954 101.265 86.4272 100.841L86.8641 100.786V100.345V94.7658C86.8641 87.4142 92.7505 81.4668 100.001 81.4668C107.252 81.4668 113.138 87.415 113.138 94.7656C113.138 94.7657 113.138 94.7658 113.138 94.7658L113.136 100.062ZM107.274 100.781H107.774V100.281V94.7658C107.774 90.4385 104.292 86.9066 100.001 86.9066C95.7102 86.9066 92.2282 90.4385 92.2282 94.7658V100.281V100.781H92.7282H107.274ZM102.319 120.978V115.682C103.41 114.933 104.137 113.679 104.137 112.239C104.137 109.935 102.292 108.059 100.001 108.059C97.7102 108.059 95.8646 109.935 95.8646 112.239C95.8646 113.679 96.5921 114.933 97.6828 115.682V120.978C97.6828 122.265 98.7147 123.318 100.001 123.318C101.287 123.318 102.319 122.265 102.319 120.978Z",stroke:"white",strokeOpacity:"0.4"})}),Hr=(s,t,e=null,i=!0)=>{function n(){s!==null&&be.open({id:_t(),icon:r.jsx(ko,{}),...s})}function o(){t!==null&&be.open({id:_t(),...t})}function a(){e!==null&&be.open({id:_t(),...e})}return i&&n(),{load:n,success:o,fail:a}},pw=(s,t=3e3)=>{s&&be.open({id:_t(),icon:r.jsx("span",{className:"text-lime-alpha-40",children:bot}),text:s,options:{visibleTime:t}})};var Iot=Object.defineProperty,Aot=(s,t,e)=>t in s?Iot(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Tot=(s,t,e)=>(Aot(s,t+"",e),e);const Pot={maxAttempts:3,delayMs:1e3};class Oot{constructor(){Tot(this,"_graphQLClient"),this._graphQLClient=uL()}graphql(t,e){try{return this._graphQLClient.graphql(t,e)}catch(i){throw console.error(i),i}}cancel(t,e){return this._graphQLClient.cancel(t,e)}isCancelError(t){return this._graphQLClient.isCancelError(t)}graphqlWithRetry(t,e,i=Pot){let n=0;const o=async()=>{try{return await this.graphql(t,e)}catch(a){if(!(a instanceof Error))throw a;if(n<i.maxAttempts-1)return n++,U.error(`Attempt ${n} failed: ${a.name}. Retrying in ${i.delayMs}ms...`),await Lot(i.delayMs),o();throw a}};return o()}}const Mot=new Oot;function hr(){return Mot}const Lot=s=>new Promise(t=>setTimeout(t,s)),$g=s=>{const t=hr(),e=new AbortController,i=e.signal;return{stop:()=>{s!==null&&(e.abort(),t.cancel(s))},start:async()=>s===null?Promise.reject("No promise"):new Promise((a,l)=>{s.then(c=>{a(c)}).catch(c=>l(c)),i.addEventListener("abort",()=>{l("Aborted")})})}};function I5(s){const t=s.offsetWidth,e=s.offsetHeight,i=t/e;return[t,e,i]}var Ej=(s=>(s.VISIBLE="visible",s.HIDDEN="hidden",s))(Ej||{});const Qd={error:Rot,graphqlError:Not,isOffline:!1,saveOfflineChanges:async s=>{},revivePresence:()=>{},refreshFileSubscriptions:()=>{}};let V4=!1,rx=0;function Rot(s){var t,e,i;((i=(e=(t=s.error)==null?void 0:t.error)==null?void 0:e.errors[0])==null?void 0:i.message)==="Connection closed"&&(document.visibilityState==="visible"?Qd.refreshFileSubscriptions():V4=!0)}function Not(s){var t,e;!s.errors||!s.errors.length||((e=(t=s.errors[0].originalError)==null?void 0:t.response)==null?void 0:e.status)===429||Sj()}function Sj(){be.open({id:"editor-offline",text:"Unstable internet connection",options:{visibleTime:1/0}})}function Ij(){V4&&(V4=!1,Qd.refreshFileSubscriptions())}window.addEventListener("offline",()=>{Qd.isOffline=!0,rx===0&&(rx=Date.now()),Sj()});window.addEventListener("online",async()=>{Qd.isOffline=!1,Ij(),await Qd.saveOfflineChanges(rx),rx=0,be.close()});window.addEventListener("error",s=>{Qd.error(s),Ft("error",s)});window.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&Ij()});const Rb=(s,t,e=!0,i=!1)=>{const n=m.useRef(s);m.useEffect(()=>{n.current=s},[s]),m.useEffect(()=>{var a;if(!t&&t!==0)return;e&&((a=n.current)==null||a.call(n));const o=setInterval(async()=>{var l;if(!(i&&document.visibilityState!==Ej.VISIBLE))try{(l=n.current)==null||l.call(n)}catch(c){if(c.name&&c.name.includes("ExpiredTokenException")){U.info("Expired Auth token - redirecting to sign in page"),await Vn.getInstance().signOut();return}throw U.debug("Error in useInterval.ts",c),c}},t);return()=>clearInterval(o)},[s,t,e,i])},jot=(s,t)=>{const e=m.useRef(s);m.useEffect(()=>{e.current=s},[s]),m.useEffect(()=>{if(t==null||t===1/0)return;const i=setTimeout(()=>{var n;return(n=e.current)==null?void 0:n.call(e)},t);return()=>clearTimeout(i)},[s,t])},tc=(s,t,e="mousedown")=>{const i=m.useCallback(n=>{const o=s==null?void 0:s.current;!o||o.contains(n.target)||t==null||t(n)},[t,s]);m.useEffect(()=>(window.addEventListener(e,i),()=>{window.removeEventListener(e,i)}),[i,e])},g7=({children:s})=>r.jsx("div",{className:"flex h-full w-full items-center justify-center bg-black",children:r.jsx("div",{className:"flex rounded-lg bg-gray-90",children:s})});function Ze(s){const t={...s};let e=s.children;return s.weight==="strong"&&(e=r.jsx("b",{children:e})),r.jsx("div",{...t,className:W("text-body1",s.color&&`text-${s.color}-color`,s.className),children:e})}const Aj=({onHoverChange:s,onHoverStart:t,onHoverEnd:e,className:i,children:n,id:o,isDisabled:a})=>{const{hoverProps:l}=Ao({onHoverChange:s,onHoverStart:t,onHoverEnd:e,isDisabled:a});return m.createElement("div",{...hn({...l,id:o}),className:i,style:i?{}:{display:"contents"},key:o,id:o!=null?`hover-trigger-${o}`:void 0,"data-hover-id":o},n)},Dot="_svgContainer_xmb38_1",Fot="_inheritFill_xmb38_1",C9={svgContainer:Dot,inheritFill:Fot},De=s=>{const{variant:t="primary",children:e,shouldInvert:i,shouldInheritFill:n=!0}=s;return r.jsx("span",{className:W(t!=="colored"&&C9.svgContainer,i&&"invert",n&&C9.inheritFill,t==="primary"&&"fill-icon text-text",t==="secondary"&&"fill-icon-secondary text-text-secondary",t==="tertiary"&&"fill-icon-tertiary text-icon-tertiary",t==="tooltip"&&"fill-gray-100 text-gray-100",t==="component"&&"fill-teal text-teal",t==="warning"&&"fill-orange text-orange",t==="active"&&"fill-primary text-primary"),children:e})};function Ys({label:s,children:t,size:e="md",variant:i,isDisabled:n,icon:o,shouldInheritFill:a,className:l,listClassName:c,selectChevronVariant:h,valueContent:d,...u}){const{items:f,...p}=u;return r.jsx(NX,{"aria-label":u["aria-label"]??s,...p,className:W(u.isReadOnly&&"pointer-events-none text-gray-30"),children:({isOpen:g})=>r.jsxs(r.Fragment,{children:[r.jsx(Tj,{isOpen:g,size:e,className:W("pl-2",l),children:({isHovered:_,...v})=>r.jsxs(r.Fragment,{children:[r.jsx(Bot,{isOpen:g,isHovered:_,valueContent:d,...v,...u}),r.jsx(J8,{variant:h??(_||g?"primary":"secondary"),size:e})]})}),r.jsx(xm,{className:"mousetrap min-w-[var(--trigger-width)] max-w-[250px] rounded border border-border bg-panel shadow-menu",crossOffset:0,children:r.jsx(jX,{className:W("overflow-y-auto",c??""),items:f,children:t})})]})})}function Tj({size:s,isOpen:t,children:e,className:i}){return r.jsx(Na,{className:({isPressed:n,isHovered:o,isFocusVisible:a})=>W("group box-border w-full min-w-0 cursor-default",s==="sm"&&"h-sm",s==="md"&&"h-md",s==="lg"&&"h-lg","flex grow items-center","overflow-hidden text-ellipsis whitespace-nowrap","fill-icon","hover:bg-hovered hover:shadow-hover",o&&"bg-hovered shadow-hover",n&&"bg-pressed",t&&"bg-pressed shadow-pressed",a&&"shadow-focus",i),children:e})}function se({id:s,textValue:t,children:e,className:i,onHoverStart:n,onHoverEnd:o,isReadOnly:a,isVisuallyDisabled:l}){return r.jsx(fL,{className:({isHovered:c,isPressed:h,isFocusVisible:d,isDisabled:u})=>W("relative flex h-8 w-full items-center rounded bg-none text-left outline-none",!u&&c&&"bg-hovered",!u&&h&&"bg-pressed",d&&"shadow-focus",(u||a||l)&&"opacity-50",i),id:s,textValue:t,"aria-label":t,children:({isSelected:c,isDisabled:h})=>r.jsxs(Aj,{className:"flex h-full w-full flex-row items-center",id:s,onHoverStart:n,onHoverEnd:o,isDisabled:h,children:[r.jsx("div",{className:"h-4 w-7.5 shrink-0 pl-2 pr-1.5",children:c&&r.jsx(De,{children:ps})}),r.jsx("span",{"aria-label":t,className:"w-full overflow-hidden text-ellipsis whitespace-nowrap pr-2 text-left",children:e||t})]})},s)}function rm(s){const{icon:t,label:e}=s;return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(De,{...s,children:t}),r.jsx("span",{className:"overflow-hidden text-ellipsis whitespace-nowrap pr-2 text-left",children:e})]})}function Bot({variant:s,isDisabled:t,isHovered:e,isOpen:i,valueContent:n=a=>r.jsx(kot,{...a,...o}),...o}){return r.jsx(DX,{className:W("flex max-w-[calc(100%_-_12px)] overflow-hidden text-ellipsis whitespace-nowrap after:inline-block after:w-[1px] after:content-[''] group-hover:grow",e&&"grow",i&&"grow",s==="title"&&"font-bold leading-8 tracking-wide",t&&"opacity-50"),children:n})}function kot({label:s,icon:t,shouldInheritFill:e,selectedText:i,...n}){return r.jsx("div",{children:t?r.jsx(rm,{icon:t,label:i??s??"None"}):i??s??"None"})}const Got=({children:s,isActive:t,isQuiet:e,size:i="sm",rounded:n=!0,className:o,isNew:a,variant:l,isReadOnly:c,...h},d)=>r.jsx(Na,{ref:d,className:({isHovered:u,isPressed:f,isFocusVisible:p,isDisabled:g})=>W("flex flex-shrink-0 items-center justify-center",u&&!f&&!p&&!(!e&&t)&&"bg-hovered",f&&!t&&"bg-active",(t&&!e||a)&&"bg-primary",l==="secondary"&&!f&&!t&&"bg-secondary",t&&e&&"bg-active",p&&"shadow-focus",g&&"pointer-events-none opacity-30",n&&"rounded-sm",i==="sm"&&"h-8 w-8",i==="md"&&"h-10 w-10",c&&"pointer-events-none text-gray-30",c&&t&&"bg-primary opacity-30",o),...h,children:r.jsx(De,{variant:c?"secondary":"primary",shouldInvert:t&&!e||a,children:s})}),As=xe.forwardRef(Got),Vot=a1({base:"flex flex-shrink-0 items-center justify-center whitespace-nowrap",variants:{variant:{primary:"text-black bg-primary",secondary:"bg-secondary text-text-primary"},isDisabled:{true:"pointer-events-none opacity-30"},isHovered:{true:"cursor-pointer"},isFocusVisible:{true:"!outline !outline-2 !-outline-offset-1 !outline-primary"},size:{sm:"h-8",md:"h-10",lg:"h-12"},rounded:{true:"rounded"},isFullWidth:{true:"w-full px-8",false:"px-2"}},defaultVariants:{variant:"primary"},compoundVariants:[{variant:"primary",isHovered:!0,class:"bg-primary/80"},{variant:"secondary",isHovered:!0,class:"bg-hovered"},{variant:"primary",isPressed:!0,class:"bg-primary/60"},{variant:"secondary",isPressed:!0,class:"bg-active"},{size:"lg",rounded:!0,class:"rounded-lg"},{size:"md",rounded:!0,class:"rounded-md"},{size:"sm",rounded:!0,class:"rounded-sm"}]}),Hot=({children:s,isActive:t,isQuiet:e,size:i="sm",rounded:n=!0,className:o,isNew:a,isReadOnly:l,variant:c="primary",isFullWidth:h=!0,...d},u)=>r.jsx(Na,{ref:u,className:bb(o,(f,p)=>Vot({...p,variant:c,className:f,size:i,rounded:n,isFullWidth:h})),...d,children:s}),A5=xe.forwardRef(Hot);function jf(...s){return pL(W(...s))}const Uot=({children:s,isActive:t,isQuiet:e,size:i="md",rounded:n=!0,className:o,isNew:a,isReadOnly:l,...c},h)=>r.jsx(Na,{ref:h,className:({isHovered:d,isPressed:u,isFocusVisible:f,isDisabled:p})=>jf("flex h-8 flex-shrink-0 items-center justify-center gap-1 whitespace-nowrap fill-icon-secondary px-2 text-t-secondary",t&&"bg-active fill-icon text-text",d&&"bg-hovered fill-icon text-text",u&&" bg-pressed",f&&"!outline !outline-2 !-outline-offset-1 !outline-primary",p&&"pointer-events-none opacity-30",n&&"rounded",i==="sm"&&"h-7",i==="md"&&"h-8",o),...c,children:s}),zot=xe.forwardRef(Uot),Pj=a1({base:"",variants:{isFocusVisible:{false:"outline-none",true:"!outline !outline-2 !outline-primary !outline-offset-2"}}}),Yot=a1({base:"",variants:{isHovered:{false:"",true:"shadow-hover"},isFocused:{false:"",true:"shadow-active"},isInvalid:{false:"",true:"shadow-error"},isFocusVisible:{false:"",true:"shadow-focus"}}}),Wot=a1({extend:Pj,base:"flex justify-center items-center cursor-pointer",variants:{variant:{primary:""},isDisabled:{true:"opacity-50 pointer-events-none"}},defaultVariants:{variant:"primary"}});function Xot(s){return r.jsx(Na,{...s,className:bb(s.className,(t,e)=>Wot({...e,variant:s.variant,className:t}))})}function Zot({variant:s,children:t,...e},i){const n=Cb(i);return r.jsx(FX,{className:"flex flex-col gap-1",ref:n,...e,children:t})}const h1=m.forwardRef(Zot),Qi=({delay:s=750,closeDelay:t=250,children:e,...i})=>r.jsx(BX,{delay:s,closeDelay:t,...i,children:e}),Ji=({children:s,offset:t=8,placement:e="bottom",...i})=>r.jsxs(kX,{className:W("pointer-events-none bg-gray-100 p-2 text-center"),offset:t,placement:e,...i,children:[r.jsx(GX,{children:({placement:n})=>r.jsx(De,{variant:"tooltip",children:r.jsx("svg",{width:16,height:16,className:W(n==="top"&&"rotate-0",n==="right"&&"rotate-90",n==="bottom"&&"rotate-180",n==="left"&&"-rotate-90"),children:r.jsx("path",{d:"M0 0,L8 8,L16 0",fill:"bg-gray-100"})})})}),s]}),Kot=({variant:s,icon:t,children:e})=>r.jsxs(Qi,{delay:0,closeDelay:0,children:[r.jsx(Na,{children:r.jsx(De,{variant:s,children:t})}),r.jsx(Ji,{children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(De,{variant:s,children:t}),e]})})]}),Nb=({children:s})=>r.jsx(Kot,{variant:"warning",icon:Q0,children:s}),w9=Symbol("default");function qot(s){const{className:t,style:e,children:i,defaultClassName:n=void 0,defaultChildren:o=void 0,defaultStyle:a,values:l}=s;return m.useMemo(()=>{let c,h,d;return typeof t=="function"?c=t({...l,defaultClassName:n}):c=t,typeof e=="function"?h=e({...l,defaultStyle:a||{}}):h=e,typeof i=="function"?d=i({...l,defaultChildren:o}):i==null?d=o:d=i,{className:c??n,style:h||a?{...a,...h}:void 0,children:d??o,"data-rac":""}},[t,e,i,n,o,a,l])}function Qot(s,t){const e=m.useContext(s);if(t===null)return null;if(e&&typeof e=="object"&&"slots"in e&&e.slots){const i=new Intl.ListFormat().format(Object.keys(e.slots).map(o=>`"${o}"`));if(!t&&!e.slots[w9])throw new Error(`A slot prop is required. Valid slot names are ${i}.`);const n=t||w9;if(!e.slots[n])throw new Error(`Invalid slot "${t}". Valid slot names are ${i}.`);return e.slots[n]}return e}function Jot(s,t,e){const i=Qot(e,s.slot)||{},{ref:n,...o}=i,a=VX(m.useMemo(()=>HX(t,n),[t,n])),l=hn(o,s);return"style"in o&&o.style&&"style"in s&&s.style&&(typeof o.style=="function"||typeof s.style=="function"?l.style=c=>{const h=typeof o.style=="function"?o.style(c):o.style,d={...c.defaultStyle,...h},u=typeof s.style=="function"?s.style({...c,defaultStyle:d}):s.style;return{...d,...u}}:l.style={...o.style,...s.style}),[l,a]}if(typeof HTMLTemplateElement<"u"){const s=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild").get;Object.defineProperty(HTMLTemplateElement.prototype,"firstChild",{configurable:!0,enumerable:!0,get:function(){return this.dataset.reactAriaHidden?this.content.firstChild:s.call(this)}})}const $ot=m.createContext(!1);function trt(s){const t=(e,i)=>m.useContext($ot)?null:s(e,i);return t.displayName=s.displayName||s.name,xe.forwardRef(t)}typeof DocumentFragment<"u"&&new DocumentFragment;const ert=new Set(["form","formAction","formEncType","formMethod","formNoValidate","formTarget","name","value"]),srt=m.createContext({});function irt(s,t){[s,t]=Jot(s,t,srt);const e=s,{buttonProps:i,isPressed:n}=mL(s,t),{focusProps:o,isFocused:a,isFocusVisible:l}=l1(s),{hoverProps:c,isHovered:h}=Ao(s),d=qot({...s,values:{isHovered:h,isPressed:n,isFocused:a,isFocusVisible:l,isDisabled:s.isDisabled||!1},defaultClassName:"cursor-default"});return r.jsx("div",{...Yx(s,{propNames:ert}),...hn(i,o,c),...d,role:"button",tabIndex:0,ref:t,slot:s.slot||void 0,"data-disabled":s.isDisabled||void 0,"data-pressed":e.isPressed||n||void 0,"data-hovered":h||void 0,"data-focused":a||void 0,"data-focus-visible":l||void 0})}const _7=trt(irt);function nrt({children:s,...t},e){return r.jsx("div",{children:s})}function ort({children:s,id:t,className:e,...i},n){return r.jsx("div",{"aria-label":i.textValue,id:String(t),className:e,children:s})}const A_=m.forwardRef(nrt),Df=ort;function rrt({children:s,variant:t,className:e,...i},n){return r.jsx(gL,{ref:n,className:W("rounded-panel border border-border bg-panel shadow-popover",e),...i,children:s})}const jb=xe.forwardRef(rrt);function Db({close:s}){return r.jsxs(Qi,{children:[r.jsx(As,{onPress:s,"aria-label":"Close",children:po}),r.jsx(Ji,{children:"Close"})]})}function art({children:s,label:t,tooltipPlacement:e="bottom",size:i="sm",...n},o){return r.jsxs(Qi,{children:[r.jsx(As,{"aria-label":t,...n,ref:o,size:i,children:s}),r.jsx(Ji,{placement:e,children:t})]})}const cs=xe.forwardRef(art);function lrt({label:s,children:t,icon:e,onOpenChange:i,onHoverStart:n,onHoverEnd:o,className:a,isReadOnly:l,variant:c,shouldMoveIconOnHover:h,...d},u){const[f,p]=m.useState(!1),[g,_]=m.useState(!1),v=m.useCallback(b=>{_(!0),n&&n(b)},[n]),y=m.useCallback(b=>{_(!1),o&&o(b)},[o]);return r.jsxs(_L,{onOpenChange:b=>{p(b),i&&i(b)},...d,children:[r.jsx(As,{ref:u,isActive:f,onHoverStart:v,onHoverEnd:y,className:a,"aria-label":s,isReadOnly:l,isNew:c==="primary",variant:c,children:r.jsx("div",{className:W("flex items-center justify-center gap-1",h&&g&&"transition-transform translate-y-1/4",h&&f&&"translate-y-1/4"),children:e})}),r.jsx(xm,{className:"mousetrap min-w-[var(--trigger-width)] max-w-[250px] rounded border border-border bg-panel shadow-menu",crossOffset:0,children:r.jsx(vL,{...d,children:t})})]})}function An({id:s,textValue:t,icon:e,children:i,className:n,onHoverStart:o,onHoverEnd:a,...l}){return r.jsx(fL,{className:({isHovered:c,isPressed:h,isFocusVisible:d,isDisabled:u})=>W("relative flex h-8 items-center rounded bg-none text-left outline-none",!u&&c&&"bg-hovered",!u&&h&&"bg-pressed",d&&"shadow-focus",u&&"opacity-50",n),id:s,textValue:t,...l,children:({isSelected:c,isDisabled:h})=>r.jsx(Aj,{className:"h-8 px-4 py-2",id:s,onHoverStart:o,onHoverEnd:a,children:r.jsxs("div",{className:"flex h-4 items-center",children:[(c||h||e)&&r.jsxs("div",{className:"w-7.5 shrink-0 pr-1.5",children:[e&&r.jsx(De,{children:e}),c&&!e&&r.jsx(De,{children:ps}),h&&!e&&r.jsx(De,{children:o$})]}),r.jsx("span",{className:"overflow-hidden text-ellipsis whitespace-nowrap text-left",children:i||t})]})})},s)}const ed=xe.forwardRef(lrt),x9=28,E9=20;function crt(s,t){const e=xe.useRef(null),i=xe.useRef(null),n=xe.useRef(null),o=UX(s),{isDisabled:a,onChangeBegin:l}=s,{colorAreaProps:c,gradientProps:h,xInputProps:d,yInputProps:u,thumbProps:f}=zX({...s,inputXRef:e,inputYRef:i,containerRef:n},o),{focusProps:p,isFocusVisible:g}=l1(),_={onPointerDown:v=>{l&&l(),n.current&&n.current.setPointerCapture(v.pointerId)},onPointerUp:v=>{n.current&&n.current.releasePointerCapture(v.pointerId)}};return r.jsxs("div",{ref:n,...hn(_,c),className:"aspect-square w-full",style:{...c.style,opacity:a?.3:void 0},children:[r.jsx("div",{...h,className:"aspect-square w-full",style:{backgroundColor:a?"rgb(142, 142, 142)":void 0,...h.style}}),r.jsxs("div",{...f,style:{...f.style,background:a?"rgb(142, 142, 142)":o.getDisplayColor().toString("css"),border:`2px solid ${a?"rgb(142, 142, 142)":"white"}`,borderRadius:"50%",boxShadow:"0 0 0 1px black, inset 0 0 0 1px black",boxSizing:"border-box",height:g?x9+4:E9,transform:"translate(-50%, -50%)",width:g?x9+4:E9},children:[r.jsx("input",{ref:e,...d,...p}),r.jsx("input",{ref:i,...u,...p})]})]})}const hrt=xe.forwardRef(crt);function drt(s,t){const{color:e,...i}=s;return r.jsx(Na,{ref:t,className:W("flex h-8 w-8 items-center justify-center"),...i,children:r.jsx(frt,{value:e})})}const Oj=xe.forwardRef(drt);function urt(s,t){const{value:e,...i}=s;return r.jsx("div",{ref:t,className:W("relative h-4 w-4 border-none p-0 shadow-inset outline-none"),role:"img",...i,"aria-label":e.toString("css"),style:{backgroundColor:e.toString("css")}})}const frt=xe.forwardRef(urt);function prt(s,t){const{locale:e}=yL(),i=YX({...s,locale:e}),n=xe.useRef(null),o=xe.useRef(null),{onChangeBegin:a}=s,l=s.label||i.value.getChannelName(s.channel,e),{trackProps:c,thumbProps:h,inputProps:d}=WX({...s,label:l,trackRef:n,inputRef:o},i),{focusProps:u,isFocusVisible:f}=l1(),p={onPointerDown:g=>{a&&a(),n.current&&n.current.setPointerCapture(g.pointerId)},onPointerUp:g=>{n.current&&n.current.releasePointerCapture(g.pointerId)}};return r.jsx("div",{className:"flex w-full flex-col items-center",ref:t,children:r.jsxs("div",{className:"relative h-3 w-full rounded-md",style:{forcedColorAdjust:"none"},children:[r.jsx("div",{className:"absolute h-full w-full rounded-lg",style:{backgroundColor:"#fff",backgroundImage:"linear-gradient(45deg, #808080 25%, transparent 25%), linear-gradient(-45deg, #808080 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #808080 75%), linear-gradient(-45deg, transparent 75%, #808080 75%)",backgroundPosition:"0 0, 0 6px, 6px -6px, -6px 0px",backgroundSize:"12px 12px",forcedColorAdjust:"none"}}),r.jsx("div",{className:"relative h-full w-full touch-none rounded-lg",...hn(p,c),ref:n,style:{...c.style}}),r.jsx("div",{...h,className:W("top-1/2 box-border rounded-[50%] border-2 border-white",f?"h-4 w-4":"h-3 w-3"),style:{...h.style,boxShadow:"0 0 0 1px black, inset 0 0 0 1px black",background:i.getDisplayColor().toString("css")},children:r.jsx(SI,{children:r.jsx("input",{ref:o,...d,...u})})})]})})}const S9=xe.forwardRef(prt);function mrt(s,t){const{value:e,hasAlpha:i=!1}=s,[n,o,a]=e.getColorChannels();return r.jsx("div",{className:"flex flex-col",children:r.jsxs("div",{className:"flex w-full flex-col",children:[r.jsx(hrt,{xChannel:o,yChannel:a,...s}),r.jsx(ii,{children:r.jsx(S9,{channel:n,...s})}),i&&r.jsx(ii,{children:r.jsx(S9,{channel:"alpha",...s})})]})})}const Mj=xe.forwardRef(mrt),grt=a1({extend:Pj,base:"hover:underline disabled:no-underline disabled:cursor-default forced-colors:disabled:text-[GrayText] transition rounded hover:cursor-pointer text-gray-10",variants:{variant:{primary:"text-gray-10",secondary:"text-gray-10"}},defaultVariants:{variant:"primary"}});function i_(s){return r.jsx(bL,{...s,className:bb(s.className,(t,e)=>grt({...e,className:t,variant:s.variant}))})}const _rt=a1({base:"",variants:{variant:{error:"text-orange"}},defaultVariants:{variant:"error"}});function vrt({variant:s,...t},e){return r.jsx(XX,{ref:e,className:bb(t.className,(i,n)=>_rt({...n,className:i,variant:s})),...t})}const T_=m.forwardRef(vrt);function yrt({children:s,...t}){return r.jsx(ZX,{className:"flex flex-col gap-4",...t,children:s})}const d1=yrt;function brt({children:s,...t}){return s&&s.length&&r.jsx("p",{className:"flex items-center justify-center text-body2 text-tomato",children:s})||null}const u1=brt;function Crt({children:s,className:t,...e},i){return r.jsx(KX,{ref:i,className:({isEntering:n,isExiting:o})=>jf(`
            w-full max-w-md overflow-hidden rounded-lg border border-border bg-panel p-5 text-left align-middle shadow-popover
            ${n?"animate-in zoom-in-95 ease-out duration-300":""}
            ${o?"animate-out zoom-out-95 ease-in duration-200":""}
          `,t),...e,children:s})}const wrt=m.forwardRef(Crt);function xrt({children:s,className:t,...e},i){return r.jsx(qX,{className:({isEntering:n,isExiting:o})=>jf(`fixed inset-0 z-10 flex min-h-full items-center justify-center overflow-y-auto bg-black/25 p-4 text-center backdrop-blur ${n?"animate-in fade-in duration-300 ease-out":""} ${o?"animate-out fade-out duration-200 ease-in":""}`,t),ref:i,...e,children:s})}const Ert=m.forwardRef(xrt),Lj=m.createContext(void 0),Srt=({children:s})=>{const[t,e]=m.useState(null),[i,n]=m.useState({}),o=(l,c)=>{e(l),c&&n(c)},a=()=>{e(null),n({})};return r.jsxs(Lj.Provider,{value:{showModal:o,hideModal:a},children:[s,r.jsx(Ert,{isOpen:!!t,...i,children:t})]})},Irt=()=>{const s=m.useContext(Lj);if(s===void 0)throw new Error("useStyledModal must be used within a StyledModalProvider");return s};function Rj(s){const{children:t,className:e}=s;return r.jsx(QX,{className:W("flex items-center",e),children:t})}function v7({children:s,className:t,...e}){return r.jsx($X,{className:W(t),...e,children:s})}function H4(s){const{children:t,className:e,...i}=s;return r.jsx(JX,{className:({isSelected:n,isFocusVisible:o,isHovered:a})=>W("flex h-8 items-center justify-center px-2 text-t-secondary",n&&"text-text",a&&"text-text",o&&"!outline !outline-2 !-outline-offset-1 !outline-primary",e),...i,children:t})}const T5=s=>{const{onPress:t,children:e,className:i}=s;return r.jsx(i_,{className:i,onPress:t,children:r.jsx(Ze,{weight:"strong",children:e})})},y7=s=>{const{children:t,className:e}=s;return r.jsx("div",{className:pL("flex flex-col gap-4",e),children:Array.isArray(t)?t.map((i,n)=>r.jsx(I9,{children:i},n)):r.jsx(I9,{children:t})})},Nj=s=>{const{onPress:t,children:e,label:i}=s;return r.jsxs("div",{className:"flex text-body1 text-t-secondary",children:[i,r.jsx(T5,{className:"ml-1",onPress:t,children:e})]})},I9=s=>{const{children:t}=s;return r.jsx("div",{className:"flex w-full items-center justify-center",children:t})},jj=s=>r.jsx(y7,{children:r.jsx(b7,{...s})}),b7=s=>{const{email:t,onCancel:e}=s,i=Ri(),n=m.useCallback(()=>{e?e():i.push(Rt[z.SIGN_IN](t))},[e,i,t]);return r.jsx(T5,{onPress:n,children:"Cancel"})},C7=({children:s})=>r.jsx("div",{className:"flex w-[500px] max-w-full flex-col justify-center gap-6 p-12",children:s}),P_=s=>{const{children:t}=s;return r.jsx("h3",{className:"flex items-center justify-center",children:t})},Art="/logo-unpadded-BGmdzcit.png",w7=()=>{const s=m.useCallback(()=>{window.location.replace(snt)},[]);return r.jsx(Xot,{className:"absolute left-4 top-4 h-[48px] w-[48px]",onPress:s,children:r.jsx("img",{alt:"Logo",src:Art})})},f1=A(({children:s,...t})=>r.jsx(r.Fragment,{children:r.jsx(A5,{size:"md",...t,children:r.jsx(Ze,{color:"black",children:s})})})),Trt=a1({extend:Yot,base:"w-full overflow-hidden text-ellipsis whitespace-nowrap bg-transparent",variants:{variant:{title:"h-7 pl-2 font-bold leading-8 tracking-wide",property:"h-7 flex-grow pl-4",form:"h-12 flex-grow text-body1 pl-4 shadow-border autofill:border-solid autofill:border autofill:border-border autofill:text-white autofill:shadow-autofill autofill:duration-9999 autofill:transition-color autofill:ease-in-out-0 hover:autofill:border-gray-60 focus:autofill:border-gray-40 active:autofill:border-gray-40 data-[focus-visible=true]:!border-lime"}},defaultVariants:{variant:"property"}});function Prt({variant:s,...t},e){const i=Cb(e);return r.jsx(tZ,{ref:i,className:bb(t.className,(n,o)=>Trt({...o,className:n,variant:s})),onPointerDown:n=>n.stopPropagation(),...t})}const Zc=m.forwardRef(Prt);function Fb(s,t){const e=s.safeParse(Object.fromEntries(t));return e.success?{success:!0,data:e.data}:{success:!1,errors:e.error.formErrors}}const Ort=S.object({confirmationCode:S.string().nonempty()}),Mrt=({onSuccess:s})=>{const[t,e]=m.useState(),[i]=CC();return m.useEffect(()=>{Ft("nux-code-verification")},[]),{handleSubmit:m.useCallback(o=>{o.preventDefault();const a=new FormData(o.currentTarget),l=Fb(Ort,a);if(!l.success){e(l.errors);return}const{data:c}=l;e(void 0),s(c)},[s]),errors:t,inputRef:i,onSuccess:s}};function Lrt({onSuccess:s}){const{handleSubmit:t,errors:e,inputRef:i}=Mrt({onSuccess:s});return r.jsxs(d1,{validationErrors:e==null?void 0:e.fieldErrors,onSubmit:t,children:[r.jsxs(h1,{name:"confirmationCode",type:"text",isRequired:!0,"aria-label":"Code",children:[r.jsx(Zc,{ref:i,placeholder:"Code",variant:"form"}),r.jsx(T_,{})]}),r.jsx(f1,{type:"submit",children:"Continue"}),r.jsx(u1,{children:e==null?void 0:e.formErrors})]})}const Rrt=Lrt;function Nrt({email:s,onSuccess:t}){return r.jsxs(r.Fragment,{children:[r.jsx(P_,{children:"Enter reset code"}),r.jsx("div",{className:"mt-4 flex items-center justify-center",children:r.jsxs(Ze,{children:["We sent an email to ",r.jsx("b",{children:s})," with your password reset code."]})}),r.jsx(Rrt,{onSuccess:t})]})}function jrt({name:s="password",label:t="Password",inputRef:e,...i}){return r.jsxs(h1,{name:s,type:"password",isRequired:!0,"aria-label":t,...i,children:[r.jsx(Zc,{ref:e,placeholder:t,variant:"form"}),r.jsx(T_,{})]})}const x7=jrt,E7=S.string().nonempty("Please provide a new password").min(8,"Password must be at least 8 characters"),Drt=S.object({email:S.string().email().nonempty(),confirmationCode:S.string().nonempty(),newPassword:E7});var U4;(s=>{async function t(e){U.trace("PasswordResetPasswordFormAPI.confirmPasswordReset called");try{const{email:i,confirmationCode:n,newPassword:o}=e;return await eZ({username:i,confirmationCode:n,newPassword:o}),{success:!0,data:e}}catch(i){return{success:!1,errors:Frt(i)}}}s.confirmPasswordReset=t})(U4||(U4={}));function Frt(s){if(!(s instanceof Error))return U.error("PasswordResetPasswordFormAPI unknown error",s),{formErrors:["Something went wrong. Please try again."],fieldErrors:{}};switch(s.name){case"LimitExceededException":return{formErrors:["Too many requests. Please try again later."],fieldErrors:{}};case"UserNotFoundException":return{formErrors:[],fieldErrors:{}};case"ConfirmForgotPasswordException":return{formErrors:["Invalid confirmation code or password."],fieldErrors:{}};case"AuthValidationErrorCode":return{formErrors:["Please supply a username, confirmation code, and new password"],fieldErrors:{}};default:return U.error("PasswordResetPasswordFormAPI unhandled error",s),{formErrors:["An unknown problem occured. Please try again."],fieldErrors:{}}}}const Brt=({onSuccess:s})=>{const[t,{toggleOn:e,toggleOff:i}]=ss(!1),[n,o]=m.useState(),[a]=CC();return{handleSubmit:m.useCallback(async c=>{c.preventDefault();const h=new FormData(c.currentTarget),d=Fb(Drt,h);if(!d.success){o(d.errors);return}const{data:u}=d;e();const f=await U4.confirmPasswordReset(u);if(!f.success){if(o(f.errors),Object.keys(f.errors.fieldErrors).length===0&&f.errors.formErrors.length===0){s(u);return}i();return}o(void 0),s(u)},[s,i,e]),errors:n,isProcessing:t,inputRef:a}};function krt({data:s,onSuccess:t}){const{handleSubmit:e,errors:i,inputRef:n,isProcessing:o}=Brt({onSuccess:t});return r.jsxs(d1,{validationErrors:i==null?void 0:i.fieldErrors,onSubmit:e,children:[r.jsx(Zc,{name:"email",value:s.email,type:"hidden"}),r.jsx(Zc,{name:"confirmationCode",value:s.confirmationCode,type:"hidden"}),r.jsx(x7,{inputRef:n,name:"newPassword",label:"New password"}),r.jsx(f1,{type:"submit",isDisabled:o,children:o?"Resetting pasword...":"Reset password"}),r.jsx(u1,{children:i==null?void 0:i.formErrors})]})}const Grt=krt;function Vrt(s){return r.jsxs(r.Fragment,{children:[r.jsx(P_,{children:"Enter your new password"}),r.jsx(Grt,{...s})]})}function Hrt({defaultValue:s,onChange:t,inputRef:e,label:i="Email"}){return r.jsxs(h1,{name:"email",type:"email",isRequired:!0,"aria-label":i,defaultValue:s,onChange:t,children:[r.jsx(Zc,{ref:e,placeholder:i,variant:"form"}),r.jsx(T_,{})]})}const Dj=Hrt,Urt=S.object({email:S.string().email().nonempty()});var z4;(s=>{async function t(e){U.trace("PasswordResetEmailFormAPI.sendPasswordResetCode called");try{const{email:i}=e;return await sZ({username:i}),{success:!0,data:e}}catch(i){return{success:!1,errors:zrt(i)}}}s.sendPasswordResetCode=t})(z4||(z4={}));function zrt(s){if(!(s instanceof Error))return U.error("PasswordResetEmailFormAPI unknown error",s),{formErrors:["Something went wrong. Please try again."],fieldErrors:{}};switch(s.name){case"LimitExceededException":return{formErrors:["Too many requests. Please try again later."],fieldErrors:{}};case"UserNotFoundException":return{formErrors:[],fieldErrors:{}};default:return U.error("PasswordResetEmailFormAPI unhandled error",s),{formErrors:["An unknown problem occured. Please try again."],fieldErrors:{}}}}const Yrt=({onSuccess:s})=>{const[t,{toggleOn:e,toggleOff:i}]=ss(!1),[n,o]=m.useState(),[a]=CC();return{handleSubmit:m.useCallback(async c=>{c.preventDefault();const h=new FormData(c.currentTarget),d=Fb(Urt,h);if(!d.success){o(d.errors);return}const{data:u}=d;e();const f=await z4.sendPasswordResetCode(u);if(!f.success){if(o(f.errors),Object.keys(f.errors.fieldErrors).length===0&&f.errors.formErrors.length===0){s(u);return}i();return}o(void 0),s(u)},[s,i,e]),errors:n,isProcessing:t,inputRef:a}};function Wrt({initialEmail:s,onEmailChange:t,onSuccess:e}){const{handleSubmit:i,errors:n,inputRef:o,isProcessing:a}=Yrt({onSuccess:e});return r.jsxs(d1,{validationErrors:n==null?void 0:n.fieldErrors,onSubmit:i,children:[r.jsx(Dj,{defaultValue:s,inputRef:o,onChange:t}),r.jsx(f1,{type:"submit",isDisabled:a,children:a?"Sending email...":"Send confirmation code"}),r.jsx(u1,{children:n==null?void 0:n.formErrors})]})}const Xrt=Wrt;function Zrt(s){const t=gC(),e=m.useMemo(()=>t.get("email"),[t]),i=m.useMemo(()=>e?vN(e):"",[e]),[n,o]=m.useState(i??""),[a,l]=m.useState(""),[c,h]=m.useState(gg.EMAIL),d=p=>{o(p),h(gg.VERIFICATION_CODE)},u=({confirmationCode:p})=>{h(gg.PASSWORD),l(p)},f=()=>{window.location.assign(Rt[z.SIGN_IN]())};return r.jsxs(g7,{children:[r.jsx(w7,{}),r.jsxs(C7,{children:[c===gg.EMAIL&&r.jsx(Krt,{initialEmail:i,onEmailChange:o,onSuccess:d,...s}),c===gg.VERIFICATION_CODE&&r.jsx(Nrt,{email:n,onSuccess:u}),c===gg.PASSWORD&&r.jsx(Vrt,{data:{email:n,confirmationCode:a},onSuccess:f}),r.jsx(jj,{email:n})]})]})}function Krt(s){const{onSuccess:t,initialEmail:e,onEmailChange:i}=s;return r.jsxs(r.Fragment,{children:[r.jsx(P_,{children:"Enter your email to reset password"}),r.jsx(Xrt,{initialEmail:e,onEmailChange:i,onSuccess:({email:n})=>t(n)})]})}const qrt="/bezi_connect_bg-DduhG9OC.png",O_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJsAAACbCAYAAAB1YemMAAAACXBIWXMAAALFAAACxQGJ1n/vAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAgVSURBVHgB7d1NbBRlHMfxHy8iaAsIJhA0MAQQA1EgNCEmKFsvkiAo8WLgwHIADCZSPelF2pMkooIHeTtQjJSYqIWCxsRD11AvpEABISlpwlBjKdGWlrYRlgLOf6dbprOzsLQ7M88z8/skk9Jpu03gyzPPvC5AREREREREREREREREREREREREREREREREREREREREREREQRgF8pthLQlrWTTw58kD67us5Zy1NFlLauBzoscmQVVYS7213C9wqYUdJVHBktZyA4VH5l4kUANEDyGj2UE8JKSSGcbgMq508qOiq0DEcM5WHAbszeBi50orKMxdk8TMxFuYMn9x5nOnzuamzNJy/BDaG1Ner1tpLVWICMY2clLQWbg2fQvWbcPi9ypzAstHYmvYvhG9bab7S5WISHBjQCO1B46JvcS1YscRLFhfgTFPji/4RaxNa+ZnRPvp351fSliLCXvPVWuMbWSSsEeeDAlt5YF6TC9LYLiyP+sR3PfQ/PBIFDajsp3aBvsfPozfPbidfP3LWswsfxvFcGrnh7h0eJdzVbW1bITGdI/NgCKHCmRHYHnVQRRLuqcLde8ucc/hZsPepGpJ582oAUVCk/mWhFbozkAhZL4nr9eaOuZc3Q37bIOWdB3ZDDwktOScCfDT0b9uoyt9b/DzYo9qTjWvPZMZ5QaYsEc3LY2Ffgw8YkQ7+Eop/JRqT1uxPfh87uoN8IuE7Ji7GQOLCQ2Nhl4MuEIzpo5DYl4JwjSSvc9HmfLCIveqxdCUTrEZ8Ait/oO5mY9hkTMDfvII2YCmdInNQL7QpoQXmijmTkGBAv+FxaJDbAYUDY0ej+qxGVA8NI9zmUXl2BPN0vYsgsqxGdBgRJPYPIIo3utfu+pe1QRNqRqbAY02nXKZkF9a64+6VzG2IjKg2RxNrkfzi3UGwTlsSmjcjBaJAQ13Blrqqn2Zu8nrpm/ecO597obGVIrNgMZ7nXKVRjFJvE37cq6ZTEFjKsWm9eENmVtdqinewONx1a68uAmNqRJbEhE4jnbq84qizN8kNNc9Caa17ILmVInNcH5Su2m2tgdsGz5Nem3+CiKHUH7dVJ6Zq7msheajmlDy0MfkCXpfrd60txI/rJqd746pHBKZbILz/IxMBrU93OGk4yVGWpD5loxSciJdLhWXqzect/PJ1+X4nNxrkNnr9D4wLKFpv/nMYmw+k5Gq0BHOw1ew768wYR9fk7tgss8G0Q5jU5+BB3Pa7N00Ep6cWjg28FELul08STbZFidh34V/BeHcWfbYOLKN0IxZ41G23L9LzNpab6Gnux/N53vzfYsB+xkj22HfOV8NRTG2EZoxczwq98xHEBpPduHyhT4cr2n3is+AHd0K2NGZUAw3oxope3Uy1m19DkcaluLEn8uwev10r29Lwj4bo9y9CoxNUzKiVlkjap7oDNgPu/Hvtq9hYGyay0Ynm3KZP7pUQ6HgGFtErLFGt/0/L8L8l3Nua6yGIsExtgiRUU6CW71+mvtLchYi9DkcY4uY0kljrc3qiyh/81nnajk2U4uQbwNkbBElczjXJtWAfSwuNIwtomSE+6JmYeajgzzaMoGQMLYIkznclk9muVeHNroxtohbt/X5zMFghwRCGt0YWwxs/liN0Y2xxYCMbB6jm4GAMbaY8BjdkggYY4sJGdlce6YrEDDGFiOJoQd6Ewj4IC9ji5Glyye5VwV6Couxxcj8l3JO0jM28ofHJUgGAsTYYkR2EOSsgsMkBIixxZuBADE2Cgxjo8AwtpiRe1AduhEgxhYjEporNhMBYmwx0ny+z73KRIAYW4xcvpBzF32gz31jbDFyuiHnGXCMjYpP5mr1J/51rkoh4PdUYGwx4QpN+PdOIXkwtpjY/1nOe2ClEDDGFgN1h9szz3lzqEYIj9RibDHgMaoN79n5I8TYIm6fFZoKo5pgbBHWdvWWFZvpXh3KqCYYW0RJaJtXnXOvDvXxp4wtgrKhuTafcgC3EiFibBGTJzQT9vtfhYqxRYg8QdwjNDlLUA4Fnh7O2CKi5pu/lQ5N8H0QNNd4shv7d5iZ90hwyYamzDv6MTYN9XT1o/lCX77IhHKhCcamibart9HYcANnGrozJ9VdV9w6KRmaiGRs5b/5e+WM2Xd38M/ZSblfZA4me5gFUjY0oX1sZkcaqctDr0BNXU8jKDLC5NmUBU3p0ITWe6MSWvnXLTA7g4tLUcqHJrQd2fKFNuMJ+KrtTu660un+/DWOKxllLaNRMn0Mps6xf8eZQ71I995zfpsWoQktY8sXWtU0YM1E+Gb7daDOFduy9ydi4TtPw2+97Xfxy0cd2oYmtNuMhhrazaHrlmwoDTQ0+eigVWhCq9jCCm3nP96hLdlQAr9FJTShTWxhhbavAzjs2tlkaMOjRWxhhra3c+g6hjZ8ysfG0AZpHZpQOjaGNkj70ISyscUxtM6WO5ENTSh5nE1C2/hda6xCu/hjH85qfMC2EErGtvbAFXT9N+R/d2RDa29K4+y3PbjWlHPKzYR9KXckQhNKxhb10NK9963IbuPiT31ekQkJTEIzESHKn67aMgUoe8o6J9kPXxzvzg1t3soJmPfGBPfcaURkPtZz/S5a/7iFjpZ+9+bSaTfsu6CUuJQkiiqt5X7Ml3qE+JbaQeCVuuFLwb55OIWIUyU2E/Ehm0eZkx2D/dyN2GwuR0EdSYTw7r4BMfEgMhNERERERERERERERERERERERERERERERERERERERERERERERERERBRr/wP84I0mTT4t7QAAAABJRU5ErkJggg==";function K(s){let t=s.children;return s.weight==="strong"&&(t=r.jsx("b",{children:t})),s.color!=null?r.jsx("div",{className:`text-body2 text-${s.color}-color ${s.className??""} ${s.nowrap?"":"overflow-hidden text-ellipsis whitespace-nowrap"}`,id:s.id,"aria-label":s["aria-label"]??"text-body2",children:t}):r.jsx("div",{className:`text-body2 ${s.className??""} ${s.nowrap?"":"overflow-hidden text-ellipsis whitespace-nowrap"}`,id:s.id,"aria-label":s["aria-label"]??"text-body2",children:t})}function n_(s){return r.jsx("h2",{className:s.className,id:s.id,children:s.children})}const Qrt="_connectCodeContainer_13hxg_1",Jrt={connectCodeContainer:Qrt,"connect-code-horizontal-shake":"_connect-code-horizontal-shake_13hxg_1"},$rt=()=>{const[s,t]=m.useState(!1),[e,i]=m.useState(!1),[n,o]=m.useState(""),{connectController:a}=Pt(),l=p=>{(n.length===6||p.length===6)&&f(p)},c=p=>{o(p)},h=m.useMemo(()=>n.length,[n]),d=m.useMemo(()=>h===6,[h]),u=m.useCallback(()=>{o("")},[]),f=m.useCallback(async p=>{await a.tryOpenProject(p)?i(!0):t(!0)},[a]);return m.useEffect(()=>{e&&setTimeout(()=>{i(!1),u()},1e3)},[e,u]),m.useEffect(()=>{s&&setTimeout(()=>{t(!1),u()},1e3)},[s,u]),r.jsxs("div",{className:"h-full w-full",children:[r.jsxs("div",{className:"absolute left-6 top-6 flex items-center justify-start",children:[r.jsx("img",{className:"h-16 w-16",src:O_,alt:"logo"}),r.jsx(n_,{children:"Bezi"})]}),r.jsx("div",{className:"flex h-full w-full items-center justify-center",children:r.jsxs("div",{className:W("flex h-155 w-250 flex-col items-center justify-center","bg-no-repeat","md:flex-row"),style:{backgroundImage:`url(${qrt})`,backgroundPositionX:"70%"},children:[r.jsx("div",{className:"flex h-full grow items-center justify-center",children:r.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[r.jsxs(n_,{className:"w-full pb-4 text-left",children:["Quickly open Bezi",r.jsx("br",{}),"projects in your",r.jsx("br",{}),"headset"]}),r.jsx("h4",{className:"w-full text-left text-gray-20",children:"Two easy steps..."}),r.jsxs("h4",{className:"w-full text-left text-gray-20",children:["1. In your Bezi project, navigate to the",r.jsx("br",{}),"Headset option under the Play button.",r.jsx("br",{}),r.jsx("br",{}),"2. Enter the 6 digit code here."]})]})}),r.jsxs("div",{className:"flex grow flex-col items-center justify-center gap-4",children:[r.jsxs("div",{className:W("relative flex items-center justify-center gap-2",s&&Jrt.connectCodeContainer),children:[r.jsx(tat,{isSubmitted:s||e,isFocused:!0,onChange:c,onSubmit:l,isReset:!d}),r.jsx("div",{className:W("flex items-center justify-center gap-2"),children:Object.keys(Array.from({length:6})).map((p,g)=>r.jsx("div",{className:"flex",children:r.jsx(eat,{isActive:h===g})},g))})]},s?"invalid":"valid"),r.jsxs("div",{className:"h-5 w-fit",children:[s&&r.jsx(Ze,{className:"text-center text-orange",weight:"strong",children:"Invalid code."}),e&&r.jsx(De,{variant:"component",children:DR})]}),r.jsx("div",{className:"w-31 flex items-center justify-center",children:r.jsx(Tt,{variant:"primary",size:"lg",onClick:()=>f(n),className:W("rounded-full",!d&&"pointer-events-none",!d&&"opacity-50"),children:r.jsxs("div",{className:"flex items-center justify-center gap-4",children:[r.jsx(Ze,{children:"Open Project"}),r.jsx(De,{variant:"primary",shouldInvert:!0,children:bR})]})})})]})]})}),r.jsxs("div",{className:"absolute bottom-6 left-6 flex h-3 w-full items-center justify-start gap-4",children:[r.jsx(K,{className:"text-left text-gray-10",children:"Built by 3D people in San Francisco"}),r.jsx("div",{className:"h-full border-l border-solid border-border"}),r.jsx(K,{className:"text-left text-gray-10",children:"hello@bezi.com"}),r.jsx("div",{className:"h-full border-l border-solid border-border"}),r.jsx(K,{className:"text-left text-gray-10",children:" 2024 Bezi, Inc."})]})]})},tat=({isSubmitted:s,isFocused:t,isReset:e,onChange:i,onSubmit:n})=>{const[o,a]=m.useState(""),l=m.useRef(null);m.useEffect(()=>{var d;t&&((d=l.current)==null||d.focus())},[t,l]);const c=m.useCallback(d=>{if(s)return;const u=parseInt(d.key),f=!isNaN(u);if(f&&d.preventDefault(),d.key==="Enter")o.length===6&&n(o);else if(d.key==="Backspace"){const p=o.slice(0,o.length-1);a(p),i(p)}else if(f){if(o.length===6){d.preventDefault();return}const p=o+d.key;a(p),i(p),p.length===6&&n(p)}},[o,s,i,n]);m.useEffect(()=>{e&&!s&&a("")},[e,s]);const h={fontSize:"3rem",fontFamily:"DM Mono",lineHeight:1};return r.jsx("input",{ref:l,type:"number",autoComplete:"off",style:h,className:W("absolute h-14 w-full rounded-md bg-transparent p-2 text-left tracking-code caret-transparent",s&&"opacity-50"),onChange:()=>{},value:o,onKeyDown:c,readOnly:s})},eat=({isActive:s})=>r.jsx("div",{className:W("h-14 w-11 rounded-md border border-gray-40 bg-gray-80 text-center",s&&"!bg-gray-60")});function Jd(s){let t=s.children;return s.weight==="strong"&&(t=r.jsx("b",{children:t})),r.jsx("h4",{className:`h4 ${s.className??""}`,children:t})}const sat="_passcodeContainer_7dqls_1",iat={passcodeContainer:sat,"passcode-horizontal-shake":"_passcode-horizontal-shake_7dqls_1"},Fj=({file:s,onPasswordValidated:t})=>{const{passwordController:e}=Pt(),[i,n]=m.useState(!1),[o,a]=m.useState(!1),[l,c]=m.useState(""),[h,d]=m.useState(!1),[u,f]=m.useState(0),[p,g]=m.useState(!1),_=b=>{c(b.target.value)},v=m.useCallback(async()=>{g(!0);const b=await e.authenticateWithPassword(l);b===void 0&&n(!0),b?(t(),Ft("password-file-accessed",{file:s})):(n(!0),f(u+1),u>=3&&e.failValidation()),g(!1)},[e,l,t,u,s]),y=()=>{a(!o)};return m.useEffect(()=>{i&&setTimeout(()=>{n(!1),c("")},600)},[i]),r.jsxs("div",{className:"h-full w-full",onPointerDown:()=>d(!1),children:[r.jsx("span",{children:r.jsx("a",{href:"https://bezi.com",target:"_blank",rel:"noreferrer",children:r.jsxs("div",{className:"absolute left-6 top-6 flex items-center justify-start",children:[r.jsx("img",{className:"h-16 w-16",src:O_,alt:"logo"}),r.jsx(n_,{children:"Bezi"})]})})}),r.jsx("div",{className:W("flex h-full w-full items-center justify-center"),children:r.jsxs("div",{className:"flex w-100 flex-col items-center justify-between gap-8 bg-gray-90 py-16",children:[r.jsxs("div",{className:"flex flex-col items-center justify-between gap-8",children:[r.jsx(De,{children:r.jsx("div",{className:"-m-20 flex items-center justify-center",children:Sot})}),r.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[u<3&&r.jsxs(r.Fragment,{children:[r.jsx(Jd,{children:"This file is password protected"}),r.jsx(Ze,{color:"secondary",children:"Please enter the password below."})]}),u>=3&&r.jsxs(r.Fragment,{children:[r.jsx(Jd,{children:"You don't have access"}),r.jsx(Ze,{color:"secondary",children:"Please try again later."})]})]})]}),u<3&&r.jsxs("div",{className:"relative flex flex-col items-center justify-between gap-2",children:[r.jsx("div",{className:W("relative flex w-80 items-center justify-center",h&&"rounded border border-solid border-lime",i&&"rounded border border-solid !border-border",i&&iat.passcodeContainer,p&&"opacity-50"),children:r.jsx(Mi,{type:o?"text":"password",size:"md",placeholder:"Password",className:"w-full !rounded",value:l,onChange:_,rightIcon:o?Ob:Pb,onRightIconClick:y,onSubmit:v,inputClassName:"tracking-wider !pl-4",backgroundClassName:"!rounded",onFocus:()=>d(!0),autoFocus:h,disabled:p})},i?"invalid":"valid"),r.jsx(Tt,{variant:"primary",size:"md",onClick:v,className:W("!rounded",!l&&"pointer-events-none",!l&&"opacity-50",p&&"opacity-50"),children:"Submit"})]})]})})]})},nat=()=>(m.useEffect(()=>{window.location.replace(x5)},[]),null),oat=s=>{const{label:t,labelProps:e,isDisabled:i,onScrubBegin:n,onScrubContinue:o,onScrubEnd:a,size:l="md",isWide:c=!1}=s,h=m.useRef(null),[d,u]=m.useState(!1),{hoverProps:f}=Ao({isDisabled:i}),p=v=>{var y;(y=h.current)==null||y.requestPointerLock(),u(!0),n(v)},g=xe.useCallback(v=>{u(!1),window.removeEventListener("pointermove",o,!0),window.removeEventListener("pointerup",g,!0),document.exitPointerLock(),a(v)},[o,a]);m.useEffect(()=>{d?(window.addEventListener("pointermove",o,!0),window.addEventListener("pointerup",g,!0)):(window.removeEventListener("pointermove",o,!0),window.removeEventListener("pointerup",g,!0))},[d,o,g]),m.useEffect(()=>()=>{window.removeEventListener("pointermove",o,!0),window.removeEventListener("pointerup",g,!0)},[o,g]);const _=typeof t=="string"&&t.length>2;return r.jsx("label",{className:W("flex h-full shrink-0 grow-0 cursor-ew-resize items-center justify-center text-body2",_&&"px-2",!_&&l==="sm"&&!c&&"w-sm basis-sm",!_&&l==="sm"&&c&&"w-6 basis-6",!_&&l==="md"&&!c&&"w-md basis-md",!_&&l==="md"&&c&&"w-lg basis-lg"),...hn(e,f),onPointerDown:p,ref:h,children:r.jsx(De,{variant:"secondary",children:t})})},A9=xe.memo(oat);var bo;(s=>{function t(o){return o!=null&&!Array.isArray(o)&&typeof o=="object"}s.isObject=t;function e(o,a){for(const[l,c]of Object.entries(o))i(a,l,c)}s.cloneInPlace=e;function i(o,a,l){if(!(a in o)){o[a]=l;return}if(Array.isArray(l))for(let c=0;c<l.length;c++)o[a][c]=l[c];else if(typeof l=="object"&&l!=null&&Object.entries(l).length>0)if(typeof o[a]=="string")o[a]={...l};else{const c=o[a];for(const[h,d]of Object.entries(l))i(c,h,d)}else o[a]=l}s.cloneRecursively=i;function n(o){const a=Object.getOwnPropertyNames(o);for(const l of a){const c=o[l];c&&typeof c=="object"&&!Object.isFrozen(c)&&n(c)}return Object.freeze(o)}s.deepFreeze=n})(bo||(bo={}));const ea=bo.deepFreeze,Zy=1,vi=ea(new w().setComponent(Zy,1)),Af=ea(new w().setComponent((Zy+1)%3,1)),of=ea(new w(0,0,0)),Py=ea(new w(1,1,1));ea(new w(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE));ea(new w(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE));const Mn=ea(new w(1,0,0)),to=ea(new w(0,1,0)),ul=ea(new w(0,0,1)),Bj=ea(new w(-1,0,0)),kj=ea(new w(0,-1,0)),Gj=ea(new w(0,0,-1)),rat=new Set([Mn,to,ul,Bj,kj,Gj]);ea(new Be(Mn,0));const S7=ea(new Be(to,0));ea(new Be(ul,0));const EE=S7;ea(new Lt);const Vj=.001,Hj=.01,aat=.9144,Y4=.3048,Uj=.0254,lat=1e3,cat=100,hat=3.28084,dat=39.3701;function mm(s,t,e,i=100){let n=0;switch(t){case Dt.MM:n=s*Vj;break;case Dt.CM:n=s*Hj;break;case Dt.FT:n=s*Y4;break;case Dt.IN:n=s*Uj;break;case Dt.PX:n=s/i;break;case Dt.M:default:n=s;break}let o=n;switch(e){case Dt.MM:o=n*lat;break;case Dt.CM:o=n*cat;break;case Dt.FT:o=n*hat;break;case Dt.IN:o=n*dat;break;case Dt.PX:o=n*i;break;case Dt.M:default:o=n;break}return o}function f0(s){switch(s){case Dt.M:return"Meters";case Dt.MM:return"Millimeters";case Dt.CM:return"Centimeters";case Dt.FT:return"Feet";case Dt.IN:return"Inches";default:return"Meters"}}function mw(s){switch(s){case Dt.M:return"m";case Dt.CM:return"cm";case Dt.MM:return"mm";case Dt.FT:return"ft";case Dt.IN:return"in";default:return""}}function uat(s){switch(s){case Gp.METERS:return Dt.M;case Gp.CENTIMETERS:return Dt.CM;case Gp.MILLIMETERS:return Dt.MM;case Gp.FEET:return Dt.FT;case Gp.INCHES:return Dt.IN;default:return null}}const fat={[Dt.PX]:"pixel",[Dt.M]:"meter",[Dt.CM]:"centimeter",[Dt.MM]:"millimeter",[Dt.FT]:"foot",[Dt.IN]:"inch"},W4={[Dt.M]:.01,[Dt.CM]:.1,[Dt.MM]:1,[Dt.IN]:.5,[Dt.FT]:1/24,[Dt.PX]:1},cl=Math.PI*2,pat=Math.PI/2,am=1e-5;function Qs(s,t=am){return Math.abs(s)<t}function ts(s,t,e=am){return Qs(s-t,e)}function SE(s){return ts(Math.abs(s.dot(Mn)),1)||ts(Math.abs(s.dot(to)),1)||ts(Math.abs(s.dot(ul)),1)}function Wr(s,t,e=am){return ts(s.x,t.x,e)&&ts(s.y,t.y,e)&&ts(s.z,t.z,e)}function Ff(s,t,e=am){return ts(s.x,t.x,e)&&ts(s.y,t.y,e)}function qr(s,t,e=new w){return e.lerpVectors(s,t,.5),e}function Ky(s,t,e=new ee){return e.subVectors(t,s),e}function xo(s,t,e=new w){return e.subVectors(t,s),e}function qy(s,t,e=new w){return xo(s,t,e).normalize(),e}function mat(s,t,e=new w){const i=s.dot(t);return e.copy(t).multiplyScalar(i),e}function gw(s,t,e,i=new w){return xo(s,t,i),mat(i,e,i),i}function M_(s,t,e,i=new w){return gw(s,t,e,i),i.add(s),i}function o_(s,t=new ee){return t.set(0,0),s.forEach(e=>t.add(e)),t.divideScalar(s.length),t}function t1(s,t){for(let e=0;e<3;e++){let i=s.getComponent(e);i=t(i,e),s.setComponent(e,i)}}function gat(s,t,e){return t.sub(s).dot(e)}function T9(s,t){return Math.round(s/t)*t}function P5(s,t,e){return Math.min(Math.max(s,t),e)}function nl(s){return Math.sign(s)||1}function _at(s){let t=[];return t=s.reduce((e,i)=>e.concat(i.toArray()),t),t}function vg(s,t=0){return t=Math.pow(10,t),Math.round(s*t)/t}function Vo(s,t=1){return Math.round(s/t)*t}function Or(s){return Math.abs(s)<1e-10?0:s}function vat(s){const t=s.toString();return t.includes(".")?t.split(".")[0]:""}function zj(s){const t=s.toString();return t.includes(".")?t.split(".")[1]:""}function Bf(s,t){var l;const e=Math.min(...s);if(e>=.1)return W4[t];const n=((l=zj(e).match(/0/g))==null?void 0:l.length)||0,o="0."+"0".repeat(n+1)+"1",a=Number(o);return isNaN(a)?.01:a}function yat(s){const{x:t,y:e,z:i}=s;return vg(t,1)===1?9:vg(t,1)===-1?10:vg(e,1)===1?11:vg(e,1)===-1?12:vg(i,1)===1?13:vg(i,1)===-1?14:t>0&&e>0&&i>0?1:t<0&&e>0&&i>0?2:t<0&&e<0&&i>0?3:t>0&&e<0&&i>0?4:t>0&&e<0&&i<0?5:t<0&&e<0&&i<0?6:t<0&&e>0&&i<0?7:t>0&&e>0&&i<0?8:0}function bat(s,t){let e=s;if(Math.abs(s-t)>Math.PI){const i=s>t?-1:1;for(;Math.abs(e-t)>Math.PI;)e+=Math.PI*2*i}return e}const Cat=.01,wat=1,xat={minimumFractionDigits:0,maximumFractionDigits:6},Eat={...xat,style:"unit"};function Sat(s){const t=fat[s];return{formatOptions:{...{...{minimumFractionDigits:0,maximumFractionDigits:6},style:"unit"},unit:t??"meter",unitDisplay:"short"},sensitivity:Cat}}function I7(){return{formatOptions:{...Eat,unit:"degree",unitDisplay:"narrow"},sensitivity:wat}}function KC(s,t){let e=s;const i=t.toString(),n=i.indexOf("."),o=n>=0?i.length-n:0;if(o>0){const a=Math.pow(10,o);e=Math.round(e*a)/a}return e}function Iat(s,t,e,i){t=Number(t),e=Number(e);const n=s%i;let o=KC(Math.abs(n)>=i/2?s+Math.sign(n)*(i-Math.abs(n)):s-n,i);return isNaN(t)?!isNaN(e)&&o>e&&(o=Math.floor(KC(e/i,i))*i):o<t?o=t:!isNaN(e)&&o>e&&(o=t+Math.floor(KC((e-t)/i,i))*i),o=KC(o,i),o}const Aat=(s={sensitivity:1,scrubThreshold:1,inactiveFractionDigits:2,shouldCommitOnSpace:!1,shouldSelectOnFocus:!0,shouldHideLabel:!1,isFixedWidth:!0,size:"sm",hasWideLabel:!1,isReadOnly:!1})=>{const{isDisabled:t,shouldCommitOnSpace:e,shouldHideLabel:i,label:n,inactiveFractionDigits:o,onBegin:a,onEnd:l,className:c,overrideValueString:h,size:d="sm",hasWideLabel:u=!1,scrubThreshold:f=1,isReadOnly:p,minScrubValue:g=s.minValue,maxScrubValue:_=s.maxValue}=s,v=s.sensitivity??1,y=s.shouldSelectOnFocus??!0,b=s.isFixedWidth??!0,C=s.isFloating??!1,x=m.useRef(null),I=m.useRef(null),O=m.useRef(!1),T=m.useRef(!1),D=m.useRef(null),B=m.useRef({x:0,y:0}),F=m.useRef({x:0,y:0}),k=m.useRef(s.value??s.defaultValue??0),[Y,G]=m.useState(!1),{isHovered:st,hoverProps:$}=Ao({isDisabled:t}),{isFocused:X,isFocusVisible:q,focusProps:at}=l1({isTextInput:!0,autoFocus:s.autoFocus}),bt=s.value??s.defaultValue,lt=s.onChange;let ct=bt==null?void 0:X||Y?bt:vg(bt,o??2);Object.is(ct,-0)&&(ct=0);const{locale:nt}=yL(),ot=iZ({...s,step:s.minValue&&s.step?Math.min(Math.abs(s.minValue),s.step):s.step,locale:nt,value:ct}),{labelProps:Et,groupProps:Ot,inputProps:ut}=nZ(s,ot,x),[yt,Kt]=m.useState(!1),ye=m.useMemo(()=>yt?ot.inputValue:h??ot.inputValue,[h,ot.inputValue,yt]),Cs={onBlur:()=>{s.onBegin&&s.onBegin(D.current??ot.numberValue)},onFocus:()=>{D.current=ot.numberValue},onPointerDown:()=>{O.current=!1,T.current=X,document.addEventListener("pointermove",je),document.addEventListener("pointerup",ui)},onKeyDown:Ue=>{Ue.code==="Escape"&&(Ue.stopPropagation(),ot.setInputValue(`${D.current??ot.numberValue}`),ot.numberValue=D.current??ot.numberValue)},onInput:Ue=>{const Zo=Ue.target;Zo&&Zo.setAttribute("size",String(Zo.value.length)),Kt(!0)}},He={onKeyDown:Ue=>{Ue.key==="Enter"&&(Ue.stopPropagation(),s.onBegin&&s.onBegin(D.current??ot.numberValue),ot.commit(),s.onEnd&&s.onEnd(ot.numberValue),Kt(!1)),e&&Ue.code==="Space"&&(Ue.stopPropagation(),Ue.target.blur(),Kt(!1))},onKeyUp:Ue=>{Ue.code==="Escape"&&(Ue.stopPropagation(),Kt(!1))},onBlur:()=>{D.current!==ot.numberValue&&(s.onEnd&&s.onEnd(ot.numberValue),Kt(!1))}},je=m.useCallback(()=>{O.current=!0},[]),ui=m.useCallback(()=>{const Ue=x.current;Ue!=null&&(!O.current&&!T.current&&Ue.selectionStart===Ue.selectionEnd&&Ue.select(),O.current=!1,document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",ui))},[je]);m.useEffect(()=>{const Ue=x.current;Ue!=null&&(X?q&&y?(I.current=setTimeout(()=>{Ue.select()}),Ue.select()):(Ue.setSelectionRange(Ue.selectionEnd,Ue.selectionEnd),I.current!=null&&clearTimeout(I.current)):I.current!=null&&clearTimeout(I.current))},[X,q,y]);const ha=m.useCallback(Ue=>{G(!0),B.current={x:Ue.clientX,y:Ue.clientY},F.current={x:Ue.clientX,y:Ue.clientY},k.current=ot.numberValue,a&&a(ot.numberValue)},[a,ot.numberValue]),uh=m.useCallback(()=>{G(!1),l&&l(ot.numberValue)},[l,ot.numberValue]),bd=m.useCallback(Ue=>{const Zo=Ue.shiftKey?10:Ue.metaKey?.1:1,gc=v*Zo;F.current={x:F.current.x+Ue.movementX,y:F.current.y+Ue.movementY};const ip=F.current.x-B.current.x,hv=k.current+ip/f*gc,_c=Iat(hv,g,_,gc);lt&&lt(_c)},[v,f,g,_,lt]);m.useEffect(()=>()=>{window.removeEventListener("pointermove",je),window.removeEventListener("pointerup",ui)},[je,ui]);const sp=q?"shadow-focus":X||Y?"shadow-active":st?"shadow-hover":"",Po=b?"w-16":C&&ot.inputValue.length<=1?"w-8":"w-full",mc=C?"rounded":void 0;return r.jsxs("div",{className:W("flex items-center justify-between hover:shadow-hover",d==="md"&&"h-md",d==="sm"&&"h-sm",mc,Po,sp,p&&"pointer-events-none opacity-50",c),...hn(Ot,$),children:[i&&r.jsx(SI,{children:r.jsx(A9,{labelProps:Et,label:n,onScrubBegin:ha,onScrubEnd:uh,onScrubContinue:bd,size:d,isWide:u})}),!i&&r.jsx(A9,{labelProps:Et,label:n,onScrubBegin:ha,onScrubEnd:uh,onScrubContinue:bd,size:d,isWide:u}),r.jsx("input",{className:W("h-full w-full bg-transparent tracking-wide",d==="md"&&"p-1",C?"!p-1.75":void 0,t&&"opacity-50"),...hn(Cs,ut,at,He),value:ye,ref:x})]})},xr=xe.memo(Aat),Tat=({editor:s})=>{const t=s.canvasInputController,e=o=>{const a=mm(o,s.sceneController.scene.units,Dt.M);t.setValue(a)},i=()=>{t.commitAndClose()},n=o=>{const a=o.target;if(a.value.endsWith("."))return;const l=Oat(a.value);if(isNaN(l)){t.clearAndClose();return}const c=mm(l,s.sceneController.scene.units,Dt.M);t.setValue(c)};return t.isOpen?r.jsx("div",{className:"absolute left-0 top-0 z-canvasInput min-w-fit rounded bg-gray-90",id:"CanvasInput",style:{translate:`${Math.round(t.x)}px ${Math.round(t.y)}px`},children:r.jsx(xr,{value:void 0,label:t.label,onChange:e,onInput:n,onBlur:i,autoFocus:!0,shouldHideLabel:!0,shouldCommitOnSpace:!0,shouldSelectOnFocus:!1,isFloating:!0})}):null},Pat=A(Tat);function Oat(s){return parseFloat(s.replace(/,/g,""))}var Mat=Object.defineProperty,Lat=(s,t,e)=>t in s?Mat(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,IE=(s,t,e)=>(Lat(s,typeof t!="symbol"?t+"":t,e),e);class Rat{constructor(t){this.editor=t,IE(this,"_toLoadCount",0),IE(this,"_loadedCount",0),IE(this,"_disposable");const e=t.signals.window.addDataToDownload.add(this._incrementLargeDataToLoad.bind(this)),i=t.signals.window.dataDownloaded.add(this._incrementLargeDataLoaded.bind(this));this._disposable=new tt(()=>{e.detach(),i.detach()})}_incrementLargeDataToLoad(){this._toLoadCount++}_incrementLargeDataLoaded(){this._loadedCount++,this._loadedCount===this._toLoadCount&&(this._loadedCount=0,this._toLoadCount=0,this.editor.signals.window.allLargeDataDownloaded.dispatch()),this.editor.signals.window.allLargeDataDownloaded.dispatch()}largeDataUploaded(t){this.editor.signals.window.dataUploaded.dispatch({urlKeys:t})}dispose(){this._disposable.dispose()}}var Nat=Object.defineProperty,jat=(s,t,e)=>t in s?Nat(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,P9=(s,t,e)=>(jat(s,typeof t!="symbol"?t+"":t,e),e);class $d{constructor(t=1/0){P9(this,"elements"),P9(this,"capacity"),this.elements=[],this.capacity=t}push(t){this.elements.push(t),this.elements.length>this.capacity&&this.elements.shift()}pop(){if(this.elements.length<=0)return null;const t=this.elements.pop();return t||null}peek(){return this.elements.length<=0?null:this.elements[this.elements.length-1]}clear(){this.elements=[]}size(){return this.elements.length}}var Dat=Object.defineProperty,Fat=(s,t,e)=>t in s?Dat(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,_w=(s,t,e)=>(Fat(s,typeof t!="symbol"?t+"":t,e),e);class Bat{constructor(t,e){_w(this,"_conversionTransform",new Lt),_w(this,"minExtent",new w().setScalar(Number.MAX_VALUE)),_w(this,"maxExtent",new w().setScalar(-Number.MAX_VALUE)),this._conversionTransform.copy(t.worldTransform).invert().multiply(e.worldTransform)}convertVector(t,e=new w){return e.copy(t).transformDirection(this._conversionTransform)}convertPoint(t,e=new w){return e.copy(t).applyMatrix4(this._conversionTransform)}convertBoundingBox(t,e=new Us,i=new Array(8).fill(null).map(()=>new w)){i[0].set(t.max.x,t.max.y,t.max.z),i[1].set(t.min.x,t.max.y,t.max.z),i[2].set(t.min.x,t.min.y,t.max.z),i[3].set(t.max.x,t.min.y,t.max.z),i[4].set(t.max.x,t.max.y,t.min.z),i[5].set(t.min.x,t.max.y,t.min.z),i[6].set(t.min.x,t.min.y,t.min.z),i[7].set(t.max.x,t.min.y,t.min.z),this.minExtent.setScalar(Number.MAX_VALUE),this.maxExtent.setScalar(-Number.MAX_VALUE);for(const n of i)n.applyMatrix4(this._conversionTransform),this.minExtent=Hi.min3(this.minExtent,n,this.minExtent),this.maxExtent=Hi.max3(this.maxExtent,n,this.maxExtent);return e.min.copy(this.minExtent),e.max.copy(this.maxExtent),e}}const X4=class Z4{constructor(t){this._worldTransform=t}get worldTransform(){return this._worldTransform}to(t){return new Bat(t,this)}convertVectorToGlobal(t,e=new w){return this.to(Z4.GLOBAL_COORDINATE_SYSTEM).convertVector(t,e)}convertVectorTo(t,e,i=new w){return this.to(e).convertVector(t,i)}convertPointToGlobal(t,e=new w){return this.to(Z4.GLOBAL_COORDINATE_SYSTEM).convertPoint(t,e)}convertPointTo(t,e,i=new w){return this.to(e).convertPoint(t,i)}convertMatrixTo(t,e,i=new Lt){return i.copy(t).premultiply(e.worldTransform).premultiply(this._worldTransform)}};_w(X4,"GLOBAL_COORDINATE_SYSTEM",new X4(new Lt().identity()));let Qn=X4;var Mt=(s=>(s.X="X",s.Y="Y",s.Z="Z",s))(Mt||{}),Bs=(s=>(s.X="X",s.Y="Y",s.Z="Z",s._X="-X",s._Y="-Y",s._Z="-Z",s))(Bs||{});const xa={X:"x",Y:"y",Z:"z"},Yj={X:"X",Y:"Y",Z:"Z"},Wj={X:Mn,Y:to,Z:ul};var as;(s=>{function t(y,b){if(!y||!b||y.length!==b.length)return!1;for(let C=0;C<y.length;C++)if(y[C]!==b[C])return!1;return!0}s.arrayEquals=t;function e(y,b){return y.size===b.size&&[...y].every(C=>b.has(C))}s.setsAreEqual=e;function i(y,b){return b.forEach(C=>y.add(C)),y}s.concatSets=i;function n(y,b){return b.forEach(C=>y.delete(C)),y}s.subtractSets=n;function o(y){let b=null;for(b of y);return b}s.getLastValueInSet=o;function a(y,b){return new Set([...y].filter(C=>b.has(C)))}s.intersectSets=a;function l(y,b){return new Set([...y,...b])}s.unionSets=l;function c(y,b){return new Set([...y].filter(C=>!b.has(C)))}s.differenceSets=c;function h(y){return y.every(b=>b===y[0])}s.areAllEqual=h;function d(y){return y!=null}s.isDefined=d;function u(y,b){const C=new Set;for(const x of y)b(x)&&C.add(x);return C}s.filterSet=u;function f(y){return y.slice()}s.cloneTuple=f;function p(y){return Object.entries(y)}s.getEntries=p;function g(y){return Object.keys(y)}s.getKeys=g;function _(y){return Object.values(y)}s.getValues=_;function v(y,b){return Array.from({length:Math.ceil(y.length/b)},(C,x)=>y.slice(x*b,x*b+b))}s.chunk=v})(as||(as={}));function AE(s,t){for(const e of t)s.add(e);return s}function ax(s){const[t]=s;return t}function kat(s){if(s instanceof Array)return s.length;if(s instanceof Set||s instanceof Map)return s.size}var Hi;(s=>{s.zeroMatrix=new Lt().set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);function t(X){return X instanceof Lt?X.equals(s.zeroMatrix):as.arrayEquals(X,s.zeroMatrix.elements)}s.isZero=t;function e(X={x:0,y:0,z:0},q={x:0,y:0,z:0},at={x:0,y:0,z:0},bt=!1){const lt=new w(X.x,X.y,X.z),ct=new ke().setFromEuler(new ls(bt?ms.degToRad(q.x):q.x,bt?ms.degToRad(q.y):q.y,bt?ms.degToRad(q.z):q.z,"XYZ")),nt=new w(at.x,at.y,at.z);return new Lt().compose(lt,ct,nt)}s.composeMatrix4=e;function i(X,q,at,bt,lt=!1){const ct=new Lt,nt=new w,ot=new ke,Et=new w,Ot=new ls;ct.copy(X),ct.decompose(nt,ot,Et),Ot.setFromQuaternion(ot,"XYZ"),q.x=nt.x,q.y=nt.y,q.z=nt.z,at.x=lt?ms.radToDeg(Ot.x):Ot.x,at.y=lt?ms.radToDeg(Ot.y):Ot.y,at.z=lt?ms.radToDeg(Ot.z):Ot.z,bt.x=Et.x,bt.y=Et.y,bt.z=Et.z}s.decomposeMatrix4=i;function n(X,q){return as.arrayEquals(X.elements,q.elements)}s.matrixEquals=n;function o(X,q){const at=new Lt().makeTranslation(...q.toArray());return X.premultiply(at).multiply(at.invert())}s.applyPivot=o;function a(X,q,at=new w().setScalar(Number.MAX_VALUE)){return at.setX(Math.min(X.x,q.x)),at.setY(Math.min(X.y,q.y)),at.setZ(Math.min(X.z,q.z)),at}s.min3=a;function l(X,q,at=new w().setScalar(-Number.MAX_VALUE)){return at.setX(Math.max(X.x,q.x)),at.setY(Math.max(X.y,q.y)),at.setZ(Math.max(X.z,q.z)),at}s.max3=l;const c=new Lt,h=new Lt;function d(X,q,at,bt,lt,ct,nt=new Lt){const ot=c.makeBasis(X,q,at),Et=h.makeBasis(bt,lt,ct);return f(ot,Et,nt)}s.orientFromVectors=d;const u=new Lt;function f(X,q,at=new Lt){return at.multiplyMatrices(q,u.copy(X).invert()),at}s.planeToPlaneTransform=f;function p(X,q=""){const at=c.copy(X).transpose().elements;let bt=0;const lt=[at[bt++],at[bt++],at[bt++],at[bt++]],ct=[at[bt++],at[bt++],at[bt++],at[bt++]],nt=[at[bt++],at[bt++],at[bt++],at[bt++]],ot=[at[bt++],at[bt++],at[bt++],at[bt++]],Et=[lt,ct,nt,ot],Ot=[Et.length,Et[0].length];function ut(ye,Cs){return ye.map(He=>He[Cs])}const yt=[];for(let ye=0;ye<Ot[1];ye++)yt.push(Math.max.apply(null,ut(Et,ye).map(Cs=>Cs.toString().length)));let Kt=`
`;Et.forEach(ye=>{Kt+=ye.map((Cs,He)=>new Array(yt[He]-Cs.toString().length+1).join(" ")+Cs.toString()+"  "),Kt+=`
`}),console.log(q,Kt)}s.prettyPrintMatrix=p;const g=new w,_=new w,v=new w;function y(X,q,at,bt=new Lt){return g.copy(at.position).sub(X).normalize(),v.copy(g).cross(q),_.copy(q).cross(v),bt.lookAt(of,v,_),bt}s.eyePlaneMatrix=y;function b(X,q=new w){return q.setFromMatrixColumn(X,0)}s.right=b;function C(X,q=new w){return q.setFromMatrixColumn(X,1)}s.up=C;const x=new w,I=new w,O=new w,T=new w;function D(X,q,at,bt=new Be){X.updateMatrixWorld();const lt=X.getWorldPosition(x);return I.copy(lt).sub(q).normalize(),O.copy(at).cross(I).normalize(),T.copy(at).cross(O).normalize(),bt.setFromNormalAndCoplanarPoint(T,q)}s.eyePlane=D;function B(X,q){if(X.length!==16)return null;const at=q??new Lt;return at.fromArray(X),at}s.makeMatrix4=B;function F(X,q,at=new w){const bt=X.length();return X.normalize(),at=new Qn(q).convertVectorToGlobal(X,at),at.multiplyScalar(bt),at}s.localToGlobalVector3=F;function k(X,q,at=new Lt){return at.makeTranslation(...X.toArray()).multiply(q),at}s.translateMatrix=k;function Y(X,q,at=new w){const{x:bt,y:lt,z:ct}=X,nt=q.elements;return at.x=nt[0]*bt+nt[4]*lt+nt[8]*ct,at.y=nt[1]*bt+nt[5]*lt+nt[9]*ct,at.z=nt[2]*bt+nt[6]*lt+nt[10]*ct,at}s.transformNonUnitVector=Y;function G(X,q,at=new w,bt=new Lt){const lt=F(X,q,at);return k(lt,q,bt)}s.translateLocalToGlobal=G;function st(X,q=new w,at=new w,bt=new w){const lt=q.set(1,0,0),ct=at.set(0,1,0),nt=bt.set(0,0,1),ot=new Lt;ot.extractRotation(X);const Et=lt.applyMatrix4(ot),Ot=ct.applyMatrix4(ot),ut=nt.applyMatrix4(ot);return Et.normalize(),Ot.normalize(),ut.normalize(),[Et,Ot,ut]}s.getObjectGlobalDirections=st;function $(X){const q=Math.abs(X.x),at=Math.abs(X.y),bt=Math.abs(X.z);return q>at&&q>bt?X.x>0?Bs.X:Bs._X:at>q&&at>bt?X.y>0?Bs.Y:Bs._Y:X.z>0?Bs.Z:Bs._Z}s.getNearestWorldAlignedAxisDirection=$})(Hi||(Hi={}));function O9(s){const{elements:t}=s;return[Or(t[0]),Or(-t[1]),Or(t[2]),Or(t[3]),Or(t[4]),Or(-t[5]),Or(t[6]),Or(t[7]),Or(t[8]),Or(-t[9]),Or(t[10]),Or(t[11]),Or(t[12]),Or(-t[13]),Or(t[14]),Or(t[15])]}const lm={COLOR:"#FFFFFF",INTENSITY:1,DISTANCE:0,DECAY:2},A7=S.object({color:S.string(),intensity:S.number(),shouldShowHelper:S.boolean()}),T7=S.object({luminousEfficacy:S.number(),isPhysicallyCorrect:S.boolean()}),P7=S.object({shouldShowLightRenderMesh:S.boolean()}),Xj=S.object({distance:S.number(),decay:S.number()}).merge(A7),Qy=13+1/3;var $o=(s=>(s.AREA="area",s.SPOT="spot",s.DIRECTIONAL="directional",s.POINT="point",s))($o||{});const O7=S.object({width:S.number(),depth:S.number(),areDimensionsLinked:S.boolean()}).merge(T7).merge(A7).merge(P7),O5={color:lm.COLOR,intensity:5,width:1,depth:1,shouldShowLightRenderMesh:!1,shouldShowHelper:!0,luminousEfficacy:Qy,isPhysicallyCorrect:!0,areDimensionsLinked:!1};var Pi=(s=>(s.NONE="NONE",s.BOX="BOX",s.FULL_AXES="FULL_AXES",s.HALF_AXES="HALF_AXES",s))(Pi||{});const Gat=S.object({helperType:S.literal("NONE")}),Vat=S.object({helperType:S.literal("BOX"),width:S.number(),depth:S.number(),height:S.number()}),Hat=S.object({helperType:S.literal("FULL_AXES"),width:S.number(),depth:S.number(),height:S.number()}),Uat=S.object({helperType:S.literal("HALF_AXES"),width:S.number(),depth:S.number(),height:S.number()}),M7=S.discriminatedUnion("helperType",[Gat,Vat,Hat,Uat]),lx={helperType:"NONE"},K4={helperType:"FULL_AXES",width:1,height:1,depth:1};var Kn=(s=>(s.QUEST_2="Quest 2",s.QUEST_PRO="Quest Pro",s.HANDS="Hands",s.NONE="None",s))(Kn||{}),cx;(s=>{const t=new w(.6654549523360951,0,0),e=new w(0,0,1.5707963267948966),i=new w(0,0,-1.5707963267948966),n=new w(0,0,0);function o(a,l){switch(a){case"Quest 2":return t;case"Quest Pro":return t;case"Hands":return l!=null?l==="left"?e:i:n;case"None":default:return n}}s.getControllerRotationOffset=o})(cx||(cx={}));const L7=S.object({height:S.number(),isShowControllers:S.boolean(),headset:S.nativeEnum(Kn),isDirectTouchEnabled:S.boolean(),helperType:S.literal(Pi.NONE)}),Pg={height:1.6,isShowControllers:!0,headset:Kn.QUEST_2,isDirectTouchEnabled:!0,helperType:Pi.NONE};var Bn=(s=>(s.BOX="BOX",s.SPHERE="SPHERE",s))(Bn||{});const sf=new Set(["LIndex","LMiddle","LRing","LPinky","LThumb","RIndex","RMiddle","RRing","RPinky","RThumb"]),Jy=Ng({x:pf(),y:pf(),z:pf()});Ng({x:pf(),y:pf(),z:pf(),w:pf()});oZ(Bn);const vw=pf().or(CL()).transform(s=>isNaN(s)?1/0:s).or(wL()).transform(s=>s===null?1/0:s).transform(s=>Math.max(s,Number.MIN_VALUE)).default(1/0),yw=pf().or(CL()).transform(s=>isNaN(s)?0:s).or(wL()).transform(s=>s===null?0:s).transform(s=>Math.max(s,0)).default(1/0),cm=Ng({type:xL(Bn.BOX),halfExtents:Ng({x:vw,y:vw,z:vw,isLinked:w4()}),halfExtentsPadding:Ng({x:yw,y:yw,z:yw,isLinked:w4()})}),M5=Ng({type:xL(Bn.SPHERE),radius:vw,radialPadding:yw}),zat=rZ("type",[cm,M5]),Yat=aZ([cm.partial(),M5.partial()]),Zj=bo.deepFreeze({type:Bn.BOX,halfExtents:{x:1/0,y:1/0,z:1/0,isLinked:!1},halfExtentsPadding:{x:0,y:0,z:0,isLinked:!0}}),Kj=bo.deepFreeze({type:Bn.SPHERE,radius:1/0,radialPadding:0}),M9={[Bn.BOX]:Zj,[Bn.SPHERE]:Kj},R7=Ng({id:RT(),name:RT(),position:Jy,rotation:Jy,shape:zat,isEnabled:w4()}),Wat=EL(R7),Xat=R7.partial().omit({shape:!0}).extend({shape:Yat.optional()}),Zat=EL(Xat),Cv={[Mt.X]:{background:"bg-xAxis",text:"text-xAxis"},[Mt.Y]:{background:"bg-yAxis",text:"text-yAxis"},[Mt.Z]:{background:"bg-zAxis",text:"text-zAxis"}},Su={[Mt.X]:[0,0,0],[Mt.Y]:[0,0,90],[Mt.Z]:[0,-90,0]},qC={[Mt.X]:{positive:ne.RIGHT,negative:ne.LEFT},[Mt.Y]:{positive:ne.TOP,negative:ne.BOTTOM},[Mt.Z]:{positive:ne.FRONT,negative:ne.BACK}},Kat=({axis:s,shouldFlip:t,size:e="md",invertedMatrixData:i,isViewCubeHovered:n=!1,onAxisButtonClick:o})=>{const{hoverProps:a,isHovered:l}=Ao({});return r.jsx("div",{className:"preserve-3d absolute left-1/2 top-1/2",style:{transform:`translate(-50%, -50%) rotateX(${Su[s][0]}deg) rotateY(${Su[s][1]}deg) rotateZ(${Su[s][2]}deg)`},children:r.jsxs("div",{className:W("preserve-3d block h-0.5",e==="sm"&&"w-4",e==="md"&&"w-8",e==="lg"&&"w-12",e==="sm"&&n&&"!w-8",e==="md"&&n&&"!w-16",e==="lg"&&n&&"!w-24",n?"pointer-events-auto translate-x-0":"pointer-events-none translate-x-1/2"),children:[r.jsx("button",{...a,name:"axis-button",value:t?qC[s].positive:qC[s].negative,className:W("absolute left-0 top-1/2 hidden rounded-full",e==="sm"&&"h-3 w-3",e==="md"&&"h-6 w-6",e==="lg"&&"h-9 w-9",n&&"!block",l?`${Cv[s].background}`:"bg-gray-50"),style:{transform:`translateX(-100%)
          translateY(-50%)
          rotateX(${-Su[s][0]}deg)
          rotateY(${-Su[s][1]}deg)
          rotateZ(${-Su[s][2]}deg)
          matrix3d(${i.toString()})`},onClick:o}),r.jsx("span",{className:W("absolute h-full w-full",l?`${Cv[s].background}`:"bg-gray-50"),style:{transform:"rotateX(0deg)"}}),r.jsx("span",{className:W("absolute h-full w-full",l?`${Cv[s].background}`:"bg-gray-50"),style:{transform:"rotateX(90deg)"}}),r.jsx("button",{...a,name:"axis-button",value:t?qC[s].negative:qC[s].positive,className:W("absolute left-full top-1/2 flex items-center justify-center rounded-full uppercase",e==="sm"&&"h-3 w-3 text-axisSM",e==="md"&&"h-6 w-6 text-axisMD",e==="lg"&&"h-9 w-9 text-axisLG",!l&&!n&&"text-white",!l&&n&&Cv[s].text,l&&`text-black ${Cv[s].background}`),style:{transform:`translateY(-50%)
            rotateX(${-Su[s][0]}deg)
            rotateY(${-Su[s][1]}deg)
            rotateZ(${-Su[s][2]}deg)
            matrix3d(${i.toString()})`},onClick:o,children:s})]})})},qat=m.memo(Kat);var Qat=Object.defineProperty,Jat=(s,t,e)=>t in s?Qat(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,lp=(s,t,e)=>(Jat(s,typeof t!="symbol"?t+"":t,e),e);class q4{constructor(t,e){this._sceneEntities=t,this._coordinateSystem=e,lp(this,"_entityId2CSConverter",new Map),lp(this,"_entityId2CenterInCS",new Map),lp(this,"_entityId2BoundingBoxInCS",new Map),lp(this,"_entityId2SizeInCS",new Map),lp(this,"_entityCenter",new w),lp(this,"_entityCenterInCS",new w),lp(this,"_entityBoundingBoxInCS",new Us),lp(this,"_entitySizeInCS",new w);for(const i of t){const o=new Qn(i.transform.matrixGlobal).to(e);this._entityId2CSConverter.set(i.id,o);const a=o.convertPoint(i.boundingBox.getCenter(this._entityCenter));this._entityId2CenterInCS.set(i.id,a);const l=o.convertBoundingBox(i.boundingBox);this._entityId2BoundingBoxInCS.set(i.id,l);const c=new w;l.getSize(c),this._entityId2SizeInCS.set(i.id,c)}}_getCSConverter(t){const e=this._entityId2CSConverter.get(t.id);return e||new Qn(t.transform.matrixGlobal).to(this._coordinateSystem)}getEntityCenter(t){const e=this._entityId2CenterInCS.get(t.id);return e||this._getCSConverter(t).convertPoint(t.boundingBox.getCenter(this._entityCenter),this._entityCenterInCS)}getEntityBoundingBox(t){const e=this._entityId2BoundingBoxInCS.get(t.id);return e||this._getCSConverter(t).convertBoundingBox(t.boundingBox,this._entityBoundingBoxInCS)}getEntitySize(t){const e=this._entityId2SizeInCS.get(t.id);return e||this._getCSConverter(t).convertBoundingBox(t.boundingBox,this._entityBoundingBoxInCS).getSize(this._entitySizeInCS)}}var Ea=(s=>(s.SELECTION="SELECTION",s.FRAME="FRAME",s))(Ea||{}),Oe=(s=>(s.MINIMUM="MIN",s.CENTER="CENTER",s.MAXIMUM="MAX",s))(Oe||{}),sl=(s=>(s.LEFT="LEFT",s.HORIZONTAL_CENTER="HORIZONTAL_CENTER",s.RIGHT="RIGHT",s.TOP="TOP",s.VERTICAL_CENTER="VERTICAL_CENTER",s.BOTTOM="BOTTOM",s))(sl||{}),tu;(s=>{function t(g,_=new Us){_.makeEmpty();for(const v of g)_.union(v.boundingBoxGlobal);return _}s.getBoundingBoxGlobal=t;function e(g){for(const _ of g)if(_.parent&&_.parent.isFrame)return!0;return!1}s.areSomeEntitiesInFrames=e;function i(g){for(const _ of g)if(_.parent==null||!_.parent.isFrame)return!1;return!0}s.areAllEntitiesInFrames=i;function n(g,_){return g.max[_]-g.min[_]}s.getSizeOnAxis=n;function o(g,_){return(g.min[_]+g.max[_])/2}s.getCenterOnAxis=o;function a(g){const _=new Map;for(const v of g){const{parent:y}=v;if(y&&y.isFrame){const b=_.get(y)??new Set;_.set(y,b.add(v))}}return _}s.getFrameChildrenMap=a;function l(g,_,v,y){if(y=="SELECTION")return u(t(g),Qn.GLOBAL_COORDINATE_SYSTEM,g,_,v);const b=a(g),C=[];for(const[x,I]of b){const O=new Qn(x.transform.matrixGlobal);C.push(...u(x.boundingBox,O,I,_,v))}return C}s.getAlignedEntityPositions=l;const c=new w;function h(g,_,v){const y=Hi.transformNonUnitVector(_,v.worldTransform,c);return new w().addVectors(g,y)}s.getFinalPositionFromDeltaVector=h;const d=new w;function u(g,_,v,y,b){const C=xa[y],x=new q4(v,_),I=[];for(const O of v){const T=x.getEntityCenter(O),D=d.copy(T);if(b=="CENTER")D[C]=o(g,C);else{const k=x.getEntitySize(O);b=="MIN"?D[C]=g.min[C]+k[C]/2:b=="MAX"&&(D[C]=g.max[C]-k[C]/2)}const B=D.sub(T),F=h(O.transform.positionGlobalVec,B,_);I.push({entity:O,globalPosition:F})}return I}s.getAlignedEntityPositionsInScope=u;function f(g,_,v){if(v=="SELECTION")return p(t(g),Qn.GLOBAL_COORDINATE_SYSTEM,g,_);const y=a(g),b=[];for(const[C,x]of y){const I=new Qn(C.transform.matrixGlobal);b.push(...p(C.boundingBox,I,x,_))}return b}s.getDistributedEntityPositions=f;function p(g,_,v,y){const b=xa[y];if(kat(v)===1)return u(g,_,v,y,"CENTER");const C=new q4(v,_);let x=n(g,b),I=0;for(const F of v){const k=C.getEntitySize(F);x-=k[b],I++}const O=x/(I-1),T=[...v].sort((F,k)=>{const Y=C.getEntityCenter(F)[b],G=C.getEntityCenter(k)[b];return Y-G}),D=[];let B=g.min[b];for(const F of T){const k=C.getEntityCenter(F),Y=d.copy(k),G=C.getEntitySize(F)[b]/2;B+=G,Y[b]=B;const st=Y.sub(k),$=h(F.transform.positionGlobalVec,st,_);D.push({entity:F,globalPosition:$}),B+=G+O}return D}s.getDistributedEntityPositionsInScope=p})(tu||(tu={}));var Zn=(s=>(s.MIN="MIN",s.CENTER="CENTER",s.MAX="MAX",s.BOTH="BOTH",s))(Zn||{});const qj={X:["MIN","CENTER","MAX","BOTH"],Y:["MAX","CENTER","MIN","BOTH"],Z:["MIN","CENTER","MAX","BOTH"]},$at={X:{MIN:[Oe.MINIMUM],CENTER:[Oe.CENTER],MAX:[Oe.MAXIMUM],BOTH:[Oe.MINIMUM,Oe.MAXIMUM]},Y:{MIN:[Oe.MINIMUM],CENTER:[Oe.CENTER],MAX:[Oe.MAXIMUM],BOTH:[Oe.MINIMUM,Oe.MAXIMUM]},Z:{MIN:[Oe.MINIMUM],CENTER:[Oe.CENTER],MAX:[Oe.MAXIMUM],BOTH:[Oe.MINIMUM,Oe.MAXIMUM]}},bw={X:{MIN:cJ,CENTER:dJ,MAX:fJ,BOTH:mJ},Y:{MIN:CJ,CENTER:yJ,MAX:_J,BOTH:xJ},Z:{MIN:PJ,CENTER:AJ,MAX:SJ,BOTH:MJ}},tlt={X:{MIN:hJ,CENTER:uJ,MAX:pJ,BOTH:gJ},Y:{MIN:wJ,CENTER:bJ,MAX:vJ,BOTH:EJ},Z:{MIN:OJ,CENTER:TJ,MAX:IJ,BOTH:LJ}},elt={X:{MIN:"Left",CENTER:"Center X",MAX:"Right",BOTH:"Left and right"},Y:{MIN:"Bottom",CENTER:"Center Y",MAX:"Top",BOTH:"Top and bottom"},Z:{MIN:"Back",CENTER:"Center Z",MAX:"Front",BOTH:"Front and back"}},_y={X:"MIN",Y:"MIN",Z:"MIN",isEnabled:!1},slt=S.object({anchorX:S.nativeEnum(Zn),anchorY:S.nativeEnum(Zn),anchorZ:S.nativeEnum(Zn),isEnabled:S.boolean()}),Qj={[Mt.X]:"anchorX",[Mt.Y]:"anchorY",[Mt.Z]:"anchorZ"},N7=S.object({shadows:S.object({isEnabled:S.boolean()})}).merge(A7),Bb={color:lm.COLOR,intensity:lm.INTENSITY,shouldShowHelper:!0,shadows:{isEnabled:!0}};class hx{constructor(t,e=!1){this.position=t,this.showHandle=e}highlightForHovered(){}highlightForSelected(){}unhighlight(){}}const L9=S.object({position:_N,showHandle:S.boolean()}),ilt=S.object({id:S.string(),position:_N,controls:S.tuple([L9.nullable(),L9.nullable()]),mirroredControlPoints:S.boolean()}),nlt=S.object({x:S.number(),y:S.number(),z:S.number(),w:S.number()});class Jj{constructor(t,e,i,n){this.id=t,this.position=e,this.controls=i,this.mirroredControlPoints=n}highlightForHovered(){}highlightForSelected(){}unhighlight(){}}var bs=(s=>(s.WIRE="Wire",s.FILL="Fill",s.PIPE="Pipe",s))(bs||{});const j7=S.object({keyPoints:S.array(ilt),curveType:S.nativeEnum(bs),segments:S.number().optional(),stepSize:S.number().optional(),angleThreshold:S.number().optional(),drawingPlane:nlt.optional()});var Og=(s=>(s.SQUARE="Square",s.CIRCLE="Circle",s.RIBBON="Ribbon",s))(Og||{}),Yc=(s=>(s.NONE="None",s.FLAT="Flat",s.CONE="Cone",s))(Yc||{});const olt={Ribbon:2,Square:4,Circle:10},D7=S.object({pipeShape:S.nativeEnum(Og),pipeCap:S.nativeEnum(Yc),radius:S.number()}),$j=j7.merge(D7).merge(S.object({curveType:S.literal(bs.PIPE),height:S.number().optional()})),tD=j7.merge(D7.partial()).merge(S.object({curveType:S.literal(bs.FILL),height:S.number().optional()})),eD="#646464",F7=S.object({width:S.number(),height:S.number(),depth:S.number(),areDimensionsLinked:S.boolean(),isClippingEnabled:S.boolean(),areCapsEnabled:S.boolean(),capsColor:S.string()}),L5={width:1,height:1,depth:1,areDimensionsLinked:!1,isClippingEnabled:!1,areCapsEnabled:!1,capsColor:eD},rlt=S.object({width:S.number(),height:S.number(),depth:S.number(),areDimensionsLinked:S.boolean()});var dx;(s=>{function t(e,i){return e*i}s.getPower=t})(dx||(dx={}));var Q4;(s=>{function t(i,n){return e(dx.getPower(i,n))}s.getPhysicallyCorrectIntensity=t;function e(i){return i/(4*Math.PI)}s.getIntensity=e})(Q4||(Q4={}));const B7=S.object({shouldShowLightBloom:S.boolean(),radius:S.number()}).merge(T7).merge(Xj).merge(P7),R5={color:lm.COLOR,intensity:Q4.getPhysicallyCorrectIntensity(5,Qy),distance:lm.DISTANCE,decay:2,shouldShowLightRenderMesh:!1,shouldShowLightBloom:!1,shouldShowHelper:!0,radius:.1,luminousEfficacy:Qy,isPhysicallyCorrect:!0};var nr=(s=>(s.STANDARD="STANDARD",s.SPATIAL="SPATIAL",s))(nr||{}),Vp=(s=>(s.PLAY="PLAY",s.PAUSE="PAUSE",s.STOP="STOP",s))(Vp||{}),e1=(s=>(s.ONCE="ONCE",s.LOOP="LOOP",s))(e1||{}),ux=(s=>(s.LINEAR="LINEAR",s.LOGARITHMIC="LOGARITHMIC",s))(ux||{});const alt={LINEAR:"linear",LOGARITHMIC:"inverse"},sD=S.object({volume:S.number().min(0).max(1),playbackStatus:S.nativeEnum(Vp),playbackMode:S.nativeEnum(e1),range:S.number(),decay:S.number(),interpolationType:S.nativeEnum(ux)}),k7=S.object({id:S.string(),type:S.nativeEnum(nr),assetId:S.string(),parameters:sD}),iD=S.record(k7),llt=k7.partial().extend({type:S.nativeEnum(nr).optional(),assetId:S.string().optional(),parameters:sD.partial()}),clt=S.record(llt).optional(),G7={volume:1,playbackStatus:"STOP",playbackMode:"ONCE",range:5,decay:1,interpolationType:"LINEAR"},hlt={PLAY:"Playing",PAUSE:"Paused",STOP:"Stopped"},dlt={PLAY:zR,PAUSE:j$,STOP:YR},ult=Object.values(Vp).map(s=>{const t=dlt[s];return{label:hlt[s],type:s,icon:t}}),J4="216ae62f-2d4e-49f3-99a1-e3be66b99701";var $4;(s=>{function t(i,n){return e(dx.getPower(i,n))}s.getPhysicallyCorrectIntensity=t;function e(i){return i/Math.PI}s.getIntensity=e})($4||($4={}));const V7=S.object({angle:S.number(),penumbra:S.number(),radius:S.number()}).merge(T7).merge(Xj).merge(P7),N5={color:lm.COLOR,intensity:$4.getPhysicallyCorrectIntensity(3,Qy),distance:lm.DISTANCE,decay:lm.DECAY,angle:bit*30,penumbra:.5,radius:.1,shouldShowLightRenderMesh:!1,shouldShowHelper:!0,luminousEfficacy:Qy,isPhysicallyCorrect:!0},flt=S.enum(["left","center","right","justify"]),plt=S.enum(["top","middle","bottom"]),mlt=S.enum(["standard","top-cap-to-bottom-baseline"]),glt=S.enum(["as-typed","uppercase","lowercase","title-case"]),R9=S.number().or(S.nan()).transform(s=>isNaN(s)?1/0:s).or(S.null()).transform(s=>s===null?1/0:s).default(1/0),wa=S.object({text:S.string(),fontSize:S.number().positive().finite(),fontFamily:S.string(),fontWeight:S.string().toLowerCase(),fontId:S.string().optional(),textAlign:flt,verticalAlign:plt,verticalTrim:mlt,letterCase:glt,lineHeight:S.number().or(S.nan()).transform(s=>isNaN(s)?"normal":Math.max(s,Number.MIN_VALUE)).or(S.literal("normal")),letterSpacing:S.number(),curveRadius:S.number(),width:R9,depth:R9,areDimensionsLinked:S.boolean()}),H7={text:"Text",fontSize:14,fontFamily:"Roboto",fontWeight:"regular",textAlign:"left",verticalAlign:"top",verticalTrim:"standard",letterCase:"as-typed",lineHeight:"normal",letterSpacing:0,curveRadius:0,width:1/0,depth:1/0,areDimensionsLinked:!1},nD=j7.merge(D7.partial()).merge(S.object({curveType:S.literal(bs.WIRE),height:S.number().optional()}));var ei=(s=>(s.FOLLOW="FOLLOW",s.LOOK_AT="LOOK_AT",s.FIXED_SIZE="FIXED_SIZE",s))(ei||{});function N9(s){switch(s){case"FOLLOW":return 0;case"LOOK_AT":return 1;case"FIXED_SIZE":return 2}}const oD=S.object({target:S.string().nullable()}),rD=S.object({x:S.boolean(),y:S.boolean()}),_lt=S.object({z:S.boolean()}).merge(rD),vlt=S.object({type:S.literal("FOLLOW"),smooth:S.number(),offset:Jy,axes:_lt,isRotationEnabled:S.boolean()}).merge(oD),ylt=S.object({type:S.literal("LOOK_AT"),tilt:rD,direction:S.nativeEnum(Bs)}).merge(oD),blt=S.object({type:S.literal("FIXED_SIZE"),sizePx:S.number(),measurementAxis:S.nativeEnum(Mt)}),Clt=S.discriminatedUnion("type",[vlt,ylt,blt]),aD=S.object({id:S.string(),isEnabled:S.boolean(),parameters:Clt,removedInStates:S.array(S.string()).optional()}),O0={type:"FOLLOW",smooth:10,offset:{x:0,y:0,z:-1},axes:{x:!0,y:!0,z:!0},target:null,isRotationEnabled:!0},lD={type:"LOOK_AT",tilt:{x:!0,y:!0},direction:Bs.Z,target:null},cD={type:"FIXED_SIZE",sizePx:200,measurementAxis:Mt.X},hD=S.record(aD),dD={FOLLOW:O0,LOOK_AT:lD,FIXED_SIZE:cD},U7=S.object({width:S.number(),height:S.number(),depth:S.number(),areDimensionsLinked:S.boolean(),bevelOffset:S.number(),bevelSegments:S.number()}),kr={width:1,height:1,depth:1,areDimensionsLinked:!1,bevelOffset:0,bevelSegments:4},wlt=S.nativeEnum(Xe),z7=S.object({index:S.number(),publishIndex:S.string(),target:Jy,spherical:ret,focalOffset:Jy,projection:wlt,fov:S.number(),zoom:S.number(),isBookmark:S.boolean(),lensUnit:S.nativeEnum(Kr)}),uD={index:0,publishIndex:"",target:{x:0,y:0,z:0},spherical:{radius:0,phi:0,theta:0},focalOffset:{x:0,y:0,z:0},projection:Xe.PERSPECTIVE,fov:Zh.focalLength2Fov(50),zoom:1,isBookmark:!0,lensUnit:Kr.FOV},Y7=S.object({width:S.number(),height:S.number(),depth:S.number(),segmentsAround:S.number(),sliceAngle:S.number(),bevelOffsetTop:S.number(),bevelSegmentsTop:S.number(),bevelOffsetBottom:S.number(),bevelSegmentsBottom:S.number(),areBevelSegmentsLinked:S.boolean(),areBevelOffsetsLinked:S.boolean(),areDimensionsLinked:S.boolean()}),kb={width:1,height:1,depth:1,segmentsAround:32,sliceAngle:cl,bevelOffsetTop:0,bevelSegmentsTop:4,bevelOffsetBottom:0,bevelSegmentsBottom:4,areBevelSegmentsLinked:!0,areBevelOffsetsLinked:!0,areDimensionsLinked:!0},xlt=S.object({width:S.number(),height:S.number(),depth:S.number(),segmentsAround:S.number(),sliceAngle:S.number(),radiusTop:S.number(),radiusBottom:S.number(),bevelOffsetTop:S.number(),bevelSegmentsTop:S.number(),bevelOffsetBottom:S.number(),bevelSegmentsBottom:S.number(),areBevelSegmentsLinked:S.boolean(),areBevelOffsetsLinked:S.boolean(),areRadiiLinked:S.boolean(),areDimensionsLinked:S.boolean()}),Wn={width:1,height:1,depth:1,radiusTop:.5,radiusBottom:.5,segmentsAround:32,sliceAngle:cl,bevelOffsetTop:0,bevelSegmentsTop:4,bevelOffsetBottom:0,bevelSegmentsBottom:4,areBevelSegmentsLinked:!0,areBevelOffsetsLinked:!0,areRadiiLinked:!0,areDimensionsLinked:!1},Elt=["Q","W","E","R","A","S","D","F","Space","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Enter","T","Y","U","I","O","P","G","H","J","K","L","Z","X","C","V","B","N","M","1","2","3","4","5","6","7","8","9","0"];var le=(s=>(s.RightClusterBottom="CLUSTER_BOTTOM",s.RightClusterLeft="CLUSTER_LEFT",s.RightClusterTop="CLUSTER_TOP",s.RightClusterRight="CLUSTER_RIGHT",s.LeftBumper="LB",s.LeftTrigger="LT",s.RightBumper="RB",s.RightTrigger="RT",s.Back="BACK",s.Start="START",s.LeftStick="THUMB_LEFT",s.RightStick="THUMB_RIGHT",s.LeftClusterDown="DPAD_DOWN",s.LeftClusterLeft="DPAD_LEFT",s.LeftClusterUp="DPAD_UP",s.LeftClusterRight="DPAD_RIGHT",s.Center="CENTER",s.Trigger="TRIGGER",s.Grip="GRIP",s.Thumb="THUMB",s.Touchpad="TOUCHPAD",s))(le||{}),fx;(s=>{function t(i,n,o){switch(n){case 0:return i==="xr-standard"?"TRIGGER":"CLUSTER_BOTTOM";case 1:return i==="xr-standard"?"GRIP":"CLUSTER_RIGHT";case 2:return i==="xr-standard"?"TOUCHPAD":"CLUSTER_LEFT";case 3:return i==="xr-standard"?"THUMB":"CLUSTER_TOP";case 4:return i==="xr-standard"?"CLUSTER_BOTTOM":"LB";case 5:return i==="xr-standard"?"CLUSTER_RIGHT":"RB";case 6:return"LT";case 7:return"RT";case 8:return"BACK";case 9:return"START";case 10:return"THUMB_LEFT";case 11:return"THUMB_RIGHT";case 12:return"DPAD_UP";case 13:return"DPAD_DOWN";case 14:return"DPAD_LEFT";case 15:return"DPAD_RIGHT";case 16:return"CENTER";default:return}}s.getButtonName=t;function e(i,n,o){switch(n){case 0:return"LEFT_HORIZONTAL";case 1:return"LEFT_VERTICAL";case 2:return"RIGHT_HORIZONTAL";case 3:return"RIGHT_VERTICAL";default:return}}s.getAxisName=e})(fx||(fx={}));var Gr=(s=>(s.DESKTOP="DESKTOP",s.XBOX="XBOX",s.XR="XR",s))(Gr||{}),Dn=(s=>(s.LEFT="Left",s.RIGHT="Right",s))(Dn||{});const Slt=S.object({id:S.string(),device:S.nativeEnum(Gr),binding:S.string().or(S.nativeEnum(le)),hand:S.nativeEnum(Dn).optional()}),Ilt=S.record(Slt),Alt=S.object({id:S.string(),name:S.string(),bindings:Ilt}),Tlt=S.record(Alt),Plt=S.object({}),W7=S.object({isEnabled:S.boolean(),settings:Plt.nullable(),actions:Tlt}),X7={isEnabled:!0,settings:null,actions:{0:{id:"0",name:"Action 1",bindings:{desktop:{id:"desktop",device:"DESKTOP",binding:"Q"},gamepad:{id:"gamepad",device:"XBOX",binding:le.RightClusterBottom},xr:{id:"xr",device:"XR",hand:"Left",binding:le.RightClusterBottom}}},1:{id:"1",name:"Action 2",bindings:{desktop:{id:"desktop",device:"DESKTOP",binding:"W"},gamepad:{id:"gamepad",device:"XBOX",binding:le.RightClusterLeft},xr:{id:"xr",device:"XR",hand:"Left",binding:le.RightClusterRight}}},2:{id:"2",name:"Action 3",bindings:{desktop:{id:"desktop",device:"DESKTOP",binding:"E"},gamepad:{id:"gamepad",device:"XBOX",binding:le.RightClusterTop},xr:{id:"xr",device:"XR",hand:"Left",binding:le.Trigger}}},3:{id:"3",name:"Action 4",bindings:{desktop:{id:"desktop",device:"DESKTOP",binding:"R"},gamepad:{id:"gamepad",device:"XBOX",binding:le.RightClusterRight},xr:{id:"xr",device:"XR",hand:"Left",binding:le.Grip}}}}},Olt=S.object({tl:S.number(),tr:S.number(),br:S.number(),bl:S.number()}),Z7=S.object({width:S.number(),height:S.number(),depth:S.number(),radii:Olt,bendAngle:S.number(),areDimensionsLinked:S.boolean(),radiusSegments:S.number(),bendSegments:S.number(),bevelOffset:S.number(),bevelSegments:S.number()}),px={minimum:1,default:16,maximum:32},mx={minimum:2,default:16,maximum:96},gx={minimum:1,default:4,maximum:16},Xn={width:1,depth:1,radii:{tl:0,tr:0,br:0,bl:0},height:0,bendAngle:0,areDimensionsLinked:!1,radiusSegments:px.default,bendSegments:mx.default,bevelOffset:0,bevelSegments:gx.default},K7=S.object({width:S.number(),height:S.number(),depth:S.number(),segmentsAround:S.number(),segmentsDown:S.number(),sliceYAngle:S.number(),areSegmentsLinked:S.boolean(),areDimensionsLinked:S.boolean()}),L_={width:1,height:1,depth:1,segmentsAround:16,segmentsDown:24,sliceYAngle:Math.PI,areSegmentsLinked:!0,areDimensionsLinked:!0},Do={id:"",type:L.UNSUPPORTED,lastWriter:"",lastUpdated:0,name:"",position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},parent:null,index:"",isVisible:!0,isLocked:!1,collapsed:!1,isScaleLinked:!1,urlKey:null,lastGeometryUpdated:0,subdivisions:0,activeState:null,activeParentStateId:null,startState:null,states:{},parentStates:{},ttl:0,parameters:null,colliders:{},asset:null,assetSource:null,isInstance:!1,assetVersion:0,overrides:null,frameStates:null,activeImportedAnimation:null,importedAnimations:{},behaviors:{},sounds:{},viewSettings:{castShadow:!0,receiveShadow:!0,side:Wl,shouldFlipTextures:!1},isInteractive:!0,layerOpacity:1,interactions:{},version:Qg,_metadata:{}},Mlt=S.object({}),q7=[rlt,U7,F7,Z7,nD,$j,tD,xlt,Y7,K7,z7,B7,O7,V7,N7,wa,L7,W7,Mlt,M7],Llt=q7.map(s=>"strict"in s?s.strict():s),Rlt=q7.map(s=>"deepPartial"in s?s.deepPartial().passthrough():s);S.union(q7).nullable();const Nlt=S.union(Llt).nullable(),fD=S.union(Rlt).nullable(),jlt=S.object({castShadow:S.boolean(),receiveShadow:S.boolean(),side:S.union([S.literal(Wl),S.literal(Z0),S.literal(In),S.literal(lZ)]),shouldFlipTextures:S.boolean().optional()}),j9=S.object({x:S.number(),y:S.number(),z:S.number()}),TE=S.number().or(S.nan()).transform(s=>isNaN(s)?1:s).or(S.null()).transform(s=>s===null?1:s).transform(s=>s===0?vf:s),Dlt=S.object({x:TE,y:TE,z:TE}),pD=S.object({animationsUrlKey:S.string().optional(),skeletonUrlKey:S.string().optional(),speed:S.number().optional(),loop:S.boolean().optional()}),Q7=S.object({position:j9,rotation:j9,scale:Dlt,isScaleLinked:S.boolean(),lastGeometryUpdated:S.number(),subdivisions:S.number(),parameters:Nlt,constraint:slt.optional(),material:a5.optional(),behaviors:hD,sounds:iD,castShadow:S.boolean().optional(),receiveShadow:S.boolean().optional(),side:S.number().optional(),viewSettings:jlt,isInteractive:S.boolean(),layerOpacity:S.number().min(0).max(1),activeImportedAnimation:S.string().nullable(),importedAnimations:pD.partial(),urlKey:S.string().nullable(),assetVersion:S.number()}),Flt=Q7.partial();S.record(Flt);const mD=Q7.partial().omit({material:!0,parameters:!0,sounds:!0}).extend({material:a5,parameters:fD,sounds:clt,colliders:Zat.optional(),name:S.string().optional(),id:S.string().optional(),text:S.string().optional(),fontSize:S.number().optional()}),D9=S.record(mD),J7=S.object({trigger:S.union([aN,rN,Htt,lN]),animations:ktt}),Blt=S.record(J7.passthrough()),klt=S.object({x:S.number(),y:S.number()}),Glt=S.object({nodePosition:klt.optional(),cameraBookmarkData:S.optional(S.object({publishIndex:S.string(),isBookmark:S.boolean()}))}),Vlt=S.object({states:S.record(Glt).optional(),interactions:S.object({timelineIndicesByAnimationId:S.record(S.string(),S.string()).optional()}).optional()}),Hlt=S.record(mD.omit({material:!0,parameters:!0}).extend({material:a5.optional(),parameters:fD.optional()})),gD=S.object({id:S.string(),type:S.nativeEnum(L),lastWriter:S.string(),lastUpdated:S.number(),name:S.string(),parent:S.string().nullable(),index:S.string(),isVisible:S.boolean(),isLocked:S.boolean(),collapsed:S.boolean(),activeState:S.string().nullable(),activeParentStateId:S.string().nullable(),states:D9,parentStates:D9,startState:S.string().nullable(),colliders:Wat,sounds:iD,ttl:S.number(),asset:S.string().nullable(),assetSource:S.string().nullable(),isInstance:S.boolean(),material:S.string().optional(),importedAnimations:pD,behaviors:hD,interactions:Blt,version:S.number(),_metadata:Vlt,isReadOnly:S.boolean().optional()}).merge(Q7),Ult=S.object({id:S.string(),parent:S.string().nullable(),isInstance:S.boolean(),isVisible:S.boolean(),activeState:S.string().nullable(),ttl:S.number(),material:a5.optional()}).merge(gD.partial()),go=S.object({overrides:Ult.nullable(),frameStates:Hlt.nullable()}).merge(gD).strict(),Cw=new Set(["activeState","collapsed","colliders","asset","id","interactions","isInstance","lastUpdated","lastGeometryUpdated","lastWriter","name","parent","states","startState","ttl","type","index","version","importedAnimations","assetSource","isLocked","_metadata","activeParentStateId","parentStates","constraint","frameStates"]);function Ir(s,t,e){return t.safeParse(s.type).success&&e.safeParse(s.parameters).success}function _D(s,t){return t.safeParse(s.type).success}function zlt(s){return go.parse(s)}const Ylt={[L.UNSUPPORTED]:"None",[L.PLANE]:"Plane",[L.SPHERE]:"Sphere",[L.BOX]:"Box",[L.CYLINDER]:"Cylinder",[L.CONE]:"Cone",[L.HUMAN]:"Human",[L.SHAPE]:"Shape",[L.IMAGE]:"Image",[L.GROUP]:"Group",[L.FRAME]:"Frame",[L.AMBIENT_LIGHT]:"Ambient light",[L.POINT_LIGHT]:"Point light",[L.AREA_LIGHT]:"Area light",[L.SPOT_LIGHT]:"Spot light",[L.DIRECTIONAL_LIGHT]:"Directional light",[L.BOOLEAN]:"Boolean",[L.TEXT]:"Text",[L.CURVE]:"Curve",[L.CAMERA]:"Camera",[L.GAMEPAD]:"Inputs",[L.AUDIO]:"Audio"},Wlt={[L.PLANE]:Xn,[L.SPHERE]:L_,[L.BOX]:kr,[L.CYLINDER]:Wn,[L.CONE]:kb,[L.POINT_LIGHT]:R5,[L.AREA_LIGHT]:O5,[L.SPOT_LIGHT]:N5,[L.DIRECTIONAL_LIGHT]:Bb,[L.CAMERA]:uD,[L.TEXT]:H7,[L.GROUP]:lx,[L.XRRIG]:Pg,[L.FRAME]:L5,[L.GAMEPAD]:X7};var gm;(s=>{function t(n){const o=Ylt[n];return o||(console.error("No name for type",n),"Unknown")}s.objectType2Name=t;function e(n){const o=Wlt[n];return o||null}s.sceneObjectType2DefaultParameters=e;function i(n){let o=n;for(;o.parent!=null;)o=o.parent;return o}s.getRoot=i})(gm||(gm={}));const Xlt=`
  query GetAsset($id: ID!) {
    getAsset(id: $id) {
      id
      name
      description
      type
      team
      file
      source
      data
      tags
      preview
      isPrivate
      lastWriter
      updatedAt
      createdAt
    }
  }
`,Zlt=`
  query GetMaterial($id: ID!) {
    getMaterial(id: $id) {
      id
      name
      team
      file
      data
      lastWriter
      updatedAt
      createdAt
    }
  }
`,vD=`
  query GetProfile($id: ID!) {
    getProfile(id: $id) {
      id
      email
      fullName
      portrait
      data
      createdAt
      updatedAt
    }
  }
`,Klt=`
  query FilesByTeam(
    $team: ID
    $creator: ModelIDKeyConditionInput
    $sortDirection: ModelSortDirection
    $filter: ModelFileFilterInput
    $limit: Int
    $nextToken: String
  ) {
    filesByTeam(
      team: $team
      creator: $creator
      sortDirection: $sortDirection
      filter: $filter
      limit: $limit
      nextToken: $nextToken
    ) {
      items {
        id
        type
        version
        creator
        team
        access
        link
        title
        scene
        bookmarks
        lastWriter
        createdAt
        updatedAt
      }
      nextToken
    }
  }
`,qlt=`
  query FileByLink(
    $link: String
    $sortDirection: ModelSortDirection
    $filter: ModelFileFilterInput
    $limit: Int
    $nextToken: String
  ) {
    fileByLink(
      link: $link
      sortDirection: $sortDirection
      filter: $filter
      limit: $limit
      nextToken: $nextToken
    ) {
      items {
        id
        type
        version
        creator
        team
        access
        link
        title
        scene
        bookmarks
        lastWriter
        createdAt
        updatedAt
      }
      nextToken
    }
  }
`,F9=`
  query ObjectsByFile(
    $file: ID
    $updatedAt: ModelStringKeyConditionInput
    $sortDirection: ModelSortDirection
    $filter: ModelObjectFilterInput
    $limit: Int
    $nextToken: String
  ) {
    objectsByFile(
      file: $file
      updatedAt: $updatedAt
      sortDirection: $sortDirection
      filter: $filter
      limit: $limit
      nextToken: $nextToken
    ) {
      items {
        id
        file
        data
        lastWriter
        ttl
        updatedAt
        createdAt
      }
      nextToken
    }
  }
`,B9=`
  query CommentsByFile(
    $file: ID
    $updatedAt: ModelStringKeyConditionInput
    $sortDirection: ModelSortDirection
    $filter: ModelCommentFilterInput
    $limit: Int
    $nextToken: String
  ) {
    commentsByFile(
      file: $file
      updatedAt: $updatedAt
      sortDirection: $sortDirection
      filter: $filter
      limit: $limit
      nextToken: $nextToken
    ) {
      items {
        id
        file
        data
        lastWriter
        updatedAt
        ttl
        createdAt
      }
      nextToken
    }
  }
`,k9=`
  query BookmarksByFile(
    $file: ID
    $updatedAt: ModelStringKeyConditionInput
    $sortDirection: ModelSortDirection
    $filter: ModelBookmarkFilterInput
    $limit: Int
    $nextToken: String
  ) {
    bookmarksByFile(
      file: $file
      updatedAt: $updatedAt
      sortDirection: $sortDirection
      filter: $filter
      limit: $limit
      nextToken: $nextToken
    ) {
      items {
        id
        file
        data
        updatedAt
        createdAt
      }
      nextToken
    }
  }
`,Qlt=`
  query AssetsByTeam(
    $team: String
    $sortDirection: ModelSortDirection
    $filter: ModelAssetFilterInput
    $limit: Int
    $nextToken: String
  ) {
    assetsByTeam(
      team: $team
      sortDirection: $sortDirection
      filter: $filter
      limit: $limit
      nextToken: $nextToken
    ) {
      items {
        id
        name
        description
        type
        team
        file
        source
        data
        tags
        preview
        isPrivate
        lastWriter
        updatedAt
        createdAt
      }
      nextToken
    }
  }
`,Jlt=`
  query AssetsByFile(
    $file: ID
    $sortDirection: ModelSortDirection
    $filter: ModelAssetFilterInput
    $limit: Int
    $nextToken: String
  ) {
    assetsByFile(
      file: $file
      sortDirection: $sortDirection
      filter: $filter
      limit: $limit
      nextToken: $nextToken
    ) {
      items {
        id
        name
        description
        type
        team
        file
        source
        data
        tags
        preview
        isPrivate
        lastWriter
        updatedAt
        createdAt
      }
      nextToken
    }
  }
`,$lt=`
  query MaterialsByTeam(
    $team: String
    $sortDirection: ModelSortDirection
    $filter: ModelMaterialFilterInput
    $limit: Int
    $nextToken: String
  ) {
    materialsByTeam(
      team: $team
      sortDirection: $sortDirection
      filter: $filter
      limit: $limit
      nextToken: $nextToken
    ) {
      items {
        id
        name
        team
        file
        data
        lastWriter
        updatedAt
        createdAt
      }
      nextToken
    }
  }
`,tct=`
  query MaterialsByFile(
    $file: ID
    $sortDirection: ModelSortDirection
    $filter: ModelMaterialFilterInput
    $limit: Int
    $nextToken: String
  ) {
    materialsByFile(
      file: $file
      sortDirection: $sortDirection
      filter: $filter
      limit: $limit
      nextToken: $nextToken
    ) {
      items {
        id
        name
        team
        file
        data
        lastWriter
        updatedAt
        createdAt
      }
      nextToken
    }
  }
`,ect=`
  query ProfileByEmail(
    $email: String
    $sortDirection: ModelSortDirection
    $filter: ModelProfileFilterInput
    $limit: Int
    $nextToken: String
  ) {
    profileByEmail(
      email: $email
      sortDirection: $sortDirection
      filter: $filter
      limit: $limit
      nextToken: $nextToken
    ) {
      items {
        id
        email
        fullName
        portrait
        data
        createdAt
        updatedAt
      }
      nextToken
    }
  }
`,G9=hr();async function eo(s,t,e,i,n=!0,o=!0){var v,y,b;if(!s)return{};const a=[];let l=[];const c=new Date(e-Fit).toISOString(),h=t&&n?{lastWriter:{ne:t}}:{},d=i?{ttl:{eq:0}}:{},u=Object.keys(h).length>0||Object.keys(d).length>0?{filter:{...h,...d}}:{},f={file:s,...e>0?{updatedAt:{gt:c}}:{},...u},p=await G9.graphql({query:F9,variables:f});if(p.data&&p.data.objectsByFile){const C=p.data.objectsByFile.items.filter(as.isDefined);a.push(C)}let g=(y=(v=p.data)==null?void 0:v.objectsByFile)==null?void 0:y.nextToken;if(g){for(;g;){const C={...f,nextToken:g},x=await G9.graphql({query:F9,variables:C});if(x.data&&x.data.objectsByFile){const I=x.data.objectsByFile.items.filter(as.isDefined);a.push(I),g=x.data.objectsByFile.nextToken}}l=a.flat()}else l=a[0];const _={};for(const C of l){const x={...Do,...JSON.parse(C.data),ttl:C.ttl};sct(x),((b=x.states)==null?void 0:b._metadata)!=null&&delete x.states._metadata;const I=x==null?void 0:x.version;if(I!=null&&I>Qg&&(console.warn("Found object with version greater than the current version",I,x==null?void 0:x.id),Ft("error-invalid-object-version",{version:I}),x.version=Qg),o)try{const O=zlt(x);_[C.id]=O}catch(O){if(_[C.id]=x,console.error("Failed to parse scene object:",O),O instanceof cZ){for(const T of O.errors){const D=T.path.join(".");console.error("ZodError on path:",D,"Reason:",T.message)}Ft("error-validation",O)}else O instanceof Error?Ft("error-validation",O):typeof O=="string"&&Ft("error-validation",{message:O})}else _[C.id]=x}return _}function sct(s){const t=gm.sceneObjectType2DefaultParameters(s.type);t&&(s.parameters=Object.assign({},t,s.parameters))}const p1=`
  mutation UpdateFile(
    $input: UpdateFileInput!
    $condition: ModelFileConditionInput
  ) {
    updateFile(input: $input, condition: $condition) {
      id
      type
      version
      creator
      team
      access
      link
      title
      scene
      bookmarks
      lastWriter
      createdAt
      updatedAt
    }
  }
`,ict=`
  mutation DeleteFile(
    $input: DeleteFileInput!
    $condition: ModelFileConditionInput
  ) {
    deleteFile(input: $input, condition: $condition) {
      id
      type
      version
      creator
      team
      access
      link
      title
      scene
      bookmarks
      lastWriter
      createdAt
      updatedAt
    }
  }
`,nct=`
  mutation UpdateObject(
    $input: UpdateObjectInput!
    $condition: ModelObjectConditionInput
  ) {
    updateObject(input: $input, condition: $condition) {
      id
      file
      data
      lastWriter
      ttl
      updatedAt
      createdAt
    }
  }
`,oct=`
  mutation CreateComment(
    $input: CreateCommentInput!
    $condition: ModelCommentConditionInput
  ) {
    createComment(input: $input, condition: $condition) {
      id
      file
      data
      lastWriter
      updatedAt
      ttl
      createdAt
    }
  }
`,yD=`
  mutation UpdateComment(
    $input: UpdateCommentInput!
    $condition: ModelCommentConditionInput
  ) {
    updateComment(input: $input, condition: $condition) {
      id
      file
      data
      lastWriter
      updatedAt
      ttl
      createdAt
    }
  }
`,rct=`
  mutation CreateBookmark(
    $input: CreateBookmarkInput!
    $condition: ModelBookmarkConditionInput
  ) {
    createBookmark(input: $input, condition: $condition) {
      id
      file
      data
      updatedAt
      createdAt
    }
  }
`,act=`
  mutation UpdateBookmark(
    $input: UpdateBookmarkInput!
    $condition: ModelBookmarkConditionInput
  ) {
    updateBookmark(input: $input, condition: $condition) {
      id
      file
      data
      updatedAt
      createdAt
    }
  }
`,lct=`
  mutation DeleteBookmark(
    $input: DeleteBookmarkInput!
    $condition: ModelBookmarkConditionInput
  ) {
    deleteBookmark(input: $input, condition: $condition) {
      id
      file
      data
      updatedAt
      createdAt
    }
  }
`,cct=`
  mutation UpdateAsset(
    $input: UpdateAssetInput!
    $condition: ModelAssetConditionInput
  ) {
    updateAsset(input: $input, condition: $condition) {
      id
      name
      description
      type
      team
      file
      source
      data
      tags
      preview
      isPrivate
      lastWriter
      updatedAt
      createdAt
    }
  }
`,hct=`
  mutation DeleteAsset(
    $input: DeleteAssetInput!
    $condition: ModelAssetConditionInput
  ) {
    deleteAsset(input: $input, condition: $condition) {
      id
      name
      description
      type
      team
      file
      source
      data
      tags
      preview
      isPrivate
      lastWriter
      updatedAt
      createdAt
    }
  }
`,dct=`
  mutation UpdateMaterial(
    $input: UpdateMaterialInput!
    $condition: ModelMaterialConditionInput
  ) {
    updateMaterial(input: $input, condition: $condition) {
      id
      name
      team
      file
      data
      lastWriter
      updatedAt
      createdAt
    }
  }
`,uct=`
  mutation CreateProfile(
    $input: CreateProfileInput!
    $condition: ModelProfileConditionInput
  ) {
    createProfile(input: $input, condition: $condition) {
      id
      email
      fullName
      portrait
      data
      createdAt
      updatedAt
    }
  }
`,PE=`
  mutation UpdateProfile(
    $input: UpdateProfileInput!
    $condition: ModelProfileConditionInput
  ) {
    updateProfile(input: $input, condition: $condition) {
      id
      email
      fullName
      portrait
      data
      createdAt
      updatedAt
    }
  }
`,fct=`
  mutation DeleteProfile(
    $input: DeleteProfileInput!
    $condition: ModelProfileConditionInput
  ) {
    deleteProfile(input: $input, condition: $condition) {
      id
      email
      fullName
      portrait
      data
      createdAt
      updatedAt
    }
  }
`,pct=`
  mutation UpdateTeam(
    $input: UpdateTeamInput!
    $condition: ModelTeamConditionInput
  ) {
    updateTeam(input: $input, condition: $condition) {
      id
      name
      createdAt
      updatedAt
    }
  }
`,mct=`
  mutation DeleteTeam(
    $input: DeleteTeamInput!
    $condition: ModelTeamConditionInput
  ) {
    deleteTeam(input: $input, condition: $condition) {
      id
      name
      createdAt
      updatedAt
    }
  }
`,R_=hr();async function To(s,t){!s||!t||await R_.graphql({query:p1,variables:{input:{id:s,version:t,lastWriter:he.sessionID}}})}async function gct(s,t){if(!s||!t)return;const e=JSON.stringify(t);await R_.graphql({query:p1,variables:{input:{id:s,access:e,lastWriter:he.sessionID}}})}async function _ct(s,t){!s||!t||await R_.graphql({query:p1,variables:{input:{id:s,link:t,lastWriter:he.sessionID}}})}async function bD(s,t){!s||!t||await R_.graphql({query:p1,variables:{input:{id:s,title:t,lastWriter:he.sessionID}}})}async function Aa(s,t){if(!s||!t)return;const e=JSON.stringify(t);try{await R_.graphql({query:p1,variables:{input:{id:s,scene:e,lastWriter:he.sessionID}}})}catch(i){Qd.graphqlError(i)}}async function vct(s){if(!s)return;const t={lastUpdated:Date.now()};await R_.graphql({query:p1,variables:{input:{id:s,bookmarks:JSON.stringify(t),lastWriter:he.sessionID}}})}function j5(){return Math.round(Date.now()/1e3)+1578e4}function yct(s,t=25){const e=[];for(let i=0;i<s.length;i+=t){const n=s.slice(i,i+t);e.push(n)}return e}const bct=hr();async function CD(s,t,e){try{const i={...t,lastUpdated:t.lastUpdated,lastWriter:t.lastWriter},n=Xt.docClient,o=e??pi.fileID;if(!o||o.length<1||!s||!t||!n)return;await n.send(new Ho({TableName:w5,Item:{id:s,createdAt:new Date().toISOString(),data:JSON.stringify(i),file:o,lastWriter:he.sessionID,ttl:0,updatedAt:new Date().toISOString(),__typename:"Object"}}))}catch(i){console.warn("Create object data failed:",i)}}async function Gb(s,t,e=w5){return Ws(s,t,!1,e)}async function Ws(s,t,e,i=w5){try{const n=Xt.docClient,o=t??pi.fileID;if(!o||o.length<1||!n)return;const a=new Date().toISOString();let l=0;e&&(l=j5());const c=s.map(d=>{const u=e?l:d.ttl;return{PutRequest:{Item:{id:{S:d.id},data:{S:JSON.stringify(d)},ttl:{N:String(u)},lastWriter:{S:he.sessionID},updatedAt:{S:a},createdAt:{S:a},file:{S:o},__typename:{S:"Object"}}}}}),h=yct(c,wit);for(const d of h)await n.send(new hZ({RequestItems:{[i]:d}}))}catch(n){console.warn("Update object data failed:",n)}}async function wD(s,t){return Ws(s,t,!0)}async function D5(s){try{const t=Xt.docClient;if(!s||!t)return;await bct.graphql({query:nct,variables:{input:{id:s,ttl:j5(),lastWriter:he.sessionID}}})}catch(t){console.warn("Delete object data failed:",t)}}async function F5(s,t,e,i){if(!(s.length<1&&t.length<1))try{await Fnt(s,t,e,i).catch(n=>{console.warn("Could not duplicate geometry on the server.",n)})}catch(n){console.warn("Duplication failed",n)}}async function Cct(s){console.warn("Converting from 220317 to 220521...");const t={...s},e=await eo(t.id,null,0,!0),i=[];for(const[n,o]of Object.entries(e)){const a={...o};a.id=n;const l=o;if(l.size&&(l.type===L.BOX?(a.scale=[l.scale[0]*l.size[0],l.scale[1]*l.size[1],l.scale[2]*l.size[2]],a.parameters={width:1,height:1,depth:1}):l.type===L.PLANE&&(a.scale=[l.scale[0]*l.size[0],l.scale[1]*l.size[1],l.scale[2]*l.size[2]],a.parameters={width:1,depth:1})),delete a.size,a.rotation=[ms.degToRad(l.rotation[0]),ms.degToRad(l.rotation[1]),ms.degToRad(l.rotation[2])],o.parent){const c=e[o.parent];if(c){const h=c.position,d=Hi.composeMatrix4({x:h[0],y:h[1],z:h[2]},c.rotation,c.scale,!0);d.invert();const u=a.position,f=a.rotation,p=a.scale,g=Hi.composeMatrix4({x:u[0],y:u[1],z:u[2]},{x:f[0],y:f[1],z:f[2]},{x:p[0],y:p[1],z:p[2]},!0),_=d.multiply(g),v={x:0,y:0,z:0},y={x:0,y:0,z:0},b={x:0,y:0,z:0};Hi.decomposeMatrix4(_,v,y,b),a.position=Object.values(v),a.rotation=Object.values(y)}}if(o.type===L.IMAGE){const c=new kh,h=await xs(o.urlKey),d=await c.loadAsync(h),u=100,f=d.image.width/u,p=d.image.height/u;a.parameters={width:f,depth:p};const g=new ls().set(...a.rotation),_=new ke().setFromEuler(g);_.multiply(new ke().setFromEuler(new ls(-ms.degToRad(90),0,0)));const v=new ls().setFromQuaternion(_);a.rotation=[v.x,v.y,v.z]}a.lastUpdated=Date.now(),i.push(a)}return Ws(i,t.id),console.warn("Finished conversion from 220317 to 220521..."),t.version=220521,await Aa(t.id,t.scene),await To(t.id,t.version),t}async function wct(s){console.warn("Converting from 220521 to 220726...");const t={...s};return t.scene={...s.scene,environment:s.scene.environment.colors[0],fog:on.fog,shadow:on.shadow,lightDirection:on.lightDirection},t.version=220726,await Aa(t.id,t.scene),await To(t.id,t.version),console.warn("Finished conversion from 220521 to 220726..."),t}async function xct(s){console.warn("Converting from 220726 to 220803...");const t={...s};return t.bookmarks={lastUpdated:0},t.version=220803,await Promise.all([vct(t.id),To(t.id,t.version)]),console.warn("Finished conversion from 220726 to 220803..."),t}async function Ect(s){console.warn("Converting from 220803 to 220906...");const t={...s},e=await eo(t.id,null,0,!0),i=Object.entries(e),n=[];for(const[o,a]of i){const l={...a};if(l.id=o,a.type===L.CURVE){const h=a.parameters.keyPoints,d=[];for(const u of h){const f={...u},p=u.position;if(p.x==null)continue;f.position=[p.x,p.y,p.z];const _=u.controls.slice();for(const v of _){if(v==null)continue;const y=v.position;!y||y.x==null||(v.position=[y.x,y.y,y.z])}f.controls=_,d.push(f)}l.parameters.keyPoints=d}l.lastUpdated=Date.now(),n.push(l)}return Ws(n,t.id),console.warn("Finished conversion from 220803 to 220906..."),t.version=220906,await Aa(t.id,t.scene),await To(t.id,t.version),t}async function Sct(s){console.warn("Converting from 220906 to 220908...");const t={...s},e=await eo(t.id,null,0,!0),i=Object.entries(e),n=[];for(const[o,a]of i){const l={...a};l.id=o,l.viewSettings.side=0,l.viewSettings.castShadow=!0,l.viewSettings.receiveShadow=!0,l.lastUpdated=Date.now(),n.push(l)}return Ws(n,t.id),console.warn("Finished conversion from 220906 to 220908..."),t.version=220908,await Aa(t.id,t.scene),await To(t.id,t.version),t}async function Ict(s){console.warn("Converting from 220908 to 221007...");const t={...s},e=await eo(t.id,null,0,!0),i=[];for(const n of Object.values(e)){const o={...n,interactions:{}};o.lastUpdated=Date.now(),i.push(o)}return await Ws(i,t.id),t.version=221007,await To(t.id,t.version),console.warn("Finished conversion from 220909 to 221007..."),t}function xD(s){return s.filter(as.isDefined).map(t=>$7(t))}function $7(s){const{id:t,name:e,team:i,file:n,data:o,lastWriter:a}=s;return{...t&&{id:t},...e&&{name:e},...i&&{team:i},...n&&{file:n},...o&&{data:JSON.parse(o)},...a&&{lastWriter:a}}}let hm=[];const Act=hr();function Qh(s,t,e=l7){var _;const{id:i,name:n,team:o,file:a,data:l,lastWriter:c,createdAt:h,updatedAt:d}=s,u=new Date().toISOString(),f={...nm,id:i||_t(),createdAt:h||u,updatedAt:d||u,...n&&{name:n},...o&&{team:o},...a&&{file:a},...l&&{data:l},...c&&{lastWriter:c},__typename:"Material"},p=$7(f);try{const v=Xt.docClient;if(!v)throw new Error("DynamoDBDocumentClient client not found");v.send(new Ho({TableName:e,Item:f}))}catch(v){console.error(v)}const g=((_=p.data.preview)==null?void 0:_.lg)??_t();return t==null||t.setMaterialPreview(p.id,{urlKey:g}),t==null||t.addMaterial(p),hm==null||hm.push(p),p}function tA(s,t,e=l7){return s.map(i=>Qh(i,t,e))}async function $y(s){try{await Act.graphql({query:dct,variables:{input:s}})}catch(t){console.error(t)}}async function Vb(s){return Promise.all(s.map(t=>$y(t)))}const V9=s=>hm.find(({name:e,team:i,file:n,data:o})=>(i!==nm.team||n!==nm.file)&&s.name===e&&JSON.stringify(G4(s.data))===JSON.stringify(G4(o)))||null,Tct=(s,t,e,i,n=!1,o,a)=>{const{file:l,team:c,name:h}=s;if(c==="bezel")return i==null||i.addMaterial(s),hm.push(s),null;if(c!==nm.team){const d=V9(s);if(d)return d.id;if(e){if(c!==e)return QC(s,h,void 0,e,i,n,o,a).id}else return QC(s,h,t,void 0,i,n,o,a).id;return i==null||i.addMaterial(s),hm.push(s),null}else if(l!==nm.file){const d=V9(s);return d?d.id:l!==t?QC(s,h,t,void 0,i,n,o,a).id:(i==null||i.addMaterial(s),hm.push(s),null)}else return QC(s,nm.name,void 0,void 0,i,n,o,a).id},Hb=(s,t,e,i,n=!1,o,a)=>{const l={};hm=(i==null?void 0:i.materialArr)||[];for(const c of s){const h=Tct(c,t,e,i,n,o,a);h!==null&&(l[c.id]=h)}return l};function QC(s,t,e,i,n,o=!1,a,l){const c=[],h=[],{data:d}=s,u=o?Pct(d,c,h):d;return F5(c,h,a,l),Qh({name:t,...e&&{file:e},...i&&{team:i},data:JSON.stringify(u)},n,l==="main"?TN:l7)}function Pct(s,t,e){const i=Iu(s.preview,t,e),n=Iu(s.map,t,e),o=Iu(s.alphaMap,t,e),a=Iu(s.aoMap,t,e),l=Iu(s.metalnessMap,t,e),c=Iu(s.roughnessMap,t,e),h=Iu(s.normalMap,t,e),d=Iu(s.displacementMap,t,e),u=Iu(s.envMap,t,e);return{...s,preview:i,map:n,alphaMap:o,aoMap:a,metalnessMap:l,roughnessMap:c,normalMap:h,displacementMap:d,envMap:u}}function Iu(s,t,e){let i=null;if(s){const{sm:n,md:o,lg:a}=s;a&&(i={lg:_t()},t.push(a),e.push(i.lg)),o&&i&&(i.md=_t(),t.push(o),e.push(i.md)),n&&i&&(i.sm=_t(),t.push(n),e.push(i.sm))}return i}async function ED(s,t){console.warn(`Converting ${String(s.id)} from 0 to 221111...`);const e={...s};let i=null;if(typeof e.material=="object"){const{material:{color:n,map:o,repeatX:a,repeatY:l,opacity:c,alphaMap:h,aoMap:d,metalness:u,metalnessMap:f,roughness:p,roughnessMap:g,normal:_,normalMap:v,displacementMap:y,envMap:b,flipY:C,mask:x},lastWriter:I}=s,O=Ht(),T={lightingModel:ue.Standard,preview:null,color:n,map:{lg:o},emissive:"#000000",emissiveMap:null,repeatX:a,repeatY:l,offsetX:0,offsetY:0,rotation:0,opacity:c,alphaMap:{lg:h},aoMap:{lg:d},ambientOcclusion:0,metalness:u,metalnessMap:{lg:f},roughness:p,roughnessMap:{lg:g},normal:_,normalMap:{lg:v},displacement:0,displacementMap:{lg:y},envMap:{lg:b},envMapIntensity:1,flipY:C,advancedEffects:{},mask:x};i={id:O,name:"Material",team:"-",file:"-",data:JSON.stringify(T),lastWriter:I},e.material=O}return e.lastUpdated=Date.now(),e.version=221111,await Promise.resolve({object:e,material:i})}async function Oct(s){console.warn("Converting from 221007 to 221018...");const t={...s},e=await eo(t.id,null,0,!0),i=[],n=[];for(const o of Object.values(e)){const a=await ED(o,t.id);a.object!=null&&i.push(a.object),a.material!=null&&n.push(a.material)}return tA(n),await Ws(i,t.id),console.warn("Finished conversion from 221007 to 221018..."),t.version=221018,await Aa(t.id,t.scene),await To(t.id,t.version),t}let Xd=null;const tb=hr();async function SD(s){try{const e=(await tb.graphql({query:Zlt,variables:{id:s}})).data.getMaterial;return e?$7(e):(console.warn("Fetching material failed. Creating a default material."),Qh({id:s}))}catch(t){console.error(t)}}async function _x(s){try{return(await Promise.all(s.map(e=>SD(e)))).filter(as.isDefined)}catch(t){return console.error(t),[]}}async function Mct(s){try{const t=m7(s);return _x(t)}catch(t){return console.error(t),[]}}async function eA(s){try{return(await Promise.all(s.map(e=>Mct(e)))).flat()}catch(t){return console.error(t),[]}}async function sA(s,t,e=-1,i,n=[]){var c,h,d;let o;t&&(o={...t&&{name:{contains:t}}});let a=[],l;try{Xd==null||Xd.stop();const u=tb.graphql({query:tct,variables:{file:s,filter:o,...i&&{nextToken:i}}});Xd=$g(u);const f=await Xd.start();return a=[...n,...(((c=f.data.materialsByFile)==null?void 0:c.items)||[]).filter(Boolean)],l=(h=f.data.materialsByFile)==null?void 0:h.nextToken,(e===-1||a.length<e)&&l?await sA(s,t,e,l,a):[xD(a),(d=f.data.materialsByFile)==null?void 0:d.nextToken]}catch(u){tb.isCancelError(u)||console.error(u)}}async function iA(s,t,e=-1,i,n=[]){var c,h,d;let o;t&&(o={...t&&{name:{contains:t}}});let a=[],l;try{Xd==null||Xd.stop();const u=tb.graphql({query:$lt,variables:{team:s,filter:o,...i&&{nextToken:i}}});Xd=$g(u);const f=await Xd.start();return a=[...n,...(((c=f.data.materialsByTeam)==null?void 0:c.items)||[]).filter(Boolean)],l=(h=f.data.materialsByTeam)==null?void 0:h.nextToken,(e===-1||a.length<e)&&l?await iA(s,t,e,l,a):[xD(a),(d=f.data.materialsByTeam)==null?void 0:d.nextToken]}catch(u){tb.isCancelError(u)||console.error(u)}}async function Lct(s){console.warn("Converting from 221018 to 221111...");const t={...s},e=await eo(t.id,null,0,!0),i=Object.values(e),n=await _x(i.map(a=>a.material).filter(as.isDefined)),o=[];for(const{id:a,name:l,file:c,team:h,data:d,lastWriter:u}of n){const{preview:f,map:p,alphaMap:g,aoMap:_,metalnessMap:v,roughnessMap:y,normalMap:b,displacementMap:C,envMap:x}=d,I={...d,preview:f!=null&&f.lg?f:null,map:p!=null&&p.lg?p:null,alphaMap:g!=null&&g.lg?g:null,aoMap:_!=null&&_.lg?_:null,metalnessMap:v!=null&&v.lg?v:null,roughnessMap:y!=null&&y.lg?y:null,normalMap:b!=null&&b.lg?b:null,displacementMap:C!=null&&C.lg?C:null,envMap:x!=null&&x.lg?x:null},O={id:a,name:l,file:c,team:h,lastWriter:u,data:JSON.stringify(I)};o.push(O)}return await Vb(o),console.warn("Finished conversion from 221018 to 221111..."),t.version=221111,await Aa(t.id,t.scene),await To(t.id,t.version),t}async function ID(s,t){console.warn(`Converting ${String(s.id)} from 221111 to 221128...`);const e={...s};return e.lastUpdated=Date.now(),(e.type===L.IMAGE||e.type===L.PLANE)&&!e.parameters.radii&&(e.parameters.radii=[0,0,0,0]),e.version=221128,await Promise.resolve({object:e})}async function Rct(s){console.warn("Converting from 221111 to 221128...");const t={...s},e=await eo(t.id,null,0,!0),i=[];for(const n of Object.values(e)){const o=await ID(n,t.id);o.object!=null&&i.push(o.object)}return await Ws(i,t.id),t.version=221128,await To(t.id,t.version),console.warn("Finished conversion from 221111 to 221128..."),t}const H9=hr();async function AD(s){if(!s)return new Map;let t=[];const e={file:s},i=await H9.graphql({query:k9,variables:e});t.push(i.data.bookmarksByFile.items);let n=i.data.bookmarksByFile.nextToken;if(n!=null){for(;n!=null;){const a=await H9.graphql({query:k9,variables:{...e,nextToken:n}});t.push(a.data.bookmarksByFile.items),n=a.data.bookmarksByFile.nextToken}t=t.flat()}else t=t[0];const o=new Map;for(const a of t){const l={...JSON.parse(a.data),updatedAt:a.updatedAt};o.set(a.id,l)}return o}async function Nct(s){console.warn("Converting from 221128 to 230110...");const t={...s},e=await AD(t.id),i=[];for(const[n,o]of e){const a={...Do,version:230110},l={index:o.index,transform:[...o.transform.elements],target:[o.target.x,o.target.y,o.target.z],spherical:[o.spherical.radius,o.spherical.phi,o.spherical.theta],focalOffset:[o.focalOffset.x,o.focalOffset.y,o.focalOffset.z],projection:o.projection,focalLength:o.focalLength,zoom:o.zoom,isBookmark:!0};a.name=o.label,a.id=o.id,a.parameters=l;const c=new Lt().fromArray(l.transform),h={x:0,y:0,z:0},d={x:0,y:0,z:0},u={x:1,y:1,z:1};Hi.decomposeMatrix4(c,h,d,u),a.position=[h.x,h.y,h.z],a.rotation=[d.x,d.y,d.z],a.scale=[u.x,u.y,u.z],a.type=L.CAMERA,i.push(a)}return await Gb(i,t.id),t.version=230110,await To(t.id,t.version),console.warn("Finished conversion from 221128 to 230110..."),t}async function jct(s){console.warn("Converting from 230110 to 230123...");const t={...s},e=await eo(t.id,null,0,!0),i=[],n=new Map;for(const a of Object.values(e)){const l=a.parent||"";n.has(l)||n.set(l,[]),n.get(l).push(a)}const o=[];for(const a of n.values())for(let l=0;l<a.length;++l){const c=a[l];if(c.index!="")continue;let h;if(l===0)h=ll(null,null);else{const u=o[l-1];h=ll(u,null)}o.push(h);const d={...c};d.lastUpdated=Date.now(),d.index=h,d.version=230123,i.push(d)}return await Ws(i,t.id),t.version=230123,await To(t.id,t.version),console.warn("Finished conversion from 230110 to 230123..."),t}async function TD(s,t){console.warn(`Converting ${String(s.id)} from  to 230123 to 230316...`);const e={...s};e.lastUpdated=Date.now(),e.version=230316;for(const[i,n]of Object.entries(e.interactions)){const{trigger:o,animations:a}=n;if(o.targetEntityId!=null){const{targetEntityId:l,...c}=o,h={...c,targetEntityIds:[l]};e.interactions[i]={trigger:h,animations:a}}}return await Promise.resolve({object:e})}async function Dct(s){console.warn("Converting from 230123 to 230316...");const t={...s},e=await eo(t.id,null,0,!0,!0,!1),i=[];for(const n of Object.values(e)){const o=await TD(n,t.id);o.object!=null&&i.push(o.object)}return await Ws(i,t.id),t.version=230316,await To(t.id,t.version),console.warn("Finished conversion from 221111 to 221128..."),t}async function PD(s,t,e){console.warn(`Converting ${String(s.id)} from  to 230316 to 230510...`);const i={...s};i.lastUpdated=Date.now(),i.version=230510;const{type:n}=i;if(n===L.TEXT){const{text:o,fontSize:a}=i;o!=null&&(i.parameters.text=o,delete i.text),a!=null&&(i.parameters.fontSize=a,delete i.fontSize);const l=await OD(i);if(l){const c=nA(i,e);MD(c,l),i.position=c.position.toArray(),i.rotation=[c.rotation.x,c.rotation.y,c.rotation.z],i.scale=c.scale.toArray();const{states:h,parentStates:d}=i;await U9(h,i,e,l),await U9(d,i,e,l)}}return{object:i}}function nA(s,t){const e=Fct(s),i=s.parent&&t.find(n=>n.id===s.parent);return i&&nA(i,t).add(e),e}function Fct(s){const t=new zs;t.position.fromArray(s.position);const e=new ls().fromArray(s.rotation);return t.quaternion.setFromEuler(e),t.scale.fromArray(s.scale),t.updateMatrixWorld(!0),t}async function OD(s){const t=new SL;t.text=s.parameters.text,t.fontSize=s.parameters.fontSize/72,t.anchorX="center",t.anchorY="bottom-baseline",await(n=>new Promise(o=>{n.sync(()=>{o()})}))(t);const{textRenderInfo:i}=t;return i}function MD(s,t){const[e,i]=Bct(t);s.rotateOnAxis(Mn,Math.PI/2),s.translateX(e),s.translateZ(i),s.updateMatrixWorld(!0)}function Bct(s){const{blockBounds:t,visibleBounds:e}=s,[i,n,o,a]=t,[l,c,h,d]=e,u=o-i,f=-(a-c);return[-u/2,f]}async function U9(s,t,e,i){for(const[n,o]of Object.entries(s))if(o.position||o.rotation||o.position||o.text||o.fontSize){const a=No(t);o.position&&(a.position=o.position),o.rotation&&(a.rotation=o.rotation),o.scale&&(a.scale=o.scale),o.text&&(a.parameters.text=o.text,o.parameters||(o.parameters={}),o.parameters.text=o.text,delete o.text),o.fontSize&&(a.parameters.fontSize=o.fontSize,o.parameters||(o.parameters={}),o.parameters.fontSize=o.fontSize,delete o.fontSize);const l=nA(a,e),c=await OD(a)??i;MD(l,c),o.position=l.position.toArray(),o.rotation=[l.rotation.x,l.rotation.y,l.rotation.z],o.scale=l.scale.toArray()}}async function kct(s){console.warn("Converting from 230316 to 230510...");const t={...s},e=await eo(t.id,null,0,!0,!0,!1),i=[],n=Object.values(e);for(const o of n){const a=await PD(o,t.id,n);a.object!=null&&i.push(a.object)}return await Ws(i,t.id),t.version=230510,await To(t.id,t.version),console.warn("Finished conversion from 230316 to 230510..."),t}var Gct=Object.defineProperty,Vct=(s,t,e)=>t in s?Gct(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Hct=(s,t,e)=>(Vct(s,t+"",e),e);Iy.registerPlugin(x4);const Uct=new Set(["lightingModel","preview","map","emissiveMap","alphaMap","aoMap","metalnessMap","roughnessMap","normalMap","displacementMap","envMap"]),zct=new Set(["id","type","lastWriter","lastVersion","lastUpdated","collapsed","parent","units","spawn","showBookmarks","index","visible","activeState","activeParentStateId","states","parentStates","colliders","ttl","asset","assetSource","isLocked","isInstance","importedAnimations","interactions","lockedScale","viewSettings","isInteractive","activeImportedAnimation","urlKey","assetVersion","version","_metadata","behaviors","sounds","lastGeometryUpdated","startState","name"]),Yct=[Qe.LINEAR,Qe.CUSTOM],z9={[Qe.POWER1]:"power1",[Qe.ELASTIC]:"elastic",[Qe.LINEAR]:"none",[Qe.CUSTOM]:"custom"},Wct={[_n.IN]:"in",[_n.OUT]:"out",[_n.IN_OUT]:"inOut"};class M0{constructor(t,e,i,n,o=!1,a=[]){this._sequence=t,this._shouldStartFromAny=e,this._getMaterialForState=i,this._callbacks=n,this._isFrameAnimation=o,Hct(this,"_timeline"),this._timeline=this._createTimeline(a)}_createTimeline(t=[]){var n,o,a;const{yoyo:e,repeat:i}=this._getAnimationRepeatSettings(this._sequence);this._timeline=Iy.timeline({paused:!0,onComplete:(n=this._callbacks)==null?void 0:n.onComplete,yoyo:e,repeat:i}),((o=this._callbacks)==null?void 0:o.onRepeat)!=null&&this._timeline.eventCallback("onRepeat",this._callbacks.onRepeat,[this._timeline]),((a=this._callbacks)==null?void 0:a.onUpdate)!=null&&this._timeline.eventCallback("onUpdate",this._callbacks.onUpdate,[this._timeline]);for(const l of Object.values(this._sequence)){const c=this._shouldStartFromAny||l.fromStateId===sr;this._addTimelineTweensForAnimation(l,c,this._isFrameAnimation)}for(const l of t)for(const c of Object.values(this._sequence)){const h={...c,...l},d=this._shouldStartFromAny||c.fromStateId===sr;this._addTimelineTweensForAnimation(h,d,this._isFrameAnimation)}return this._timeline}static getTweenId(t,e){return`tween:${t}:${e}`}get timeline(){return this._timeline}rebuild(){this._timeline.kill(),this._timeline=this._createTimeline(),this.play()}play(){this._timeline.play()}dispose(){this._timeline.kill()}static getSVGPathForEaseFunction(t,e,i,n={}){const o=M0._getGSAPEaseString(t,e,i);return x4.getSVGData(o,n)}_addTimelineTweensForAnimation(t,e,i=!1){if(t.fromStateId==t.toStateId)return;const n=t.proxy,o=this._getAnimatedProperties(n,t,i);if(o==null){U.warn(`Unable to animate between states ${t.fromStateId||""} ${t.toStateId||""}`);return}const{fromStateProperties:a,toStateProperties:l}=o,c=n.entityId!==ci;if(n.setTemporaryState(),c&&n.material!=null){const{from:d,to:u}=this._getAnimatedMaterials(n,t);a.material={...d},l.material={...u}}const h=this._animationSettingsFromAnimation(t);this._recursivelyAddTweensForProperties(a,l,e,n,h,n.entityId)}_getAnimatedProperties(t,e,i=!1){const n=t.activeValues(),o=t.entityId!==ci,a=i?n.frameStates:{},l=n.states,c=Object.assign({},a,l),h=e.fromStateId==null||e.fromStateId===sr,d=e.toStateId==null||e.toStateId===sr;let u=h?{}:{...c[e.fromStateId]};const f=d?{}:{...c[e.toStateId]};if(e.fromStateId===sr&&t.activeState!=null&&(u={...n.states[t.activeState]}),u==null||f==null)return U.warn(`Unable to animate between states ${e.fromStateId||""} ${e.toStateId||""}`),null;if(o&&t.type===L.CAMERA&&"parameters"in u||"parameters"in f){const g=t.baseValues().parameters,_="parameters"in u?u.parameters.spherical:g.spherical,v="parameters"in f?f.parameters.spherical:g.spherical;_&&v&&(v.theta=bat(v.theta,_.theta))}return{fromStateProperties:u,toStateProperties:f}}_getAnimatedMaterials(t,e){const i=t.baseValues();let n={},o={};if(!("material"in i)||i.material==null)return{from:n,to:o};const a=e.fromStateId===sr?t.activeState:e.fromStateId,l=this._getMaterialForState(i,a),c=this._getMaterialForState(i,e.toStateId);if(!l||!c)return{from:n,to:o};n=hs({...l.data}),o=hs({...c.data});for(const h of Uct)delete n[h],delete o[h];return{from:n,to:o}}_recursivelyAddTweensForProperties(t,e,i,n,o,a=""){const l=new Set([...Object.keys(t??{}),...Object.keys(e??{})]);if(n==null||!("base"in n)){U.warn("Tried to animate a non-proxy type");return}const c=n.base(),h=new Set,d=n;let u={},f={};for(const _ of l)if(!h.has(_)&&!zct.has(_)){h.add(_);let v=t[_]??c[_],y=e[_]??c[_];if(v!==null&&typeof v=="object"||y!==null&&typeof y=="object"){const b=n[_];b||U.warn(`Could not find object to interpolate for property ${_}`),this._recursivelyAddTweensForProperties(v,y,i,b,o,`${a}:${_}`);continue}else if(v===y)continue;v={[_]:v},y={[_]:y},u={...u,...v},f={...f,...y}}if(Object.values(u).length===0&&Object.values(f).length===0)return;const g={id:M0.getTweenId(a,"properties"),...f,...o};i?this._timeline.to(d,g,0):this._timeline.fromTo(d,u,g,0)}_getAnimationRepeatSettings(t){const e=Object.values(t);return e.length==0?{}:{yoyo:e[0].yoyo,repeat:e[0].repeat??void 0}}_animationSettingsFromAnimation(t){let e;if(t.ease===Qe.CUSTOM)e=t.customEaseSVGPath==null?e:x4.create("custom",t.customEaseSVGPath);else{const n=t.ease??$w,o=n===Qe.ELASTIC?s7:tx,a=t.easeDirection??o,l=t.elasticEaseParams??uw;e=M0._getGSAPEaseString(n,a,l)}return{duration:t.duration,repeatDelay:t.repeatDelay,delay:t.delay,ease:e,immediateRender:!1}}static _getGSAPEaseString(t,e,i){let n;return Yct.includes(t)?n=z9[t]:n=`${z9[t??$w]}.${Wct[e??tx]}`,t===Qe.ELASTIC&&i!=null&&(n=`${n}(${i.amplitude},${i.period})`),n}}const Xct=3,Zct=2,Kct=3,qct=3,Zl={AXES_HELPER:-2,OCCLUDER:-1,SCENE_ENTITY:0,MESH_COMPONENT_MESH:0,MESHER_VIEW_FACES:1,XR_RAY_PREPASS:1,XR_RAY:2};var LD=Object.defineProperty,Qct=Object.getOwnPropertyDescriptor,Jct=(s,t,e)=>t in s?LD(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,N_=(s,t,e,i)=>{for(var n=i>1?void 0:i?Qct(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&LD(t,e,n),n},JC=(s,t,e)=>(Jct(s,typeof t!="symbol"?t+"":t,e),e);class Wi extends Es{constructor(t,e,i){super(t),JC(this,"type",pt.Mesh),JC(this,"_mesh"),JC(this,"_materialComponent"),JC(this,"_geometryComponent"),this._materialComponent=e,this._geometryComponent=i,this._mesh=new re(void 0,e.meshMaterial),this._mesh.name=t.name,this._mesh.renderOrder=Zl.MESH_COMPONENT_MESH,i.geometry&&(i.geometry.computeBoundingBox(),i.geometry.computeBoundingSphere(),this._mesh.geometry=i.geometry),this._mesh.castShadow=this.entity.isEffectivelyCastingShadows,this._mesh.receiveShadow=this.entity.isEffectivelyReceivingShadows,this._mesh.userData.id=this.entity.id,this._mesh.position.copy(this.entity.transform.positionVec),this._mesh.rotation.copy(this.entity.transform.euler),this._mesh.scale.copy(this.entity.transform.scaleVec),this._mesh.updateMatrixWorld(),this._toggleVertexColors(),vt(this)}get mesh(){return this._mesh}get base(){return this._geometryComponent.base}get boundingBoxRevision(){return this._geometryComponent.boundingBoxRevision}copy(t){var e;if(t.base){const i=t.base.clone();i.userData=Object.assign({},(e=t.base)==null?void 0:e.userData),this.setGeometry(i)}return this}get material(){return this._materialComponent}get boundingBox(){return this._geometryComponent.boundingBox}get boundingSphere(){return this._geometryComponent.boundingSphere}setGeometryComponent(t){this._geometryComponent=t,super.dispose(),this.watch()}setGeometry(t){this._geometryComponent.setBaseGeometry(t),this._geometryComponent.geometry&&(this._mesh.geometry=this._geometryComponent.geometry,this._toggleVertexColors()),this.entity.highlightComponent.updateMesh()}setMaterial(t){this._mesh.material=t,this._toggleVertexColors()}watch(){this.disposableReactions.push(rt(()=>{this._mesh.position.copy(this.entity.transform.positionVec),this._mesh.rotation.copy(this.entity.transform.euler),this._mesh.scale.copy(this.entity.transform.scaleVec),this._mesh.updateMatrixWorld()})),this.disposableReactions.push(rt(()=>{this._mesh.castShadow=this.entity.isEffectivelyCastingShadows})),this.disposableReactions.push(rt(()=>{this._mesh.visible=this.entity.sceneObject.isVisible,this.entity.editor.signals.object.sceneGraphChanged.dispatch()})),this.disposableReactions.push(rt(()=>{this._mesh.receiveShadow=this.entity.isEffectivelyReceivingShadows})),this.disposableReactions.push(rt(()=>{this._geometryComponent.geometry&&(this._mesh.geometry=this._geometryComponent.geometry,this._toggleVertexColors(),this.entity.highlightComponent.update(),this.entity.editor.signals.object.geometryUpdated.dispatch({objectName:this.entity.name}))})),this.disposableReactions.push(rt(()=>{this._materialComponent.meshMaterial&&(this._mesh.material=this._materialComponent.meshMaterial,this._toggleVertexColors(),this._mesh.material.needsUpdate=!0,this.entity.editor.signals.object.materialUpdated.dispatch())})),this.disposableReactions.push(rt(()=>{this._geometryComponent.geometry&&(this._mesh.morphTargetDictionary=this._geometryComponent.morphTargetDictionary,this._mesh.morphTargetInfluences=this._geometryComponent.morphTargetInfluences)}))}_toggleVertexColors(){this._mesh.material.vertexColors=this._mesh.geometry.hasAttribute("color"),this._mesh.material.needsUpdate=!0}dispose(){super.dispose(),this.mesh.material.dispose()}}N_([V],Wi.prototype,"_geometryComponent",2);N_([M],Wi.prototype,"boundingBoxRevision",1);N_([E],Wi.prototype,"copy",1);N_([M],Wi.prototype,"boundingBox",1);N_([M],Wi.prototype,"boundingSphere",1);N_([E],Wi.prototype,"setGeometryComponent",1);var RD=Object.defineProperty,$ct=(s,t,e)=>t in s?RD(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,ND=(s,t,e,i)=>{for(var n=void 0,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&RD(t,e,n),n},OE=(s,t,e)=>($ct(s,typeof t!="symbol"?t+"":t,e),e);const oA=class jD extends Es{constructor(t,e){super(t),OE(this,"type",pt.Instance),OE(this,"component"),OE(this,"componentEntity");const i=e.getComponent(jD);i&&!e.compo.isInstanceRoot?(this.component=i.component,this.componentEntity=i.componentEntity):(this.component=e.base,this.componentEntity=e),this._updateGeometry(e),this._rewatch(),vt(this)}_rewatch(){super.dispose(),this.watch()}get overrides(){return this.entity.sceneObject.base().overrides}get materialOverrides(){var t;return((t=this.entity.sceneObject.overrides)==null?void 0:t.material)??{}}_updateGeometry(t){if(this.entity.type===L.SHAPE){const e=this.entity.getComponentByType(pt.Geometry),i=t.getComponentByType(pt.Geometry);if(!e||!i)return;this.entity.removeComponent(e),this.entity.addComponent(i),this.entity.getComponent(Wi).setGeometryComponent(i)}}_setComponentById(t){const e=this.entity.editor.sceneController.getSceneEntityById(t);e!=null&&this.setComponent(e)}setComponent(t){this.component=t.base,this._updateGeometry(t),this._rewatch()}_moveIndex(t){this.entity.parent&&this.entity.parent.sortChildren()}deleteOverride(t){this.entity.sceneObject.overrides!=null&&delete this.entity.sceneObject.overrides[t]}deleteMaterialOverride(t){this.entity.sceneObject.overrides!=null&&this.entity.sceneObject.overrides.material!=null&&delete this.entity.sceneObject.overrides.material[t]}watch(){this.disposableReactions.push(rt(()=>{this.component&&this._moveIndex(this.component.index)}))}static duplicate(t,e,i){t.overrides=No(t.overrides)}};ND([V],oA.prototype,"component");ND([V],oA.prototype,"componentEntity");let Js=oA;var DD=Object.defineProperty,tht=Object.getOwnPropertyDescriptor,eht=(s,t,e)=>t in s?DD(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,FD=(s,t,e,i)=>{for(var n=i>1?void 0:i?tht(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&DD(t,e,n),n},Y9=(s,t,e)=>(eht(s,typeof t!="symbol"?t+"":t,e),e);class BD{constructor(t){this.ignoredPropertyPaths=t}getIsPathIgnored(t,e){const i=this.getFullPropertyPath(t,e);return this.ignoredPropertyPaths.has(i)}getFullPropertyPath(t,e){return`${e}${e.length>0?".":""}${t}`}}class Ke{constructor(t,e,i=()=>{},n=""){this._getNested=e,this._setNested=i,this._pathPrefix=n,Y9(this,"_proxies",[]),Y9(this,"_baseObject"),this._baseObject=t,vt(this)}get isProxy(){return!0}get(t){for(const i of this._proxies){const n=i.get(this._baseObject,this._getNested,t,this._pathPrefix);if(n.found&&n.value!==void 0)return n.value}const e=this._getNested(this._baseObject);if(e)return e[t]}set(t,e){if(!this._proxies.some(n=>n.set(this._baseObject,this._getNested,this._setNested,t,e,this._pathPrefix))){const n=this._getNested(this._baseObject);e===void 0?delete n[t]:(n[t]=e,this._setNested(this._baseObject,n))}}getIds(t){const e=new Set;for(const i of this._proxies){const{value:n,found:o}=i.getIds(this._baseObject,this._getNested,t,this._pathPrefix);if(o)for(const a of n)e.add(a)}{const i=this._getNested(this._baseObject);if(i!==null&&typeof i=="object")for(const n of Object.keys(i))e.add(n)}return e}copy(t){const e=L0(t)?Object.keys(t.baseValues()):Object.keys(t);for(const i of e)if(i in t){let n=t[i];L0(n)&&(n=n.baseValues()),this.set(i,n)}}copyToBase(t){const e=Object.keys(t);for(const i of e){const n=this._getNested(this._baseObject);n[i]=t[i],this._setNested(this._baseObject,n)}}cloneTo(t){const e=Object.keys(this.base());t===void 0&&(t={});for(const i of e)L0(this[i])?(t[i]===void 0&&(t[i]={}),this[i].cloneTo(t[i])):t[i]=this.get(i)}base(){return this._getNested(this._baseObject)}baseValues(){return{...hs(this.base())}}activeValues(t){const e=t??Object.keys(this.baseValues()),i={};for(const n of e)i[n]=hs(this.get(n));return i}}FD([V],Ke.prototype,"_baseObject",2);FD([E],Ke.prototype,"set",1);function L0(s){if(s==null||s.isProxy!==!0)return!1;const t=s;return t.copy instanceof Function&&t.copyToBase instanceof Function&&t.base instanceof Function&&t.baseValues instanceof Function}const kD=new Set([...Cw,"interactions.interaction.trigger","interactions.interaction.animations","viewSettings.shouldFlipTextures"]),t6=new Set([...kD]);t6.delete("colliders");class Ns extends BD{constructor(t,e=new Set(["overrides"])){super(e),this._sceneController=t}get(t,e,i,n=""){var d,u;if(this.getIsPathIgnored(i,n))return{value:void 0,found:!1};const o=this._getComponentSource(t);if(!o)return{value:void 0,found:!1};const a=e(o),l=this._getIsCurrentlyStatefulProperty(i,n,t,t6);let c=bo.isObject(a==null?void 0:a[i])?hs(a==null?void 0:a[i]):a==null?void 0:a[i];const h=o.states;if(t.overrides!=null){const f=e(t.overrides)??{};c=this._getMergedProperty(c,f[i])}if(l){const f=t.activeState;if(f===an)return{value:void 0,found:!1};if(f!=null&&h[f]!=null){const p=e(h[f])??{};let g=bo.isObject(p[i])?hs(p[i]??{}):p[i];if(((u=(d=t.overrides)==null?void 0:d.states)==null?void 0:u[f])!=null){const _=e(t.overrides.states[f]??{})??{},v=bo.isObject(_[i])?hs(_[i]??{}):_[i];g=this._getMergedProperty(g,v)}c=this._getMergedProperty(c,g)}}return c===void 0||bo.isObject(c)&&Object.values(c).length===0?{value:void 0,found:!1}:{value:c,found:!0}}set(t,e,i,n,o,a=""){var f,p;if(this.getIsPathIgnored(n,a)||t.activeState===an||!this._getComponentSource(t))return!1;const h=this._getIsCurrentlyStatefulProperty(n,a,t,kD)&&(!Vl(n)||a=="behaviors");t.overrides==null&&(t.overrides={});let d=t.overrides;if(h){const g=t.activeState;g!=null&&(((p=(f=t.overrides)==null?void 0:f.states)==null?void 0:p[g])==null&&(t.overrides.states={[g]:{}}),d=t.overrides.states[g])}const u=e(d)??{};return u[n]=o,o===void 0&&delete u[n],i(d,u),!0}getIds(t,e,i,n=""){const o=new Set;let a=!1;if(this.getIsPathIgnored(i,n))return{found:a,value:o};const l=this._getComponentSource(t);if(l==null)return{found:!1,value:o};const c=e(l);if(bo.isObject(c))for(const f of Object.keys(c))o.add(f);if(this._getIsCurrentlyStatefulProperty(i,n,t,t6)){const f=t.activeState;if(f===an)return{found:o.size>0,value:o};if(f!=null){const p=l.states[f],g=e(p);if(g!=null&&typeof g=="object")for(const y of Object.keys(g))o.add(y);const _=this._getStatefulOverrides(t),v=_==null?null:e(_);if(bo.isObject(v))for(const y of Object.keys(v))o.add(y)}}const d=t.overrides,u=d==null?null:e(d);if(bo.isObject(u))for(const f of Object.keys(u))o.add(f);return a=o.size>0,{found:a,value:o}}_getStatefulOverrides(t){var e;if(t.overrides==null)return null;if(t.activeState==null)return t.overrides??null;if(t.activeState!=null){const i=(e=t.overrides)==null?void 0:e.states;return i!=null?i[t.activeState]??null:null}}_getComponentSource(t){if(!t.isInstance||t.parent==null)return null;const i=this._sceneController.getSceneEntityById(t.parent);if(i==null||!i.sceneObject.isInstance)return null;const n=this._sceneController.getSceneEntityById(t.id??""),o=n==null?void 0:n.getComponent(Js);return(o==null?void 0:o.component)??null}_getMergedProperty(t,e){const i=bo.isObject(e),n=bo.isObject(t);return i&&n?Fw(hs(t),hs(e)):e??t}_getIsCurrentlyStatefulProperty(t,e,i,n){const o=this.getFullPropertyPath(t,e);return!n.has(o)&&i.activeState!=null}}var sht=Object.defineProperty,iht=(s,t,e)=>t in s?sht(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,W9=(s,t,e)=>(iht(s,typeof t!="symbol"?t+"":t,e),e);const nht=Object.keys(J7.shape),oht=Object.keys(t7.shape);class rht extends Ke{constructor(t,e,i){super(t,o=>{if(!(o.interactions==null||o.interactions[i]==null))return o.interactions[i].animations??void 0},(o,a)=>{o.interactions==null||o.interactions[i]==null||(o.interactions[i].animations=a)},"interactions.interaction.animations"),this._sceneController=e,this._interactionId=i;const n=new Ns(e);this._proxies.push(n)}add(t,e){this.set(t,e)}remove(t){this.set(t,void 0)}getValue(t){return this.values.find(e=>e.id===t)}entries(){return this.values.map(t=>[t.id,t])}keys(){return Array.from(this.getIds())}getIds(){return super.getIds("animations")}get values(){const t=[],e=this.getIds();for(const i of e)t.push(new aht(this._baseObject,this._sceneController,this._interactionId,i));return t}activeValues(){return super.activeValues(this.keys())}}class aht extends Ke{constructor(t,e,i,n){super(t,a=>{if(!(a.interactions==null||a.interactions[i]==null||a.interactions[i].animations==null))return a.interactions[i].animations[n]??void 0},(a,l)=>{a.interactions==null||a.interactions[i]==null||a.interactions[i].animations==null||(a.interactions[i].animations[n]=l)},"interactions.animations.animation"),this._sceneController=e,this.interactionId=i,this.animationId=n;const o=new Ns(e);this._proxies.push(o)}get id(){return this.get("id")}get sceneEntityId(){return this.get("sceneEntityId")}set sceneEntityId(t){this.set("sceneEntityId",t)}get fromStateId(){return this.get("fromStateId")}set fromStateId(t){this.set("fromStateId",t)}get toStateId(){return this.get("toStateId")}set toStateId(t){this.set("toStateId",t)}get duration(){return this.get("duration")}set duration(t){this.set("duration",t)}get delay(){return this.get("delay")}set delay(t){this.set("delay",t)}get repeat(){return this.get("repeat")}set repeat(t){this.set("repeat",t)}get repeatDelay(){return this.get("repeatDelay")}set repeatDelay(t){this.set("repeatDelay",t)}get yoyo(){return this.get("yoyo")}set yoyo(t){this.set("yoyo",t)}get ease(){return this.get("ease")}set ease(t){this.set("ease",t)}get easeDirection(){return this.get("easeDirection")}set easeDirection(t){this.set("easeDirection",t)}get customEaseSVGPath(){return this.get("customEaseSVGPath")}set customEaseSVGPath(t){this.set("customEaseSVGPath",t)}get elasticEaseParams(){return this.get("elasticEaseParams")}set elasticEaseParams(t){this.set("elasticEaseParams",t)}activeValues(){return super.activeValues(oht)}}class lht extends Ke{constructor(t,e,i){super(t,o=>{if(o.interactions!=null)return o.interactions[i]??void 0},(o,a)=>{o.interactions==null||o.interactions[i]==null||(o.interactions[i]=a)},"interactions.interaction"),this._sceneController=e,this.interactionId=i,W9(this,"_id"),W9(this,"_animations"),this._animations=new rht(t,e,i),this._id=i;const n=new Ns(e);this._proxies.push(n)}get id(){return this._id}_getRelativeTargetEntityIds(t){const e=this._sceneController.getSceneEntityById(this._baseObject.id);if(!e)return;const i=No(t);if(i.targetEntityIds!=null){const n=[];for(const o of i.targetEntityIds)if(o===Ms)n.push(o);else if(o===wo)n.push(o);else{const a=e.compo.getRoot();if(!a)return null;const l=a.allChildren.find(c=>{const h=c.getComponent(Js);return h?h.component.id===o:!1});n.push(l?l.id:o)}i.targetEntityIds=n}if(i.targetEntityIds2!=null){const n=[];for(const o of i.targetEntityIds2)if(o===Ms)n.push(o);else if(o===wo)n.push(o);else{const a=e.compo.getRoot();if(!a)return null;const l=a.allChildren.find(c=>{const h=c.getComponent(Js);return h?h.component.id===o:!1});n.push(l?l.id:o)}i.targetEntityIds2=n}return i}get trigger(){if(this._baseObject.asset!=null){const t=this._getRelativeTargetEntityIds(this.get("trigger"));if(t)return t}return this.get("trigger")}set trigger(t){this.set("trigger",t)}get animations(){return this.get("animations")}set animations(t){this.set("animations",t)}activeValues(){return super.activeValues(nht)}}class GD extends Ke{constructor(t,e){super(t,n=>{if(n)return n.interactions??void 0},(n,o)=>{let a=o;L0(o)&&(a=o.baseValues()),n.interactions=a},"interactions"),this._sceneController=e;const i=new Ns(e);this._proxies.push(i)}add(t,e){this.set(t,e)}remove(t){this.set(t,void 0)}getValue(t){return this.values.find(e=>e.id===t)}entries(){return this.values.map(t=>[t.id,t])}keys(){return Array.from(this.getIds())}getIds(){return super.getIds("interactions")}activeValues(){return super.activeValues(this.keys())}get values(){const t=[],e=this.getIds();for(const i of e)t.push(new lht(this._baseObject,this._sceneController,i));return t}}var VD=Object.defineProperty,cht=Object.getOwnPropertyDescriptor,hht=(s,t,e)=>t in s?VD(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,ni=(s,t,e,i)=>{for(var n=i>1?void 0:i?cht(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&VD(t,e,n),n},xd=(s,t,e)=>(hht(s,typeof t!="symbol"?t+"":t,e),e);const Xs=class HD extends Es{constructor(t,e){super(t),xd(this,"type",pt.Constraint),xd(this,"_frame"),xd(this,"_anchorX"),xd(this,"_anchorY"),xd(this,"_anchorZ"),xd(this,"_isEnabled"),xd(this,"_tempLocalAxisVec",new w(0,0,0)),xd(this,"_tempSizeDiff",new w(0,0,0)),xd(this,"_tempNewSizeVec",new w(0,0,0)),xd(this,"_tempOldSizeVec",new w(0,0,0)),this._frame=e;const{constraint:i}=t.sceneObject,{X:n,Y:o,Z:a}=_y;this._anchorX=(i==null?void 0:i.anchorX)??n,this._anchorY=(i==null?void 0:i.anchorY)??o,this._anchorZ=(i==null?void 0:i.anchorZ)??a,this._isEnabled=(i==null?void 0:i.isEnabled)??!1,(!(i!=null&&i.anchorX)||!(i!=null&&i.anchorY)||!(i!=null&&i.anchorZ))&&(t.sceneObject.constraint={anchorX:this._anchorX,anchorY:this._anchorY,anchorZ:this._anchorZ,isEnabled:!1}),vt(this)}get constraint(){return this.entity.sceneObject.constraint}get frame(){return this._frame}get firstMaybeStatefulFrameAncestor(){let t=this.frame;for(;t;){if(!t.entity.states.hasOnlyAnimatingState)return t;const e=t.entity.getComponent(HD);t=e==null?void 0:e.frame}return this.frame}get isEnabled(){return this._isEnabled}set isEnabled(t){this.entity.sceneObject.constraint?this.entity.sceneObject.constraint.isEnabled=t:this.entity.sceneObject.constraint={anchorX:this._anchorX,anchorY:this._anchorY,anchorZ:this._anchorZ,isEnabled:t}}setParentFrame(t){if(this.frame===t){const{constraint:i}=this.entity.sceneObject;if(i){const{anchorX:n,anchorY:o,anchorZ:a,isEnabled:l}=i;this._anchorX=n,this._anchorY=o,this._anchorZ=a,this._isEnabled=l;return}}this._frame=t}get constraintParentId(){return this.frame.entity.id}get needsMultiFacePositionChange(){return this.entity.isText}applyConstraint(t,e,i,n){t?(this.applySize(e,n),this.needsMultiFacePositionChange&&this.applyMultiFacePosition(e,i)):this.applySingleFacePosition(e,i)}applyMultiFacePosition(t,e){if(!this.hasBothX&&!this.hasBothY&&!this.hasBothZ)return;let{x:i,y:n,z:o}=this.entity.transform.position;const a=e/2;t===xa[Mt.X]?i-=a:t===xa[Mt.Y]?n-=a:t===xa[Mt.Z]&&(o-=a),this.entity.transform.setPosition({x:i,y:n,z:o})}applySingleFacePosition(t,e){let{x:i,y:n,z:o}=this.entity.transform.position;const a=e/2;t===xa[Mt.X]?this.hasMinX?i-=a:this.hasMaxX&&(i+=a):t===xa[Mt.Y]?this.hasMinY?n-=a:this.hasMaxY&&(n+=a):t===xa[Mt.Z]&&(this.hasMinZ?o-=a:this.hasMaxZ&&(o+=a)),this.entity.transform.setPosition({x:i,y:n,z:o})}get isAlignedToFrame(){const{transform:t}=this.entity,{transform:e}=this.frame.entity,i=e.convertToChildSpace(t,this._tempLocalAxisVec.set(1,0,0));return SE(i)}get isEveryMultiFaceAxesAlignedToFrame(){return this.constraint?[Mt.X,Mt.Y,Mt.Z].every(t=>{const e=Qj[t];if(this.constraint[e]!==Zn.BOTH)return!0;const n=Wj[t];return this.isAlignedToFrameInAxis(n)}):!1}isAlignedToFrameInAxis(t){const{transform:e}=this.entity,{transform:i}=this.frame.entity,n=i.convertToChildSpace(e,this._tempLocalAxisVec.copy(t));return SE(n)}isEffectivelyInBaseState(){return!(this.entity.sceneObject.activeState||this.frame.entity.sceneObject.activeState)}applySize(t,e){if(!this.entity.states.hasOnlyAnimatingState)return;const i=this.frame.entity.transform,n=this.entity.transform,o=this._tempLocalAxisVec.set(0,0,0);o[t]=1;const a=i.convertToChildSpace(n,o);if(!SE(a))return;const l=this.frame.entity.size.clone(),c=i.convertToChildSpace(n,l);c.x=Math.abs(c.x),c.y=Math.abs(c.y),c.z=Math.abs(c.z);const h=this._tempSizeDiff.set(0,0,0).subVectors(c,this.entity.size),d=Math.abs(this.entity.size.dot(a)),u=Math.abs(h.dot(a)),f=e-u,p=this._tempNewSizeVec.copy(a).multiplyScalar(f),g=this._tempOldSizeVec.copy(a).multiplyScalar(d);g.x=Math.abs(g.x),g.y=Math.abs(g.y),g.z=Math.abs(g.z);const _=xo(g,p),{size:v}=this.entity,y=_.add(v);y.x=Math.abs(y.x),y.y=Math.abs(y.y),y.z=Math.abs(y.z),this.entity.size=y}toggleAnchor(t,e){const i=this.entity.sceneObject.constraint;if(!i||!qj[t].includes(e))return;if(t===Mt.X){if(this._anchorX===e)return;i.anchorX=this._anchorX=e;return}if(t===Mt.Y){if(this._anchorY===e)return;i.anchorY=this._anchorY=e;return}if(t===Mt.Z){if(this._anchorZ===e)return;i.anchorZ=this._anchorZ=e}}get hasMinX(){return this._anchorX===Zn.MIN}get hasCenterX(){return this._anchorX===Zn.CENTER}get hasMaxX(){return this._anchorX===Zn.MAX}get hasBothX(){return this._anchorX===Zn.BOTH}get hasMinY(){return this._anchorY===Zn.MIN}get hasCenterY(){return this._anchorY===Zn.CENTER}get hasMaxY(){return this._anchorY===Zn.MAX}get hasBothY(){return this._anchorY===Zn.BOTH}get hasMinZ(){return this._anchorZ===Zn.MIN}get hasCenterZ(){return this._anchorZ===Zn.CENTER}get hasMaxZ(){return this._anchorZ===Zn.MAX}get hasBothZ(){return this._anchorZ===Zn.BOTH}get hasMultiFaceConstraints(){return this.hasBothX||this.hasBothY||this.hasBothZ}watch(){this.disposableReactions.push(rt(()=>{const{constraint:t}=this.entity.sceneObject;t&&(this._anchorX=t.anchorX)}),rt(()=>{const{constraint:t}=this.entity.sceneObject;t&&(this._anchorY=t.anchorY)}),rt(()=>{const{constraint:t}=this.entity.sceneObject;t&&(this._anchorZ=t.anchorZ)}),rt(()=>{const{constraint:t}=this.entity.sceneObject;t&&(this._isEnabled=t.isEnabled)}))}dispose(){super.dispose()}};ni([V],Xs.prototype,"_frame",2);ni([V],Xs.prototype,"_anchorX",2);ni([V],Xs.prototype,"_anchorY",2);ni([V],Xs.prototype,"_anchorZ",2);ni([V],Xs.prototype,"_isEnabled",2);ni([M],Xs.prototype,"constraint",1);ni([M],Xs.prototype,"frame",1);ni([M],Xs.prototype,"firstMaybeStatefulFrameAncestor",1);ni([M],Xs.prototype,"isEnabled",1);ni([E],Xs.prototype,"setParentFrame",1);ni([M],Xs.prototype,"constraintParentId",1);ni([M],Xs.prototype,"needsMultiFacePositionChange",1);ni([E],Xs.prototype,"applyConstraint",1);ni([E],Xs.prototype,"applyMultiFacePosition",1);ni([E],Xs.prototype,"applySingleFacePosition",1);ni([M],Xs.prototype,"isAlignedToFrame",1);ni([M],Xs.prototype,"isEveryMultiFaceAxesAlignedToFrame",1);ni([E],Xs.prototype,"applySize",1);ni([E],Xs.prototype,"toggleAnchor",1);ni([M],Xs.prototype,"hasMinX",1);ni([M],Xs.prototype,"hasCenterX",1);ni([M],Xs.prototype,"hasMaxX",1);ni([M],Xs.prototype,"hasBothX",1);ni([M],Xs.prototype,"hasMinY",1);ni([M],Xs.prototype,"hasCenterY",1);ni([M],Xs.prototype,"hasMaxY",1);ni([M],Xs.prototype,"hasBothY",1);ni([M],Xs.prototype,"hasMinZ",1);ni([M],Xs.prototype,"hasCenterZ",1);ni([M],Xs.prototype,"hasMaxZ",1);ni([M],Xs.prototype,"hasBothZ",1);ni([M],Xs.prototype,"hasMultiFaceConstraints",1);let Uh=Xs;var dht=Object.defineProperty,uht=(s,t,e)=>t in s?dht(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,ME=(s,t,e)=>(uht(s,typeof t!="symbol"?t+"":t,e),e);class fht{constructor(t,e){this._material=t,this._advancedEffects=e,td(this)}toJS(){var t;return((t=this._material.materialData.advancedEffects)==null?void 0:t.Glass)==null?null:{thickness:this.thickness,transmission:this.transmission,ior:this.ior}}get thickness(){return this._glassEffect.thickness}set thickness(t){this._setGlassStateProperty("thickness",t)}get transmission(){return this._glassEffect.transmission}set transmission(t){this._setGlassStateProperty("transmission",t)}get ior(){return this._glassEffect.ior}set ior(t){this._setGlassStateProperty("ior",t)}get _glassEffect(){var t;return((t=this._material.materialData.advancedEffects)==null?void 0:t.Glass)??ej.Glass}base(){var t;return(t=this._material.base().data.advancedEffects)==null?void 0:t.Glass}clone(){const t=this.base();return t==null?void 0:{...t}}copy(t){const e={...this._material.materialData.advancedEffects};t==null?delete e.Glass:e.Glass={...t},this._material.setStatefulMaterialProperty("advancedEffects",e)}_setGlassStateProperty(t,e){const i={...this._glassEffect};i[t]=e,this._advancedEffects.setStatefulProperty(jl.GLASS,i)}}class pht{constructor(t,e){this._material=t,this._advancedEffects=e,td(this)}toJS(){var t;return((t=this._material.materialData.advancedEffects)==null?void 0:t.Sheen)==null?null:{color:this.color,sheen:this.sheen,roughness:this.roughness}}get color(){return this._sheenEffect.color}set color(t){this._setSheenStateProperty("color",t)}get sheen(){return this._sheenEffect.sheen}set sheen(t){this._sheenEffect.sheen=t}get roughness(){return this._sheenEffect.roughness}set roughness(t){this._sheenEffect.roughness=t}get _sheenEffect(){var t;return((t=this._material.materialData.advancedEffects)==null?void 0:t.Sheen)??sj.Sheen}base(){var t;return(t=this._material.base().data.advancedEffects)==null?void 0:t.Sheen}clone(){const t=this.base();return t==null?void 0:{...t}}copy(t){const e={...this._material.materialData.advancedEffects};t==null?delete e.Sheen:e.Sheen={...t},this._material.setStatefulMaterialProperty("advancedEffects",e)}_setSheenStateProperty(t,e){const i={...this._sheenEffect};i[t]=e,this._advancedEffects.setStatefulProperty(jl.SHEEN,i)}}class mht{constructor(t,e){this._material=t,this._advancedEffects=e,td(this)}toJS(){var t;return((t=this._material.materialData.advancedEffects)==null?void 0:t.Clearcoat)==null?null:{clearcoat:this.clearcoat,roughness:this.roughness}}get clearcoat(){return this._clearcoatEffect.clearcoat}set clearcoat(t){this._setClearcoatStateProperty("clearcoat",t)}get roughness(){return this._clearcoatEffect.roughness}set roughness(t){this._setClearcoatStateProperty("roughness",t)}get _clearcoatEffect(){var t,e;return((e=(t=this._material.materialData)==null?void 0:t.advancedEffects)==null?void 0:e.Clearcoat)??ij.Clearcoat}copy(t){const e={...this._material.materialData.advancedEffects};t==null?delete e.Clearcoat:e.Clearcoat={...t},this._material.setStatefulMaterialProperty("advancedEffects",e)}clone(){const t=this.base();return t==null?void 0:{...t}}base(){var t;return(t=this._material.base().data.advancedEffects)==null?void 0:t.Clearcoat}_setClearcoatStateProperty(t,e){const i={...this._clearcoatEffect};i[t]=e,this._advancedEffects.setStatefulProperty(jl.CLEARCOAT,i)}}class ght{constructor(t){this._material=t,ME(this,"_glass"),ME(this,"_sheen"),ME(this,"_clearcoat"),this._glass=new fht(this._material,this),this._sheen=new pht(this._material,this),this._clearcoat=new mht(this._material,this),td(this)}get Glass(){var t;return((t=this._material.materialData.advancedEffects)==null?void 0:t.Glass)==null?void 0:this._glass}set Glass(t){this._glass.copy(t)}get Sheen(){var t;return((t=this._material.materialData.advancedEffects)==null?void 0:t.Sheen)==null?void 0:this._sheen}set Sheen(t){this._sheen.copy(t)}get Clearcoat(){var t;return((t=this._material.materialData.advancedEffects)==null?void 0:t.Clearcoat)==null?void 0:this._clearcoat}set Clearcoat(t){this._clearcoat.copy(t)}get _advancedEffects(){return this._material.materialData.advancedEffects}base(){return this._material.base().data.advancedEffects}clone(){return{...this._advancedEffects}}copy(t){this._material.setStatefulMaterialProperty("advancedEffects",t)}setStatefulProperty(t,e){const i=this._advancedEffects==null?{}:{...this._advancedEffects};i[t]=e,this._material.setStatefulMaterialProperty("advancedEffects",i)}toJS(){const t=this._glass.toJS(),e=this._sheen.toJS(),i=this._clearcoat.toJS(),n={};return t!=null&&(n.Glass=t),e!=null&&(n.Sheen=e),i!=null&&(n.Clearcoat=i),n}}class Ed{constructor(t,e){this._material=t,this._mapKey=e,td(this)}get sm(){var t;return(t=this._statefulMap)==null?void 0:t.sm}set sm(t){this._setStatefulProperty("sm",t)}get md(){var t;return(t=this._statefulMap)==null?void 0:t.md}set md(t){this._setStatefulProperty("md",t)}get lg(){var t;return(t=this._statefulMap)==null?void 0:t.lg}set lg(t){this._setStatefulProperty("lg",t)}get isUrlExternal(){var t;return(t=this._statefulMap)==null?void 0:t.isUrlExternal}set isUrlExternal(t){this._setStatefulProperty("isUrlExternal",t)}get figmaFileUrl(){var t;return(t=this._statefulMap)==null?void 0:t.figmaFileUrl}set figmaFileUrl(t){this._setStatefulProperty("figmaFileUrl",t)}get figmaImageUrl(){var t;return(t=this._statefulMap)==null?void 0:t.figmaImageUrl}set figmaImageUrl(t){this._setStatefulProperty("figmaImageUrl",t)}get originalWidth(){var t;return(t=this._statefulMap)==null?void 0:t.originalWidth}set originalWidth(t){this._setStatefulProperty("originalWidth",t)}get originalHeight(){var t;return(t=this._statefulMap)==null?void 0:t.originalHeight}set originalHeight(t){this._setStatefulProperty("originalHeight",t)}_setStatefulProperty(t,e){const i=this._statefulMap==null?{lg:this.lg}:{...this._statefulMap};i[t]=e,this._material.setStatefulMaterialProperty(this._mapKey,i)}get _statefulMap(){return this._material.materialData[this._mapKey]}copy(t){this._material.setStatefulMaterialProperty(this._mapKey,t)}clone(){return{...this.base()}}base(){return this._material.base().data[this._mapKey]}}var Vi;(s=>{const t=new Set(["type","defines","uuid"]);function e(p,g){for(const _ of Object.keys(g))t.has(_)||p.hasOwnProperty(_)&&(g[_]=p[_])}s.convertMaterial=e;function i(p){if(p instanceof Xr||p instanceof Hy||p instanceof E4)return ue.Standard;if(p instanceof kn)return ue.Unlit;if(p instanceof Bw)return ue.Toon;if(p instanceof kw)return ue.Physical;if(p instanceof IL)return ue.Shadow}s.getLightingModel=i;function n(p){if([Xr,kn,Bw,kw].some(v=>p instanceof v))return p;const _=new Xr;return s.convertMaterial(p,_),p instanceof Hy?(_.roughness=Math.pow(1-p.shininess/100,4),_.metalness=0):p instanceof E4&&(_.roughness=1,_.metalness=0),_}s.toSupportedMeshMaterial=n;function o(p){switch(p){case J.COLOR:return"color";case J.ALPHA:return"opacity";case J.EMISSIVE:return"emissive";case J.AO:return"aoMapIntensity";case J.ROUGHNESS:return"roughness";case J.METALNESS:return"metalness";case J.NORMAL:return"normalScale";case J.DISPLACEMENT:return"displacementScale";case J.CLEARCOAT:return"clearcoat";case J.CLEARCOAT_ROUGHNESS:return"clearcoatRoughness";case J.SHEEN_COLOR:return"sheenColor";case J.SHEEN_ROUGHNESS:return"sheenRoughness";case J.THICKNESS:return"thickness";case J.TRANSMISSION:return"transmission"}}s.materialPropToThreeMaterialProp=o;function a(p){p.traverse(g=>{if(g.material){const _=g.material;for(const v of Object.entries(_)){const y=v[0],b=v[1];b instanceof AL&&b.image==null&&(_[y]=null)}}})}s.removeMissingImages=a;function l(p){return!p.material.hasCurrentPropertiesSetFromState&&(p.file!==nm.file||p.team!==nm.team)}s.isMaterialFromLibrary=l;function c(p){const g=p.generateMipmaps?1.3333333333333333:1;return(p.image?Math.ceil(p.image.width*p.image.height*g):0)*4}s.estimateBytesUsed=c;function h(p){return Object.keys(p).filter(g=>g!==an).length===0}s.shouldUseFrameStates=h;function d(p){if(Array.isArray(p.material)){if(p.material.length>0)return p.material[0]}else return p.material}s.getFirstMaterial=d;function u(p,g){for(const _ of["map","alphaMap","aoMap","displacementMap","metalnessMap","normalMap","roughnessMap"])_ in p&&g(_,p[_])}s.forEachMapType=u;function f(p,g){const _=Array.isArray(p.material)?p.material:[p.material];for(const v of _)g(v)}s.forEachMeshMaterial=f})(Vi||(Vi={}));var _ht=Object.defineProperty,vht=(s,t,e)=>t in s?_ht(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Cc=(s,t,e)=>(vht(s,typeof t!="symbol"?t+"":t,e),e);class yht{constructor(t){Cc(this,"_object"),Cc(this,"_preview"),Cc(this,"_map"),Cc(this,"_emissiveMap"),Cc(this,"_alphaMap"),Cc(this,"_aoMap"),Cc(this,"_metalnessMap"),Cc(this,"_normalMap"),Cc(this,"_roughnessMap"),Cc(this,"_displacementMap"),Cc(this,"_envMap"),Cc(this,"_advancedEffects"),this._object=t,this._preview=new Ed(this,"preview"),this._map=new Ed(this,"map"),this._emissiveMap=new Ed(this,"emissiveMap"),this._alphaMap=new Ed(this,"alphaMap"),this._aoMap=new Ed(this,"aoMap"),this._metalnessMap=new Ed(this,"metalnessMap"),this._roughnessMap=new Ed(this,"roughnessMap"),this._normalMap=new Ed(this,"normalMap"),this._displacementMap=new Ed(this,"displacementMap"),this._envMap=new Ed(this,"envMap"),this._advancedEffects=new ght(this),td(this)}get materialController(){return this._object.editor.materialController}get sceneObject(){return this._object.base()}get allMaterialIDs(){const t=this.sceneObject,e=this._object.states,i=[];t.material&&i.push(t.material);const n=Object.values(e);for(const o of n)typeof o.material=="object"&&o.material.baseID?i.push(o.material.baseID):typeof o.material=="string"&&i.push(o.material);return i}get keyData(){return G4(this.materialData)}get sourceID(){return this.sceneObject.material}get baseMaterialModel(){return this.materialController.materials[this.sourceID]}get hasCurrentPropertiesSetFromState(){return typeof this._stateMaterial=="object"}get id(){return p7(this.sceneObject,this._stateMaterial)}get stateMaterial(){return kg(this.sceneObject,this._object.activeState)}get materialModel(){const t=this.materialController.materials[this.id];if(!t)throw new Error(`Material with id ${this.id} for ${this._object.name} of type ${this._object.type} not found in materialController`);return t}get material(){let t=this._object.activeState;const e=this._object.editor.sceneController.getSceneEntityById(this._object.id);if(e!=null&&e.isPartOfFrame&&e.states.hasOnlyAnimatingState){const n=e.getComponent(Uh).firstMaybeStatefulFrameAncestor;t=(n==null?void 0:n.entity.sceneObject.activeState)??null}if(t===an)return this.materialController.getMaterialForState(this.sceneObject,an);if(this._object.isInstance&&this._object.parentProxy&&this._object.parentProxy.isInstance&&e){const i=e.getComponent(Js);if(i){const n=this._object.editor.sceneController.getSceneEntityById(i.component.id);if(n&&n.sceneObject.material)return t!=null?n.sceneObject.material.materialController.getMaterialForState(n.base,t):n.sceneObject.material.materialModel}}return t!=null?this.materialController.getMaterialForState(this.sceneObject,t):this.materialModel}get materialData(){return this.material.data}get name(){return this.material.name}set name(t){this.materialModel.setName(t)}get team(){return this.material.team}set team(t){this.materialModel.setTeam(t)}get file(){return this.material.file}set file(t){this.materialModel.setFile(t)}get lastWriter(){return this.material.lastWriter}set lastWriter(t){this.materialModel.setLastWriter(t)}get lightingModel(){return this._getStatefulMaterialProperty("lightingModel")??ue.Standard}set lightingModel(t){this.setStatefulMaterialProperty("lightingModel",t)}get preview(){return this._preview.lg==null?null:this._preview}set preview(t){this._preview.copy(t)}get color(){return this._getStatefulMaterialProperty("color")}set color(t){this.setStatefulMaterialProperty("color",t)}get map(){return this._getStatefulMaterialProperty("map")}set map(t){this._map.copy(t)}get emissive(){return this._getStatefulMaterialProperty("emissive")}set emissive(t){this.setStatefulMaterialProperty("emissive",t)}get emissiveMap(){return this._getStatefulMaterialProperty("emissiveMap")}set emissiveMap(t){this._emissiveMap.copy(t)}get repeatX(){return this._getStatefulMaterialProperty("repeatX")}set repeatX(t){this.setStatefulMaterialProperty("repeatX",t)}get repeatY(){return this._getStatefulMaterialProperty("repeatY")}set repeatY(t){this.setStatefulMaterialProperty("repeatY",t)}get offsetX(){return this._getStatefulMaterialProperty("offsetX")}set offsetX(t){this.setStatefulMaterialProperty("offsetX",t)}get offsetY(){return this._getStatefulMaterialProperty("offsetY")}set offsetY(t){this.setStatefulMaterialProperty("offsetY",t)}get rotation(){return this._getStatefulMaterialProperty("rotation")}set rotation(t){this.setStatefulMaterialProperty("rotation",t)}get opacity(){return this._getStatefulMaterialProperty("opacity")}set opacity(t){this.setStatefulMaterialProperty("opacity",t)}get alphaMap(){return this._getStatefulMaterialProperty("alphaMap")}set alphaMap(t){this._alphaMap.copy(t)}get aoMap(){return this._getStatefulMaterialProperty("aoMap")}set aoMap(t){this._aoMap.copy(t)}get ambientOcclusion(){return this._getStatefulMaterialProperty("ambientOcclusion")}set ambientOcclusion(t){this.setStatefulMaterialProperty("ambientOcclusion",t)}get metalness(){return this._getStatefulMaterialProperty("metalness")}set metalness(t){this.setStatefulMaterialProperty("metalness",t)}get metalnessMap(){return this._getStatefulMaterialProperty("metalnessMap")}set metalnessMap(t){this._metalnessMap.copy(t)}get roughness(){return this._getStatefulMaterialProperty("roughness")}set roughness(t){this.setStatefulMaterialProperty("roughness",t)}get roughnessMap(){return this._getStatefulMaterialProperty("roughnessMap")}set roughnessMap(t){this._roughnessMap.copy(t)}get normal(){return this._getStatefulMaterialProperty("normal")}set normal(t){this.setStatefulMaterialProperty("normal",t)}get normalMap(){return this._getStatefulMaterialProperty("normalMap")}set normalMap(t){this._normalMap.copy(t)}get displacement(){return this._getStatefulMaterialProperty("displacement")}set displacement(t){this.setStatefulMaterialProperty("displacement",t)}get displacementMap(){return this._getStatefulMaterialProperty("displacementMap")}set displacementMap(t){this._displacementMap.copy(t)}get envMap(){return this._envMap.lg==null?null:this._envMap}set envMap(t){this._envMap.copy(t)}get envMapIntensity(){return this.materialData.envMapIntensity}set envMapIntensity(t){this.setStatefulMaterialProperty("envMapIntensity",t)}get flipY(){return this.materialData.flipY}set flipY(t){this.setStatefulMaterialProperty("flipY",t)}get advancedEffects(){return this.materialData.advancedEffects||this.setStatefulMaterialProperty("advancedEffects",{}),this._advancedEffects}set advancedEffects(t){this._advancedEffects.copy(t)}get mask(){return this._getStatefulMaterialProperty("mask")}set mask(t){this.setStatefulMaterialProperty("mask",t)}base(){return this.material}copy(t){typeof this._stateMaterial=="object"?this._object.states[this._object.activeState].material={...t}:this.materialModel.setData(t)}clone(){}setPartial(t){}get _stateMaterial(){return kg(this.sceneObject,this._object.activeState)}setStatefulMaterialProperty(t,e){if(this._object.isInstance&&this._object.activeState!==an){this._setMaterialPropertyOverride(t,e);return}this._object.activeState==null&&this._setMaterialPropertyFrameState(t,e)||(this._stateMaterial!=null&&typeof this._stateMaterial=="object"?this._stateMaterial[t]=e:this.materialModel.setData({...this.materialData,[t]:e}))}_getStatefulMaterialProperty(t){if(this._object.activeState===an)return this.materialData[t];if(this._object.isInstance&&this._object.parent){const i=this._getMaterialPropertyOverride(t);if(i!==void 0)return i}const e=this._getMaterialPropertyFrameState(t);return e!==void 0?e:this.materialData[t]}_getMaterialPropertyOverride(t){var i,n;const e=this._object.editor.sceneController.getSceneEntityById(this._object.id);if(e){const o=e.getComponent(Js);if(o){const a=o.materialOverrides[t];if(this._object.activeState==null){if(a!==void 0)return a}else{if(this._object.activeState===an)return;const l=(i=o.overrides)==null?void 0:i.states;if(l!=null){const c=l[this._object.activeState];if(c!=null){const h=(n=c.material)==null?void 0:n[t];if(h!==void 0)return h}}}}}}_setMaterialPropertyOverride(t,e){const i=this._object.editor.sceneController.getSceneEntityById(this._object.id);if(i&&i.getComponent(Js)){const o=this._object.activeState;this._object.overrides==null&&(this._object.overrides={});const a=Ag.cloneDeep(this._object.overrides);let l;o!=null?(a.states==null&&(a.states={}),a.states[o]==null&&(a.states[o]={material:{}}),a.states[o].material==null&&(a.states[o].material={}),l=a.states[o].material):(a.material==null&&(a.material={}),l=a.material),typeof e=="object"?l[t]={...e}:l[t]=e,this._object.overrides=a}}_getMaterialPropertyFrameState(t){var i;const e=this._object.editor.sceneController.getSceneEntityById(this._object.id);if(e){const n=e.getComponent(Uh);if(n){if(this._object.activeState===an||!Vi.shouldUseFrameStates(this._object.states))return;const a=n.firstMaybeStatefulFrameAncestor.entity.sceneObject.activeState;if(a==null)return;const l=e.sceneObject.frameStates;if(l!=null){const c=l[a];if(c!=null){const h=(i=c.material)==null?void 0:i[t];if(h!==void 0)return h}}}}}_setMaterialPropertyFrameState(t,e){const i=this._object.editor.sceneController.getSceneEntityById(this._object.id);if(i){const n=i.getComponent(Uh);if(n){const a=n.firstMaybeStatefulFrameAncestor.entity.sceneObject.activeState;if(a==null)return!1;this._object.frameStates==null&&(this._object.frameStates={});const l=Ag.cloneDeep(this._object.frameStates);let c;return a!=null?(l[a]==null&&(l[a]={}),l[a].material==null&&(l[a].material={}),c=l[a].material):(l.material==null&&(l.material={}),c=l.material),typeof e=="object"?c[t]={...e}:c[t]=e,this._object.frameStates=l,!0}}return!1}cloneTo(t,e){const i=this._object.activeState;e!==void 0&&(this._object.activeState=e),t.lightingModel=this.lightingModel,t.ambientOcclusion=this.ambientOcclusion,t.color=this.color,t.opacity=this.opacity,t.metalness=this.metalness,t.rotation=this.rotation,t.displacement=this.displacement,t.normal=this.normal,t.emissive=this.emissive,t.roughness=this.roughness,t.map=this.map,t.alphaMap=this.alphaMap,t.aoMap=this.aoMap,t.metalnessMap=this.metalnessMap,t.normalMap=this.normalMap,t.displacementMap=this.displacementMap,t.emissiveMap=this.emissiveMap,t.roughnessMap=this.roughnessMap,t.repeatX=this.repeatX,t.repeatY=this.repeatY,t.offsetX=this.offsetX,t.offsetY=this.offsetY,t.flipY=this.flipY,t.envMapIntensity=this.envMapIntensity,t.mask=this.mask,t.envMap=this.envMap,t.advancedEffects=this.advancedEffects,t.rotation=this.rotation,t.advancedEffects=this.advancedEffects.toJS(),this._object.activeState=i}}class oi extends BD{constructor(t=new Set,e){super(t),this._getStatesAndActiveState=e}get(t,e,i,n=""){if(this.getIsPathIgnored(i,n))return{value:void 0,found:!1};const o=this._getActiveState(t);if(o==null)return{value:void 0,found:!1};let a;if(o!=null){if(Vl(i)){const c=e(t);let h={};c!=null&&c[i]!=null&&(h=hs(c[i]));let d={};const u=e(o);u!=null&&(d=u[i]??{});const f=Fw(h,d);return Object.keys(f).length===0?{value:void 0,found:!1}:{value:f,found:!0}}const l=e(o);l==null?a=void 0:a=l[i]!==void 0?l[i]:void 0}return{value:a,found:a!==void 0}}set(t,e,i,n,o,a=""){if(this.getIsPathIgnored(n,a))return!1;const l=this._getActiveState(t);if(l==null)return!1;let c=e(l);return c==null?c={[n]:o}:Vl(n)&&o==null?delete c[n]:c[n]=o,i(l,c),!0}_getActiveState(t){var i;const e=(i=this._getStatesAndActiveState)==null?void 0:i.call(this,t);if(e!=null){const n=e.activeState;return n!=null&&e.states[n]!=null?e.states[n]:null}else{const n=t.activeState;return n!=null&&t.states[n]!=null?t.states[n]:null}}getIds(t,e,i,n=""){const o=new Set;if(this.getIsPathIgnored(i,n))return{found:!1,value:o};const a=this._getActiveState(t),l=a==null?null:e(a);if(l!=null&&typeof l=="object"){const c=Object.keys(l);for(const h of c)o.add(h);return{found:!0,value:o}}return{found:!1,value:o}}}var bht=Object.defineProperty,Cht=(s,t,e)=>t in s?bht(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,wht=(s,t,e)=>(Cht(s,t+"",e),e);class Ln{constructor(t,e=new Set){this._sceneController=t,wht(this,"_statesProxy"),this._statesProxy=new oi(e,this._getFrameStatesAndActiveState.bind(this))}get(t,e,i,n=""){return this._statesProxy.get(t,e,i,n)}set(t,e,i,n,o,a=""){return this._statesProxy.set(t,e,i,n,o,a)}getIds(t,e,i,n=""){return this._statesProxy.getIds(t,e,i,n)}_getFrameStatesAndActiveState(t){const e=this._getFrameComponent(t);if(e==null||e.entity.sceneObject.activeState==null||Object.keys(t.states).filter(n=>n!==an).length>0)return null;const i=e.entity.sceneObject.activeState;return t.frameStates==null&&i!==an&&(t.frameStates={[i]:{}}),{states:t.frameStates??{},activeState:e.entity.sceneObject.activeState}}_getFrameComponent(t){if(t.parent==null)return null;const e=this._sceneController.getSceneEntityById(t.id),i=e==null?void 0:e.getComponent(Uh);return(i==null?void 0:i.firstMaybeStatefulFrameAncestor)??null}get ignoredPropertyPaths(){return this._statesProxy.ignoredPropertyPaths}getIsPathIgnored(t,e){return this._statesProxy.getIsPathIgnored(t,e)}getFullPropertyPath(t,e){return this._statesProxy.getFullPropertyPath(t,e)}}var xht=Object.defineProperty,Eht=(s,t,e)=>t in s?xht(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Sht=(s,t,e)=>(Eht(s,t+"",e),e);const Iht=Object.keys(aD.shape);class rA extends Ke{constructor(t,e,i,n){super(t,c=>{if(c.behaviors!=null)return c.behaviors[i]??void 0},(c,h)=>{c.behaviors!=null&&(c.behaviors[i]=h)},"behaviors.behavior"),this._behaviorId=i,Sht(this,"_parameters"),this._parameters=n(t,e,i);const o=new Ns(e),a=new oi,l=new Ln(e);this._proxies.push(o,l,a)}get id(){return this.get("id")}get isEnabled(){return this.get("isEnabled")}set isEnabled(t){this.set("isEnabled",t)}get parameters(){return this._parameters}set parameters(t){this._parameters.copy(t)}get removedInStates(){return this.get("removedInStates")}set removedInStates(t){this.set("removedInStates",t)}activeValues(){return super.activeValues(Iht)}}const Aht=Object.keys(cD);class Tht extends Ke{constructor(t,e,i){super(t,l=>{if(!(l.behaviors==null||l.behaviors[i]==null))return l.behaviors[i].parameters??void 0},(l,c)=>{(l.behaviors==null||l.behaviors[i]==null)&&(l.behaviors={[i]:{parameters:{}}}),l.behaviors[i].parameters=c},"behaviors.behavior.parameters");const n=new Ns(e),o=new oi,a=new Ln(e);this._proxies.push(n,a,o)}get type(){return this.get("type")}get sizePx(){return this.get("sizePx")}set sizePx(t){this.set("sizePx",t)}get measurementAxis(){return this.get("measurementAxis")}set measurementAxis(t){this.set("measurementAxis",t)}activeValues(){return super.activeValues(Aht)}}class Pht extends rA{constructor(t,e,i){super(t,e,i,(n,o,a)=>new Tht(n,o,a))}}const Oht=Object.keys(O0);class Mht extends Ke{constructor(t,e,i){super(t,l=>{if(!(l.behaviors==null||l.behaviors[i]==null))return l.behaviors[i].parameters??void 0},(l,c)=>{(l.behaviors==null||l.behaviors[i]==null)&&(l.behaviors={[i]:{parameters:{}}}),l.behaviors[i].parameters=c},"behaviors.behavior.parameters");const n=new Ns(e),o=new oi,a=new Ln(e);this._proxies.push(n,a,o)}get type(){return this.get("type")}get target(){return this.get("target")}set target(t){this.set("target",t)}get smooth(){return this.get("smooth")}set smooth(t){this.set("smooth",t)}get offset(){return this.get("offset")}set offset(t){this.set("offset",t)}get axes(){return this.get("axes")}set axes(t){this.set("axes",t)}get isRotationEnabled(){return this.get("isRotationEnabled")}set isRotationEnabled(t){this.set("isRotationEnabled",t)}activeValues(){return super.activeValues(Oht)}}class Lht extends rA{constructor(t,e,i){super(t,e,i,(n,o,a)=>new Mht(n,o,a))}}const Rht=Object.keys(lD);class Nht extends Ke{constructor(t,e,i){super(t,l=>{if(!(l.behaviors==null||l.behaviors[i]==null))return l.behaviors[i].parameters??void 0},(l,c)=>{(l.behaviors==null||l.behaviors[i]==null)&&(l.behaviors={[i]:{parameters:{}}}),l.behaviors[i].parameters=c},"behaviors.behavior.parameters");const n=new Ns(e),o=new oi,a=new Ln(e);this._proxies.push(n,a,o)}get type(){return this.get("type")}get target(){return this.get("target")}set target(t){this.set("target",t)}get tilt(){return this.get("tilt")}set tilt(t){this.set("tilt",t)}get direction(){return this.get("direction")}set direction(t){this.set("direction",t)}activeValues(){return super.activeValues(Rht)}}class jht extends rA{constructor(t,e,i){super(t,e,i,(n,o,a)=>new Nht(n,o,a))}}var Dht=Object.defineProperty,Fht=Object.getOwnPropertyDescriptor,Bht=(s,t,e,i)=>{for(var n=Fht(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&Dht(t,e,n),n};class UD extends Ke{constructor(t,e){super(t,a=>a.behaviors??void 0,(a,l)=>{a.behaviors=l},"behaviors"),this._sceneController=e;const i=new Ns(e),n=new oi,o=new Ln(e);this._proxies.push(i,o,n)}add(t,e){this.set(t,e)}remove(t){if(this._baseObject.activeState==null){this.set(t,void 0);const i=this._baseObject.states;for(const n of Object.values(i)){const o=n.behaviors;!o||!o[t]||delete o[t]}return}const e=this.getValue(t);if(!e)this.set(t,void 0);else{const i=e.removedInStates??[];e.removedInStates=[...i,this._baseObject.activeState]}}getValue(t){return this.values.find(e=>e.id===t)}entries(){return this.values.map(t=>[t.id,t])}keys(){return Array.from(this.getIds())}getIds(){return super.getIds("behaviors")}activeValues(){return super.activeValues(this.keys())}get values(){const t=[],e=this.getIds();for(const i of e){const n=this.get(i);if(n==null)continue;switch(n.parameters.type){case ei.FOLLOW:t.push(new Lht(this._baseObject,this._sceneController,i));break;case ei.LOOK_AT:t.push(new jht(this._baseObject,this._sceneController,i));break;case ei.FIXED_SIZE:t.push(new Pht(this._baseObject,this._sceneController,i));break}}return t}}Bht([M.struct],UD.prototype,"values");class Cf extends Ke{constructor(t,e,i,n){super(t,i,n);const o=new Ns(e),a=new oi,l=new Ln(e);this._proxies.push(o,l,a)}get x(){return this.get("x")}set x(t){this.set("x",t)}get y(){return this.get("y")}set y(t){this.set("y",t)}get z(){return this.get("z")}set z(t){this.set("z",t)}}class Go{static serialize(t){return{x:t.x,y:t.y,z:t.z}}static deserialize(t,e=new w){return e.set(t.x,t.y,t.z)}}var zD=Object.defineProperty,kht=Object.getOwnPropertyDescriptor,Ght=(s,t,e)=>t in s?zD(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,j_=(s,t,e,i)=>{for(var n=kht(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&zD(t,e,n),n},R0=(s,t,e)=>(Ght(s,typeof t!="symbol"?t+"":t,e),e);const Vht=Object.keys(Zj),Hht=Object.keys(Kj),YD=Object.keys(R7.shape);class Uht extends Ke{constructor(t,e,i){super(t,a=>{if(!(a.colliders==null||a.colliders[i]==null))return a.colliders[i].shape??void 0},(a,l)=>{(a.colliders==null||a.colliders[i]==null)&&(a.colliders={[i]:{shape:{}}}),a.colliders[i].shape=l},"colliders.collider.shape");const n=new Ns(e),o=new Ln(e);this._proxies.push(n,o)}get type(){return this.get("type")}get halfExtents(){return this.get("halfExtents")}set halfExtents(t){this.set("halfExtents",t)}get halfExtentsPadding(){return this.get("halfExtentsPadding")}set halfExtentsPadding(t){this.set("halfExtentsPadding",t)}activeValues(){return super.activeValues(Vht)}}class zht extends Ke{constructor(t,e,i){super(t,a=>{if(!(a.colliders==null||a.colliders[i]==null))return a.colliders[i].shape??void 0},(a,l)=>{(a.colliders==null||a.colliders[i]==null)&&(a.colliders={[i]:{shape:{}}}),a.colliders[i].shape=l},"colliders.collider.shape");const n=new Ns(e),o=new Ln(e);this._proxies.push(n,o)}get type(){return this.get("type")}get radius(){return this.get("radius")}set radius(t){this.set("radius",t)}get radialPadding(){return this.get("radialPadding")}set radialPadding(t){this.set("radialPadding",t)}activeValues(){return super.activeValues(Hht)}}class B5 extends Ke{constructor(t,e,i){super(t,a=>{if(a.colliders!=null)return a.colliders[i]??void 0},(a,l)=>{a.colliders==null&&(a.colliders={[i]:{}}),a.colliders[i]=l},"colliders.collider"),this._sceneController=e,this.colliderId=i,R0(this,"_position"),R0(this,"_rotation"),R0(this,"_shape"),this._position=new Cf(this._baseObject,e,vx("position",i),yx("position",i)),this._rotation=new Cf(this._baseObject,e,vx("rotation",i),yx("rotation",i)),this._shape=new Uht(this._baseObject,this._sceneController,this.colliderId);const n=new Ns(e),o=new Ln(e);this._proxies.push(n,o)}get id(){return this.get("id")}set id(t){this.set("id",t)}get name(){return this.get("name")}set name(t){this.set("name",t)}get position(){return this._position}set position(t){this._position.copy(Go.serialize(t))}get rotation(){return this._rotation}set rotation(t){this._rotation.copy(Go.serialize(t))}get shape(){return this._shape}set shape(t){this._shape.copy(t)}get isEnabled(){return this.get("isEnabled")}set isEnabled(t){this.set("isEnabled",t)}activeValues(){return super.activeValues(YD)}}j_([M],B5.prototype,"id");j_([M],B5.prototype,"name");j_([M],B5.prototype,"isEnabled");class k5 extends Ke{constructor(t,e,i){super(t,a=>{if(a.colliders!=null)return a.colliders[i]??void 0},(a,l)=>{a.colliders==null&&(a.colliders={[i]:{}}),a.colliders[i]=l},"colliders.collider"),this._sceneController=e,this.colliderId=i,R0(this,"_position"),R0(this,"_rotation"),R0(this,"_shape"),this._position=new Cf(this._baseObject,e,vx("position",i),yx("position",i)),this._rotation=new Cf(this._baseObject,e,vx("rotation",i),yx("rotation",i)),this._shape=new zht(this._baseObject,this._sceneController,this.colliderId);const n=new Ns(e),o=new Ln(e);this._proxies.push(n,o)}get id(){return this.get("id")}set id(t){this.set("id",t)}get name(){return this.get("name")}set name(t){this.set("name",t)}get position(){return this._position}set position(t){this._position.copy(Go.serialize(t))}get rotation(){return this._rotation}set rotation(t){this._rotation.copy(Go.serialize(t))}get shape(){return this._shape}set shape(t){this._shape.copy(t)}get isEnabled(){return this.get("isEnabled")}set isEnabled(t){this.set("isEnabled",t)}activeValues(){return super.activeValues(YD)}}j_([M],k5.prototype,"id");j_([M],k5.prototype,"name");j_([M],k5.prototype,"isEnabled");function vx(s,t){return e=>{if(!(e.colliders==null||e.colliders[t]==null))return e.colliders[t][s]??void 0}}function yx(s,t){return(e,i)=>{(e.colliders==null||e.colliders[t]==null)&&(e.colliders={[t]:{[s]:{x:0,y:0,z:0}}}),e.colliders[t][s]=i}}class Yht extends Ke{constructor(t,e){super(t,n=>n.colliders??void 0,(n,o)=>{n.colliders=o},"colliders"),this._sceneController=e;const i=new Ns(e);this._proxies.push(i)}add(t,e){this.set(t,e)}remove(t){this.set(t,void 0)}getValue(t){return this.values.find(e=>e.id===t)}entries(){return this.values.map(t=>[t.id,t])}keys(){return Array.from(this.getIds())}getIds(){return super.getIds("colliders")}get values(){const t=[],e=this.getIds();for(const i of e){const n=this.get(i);t.push(Wht(n,this._baseObject,this._sceneController))}return t}activeValues(){return super.activeValues(this.keys())}}function Wht(s,t,e){switch(s.shape.type){case Bn.BOX:return new B5(t,e,s.id);case Bn.SPHERE:return new k5(t,e,s.id)}}class Xht extends Ke{constructor(t,e){super(t,n=>n.constraint??void 0,(n,o)=>{n.constraint==null&&(n.constraint={anchorX:_y.X,anchorY:_y.Y,anchorZ:_y.Z,isEnabled:_y.isEnabled}),n.constraint=o});const i=new Ns(e);this._proxies.push(i)}get anchorX(){return this.get("anchorX")}set anchorX(t){this.set("anchorX",t)}get anchorY(){return this.get("anchorY")}set anchorY(t){this.set("anchorY",t)}get anchorZ(){return this.get("anchorZ")}set anchorZ(t){this.set("anchorZ",t)}get isEnabled(){return this.get("isEnabled")}set isEnabled(t){this.set("isEnabled",t)}}class Zht extends Ke{constructor(t,e){super(t,l=>l.importedAnimations,(l,c)=>l.importedAnimations=c);const i=new Set(["animationsUrlKey","skeletonUrlKey"]),n=new Ns(e),o=new oi(i),a=new Ln(e,i);this._proxies.push(n,a,o)}get animationsUrlKey(){return this.get("animationsUrlKey")}set animationsUrlKey(t){this.set("animationsUrlKey",t)}get skeletonUrlKey(){return this.get("skeletonUrlKey")}set skeletonUrlKey(t){this.set("skeletonUrlKey",t)}get speed(){return this.get("speed")}set speed(t){this.set("speed",t)}get loop(){return this.get("loop")}set loop(t){this.set("loop",t)}}const Kht=new Set(["shouldShowHelper"]);class G5 extends Ke{constructor(t,e){super(t,a=>a.parameters??null,(a,l)=>a.parameters=l);const i=new Ns(e),n=new oi(Kht),o=new Ln(e);this._proxies.push(i,o,n)}get intensity(){return this.get("intensity")}set intensity(t){this.set("intensity",t)}get color(){return this.get("color")}set color(t){this.set("color",t)}get shouldShowHelper(){return this.get("shouldShowHelper")}set shouldShowHelper(t){this.set("shouldShowHelper",t)}}class qht extends G5{constructor(t,e){super(t,e)}get width(){return this.get("width")}set width(t){this.set("width",t)}get depth(){return this.get("depth")}set depth(t){this.set("depth",t)}get areDimensionsLinked(){return this.get("areDimensionsLinked")}set areDimensionsLinked(t){this.set("areDimensionsLinked",t)}get shouldShowLightRenderMesh(){return this.get("shouldShowLightRenderMesh")}set shouldShowLightRenderMesh(t){this.set("shouldShowLightRenderMesh",t)}get luminousEfficacy(){return this.get("luminousEfficacy")}set luminousEfficacy(t){this.set("luminousEfficacy",t)}get isPhysicallyCorrect(){return this.get("isPhysicallyCorrect")}set isPhysicallyCorrect(t){this.set("isPhysicallyCorrect",t)}}class Qht extends Ke{constructor(t){super(t,i=>i.parameters??null,(i,n)=>{i.parameters=n});const e=new oi;this._proxies.push(e)}get helperType(){return Pi.NONE}get height(){return this.get("height")}set height(t){this.set("height",t)}get isShowControllers(){return this.get("isShowControllers")}set isShowControllers(t){this.set("isShowControllers",t)}get headset(){return this.get("headset")}set headset(t){this.set("headset",t)}get isDirectTouchEnabled(){return this.get("isDirectTouchEnabled")}set isDirectTouchEnabled(t){this.set("isDirectTouchEnabled",t)}}var Jht=Object.defineProperty,$ht=Object.getOwnPropertyDescriptor,V5=(s,t,e,i)=>{for(var n=$ht(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&Jht(t,e,n),n};const tdt={width:null,height:null,depth:null,areDimensionsLinked:!1};class $c extends Ke{constructor(t,e){super(t,a=>a.parameters??null,(a,l)=>a.parameters=l);const i=new Ns(e),n=new oi,o=new Ln(e);this._proxies.push(i,o,n),vt(this)}get width(){return this.get("width")}set width(t){this.set("width",t)}get height(){return this.get("height")}set height(t){this.set("height",t)}get depth(){return this.get("depth")}set depth(t){this.set("depth",t)}get areDimensionsLinked(){return this.get("areDimensionsLinked")}set areDimensionsLinked(t){this.set("areDimensionsLinked",t)}}V5([M],$c.prototype,"width");V5([M],$c.prototype,"height");V5([M],$c.prototype,"depth");V5([M],$c.prototype,"areDimensionsLinked");class edt extends $c{constructor(t,e){super(t,e)}get bevelOffset(){return this.get("bevelOffset")}set bevelOffset(t){this.set("bevelOffset",t)}get bevelSegments(){return this.get("bevelSegments")}set bevelSegments(t){this.set("bevelSegments",t)}get baseObject(){return this._baseObject}}var WD=Object.defineProperty,sdt=(s,t,e)=>t in s?WD(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,aA=(s,t,e,i)=>{for(var n=void 0,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&WD(t,e,n),n},LE=(s,t,e)=>(sdt(s,typeof t!="symbol"?t+"":t,e),e);class idt extends Ke{constructor(t,e){super(t,o=>{var a;return(a=o.parameters)==null?void 0:a.spherical},(o,a)=>{o.parameters!=null&&(o.parameters.spherical=a)}),this.baseObject=t;const i=new Ns(e);this._proxies.push(i);const n=new oi;this._proxies.push(n)}get radius(){return this.get("radius")}set radius(t){this.set("radius",t)}get phi(){return this.get("phi")}set phi(t){this.set("phi",t)}get theta(){return this.get("theta")}set theta(t){this.set("theta",t)}}class H5 extends Ke{constructor(t,e){super(t,o=>o.parameters??null,(o,a)=>{o.parameters=a}),LE(this,"_sphericalProxy"),LE(this,"_targetProxy"),LE(this,"_focalOffsetProxy");const i=new Ns(e);this._proxies.push(i);const n=new oi;this._proxies.push(n),this._sphericalProxy=new idt(t,e),this._targetProxy=new Cf(t,e,o=>{var a;return(a=o.parameters)==null?void 0:a.target},(o,a)=>{o.parameters!=null&&(o.parameters.target=a)}),this._focalOffsetProxy=new Cf(t,e,o=>{var a;return(a=o.parameters)==null?void 0:a.focalOffset},(o,a)=>{o.parameters!=null&&(o.parameters.focalOffset=a)})}get index(){return this.get("index")}set index(t){this.set("index",t)}get publishIndex(){return this._baseObject.parameters.publishIndex}set publishIndex(t){this._baseObject.parameters.publishIndex=t}get spherical(){return this._sphericalProxy}set spherical(t){this._sphericalProxy.copy(t)}get focalOffset(){return this._focalOffsetProxy}set focalOffset(t){this._focalOffsetProxy.copy(t)}get target(){return this._targetProxy}set target(t){this._targetProxy.copy(t)}get projection(){return this.get("projection")}set projection(t){this.set("projection",t)}get fov(){return this.get("fov")}set fov(t){this.set("fov",t)}get zoom(){return this.get("zoom")}set zoom(t){this.set("zoom",t)}get isBookmark(){return this.get("isBookmark")}set isBookmark(t){this.set("isBookmark",t)}get lensUnit(){return this.get("lensUnit")}set lensUnit(t){this.set("lensUnit",t)}}aA([V],H5.prototype,"_sphericalProxy");aA([V],H5.prototype,"_targetProxy");aA([V],H5.prototype,"_focalOffsetProxy");class ndt extends $c{constructor(t,e){super(t,e)}get segmentsAround(){return this.get("segmentsAround")}set segmentsAround(t){this.set("segmentsAround",t)}get sliceAngle(){return this.get("sliceAngle")}set sliceAngle(t){this.set("sliceAngle",t)}get bevelOffsetTop(){return this.get("bevelOffsetTop")}set bevelOffsetTop(t){this.set("bevelOffsetTop",t)}get bevelSegmentsTop(){return this.get("bevelSegmentsTop")}set bevelSegmentsTop(t){this.set("bevelSegmentsTop",t)}get bevelOffsetBottom(){return this.get("bevelOffsetBottom")}set bevelOffsetBottom(t){this.set("bevelOffsetBottom",t)}get bevelSegmentsBottom(){return this.get("bevelSegmentsBottom")}set bevelSegmentsBottom(t){this.set("bevelSegmentsBottom",t)}get areBevelOffsetsLinked(){return this.get("areBevelOffsetsLinked")}set areBevelOffsetsLinked(t){this.set("areBevelOffsetsLinked",t)}get areBevelSegmentsLinked(){return this.get("areBevelSegmentsLinked")}set areBevelSegmentsLinked(t){this.set("areBevelSegmentsLinked",t)}}var odt=Object.defineProperty,rdt=Object.getOwnPropertyDescriptor,iu=(s,t,e,i)=>{for(var n=rdt(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&odt(t,e,n),n};class sd extends Ke{constructor(t,e){super(t,o=>o.parameters??null,(o,a)=>{o.parameters=a});const i=new Ns(e);this._proxies.push(i);const n=new oi;this._proxies.push(n),vt(this)}get keyPoints(){return this.get("keyPoints")}set keyPoints(t){this.set("keyPoints",t)}get curveType(){return this.get("curveType")}set curveType(t){this.set("curveType",t)}get segments(){return this.get("segments")}set segments(t){this.set("segments",t)}get angleThreshold(){return this.get("angleThreshold")}set angleThreshold(t){this.set("angleThreshold",t)}get drawingPlane(){return this.get("drawingPlane")}set drawingPlane(t){this.set("drawingPlane",t)}get height(){return this.get("height")}set height(t){this.set("height",t)}get radius(){return this.get("radius")}set radius(t){this.set("radius",t)}get pipeShape(){return this.get("pipeShape")}set pipeShape(t){this.set("pipeShape",t)}get pipeCap(){return this.get("pipeCap")}set pipeCap(t){this.set("pipeCap",t)}get stepSize(){return this.get("stepSize")}set stepSize(t){this.set("stepSize",t)}}iu([M],sd.prototype,"keyPoints");iu([M],sd.prototype,"curveType");iu([M],sd.prototype,"segments");iu([M],sd.prototype,"angleThreshold");iu([M],sd.prototype,"drawingPlane");iu([M],sd.prototype,"height");iu([M],sd.prototype,"radius");iu([M],sd.prototype,"pipeShape");iu([M],sd.prototype,"pipeCap");iu([M],sd.prototype,"stepSize");class adt extends $c{constructor(t,e){super(t,e)}get radiusTop(){return this.get("radiusTop")}set radiusTop(t){this.set("radiusTop",t)}get radiusBottom(){return this.get("radiusBottom")}set radiusBottom(t){this.set("radiusBottom",t)}get segmentsAround(){return this.get("segmentsAround")}set segmentsAround(t){this.set("segmentsAround",t)}get sliceAngle(){return this.get("sliceAngle")}set sliceAngle(t){this.set("sliceAngle",t)}get bevelOffsetTop(){return this.get("bevelOffsetTop")}set bevelOffsetTop(t){this.set("bevelOffsetTop",t)}get bevelSegmentsTop(){return this.get("bevelSegmentsTop")}set bevelSegmentsTop(t){this.set("bevelSegmentsTop",t)}get bevelOffsetBottom(){return this.get("bevelOffsetBottom")}set bevelOffsetBottom(t){this.set("bevelOffsetBottom",t)}get bevelSegmentsBottom(){return this.get("bevelSegmentsBottom")}set bevelSegmentsBottom(t){this.set("bevelSegmentsBottom",t)}get areBevelOffsetsLinked(){return this.get("areBevelOffsetsLinked")}set areBevelOffsetsLinked(t){this.set("areBevelOffsetsLinked",t)}get areBevelSegmentsLinked(){return this.get("areBevelSegmentsLinked")}set areBevelSegmentsLinked(t){this.set("areBevelSegmentsLinked",t)}get areRadiiLinked(){return this.get("areRadiiLinked")}set areRadiiLinked(t){this.set("areRadiiLinked",t)}}const N0={minimum:1,default:24,maximum:64},XD={keyPoints:new Array,curveType:bs.WIRE},ZD=S.discriminatedUnion("curveType",[nD,tD,$j]);class ldt extends G5{constructor(t,e){super(t,e)}get shadows(){return this.get("shadows")}set shadows(t){this.set("shadows",t)}}class cdt extends $c{constructor(t,e){super(t,e)}get baseObject(){return this._baseObject}get isClippingEnabled(){return this.get("isClippingEnabled")}set isClippingEnabled(t){this.set("isClippingEnabled",t)}get areCapsEnabled(){return this.get("areCapsEnabled")}set areCapsEnabled(t){this.set("areCapsEnabled",t)}get capsColor(){return this.get("capsColor")}set capsColor(t){this.set("capsColor",t)}}class hdt extends Ke{constructor(t,e){super(t,o=>o.parameters??null,(o,a)=>o.parameters=a);const i=new Ns(e);this._proxies.push(i);const n=new oi;this._proxies.push(n)}get helperType(){return this.get("helperType")}set helperType(t){this.set("helperType",t)}get width(){return this.get("width")??1}set width(t){this.set("width",t)}get height(){return this.get("height")??1}set height(t){this.set("height",t)}get depth(){return this.get("depth")??1}set depth(t){this.set("depth",t)}}class X9 extends $c{constructor(t,e){super(t,e)}get bendAngle(){return this.get("bendAngle")}set bendAngle(t){this.set("bendAngle",t)}get radiusSegments(){return this.get("radiusSegments")}set radiusSegments(t){this.set("radiusSegments",t)}get bendSegments(){return this.get("bendSegments")}set bendSegments(t){this.set("bendSegments",t)}get radii(){return this.get("radii")}set radii(t){this.set("radii",t)}get bevelOffset(){return this.get("bevelOffset")}set bevelOffset(t){this.set("bevelOffset",t)}get bevelSegments(){return this.get("bevelSegments")}set bevelSegments(t){this.set("bevelSegments",t)}}class ddt extends G5{constructor(t,e){super(t,e)}get shouldShowLightRenderMesh(){return this.get("shouldShowLightRenderMesh")}set shouldShowLightRenderMesh(t){this.set("shouldShowLightRenderMesh",t)}get shouldShowLightBloom(){return this.get("shouldShowLightBloom")}set shouldShowLightBloom(t){this.set("shouldShowLightBloom",t)}get luminousEfficacy(){return this.get("luminousEfficacy")}set luminousEfficacy(t){this.set("luminousEfficacy",t)}get radius(){return this.get("radius")}set radius(t){this.set("radius",t)}get distance(){return this.get("distance")}set distance(t){this.set("distance",t)}get decay(){return this.get("decay")}set decay(t){this.set("decay",t)}get isPhysicallyCorrect(){return this.get("isPhysicallyCorrect")}set isPhysicallyCorrect(t){this.set("isPhysicallyCorrect",t)}}class udt extends $c{constructor(t,e){super(t,e)}get segmentsAround(){return this.get("segmentsAround")}set segmentsAround(t){this.set("segmentsAround",t)}get segmentsDown(){return this.get("segmentsDown")}set segmentsDown(t){this.set("segmentsDown",t)}get sliceYAngle(){return this.get("sliceYAngle")}set sliceYAngle(t){this.set("sliceYAngle",t)}get areSegmentsLinked(){return this.get("areSegmentsLinked")}set areSegmentsLinked(t){this.set("areSegmentsLinked",t)}}class fdt extends G5{constructor(t,e){super(t,e)}get distance(){return this.get("distance")}set distance(t){this.set("distance",t)}get decay(){return this.get("decay")}set decay(t){this.set("decay",t)}get angle(){return this.get("angle")}set angle(t){this.set("angle",t)}get penumbra(){return this.get("penumbra")}set penumbra(t){this.set("penumbra",t)}get luminousEfficacy(){return this.get("luminousEfficacy")}set luminousEfficacy(t){this.set("luminousEfficacy",t)}get radius(){return this.get("radius")}set radius(t){this.set("radius",t)}get isPhysicallyCorrect(){return this.get("isPhysicallyCorrect")}set isPhysicallyCorrect(t){this.set("isPhysicallyCorrect",t)}get shouldShowLightRenderMesh(){return this.get("shouldShowLightRenderMesh")}set shouldShowLightRenderMesh(t){this.set("shouldShowLightRenderMesh",t)}}class pdt extends Ke{constructor(t,e){super(t,a=>a.parameters??null,(a,l)=>{a.parameters=l});const i=new Ns(e),n=new oi,o=new Ln(e);this._proxies.push(i,o,n)}get text(){return this.get("text")}set text(t){this.set("text",t)}get fontWeight(){return this.get("fontWeight")}set fontWeight(t){this.set("fontWeight",t)}get fontSize(){return this.get("fontSize")}set fontSize(t){this.set("fontSize",t)}get width(){return this.get("width")}set width(t){this.set("width",t)}get depth(){return this.get("depth")}set depth(t){this.set("depth",t)}get areDimensionsLinked(){return this.get("areDimensionsLinked")}set areDimensionsLinked(t){this.set("areDimensionsLinked",t)}get lineHeight(){return this.get("lineHeight")}set lineHeight(t){this.set("lineHeight",t)}get fontFamily(){return this.get("fontFamily")}set fontFamily(t){this.set("fontFamily",t)}get fontId(){return this.get("fontId")}set fontId(t){this.set("fontId",t)}get letterSpacing(){return this.get("letterSpacing")}set letterSpacing(t){this.set("letterSpacing",t)}get curveRadius(){return this.get("curveRadius")}set curveRadius(t){this.set("curveRadius",t)}get textAlign(){return this.get("textAlign")}set textAlign(t){this.set("textAlign",t)}get verticalAlign(){return this.get("verticalAlign")}set verticalAlign(t){this.set("verticalAlign",t)}get verticalTrim(){return this.get("verticalTrim")}set verticalTrim(t){this.set("verticalTrim",t)}get letterCase(){return this.get("letterCase")}set letterCase(t){this.set("letterCase",t)}}var KD=Object.defineProperty,mdt=Object.getOwnPropertyDescriptor,gdt=(s,t,e)=>t in s?KD(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,_dt=(s,t,e,i)=>{for(var n=mdt(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&KD(t,e,n),n},vdt=(s,t,e)=>(gdt(s,t+"",e),e);class ydt extends Ke{constructor(t,e,i,n){super(t,c=>{var h,d,u;if(((h=c.parameters)==null?void 0:h.actions)!=null)return(u=(d=c.parameters)==null?void 0:d.actions[i])==null?void 0:u.bindings[n]},(c,h)=>{c.parameters.actions==null&&(c.parameters.actions={}),c.parameters.actions[i]==null&&(c.parameters.actions[i]={id:i,bindings:{}}),c.parameters.actions[i].bindings[n]=h});const o=new Ns(e),a=new oi,l=new Ln(e);this._proxies.push(o,l,a)}get id(){return this.get("id")}set id(t){this.set("id",t)}get device(){return this.get("device")}get binding(){return this.get("binding")}set binding(t){this.set("binding",t)}get hand(){return this.get("hand")}set hand(t){this.set("hand",t)}}class qD extends Ke{constructor(t,e,i){super(t,l=>{var c,h;if(((c=l.parameters)==null?void 0:c.actions)!=null)return(h=l.parameters.actions[i])==null?void 0:h.bindings},(l,c)=>{var h;((h=l.parameters)==null?void 0:h.actions)==null&&(l.parameters.actions={}),l.parameters.actions[i]==null&&(l.parameters.actions[i]={id:i,bindings:{}}),l.parameters.actions[i].bindings=c}),this._sceneController=e,this._actionId=i,vdt(this,"_bindings",[]);const n=new Ns(e),o=new oi,a=new Ln(e);this._proxies.push(n,a,o)}get bindings(){return this._bindings}add(t,e){this.set(t,e)}remove(t){var i;if(this._baseObject.activeState==null){this.set(t,void 0);const n=this._baseObject.states;for(const o of Object.values(n)){const a=(i=o.parameters)==null?void 0:i.actions;!a||!a[t]||delete a[t]}return}this.getValue(t)||this.set(t,void 0)}getValue(t){return this.values.find(e=>e.id===t)}entries(){return this.values.map(t=>[t.id,t])}keys(){return Array.from(this.getIds())}getIds(){return super.getIds("bindings")}get values(){const t=[],e=this.getIds();for(const i of e)this.get(i)!=null&&t.push(new ydt(this._baseObject,this._sceneController,this._actionId,i));return t}}_dt([M.struct],qD.prototype,"values");var QD=Object.defineProperty,bdt=Object.getOwnPropertyDescriptor,Cdt=(s,t,e)=>t in s?QD(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,wdt=(s,t,e,i)=>{for(var n=bdt(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&QD(t,e,n),n},xdt=(s,t,e)=>(Cdt(s,t+"",e),e);class Edt extends Ke{constructor(t,e,i){super(t,l=>{var c,h;if(((c=l.parameters)==null?void 0:c.actions)!=null)return((h=l.parameters)==null?void 0:h.actions[i])??void 0},(l,c)=>{l.parameters.actions==null&&(l.parameters.actions={}),l.parameters.actions[i]=c}),xdt(this,"_bindings"),this._bindings=new qD(t,e,i);const n=new Ns(e),o=new oi,a=new Ln(e);this._proxies.push(n,a,o)}get id(){return this.get("id")}set id(t){this.set("id",t)}get name(){return this.get("name")}set name(t){this.set("name",t)}get bindings(){return this._bindings}}class JD extends Ke{constructor(t,e){super(t,a=>{var l;return((l=a.parameters)==null?void 0:l.actions)??null},(a,l)=>a.parameters.actions=l),this._sceneController=e;const i=new Ns(e),n=new oi,o=new Ln(e);this._proxies.push(i,o,n)}add(t,e){this.set(t,e)}remove(t){var i;if(this._baseObject.activeState==null){this.set(t,void 0);const n=this._baseObject.states;for(const o of Object.values(n)){const a=(i=o.parameters)==null?void 0:i.actions;!a||!a[t]||delete a[t]}return}this.getValue(t)||this.set(t,void 0)}getValue(t){return this.values.find(e=>e.id===t)}entries(){return this.values.map(t=>[t.id,t])}keys(){return Array.from(this.getIds())}getIds(){return super.getIds("actions")}get values(){const t=[],e=this.getIds();for(const i of e)this.get(i)!=null&&t.push(new Edt(this._baseObject,this._sceneController,i));return t}}wdt([M.struct],JD.prototype,"values");class Sdt extends Ke{constructor(t,e){super(t,a=>{var l;return((l=a.parameters)==null?void 0:l.actions)??null},(a,l)=>a.parameters.actions=l),this._sceneController=e;const i=new Ns(e),n=new oi,o=new Ln(e);this._proxies.push(i,o,n)}}var Idt=Object.defineProperty,Adt=(s,t,e)=>t in s?Idt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Z9=(s,t,e)=>(Adt(s,typeof t!="symbol"?t+"":t,e),e);class Tdt extends Ke{constructor(t,e){super(t,a=>a.parameters??null,(a,l)=>a.parameters=l),Z9(this,"_actions"),Z9(this,"_settings"),this._actions=new JD(t,e),this._settings=new Sdt(t,e);const i=new Ns(e),n=new oi,o=new Ln(e);this._proxies.push(i,o,n)}get isEnabled(){return this.get("isEnabled")}set isEnabled(t){this.set("isEnabled",t)}get settings(){return this._settings}get actions(){return this._actions}}class K9{static build(t,e){switch(t.type){case L.PLANE:return t.parameters==null&&(t.parameters={...Xn}),new X9(t,e);case L.IMAGE:return t.parameters==null&&(t.parameters={...Xn}),new X9(t,e);case L.BOX:return t.parameters==null&&(t.parameters={...kr}),new edt(t,e);case L.CONE:return t.parameters==null&&(t.parameters={...kb}),new ndt(t,e);case L.CYLINDER:return t.parameters==null&&(t.parameters={...Wn}),new adt(t,e);case L.SPHERE:return t.parameters==null&&(t.parameters={...L_}),new udt(t,e);case L.XRRIG:return t.parameters==null&&(t.parameters={...Pg}),new Qht(t);case L.TEXT:return t.parameters==null&&(t.parameters={...H7}),new pdt(t,e);case L.CAMERA:return t.parameters==null&&(t.parameters={...uD}),new H5(t,e);case L.HAND:case L.HEAD:case L.GROUP:return t.parameters==null&&(t.parameters={...lx}),new hdt(t,e);case L.FRAME:return t.parameters==null&&(t.parameters={...L5}),new cdt(t,e);case L.GAMEPAD:return t.parameters==null&&(t.parameters={...X7}),new Tdt(t,e);case L.AREA_LIGHT:return t.parameters==null&&(t.parameters={...O5}),new qht(t,e);case L.SPOT_LIGHT:return t.parameters==null&&(t.parameters={...N5}),new fdt(t,e);case L.DIRECTIONAL_LIGHT:return t.parameters==null&&(t.parameters={...Bb}),new ldt(t,e);case L.POINT_LIGHT:return t.parameters==null&&(t.parameters={...R5}),new ddt(t,e);case L.CURVE:return t.parameters==null&&(t.parameters={...XD}),new sd(t,e);case L.HUMAN:case L.MODEL:case L.SHAPE:case L.MODEL_ANIMATED:case L.AUDIO:return t.parameters==null&&(t.parameters={...tdt}),new $c(t,e);default:return null}}}var Pdt=Object.defineProperty,Odt=(s,t,e)=>t in s?Pdt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Mdt=(s,t,e)=>(Odt(s,t+"",e),e);const Ldt=Object.keys(k7.shape),Rdt=Object.keys(G7);class Ndt extends Ke{constructor(t,e,i){super(t,l=>(l.sounds==null&&(l.sounds={}),l.sounds[i]??void 0),(l,c)=>{l.sounds==null&&(l.sounds={}),l.sounds[i]=c},"sounds.sound"),Mdt(this,"_parameters"),this._parameters=new jdt(this._baseObject,e,i);const n=new Ns(e),o=new oi,a=new Ln(e);this._proxies.push(n,a,o)}get type(){return this.get("type")}set type(t){this.set("type",t)}get id(){return this.get("id")}set id(t){this.set("id",t)}get assetId(){return this.get("assetId")}set assetId(t){this.set("assetId",t)}get parameters(){return this._parameters}set parameters(t){this._parameters.copy(t)}activeValues(){return super.activeValues(Ldt)}}class jdt extends Ke{constructor(t,e,i){super(t,l=>{if(!(l.sounds==null||l.sounds[i]==null))return l.sounds[i].parameters??void 0},(l,c)=>{(l.sounds==null||l.sounds[i]==null)&&(l.sounds={[i]:{parameters:{}}}),l.sounds[i].parameters=c},"sounds");const n=new Ns(e),o=new oi,a=new Ln(e);this._proxies.push(n,a,o)}get volume(){return this.get("volume")}set volume(t){this.set("volume",t)}get playbackStatus(){return this.get("playbackStatus")}set playbackStatus(t){this.set("playbackStatus",t)}get playbackMode(){return this.get("playbackMode")}set playbackMode(t){this.set("playbackMode",t)}get range(){return this.get("range")}set range(t){this.set("range",t)}get decay(){return this.get("decay")}set decay(t){this.set("decay",t)}get interpolationType(){return this.get("interpolationType")}set interpolationType(t){this.set("interpolationType",t)}activeValues(){return super.activeValues(Rdt)}}var Ddt=Object.defineProperty,Fdt=Object.getOwnPropertyDescriptor,Bdt=(s,t,e,i)=>{for(var n=Fdt(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&Ddt(t,e,n),n};class $D extends Ke{constructor(t,e){super(t,n=>n.sounds??void 0,(n,o)=>{n.sounds=o},"sounds"),this._sceneController=e;const i=new Ns(e);this._proxies.push(i)}add(t,e){this.set(t,e)}getValue(t){return this.values.find(e=>e.id===t)}entries(){return this.values.map(t=>[t.id,t])}keys(){return Array.from(this.getIds())}getIds(){return super.getIds("sounds")}remove(t){const e=this.getValue(t);this.values.indexOf(e)!==-1&&this.set(t,void 0)}get values(){const t=[],e=this.getIds();for(const i of e)this.get(i)!=null&&t.push(new Ndt(this._baseObject,this._sceneController,i));return t}activeValues(){return super.activeValues(this.keys())}}Bdt([M.struct],$D.prototype,"values");class kdt extends Ke{constructor(t,e){super(t,a=>a.viewSettings??void 0,(a,l)=>{a.viewSettings=l},"viewSettings");const i=new Ns(e),n=new oi(new Set(["shouldFlipTextures"])),o=new Ln(e);this._proxies.push(i,o,n)}get castShadow(){return this.get("castShadow")}set castShadow(t){this.set("castShadow",t)}get receiveShadow(){return this.get("receiveShadow")}set receiveShadow(t){this.set("receiveShadow",t)}get side(){return this.get("side")}set side(t){this.set("side",t)}get shouldFlipTextures(){return this.get("shouldFlipTextures")}set shouldFlipTextures(t){this.set("shouldFlipTextures",t)}}var tF=Object.defineProperty,Gdt=Object.getOwnPropertyDescriptor,Vdt=(s,t,e)=>t in s?tF(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Ee=(s,t,e,i)=>{for(var n=i>1?void 0:i?Gdt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&tF(t,e,n),n},wl=(s,t,e)=>(Vdt(s,typeof t!="symbol"?t+"":t,e),e);class oe extends Ke{constructor(t,e,i=null){super(e,l=>l),this.editor=t,this.object=e,this.parentEntity=i,wl(this,"_parametersProxy"),wl(this,"parentProxy",null),wl(this,"_positionProxy"),wl(this,"_rotationProxy"),wl(this,"_scaleProxy"),wl(this,"_viewSettingsProxy"),wl(this,"_collidersProxy"),wl(this,"_soundsProxy"),wl(this,"_behaviorsProxy"),wl(this,"_interactionsProxy"),wl(this,"_constraintsProxy"),wl(this,"_importedAnimationsProxy"),wl(this,"_materialProxy"),this._parametersProxy=K9.build(this._baseObject,t.sceneController),this._positionProxy=new Cf(this._baseObject,t.sceneController,l=>l.position,(l,c)=>l.position=c),this._rotationProxy=new Cf(this._baseObject,t.sceneController,l=>l.rotation,(l,c)=>l.rotation=c),this._scaleProxy=new Cf(this._baseObject,t.sceneController,l=>l.scale,(l,c)=>l.scale=c),this._viewSettingsProxy=new kdt(this._baseObject,t.sceneController),this._collidersProxy=new Yht(this._baseObject,t.sceneController),this._soundsProxy=new $D(this._baseObject,t.sceneController),this._behaviorsProxy=new UD(this._baseObject,t.sceneController),this._interactionsProxy=new GD(this._baseObject,t.sceneController),this._constraintsProxy=new Xht(this._baseObject,t.sceneController),this._importedAnimationsProxy=new Zht(this._baseObject,t.sceneController),e.type!==L.FRAME&&e.type!==L.GROUP&&e.type!==L.AMBIENT_LIGHT&&e.type!==L.POINT_LIGHT?this._materialProxy=new yht(this):this._materialProxy=null;const n=new Ns(t.sceneController),o=new oi(Cw),a=new Ln(t.sceneController,Cw);this._proxies.push(n,a,o),vt(this)}get index(){return this.get("index")}set index(t){this.set("index",t)}get id(){return this._baseObject.id}get entityId(){return this._baseObject.id}set id(t){this._baseObject.id=t}get type(){return this._baseObject.type}set type(t){const e=this._baseObject.type;this._baseObject.type=t,e!=t&&(this._parametersProxy=K9.build(this._baseObject,this.editor.sceneController))}get lastWriter(){return this._baseObject.lastWriter}set lastWriter(t){this._baseObject.lastWriter=t}get lastUpdated(){return this._baseObject.lastUpdated}set lastUpdated(t){this._baseObject.lastUpdated=t}get name(){return this._baseObject.name}set name(t){this._baseObject.name=t}get position(){return this._positionProxy}set position(t){this._positionProxy.copy(Go.serialize(t))}get rotation(){return this._rotationProxy}set rotation(t){this._rotationProxy.copy(Go.serialize(t))}get scale(){return this._scaleProxy}set scale(t){this._scaleProxy.copy(Go.serialize(t))}get interactions(){return this._interactionsProxy}set interactions(t){this._interactionsProxy.copy(t)}get startState(){return this.get("startState")??null}set startState(t){this.set("startState",t)}get parent(){return this._baseObject.parent}set parent(t){if(this._baseObject.parent=t,t==null)this.parentProxy=null;else{const e=this.editor.sceneController.getSceneEntityById(t);this.parentProxy=e?e.sceneObject:null}}get isVisible(){return this._baseObject.isVisible}set isVisible(t){this._baseObject.isVisible=t}get isLocked(){return this.get("isLocked")}set isLocked(t){this.set("isLocked",t)}get isScaleLinked(){return this.get("isScaleLinked")}set isScaleLinked(t){this.set("isScaleLinked",t)}get subdivisions(){return this.get("subdivisions")}set subdivisions(t){this.set("subdivisions",t)}get urlKey(){return this.get("urlKey")}set urlKey(t){this.set("urlKey",t)}get lastGeometryUpdated(){return this.get("lastGeometryUpdated")}set lastGeometryUpdated(t){this.set("lastGeometryUpdated",t)}get activeState(){return this._baseObject.activeState}set activeState(t){this._baseObject.activeState=t}get states(){return this.get("states")}set states(t){this._baseObject.states=t}get colliders(){return this._collidersProxy}set colliders(t){this._collidersProxy.copy(t)}get ttl(){return this._baseObject.ttl}set ttl(t){this._baseObject.ttl=t}get constraint(){return this._constraintsProxy}set constraint(t){this.set("constraint",t),this._constraintsProxy.copy(t)}get material(){return this._materialProxy}get allMaterialIDs(){var t;return(t=this._materialProxy)==null?void 0:t.allMaterialIDs}get materialID(){var t;return(t=this.material)==null?void 0:t.id}set materialID(t){this.activeState!=null?this.states[this.activeState].material=t||{}:this._baseObject.material=t}get parameters(){return this._parametersProxy??{}}set parameters(t){var e;(e=this._parametersProxy)==null||e.copy(t)}get stateBehaviors(){return this.get("behaviors")??{}}get behaviors(){return this._behaviorsProxy}set behaviors(t){this._behaviorsProxy.copy(t)}get sounds(){return this._soundsProxy}set sounds(t){this._soundsProxy.copy(t)}get asset(){return this._baseObject.asset}set asset(t){this._baseObject.asset=t}get assetSource(){return this._baseObject.assetSource??null}set assetSource(t){this._baseObject.assetSource=t}get isInstance(){return this._baseObject.isInstance}set isInstance(t){this._baseObject.isInstance=t}get assetVersion(){return this.get("assetVersion")??0}set assetVersion(t){this.set("assetVersion",t)}get viewSettings(){return this._viewSettingsProxy}set viewSettings(t){this._viewSettingsProxy.copy(t)}get isInteractive(){return this.get("isInteractive")}set isInteractive(t){this.set("isInteractive",t)}get layerOpacity(){return this.get("layerOpacity")??1}set layerOpacity(t){this.set("layerOpacity",t)}get activeImportedAnimation(){return this.get("activeImportedAnimation")??null}set activeImportedAnimation(t){this.set("activeImportedAnimation",t)}get importedAnimations(){return this._importedAnimationsProxy}get overrides(){return this._baseObject.overrides}set overrides(t){this._baseObject.overrides=t}get frameStates(){return this._baseObject.frameStates}set frameStates(t){this._baseObject.frameStates=t}get _metadata(){return this._baseObject._metadata}set _metadata(t){this._baseObject._metadata=t}get isReadOnly(){return this._baseObject.isReadOnly??!1}set isReadOnly(t){this._baseObject.isReadOnly=t}copy(t,e){var n,o;const i=this.id;if(this._baseObject={...t,id:i},this._baseObject.material&&this.material){const a=(n=this._baseObject.states[this._baseObject.activeState||""])==null?void 0:n.material,l=this.editor.materialController.materials[this._baseObject.material];let c=l;if(typeof a=="string")c=this.editor.materialController.materials[a];else if(typeof a=="object"){const h={...a};delete h.baseID,c={...l,data:{...l.data,...h}}}this.material.copy(c.data)}if(this._positionProxy.copy(t.position),this._scaleProxy.copy(t.scale),this._rotationProxy.copy(t.rotation),(o=this._parametersProxy)==null||o.copy(t.parameters),this.states=No(t.states),this.colliders=No(t.colliders),this._metadata=No(t._metadata),this.behaviors=No(t.behaviors),this.interactions=No(t.interactions),t.constraint&&(this.constraint=No(t.constraint)),e)for(const[a,l]of Object.entries(e))typeof l=="object"?this._baseObject[a]=No(l):Array.isArray(l)?this._baseObject[a]=[...l]:this._baseObject[a]=l;t.frameStates&&(this.frameStates=No(t.frameStates))}get isCurrentlyAnimating(){let t=this.activeState===an,e=this.parentProxy;if((e==null?void 0:e.type)==L.FRAME&&!(Object.keys(this.states).filter(n=>n!==an).length>0))return e.isCurrentlyAnimating;for(;e!=null&&!t;)t=e.activeState===an,e=e.parentProxy;return t}clone(t=!1){var o;const e=((o=this._parametersProxy)==null?void 0:o.baseValues())??{},i=this._constraintsProxy.base(),n={...this._baseObject,position:{...this._positionProxy.base()},rotation:{...this._rotationProxy.base()},scale:{...this._scaleProxy.base()},viewSettings:{...this._viewSettingsProxy.base()},parameters:{...e},states:{...hs(this.states)},colliders:{...hs(this._collidersProxy.base())},sounds:this._soundsProxy.baseValues(),frameStates:this.frameStates?{...hs(this.frameStates)}:null,constraint:i!=null?{...i}:void 0};return t&&this.editor.materialController.cloneMaterialsByObject(n),n}setTemporaryState(t=an){var o;if(this.activeState===t)return;let e,i={};if(this.activeState)e=hs(this.states[this.activeState]);else{const a=Object.entries(this.baseValues());e=Object.fromEntries(a.filter(([l,c])=>!Cw.has(l)))}if(this.type!==L.CAMERA){let a=e.material;typeof a=="string"&&(a={baseID:a}),a||(a=this.material?{baseID:(o=this.material)==null?void 0:o.id}:{}),i={material:a}}const n=No({...e,...i,name:t});this._baseObject.states||(this._baseObject.states={}),this._baseObject.states[t]=n,this.activeState=t}}Ee([V],oe.prototype,"_parametersProxy",2);Ee([V],oe.prototype,"_positionProxy",2);Ee([V],oe.prototype,"_rotationProxy",2);Ee([V],oe.prototype,"_scaleProxy",2);Ee([V],oe.prototype,"_viewSettingsProxy",2);Ee([V],oe.prototype,"_collidersProxy",2);Ee([V],oe.prototype,"_soundsProxy",2);Ee([V],oe.prototype,"_behaviorsProxy",2);Ee([V],oe.prototype,"_interactionsProxy",2);Ee([V],oe.prototype,"_constraintsProxy",2);Ee([V],oe.prototype,"_importedAnimationsProxy",2);Ee([M],oe.prototype,"index",1);Ee([M],oe.prototype,"id",1);Ee([M],oe.prototype,"entityId",1);Ee([M],oe.prototype,"type",1);Ee([M],oe.prototype,"lastWriter",1);Ee([M],oe.prototype,"lastUpdated",1);Ee([M],oe.prototype,"name",1);Ee([M],oe.prototype,"position",1);Ee([M],oe.prototype,"rotation",1);Ee([M],oe.prototype,"scale",1);Ee([M],oe.prototype,"interactions",1);Ee([M],oe.prototype,"startState",1);Ee([M],oe.prototype,"parent",1);Ee([M],oe.prototype,"isVisible",1);Ee([M],oe.prototype,"isLocked",1);Ee([M],oe.prototype,"isScaleLinked",1);Ee([M],oe.prototype,"subdivisions",1);Ee([M],oe.prototype,"urlKey",1);Ee([M],oe.prototype,"lastGeometryUpdated",1);Ee([M],oe.prototype,"activeState",1);Ee([M],oe.prototype,"states",1);Ee([M],oe.prototype,"colliders",1);Ee([M],oe.prototype,"ttl",1);Ee([M],oe.prototype,"constraint",1);Ee([M],oe.prototype,"material",1);Ee([M],oe.prototype,"allMaterialIDs",1);Ee([M],oe.prototype,"materialID",1);Ee([M],oe.prototype,"parameters",1);Ee([M],oe.prototype,"stateBehaviors",1);Ee([M],oe.prototype,"behaviors",1);Ee([M],oe.prototype,"sounds",1);Ee([M],oe.prototype,"asset",1);Ee([M],oe.prototype,"assetSource",1);Ee([M],oe.prototype,"isInstance",1);Ee([M],oe.prototype,"assetVersion",1);Ee([M],oe.prototype,"viewSettings",1);Ee([M],oe.prototype,"isInteractive",1);Ee([M],oe.prototype,"layerOpacity",1);Ee([M],oe.prototype,"activeImportedAnimation",1);Ee([M],oe.prototype,"importedAnimations",1);Ee([M],oe.prototype,"_metadata",1);Ee([M],oe.prototype,"isReadOnly",1);Ee([E],oe.prototype,"setTemporaryState",1);var eF=Object.defineProperty,Hdt=Object.getOwnPropertyDescriptor,Udt=(s,t,e)=>t in s?eF(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,D_=(s,t,e,i)=>{for(var n=i>1?void 0:i?Hdt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&eF(t,e,n),n},q9=(s,t,e)=>(Udt(s,typeof t!="symbol"?t+"":t,e),e);class Im extends Es{constructor(t){if(super(t),q9(this,"type",pt.Interaction),q9(this,"_interactionsById"),this._interactionsById=new ho,t.proxy instanceof oe){for(const[e,i]of t.proxy.interactions.entries())this._interactionsById.set(e,i);if(t.compo.isInstanceEntity&&!t.compo.isInstanceRoot){const e=t.getComponent(Js);if(e!=null)for(const[i,n]of Object.entries(e.component.interactions))this._interactionsById.set(i,n)}}else for(const[e,i]of Object.entries(t.proxy.interactions))this._interactionsById.set(e,i);this._rewatch(),vt(this)}_rewatch(){super.dispose(),this.watch()}get(t){return this.entity.proxy instanceof oe?this.entity.proxy.interactions.getValue(t):this._interactionsById.get(t)}get entries(){return this.entity.proxy instanceof oe?this.entity.proxy.interactions.entries():Array.from(this._interactionsById.entries())}get hasInteractions(){return this.count>0}get count(){return this.entity.proxy instanceof oe?this.entity.proxy.interactions.keys().length:this._interactionsById.size}animationSequenceForInteraction(t){const e=this._interactionsById.get(t);return(e==null?void 0:e.animations)??null}addInteraction(t,e){const i=Ht(),n=e??this._getDefaultAnimationForTrigger(t),o={trigger:t,animations:n};return this.entity.proxy instanceof oe?this.entity.proxy.interactions.add(i,o):this._interactionsById.set(i,o),this.addTimelineIndicesForAnimations(n),this.entity.proxy.interactions=Object.fromEntries(this.entries),i}addTimelineIndicesForAnimations(t){const e=this._getTimelineIndicesForAnimations(t);this.setTimelineIndicesByAnimationId(e)}_removeTimelineIndicesForAnimations(t){const e={...hs(this.timelineIndicesByAnimationId)};for(const i of Object.keys(t))delete e[i];this.setTimelineIndicesByAnimationId(e,!0)}get timelineIndicesByAnimationId(){var t,e;return((e=(t=this.entity.proxy._metadata)==null?void 0:t.interactions)==null?void 0:e.timelineIndicesByAnimationId)??{}}setTimelineIndicesByAnimationId(t,e=!1){const i=this.entity.proxy._metadata??{},n=i.interactions??{},o=n.timelineIndicesByAnimationId??{},a=e?t:{...o,...t};this.entity.proxy._metadata={...i,interactions:{...n,timelineIndicesByAnimationId:a}}}updateInteraction(t,e,i){if(Object.values(i).length===0)this.removeInteraction(t);else{const n={trigger:e,animations:i};let o=null;this.entity.proxy instanceof oe?o=this.entity.proxy.interactions.getValue(t):o=this._interactionsById.get(t),o!=null&&o.trigger.event!==e.event&&(this._removeTimelineIndicesForAnimations(i),this.addTimelineIndicesForAnimations(i)),this.entity.proxy instanceof oe?o==null?this.entity.proxy.interactions.add(t,n):(o.trigger=e,o.animations=i):this._interactionsById.set(t,n)}this.entity.proxy instanceof oe||(this.entity.proxy.interactions=Object.fromEntries(this.entries))}static duplicate(t,e,i){const n={},o=Object.values(t);for(const{trigger:a,animations:l}of o){const c=Ht(),h=No(a),d={};for(const _ of Object.values(l)){const v=Ht();d[v]={...No(_),id:v}}const u=a.targetEntityIds,f=[];if(u!=null){for(const _ of u)_===e?f.push(i):f.push(_);h.targetEntityIds=f}const p=a.targetEntityIds2,g=[];if(p!=null){for(const _ of p)_===e?g.push(i):g.push(_);g.length>0&&(h.targetEntityIds2=g)}for(const[_,v]of Object.entries(d))v.sceneEntityId!==void 0&&v.sceneEntityId===e&&(d[_].sceneEntityId=i);n[c]={trigger:h,animations:d}}return n}removeAnimationsWithState(t){for(const[e,{animations:i}]of this.entries){for(const[n,o]of Object.entries(i))(o.fromStateId===t||o.toStateId===t)&&delete i[n];Object.values(i).length===0&&this.removeInteraction(e)}}removeEntityFromTargets(t){let e=!1;for(const[i,{trigger:n,animations:o}]of this.entries){let a=null,l=null;switch(n.type){case te.POINTER:{a=n.targetEntityIds;break}case te.COLLIDER:a=n.targetEntityIds??null,l=n.targetEntityIds2??null}if(a!=null&&a.includes(t)){const c=a.filter(h=>h!==t);n.targetEntityIds=c,this.updateInteraction(i,n,o),e=!0}if(l!=null&&l.includes(t)){const c=l.filter(h=>h!==t);n.targetEntityIds2=c,this.updateInteraction(i,n,o),e=!0}}return e}removeInteraction(t){const e=this._interactionsById.get(t);e!=null&&this._removeTimelineIndicesForAnimations(e.animations),this._interactionsById.delete(t),this.entity.proxy instanceof oe?this.entity.proxy.interactions.remove(t):delete this.entity.proxy.interactions[t]}watch(){this.disposableReactions.push(rt(()=>{this.entity!=null&&(Object.keys(this.entity.proxy.interactions).join(":"),this.setInteractions(this.entity.proxy.interactions,null))}))}setInteractions(t,e=null,i=0){if(this._interactionsById)if(this._interactionsById.clear(),t instanceof GD){for(const[n,o]of t.entries())this._interactionsById.set(n,o);if(e)for(const[n,o]of Object.entries(e))this._interactionsById.set(n,o)}else for(const[n,o]of Object.entries(t))this._interactionsById.set(n,o)}_getDefaultAnimationForTrigger(t){const e=t.targetEntityIds;if(e!=null&&e.length>0){const i=Ht(),n=this.entity.states.getNextStateForStartState(null);return{[i]:{id:i,sceneEntityId:e[0],duration:.5,fromStateId:null,toStateId:n}}}return{}}_getTimelineIndicesForAnimations(t){const e=Object.values(this.timelineIndicesByAnimationId).sort(),i={},n=[],o=e.length>0?e[0]:null,a=Object.values(t);for(let l=0;l<a.length;l++){const c=l===0?o:n[l-1],h=ll(null,c);n.push(h);const d=a[l].id;i[d]=h}return i}}D_([V],Im.prototype,"_interactionsById",2);D_([M],Im.prototype,"entries",1);D_([M],Im.prototype,"hasInteractions",1);D_([M],Im.prototype,"count",1);D_([E],Im.prototype,"updateInteraction",1);D_([E],Im.prototype,"setInteractions",1);function Q9(s){return s.split("_")[0]}function J9(s){return J7.safeParse(s).success}var sF=Object.defineProperty,zdt=Object.getOwnPropertyDescriptor,Ydt=(s,t,e)=>t in s?sF(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,lA=(s,t,e,i)=>{for(var n=zdt(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&sF(t,e,n),n},$C=(s,t,e)=>(Ydt(s,typeof t!="symbol"?t+"":t,e),e);class U5{constructor(t,e){this._editor=t,this._onAnimationUpdate=e,$C(this,"_animatingInteractionIds",new Set),$C(this,"_activeAnimationsByEntityId",{}),$C(this,"_reactionDisposers",[]),$C(this,"_isInitialized",!1),vt(this)}init(){this._isInitialized||(this._watch(),this._isInitialized=!0)}get activeAnimationsByEntityId(){return this._activeAnimationsByEntityId}reset(){this._disposeAnimations(),this.setSceneToStartState(),this._editor.signals.play.reset.dispatch();const t=Date.now();for(const e of this._autoCombinedIdsByAnimatingEntityId.keys())this._startAutoInteractionsForEntity(e,t);this._onAnimationUpdate()}startSequenceForInteraction(t,e,i=!0){if(this._animatingInteractionIds.has(t))return!1;const n=this._interactionsById.get(t);if(n==null||Object.values(n.animations).length<1)return console.error("No valid interaction found with id",t),!1;const o=Object.values(n.animations)[0];let a=Ur(o)?o.sceneEntityId:ci;a===Ms&&(a=Q9(t));const l=this._activeAnimationsByEntityId[a]!=null,c=this._filterAnimationSequenceByInitialState(n,e,a);if(Object.values(c).length===0)return!1;const h=this._addProxyToAnimations(c,a),d=this._getSceneEntity(a);i&&this._editor.sceneController.cameraController.copyControlsToAnimatingCamera(d==null?void 0:d.id);const u=this._getTimelineCallbacks(t,c,d),f=this._createAnimationWrapper(h,l,i,d,u);return this._animatingInteractionIds.add(t),this._activeAnimationsByEntityId[a]={animationWrapper:f,interactionId:t,time:e},f.play(),!0}dispose(){this._disposeAnimations();for(const t of this._reactionDisposers)t!=null&&t()}get hotSpotEntities(){const t=Object.entries(this._pointerInteractionsByAnimatingEntityId),e=[],i=new Set;for(const[n,o]of t){const a=this._getFirstTriggerableInteraction(o,n);if(a!=null&&a.trigger.type===te.POINTER)for(const l of a.trigger.targetEntityIds){const c=l===Ms?n:l,h=this._editor.sceneController.getSceneEntityById(c);h!=null&&!i.has(h.id)&&h.isInteractive&&(e.push(h),i.add(h.id))}}return e}_filterAnimationSequenceByInitialState(t,e,i,n=!0){const{trigger:o,animations:a}=t,l={...hs(a)};for(const[c,h]of Object.entries(a)){const{fromStateId:d}=h;let u;if(Ur(h)){const C=this._getSceneEntity(i);if(C!=null?u=C.playModeStateId:console.warn("No entity for id",i),C.type===L.CAMERA&&C.id!==this._editor.sceneController.cameraController.playModeCameraId){delete l[c];continue}}else u=this._editor.sceneController.statefulScene.states.stateId;if(i==null)continue;const f=this._activeAnimationsByEntityId[i],p=this._interactionsById.get((f==null?void 0:f.interactionId)??""),g=f!=null&&p!=null&&Object.values(p.animations).length>0;if(g&&o.event===p.trigger.event&&f.time===e){delete l[c];continue}if(d===sr){g&&n&&this.removeActiveAnimationForEntity(i);continue}let _,v,y,b;if(g){_=f.animationWrapper;const C=Object.values(p.animations)[0];v=C.fromStateId,y=C.toStateId,b=C.repeat!=null}_!=null&&o.type!==te.AUTO?(b?[v,y]:[y]).includes(d)?(this.removeActiveAnimationForEntity(i),l[c].fromStateId=sr):delete l[c]:u!==d&&u!==an&&delete l[c]}return l}_disposeAnimations(){this._animatingInteractionIds.clear();for(const[t,{animationWrapper:e}]of Object.entries(this._activeAnimationsByEntityId))e.dispose(),delete this._activeAnimationsByEntityId[t]}_addProxyToAnimations(t,e){const i={};for(const n of Object.keys(t)){const o=t[n];if(Ur(o)){const a=e;if(a!=null){const l=this._getSceneEntity(a);if(!l)continue;i[n]={...o,proxy:l.sceneObject}}else delete i[n]}else eb(o)&&(i[n]={...o,proxy:this._editor.sceneController.statefulScene.proxy})}return i}_getTimelineCallbacks(t,e,i){if(Object.values(e).length<1)return{};const n=Object.values(e)[0],o=n.repeat!=null;return{onUpdate:a=>{if(o&&i!=null&&a.progress()===1){const c=n.toStateId;i.states.setActiveState(c),i.sceneObject.setTemporaryState()}this._onAnimationUpdate()},onComplete:this._getOnAnimationComplete(t,e),onRepeat:a=>{o&&i!=null&&a.progress()===0&&(i.states.setActiveState(n.fromStateId),i.sceneObject.setTemporaryState())}}}_getAnimatingFrameChildren(t){return t!=null&&t.isFrame?t.allChildren.filter(e=>e.states.hasOnlyAnimatingState):[]}_getOnAnimationComplete(t,e){return()=>{this._animatingInteractionIds.delete(t);const i=Date.now();for(const n of Object.values(e)){const{yoyo:o,fromStateId:a,toStateId:l}=n,c=o===!0?a:l;let h="";if(Ur(n)){h=n.sceneEntityId===Ms?Q9(t):n.sceneEntityId;const d=this._getSceneEntity(h);d.states.setActiveState(c);const u=this._getAnimatingFrameChildren(d);for(const f of u)f.states.setActiveState(null)}else eb(n)&&(this._editor.sceneController.statefulScene.states.setActiveState(c),h=ci);setTimeout(()=>{this.removeActiveAnimationForEntity(h),this._startAutoInteractionsForEntity(h,i)},1)}}}startAutoAnimationsForEntity(t){const e=this._autoCombinedIdsByAnimatingEntityId.get(t)??new Set;if(e==null)return;const i=Date.now();for(const n of e)this.startSequenceForInteraction(n,i,!1)}removeActiveAnimationForEntity(t){const e=this._activeAnimationsByEntityId[t];e!=null&&(e.animationWrapper.dispose(),delete this._activeAnimationsByEntityId[t],this._animatingInteractionIds.delete(e.interactionId))}_createAnimationWrapper(t,e,i,n,o){const a=n==null?void 0:n.isFrame,l=this._getAnimatingFrameChildren(n).map(h=>({...h.animationSettingOverrides(this._editor.isVRActive,i),proxy:h.sceneObject}));return new M0(t,e,this._editor.sceneController.materialController.getMaterialForState.bind(this._editor.sceneController.materialController),o,a,l)}setSceneToStartState(){for(const t of Object.values(this._editor.sceneController.sceneEntitiesById))t.states.setToStartState(),t.behaviors.resetAllBehaviors();this._editor.sceneController.statefulScene.statesCount>0&&this._editor.sceneController.statefulScene.states.setToStartState()}_getSceneEntity(t){let e=this._editor.sceneController.sceneEntitiesById[t];if(e==null){const i=this._editor.sceneController.cameraController.cameraComponentsById[t];e=i==null?null:i.entity}return e}get _pointerInteractionsByAnimatingEntityId(){return this._editor.rootStore.interactionsStore.pointerInteractionsByAnimatingEntityId}get _interactionsById(){return this._editor.rootStore.interactionsStore.interactionsByCombinedId}get _autoCombinedIdsByAnimatingEntityId(){return this._editor.rootStore.interactionsStore.autoCombinedIdsByAnimatingEntityId}_watch(){this._reactionDisposers.push(Gn(()=>({interactions:this._editor.rootStore.interactionsStore.interactionsByCombinedId,startStates:this._editor.rootStore.interactionsStore.startStateByEntityId}),()=>{this.reset()},{fireImmediately:!0}),Gn(()=>Object.values(this._editor.sceneController.sceneEntitiesById).map(t=>({lastUpdated:t.sceneObject.lastUpdated,entityId:t.id})),t=>{for(const{lastUpdated:e,entityId:i}of t)if(this._activeAnimationsByEntityId[i]!=null){const{time:n,animationWrapper:o}=this._activeAnimationsByEntityId[i];n<e&&o.rebuild()}}))}_getFirstTriggerableInteraction(t,e){for(const i of Object.values(t)){const{animations:n}=i;if((Object.values(n).length>0?Object.values(n)[0]:null)!=null){const a=this._filterAnimationSequenceByInitialState(i,Date.now(),e,!1);if(Object.values(a).length>0)return i}}return null}_startAutoInteractionsForEntity(t,e=Date.now()){const i=this._autoCombinedIdsByAnimatingEntityId.get(t);if(i!=null)for(const n of i)this.startSequenceForInteraction(n,e,!1)}}lA([M],U5.prototype,"activeAnimationsByEntityId");lA([M],U5.prototype,"hotSpotEntities");lA([E],U5.prototype,"setSceneToStartState");function Ur(s){return t7.safeParse(s).success}function eb(s){return oN.safeParse(s).success}async function Wdt(s){console.warn("Converting from 230510 to 230601...");const t={...s},e=await eo(t.id,null,0,!0,!0,!1),i=[];for(const l of Object.values(e)){const c={...l};c.lastUpdated=Date.now();const h=e6(e,l.id,t.scene),d=c._metadata??{};c._metadata={...d,interactions:{timelineIndicesByAnimationId:h}},c.version=230601,i.push(c)}await Ws(i,t.id);const n=e6(e,ci,t.scene),o={...t.scene},a=o._metadata??{};return o._metadata={...a,interactions:{timelineIndicesByAnimationId:n}},await Aa(t.id,o),t.scene=o,t.version=230601,await To(t.id,t.version),console.warn("Finished conversion from 230316 to 230517..."),t}function e6(s,t,e){const i=[],o=Object.values(s).map(h=>h.interactions);e.interactions!=null&&o.push(e.interactions);for(const h of o)for(const d of Object.values(h)){if(!J9(d)||Object.values(d.animations).length<1){console.warn("Encountered invalid interaction",d);continue}const u=Object.values(d.animations)[0],f=Ur(u)?u.sceneEntityId:ci;(d.trigger.event===Wt.AUTO&&(t===ci||t===f)||d.trigger.targetEntityIds!=null&&d.trigger.targetEntityIds.includes(t))&&i.push(d)}const a=i.reduce((h,d)=>{if(!J9(d))return console.warn("Encountered invalid interaction",d),h;const u=d.trigger.event;return h[u]==null?h[u]=[d]:h[u].push(d),h},{}),l={},c=Xdt(s);for(const h of Object.values(a)){h.sort(c);const d=[];for(let u=0;u<h.length;u++){const f=h[u];if(Object.values(f.animations).length<0)continue;const p=u===0?null:d[u-1],g=ll(p,null);d.push(g);const _=Object.values(f.animations)[0].id;l[_]=g}}return l}function Xdt(s){return(t,e)=>{var u,f;const i=Object.values(t.animations)[0],n=Object.values(e.animations)[0],o=Ur(i)?i.sceneEntityId:ci,a=Ur(n)?n.sceneEntityId:ci,l=o===ci?"Scene":((u=s[o])==null?void 0:u.name)??"",c=a===ci?"Scene":((f=s[a])==null?void 0:f.name)??"";if(l.localeCompare(c)!=0)return l.localeCompare(c);let h,d;return i.fromStateId==null?h=-1:i.fromStateId===sr?h=0:h=parseInt(i.fromStateId),n.fromStateId==null?d=-1:n.fromStateId===sr?d=0:d=parseInt(n.fromStateId),h-d}}async function iF(s,t,e){console.warn(`Converting ${String(s.id)} from  to 230601 to 230608...`);const i={...s};if(i.lastUpdated=Date.now(),i.version=230608,i.parent!=null&&e[i.parent]!=null&&Object.values(i.parentStates).length>0){const n=Object.keys(i.states);let o=n.length===0?1:parseInt(n[n.length-1],10)+1;const a=new Map;if(Number.isInteger(o)){const l=i.parentStates;for(const[h,d]of Object.entries(l))if(Zdt(d)){const u=`${o}`;i.states={...i.states,[u]:{...d}},a.set(h,u),o+=1}const c=e[i.parent];for(const h of Object.values(c.interactions)){if(Object.values(h.animations).length<1)continue;const d=Object.values(h.animations)[0];if(Ur(d)&&d.sceneEntityId===c.id&&(d.fromStateId==null||a.has(d.fromStateId))&&(d.toStateId==null||a.has(d.toStateId))){const u=d.fromStateId==null?null:a.get(d.fromStateId),f=d.toStateId==null?null:a.get(d.toStateId),p=Ht(),g={...h,animations:{[p]:{...d,id:p,sceneEntityId:i.id,fromStateId:u,toStateId:f}}},_=Ht();i.interactions[_]=g}}i.activeParentStateId!=null&&(i.activeState=a.get(i.activeParentStateId))}}return await Promise.resolve({object:i})}function Zdt(s){const t=new Set(Object.keys(s)),e=["name","material","parameters"],i=t.size>e.length,n=Object.values(s.material??{}).length>0,o=Object.values(s.parameters??{}).length>0;return i||n||o}async function Kdt(s){console.warn("Converting from 230601 to 230608...");const t={...s},e=await eo(t.id,null,0,!0,!0,!1),i=[],n=Object.values(e);for(const o of n){const a=await iF(o,t.id,e);a.object!=null&&i.push(a.object)}return await Ws(i,t.id),t.version=230608,await To(t.id,t.version),console.warn("Finished conversion from 230601 to 230608..."),t}async function nF(s,t,e){console.warn(`Converting ${String(s.id)} from 230718 to 230724...`);const i={...s};if(i.type===L.CAMERA){let o=qdt(e)[i.id];o==null&&(console.warn("No index created for camera, setting default",i.id),o=ll(null,null)),i.index=o,i.parameters!=null&&(i.parameters.publishIndex=o)}if(i.colliders||(i.colliders={}),i.behaviors||(i.behaviors={}),i.states)for(const n of Object.values(i.states))n.behaviors||(n.behaviors={});return i.lastUpdated=Date.now(),i.version=230724,await Promise.resolve({object:i})}function qdt(s){const t={},e=Object.values(s).filter(n=>n.type===L.CAMERA).sort((n,o)=>{var c,h;const a=((c=n.parameters)==null?void 0:c.index)??0,l=((h=o.parameters)==null?void 0:h.index)??0;return a-l});let i=null;for(let n=0;n<e.length;n++){const o=ll(i,null),a=e[n];t[a.id]=o,i=o}return t}async function Qdt(s){console.warn("Converting from 230718 to 230724...");const t={...s},e=await eo(t.id,null,0,!0,!0,!1),i=[],n=Object.values(e);for(const o of n){const a=await nF(o,t.id,e);a.object!=null&&i.push(a.object)}return await Ws(i,t.id),t.version=230724,await To(t.id,t.version),console.warn("Finished conversion from 230718 to 230724..."),t}async function oF(s,t,e){console.warn(`Converting ${String(s.id)} from 230724 to 230810...`);const i={...s},{type:n}=i;rF(n,i.parameters);const{states:o}=i;return Jdt(o,i),i.lastUpdated=Date.now(),i.version=230810,await Promise.resolve({object:i})}function Jdt(s,t){for(const e of Object.values(s))e.parameters&&rF(t.type,e.parameters)}function rF(s,t){if(s===L.TEXT){const{maxWidth:e,maxHeight:i}=t;e!=null&&(t.width=e,delete t.maxWidth),i!=null&&(t.depth=i,delete t.maxHeight),t.height=0}else if(s===L.PLANE||s===L.IMAGE){const{radii:e,bendDegrees:i}=t;e!=null&&(t.radii={tl:e[0],tr:e[1],br:e[2],bl:e[3]}),i!=null&&(t.bendAngle=ms.degToRad(i),delete t.bendDegrees)}else if(s===L.SPHERE){const{sliceYDegrees:e,radius:i}=t;e!=null&&(t.sliceYAngle=ms.degToRad(e),delete t.sliceYDegrees),i!=null&&(t.width=i*2,t.height=i*2,t.depth=i*2,delete t.radius)}else if(s===L.CYLINDER){const{sliceAngleDegrees:e,radiusTop:i,radiusBottom:n}=t;e!=null&&(t.sliceAngle=ms.degToRad(e),delete t.sliceAngleDegrees),i!=null&&n!=null&&(t.width=Math.max(i,n)*2,t.depth=Math.max(i,n)*2)}else if(s===L.CONE){const{sliceAngleDegrees:e,radius:i}=t;e!=null&&(t.sliceAngle=ms.degToRad(e),delete t.sliceAngleDegrees),i!=null&&(t.width=i*2,t.depth=i*2,delete t.radius)}return t}async function $dt(s){console.warn("Converting from 230724 to 230810...");const t={...s},e=await eo(t.id,null,0,!0,!0,!1),i=[],n=Object.values(e);for(const o of n){const a=await oF(o,t.id);a.object!=null&&i.push(a.object)}return await Ws(i,t.id),t.version=230810,await To(t.id,t.version),console.warn("Finished conversion from 230724 to 230810..."),t}function j0(s){return`${pi.fileID}--${Ht()}`}var tut=Object.defineProperty,eut=(s,t,e)=>t in s?tut(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,sut=(s,t,e)=>(eut(s,t+"",e),e);class m1{constructor(t){this._editor=t,sut(this,"_didCommit",!1)}update(){this._editor.stateController.signals.parameters.dispatch({action:P.PARAMETERS})}addSceneEntity(t){this._editor.stateController.recordBefore({action:P.NEW_SHAPE}),this._editor.sceneController.addSceneEntity(t,!0),this._editor.stateController.signals.newShape.dispatch({action:P.NEW_SHAPE,ids:new Set([t.id])})}commit(){this._didCommit||(this._editor.stateController.recordAfter({action:P.NEW_SHAPE}),this._didCommit=!0)}}var iut=Object.defineProperty,nut=(s,t,e)=>t in s?iut(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Wm=(s,t,e)=>(nut(s,typeof t!="symbol"?t+"":t,e),e);class mo{constructor(t,e,i=new m1(t)){this._editor=t,this._type=e,this._remoteUpdater=i,Wm(this,"_widthComponent",0),Wm(this,"_heightComponent",1),Wm(this,"_depthComponent",2),Wm(this,"orientation",new ke),Wm(this,"euler",new ls),Wm(this,"_disposable",new Zt),Wm(this,"_entity")}dispose(){this._disposable.dispose(),this._editor.selectionController.setIsTransformingSelection(!1),this._remoteUpdater.commit()}setNormal(t){Math.abs(t.dot(to))===1?(this.euler.set(0,0,0),this._widthComponent=0,this._heightComponent=1,this._depthComponent=2):Math.abs(t.dot(ul))===1?(this.euler.set(Math.PI/2,0,0),this._widthComponent=0,this._heightComponent=2,this._depthComponent=1):Math.abs(t.dot(Mn))===1&&(this.euler.set(0,0,-Math.PI/2),this._widthComponent=1,this._heightComponent=0,this._depthComponent=2),this.orientation.setFromEuler(this.euler)}composeSceneObject(t=of,e=of,i=Py){return mo.composeBaseSceneObject(this._type,t,e,i)}composeSceneObjectWithMaterial(t=of,e=of,i=Py){const n=mo.composeBaseSceneObject(this._type,t,e,i);return n.material=Qh({},this._editor.materialController).id,n}static composeBaseSceneObject(t,e=of,i=of,n=Py){const o={name:gm.objectType2Name(t),position:Go.serialize(e),rotation:Go.serialize(i),scale:Go.serialize(n),id:j0()};return Object.assign({},Do,o)}_onCreated(t=!0){this._entity&&(this._remoteUpdater.addSceneEntity(this._entity),t&&(this._editor.selectionController.selectedCollection.set(this._entity),this._editor.selectionController.setIsTransformingSelection(!0)))}commit(){this._remoteUpdater.commit()}}async function aF(s,t,e){console.warn(`Converting ${String(s.id)} from 230810 to 230927...`);const i={...s},{type:n}=i;lF(n,i),cF(n,i.parameters),i.behaviors=hF(i.behaviors,i.states,!0);const{states:o}=i;return out(o,i),i.lastUpdated=Date.now(),i.version=230927,await Promise.resolve({object:i})}function out(s,t){for(const e of Object.values(s))e.parameters&&(lF(t.type,e),cF(t.type,e.parameters),e.behaviors=hF(e.behaviors,s,!1))}function lF(s,t){t.position!=null&&(t.position={x:t.position[0],y:t.position[1],z:t.position[2]}),t.rotation!=null&&(t.rotation={x:t.rotation[0],y:t.rotation[1],z:t.rotation[2]}),t.scale!=null&&(t.scale={x:t.scale[0],y:t.scale[1],z:t.scale[2]}),t.visible!=null&&(t.isVisible=t.visible),t.lockedScale!=null&&(t.isScaleLinked=t.lockedScale),delete t.visible,delete t.collapsed,delete t.lockedScale}function cF(s,t){if(s===L.CAMERA){const{focalLength:e}=t;e!=null&&(t.fov=Zh.focalLength2Fov(e))}return t}function hF(s,t,e){const i={};if(!s)return i;const o=Object.values(s).some(a=>a.type==="Freeze"&&a.isActive);for(const[a,l]of as.getEntries(s)){const c=aut(l,t),h=lut(l,t),d=rut(l,o);d.removedInStates=e?h:[],(l.isActive===!0||e||e&&c)&&l.type!=="Freeze"&&(i[a]=d)}return i}function rut(s,t){const{isActive:e,type:i}=s,n={id:s.id,isEnabled:s.isActive??!0,parameters:O0,removedInStates:[]};if(e!=null&&(n.isEnabled=!t),i.toUpperCase()==="FOLLOW"){const{axes:o,ignoreRotation:a,offset:l,smooth:c,target:h}=s,d={type:ei.FOLLOW,axes:{x:o[0]??!0,y:o[1]??!0,z:o[2]??!0},smooth:c??10,offset:{x:l[0]??0,y:l[1]??0,z:l[2]??-1},target:h??null,isRotationEnabled:!a};n.parameters=d}else if(i.toUpperCase()==="LOOK AT"){const{direction:o,tilt:a,target:l}=s,c={type:ei.LOOK_AT,tilt:{x:a[0]??!0,y:a[1]??!0},direction:o??Bs.Z,target:l??null};n.parameters=c}return n}function aut(s,t){return Object.values(t).some(e=>{if(!e.behaviors)return!1;const i=Object.values(e.behaviors);return i.length===0?!1:i.some(n=>n.id===s.id&&n.isActive===!0)})}function lut(s,t){return as.getEntries(t).filter(([e,i])=>{const n=i;if(!n.behaviors)return!1;const o=Object.values(n.behaviors);return o.length===0?!1:!!o.some(a=>a.id===s.id&&a.isActive===!1)}).map(([e,i])=>e)}async function cut(s){console.warn("Converting from 230810 to 230927...");const t={...s},e={...s.scene},{scene:i}=t;dF(i),hut(i.states);const n=[],o=await eo(t.id,null,0,!0,!0,!1),a=Object.values(o);for(const c of a){const h=await aF(c,t.id);h.object!=null&&n.push(h.object)}const l=dut(a,e);return n.push(l),await Ws(n,t.id),await Aa(t.id,i),t.version=230927,await To(t.id,t.version),console.warn("Finished conversion from 230810 to 230927..."),t}function $9(s){const t=s*ms.DEG2RAD,e=Math.cos(t),i=-2,n=Math.sin(t);return new w(e,i,n).normalize()}function tP(s){const t=s.clone().multiplyScalar(-10),e=new ls().setFromQuaternion(new ke().setFromUnitVectors(new w(0,0,-1),s));return{position:t,rotation:e}}function hut(s){if(s)for(const t of Object.values(s))dF(t,!0)}function dF(s,t=!1){const e={...s};e.fog!=null&&(s.fog={...on.fog,isEnabled:e.fog}),e.ambientLightSettings!=null?s.ambientLight={...on.ambientLight,isEnabled:e.ambientLightSettings.isEnabled,intensity:e.ambientLightSettings.ambientLightIntensity/100,color:e.ambientLightSettings.ambientLightColor}:t||(s.ambientLight={...on.ambientLight,isEnabled:!1});let i=!1;e.hdrLighting!=null&&(i=e.hdrLighting.isVisible,s.hdrLighting={...on.hdrLighting,imageURL:e.hdrLighting.imageURL,previewURL:e.hdrLighting.previewURL,fileExtension:e.hdrLighting.fileExtension,name:e.hdrLighting.name,intensity:e.hdrLighting.strength/100,rotation:e.hdrLighting.rotation}),(e.environment||e.opacity)&&(s.background={...on.background,parameters:i?{type:ln.ENVIRONMENT}:{type:ln.COLOR,color:e.environment??c7,opacity:(e.opacity??100)/100}}),delete s.ambientLightSettings}function dut(s,t){const e=s.reduce((h,d)=>d.index&&d.index<h?d.index:h,"a0"),{position:i,rotation:n}=tP($9(t.lightDirection)),o=new w(1,1,1),a=mo.composeBaseSceneObject(L.DIRECTIONAL_LIGHT,i,n,o),l=Object.assign(a,{type:L.DIRECTIONAL_LIGHT,parameters:{...Bb,intensity:t.lightIntensity/100,shadows:{isEnabled:t.shadow}},isVisible:t.light,index:ll(null,e)});let c=0;for(const h of Object.values(t.states||{})){const d=h;if(d.lightDirection!=null||d.light!=null||d.lightIntensity!=null||d.shadow!=null){const{position:u,rotation:f}=tP($9(d.lightDirection??t.lightDirection)),p=new w(1,1,1);l.states[String(c)]={position:Go.serialize(u),rotation:Go.serialize(f),scale:Go.serialize(p),parameters:{...l.parameters,intensity:d.light?0:(d.lightIntensity??t.lightIntensity)/100,shadows:{isEnabled:d.shadow??t.shadow}},material:{}},c++}delete h.light,delete h.lightDirection,delete h.lightIntensity,delete h.shadows}return delete t.light,delete t.lightDirection,delete t.lightIntensity,delete t.shadows,l}const eP={index:0,publishIndex:"",target:{x:0,y:0,z:0},spherical:{radius:0,phi:0,theta:0},focalOffset:{x:0,y:0,z:0},projection:Xe.PERSPECTIVE,fov:Zh.focalLength2Fov(50),zoom:1,isBookmark:!0,lensUnit:Kr.FOV},uut=230927,sP=231130;async function uF(s,t){console.warn(`Converting ${String(s.id)} from ${uut} to ${sP}...`);const e={...s};if(e.lastUpdated=Date.now(),e.version=sP,e.type===L.CAMERA){const i=e.parameters==null?eP:{...eP,...e.parameters};if(e.parameters=iP(i),e.states!=null&&Object.entries(e.states).length>0){const n=Object.entries(e.states);for(const[o,a]of n){const l=iP(a.parameters);e.states[o]={...a,parameters:l}}}}return await Promise.resolve({object:e})}function iP(s){const t=s==null?null:{...s};return(t==null?void 0:t.focalOffset)!=null&&Array.isArray(t==null?void 0:t.focalOffset)&&(t.focalOffset={x:t.focalOffset[0],y:t.focalOffset[1],z:t.focalOffset[2]}),(t==null?void 0:t.target)!=null&&Array.isArray(t==null?void 0:t.target)&&(t.target={x:t.target[0],y:t.target[1],z:t.target[2]}),(t==null?void 0:t.spherical)!=null&&Array.isArray(t==null?void 0:t.spherical)&&(t.spherical={radius:t.spherical[0],phi:t.spherical[1],theta:t.spherical[2]}),"transform"in t&&delete t.transform,t}async function fut(s){return await mut(s,230927,231130,uF)}async function fF(s,t,e){console.warn(`Converting ${String(s.id)} from  to 230608 to 230718...`);const i={...s},n=s.castShadow!==void 0?s.castShadow:xE.castShadow,o=s.receiveShadow!==void 0?s.receiveShadow:xE.receiveShadow,a=s.side!==void 0?s.side:xE.side;return i.viewSettings={castShadow:n,receiveShadow:o,side:a},delete i.castShadow,delete i.receiveShadow,delete i.side,i.isInteractive=!0,i.version=230718,await Promise.resolve({object:i})}async function put(s){console.warn("Converting from 230608 to 230718...");const t={...s},e=await eo(t.id,null,0,!0,!0,!1),i=[],n=Object.values(e);for(const o of n){const a=await fF(o,t.id);a.object!=null&&i.push(a.object)}return await Ws(i,t.id),t.version=230718,await To(t.id,t.version),console.warn("Finished conversion from 230601 to 230608..."),t}async function s6(s){let t=s;return s.version<220317&&(t=await Cct(t)),s.version<220521&&(t=await wct(t)),s.version<220803&&(t=await xct(t)),s.version<220906&&(t=await Ect(t)),s.version<220908&&(t=await Sct(t)),s.version<221007&&(t=await Ict(t)),s.version<221018&&(t=await Oct(t)),s.version<221111&&(t=await Lct(t)),s.version<221128&&(t=await Rct(t)),s.version<230110&&(t=await Nct(t)),s.version<230123&&(t=await jct(t)),s.version<230316&&(t=await Dct(t)),s.version<230510&&(t=await kct(t)),s.version<230601&&(t=await Wdt(t)),s.version<230608&&(t=await Kdt(t)),s.version<230718&&(t=await put(t)),s.version<230724&&(t=await Qdt(t)),s.version<230810&&(t=await $dt(t)),s.version<230927&&(t=await cut(t)),s.version<231130&&(t=await fut(t)),t}async function mut(s,t,e,i){console.warn(`Converting from ${t} to ${e}...`);const n={...s},o=await eo(n.id,null,0,!0,!0,!1),a=[],l=Object.values(o);for(const c of l){const h=await i(c,n.id,o);h.object!=null&&a.push(h.object)}return await Ws(a,n.id),n.version=e,await To(n.id,n.version),console.warn(`Finished conversion from ${t} to ${e}...`),n}function gut(s){console.warn(`Converting ${s.id} from 230810 to 230927...`);const t={...s};return t.fov=Zh.focalLength2Fov(t.focalLength),delete t.focalLength,t.updatedAt=Date.now(),t.version=230927,t}const cA=hr();async function pF(s,t){return await cA.graphql({query:oct,variables:{input:{id:s.id,file:t??pi.fileID,data:JSON.stringify(s),ttl:s.ttl??0,lastWriter:he.sessionID}}})}async function Eg(s,t){const e={...t,replies:[]};return await cA.graphql({query:yD,variables:{input:{id:s,data:JSON.stringify(e),ttl:t.ttl,lastWriter:he.sessionID}}})}async function mF(s){try{await cA.graphql({query:yD,variables:{input:{id:s,ttl:j5(),lastWriter:he.sessionID}}})}catch(t){console.warn("Delete comment failed:",t)}}async function _ut(s){const t=Object.values(s).filter(n=>n.version<230927);if(t.length===0)return s;console.warn("Converting comments from 230810 to 230927...");const e=Object.values(t).map(n=>gut(n)),i={};e.forEach(n=>{i[n.id]=n});for(const n of e)await Eg(n.id,n);return i}async function gF(s){let t=s;return s.version||(t=await _ut(t)),t}async function vut(s,t){console.warn(`Converting ${String(s.id)} from 230110 to 230123...`);const e={...s};return e.lastUpdated=Date.now(),e.version=230123,s.index||(e.index=ll(null,null)),await Promise.resolve({object:e})}async function yut(s,t,e,i){console.warn(`Converting ${String(s.id)} from 230510 to 230601...`);const n={...s},o=e6(e,s.id,i),a=n._metadata??{};return n._metadata={...a,interactions:{timelineIndicesByAnimationId:o}},n.version=230601,n.lastUpdated=Date.now(),await Promise.resolve({object:n})}async function but(s,t){console.warn(`Converting ${String(s.id)} from 221128 to 230110...`);const e={...s};return e.lastUpdated=Date.now(),e.version=230110,await Promise.resolve({object:e})}async function _F(s,t,e,i){let n=s;const o={object:null,material:null};if(!s.version||s.version<221111){const a=await ED(n);a.object!=null&&(o.object=a.object,n=a.object),a.material!=null&&(o.material=a.material,n.material=a.material)}if(s.version<221128){const a=await ID(n);a.object!=null&&(o.object=a.object,n=a.object),a.material!=null&&(o.material=a.material,n.material=a.material)}if(s.version<230110){const a=await but(n);a.object!=null&&(o.object=a.object,n=a.object),a.material!=null&&(o.material=a.material,n.material=a.material)}if(s.version<230123){const a=await vut(n);a.object!=null&&(o.object=a.object,n=a.object),a.material!=null&&(o.material=a.material,n.material=a.material)}if(s.version<230316){const a=await TD(n);a.object!=null&&(o.object=a.object,n=a.object),a.material!=null&&(o.material=a.material,n.material=a.material)}if(s.version<230510){const a=Object.values(e),l=await PD(n,t,a);l.object!=null&&(o.object=l.object,n=l.object),l.material!=null&&(o.material=l.material,n.material=l.material)}if(s.version<230601){const a=await yut(n,t,e,i);a.object!=null&&(o.object=a.object,n=a.object)}if(s.version<230608){const l=Object.values(e).reduce((h,d)=>(h[d.id]=d,h),{}),c=await iF(n,t,l);c.object!=null&&(o.object=c.object,n=c.object),c.material!=null&&(o.material=c.material,n.material=c.material)}if(s.version<230718){Object.values(e).reduce((c,h)=>(c[h.id]=h,c),{});const l=await fF(n);l.object!=null&&(o.object=l.object,n=l.object),l.material!=null&&(o.material=l.material,n.material=l.material)}if(s.version<230724){const l=Object.values(e).reduce((h,d)=>(h[d.id]=d,h),{}),c=await nF(n,t,l);c.object!=null&&(o.object=c.object,n=c.object),c.material!=null&&(o.material=c.material,n.material=c.material)}if(s.version<230810){Object.values(e).reduce((c,h)=>(c[h.id]=h,c),{});const l=await oF(n);l.object!=null&&(o.object=l.object,n=l.object),l.material!=null&&(o.material=l.material,n.material=l.material)}if(s.version<230927){Object.values(e).reduce((c,h)=>(c[h.id]=h,c),{});const l=await aF(n);l.object!=null&&(o.object=l.object,n=l.object),l.material!=null&&(o.material=l.material,n.material=l.material)}if(s.version<231130){const a=await uF(n);a.object!=null&&(o.object=a.object,n=a.object),a.material!=null&&(o.material=a.material,n.material=a.material)}return o}var ww=(s=>(s[s.SubscribeToFile=0]="SubscribeToFile",s[s.AwarenessUpdate=1]="AwarenessUpdate",s))(ww||{}),Cut=Object.defineProperty,wut=(s,t,e)=>t in s?Cut(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,V1=(s,t,e)=>(wut(s,typeof t!="symbol"?t+"":t,e),e);let p0=null;const xut=()=>p0,Eut=async s=>(p0!==null||(p0=new Sut(s),await p0.start()),p0);class Sut{constructor(t){V1(this,"_fileId"),V1(this,"_libp2p"),V1(this,"_topic"),V1(this,"_status","disconnected"),V1(this,"_callbacks",{}),V1(this,"_retryCount",0),this._fileId=t,this._topic=`${u9}/file/${t}`}get status(){return this._status}async start(){this._libp2p=await dZ({transports:[yZ()],connectionEncryption:[bZ()],streamMuxers:[CZ()],services:{identify:wZ(),pubsub:xZ({heartbeatInterval:500,globalSignaturePolicy:"StrictNoSign"})},connectionManager:{minConnections:0}});const t=this;this._libp2p.addEventListener("connection:close",e=>{this._status="disconnected",U.error("sync-server was disconnected",{topic:this._topic,serverPeer:e.detail.remotePeer.toString()});const i=t._callbacks["connection:close"];if(i)for(const n of i)n();this.retrySubscription()}),this._libp2p.services.pubsub.subscribe(this._topic),this._libp2p.services.pubsub.addEventListener("message",e=>{const i=uZ(e.detail.data);if(fZ(i)!==ww.AwarenessUpdate)return;const o=pZ(i),a=t._callbacks.presence;if(a)for(const l of a)l(o)}),await this._libp2p.start(),await this.startSubscription()}retrySubscription(){this._retryCount>5||(this._retryCount+=1,setTimeout(()=>{this.startSubscription()},3e3))}async startSubscription(){if(this._libp2p)try{const t=await this._libp2p.dial(mZ(yst));this._libp2p.services.pubsub.addEventListener("subscription-change",o=>{if(o.detail.peerId===t.remotePeer){const a=o.detail.subscriptions.find(l=>l.topic===this._topic);if(!a)return;this._status=a.subscribe?"connected":"disconnected",a.subscribe||U.error("sync-server unsubscribed",{topic:this._topic,serverPeer:o.detail.peerId.toString()})}}),setTimeout(()=>{this._status!=="connected"&&(U.error("Timeout waiting to connect to sync-server",{topic:this._topic}),this.retrySubscription())},1e4);const e=await t.newStream([u9]),i=gZ(e),n=NT();jT(n,ww.SubscribeToFile),_Z(n,this._fileId),await i.write(DT(n))}catch(t){U.error("Error connecting to sync-server",{topic:this._topic,message:t}),this.retrySubscription()}}async sendAwarenessUpdate(t){var i;if(this._status!=="connected")return;const e=NT();jT(e,ww.AwarenessUpdate),vZ(e,t),await((i=this._libp2p)==null?void 0:i.services.pubsub.publish(this._topic,DT(e)))}registerCallback(t,e){this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e)}}const vF="/loading-DcYkLcHD.gif",Iut="_loaderContainer_12swo_1",yF={loaderContainer:Iut};function H1(){const s=document.createElement("div");s.id="file-not-found",s.style.width="160px",s.style.transform="translate(0, 76px)",s.style.fontWeight="bold",s.style.textAlign="center",s.innerText="File not found";const t=document.createElement("div");t.className=yF.loaderContainer,t.appendChild(Aut()),t.appendChild(s),document.body.innerHTML="",document.body.append(t)}const Xm=document.createElement("img");function Aut(){return Xm.src=vF,Xm.style.height="100px",Xm.style.position="absolute",Xm.style.left="50%",Xm.style.top="50%",Xm.style.transform="translate(-50%, -50%)",Xm}const nP=uL();async function bF(s,t){if(!s)return{};let e=[];const n={file:s,filter:{or:[{ttl:{eq:0}},{ttl:{attributeExists:!1}}]}},o=await nP.graphql({query:B9,variables:n});e.push(o.data.commentsByFile.items);let a=o.data.commentsByFile.nextToken;if(a!=null){for(;a!=null;){const c=await nP.graphql({query:B9,variables:{...n,nextToken:a}});e.push(c.data.commentsByFile.items),a=c.data.commentsByFile.nextToken}e=e.flat()}else e=e[0];const l={};for(const c of e){const h={...JSON.parse(c.data),updatedAt:c.updatedAt,ttl:c.ttl,replies:[]};l[c.id]=h}return l}async function hA(s){const t=Xt.docClient;if(!s||!t)return[];const i=(await t.send(new Ti({TableName:Fg,IndexName:"teamsByProfile",KeyConditionExpression:"profile = :p",ExpressionAttributeValues:{":p":s}}))).Items;return i?i.map(o=>o.team):[]}async function Tf(s){const t=Xt.docClient;if(!s||!t)return[];const i=(await t.send(new Ti({TableName:Fg,IndexName:"membersByTeam",KeyConditionExpression:"team = :t",ExpressionAttributeValues:{":t":s}}))).Items;return i?i.map(o=>({id:o.id,profile:o.profile,access:o.access})):[]}const Tut=`
  subscription OnUpdateFile($id: ID!, $sessionID: ID) {
    onUpdateFile(id: $id, sessionID: $sessionID) {
      id
      type
      version
      creator
      team
      access
      link
      title
      scene
      bookmarks
      lastWriter
      createdAt
      updatedAt
    }
  }
`,Put=`
  subscription OnCreateComment($file: ID!) {
    onCreateComment(file: $file) {
      id
      file
      data
      lastWriter
      updatedAt
      ttl
      createdAt
    }
  }
`,Out=`
  subscription OnUpdateComment($file: ID!) {
    onUpdateComment(file: $file) {
      id
      file
      data
      lastWriter
      updatedAt
      ttl
      createdAt
    }
  }
`,Mut=`
  subscription OnDeleteComment($file: ID!) {
    onDeleteComment(file: $file) {
      id
      file
      data
      lastWriter
      updatedAt
      ttl
      createdAt
    }
  }
`;var CF=Object.defineProperty,Lut=Object.getOwnPropertyDescriptor,Rut=(s,t,e)=>t in s?CF(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,kf=(s,t,e,i)=>{for(var n=i>1?void 0:i?Lut(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&CF(t,e,n),n},En=(s,t,e)=>(Rut(s,typeof t!="symbol"?t+"":t,e),e);const Nut=1e3,jut=15e3,Dut=100,id=class vy{constructor(t){this.editor=t,En(this,"_disposable",new Zt),En(this,"client",hr()),En(this,"_id",""),En(this,"_type",fm.DEFAULT),En(this,"_creator",""),En(this,"_team"),En(this,"_organization"),En(this,"_access",BI),En(this,"_link",""),En(this,"_title",""),En(this,"_largeDataLoader",new Rat(this.editor)),En(this,"_isFileOnDevice",e=>{const i=localStorage.getItem(`bezi-${e}`);if(!i)return!1;const o=parseInt(i)<Date.now();return o&&localStorage.removeItem(`bezi-${e}`),!o}),En(this,"loadFile",async(e,i)=>{var g;if(this.editor.fileLoadingController.addLoader(),this.editor.fileApi==null)return H1(),!1;const n=await this.editor.fileApi.getFile(e).catch(_=>{console.warn("loadFile failed:",_)});if(!n)return H1(),!1;const o=await s6(n);this.editor.sceneController.setSpawnPointFromData(o.scene.spawn??on.spawn),i(this._isTransparentScene(o)),this._id=o.id,vy.fileID=o.id,this._type=o.type,this._access=o.access,this._creator=o.creator,this._team=o.team,this._organization=o.organization;const a=((g=this._team)==null?void 0:g.id)??"",l=this._access.general>Z.NONE;let c=!1,h=!1,d=!1;if(this.editor.profile!=null&&(c=this.editor.profile.email in this._access.profiles,h=this.editor.profile.id===this._creator,this.editor.teamController!=null&&(this.editor.teamController.initialized?d=!!this.editor.teamController.teamsByID.get(a):d=(await hA(this.editor.profile.id)).includes(a))),!(l||c||h||d))return H1(),!1;await this.editor.fileSettingsController.load();let f=await this.editor.connectController.tryAccessFileWithCode();f||(f=this._isFileOnDevice(e));let p=this.editor.initAccess(this._access,h,d,o.organization,!1,f);return p===Z.NONE&&(p=await this._handlePasswordProtectedFileAccess(p)),p===Z.NONE?(H1(),!1):(this._startLoader(),this.editor.fileLoadingController.loadingFraction=.01,this._link=o.link,this.setTitle(o.title,!1),await this.loadScene(o.scene),this._checkLoadingProgress(),await this._loadComments(),this._subscribeFile(!this.editor.isPlayMode),!0)}),En(this,"loadFileByLink",async(e,i)=>{this.editor.fileLoadingController.addLoader();const n=await this.editor.fileApi.getFileByLink(e);if(!n)return window.location.assign("/"),!1;const o=await s6(n);return this.editor.sceneController.setSpawnPointFromData(o.scene.spawn??on.spawn),i(this._isTransparentScene(o)),this._id=o.id,this._type=o.type,vy.fileID=o.id,this._access=o.access,this._access.isPublished===!1||this.editor.initAccess(this._access,!1,!1,o.organization)===Z.NONE?(H1(),!1):(await this.editor.fileSettingsController.load(),this._startLoader(),this.editor.fileLoadingController.loadingFraction=.01,this._link=o.link,this.setTitle(o.title,!1),await this.loadScene(o.scene),this._checkLoadingProgress(),!0)}),En(this,"loadScene",async e=>{var n,o;(n=this.editor.performanceMonitor)==null||n.beginFileLoad();try{await Eut(vy.fileID)}catch(a){U.error("Error connecting to sync-server",a)}const i=await eo(this._id,null,0,!0);await this.processFileData(e,i),Object.keys(i).length===0&&this.editor.fileLoadingController.removeLoader(),(o=this.editor.performanceMonitor)==null||o.endFileLoad()}),En(this,"_loadComments",async()=>{if(this.editor.commentController==null)return;const e=await bF(this._id),i=await gF(e);this.editor.commentController.setComments(i)}),En(this,"_onFileUpdate",(e,i)=>{const n=e.data.onUpdateFile;!n||!n.scene||n.id!==this._id||n.lastWriter===he.sessionID&&i||(this._sceneSubscription(n.scene,i),this.setTitle(n.title??"Untitled",!1),this.setLink(n.link??"",!1))}),En(this,"_debouncedOnFileUpdate",TL(this._onFileUpdate,Dut)),En(this,"_sceneLastUpdated",0),En(this,"onFileSceneUpdate",(e,i)=>{this._sceneSubscription(e,i)}),En(this,"_sceneSubscription",async(e,i)=>{const n=JSON.parse(e);if(n.lastUpdated<=this._sceneLastUpdated)return;this._sceneLastUpdated=n.lastUpdated;const o=await eo(this._id,he.sessionID,n.lastUpdated,!1,i);await this.processFileData(n,o)}),En(this,"_isLoading",!1),En(this,"_isLoadComplete",!1),vt(this),this._disposable.add(new tt(()=>{vy.fileID=""}))}dispose(){this._largeDataLoader.dispose(),this._disposable.dispose()}get largeDataLoader(){return this._largeDataLoader}get isLoadComplete(){return this._isLoadComplete}_isTransparentScene(t){let e=!t.scene.background.isVisible||!t.scene.background.shouldShowInAR||t.scene.background.parameters.type===ln.COLOR&&t.scene.background.parameters.opacity<1;if(!e&&t.scene.states){for(const i of Object.values(t.scene.states))if(i.background&&(!i.background.isVisible||i.background.parameters.type===ln.COLOR&&i.background.parameters.opacity<1)){e=!0;break}}return e}async processFileData(t,e,i=!1){var d,u;const n=this._validateScene(t),o=[],a=[],l=[],c=Object.values(e);for(const f of c)if(f.version!==Qg){const p=await _F(f,this._id,e,n);p.object!=null&&(a.push(p.object),o.push(p.object),e[p.object.id]=p.object),p.material!=null&&l.push(p.material)}else o.push(f);a.length>0&&await Ws(a,this._id),l.length>0&&tA(l),this.processSceneData(n),Object.keys(e).length>0&&(await Promise.all([this.editor.materialController.loadMaterialsByObjects(o),this.editor.soundController.loadSoundsByObjects(o)]),this.processObjectsData(e,i));const h=this.editor.fileSettingsController;(d=this.editor.viewportController.mainViewport)==null||d.camera.setMode(h.camera.projection),(u=this.editor.viewportController.mainViewport)==null||u.camera.setFov(h.camera.fov)}async _handlePasswordProtectedFileAccess(t){return await this.editor.passwordController.getPassword()&&(await If(()=>this.editor.passwordController.isPasswordValid||this.editor.passwordController.isFailedValidation),this.editor.passwordController.isPasswordValid)?(this.editor.accessController.setAccessLevel(Z.GUEST),Z.GUEST):t}get id(){return this._id}get type(){return this._type}get creator(){return this._creator}get team(){return this._team}get organization(){return this._organization}get access(){return this._access}get link(){return this._link}get title(){return this._title}setAccess(t,e=!0){this._access=t,e&&gct(this._id,t)}setLink(t,e=!0){t!==this._link&&(this._link=t,e&&_ct(this._id,t))}setTitle(t,e=!0){t!==this._title&&(this._title=t,document.title=`${this.editor.isPlayMode?" ":""}${t} | Bezi`,e&&bD(this._id,t))}_validateScene(t){const e={...t};return t.activeState===void 0&&(e.activeState=null),t.states===void 0&&(e.states={}),t._metadata===void 0&&(e._metadata={}),t.ambientLight===void 0&&(e.ambientLight=on.ambientLight),e}_getCommentSubscriptions(t=!0){return[{query:Put,handler:i=>this.editor.commentController.createLocalCommentFromServer(i),dataProperty:"onCreateComment"},{query:Out,handler:i=>{i.ttl!=null&&i.ttl!=0?this.editor.commentController.deleteLocalCommentFromServer(i):this.editor.commentController.updateLocalCommentFromServer(i)},dataProperty:"onUpdateComment"},{query:Mut,handler:i=>this.editor.commentController.deleteLocalCommentFromServer(i),dataProperty:"onDeleteComment"}].map(({query:i,handler:n,dataProperty:o})=>()=>this.client.graphql({query:i,variables:{file:this._id}}).subscribe({next:a=>{const l=a.data[o];if(l&&(!t||l.lastWriter!==he.sessionID)){const c={...JSON.parse(l.data),ttl:l.ttl};n(c)}}}))}_subscribeFile(t){const e=t?he.sessionID:"",i=()=>this.client.graphql({query:Tut,variables:{id:this._id,sessionID:e}}).subscribe({next:c=>{this.editor.isVRActive?this._debouncedOnFileUpdate(c,t):this._onFileUpdate(c,t)}});let n=i(),o,a=null;const l=this.editor.accessController.hasAccessOf(Z.VIEWER)&&this.editor.commentController!=null;l&&(a=this._getCommentSubscriptions(t),o=a.map(c=>c())),Qd.refreshFileSubscriptions=()=>{n.unsubscribe(),n=i(),o==null||o.forEach(c=>c.unsubscribe()),l&&(o=a==null?void 0:a.map(c=>c()))},this._disposable.add(new tt(()=>{n.unsubscribe(),o==null||o.forEach(c=>c.unsubscribe()),Qd.refreshFileSubscriptions=()=>{}}))}processSceneData(t){const e=this.editor.sceneController;Jt(()=>{e.scene.copyToBase(t)})}_addComponentAndProcess(t,e,i,n,o){t.asset&&(i.add(t.asset),t.isInstance?t.assetSource&&o.add({instanceId:t.id,sourceId:t.assetSource}):n.add(t.id));const a=this._processObject(t);return e.add(t.id),a}processObjectsData(t,e=!1){let i=e;const n=Object.values(t),o=new Set,a=new $d,l=new Set,c=new Set,h=new Set;for(const d of n){if(o.has(d.id))continue;let u=d.parent;do u&&(a.push(u),u=t[u]?t[u].parent:null);while(u);for(;a.size()>0;){const f=a.pop();f&&(o.has(f)||(o.add(f),t[f]&&(i=this._addComponentAndProcess(t[f],o,l,c,h)||i)))}i=this._addComponentAndProcess(d,o,l,c,h)||i}this.editor.sceneController.addComponentsAndInstancesFromData(l,c,h),i&&this.editor.sceneController.hierarchy.build(),o.clear(),a.clear()}_processObject(t){if(t.ttl>0)return this.editor.sceneController.removeObjectFromData(t.id,!0);if(this.editor.sceneController.getSceneEntityById(t.id)==null){const i=t.parent==null?void 0:this.editor.sceneController.getSceneEntityById(t.parent);return this.editor.sceneController.addObjectFromData(t,i),!0}else return this.editor.sceneController.updateObjectFromData(t),!1}_startLoader(){const t=setTimeout(()=>{this._completeLoad(),clearTimeout(t)},jut);BC.onProgress=(e,i,n)=>{this._isLoadComplete||(this._isLoading=!0,this.editor.fileLoadingController.loadingFraction=i/n)},BC.onLoad=()=>{this.editor.fileLoadingController.loadingFraction=1,this._completeLoad()},this._disposable.add(new tt(()=>{clearTimeout(t),this._completeLoad()}))}_checkLoadingProgress(){const t=setTimeout(()=>{this._isLoading||(this._completeLoad(),clearTimeout(t))},Nut)}_completeLoad(){if(this._isLoadComplete)return;this._isLoadComplete=!0,BC.onProgress=()=>{},BC.onLoad=()=>{},this.editor.signals.file.allObjectsLoaded.dispatch(),this._screenshotHandler(),this.editor.fileLoadingController.removeLoader();const t=new URLSearchParams(window.location.search),e=t.get(Vh.SELECT_AND_FOCUS),i=t.get(Vh.IS_TOUR_STEP),n=t.get(Vh.TOAST);e&&this.editor.sceneController.selectAndFocusByIds([e]),i&&n&&(pw(n),localStorage.setItem(yf.PLAY_MODE_TOUR_STEP_DONE,"true"))}_screenshotHandler(){if(this.editor.isPlayMode||this.editor.isPublishedMode)return;const t=()=>{if(this.editor.accessController.isGuest)return;const i=this.editor.viewportController.mainViewport;if(!i)return;const n=i.renderer.domElement;n&&(i.frameCapture(),But(n))};setTimeout(()=>{t()},500);const e=setInterval(()=>{t()},Fut);this._disposable.add(new tt(()=>{clearInterval(e)}))}};En(id,"fileID","");kf([V],id.prototype,"_access",2);kf([V],id.prototype,"_link",2);kf([V],id.prototype,"_title",2);kf([E],id.prototype,"setAccess",1);kf([E],id.prototype,"setLink",1);kf([E],id.prototype,"setTitle",1);kf([E],id.prototype,"loadScene",2);kf([E],id.prototype,"_loadComments",2);kf([E],id.prototype,"_subscribeFile",1);let pi=id;const Fut=3e4;function i6(s){return`screenshot-${s}`}async function But(s){const t=pi.fileID;if(!t||!window.location.pathname.includes(t))return;const e=i6(t);await dA(s,e)}async function dA(s,t,e=.3,i="image/jpeg",n=!0){try{if(!t)return;const o=s.toDataURL(i,e);if(!n)return o;const a=uA(o);return a&&await kut(t,a),o}catch(o){if(o&&o.name&&o.name.includes("ExpiredToken")||o.message&&o.message.includes("ExpiredToken")){U.error("AuthToken Expired"),await Vn.getInstance().signOut(!0,!0);return}}}const kut=y_(async(s,t)=>{await ks(s,t)},1e3);function uA(s){const t=s.split(","),e=t[0].match(/:(.*?);/);if(!e||!e[1])return null;const i=e[1],n=atob(t[1]);let o=n.length;const a=new Uint8Array(o);for(;o--;)a[o]=n.charCodeAt(o);return new Blob([a],{type:i})}var Gut=Object.defineProperty,Vut=(s,t,e)=>t in s?Gut(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,RE=(s,t,e)=>(Vut(s,typeof t!="symbol"?t+"":t,e),e);class Hut{constructor(t){this._onUndoRedo=t,RE(this,"undoStack"),RE(this,"redoStack"),RE(this,"depth",1e3),this.undoStack=new $d(this.depth),this.redoStack=new $d(this.depth)}push(t){this.redoStack.size()>0&&this.redoStack.clear(),this.undoStack.push(t)}undo(){if(this.undoStack.size()<=1)return null;const t=this.undoStack.pop();if(t==null)return null;this.redoStack.push(t),this._onUndoRedo(this.undoStack)}redo(){const t=this.redoStack.pop();if(t==null)return null;this.undoStack.push(t),this._onUndoRedo(this.undoStack)}peekUndo(){return this.undoStack.peek()}peekRedo(){return this.redoStack.peek()}clear(){this.undoStack.clear(),this.redoStack.clear()}}var Uut=Object.defineProperty,zut=(s,t,e)=>t in s?Uut(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,NE=(s,t,e)=>(zut(s,typeof t!="symbol"?t+"":t,e),e);class Yut{constructor(t){this.viewport=t,NE(this,"_history"),NE(this,"_stroke",null),NE(this,"_context",null),this._history=new Hut(e=>this.redraw(e))}set context(t){this._context=t,this._history.push({points:[],color:"",size:0})}dispose(){this._history.clear()}beginStroke(t,e,i){this._stroke={points:[t],color:e,size:i}}continueStroke(t){this._stroke&&this._stroke.points.push(t)}endStroke(){this._stroke&&(this._history.push(this._stroke),this._stroke=null)}undo(){this._history.undo()}redo(){this._history.redo()}reset(){this._context&&(this._context.clearRect(0,0,this._context.canvas.width,this._context.canvas.height),this._history.clear(),this._history.push({points:[],color:"",size:0}))}redraw(t){if(!this._context)return;this._context.clearRect(0,0,this._context.canvas.width,this._context.canvas.height);let e=!0;t.elements.forEach(i=>{this._context&&(i.points.length<1||(this._context.lineWidth=i.size,this._context.strokeStyle=i.color,this._context.beginPath(),i.points.forEach(n=>{if(this._context){if(e){this._context.moveTo(n.x,n.y),e=!1;return}this._context.lineTo(n.x,n.y)}}),this._context.stroke(),e=!0))})}async takeScreenshotWithDrawing(t){if(!this.viewport)return null;const e=this.viewport.domElement.firstChild,i=document.createElement("canvas");i.width=e.width,i.height=e.height;const n=i.getContext("2d");this.viewport.frameCapture(),n.drawImage(e,0,0),n.drawImage(t,0,0);const o=i.toDataURL("image/jpeg",.8),a=uA(o);if(!a)return null;const l=URL.createObjectURL(a).match(/[^/]+$/g);if(!l||!l[0])return null;const c=l[0];return await ks(c,a),i.remove(),c}}var Fn=(s=>(s[s.LEFT=0]="LEFT",s[s.MIDDLE=1]="MIDDLE",s[s.RIGHT=2]="RIGHT",s[s.BACK=3]="BACK",s[s.FORWARD=4]="FORWARD",s))(Fn||{}),Gd=(s=>(s[s.NONE=0]="NONE",s[s.LEFT=1]="LEFT",s[s.RIGHT=2]="RIGHT",s[s.MIDDLE=4]="MIDDLE",s[s.BACK=8]="BACK",s[s.FORWARD=16]="FORWARD",s))(Gd||{}),xt=(s=>(s.OVER_START="OVER_START",s.OVER_END="OVER_END",s.HOVER="HOVER",s.DRAG_START="DRAG_START",s.DRAG_CONTINUE="DRAG_CONTINUE",s.DRAG_END="DRAG_END",s.CLICK_START="CLICK_START",s.CLICK_END="CLICK_END",s.DOUBLE_CLICK_START="DOUBLE_CLICK_START",s.DOUBLE_CLICK_END="DOUBLE_CLICK_END",s))(xt||{});const cp=new Gw;function rr(s,t,e,i,n){return cp.set(0,0,-t,1).applyMatrix4(e.projectionMatrix),cp.multiplyScalar(1/cp.w),cp.x=s/i,cp.applyMatrix4(e.projectionMatrixInverse),cp.x/=cp.w,cp.x}function wF(s){const t=[];for(const e of s)e.isMesh?t.push(e):e.children.length>0&&t.push(...wF(e.children));return t}function xF(s,t,e){const n=wF(s).filter(a=>a.visible);t.startPoint.set(-1,-1,.5),t.endPoint.set(1,1,.5),t.updateFrustum();const o=[];return t.selectObject3Ds(n,o),gf(o,e),e}function gf(s,t){t.makeEmpty();for(const e of s)t.expandByObject(e);return t}function Wut(s){return!(s.isEmpty()||isNaN(s.min.x)||isNaN(s.min.y)||isNaN(s.min.z)||isNaN(s.max.x)||isNaN(s.max.y)||isNaN(s.max.z)||Math.abs(s.min.x)===1/0||Math.abs(s.min.y)===1/0||Math.abs(s.min.z)===1/0||Math.abs(s.max.x)===1/0||Math.abs(s.max.y)===1/0||Math.abs(s.max.z)===1/0)}const n6=new w;function EF(s,t,e,i=1){if(SF(s,e))return!1;const n=IF(n6,t);return Xut(n,t,i)}function SF(s,t){return s.updateMatrixWorld(),s.updateProjectionMatrix&&s.updateProjectionMatrix(),n6.copy(t).project(s),n6.z>=1}function IF(s,t){return s.setX((1+s.x)/2*t.width),s.setY((1-s.y)/2*t.height),s}function Xut(s,t,e=1){const i=t.width*e,n=t.height*e,o=(t.width-i)/2,a=o+i,l=(t.height-n)/2,c=l+n;return o<=s.x&&s.x<=a&&l<=s.y&&s.y<=c}function o6(s,t,e=new w){return s.updateMatrixWorld(),e.copy(t).project(s),e}function Zut(s,t){return 2*Math.atan(Math.tan(.5*s)*t)}function r6(s,t){return Zut(s,t)}function Kut(s,t,e){const{width:i,height:n}=t,o=rr(i*2,s,e,i),a=n/i,l=o*a;return{widthGlobal:o,heightGlobal:l}}function qut(s){return 2*Math.atan(1/s.elements[5])}function oP(s,t){return s/Math.tan(t)}var Qut=Object.defineProperty,Jut=(s,t,e)=>t in s?Qut(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,E0=(s,t,e)=>(Jut(s,typeof t!="symbol"?t+"":t,e),e);function $ut(s){return s.isHelper}class sa extends zs{constructor(){super(...arguments),E0(this,"_worldPosition",new w),E0(this,"isHelper",!0),E0(this,"_scale",new w(1,1,1)),E0(this,"_worldScale",new w)}update(t){}_getScale(){return this._scale}_normalizeScale(){this.scale.copy(this._getScale()),this.getWorldScale(this._worldScale),this.scale.set(this.scale.x/(this._worldScale.x/this.scale.x),this.scale.y/(this._worldScale.y/this.scale.y),this.scale.z/(this._worldScale.z/this.scale.z))}scaleBasedOnDistanceToCamera(t,e){this.getWorldPosition(this._worldPosition);const i=this._worldPosition.distanceTo(t.camera.position),n=rr(e,i,t.camera,t.size.width,t.size.height);this.scale.setScalar(n)}static scaleBasedOnDistanceToCamera(t,e,i){const n=new w;t.getWorldPosition(n);const o=n.distanceTo(e.camera.position),a=rr(i,o,e.camera,e.size.width,e.size.height);t.scale.setScalar(a)}}class tft{constructor(){E0(this,"scene",new um)}add(...t){this.scene.add(...t)}remove(...t){this.scene.remove(...t)}}class eft{constructor(){E0(this,"helpers",[])}add(...t){this.helpers.push(...t)}remove(...t){t.forEach(e=>{const i=this.helpers.indexOf(e);i!==-1&&this.helpers.splice(i,1)})}}var sft=Object.defineProperty,ift=(s,t,e)=>t in s?sft(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Au=(s,t,e)=>(ift(s,typeof t!="symbol"?t+"":t,e),e);class Ub extends sa{constructor(t=o=>o.toString(),e=" m",i="TextOverlay",n={hasCursorOffset:!1,shouldIndicateEditable:!1}){super(),this._filter=t,this._suffix=e,this.type=i,Au(this,"_element"),Au(this,"_textElement"),Au(this,"_viewport"),Au(this,"_active",!1),Au(this,"_cursorOffsetVec",new w),Au(this,"_value",0),Au(this,"_label",""),Au(this,"_positionWorld",new w),Au(this,"_positionViewport",new w),this._element=document.createElement("div"),this._textElement=document.createElement("span"),this._element.appendChild(this._textElement),this._element.className="TextOverlay",this._textElement.className="TextOverlay-text",this.hideElement();const{hasCursorOffset:o,shouldIndicateEditable:a}=n;this._cursorOffsetVec.setScalar(o?8:0),a&&(this.isEditable=!0),this._onPointerDown=this._onPointerDown.bind(this),this._onWheel=this._onWheel.bind(this),this._element.addEventListener("pointerdown",this._onPointerDown),this._element.addEventListener("wheel",this._onWheel)}set isEditable(t){if(t){const e=getComputedStyle(document.documentElement).getPropertyValue("--text-selection-background");this._textElement.style.backgroundColor=e,this._textElement.style.color="white"}else{const e=getComputedStyle(document.documentElement).getPropertyValue("--gray10"),i=getComputedStyle(document.documentElement).getPropertyValue("----root-background");this._textElement.style.backgroundColor=i,this._textElement.style.color=e}}get active(){return this._active}set active(t){this._active=t,this._element.style.display=t?"block":"none"}set filter(t){this._filter=t}set suffix(t){this._suffix=t}setElement(t){this._element.removeEventListener("pointerdown",this._onPointerDown),this._element.removeEventListener("wheel",this._onWheel),this._element=t,this._element.addEventListener("pointerdown",this._onPointerDown),this._element.addEventListener("wheel",this._onWheel)}setViewport(t,e=!0){if(!t)throw new Error("Viewport is not defined");this._viewport=t,t.domElement.appendChild(this._element),e&&this.hideElement()}set value(t){this._value=t}set label(t){this._label=t}get positionViewport(){return this._positionViewport}onEnd(){var t;(t=this._element.parentNode)==null||t.removeChild(this._element),this._active=!1,this._element.removeEventListener("pointerdown",this._onPointerDown),this._element.removeEventListener("wheel",this._onWheel)}update(t,e=!0){if(t===this._viewport){if(super.update(t),!this._active){this.hideElement();return}if(this.getWorldPosition(this._positionWorld),SF(t.camera,this._positionWorld)){this.hideElement();return}this.showElement(),e&&(this._textElement.innerHTML=this._label+this._filter(this._value)+this._suffix),this._viewport.projectWorldToVP(this._positionWorld,this._positionViewport),this._positionViewport.add(this._cursorOffsetVec),this._element.style.translate=`${Math.round(this._positionViewport.x)}px ${Math.round(this._positionViewport.y)}px`}}hideElement(){this._element.hidden=!0,this._element.style.display="none"}showElement(){this._element.hidden=!1,this._element.style.display="block"}_onPointerDown(t){var e,i;if(t.button!==Fn.LEFT||t.shiftKey||t.altKey||t.metaKey||(e=this._viewport)!=null&&e.isKeyOrMouseButtonPressed("Space")){(i=this._viewport)==null||i.forwardPointerDownEvent(t),t.stopPropagation(),t.stopImmediatePropagation();return}}_onWheel(t){var e;(e=this._viewport)==null||e.forwardWheelEvent(t)}}var nft=Object.defineProperty,oft=(s,t,e)=>t in s?nft(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,rP=(s,t,e)=>(oft(s,typeof t!="symbol"?t+"":t,e),e);class Am{constructor(t){rP(this,"_index",0),rP(this,"cache"),this.cache=[t(),t()]}get(){return this._index=(this._index+1)%2,this.cache[this._index]}get index(){return this._index}get first(){return this.cache[0]}get second(){return this.cache[1]}}class Qr extends Am{constructor(){super(()=>new Us)}}class rft extends Am{constructor(){super(()=>new II)}}class sb extends Am{constructor(){super(()=>new Lt)}}class Wp extends Am{constructor(){super(()=>new w)}}class AF extends Am{constructor(){super(()=>new ke)}}class aP extends Am{constructor(){super(()=>new ls)}}class Jr extends Am{constructor(){super(()=>new Wx)}}class yg extends Am{constructor(){super(()=>new Be)}}var ns=(s=>(s.BEFORE="BEFORE",s.AFTER="AFTER",s))(ns||{});const aft="data:image/svg+xml,%3csvg%20width='40'%20height='40'%20viewBox='0%200%2040%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M35.5074%2013.1084C35.0334%2011.8153%2034.1701%2010.7%2033.0347%209.91119C31.8994%209.12239%2030.5474%208.69891%2029.1611%208.69891L27.1673%208.69891C26.7708%208.69891%2026.4729%208.69797%2026.1806%208.69706C25.6124%208.69529%2025.0657%208.69358%2023.8578%208.69891L23.6151%208.69922L16.2185%208.69922L16.1433%208.6989C14.9353%208.69357%2014.3881%208.69528%2013.8196%208.69706C13.5273%208.69797%2013.2293%208.6989%2012.833%208.6989L10.8392%208.6989C9.453%208.6989%208.10101%209.12239%206.96563%209.91119C5.83028%2010.7%204.96695%2011.8153%204.49296%2013.1084C2.62786%2017.9154%201.79386%2023.054%202.04309%2028.1993C2.16688%2029.7316%203.13608%2031.07%204.56301%2031.6728C5.98832%2032.2757%207.63349%2032.0429%208.8324%2031.0699L14.6311%2026.3367C16.146%2025.1066%2018.0437%2024.4358%2020%2024.4358C21.9563%2024.4358%2023.8541%2025.1066%2025.3689%2026.3367L31.1676%2031.0699C32.3665%2032.0429%2034.0117%2032.2757%2035.437%2031.6728C36.8639%2031.0699%2037.8331%2029.7315%2037.9569%2028.1993C38.2061%2023.0541%2037.3725%2017.9157%2035.5074%2013.1084ZM14%208.69922V11.6992C14%2012.2515%2014.4477%2012.6992%2015%2012.6992L25%2012.6992C25.5523%2012.6992%2026%2012.2515%2026%2011.6992V8.69923L28%208.69923V12.6992C28%2013.8038%2027.1046%2014.6992%2026%2014.6992L14%2014.6992C12.8954%2014.6992%2012%2013.8038%2012%2012.6992V8.69922L14%208.69922ZM8.66666%2018.0326C8.66666%2017.2962%209.26361%2016.6992%209.99999%2016.6992C10.7364%2016.6992%2011.3333%2017.2962%2011.3333%2018.0326V19.3662H12.6667C13.403%2019.3662%2014%2019.9632%2014%2020.6995C14%2021.4359%2013.403%2022.0329%2012.6667%2022.0329H11.3333V23.3659C11.3333%2024.1023%2010.7364%2024.6992%209.99999%2024.6992C9.26361%2024.6992%208.66666%2024.1023%208.66666%2023.3659V22.0329H7.33333C6.59695%2022.0329%206%2021.4359%206%2020.6995C6%2019.9632%206.59695%2019.3662%207.33333%2019.3662H8.66666V18.0326ZM30.0004%2019.3662C30.7369%2019.3662%2031.3339%2018.7692%2031.3339%2018.0327C31.3339%2017.2962%2030.7369%2016.6992%2030.0004%2016.6992C29.264%2016.6992%2028.667%2017.2962%2028.667%2018.0327C28.667%2018.7692%2029.264%2019.3662%2030.0004%2019.3662ZM30.0004%2024.6992C30.7369%2024.6992%2031.3339%2024.1022%2031.3339%2023.3657C31.3339%2022.6292%2030.7369%2022.0322%2030.0004%2022.0322C29.264%2022.0322%2028.667%2022.6292%2028.667%2023.3657C28.667%2024.1022%2029.264%2024.6992%2030.0004%2024.6992ZM28.667%2020.6997C28.667%2021.4361%2028.07%2022.0332%2027.3335%2022.0332C26.5971%2022.0332%2026%2021.4361%2026%2020.6997C26%2019.9632%2026.5971%2019.3662%2027.3335%2019.3662C28.07%2019.3662%2028.667%2019.9632%2028.667%2020.6997ZM32.6674%2022.0332C33.4039%2022.0332%2034.0009%2021.4361%2034.0009%2020.6997C34.0009%2019.9632%2033.4039%2019.3662%2032.6674%2019.3662C31.931%2019.3662%2031.334%2019.9632%2031.334%2020.6997C31.334%2021.4361%2031.931%2022.0332%2032.6674%2022.0332Z'%20fill='%2396A8EA'/%3e%3c/svg%3e",lft="data:image/svg+xml,%3csvg%20width='25'%20height='25'%20viewBox='0%200%2025%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M14.0747%200.799805L14.0747%2024.5758L8.0118%2019.3252H3.3725C1.95174%2019.3252%200.799988%2018.1734%200.799988%2016.7526V8.62296C0.799988%207.2022%201.95174%206.05044%203.3725%206.05044H8.0118L14.0747%200.799805ZM12.3597%204.55379L8.6512%207.76545H3.3725C2.89892%207.76545%202.515%208.14937%202.515%208.62296V16.7526C2.515%2017.2262%202.89892%2017.6102%203.3725%2017.6102H8.6512L12.3597%2020.8218L12.3597%204.55379Z'%20fill='%23A98BFD'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M18.9951%202.72224C19.33%202.38737%2019.8729%202.38737%2020.2078%202.72224C21.5345%204.04892%2022.5869%205.62392%2023.3049%207.35732C24.0229%209.09071%2024.3924%2010.9486%2024.3924%2012.8248C24.3924%2014.701%2024.0229%2016.5588%2023.3049%2018.2922C22.5869%2020.0256%2021.5345%2021.6006%2020.2078%2022.9273C19.8729%2023.2622%2019.33%2023.2622%2018.9951%2022.9273C18.6602%2022.5924%2018.6602%2022.0495%2018.9951%2021.7146C20.1625%2020.5472%2021.0886%2019.1612%2021.7204%2017.6359C22.3522%2016.1106%2022.6774%2014.4758%2022.6774%2012.8248C22.6774%2011.1738%2022.3522%209.53894%2021.7204%208.01362C21.0886%206.48831%2020.1625%205.10237%2018.9951%203.93494C18.6602%203.60006%2018.6602%203.05712%2018.9951%202.72224Z'%20fill='%23A98BFD'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M16.2137%206.42526C16.5485%206.09038%2017.0915%206.09038%2017.4264%206.42526C18.2542%207.25312%2018.9109%208.23593%2019.3589%209.31758C19.807%2010.3992%2020.0376%2011.5585%2020.0376%2012.7293C20.0376%2013.9001%2019.807%2015.0594%2019.3589%2016.141C18.9109%2017.2227%2018.2542%2018.2055%2017.4264%2019.0334C17.0915%2019.3682%2016.5485%2019.3682%2016.2137%2019.0334C15.8788%2018.6985%2015.8788%2018.1555%2016.2137%2017.8207C16.8823%2017.1521%2017.4126%2016.3583%2017.7745%2015.4847C18.1363%2014.6112%2018.3226%2013.6749%2018.3226%2012.7293C18.3226%2011.7838%2018.1363%2010.8475%2017.7745%209.97389C17.4126%209.10031%2016.8823%208.30656%2016.2137%207.63795C15.8788%207.30308%2015.8788%206.76013%2016.2137%206.42526Z'%20fill='%23A98BFD'/%3e%3c/svg%3e",cft="/sound-spatial-DvDpiTMP.svg";var hft=Object.defineProperty,dft=(s,t,e)=>t in s?hft(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,TF=(s,t,e)=>(dft(s,typeof t!="symbol"?t+"":t,e),e);const fA=class a6 extends c1{constructor(t){const e=Xx.merge([Zx.common,{color1:{value:new Ge(t==null?void 0:t.color)??new Ge(16777215)},opacity:{value:(t==null?void 0:t.opacity)??1},shouldDarkenUnderside:{value:(t==null?void 0:t.shouldDarkenUnderside)??!1}}]);super({uniforms:e,vertexShader:a6.vertexShader,fragmentShader:a6.fragmentShader}),this.depthTest=!0,this.transparent=!0,this.depthWrite=!1,this.toneMapped=!1}set color(t){this.uniforms.color1.value=t}get color(){var t;return(t=this.uniforms.color1)==null?void 0:t.value}set shaderOpacity(t){this.uniforms.opacity.value=t}get shaderOpacity(){return this.uniforms.opacity.value}set shouldDarkenUnderside(t){this.uniforms.shouldDarkenUnderside.value=t}get shouldDarkenUnderside(){return this.uniforms.shouldDarkenUnderside.value}};TF(fA,"vertexShader",`
    ${mi.common}
    ${mi.logdepthbuf_pars_vertex}
  
    varying vec3 vUv; 
    varying vec3 vNormal;
  
    void main() {
      vUv = position;
      vNormal = normal;
  
      ${mi.begin_vertex}
      ${mi.project_vertex}
      ${mi.logdepthbuf_vertex}
    }
  `);TF(fA,"fragmentShader",`
    uniform float opacity;
    uniform bool shouldDarkenUnderside;
    varying vec3 vUv;
    varying vec3 vNormal;
    uniform vec3 color1;
  
    ${mi.common}
    ${mi.logdepthbuf_pars_fragment}
  
    void main() {
  
      ${mi.logdepthbuf_fragment}
  
      float dim = dot(vNormal, vec3(0.0, 1.0, 0.0)) < -0.1 ? 0.55 : 1.0;
      vec3 finalColor = shouldDarkenUnderside && opacity > 0.9 ? color1.rgb * dim : color1.rgb;
      gl_FragColor = vec4(finalColor, opacity);
      
      // Convert the color to the output color space
      ${mi.colorspace_fragment}
    }
  `);let z5=fA;var uft=Object.defineProperty,fft=(s,t,e)=>t in s?uft(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Ki=(s,t,e)=>(fft(s,typeof t!="symbol"?t+"":t,e),e);const pA={alignmentLine:.9,alignmentPreviewPlane:.4,distributionPreview:1},Vd={depthTest:!0,depthWrite:!0,toneMapped:!1,transparent:!0,polygonOffset:!0,polygonOffsetFactor:-2,polygonOffsetUnits:-2};class pft extends z5{constructor(t){super(t),this.transparent=!0}}class wv extends z5{constructor(t){super(t)}}class Yt{}Ki(Yt,"red",new Ge(Mit));Ki(Yt,"green",new Ge(Lit));Ki(Yt,"blue",new Ge(Rit));Ki(Yt,"lime",new Ge(Kh));Ki(Yt,"teal",new Ge(P0));Ki(Yt,"lilac",new Ge(Sit));Ki(Yt,"redDimmed",new Ge("#804042"));Ki(Yt,"greenDimmed",new Ge("#249036"));Ki(Yt,"blueDimmed",new Ge("#546bc0"));Ki(Yt,"white",new Ge(Ait));Ki(Yt,"gray30",new Ge(Tit));Ki(Yt,"gray50",new Ge(BN));Ki(Yt,"gray",new Ge(Pit));Ki(Yt,"bubblegum",new Ge(Eit));Ki(Yt,"selectionBlue",new Ge("#003BFF"));class xv extends Si{constructor(t){super(Object.assign({},Vd,t))}}const nu=class ya{constructor(t){this.editor=t,Ki(this,"highlightLineMaterials",new Map),Ki(this,"gizmoMaterials",{xMaterials:ya.make({color:Yt.red}),yMaterials:ya.make({color:Yt.green}),zMaterials:ya.make({color:Yt.blue}),curveHandleMaterials:ya.make({color:Yt.gray,shouldDarkenUnderside:!1,hoverColor:Yt.lime,activeColor:Yt.lime,outerColor:Yt.white}),xShadedMaterials:ya.make({color:Yt.red,shouldDarkenUnderside:!0}),yShadedMaterials:ya.make({color:Yt.green,shouldDarkenUnderside:!0}),zShadedMaterials:ya.make({color:Yt.blue,shouldDarkenUnderside:!0}),scaleCageMaterials:ya.make({color:Yt.lime,shouldDarkenUnderside:!0,lineHoverMaterial:new xv({color:Yt.lime,linewidth:5})}),spatialSoundMaterials:ya.make({color:Yt.lilac,shouldDarkenUnderside:!0,lineMaterial:new xv({color:Yt.lilac,linewidth:2})}),spatialSoundDecayMaterials:ya.make({color:Yt.lilac,shouldDarkenUnderside:!0,lineMaterial:new xv({color:Yt.lilac,linewidth:3,opacity:.5})}),componentScaleCageMaterials:ya.make({color:Yt.teal,shouldDarkenUnderside:!0})}),Ki(this,"_updateableLineMaterials",new Set);for(const e of Object.keys(Xl)){const i=new Ge(Xl[e].FILL);this.highlightLineMaterials.set(e,new Si({...Vd,color:i,linewidth:1}))}this.setResolution=this.setResolution.bind(this),t.signals.window.renderPrepared.add(({width:e,height:i})=>this.setResolution(e,i))}static make({color:t,shouldDarkenUnderside:e=!1,hoverColor:i,activeColor:n,outerColor:o,lineMaterial:a=new xv({color:t,linewidth:1}),lineHoverMaterial:l=new xv({color:t,linewidth:3}),lineActiveMaterial:c=l,lineUnfocusedMaterial:h=a,lineInactiveMaterial:d=h}){const u=new wv({color:t,shouldDarkenUnderside:e}),f=i==null?u:new wv({color:i,shouldDarkenUnderside:e}),p=n==null?u:new wv({color:n,shouldDarkenUnderside:e}),g=o==null?u:new wv({color:o,shouldDarkenUnderside:e}),_={opacity:1,colorWrite:!1,stencilWrite:!0,stencilRef:1,stencilZPass:T0},v={stencilWrite:!0,stencilRef:0,stencilFunc:PL,stencilFail:T0,stencilZPass:T0};let y=a;a.opacity<1&&(y=a.clone(),y.setValues(v),a.setValues(_));let b=a;h===a?b=y:h.opacity<1&&(b=h.clone(),b.setValues(v),h.setValues(_));let C=a;return d===a?C=y:d.opacity<1&&(C=d.clone(),C.setValues(v),d.setValues(_)),{mesh:{meshMaterial:u,meshHoverMaterial:f,meshActiveMaterial:p,meshInactiveMaterial:ya.invisibleMaterial,meshUnfocusedMaterial:new wv({color:t,transparent:!0,opacity:.5,shouldDarkenUnderside:e}),meshOuterMaterial:g},line:{lineMaterial:a,linePass2Material:y,lineHoverMaterial:l,lineActiveMaterial:c,lineInactiveMaterial:d,lineInactivePass2Material:C,lineUnfocusedMaterial:h,lineUnfocusedPass2Material:b,lineDashedMaterial:new Si({color:t,toneMapped:!1,linewidth:1,dashed:!0,polygonOffset:!0,polygonOffsetFactor:1,polygonOffsetUnits:1})}}}createLightHelperMaterial(){const t=ya.lineMaterials.lightHelperMaterial.clone();return this._updateableLineMaterials.add(t),t}disposeLightHelperMaterial(t){this._updateableLineMaterials.delete(t),t.dispose()}setResolution(t,e){const i=[...Object.values(ya.lineMaterials),...this.highlightLineMaterials.values(),...this._updateableLineMaterials];for(const n of Object.values(this.gizmoMaterials))for(const o of Object.values(n.line))i.push(o);for(const n of i)n.resolution.set(t,e)}};Ki(nu,"debugPlaneMaterial",new kn({wireframe:!0,color:16711680,side:In}));Ki(nu,"invisibleMaterial",new kn(Object.assign({transparent:!1,depthWrite:!1,depthTest:!1,opacity:0,side:Wl,visible:!1})));Ki(nu,"hotSpotMeshMaterial",new kn({transparent:!0,opacity:0,depthWrite:!1,depthTest:!1}));Ki(nu,"semiTransparentMaterial",new kn(Object.assign({transparent:!0,depthWrite:!0,depthTest:!0,opacity:.35,side:In},Vd)));Ki(nu,"distributionPreviewMaterial",new b_({color:Yt.redDimmed,linewidth:2,transparent:!0,opacity:pA.distributionPreview,side:In,depthWrite:!1,depthFunc:C0,depthTest:!1}));Ki(nu,"alignmentPreviewPlaneMaterial",new kn({wireframe:!1,color:Yt.redDimmed,transparent:!0,opacity:pA.alignmentPreviewPlane,side:In,depthWrite:!1,depthFunc:C0,depthTest:!1}));Ki(nu,"lineMaterials",{guideLineMaterial:new Si({...Vd,color:Yt.lime,linewidth:1}),colliderLineMaterial:new Si({...Vd,color:Yt.lime,opacity:0,linewidth:2}),highlightLineMaterial:new Si({...Vd,color:Yt.lime,linewidth:2}),hoverHighlightLineMaterial:new Si({...Vd,color:Yt.lime,linewidth:2,opacity:.5}),componentHighlightLineMaterial:new Si({...Vd,color:Yt.teal,linewidth:2}),componentHoverHighlightLineMaterial:new Si({...Vd,color:Yt.teal,linewidth:2,opacity:.5}),dashedLineMaterial:new Si({color:Yt.lime,linewidth:1,dashed:!0,polygonOffset:!0,polygonOffsetFactor:-1,polygonOffsetUnits:-1}),curveMaterial:new Si({color:Yt.white,linewidth:2,side:In,polygonOffset:!0,polygonOffsetFactor:-2,polygonOffsetUnits:-2}),curveGuideMaterial:new Si({color:Yt.white,linewidth:1,side:In,polygonOffset:!0,polygonOffsetFactor:-1,polygonOffsetUnits:-1}),curveGuideMaterialX:new Si({color:Yt.redDimmed,linewidth:1,side:In,depthFunc:C0,dashed:!0}),curveGuideMaterialY:new Si({color:Yt.greenDimmed,linewidth:1,side:In,depthFunc:C0,dashed:!0}),curveGuideMaterialZ:new Si({color:Yt.blueDimmed,linewidth:1,side:In,depthFunc:C0,dashed:!0}),physicsColliderMaterial:new Si({vertexColors:!0,toneMapped:!1,linewidth:1}),alignmentPreviewLineMaterial:new Si({color:Yt.redDimmed,transparent:!0,linewidth:2,opacity:pA.alignmentLine,side:In,depthWrite:!1,depthFunc:C0,depthTest:!1}),frameMaterial:new Si({color:Yt.gray50,linewidth:1,toneMapped:!1}),frameHighlightedMaterial:new Si({color:Yt.gray30,linewidth:1,toneMapped:!1}),lightHelperMaterial:new Si({color:Yt.white,linewidth:1,toneMapped:!1}),invisibleLineMaterial:new Si({transparent:!1,depthWrite:!1,depthTest:!1,opacity:0,side:Wl,visible:!1,linewidth:0}),hotSpotLineMaterial:new Si({...Vd,color:Yt.lime,linewidth:3,transparent:!0}),edgeLineMaterial:new Si({vertexColors:!0,linewidth:1,polygonOffset:!0,polygonOffsetFactor:Bg.EDGE,polygonOffsetUnits:Bg.EDGE,toneMapped:!1}),helperMaterial:new Si({color:Yt.bubblegum,linewidth:1,toneMapped:!1,opacity:.85,transparent:!0}),axesHelperMaterial:new Si({linewidth:1,toneMapped:!1,vertexColors:!0})});Ki(nu,"gizmoGuideMaterials",{guideMaterial:new pft({color:Yt.lime,shouldDarkenUnderside:!0})});Ki(nu,"spriteMaterials",{soundSpriteMaterial:new cE({map:new kh().load(lft),color:Yt.lilac}),soundSpatialSpriteMaterial:new cE({map:new kh().load(cft),color:Yt.lilac}),gamepadSpriteMaterial:new cE({map:new kh().load(aft),color:Yt.lilac})});let Te=nu;var mft=Object.defineProperty,gft=(s,t,e)=>t in s?mft(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,wc=(s,t,e)=>(gft(s,typeof t!="symbol"?t+"":t,e),e),ce=(s=>(s[s.MESH=0]="MESH",s[s.CURVE=1]="CURVE",s[s.OVERLAY=2]="OVERLAY",s[s.HIGHLIGHT=3]="HIGHLIGHT",s[s.PHANTOM=4]="PHANTOM",s[s.VERTEX=5]="VERTEX",s[s.EDGE=6]="EDGE",s[s.FACE=7]="FACE",s[s.LIGHT=8]="LIGHT",s[s.WIDGET=9]="WIDGET",s[s.CAMERA_WIDGET=10]="CAMERA_WIDGET",s[s.LIGHT_WIDGET=11]="LIGHT_WIDGET",s[s.FRAME_WIDGET=12]="FRAME_WIDGET",s[s.SOUND_WIDGET=13]="SOUND_WIDGET",s[s.GAMEPAD_WIDGET=14]="GAMEPAD_WIDGET",s[s.BODY_RIG_WIDGET=15]="BODY_RIG_WIDGET",s[s.VISUALIZATION=16]="VISUALIZATION",s[s.EFFECT=17]="EFFECT",s[s.COLLIDER=18]="COLLIDER",s[s.PASSTHROUGH=19]="PASSTHROUGH",s[s.FRAME_CAP=20]="FRAME_CAP",s[s.GIZMO=21]="GIZMO",s[s.GIZMO_COLLIDER=22]="GIZMO_COLLIDER",s[s.GIZMO_LINE=23]="GIZMO_LINE",s[s.GIZMO_LINE_COLLIDER=24]="GIZMO_LINE_COLLIDER",s[s.HOT_SPOT_VISUALIZATION=25]="HOT_SPOT_VISUALIZATION",s[s.OUTLINED_SELECTION=26]="OUTLINED_SELECTION",s))(ce||{});const _ft=[{settingKey:"areLightHelpersVisible",layer:11},{settingKey:"areCameraHelpersVisible",layer:10},{settingKey:"areFramesVisible",layer:12},{settingKey:"areSoundsVisible",layer:13},{settingKey:"areCollidersVisible",layer:18},{settingKey:"isBodyRigVisible",layer:15},{settingKey:"areGamepadsVisible",layer:14}];class vft{constructor(){wc(this,"_editorVisible",new vc),wc(this,"_editorIntersectable",new vc),wc(this,"_playIntersectable",new vc),wc(this,"_publishVisible",new vc),wc(this,"_playVisible",new vc),wc(this,"_meshes",new vc),wc(this,"_gizmo",new vc),wc(this,"_widget",new vc),wc(this,"_phantom",new vc),wc(this,"_vertex",new vc),wc(this,"_edge",new vc),wc(this,"_face",new vc);const{_editorVisible:t,_editorIntersectable:e,_playIntersectable:i,_gizmo:n,_widget:o,_meshes:a,_phantom:l,_playVisible:c,_publishVisible:h}=this;t.disableAll(),t.enable(0),t.enable(1),t.enable(2),t.enable(21),t.enable(23),t.enable(4),t.enable(5),t.enable(6),t.enable(7),t.enable(8),t.enable(9),t.enable(16),t.enable(17),t.enable(18),t.enable(10),t.enable(11),t.enable(12),t.enable(13),t.enable(14),t.enable(15),t.enable(19),t.enable(20),n.disableAll(),n.enable(21),n.enable(22),n.enable(23),o.disableAll(),o.enable(9),o.enable(10),o.enable(11),o.enable(12),o.enable(13),o.enable(14),e.disableAll(),e.enable(0),e.enable(1),e.enable(9),e.enable(10),e.enable(11),e.enable(12),e.enable(13),e.enable(14),e.enable(15),e.enable(16),e.enable(8),i.disableAll(),i.enable(0),i.enable(1),i.enable(8),h.disableAll(),h.enable(0),h.enable(1),h.enable(8),h.enable(16),h.enable(17),h.enable(19),h.enable(20),c.disableAll(),c.enable(0),c.enable(2),c.enable(1),c.enable(8),c.enable(16),c.enable(17),c.enable(19),c.enable(25),c.enable(2),c.enable(20),l.disableAll(),l.enable(4),a.disableAll(),a.enable(0),this._vertex.disableAll(),this._vertex.enable(5),this._edge.disableAll(),this._edge.enable(6),this._face.disableAll(),this._face.enable(7)}get editorIntersectable(){return this._editorIntersectable}get playIntersectable(){return this._playIntersectable}get playVisible(){return this._playVisible}get publishVisible(){return this._publishVisible}get meshes(){return this._meshes}get editorVisible(){return this._editorVisible}get phantom(){return this._phantom}get gizmo(){return this._gizmo}get vertex(){return this._vertex}get edge(){return this._edge}get face(){return this._face}toggleVisibleHelpers(t,e){const i=e?[this._playVisible,this._playIntersectable]:[this._editorVisible,this._editorIntersectable];for(const{settingKey:n,layer:o}of _ft){const a=t[n];for(const l of i)a?l.enable(o):l.disable(o)}}}class mA extends zs{constructor(t,e,i="EmptyHelper"){super(),this._group=t,this._helper=e,this.type=i;const n=o=>{o.layers.set(ce.WIDGET),o.userData.id=t.userData.id,o.userData.isHelper=!0,o.name=t.name+"Helper"};this.add(this._helper),n(this),this.traverse(n),t.add(this)}setSize({width:t,height:e,depth:i}){this._helper.scale.set(t,e,i)}dispose(){}}class Tm extends Xg{constructor(t,e){super(t,e),this.geometry=t}}class _m extends Ef{constructor(){super()}setColors(t,e=!1){const i=Array.isArray(t)?new Float32Array(t):t,n=e?4:3,o=n*2,a=new OL(i,o,1);return this.setAttribute("instanceColorStart",new Vw(a,n,0)),this.setAttribute("instanceColorEnd",new Vw(a,n,n)),this}updateColors(t,e=!1){const i=Array.isArray(t)?new Float32Array(t):t,{instanceColorStart:n,instanceColorEnd:o}=this.attributes;if(!(t2(n)&&t2(o)))return;const l=(e?4:3)*2;for(let c=0,h=0;c<i.length;c+=l,h++)e?(n.setXYZW(h,i[c+0],i[c+1],i[c+2],i[c+3]),o.setXYZW(h,i[c+4],i[c+5],i[c+6],i[c+7])):(n.setXYZ(h,i[c+0],i[c+1],i[c+2]),o.setXYZ(h,i[c+3],i[c+4],i[c+5]));n.data.needsUpdate=!0,o.data.needsUpdate=!0}updatePositions(t){const e=Array.isArray(t)?new Float32Array(t):t,{instanceStart:i,instanceEnd:n}=this.attributes;if(t2(i)&&t2(n)){for(let o=0,a=0;o<e.length;o+=6,a++)i.setXYZ(a,e[o+0],e[o+1],e[o+2]),n.setXYZ(a,e[o+3],e[o+4],e[o+5]);i.data.needsUpdate=!0,n.data.needsUpdate=!0}}}function t2(s){return s&&s.isInterleavedBufferAttribute}class yft extends _m{constructor(){super();const n=bft(1,1,1);this.setPositions(n)}}function bft(s,t,e){const i=s/2,n=t/2,o=e/2,a=[[-i,n,o],[i,n,o],[i,-n,o],[-i,-n,o],[-i,n,-o],[i,n,-o],[i,-n,-o],[-i,-n,-o]];return[[0,1],[1,2],[2,3],[3,0],[4,5],[5,6],[6,7],[7,4],[0,4],[1,5],[2,6],[3,7]].flatMap(([h,d])=>[...a[h],...a[d]])}var Cft=Object.defineProperty,wft=(s,t,e)=>t in s?Cft(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,xft=(s,t,e)=>(wft(s,t+"",e),e);const PF=class OF extends mA{constructor(t,e=new Tm(OF.geometry,Te.lineMaterials.helperMaterial)){super(t,e),this._group=t,this._helper=e}dispose(){}};xft(PF,"geometry",new yft);let MF=PF;var Eft=Object.defineProperty,Sft=(s,t,e)=>t in s?Eft(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,LF=(s,t,e)=>(Sft(s,typeof t!="symbol"?t+"":t,e),e);class Kc extends _m{constructor(t,e){super(),this.setPositions(t),e&&this.setColors(e)}static generateCrossVertices(t){const e=t.size||1e4,i=t.isDoubleSided||!1,n=t.shouldShowNormalAxis||!1,o=i?-e:0,a=[o,0,0,e,0,0,0,0,o,0,0,e];return n&&(a.push(0,o,0),a.push(0,e,0)),a}static generateCrossColors(t={}){const e=t.shouldShowNormalAxis||!1,i=[...Yt.red.toArray(),...Yt.red.toArray(),...Yt.blue.toArray(),...Yt.blue.toArray()];return e&&(i.push(...Yt.green.toArray()),i.push(...Yt.green.toArray())),i}}const gA=class l6 extends Tm{constructor(t=l6._geometry,e=l6._material){super(t,e),this.layers.set(ce.OVERLAY),this.renderOrder=Zl.AXES_HELPER}setColors(t){this.geometry.setColors(t)}};LF(gA,"_geometry",new Kc(Kc.generateCrossVertices({size:1e5,isDoubleSided:!1,shouldShowNormalAxis:!1})));LF(gA,"_material",Te.lineMaterials.axesHelperMaterial);let Y5=gA;var Ift=Object.defineProperty,Aft=(s,t,e)=>t in s?Ift(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,RF=(s,t,e)=>(Aft(s,t+"",e),e);const NF=.5,jF=class DF extends mA{constructor(t,e=new Y5(DF._geometry,Te.lineMaterials.helperMaterial)){super(t,e),this._group=t,this._helper=e}dispose(){}};RF(jF,"_geometry",new Kc(Kc.generateCrossVertices({size:NF,isDoubleSided:!0,shouldShowNormalAxis:!0})));let Tft=jF;const FF=class BF extends mA{constructor(t,e=new Y5(BF._geometry,Te.lineMaterials.helperMaterial)){super(t,e),this._group=t,this._helper=e}dispose(){}};RF(FF,"_geometry",new Kc(Kc.generateCrossVertices({size:NF,isDoubleSided:!1,shouldShowNormalAxis:!0})));let Pft=FF;const kF=S.literal(L.XRRIG);go.merge(S.object({type:kF,parameters:L7}));function Oft(s){return Ir(s,kF,L7)}const GF=S.literal(L.HEAD);go.merge(S.object({type:GF}));function Mft(s){return _D(s,GF)}const VF=S.literal(L.HAND);go.merge(S.object({type:VF}));function Lft(s){return _D(s,VF)}var bg=(s=>(s.OCULUS_QUEST_2_LEFT="oculus_quest_2_left",s.OCULUS_QUEST_2_RIGHT="oculus_quest_2_right",s.META_QUEST_PRO_LEFT="meta_quest_pro_left",s.META_QUEST_PRO_RIGHT="meta_quest_pro_right",s.HAND_LEFT="hand_left",s.HAND_RIGHT="hand_right",s))(bg||{});const Hp="xrMovement",Rft=s=>{s==null||s.dispose()},HF=s=>{if(!s)return;let t=[];Array.isArray(s)?t=s:t[0]=s;for(const e of t){for(const[i,n]of Object.entries(e))!i.endsWith("Map")&&!i.endsWith("map")||!n||Rft(n);e.dispose()}},Pf=s=>{s&&(s.removeFromParent(),s.traverse(t=>{if(t.isMesh){const{geometry:e,material:i}=t;e==null||e.dispose(),HF(i)}}))};var UF=Object.defineProperty,Nft=Object.getOwnPropertyDescriptor,jft=(s,t,e)=>t in s?UF(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,g1=(s,t,e,i)=>{for(var n=i>1?void 0:i?Nft(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&UF(t,e,n),n},Tu=(s,t,e)=>(jft(s,typeof t!="symbol"?t+"":t,e),e);class fl extends Es{constructor(t,e){super(t),Tu(this,"type",pt.Hand),Tu(this,"_hand"),Tu(this,"_handedness","none"),Tu(this,"leftHandDefaultRotation",{x:Math.PI,y:-Math.PI/2,z:Math.PI/2}),Tu(this,"leftHandDefaultPosition",{x:.01,y:-.04,z:-.06}),Tu(this,"_previewMesh",null),Tu(this,"_isDebug",!1),Tu(this,"_boundingBoxCache",new Qr),Tu(this,"_boundingSphereCache",new Jr),this._handedness=e;const i=new EZ(.05),n=[];for(let h=0;h<i.getAttribute("position").count;h++)n.push(1,1,1,.25);i.setAttribute("color",new or(n,4));const o=new b_({transparent:!0,vertexColors:!0,toneMapped:!1}),a=new C_(i,o);this._hand=new zs,this._hand.userData.id=this.entity.id,this._hand.layers.set(ce.BODY_RIG_WIDGET),this._hand.name="BodyRig Hand",this._hand.add(a);const l=this.entity.getComponent(Fs);l&&l.mesh.add(this._hand);const c=this.entity.editor.sceneController.bodyRigComponent;this._setGeometry((c==null?void 0:c.parameters.headset)??Kn.QUEST_2),this._isDebug&&vt(this)}setRotation(t,e,i){this.leftHandDefaultRotation={x:t,y:e,z:i}}setPosition(t,e,i){this.leftHandDefaultPosition={x:t,y:e,z:i}}get boundingBox(){const t=this._boundingBoxCache.get();return t.makeEmpty(),t.min.set(-.05,-.05,-.05),t.max.set(.05,.05,.05),t}get boundingSphere(){const t=this._boundingSphereCache.get();return t.makeEmpty(),t.radius=.05,t}get handedness(){return this._handedness}async _setGeometry(t=Kn.QUEST_2){const e=new Zg;let i;if(this._handedness==="left")switch(t){case Kn.QUEST_2:i=`${bg.OCULUS_QUEST_2_LEFT}.glb`;break;case Kn.QUEST_PRO:i=`${bg.META_QUEST_PRO_LEFT}.glb`;break;case Kn.HANDS:i=`${bg.HAND_LEFT}.glb`;break;case Kn.NONE:default:i=void 0;break}else if(this._handedness==="right")switch(t){case Kn.QUEST_2:i=`${bg.OCULUS_QUEST_2_RIGHT}.glb`;break;case Kn.QUEST_PRO:i=`${bg.META_QUEST_PRO_RIGHT}.glb`;break;case Kn.HANDS:i=`${bg.HAND_RIGHT}.glb`;break;case Kn.NONE:default:i=void 0;break}const n=a=>{for(const l of a.children)Pf(l)};if(!i){n(this._hand),this.entity.editor.signals.object.sceneGraphChanged.dispatch();return}const o=await xs(i);o&&e.load(o,a=>{const c=a.scene.children[0];c&&(this._previewMesh=c,c.traverse(h=>{h.layers.set(ce.BODY_RIG_WIDGET),h.layers.enable(ce.WIDGET),h.userData.id=this.entity.id}),t==="Hands"&&(this._handedness==="left"?(c.rotation.set(this.leftHandDefaultRotation.x,this.leftHandDefaultRotation.y,this.leftHandDefaultRotation.z),c.position.set(this.leftHandDefaultPosition.x,this.leftHandDefaultPosition.y,this.leftHandDefaultPosition.z)):(c.rotation.set(this.leftHandDefaultRotation.x,-this.leftHandDefaultRotation.y,-this.leftHandDefaultRotation.z),c.position.set(-this.leftHandDefaultPosition.x,this.leftHandDefaultPosition.y,this.leftHandDefaultPosition.z))),n(this._hand),this._hand.add(c),this.entity.editor.signals.object.sceneGraphChanged.dispatch())})}get mesh(){return this._hand}setHeadset(t){this._setGeometry(t)}watch(){this.disposableReactions.push(rt(()=>{var t,e,i,n;(t=this.mesh.parent)==null||t.position.set(this.entity.transform.position.x,this.entity.transform.position.y,this.entity.transform.position.z),(e=this.mesh.parent)==null||e.rotation.copy(this.entity.transform.euler),(i=this.mesh.parent)==null||i.scale.copy(this.entity.transform.scaleVec),(n=this.mesh.parent)==null||n.updateMatrixWorld()}),rt(()=>{this._isDebug&&this._previewMesh&&(this._previewMesh.rotation.set(this.leftHandDefaultRotation.x,this.leftHandDefaultRotation.y,this.leftHandDefaultRotation.z),this._previewMesh.position.set(this.leftHandDefaultPosition.x,this.leftHandDefaultPosition.y,this.leftHandDefaultPosition.z),this._previewMesh.updateMatrixWorld())}))}dispose(){super.dispose(),this.mesh&&Pf(this.mesh)}}g1([V],fl.prototype,"leftHandDefaultRotation",2);g1([E],fl.prototype,"setRotation",1);g1([V],fl.prototype,"leftHandDefaultPosition",2);g1([E],fl.prototype,"setPosition",1);g1([V],fl.prototype,"_previewMesh",2);g1([M],fl.prototype,"boundingBox",1);g1([M],fl.prototype,"boundingSphere",1);var zF=Object.defineProperty,Dft=Object.getOwnPropertyDescriptor,Fft=(s,t,e)=>t in s?zF(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,YF=(s,t,e,i)=>{for(var n=Dft(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&zF(t,e,n),n},e2=(s,t,e)=>(Fft(s,typeof t!="symbol"?t+"":t,e),e);class vm extends Es{constructor(t){super(t),e2(this,"type",pt.Head),e2(this,"_head"),e2(this,"_boundingBoxCache",new Qr),e2(this,"_boundingSphereCache",new Jr);const e=new SZ(.2),i=[];for(let a=0;a<e.getAttribute("position").count;a++)i.push(1,1,1,.25);e.setAttribute("color",new or(i,4));const n=new Xr({transparent:!0,vertexColors:!0,toneMapped:!1});this._head=new re(e,n),this._head.userData.id=this.entity.id,this._head.layers.set(ce.BODY_RIG_WIDGET),this._head.name="BodyRig Head";const o=this.entity.getComponent(Fs);o&&o.mesh.add(this._head),this._setGeometry()}get boundingBox(){const t=this._boundingBoxCache.get();return t.makeEmpty(),t.min.set(-.1,-.1,-.1),t.max.set(.1,.1,.1),t}get boundingSphere(){const t=this._boundingSphereCache.get();return t.makeEmpty(),t.radius=.1,t}async _setGeometry(){const t=new Zg,e=await xs("rig_head.glb");e&&t.load(e,i=>{const o=i.scene.children[0];if(o&&o.geometry){const a=o.geometry;a.computeBoundingBox();const l=[];for(let c=0;c<a.getAttribute("position").count;c++)l.push(1,1,1,.25);a.setAttribute("color",new or(l,4)),this._head.geometry=a}})}get mesh(){return this._head}watch(){this.disposableReactions.push(rt(()=>{var t,e,i,n;(t=this.mesh.parent)==null||t.position.copy(this.entity.transform.positionVec),(e=this.mesh.parent)==null||e.rotation.copy(this.entity.transform.euler),(i=this.mesh.parent)==null||i.scale.copy(this.entity.transform.scaleVec),(n=this.mesh.parent)==null||n.updateMatrixWorld()}))}dispose(){super.dispose(),this.mesh&&Pf(this.mesh),this.mesh.material.dispose()}}YF([M],vm.prototype,"boundingBox");YF([M],vm.prototype,"boundingSphere");var Bft=Object.defineProperty,kft=(s,t,e)=>t in s?Bft(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,lP=(s,t,e)=>(kft(s,typeof t!="symbol"?t+"":t,e),e);class r_{constructor(t=1/0){lP(this,"_elements"),lP(this,"_capacity"),this._elements=[],this._capacity=t}get elements(){return this._elements}get capacity(){return this._capacity}enqueue(t){this._elements.push(t),this._elements.length>this._capacity&&this._elements.shift()}dequeue(){if(this._elements.length<=0)return null;const t=this._elements.shift();return t||null}peek(){return this._elements.length<=0?null:this._elements[0]}clear(){this._elements=[]}isEmpty(){return this._elements.length===0}size(){return this._elements.length}fromArray(t){this._elements=[...t]}}var WF=Object.defineProperty,Gft=Object.getOwnPropertyDescriptor,Vft=(s,t,e)=>t in s?WF(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Gf=(s,t,e,i)=>{for(var n=i>1?void 0:i?Gft(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&WF(t,e,n),n},Zm=(s,t,e)=>(Vft(s,typeof t!="symbol"?t+"":t,e),e);const ou=class XF extends Es{constructor(t){super(t),Zm(this,"type",pt.Group),Zm(this,"children",[]),Zm(this,"_group",new bn),Zm(this,"_helper",this._createHelper(this.parameters.helperType)),Zm(this,"_boundingBoxCache",new Qr),Zm(this,"_boundingSphereCache",new Jr),Zm(this,"_helperType"),this._group.name=t.name,this._group.userData.id=this.entity.id,vt(this)}get mesh(){return this._group}get boundingBox(){if(this.entity.type===L.HAND){const i=this.entity.getComponent(fl);if(i)return i.boundingBox}else if(this.entity.type===L.HEAD){const i=this.entity.getComponent(vm);if(i)return i.boundingBox}const t=this._boundingBoxCache.get();if(t.makeEmpty(),!this.hasChildren&&this.parameters.helperType!==Pi.NONE){const{width:i,height:n,depth:o}=this.parameters,a=i/2,l=n/2,c=o/2;return t.min.set(-a,-l,-c),t.max.set(a,l,c),t}for(const i of this.childEntities){const n=i.boundingBoxLocal;t.union(n)}const e=new w().copy(this.entity.transform.positionGlobalVec);return this.entity.transform.worldToLocal(e),t.expandByPoint(e),t}get boundingBoxRevision(){return 0}get hasChildren(){return this.numChildren>0}get numChildren(){return this.children.length}get parameters(){return this.entity.sceneObject.parameters}get boundingSphere(){if(this.entity.type===L.HAND){const i=this.entity.getComponent(fl);if(i)return i.boundingSphere}else if(this.entity.type===L.HEAD){const i=this.entity.getComponent(vm);if(i)return i.boundingSphere}const t=this._boundingSphereCache.get();if(t.makeEmpty(),!this.hasChildren&&this.parameters.helperType!==Pi.NONE){const{width:i,height:n,depth:o}=this.parameters;return t.radius=Math.max(i,n,o)/2,t}for(const i of this.childEntities){const n=i.boundingSphereLocal;t.union(n)}const e=new w().copy(this.entity.transform.positionGlobalVec);return this._group.worldToLocal(e),t.expandByPoint(e),t}setSize(t,e,i){this.entity.transform.setSize(t,e,i)}watch(){this.disposableReactions.push(rt(()=>{this._group.position.copy(this.entity.transform.positionVec),this._group.rotation.copy(this.entity.transform.euler),this._group.scale.copy(this.entity.transform.scaleVec),this._group.updateMatrixWorld()}),rt(()=>{this._group.visible=this.entity.sceneObject.isVisible,this.entity.editor.signals.object.sceneGraphChanged.dispatch()}),rt(()=>{const t=this.parameters.helperType,{parameters:e}=this;this._helper=this._createHelper(t),this._updateHelper(e),this.entity.editor.signals.object.sceneGraphChanged.dispatch()}))}_createHelper(t){var e;if(this._helperType===t)return this._helper;switch(this._helperType=t,this._helper&&this._group.remove(this._helper),(e=this._helper)==null||e.dispose(),t){case Pi.NONE:return null;case Pi.BOX:return new MF(this._group);case Pi.FULL_AXES:return new Tft(this._group);case Pi.HALF_AXES:return new Pft(this._group);default:return null}}_updateHelper(t){this._helper&&t.helperType!==Pi.NONE&&this._helper.setSize(t)}insert(t,e,i=null,n=!0){if(i){const o=this.children.findIndex(a=>a.entity.id===i.id);o===-1?this.children.push(t.transform):e===ns.BEFORE?this.children.splice(o,0,t.transform):this.children.splice(o+1,0,t.transform)}else this.children.length>0?(this.children.push(t.transform),this.sortChildren()):this.children.push(t.transform);t.parent=this.entity,this.entity.highlightComponent.update()}remove(t,e=!1,i=!1){if(this.entity.sceneObject.isInstance&&!e)return;const n=this.children.indexOf(t.transform);n>=0&&this.children.splice(n,1)}get childEntities(){const t=[];for(const e of this.children)t.push(e.entity);return t}getAllChildren(){const t=[...this.children],e=new r_;for(e.fromArray(t);e.size()>0;){const i=e.dequeue();if(!i)continue;const n=i.entity.getComponent(XF);n&&(t.push(...n.children),n.children.forEach(o=>{e.enqueue(o)}))}return t}get allChildEntities(){const t=this.getAllChildren(),e=[];for(const i of t)e.push(i.entity);return e}sortChildren(){this.children.sort((t,e)=>mf(t.entity.index,e.entity.index))}dispose(){var t;(t=this._helper)==null||t.dispose(),super.dispose()}};Gf([V],ou.prototype,"children",2);Gf([M],ou.prototype,"boundingBox",1);Gf([M],ou.prototype,"hasChildren",1);Gf([M],ou.prototype,"numChildren",1);Gf([M],ou.prototype,"parameters",1);Gf([M],ou.prototype,"boundingSphere",1);Gf([E],ou.prototype,"insert",1);Gf([E],ou.prototype,"remove",1);Gf([E],ou.prototype,"sortChildren",1);let Fs=ou;var Hft=Object.defineProperty,Uft=(s,t,e)=>t in s?Hft(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,U1=(s,t,e)=>(Uft(s,typeof t!="symbol"?t+"":t,e),e);class zft extends $n{constructor(t,e,i,n,o){super(),U1(this,"_curvePoints",[]),U1(this,"_closed",!1),U1(this,"_radius"),U1(this,"_radialSegments"),U1(this,"_frames",{tangents:[],normals:[],binormals:[]}),U1(this,"_cap",Yc.NONE),this._curvePoints=t,this._closed=e,this._radius=i,this._radialSegments=n,this._cap=o}get isPipeGeometry(){return!0}generate(){this._frames=this.computeFrames();const t=this.generateData(),e=t==null?void 0:t.vertices,i=t==null?void 0:t.normals,n=this.generateIndices();this._cap!=Yc.NONE&&!this._closed&&this.generateCapData(n,e,i),this.setIndex(n),this.setAttribute("position",new or(e,3)),this.setAttribute("normal",new or(i,3))}generateData(){const t=[],e=[];for(let i=0;i<this._curvePoints.length;i++){const n=this.generateSegmentData(i);t.push(...n.vertices),e.push(...n.normals)}return{normals:e,vertices:t}}generateSegmentData(t){const e=[],i=[],n=this._curvePoints[t],o=this._frames.normals[t],a=this._frames.binormals[t];for(let l=0;l<=this._radialSegments;l++){const c=l/this._radialSegments*Math.PI*2+Math.PI/this._radialSegments,h=Math.sin(c),d=-Math.cos(c),u=new w;u.x=d*o.x+h*a.x,u.y=d*o.y+h*a.y,u.z=d*o.z+h*a.z,u.normalize(),i.push(u.x,u.y,u.z);const f=new w;f.x=n.x+this._radius*u.x,f.y=n.y+this._radius*u.y,f.z=n.z+this._radius*u.z,e.push(f.x,f.y,f.z)}return{normals:i,vertices:e}}generateIndices(){const t=[];for(let e=1;e<this._curvePoints.length;e++)for(let i=1;i<=this._radialSegments;i++){const n=(this._radialSegments+1)*(e-1)+(i-1),o=(this._radialSegments+1)*e+(i-1),a=(this._radialSegments+1)*e+i,l=(this._radialSegments+1)*(e-1)+i;t.push(n,o,l),t.push(o,a,l)}if(this._closed){const e=this._curvePoints.length-1;for(let i=1;i<=this._radialSegments;i++){const n=(this._radialSegments+1)*e+(i-1),o=i-1,a=i,l=(this._radialSegments+1)*e+i;t.push(n,o,l),t.push(o,a,l)}}return t}generateCapData(t,e,i){this._cap==Yc.FLAT?(this.createFlatCap(t,e,i,0,!0),this.createFlatCap(t,e,i,this._curvePoints.length-1,!1)):this._cap==Yc.CONE}createFlatCap(t,e,i,n,o=!1){const a=[],l=[],c=e.length/3;a.push(...this._curvePoints[n].toArray());const h=this.generateSegmentData(n);a.push(...h.vertices);const d=new w(a[0],a[1],a[2]),u=new w(a[3],a[4],a[5]),f=new w(a[6],a[7],a[8]),p=new Kx(d,u,f),g=new w;p.getNormal(g);const _=g.toArray();for(let v=0;v<a.length/3;v++)l.push(..._);for(let v=1;v<=this._radialSegments;v++){const y=c+v,b=c,C=c+(v+1);o?t.push(C,b,y):t.push(y,b,C)}e.push(...a),i.push(...l)}computeFrames(){const t=[],e=[],i=[],n=new w,o=new w,a=new Lt;for(let u=0;u<this._curvePoints.length-1;u++)t.push(this.getTangent(this._curvePoints[u],this._curvePoints[u+1]));t.push(t[t.length-1]),e[0]=new w,i[0]=new w;let l=Number.MAX_VALUE;const c=Math.abs(t[0].x),h=Math.abs(t[0].y),d=Math.abs(t[0].z);c<=l&&(l=c,n.set(1,0,0)),h<=l&&(l=h,n.set(0,1,0)),d<=l&&n.set(0,0,1),o.crossVectors(t[0],n).normalize(),e[0].crossVectors(t[0],o),i[0].crossVectors(t[0],e[0]);for(let u=1;u<this._curvePoints.length;u++){if(e[u]=e[u-1].clone(),i[u]=i[u-1].clone(),o.crossVectors(t[u-1],t[u]),o.length()>Number.EPSILON){o.normalize();const f=Math.acos(ms.clamp(t[u-1].dot(t[u]),-1,1));e[u].applyMatrix4(a.makeRotationAxis(o,f))}i[u].crossVectors(t[u],e[u])}if(this._closed===!0){let u=Math.acos(ms.clamp(e[0].dot(e[e.length-1]),-1,1));u/=e.length-1,t[0].dot(o.crossVectors(e[0],e[e.length-1]))>0&&(u=-u);for(let f=1;f<this._curvePoints.length;f++)e[f].applyMatrix4(a.makeRotationAxis(t[f],u*f)),i[f].crossVectors(t[f],e[f])}return{tangents:t,normals:e,binormals:i}}getTangent(t,e){const i=new w;return i.copy(e).sub(t).normalize(),i}}const Yft="/GeometryWebAssembly-BWCgabNA.wasm";var Wft=()=>{var s=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(t){t=t||{};var e=typeof t<"u"?t:{},i,n;e.ready=new Promise(function(j,N){i=j,n=N});var o=Object.assign({},e),a="./this.program",l=!0,c="";function h(j){return e.locateFile?e.locateFile(j,c):c+j}var d;typeof document<"u"&&document.currentScript&&(c=document.currentScript.src),s&&(c=s),c.indexOf("blob:")!==0?c=c.substr(0,c.replace(/[?#].*/,"").lastIndexOf("/")+1):c="";var u=e.print||console.log.bind(console),f=e.printErr||console.warn.bind(console);Object.assign(e,o),o=null,e.arguments&&e.arguments,e.thisProgram&&(a=e.thisProgram),e.quit&&e.quit;var p;e.wasmBinary&&(p=e.wasmBinary),e.noExitRuntime,typeof WebAssembly!="object"&&_c("no native wasm support detected");function g(j,N,H="i8",et){switch(H.endsWith("*")&&(H="i32"),H){case"i1":nt[j>>0]=N;break;case"i8":nt[j>>0]=N;break;case"i16":Et[j>>1]=N;break;case"i32":ut[j>>2]=N;break;case"i64":j1=[N>>>0,(np=N,+Math.abs(np)>=1?np>0?(Math.min(+Math.floor(np/4294967296),4294967295)|0)>>>0:~~+Math.ceil((np-+(~~np>>>0))/4294967296)>>>0:0)],ut[j>>2]=j1[0],ut[j+4>>2]=j1[1];break;case"float":Kt[j>>2]=N;break;case"double":ye[j>>3]=N;break;default:_c("invalid type for setValue: "+H)}}function _(j,N="i8",H){switch(N.endsWith("*")&&(N="i32"),N){case"i1":return nt[j>>0];case"i8":return nt[j>>0];case"i16":return Et[j>>1];case"i32":return ut[j>>2];case"i64":return ut[j>>2];case"float":return Kt[j>>2];case"double":return Number(ye[j>>3]);default:_c("invalid type for getValue: "+N)}}var v,y=!1;function b(j,N){j||_c(N)}function C(j){var N=e["_"+j];return N}function x(j,N,H,et,dt){var St={string:function(js){var en=0;if(js!=null&&js!==0){var Ko=(js.length<<2)+1;en=aE(Ko),F(js,en,Ko)}return en},array:function(js){var en=aE(js.length);return bt(js,en),en}};function Ct(js){return N==="string"?D(js):N==="boolean"?!!js:js}var ft=C(j),It=[],ie=0;if(et)for(var we=0;we<et.length;we++){var Ye=St[H[we]];Ye?(ie===0&&(ie=OT()),It[we]=Ye(et[we])):It[we]=et[we]}var Pe=ft.apply(null,It);function mn(js){return ie!==0&&MT(ie),Ct(js)}return Pe=mn(Pe),Pe}function I(j,N,H,et){H=H||[];var dt=H.every(function(Ct){return Ct==="number"}),St=N!=="string";return St&&dt&&!et?C(j):function(){return x(j,N,H,arguments)}}var O=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function T(j,N,H){for(var et=N+H,dt=N;j[dt]&&!(dt>=et);)++dt;if(dt-N>16&&j.buffer&&O)return O.decode(j.subarray(N,dt));for(var St="";N<dt;){var Ct=j[N++];if(!(Ct&128)){St+=String.fromCharCode(Ct);continue}var ft=j[N++]&63;if((Ct&224)==192){St+=String.fromCharCode((Ct&31)<<6|ft);continue}var It=j[N++]&63;if((Ct&240)==224?Ct=(Ct&15)<<12|ft<<6|It:Ct=(Ct&7)<<18|ft<<12|It<<6|j[N++]&63,Ct<65536)St+=String.fromCharCode(Ct);else{var ie=Ct-65536;St+=String.fromCharCode(55296|ie>>10,56320|ie&1023)}}return St}function D(j,N){return j?T(ot,j,N):""}function B(j,N,H,et){if(!(et>0))return 0;for(var dt=H,St=H+et-1,Ct=0;Ct<j.length;++Ct){var ft=j.charCodeAt(Ct);if(ft>=55296&&ft<=57343){var It=j.charCodeAt(++Ct);ft=65536+((ft&1023)<<10)|It&1023}if(ft<=127){if(H>=St)break;N[H++]=ft}else if(ft<=2047){if(H+1>=St)break;N[H++]=192|ft>>6,N[H++]=128|ft&63}else if(ft<=65535){if(H+2>=St)break;N[H++]=224|ft>>12,N[H++]=128|ft>>6&63,N[H++]=128|ft&63}else{if(H+3>=St)break;N[H++]=240|ft>>18,N[H++]=128|ft>>12&63,N[H++]=128|ft>>6&63,N[H++]=128|ft&63}}return N[H]=0,H-dt}function F(j,N,H){return B(j,ot,N,H)}function k(j){for(var N=0,H=0;H<j.length;++H){var et=j.charCodeAt(H);et>=55296&&et<=57343&&(et=65536+((et&1023)<<10)|j.charCodeAt(++H)&1023),et<=127?++N:et<=2047?N+=2:et<=65535?N+=3:N+=4}return N}var Y=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function G(j,N){for(var H=j,et=H>>1,dt=et+N/2;!(et>=dt)&&Ot[et];)++et;if(H=et<<1,H-j>32&&Y)return Y.decode(ot.subarray(j,H));for(var St="",Ct=0;!(Ct>=N/2);++Ct){var ft=Et[j+Ct*2>>1];if(ft==0)break;St+=String.fromCharCode(ft)}return St}function st(j,N,H){if(H===void 0&&(H=2147483647),H<2)return 0;H-=2;for(var et=N,dt=H<j.length*2?H/2:j.length,St=0;St<dt;++St){var Ct=j.charCodeAt(St);Et[N>>1]=Ct,N+=2}return Et[N>>1]=0,N-et}function $(j){return j.length*2}function X(j,N){for(var H=0,et="";!(H>=N/4);){var dt=ut[j+H*4>>2];if(dt==0)break;if(++H,dt>=65536){var St=dt-65536;et+=String.fromCharCode(55296|St>>10,56320|St&1023)}else et+=String.fromCharCode(dt)}return et}function q(j,N,H){if(H===void 0&&(H=2147483647),H<4)return 0;for(var et=N,dt=et+H-4,St=0;St<j.length;++St){var Ct=j.charCodeAt(St);if(Ct>=55296&&Ct<=57343){var ft=j.charCodeAt(++St);Ct=65536+((Ct&1023)<<10)|ft&1023}if(ut[N>>2]=Ct,N+=4,N+4>dt)break}return ut[N>>2]=0,N-et}function at(j){for(var N=0,H=0;H<j.length;++H){var et=j.charCodeAt(H);et>=55296&&et<=57343&&++H,N+=4}return N}function bt(j,N){nt.set(j,N)}function lt(j,N,H){for(var et=0;et<j.length;++et)nt[N++>>0]=j.charCodeAt(et);nt[N>>0]=0}var ct,nt,ot,Et,Ot,ut,yt,Kt,ye;function Cs(j){ct=j,e.HEAP8=nt=new Int8Array(j),e.HEAP16=Et=new Int16Array(j),e.HEAP32=ut=new Int32Array(j),e.HEAPU8=ot=new Uint8Array(j),e.HEAPU16=Ot=new Uint16Array(j),e.HEAPU32=yt=new Uint32Array(j),e.HEAPF32=Kt=new Float32Array(j),e.HEAPF64=ye=new Float64Array(j)}e.INITIAL_MEMORY;var He,je=[],ui=[],ha=[];function uh(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)Po(e.preRun.shift());dv(je)}function bd(){dv(ui)}function sp(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)Ue(e.postRun.shift());dv(ha)}function Po(j){je.unshift(j)}function mc(j){ui.unshift(j)}function Ue(j){ha.unshift(j)}var Zo=0,gc=null;function ip(j){Zo++,e.monitorRunDependencies&&e.monitorRunDependencies(Zo)}function hv(j){if(Zo--,e.monitorRunDependencies&&e.monitorRunDependencies(Zo),Zo==0&&gc){var N=gc;gc=null,N()}}function _c(j){e.onAbort&&e.onAbort(j),j="Aborted("+j+")",f(j),y=!0,j+=". Build with -sASSERTIONS for more info.";var N=new WebAssembly.RuntimeError(j);throw n(N),N}var z3="data:application/octet-stream;base64,";function SC(j){return j.startsWith(z3)}var Cl;Cl="GeometryWebAssembly.wasm",SC(Cl)||(Cl=h(Cl));function IC(j){try{if(j==Cl&&p)return new Uint8Array(p);if(!d)throw"both async and sync fetching of the wasm failed"}catch(N){_c(N)}}function Y3(){return!p&&l&&typeof fetch=="function"?fetch(Cl,{credentials:"same-origin"}).then(function(j){if(!j.ok)throw"failed to load wasm binary file at '"+Cl+"'";return j.arrayBuffer()}).catch(function(){return IC(Cl)}):Promise.resolve().then(function(){return IC(Cl)})}function AC(){var j={a:AX};function N(Ct,ft){var It=Ct.exports;e.asm=It,v=e.asm.I,Cs(v.buffer),He=e.asm.L,mc(e.asm.J),hv()}ip();function H(Ct){N(Ct.instance)}function et(Ct){return Y3().then(function(ft){return WebAssembly.instantiate(ft,j)}).then(function(ft){return ft}).then(Ct,function(ft){f("failed to asynchronously prepare wasm: "+ft),_c(ft)})}function dt(){return!p&&typeof WebAssembly.instantiateStreaming=="function"&&!SC(Cl)&&typeof fetch=="function"?fetch(Cl,{credentials:"same-origin"}).then(function(Ct){var ft=WebAssembly.instantiateStreaming(Ct,j);return ft.then(H,function(It){return f("wasm streaming compile failed: "+It),f("falling back to ArrayBuffer instantiation"),et(H)})}):et(H)}if(e.instantiateWasm)try{var St=e.instantiateWasm(j,N);return St}catch(Ct){return f("Module.instantiateWasm callback failed with error: "+Ct),!1}return dt().catch(n),{}}var np,j1;function dv(j){for(;j.length>0;){var N=j.shift();if(typeof N=="function"){N(e);continue}var H=N.func;typeof H=="number"?N.arg===void 0?zm(H)():zm(H)(N.arg):H(N.arg===void 0?null:N.arg)}}var D1=[];function zm(j){var N=D1[j];return N||(j>=D1.length&&(D1.length=j+1),D1[j]=N=He.get(j)),N}function TC(j,N,H,et){_c("Assertion failed: "+D(j)+", at: "+[N?D(N):"unknown filename",H,et?D(et):"unknown function"])}function W3(j){return jC(j+24)+24}function X3(j){this.excPtr=j,this.ptr=j-24,this.set_type=function(N){yt[this.ptr+4>>2]=N},this.get_type=function(){return yt[this.ptr+4>>2]},this.set_destructor=function(N){yt[this.ptr+8>>2]=N},this.get_destructor=function(){return yt[this.ptr+8>>2]},this.set_refcount=function(N){ut[this.ptr>>2]=N},this.set_caught=function(N){N=N?1:0,nt[this.ptr+12>>0]=N},this.get_caught=function(){return nt[this.ptr+12>>0]!=0},this.set_rethrown=function(N){N=N?1:0,nt[this.ptr+13>>0]=N},this.get_rethrown=function(){return nt[this.ptr+13>>0]!=0},this.init=function(N,H){this.set_adjusted_ptr(0),this.set_type(N),this.set_destructor(H),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var N=ut[this.ptr>>2];ut[this.ptr>>2]=N+1},this.release_ref=function(){var N=ut[this.ptr>>2];return ut[this.ptr>>2]=N-1,N===1},this.set_adjusted_ptr=function(N){yt[this.ptr+16>>2]=N},this.get_adjusted_ptr=function(){return yt[this.ptr+16>>2]},this.get_exception_ptr=function(){var N=LT(this.get_type());if(N)return yt[this.excPtr>>2];var H=this.get_adjusted_ptr();return H!==0?H:this.excPtr}}function Z3(j,N,H){var et=new X3(j);throw et.init(N,H),j}function K3(j,N,H,et,dt){}function Q(j){switch(j){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+j)}}function Gt(){for(var j=new Array(256),N=0;N<256;++N)j[N]=String.fromCharCode(N);ze=j}var ze=void 0;function $e(j){for(var N="",H=j;ot[H];)N+=ze[ot[H++]];return N}var Oo={},_r={},gu={},lW=48,cW=57;function q3(j){if(j===void 0)return"_unknown";j=j.replace(/[^a-zA-Z0-9_]/g,"$");var N=j.charCodeAt(0);return N>=lW&&N<=cW?"_"+j:j}function Q3(j,N){return j=q3(j),new Function("body","return function "+j+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(N)}function J3(j,N){var H=Q3(N,function(et){this.name=N,this.message=et;var dt=new Error(et).stack;dt!==void 0&&(this.stack=this.toString()+`
`+dt.replace(/^Error(:[^\n]*)?\n/,""))});return H.prototype=Object.create(j.prototype),H.prototype.constructor=H,H.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},H}var F1=void 0;function Ss(j){throw new F1(j)}var fT=void 0;function PC(j){throw new fT(j)}function op(j,N,H){j.forEach(function(ft){gu[ft]=N});function et(ft){var It=H(ft);It.length!==j.length&&PC("Mismatched type converter count");for(var ie=0;ie<j.length;++ie)_u(j[ie],It[ie])}var dt=new Array(N.length),St=[],Ct=0;N.forEach((ft,It)=>{_r.hasOwnProperty(ft)?dt[It]=_r[ft]:(St.push(ft),Oo.hasOwnProperty(ft)||(Oo[ft]=[]),Oo[ft].push(()=>{dt[It]=_r[ft],++Ct,Ct===St.length&&et(dt)}))}),St.length===0&&et(dt)}function _u(j,N,H={}){if(!("argPackAdvance"in N))throw new TypeError("registerType registeredInstance requires argPackAdvance");var et=N.name;if(j||Ss('type "'+et+'" must have a positive integer typeid pointer'),_r.hasOwnProperty(j)){if(H.ignoreDuplicateRegistrations)return;Ss("Cannot register type '"+et+"' twice")}if(_r[j]=N,delete gu[j],Oo.hasOwnProperty(j)){var dt=Oo[j];delete Oo[j],dt.forEach(St=>St())}}function hW(j,N,H,et,dt){var St=Q(H);N=$e(N),_u(j,{name:N,fromWireType:function(Ct){return!!Ct},toWireType:function(Ct,ft){return ft?et:dt},argPackAdvance:8,readValueFromPointer:function(Ct){var ft;if(H===1)ft=nt;else if(H===2)ft=Et;else if(H===4)ft=ut;else throw new TypeError("Unknown boolean type size: "+N);return this.fromWireType(ft[Ct>>St])},destructorFunction:null})}function dW(j){if(!(this instanceof rp)||!(j instanceof rp))return!1;for(var N=this.$$.ptrType.registeredClass,H=this.$$.ptr,et=j.$$.ptrType.registeredClass,dt=j.$$.ptr;N.baseClass;)H=N.upcast(H),N=N.baseClass;for(;et.baseClass;)dt=et.upcast(dt),et=et.baseClass;return N===et&&H===dt}function uW(j){return{count:j.count,deleteScheduled:j.deleteScheduled,preservePointerOnDelete:j.preservePointerOnDelete,ptr:j.ptr,ptrType:j.ptrType,smartPtr:j.smartPtr,smartPtrType:j.smartPtrType}}function $3(j){function N(H){return H.$$.ptrType.registeredClass.name}Ss(N(j)+" instance already deleted")}var tE=!1;function pT(j){}function fW(j){j.smartPtr?j.smartPtrType.rawDestructor(j.smartPtr):j.ptrType.registeredClass.rawDestructor(j.ptr)}function mT(j){j.count.value-=1;var N=j.count.value===0;N&&fW(j)}function gT(j,N,H){if(N===H)return j;if(H.baseClass===void 0)return null;var et=gT(j,N,H.baseClass);return et===null?null:H.downcast(et)}var _T={};function pW(){return Object.keys(pv).length}function mW(){var j=[];for(var N in pv)pv.hasOwnProperty(N)&&j.push(pv[N]);return j}var uv=[];function eE(){for(;uv.length;){var j=uv.pop();j.$$.deleteScheduled=!1,j.delete()}}var fv=void 0;function gW(j){fv=j,uv.length&&fv&&fv(eE)}function _W(){e.getInheritedInstanceCount=pW,e.getLiveInheritedInstances=mW,e.flushPendingDeletes=eE,e.setDelayFunction=gW}var pv={};function vW(j,N){for(N===void 0&&Ss("ptr should not be undefined");j.baseClass;)N=j.upcast(N),j=j.baseClass;return N}function yW(j,N){return N=vW(j,N),pv[N]}function OC(j,N){(!N.ptrType||!N.ptr)&&PC("makeClassHandle requires ptr and ptrType");var H=!!N.smartPtrType,et=!!N.smartPtr;return H!==et&&PC("Both smartPtrType and smartPtr must be specified"),N.count={value:1},mv(Object.create(j,{$$:{value:N}}))}function bW(j){var N=this.getPointee(j);if(!N)return this.destructor(j),null;var H=yW(this.registeredClass,N);if(H!==void 0){if(H.$$.count.value===0)return H.$$.ptr=N,H.$$.smartPtr=j,H.clone();var et=H.clone();return this.destructor(j),et}function dt(){return this.isSmartPointer?OC(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:N,smartPtrType:this,smartPtr:j}):OC(this.registeredClass.instancePrototype,{ptrType:this,ptr:j})}var St=this.registeredClass.getActualType(N),Ct=_T[St];if(!Ct)return dt.call(this);var ft;this.isConst?ft=Ct.constPointerType:ft=Ct.pointerType;var It=gT(N,this.registeredClass,ft.registeredClass);return It===null?dt.call(this):this.isSmartPointer?OC(ft.registeredClass.instancePrototype,{ptrType:ft,ptr:It,smartPtrType:this,smartPtr:j}):OC(ft.registeredClass.instancePrototype,{ptrType:ft,ptr:It})}function mv(j){return typeof FinalizationRegistry>"u"?(mv=N=>N,j):(tE=new FinalizationRegistry(N=>{mT(N.$$)}),mv=N=>{var H=N.$$,et=!!H.smartPtr;if(et){var dt={$$:H};tE.register(N,dt,N)}return N},pT=N=>tE.unregister(N),mv(j))}function CW(){if(this.$$.ptr||$3(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var j=mv(Object.create(Object.getPrototypeOf(this),{$$:{value:uW(this.$$)}}));return j.$$.count.value+=1,j.$$.deleteScheduled=!1,j}function wW(){this.$$.ptr||$3(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ss("Object already scheduled for deletion"),pT(this),mT(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function xW(){return!this.$$.ptr}function EW(){return this.$$.ptr||$3(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ss("Object already scheduled for deletion"),uv.push(this),uv.length===1&&fv&&fv(eE),this.$$.deleteScheduled=!0,this}function SW(){rp.prototype.isAliasOf=dW,rp.prototype.clone=CW,rp.prototype.delete=wW,rp.prototype.isDeleted=xW,rp.prototype.deleteLater=EW}function rp(){}function vT(j,N,H){if(j[N].overloadTable===void 0){var et=j[N];j[N]=function(){return j[N].overloadTable.hasOwnProperty(arguments.length)||Ss("Function '"+H+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+j[N].overloadTable+")!"),j[N].overloadTable[arguments.length].apply(this,arguments)},j[N].overloadTable=[],j[N].overloadTable[et.argCount]=et}}function yT(j,N,H){e.hasOwnProperty(j)?((H===void 0||e[j].overloadTable!==void 0&&e[j].overloadTable[H]!==void 0)&&Ss("Cannot register public name '"+j+"' twice"),vT(e,j,j),e.hasOwnProperty(H)&&Ss("Cannot register multiple overloads of a function with the same number of arguments ("+H+")!"),e[j].overloadTable[H]=N):(e[j]=N,H!==void 0&&(e[j].numArguments=H))}function IW(j,N,H,et,dt,St,Ct,ft){this.name=j,this.constructor=N,this.instancePrototype=H,this.rawDestructor=et,this.baseClass=dt,this.getActualType=St,this.upcast=Ct,this.downcast=ft,this.pureVirtualFunctions=[]}function MC(j,N,H){for(;N!==H;)N.upcast||Ss("Expected null or instance of "+H.name+", got an instance of "+N.name),j=N.upcast(j),N=N.baseClass;return j}function AW(j,N){if(N===null)return this.isReference&&Ss("null is not a valid "+this.name),0;N.$$||Ss('Cannot pass "'+oE(N)+'" as a '+this.name),N.$$.ptr||Ss("Cannot pass deleted object as a pointer of type "+this.name);var H=N.$$.ptrType.registeredClass,et=MC(N.$$.ptr,H,this.registeredClass);return et}function TW(j,N){var H;if(N===null)return this.isReference&&Ss("null is not a valid "+this.name),this.isSmartPointer?(H=this.rawConstructor(),j!==null&&j.push(this.rawDestructor,H),H):0;N.$$||Ss('Cannot pass "'+oE(N)+'" as a '+this.name),N.$$.ptr||Ss("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&N.$$.ptrType.isConst&&Ss("Cannot convert argument of type "+(N.$$.smartPtrType?N.$$.smartPtrType.name:N.$$.ptrType.name)+" to parameter type "+this.name);var et=N.$$.ptrType.registeredClass;if(H=MC(N.$$.ptr,et,this.registeredClass),this.isSmartPointer)switch(N.$$.smartPtr===void 0&&Ss("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:N.$$.smartPtrType===this?H=N.$$.smartPtr:Ss("Cannot convert argument of type "+(N.$$.smartPtrType?N.$$.smartPtrType.name:N.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:H=N.$$.smartPtr;break;case 2:if(N.$$.smartPtrType===this)H=N.$$.smartPtr;else{var dt=N.clone();H=this.rawShare(H,RC.toHandle(function(){dt.delete()})),j!==null&&j.push(this.rawDestructor,H)}break;default:Ss("Unsupporting sharing policy")}return H}function PW(j,N){if(N===null)return this.isReference&&Ss("null is not a valid "+this.name),0;N.$$||Ss('Cannot pass "'+oE(N)+'" as a '+this.name),N.$$.ptr||Ss("Cannot pass deleted object as a pointer of type "+this.name),N.$$.ptrType.isConst&&Ss("Cannot convert argument of type "+N.$$.ptrType.name+" to parameter type "+this.name);var H=N.$$.ptrType.registeredClass,et=MC(N.$$.ptr,H,this.registeredClass);return et}function LC(j){return this.fromWireType(yt[j>>2])}function OW(j){return this.rawGetPointee&&(j=this.rawGetPointee(j)),j}function MW(j){this.rawDestructor&&this.rawDestructor(j)}function LW(j){j!==null&&j.delete()}function RW(){vu.prototype.getPointee=OW,vu.prototype.destructor=MW,vu.prototype.argPackAdvance=8,vu.prototype.readValueFromPointer=LC,vu.prototype.deleteObject=LW,vu.prototype.fromWireType=bW}function vu(j,N,H,et,dt,St,Ct,ft,It,ie,we){this.name=j,this.registeredClass=N,this.isReference=H,this.isConst=et,this.isSmartPointer=dt,this.pointeeType=St,this.sharingPolicy=Ct,this.rawGetPointee=ft,this.rawConstructor=It,this.rawShare=ie,this.rawDestructor=we,!dt&&N.baseClass===void 0?et?(this.toWireType=AW,this.destructorFunction=null):(this.toWireType=PW,this.destructorFunction=null):this.toWireType=TW}function bT(j,N,H){e.hasOwnProperty(j)||PC("Replacing nonexistant public symbol"),e[j].overloadTable!==void 0&&H!==void 0?e[j].overloadTable[H]=N:(e[j]=N,e[j].argCount=H)}function NW(j,N,H){var et=e["dynCall_"+j];return H&&H.length?et.apply(null,[N].concat(H)):et.call(null,N)}function jW(j,N,H){return j.includes("j")?NW(j,N,H):zm(N).apply(null,H)}function DW(j,N){var H=[];return function(){return H.length=0,Object.assign(H,arguments),jW(j,N,H)}}function yu(j,N){j=$e(j);function H(){return j.includes("j")?DW(j,N):zm(N)}var et=H();return typeof et!="function"&&Ss("unknown function pointer with signature "+j+": "+N),et}var CT=void 0;function wT(j){var N=PT(j),H=$e(N);return bu(N),H}function B1(j,N){var H=[],et={};function dt(St){if(!et[St]&&!_r[St]){if(gu[St]){gu[St].forEach(dt);return}H.push(St),et[St]=!0}}throw N.forEach(dt),new CT(j+": "+H.map(wT).join([", "]))}function FW(j,N,H,et,dt,St,Ct,ft,It,ie,we,Ye,Pe){we=$e(we),St=yu(dt,St),ft&&(ft=yu(Ct,ft)),ie&&(ie=yu(It,ie)),Pe=yu(Ye,Pe);var mn=q3(we);yT(mn,function(){B1("Cannot construct "+we+" due to unbound types",[et])}),op([j,N,H],et?[et]:[],function(js){js=js[0];var en,Ko;et?(en=js.registeredClass,Ko=en.instancePrototype):Ko=rp.prototype;var Ha=Q3(mn,function(){if(Object.getPrototypeOf(this)!==jt)throw new F1("Use 'new' to construct "+we);if(Ie.constructor_body===void 0)throw new F1(we+" has no accessible constructor");var FC=Ie.constructor_body[arguments.length];if(FC===void 0)throw new F1("Tried to invoke ctor of "+we+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(Ie.constructor_body).toString()+") parameters instead!");return FC.apply(this,arguments)}),jt=Object.create(Ko,{constructor:{value:Ha}});Ha.prototype=jt;var Ie=new IW(we,Ha,jt,Pe,en,St,ft,ie),Ua=new vu(we,Ie,!0,!1,!1),vr=new vu(we+"*",Ie,!1,!1,!1),Ym=new vu(we+" const*",Ie,!1,!0,!1);return _T[j]={pointerType:vr,constPointerType:Ym},bT(mn,Ha),[Ua,vr,Ym]})}function sE(j,N){for(var H=[],et=0;et<j;et++)H.push(ut[(N>>2)+et]);return H}function xT(j){for(;j.length;){var N=j.pop(),H=j.pop();H(N)}}function BW(j,N,H,et,dt,St){b(N>0);var Ct=sE(N,H);dt=yu(et,dt),op([],[j],function(ft){ft=ft[0];var It="constructor "+ft.name;if(ft.registeredClass.constructor_body===void 0&&(ft.registeredClass.constructor_body=[]),ft.registeredClass.constructor_body[N-1]!==void 0)throw new F1("Cannot register multiple constructors with identical number of parameters ("+(N-1)+") for class '"+ft.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return ft.registeredClass.constructor_body[N-1]=()=>{B1("Cannot construct "+ft.name+" due to unbound types",Ct)},op([],Ct,function(ie){return ie.splice(1,0,null),ft.registeredClass.constructor_body[N-1]=iE(It,ie,null,dt,St),[]}),[]})}function kW(j,N){if(!(j instanceof Function))throw new TypeError("new_ called with constructor type "+typeof j+" which is not a function");var H=Q3(j.name||"unknownFunctionName",function(){});H.prototype=j.prototype;var et=new H,dt=j.apply(et,N);return dt instanceof Object?dt:et}function iE(j,N,H,et,dt){var St=N.length;St<2&&Ss("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var Ct=N[1]!==null&&H!==null,ft=!1,It=1;It<N.length;++It)if(N[It]!==null&&N[It].destructorFunction===void 0){ft=!0;break}for(var ie=N[0].name!=="void",we="",Ye="",It=0;It<St-2;++It)we+=(It!==0?", ":"")+"arg"+It,Ye+=(It!==0?", ":"")+"arg"+It+"Wired";var Pe="return function "+q3(j)+"("+we+`) {
if (arguments.length !== `+(St-2)+`) {
throwBindingError('function `+j+" called with ' + arguments.length + ' arguments, expected "+(St-2)+` args!');
}
`;ft&&(Pe+=`var destructors = [];
`);var mn=ft?"destructors":"null",js=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],en=[Ss,et,dt,xT,N[0],N[1]];Ct&&(Pe+="var thisWired = classParam.toWireType("+mn+`, this);
`);for(var It=0;It<St-2;++It)Pe+="var arg"+It+"Wired = argType"+It+".toWireType("+mn+", arg"+It+"); // "+N[It+2].name+`
`,js.push("argType"+It),en.push(N[It+2]);if(Ct&&(Ye="thisWired"+(Ye.length>0?", ":"")+Ye),Pe+=(ie?"var rv = ":"")+"invoker(fn"+(Ye.length>0?", ":"")+Ye+`);
`,ft)Pe+=`runDestructors(destructors);
`;else for(var It=Ct?1:2;It<N.length;++It){var Ko=It===1?"thisWired":"arg"+(It-2)+"Wired";N[It].destructorFunction!==null&&(Pe+=Ko+"_dtor("+Ko+"); // "+N[It].name+`
`,js.push(Ko+"_dtor"),en.push(N[It].destructorFunction))}ie&&(Pe+=`var ret = retType.fromWireType(rv);
return ret;
`),Pe+=`}
`,js.push(Pe);var Ha=kW(Function,js).apply(null,en);return Ha}function GW(j,N,H,et,dt,St,Ct,ft){var It=sE(H,et);N=$e(N),St=yu(dt,St),op([],[j],function(ie){ie=ie[0];var we=ie.name+"."+N;N.startsWith("@@")&&(N=Symbol[N.substring(2)]),ft&&ie.registeredClass.pureVirtualFunctions.push(N);function Ye(){B1("Cannot call "+we+" due to unbound types",It)}var Pe=ie.registeredClass.instancePrototype,mn=Pe[N];return mn===void 0||mn.overloadTable===void 0&&mn.className!==ie.name&&mn.argCount===H-2?(Ye.argCount=H-2,Ye.className=ie.name,Pe[N]=Ye):(vT(Pe,N,we),Pe[N].overloadTable[H-2]=Ye),op([],It,function(js){var en=iE(we,js,ie,St,Ct);return Pe[N].overloadTable===void 0?(en.argCount=H-2,Pe[N]=en):Pe[N].overloadTable[H-2]=en,[]}),[]})}function ET(j,N,H){return j instanceof Object||Ss(H+' with invalid "this": '+j),j instanceof N.registeredClass.constructor||Ss(H+' incompatible with "this" of type '+j.constructor.name),j.$$.ptr||Ss("cannot call emscripten binding method "+H+" on deleted object"),MC(j.$$.ptr,j.$$.ptrType.registeredClass,N.registeredClass)}function VW(j,N,H,et,dt,St,Ct,ft,It,ie){N=$e(N),dt=yu(et,dt),op([],[j],function(we){we=we[0];var Ye=we.name+"."+N,Pe={get:function(){B1("Cannot access "+Ye+" due to unbound types",[H,Ct])},enumerable:!0,configurable:!0};return It?Pe.set=()=>{B1("Cannot access "+Ye+" due to unbound types",[H,Ct])}:Pe.set=mn=>{Ss(Ye+" is a read-only property")},Object.defineProperty(we.registeredClass.instancePrototype,N,Pe),op([],It?[H,Ct]:[H],function(mn){var js=mn[0],en={get:function(){var Ha=ET(this,we,Ye+" getter");return js.fromWireType(dt(St,Ha))},enumerable:!0};if(It){It=yu(ft,It);var Ko=mn[1];en.set=function(Ha){var jt=ET(this,we,Ye+" setter"),Ie=[];It(ie,jt,Ko.toWireType(Ie,Ha)),xT(Ie)}}return Object.defineProperty(we.registeredClass.instancePrototype,N,en),[]}),[]})}var nE=[],fh=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function ST(j){j>4&&--fh[j].refcount===0&&(fh[j]=void 0,nE.push(j))}function HW(){for(var j=0,N=5;N<fh.length;++N)fh[N]!==void 0&&++j;return j}function UW(){for(var j=5;j<fh.length;++j)if(fh[j]!==void 0)return fh[j];return null}function zW(){e.count_emval_handles=HW,e.get_first_emval=UW}var RC={toValue:j=>(j||Ss("Cannot use deleted val. handle = "+j),fh[j].value),toHandle:j=>{switch(j){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var N=nE.length?nE.pop():fh.length;return fh[N]={refcount:1,value:j},N}}}};function YW(j,N){N=$e(N),_u(j,{name:N,fromWireType:function(H){var et=RC.toValue(H);return ST(H),et},toWireType:function(H,et){return RC.toHandle(et)},argPackAdvance:8,readValueFromPointer:LC,destructorFunction:null})}function oE(j){if(j===null)return"null";var N=typeof j;return N==="object"||N==="array"||N==="function"?j.toString():""+j}function WW(j,N){switch(N){case 2:return function(H){return this.fromWireType(Kt[H>>2])};case 3:return function(H){return this.fromWireType(ye[H>>3])};default:throw new TypeError("Unknown float type: "+j)}}function XW(j,N,H){var et=Q(H);N=$e(N),_u(j,{name:N,fromWireType:function(dt){return dt},toWireType:function(dt,St){return St},argPackAdvance:8,readValueFromPointer:WW(N,et),destructorFunction:null})}function ZW(j,N,H,et,dt,St){var Ct=sE(N,H);j=$e(j),dt=yu(et,dt),yT(j,function(){B1("Cannot call "+j+" due to unbound types",Ct)},N-1),op([],Ct,function(ft){var It=[ft[0],null].concat(ft.slice(1));return bT(j,iE(j,It,null,dt,St),N-1),[]})}function KW(j,N,H){switch(N){case 0:return H?function(dt){return nt[dt]}:function(dt){return ot[dt]};case 1:return H?function(dt){return Et[dt>>1]}:function(dt){return Ot[dt>>1]};case 2:return H?function(dt){return ut[dt>>2]}:function(dt){return yt[dt>>2]};default:throw new TypeError("Unknown integer type: "+j)}}function qW(j,N,H,et,dt){N=$e(N);var St=Q(H),Ct=Ye=>Ye;if(et===0){var ft=32-8*H;Ct=Ye=>Ye<<ft>>>ft}var It=N.includes("unsigned"),ie=(Ye,Pe)=>{},we;It?we=function(Ye,Pe){return ie(Pe,this.name),Pe>>>0}:we=function(Ye,Pe){return ie(Pe,this.name),Pe},_u(j,{name:N,fromWireType:Ct,toWireType:we,argPackAdvance:8,readValueFromPointer:KW(N,St,et!==0),destructorFunction:null})}function QW(j,N,H){var et=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],dt=et[N];function St(Ct){Ct=Ct>>2;var ft=yt,It=ft[Ct],ie=ft[Ct+1];return new dt(ct,ie,It)}H=$e(H),_u(j,{name:H,fromWireType:St,argPackAdvance:8,readValueFromPointer:St},{ignoreDuplicateRegistrations:!0})}function JW(j,N){N=$e(N);var H=N==="std::string";_u(j,{name:N,fromWireType:function(et){var dt=yt[et>>2],St;if(H)for(var Ct=et+4,ft=0;ft<=dt;++ft){var It=et+4+ft;if(ft==dt||ot[It]==0){var ie=It-Ct,we=D(Ct,ie);St===void 0?St=we:(St+="\0",St+=we),Ct=It+1}}else{for(var Ye=new Array(dt),ft=0;ft<dt;++ft)Ye[ft]=String.fromCharCode(ot[et+4+ft]);St=Ye.join("")}return bu(et),St},toWireType:function(et,dt){dt instanceof ArrayBuffer&&(dt=new Uint8Array(dt));var St,Ct=typeof dt=="string";Ct||dt instanceof Uint8Array||dt instanceof Uint8ClampedArray||dt instanceof Int8Array||Ss("Cannot pass non-string to std::string"),H&&Ct?St=()=>k(dt):St=()=>dt.length;var ft=St(),It=jC(4+ft+1);if(yt[It>>2]=ft,H&&Ct)F(dt,It+4,ft+1);else if(Ct)for(var ie=0;ie<ft;++ie){var we=dt.charCodeAt(ie);we>255&&(bu(It),Ss("String has UTF-16 code units that do not fit in 8 bits")),ot[It+4+ie]=we}else for(var ie=0;ie<ft;++ie)ot[It+4+ie]=dt[ie];return et!==null&&et.push(bu,It),It},argPackAdvance:8,readValueFromPointer:LC,destructorFunction:function(et){bu(et)}})}function $W(j,N,H){H=$e(H);var et,dt,St,Ct,ft;N===2?(et=G,dt=st,Ct=$,St=()=>Ot,ft=1):N===4&&(et=X,dt=q,Ct=at,St=()=>yt,ft=2),_u(j,{name:H,fromWireType:function(It){for(var ie=yt[It>>2],we=St(),Ye,Pe=It+4,mn=0;mn<=ie;++mn){var js=It+4+mn*N;if(mn==ie||we[js>>ft]==0){var en=js-Pe,Ko=et(Pe,en);Ye===void 0?Ye=Ko:(Ye+="\0",Ye+=Ko),Pe=js+N}}return bu(It),Ye},toWireType:function(It,ie){typeof ie!="string"&&Ss("Cannot pass non-string to C++ string type "+H);var we=Ct(ie),Ye=jC(4+we+N);return yt[Ye>>2]=we>>ft,dt(ie,Ye+4,we+N),It!==null&&It.push(bu,Ye),Ye},argPackAdvance:8,readValueFromPointer:LC,destructorFunction:function(It){bu(It)}})}function tX(j,N){N=$e(N),_u(j,{isVoid:!0,name:N,argPackAdvance:0,fromWireType:function(){},toWireType:function(H,et){}})}function eX(){return Date.now()}var sX=!0;function iX(){return sX}function nX(j){j>4&&(fh[j].refcount+=1)}function oX(j,N){var H=_r[j];return H===void 0&&Ss(N+" has unknown type "+wT(j)),H}function rX(j,N){j=oX(j,"_emval_take_value");var H=j.readValueFromPointer(N);return RC.toHandle(H)}function aX(){_c("")}var IT;IT=()=>performance.now();function lX(j,N,H){ot.copyWithin(j,N,N+H)}function cX(){return 2147483648}function hX(j){try{return v.grow(j-ct.byteLength+65535>>>16),Cs(v.buffer),1}catch{}}function dX(j){var N=ot.length;j=j>>>0;var H=cX();if(j>H)return!1;let et=(It,ie)=>It+(ie-It%ie)%ie;for(var dt=1;dt<=4;dt*=2){var St=N*(1+.2/dt);St=Math.min(St,j+100663296);var Ct=Math.min(H,et(Math.max(j,St),65536)),ft=hX(Ct);if(ft)return!0}return!1}var rE={};function uX(){return a||"./this.program"}function gv(){if(!gv.strings){var j=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",N={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:j,_:uX()};for(var H in rE)rE[H]===void 0?delete N[H]:N[H]=rE[H];var et=[];for(var H in N)et.push(H+"="+N[H]);gv.strings=et}return gv.strings}function fX(j,N){var H=0;return gv().forEach(function(et,dt){var St=N+H;ut[j+dt*4>>2]=St,lt(et,St),H+=et.length+1}),0}function pX(j,N){var H=gv();ut[j>>2]=H.length;var et=0;return H.forEach(function(dt){et+=dt.length+1}),ut[N>>2]=et,0}function mX(j){return 52}function gX(j,N,H,et){return 52}function _X(j,N,H,et,dt){return 70}var vX=[null,[],[]];function yX(j,N){var H=vX[j];N===0||N===10?((j===1?u:f)(T(H,0)),H.length=0):H.push(N)}function bX(j,N,H,et){for(var dt=0,St=0;St<H;St++){var Ct=yt[N>>2],ft=yt[N+4>>2];N+=8;for(var It=0;It<ft;It++)yX(j,ot[Ct+It]);dt+=ft}return ut[et>>2]=dt,0}function CX(j){}function NC(j){return j%4===0&&(j%100!==0||j%400===0)}function wX(j,N){for(var H=0,et=0;et<=N;H+=j[et++]);return H}var AT=[31,29,31,30,31,30,31,31,30,31,30,31],TT=[31,28,31,30,31,30,31,31,30,31,30,31];function xX(j,N){for(var H=new Date(j.getTime());N>0;){var et=NC(H.getFullYear()),dt=H.getMonth(),St=(et?AT:TT)[dt];if(N>St-H.getDate())N-=St-H.getDate()+1,H.setDate(1),dt<11?H.setMonth(dt+1):(H.setMonth(0),H.setFullYear(H.getFullYear()+1));else return H.setDate(H.getDate()+N),H}return H}function EX(j,N,H,et){var dt=ut[et+40>>2],St={tm_sec:ut[et>>2],tm_min:ut[et+4>>2],tm_hour:ut[et+8>>2],tm_mday:ut[et+12>>2],tm_mon:ut[et+16>>2],tm_year:ut[et+20>>2],tm_wday:ut[et+24>>2],tm_yday:ut[et+28>>2],tm_isdst:ut[et+32>>2],tm_gmtoff:ut[et+36>>2],tm_zone:dt?D(dt):""},Ct=D(H),ft={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var It in ft)Ct=Ct.replace(new RegExp(It,"g"),ft[It]);var ie=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],we=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ye(jt,Ie,Ua){for(var vr=typeof jt=="number"?jt.toString():jt||"";vr.length<Ie;)vr=Ua[0]+vr;return vr}function Pe(jt,Ie){return Ye(jt,Ie,"0")}function mn(jt,Ie){function Ua(Ym){return Ym<0?-1:Ym>0?1:0}var vr;return(vr=Ua(jt.getFullYear()-Ie.getFullYear()))===0&&(vr=Ua(jt.getMonth()-Ie.getMonth()))===0&&(vr=Ua(jt.getDate()-Ie.getDate())),vr}function js(jt){switch(jt.getDay()){case 0:return new Date(jt.getFullYear()-1,11,29);case 1:return jt;case 2:return new Date(jt.getFullYear(),0,3);case 3:return new Date(jt.getFullYear(),0,2);case 4:return new Date(jt.getFullYear(),0,1);case 5:return new Date(jt.getFullYear()-1,11,31);case 6:return new Date(jt.getFullYear()-1,11,30)}}function en(jt){var Ie=xX(new Date(jt.tm_year+1900,0,1),jt.tm_yday),Ua=new Date(Ie.getFullYear(),0,4),vr=new Date(Ie.getFullYear()+1,0,4),Ym=js(Ua),FC=js(vr);return mn(Ym,Ie)<=0?mn(FC,Ie)<=0?Ie.getFullYear()+1:Ie.getFullYear():Ie.getFullYear()-1}var Ko={"%a":function(jt){return ie[jt.tm_wday].substring(0,3)},"%A":function(jt){return ie[jt.tm_wday]},"%b":function(jt){return we[jt.tm_mon].substring(0,3)},"%B":function(jt){return we[jt.tm_mon]},"%C":function(jt){var Ie=jt.tm_year+1900;return Pe(Ie/100|0,2)},"%d":function(jt){return Pe(jt.tm_mday,2)},"%e":function(jt){return Ye(jt.tm_mday,2," ")},"%g":function(jt){return en(jt).toString().substring(2)},"%G":function(jt){return en(jt)},"%H":function(jt){return Pe(jt.tm_hour,2)},"%I":function(jt){var Ie=jt.tm_hour;return Ie==0?Ie=12:Ie>12&&(Ie-=12),Pe(Ie,2)},"%j":function(jt){return Pe(jt.tm_mday+wX(NC(jt.tm_year+1900)?AT:TT,jt.tm_mon-1),3)},"%m":function(jt){return Pe(jt.tm_mon+1,2)},"%M":function(jt){return Pe(jt.tm_min,2)},"%n":function(){return`
`},"%p":function(jt){return jt.tm_hour>=0&&jt.tm_hour<12?"AM":"PM"},"%S":function(jt){return Pe(jt.tm_sec,2)},"%t":function(){return"	"},"%u":function(jt){return jt.tm_wday||7},"%U":function(jt){var Ie=jt.tm_yday+7-jt.tm_wday;return Pe(Math.floor(Ie/7),2)},"%V":function(jt){var Ie=Math.floor((jt.tm_yday+7-(jt.tm_wday+6)%7)/7);if((jt.tm_wday+371-jt.tm_yday-2)%7<=2&&Ie++,Ie){if(Ie==53){var vr=(jt.tm_wday+371-jt.tm_yday)%7;vr!=4&&(vr!=3||!NC(jt.tm_year))&&(Ie=1)}}else{Ie=52;var Ua=(jt.tm_wday+7-jt.tm_yday-1)%7;(Ua==4||Ua==5&&NC(jt.tm_year%400-1))&&Ie++}return Pe(Ie,2)},"%w":function(jt){return jt.tm_wday},"%W":function(jt){var Ie=jt.tm_yday+7-(jt.tm_wday+6)%7;return Pe(Math.floor(Ie/7),2)},"%y":function(jt){return(jt.tm_year+1900).toString().substring(2)},"%Y":function(jt){return jt.tm_year+1900},"%z":function(jt){var Ie=jt.tm_gmtoff,Ua=Ie>=0;return Ie=Math.abs(Ie)/60,Ie=Ie/60*100+Ie%60,(Ua?"+":"-")+("0000"+Ie).slice(-4)},"%Z":function(jt){return jt.tm_zone},"%%":function(){return"%"}};Ct=Ct.replace(/%%/g,"\0\0");for(var It in Ko)Ct.includes(It)&&(Ct=Ct.replace(new RegExp(It,"g"),Ko[It](St)));Ct=Ct.replace(/\0\0/g,"%");var Ha=IX(Ct);return Ha.length>N?0:(bt(Ha,j),Ha.length-1)}function SX(j,N,H,et){return EX(j,N,H,et)}Gt(),F1=e.BindingError=J3(Error,"BindingError"),fT=e.InternalError=J3(Error,"InternalError"),SW(),_W(),RW(),CT=e.UnboundTypeError=J3(Error,"UnboundTypeError"),zW();function IX(j,N,H){var et=k(j)+1,dt=new Array(et);return B(j,dt,0,dt.length),dt}var AX={b:TC,a:W3,c:Z3,t:K3,G:hW,i:FW,g:BW,d:GW,f:VW,F:YW,p:XW,h:ZW,j:qW,e:QW,o:JW,m:$W,H:tX,C:eX,B:iX,q:ST,r:nX,k:rX,l:aX,A:IT,E:lX,D:dX,w:fX,x:pX,y:mX,z:gX,s:_X,n:bX,u:CX,v:SX};AC(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.J).apply(null,arguments)};var jC=e._malloc=function(){return(jC=e._malloc=e.asm.K).apply(null,arguments)};e._make_surface_mesh=function(){return(e._make_surface_mesh=e.asm.M).apply(null,arguments)},e._make_manifold_surface_mesh=function(){return(e._make_manifold_surface_mesh=e.asm.N).apply(null,arguments)},e._bevel_vertices_from_edge_indices=function(){return(e._bevel_vertices_from_edge_indices=e.asm.O).apply(null,arguments)},e._bevel_vertices_from_vertex_indices=function(){return(e._bevel_vertices_from_vertex_indices=e.asm.P).apply(null,arguments)},e._bevel_edges=function(){return(e._bevel_edges=e.asm.Q).apply(null,arguments)},e._update_positions=function(){return(e._update_positions=e.asm.R).apply(null,arguments)},e._get_positions=function(){return(e._get_positions=e.asm.S).apply(null,arguments)},e._get_mesh_entities=function(){return(e._get_mesh_entities=e.asm.T).apply(null,arguments)},e._extrude_faces=function(){return(e._extrude_faces=e.asm.U).apply(null,arguments)},e._loopcut_edge=function(){return(e._loopcut_edge=e.asm.V).apply(null,arguments)},e._loopcut_edge_preview=function(){return(e._loopcut_edge_preview=e.asm.W).apply(null,arguments)},e._loopselect_edge=function(){return(e._loopselect_edge=e.asm.X).apply(null,arguments)},e._subdivide_loop=function(){return(e._subdivide_loop=e.asm.Y).apply(null,arguments)},e._subdivide_catmullclark=function(){return(e._subdivide_catmullclark=e.asm.Z).apply(null,arguments)},e._subdivide_mesh=function(){return(e._subdivide_mesh=e.asm._).apply(null,arguments)},e._triangulate3d=function(){return(e._triangulate3d=e.asm.$).apply(null,arguments)},e._triangulate_manifold_mesh=function(){return(e._triangulate_manifold_mesh=e.asm.aa).apply(null,arguments)};var bu=e._free=function(){return(bu=e._free=e.asm.ba).apply(null,arguments)};e._get_location=function(){return(e._get_location=e.asm.ca).apply(null,arguments)},e._get_location_corner=function(){return(e._get_location_corner=e.asm.da).apply(null,arguments)};var PT=e.___getTypeName=function(){return(PT=e.___getTypeName=e.asm.ea).apply(null,arguments)};e.___embind_register_native_and_builtin_types=function(){return(e.___embind_register_native_and_builtin_types=e.asm.fa).apply(null,arguments)};var OT=e.stackSave=function(){return(OT=e.stackSave=e.asm.ga).apply(null,arguments)},MT=e.stackRestore=function(){return(MT=e.stackRestore=e.asm.ha).apply(null,arguments)},aE=e.stackAlloc=function(){return(aE=e.stackAlloc=e.asm.ia).apply(null,arguments)},LT=e.___cxa_is_pointer_type=function(){return(LT=e.___cxa_is_pointer_type=e.asm.ja).apply(null,arguments)};e.dynCall_viijii=function(){return(e.dynCall_viijii=e.asm.ka).apply(null,arguments)},e.dynCall_jiji=function(){return(e.dynCall_jiji=e.asm.la).apply(null,arguments)},e.dynCall_iiiiij=function(){return(e.dynCall_iiiiij=e.asm.ma).apply(null,arguments)},e.dynCall_iiiiijj=function(){return(e.dynCall_iiiiijj=e.asm.na).apply(null,arguments)},e.dynCall_iiiiiijj=function(){return(e.dynCall_iiiiiijj=e.asm.oa).apply(null,arguments)},e.cwrap=I,e.setValue=g,e.getValue=_;var DC;gc=function j(){DC||lE(),DC||(gc=j)};function lE(j){if(Zo>0||(uh(),Zo>0))return;function N(){DC||(DC=!0,e.calledRun=!0,!y&&(bd(),i(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),sp()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),N()},1)):N()}if(e.run=lE,e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return lE(),t.ready}};let ZF=null;async function Xft(){ZF=await Wft()({locateFile(s){return s.endsWith("GeometryWebAssembly.wasm")?Yft:s}})}function Zft(){return ZF}var Kft=Object.defineProperty,qft=(s,t,e)=>t in s?Kft(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Uo=(s,t,e)=>(qft(s,typeof t!="symbol"?t+"":t,e),e);class At{static async loadGeometryModule(){await Xft(),this._geometry=Zft(),this._geometry&&(this._make_manifold_surface_mesh=this._geometry.cwrap("make_manifold_surface_mesh",null,["number","number","number","number","number","number"])),this._geometry&&(this._make_surface_mesh=this._geometry.cwrap("make_surface_mesh",null,["number","number","number","number","number","number"])),this._geometry&&(this._triangulate_manifold_mesh=this._geometry.cwrap("triangulate_manifold_mesh",null,["number","number","number","number","number","number","number","number","number","number"])),this._geometry&&(this._get_mesh_entities=this._geometry.cwrap("get_mesh_entities",null,["number","number","number","number","number","number","number","number","number","number","number","number"])),this._geometry&&(this._update_positions=this._geometry.cwrap("update_positions",null,["number","number","number"])),this._geometry&&(this._get_positions=this._geometry.cwrap("get_positions",null,["number","number","number","number"])),this._geometry&&(this._triangulate3d=this._geometry.cwrap("triangulate3d",null,["number","number","number","number"])),this._geometry&&(this._subdivide_loop=this._geometry.cwrap("subdivide_loop",null,["number","number","number","number","number","number","number","number","number"])),this._geometry&&(this._subdivide_catmull=this._geometry.cwrap("subdivide_catmullclark",null,["number","number","number","number","number","number","number","number","number"])),this._geometry&&(this._subdivide_mesh=this._geometry.cwrap("subdivide_mesh",null,["number","number","number","number","number","number","number"])),this._geometry&&(this._bevel_vertices_from_edge_indices=this._geometry.cwrap("bevel_vertices_from_edge_indices",null,["number","number","number","number","number"])),this._geometry&&(this._bevel_vertices_from_vertex_indices=this._geometry.cwrap("bevel_vertices_from_vertex_indices",null,["number","number","number","number","number"])),this._geometry&&(this._bevel_edges=this._geometry.cwrap("bevel_edges",null,["number","number","number","number","number"])),this._geometry&&(this._loopcut_edge=this._geometry.cwrap("loopcut_edge",null,["number","number","number","number"])),this._geometry&&(this._loopcut_edge_preview=this._geometry.cwrap("loopcut_edge_preview",null,["number","number","number","number","number","number"])),this._geometry&&(this._extrude_faces=this._geometry.cwrap("extrude_faces",null,["number","number","number","number","number","number","number","number","number","number","number"])),this._geometry&&(this._loopselect_edge=this._geometry.cwrap("loopselect_edge",null,["number","number","number","number"]))}static get geometry(){return this._geometry==null&&this.loadGeometryModule(),this._geometry}static triangulate3d(t){return this._triangulate3d==null&&this.loadGeometryModule(),this._triangulate3d(...Object.values(t))}static subdivide_loop(t){return this._subdivide_loop==null&&this.loadGeometryModule(),this._subdivide_loop(...Object.values(t))}static subdivide_catmull(t){return this._subdivide_catmull==null&&this.loadGeometryModule(),this._subdivide_catmull(...Object.values(t))}static subdivide_mesh(t){return this._subdivide_mesh==null&&this.loadGeometryModule(),this._subdivide_mesh(...Object.values(t))}static bevel_vertices_from_vertex_indices(t){return this._bevel_vertices_from_vertex_indices==null&&this.loadGeometryModule(),this._bevel_vertices_from_vertex_indices(...Object.values(t))}static bevel_vertices_from_edge_indices(t){return this._bevel_vertices_from_edge_indices==null&&this.loadGeometryModule(),this._bevel_vertices_from_edge_indices(...Object.values(t))}static bevel_edges(t){return this._bevel_edges==null&&this.loadGeometryModule(),this._bevel_edges(...Object.values(t))}static loopcut_edge(t){return this._loopcut_edge==null&&this.loadGeometryModule(),this._loopcut_edge(...Object.values(t))}static loopcut_edge_preview(t){return this._loopcut_edge_preview==null&&this.loadGeometryModule(),this._loopcut_edge_preview(...Object.values(t))}static extrude_faces(t){return this._extrude_faces==null&&this.loadGeometryModule(),this._extrude_faces(...Object.values(t))}static loopselect_edge(t){return this._loopselect_edge==null&&this.loadGeometryModule(),this._loopselect_edge(...Object.values(t))}static make_manifold_surface_mesh(t){return this._make_manifold_surface_mesh==null&&this.loadGeometryModule(),this._make_manifold_surface_mesh(...Object.values(t))}static make_surface_mesh(t){return this._make_surface_mesh==null&&this.loadGeometryModule(),this._make_surface_mesh(...Object.values(t))}static triangulate_manifold_mesh(t){return this._triangulate_manifold_mesh==null&&this.loadGeometryModule(),this._triangulate_manifold_mesh(...Object.values(t))}static update_positions(t){return this._update_positions==null&&this.loadGeometryModule(),this._update_positions(...Object.values(t))}static get_positions(t){return this._get_positions==null&&this.loadGeometryModule(),this._get_positions(...Object.values(t))}static get_mesh_entities(t){return this._get_mesh_entities==null&&this.loadGeometryModule(),this._get_mesh_entities(...Object.values(t))}static mallocAndSet(t){const e=t.length,i=t.BYTES_PER_ELEMENT,n=this.geometry._malloc(e*i);switch(t.constructor){case Float32Array:this.geometry.HEAPF32.set(t,n/i);break;case Uint16Array:this.geometry.HEAPU16.set(t,n/i);break;case Uint32Array:this.geometry.HEAPU32.set(t,n/i);break;case Int8Array:this.geometry.HEAP8.set(t,n/i);break;case Int16Array:this.geometry.HEAP16.set(t,n/i);break;case Int32Array:this.geometry.HEAP32.set(t,n/i);break}return n}static mallocPtr(){return this.geometry._malloc(4)}static getFloat32Buffer(t,e){return new Float32Array(this.geometry.HEAPF32.buffer,t,e)}static getUint32Buffer(t,e){return new Uint32Array(this.geometry.HEAPU32.buffer,t,e)}static getUint16Buffer(t,e){return new Uint16Array(this.geometry.HEAPU16.buffer,t,e)}static getInt8Buffer(t,e){return new Int8Array(this.geometry.HEAP8.buffer,t,e)}static getInt16Buffer(t,e){return new Int8Array(this.geometry.HEAP16.buffer,t,e)}static getInt32Buffer(t,e){return new Int8Array(this.geometry.HEAP32.buffer,t,e)}static free(...t){for(const e of t)this.geometry._free(e)}}Uo(At,"USE_WASM_MESH",!1);Uo(At,"_geometry",null);Uo(At,"_triangulate3d",null);Uo(At,"_subdivide_loop",null);Uo(At,"_subdivide_catmull",null);Uo(At,"_subdivide_mesh",null);Uo(At,"_bevel_vertices_from_vertex_indices",null);Uo(At,"_bevel_vertices_from_edge_indices",null);Uo(At,"_bevel_edges",null);Uo(At,"_loopcut_edge",null);Uo(At,"_loopcut_edge_preview",null);Uo(At,"_extrude_faces",null);Uo(At,"_loopselect_edge",null);Uo(At,"_make_manifold_surface_mesh",null);Uo(At,"_make_surface_mesh",null);Uo(At,"_triangulate_manifold_mesh",null);Uo(At,"_update_positions",null);Uo(At,"_get_positions",null);Uo(At,"_get_mesh_entities",null);const Qft=(s,t)=>{const e=[],i=new Be;i.setFromNormalAndCoplanarPoint(t,s[0]);const n=new ke;n.setFromUnitVectors(t.clone().negate(),vi);const o=[],a=[1/0,1/0],l=[-1/0,-1/0];return s.forEach(c=>{const h=i.projectPoint(c,new w);h.applyQuaternion(n),o.push(new ee(h.x,h.z)),a[0]=Math.min(a[0],h.x),a[1]=Math.min(a[1],h.z),l[0]=Math.max(l[0],h.x),l[1]=Math.max(l[1],h.z)}),o.forEach(c=>{e.push(new ee(1-(c.x-a[0])/(l[0]-a[0]),(c.y-a[1])/(l[1]-a[1])))}),e};var Jft=Object.defineProperty,$ft=(s,t,e)=>t in s?Jft(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,cP=(s,t,e)=>($ft(s,typeof t!="symbol"?t+"":t,e),e);class tpt extends $n{constructor(){super(),cP(this,"_helperNormal",new w),cP(this,"_cameraWorldDirection",new w)}get isPolygonGeometry(){return!0}_computePolygonNormal(t,e=!1){if(t.length<3)return vi.clone();const i=new w,n=this.triangulate(t),o=new w;for(let a=0;a<n.length-2;a++){const l=[t[n[a+0]],t[n[a+1]],t[n[a+2]]];if(o.crossVectors(new w().subVectors(l[1],l[0]),new w().subVectors(l[2],l[1])),e){if(Math.abs(o.lengthSq())>Number.EPSILON)return o.normalize()}else i.add(o)}return i.normalize()}generatePolygon(t,e,i,n){const o=[];let a;const l=t.length*2+t.length*4,c=3,h=3,d=2,u=3,f=new Float32Array(l*c),p=new Float32Array(l*h),g=new Float32Array(l*d),_=new Float32Array(l*u);let v=0,y=0,b=0,C=0;const x=[],I=(G,st,$,X)=>{x.push(st.length);for(let q=0;q<st.length;q++)f.set([st[q].x,st[q].y,st[q].z],v),p.set($,y),g.set((X==null?void 0:X.length)===st.length?[X[q].x,X[q].y]:[0,0],b),_.set([1,1,1],C),v+=c,y+=h,b+=d,C+=u,x.push(G+q)};n?(this._helperNormal.copy(n.normal),this._computePolygonNormal(t,!0).dot(n.normal)<0&&t.reverse()):t.length>2&&(this._helperNormal=this._computePolygonNormal(t,!1),i&&(i.camera.getWorldDirection(this._cameraWorldDirection),this._helperNormal.dot(this._cameraWorldDirection)>0&&(t.reverse(),this._helperNormal.negate())));const O=this._helperNormal.toArray(),T=this._helperNormal.clone().negate().toArray(),D=e?t.map(G=>new w(G.x+this._helperNormal.x*e,G.y+this._helperNormal.y*e,G.z+this._helperNormal.z*e)):[...t],B=this.triangulate(D);if(!B)return;a=B;const F=new $s(a,1);if(F.array.length===0){this.setIndex(F),console.warn("Can't triangulate.");return}const k=Qft(D,this._helperNormal);if(I(o.length,D,O,k),o.push(...D),e){const G=[...t].reverse(),st=this.triangulate(G);if(!st)return;st.forEach((X,q)=>{st[q]=X+D.length}),a=new Uint32Array(B.length+st.length),a.set(B),a.set(st,B.length);const $=k.map(X=>new ee(X.x,X.y)).reverse();I(o.length,G,T,$),o.push(...G);for(let X=0;X<D.length;X++){const q=(X+1)%D.length,at=D[X],bt=D[q],lt=G[G.length-1-X],ct=G[G.length-1-q],nt=[bt,at,lt,ct],ot=this.triangulate(nt),Et=new w;Et.crossVectors(new w().subVectors(lt,at),new w().subVectors(bt,at));const Ot=Et.toArray();if(!ot)return;ot.forEach((Kt,ye)=>{ot[ye]=Kt+o.length});const ut=new Uint32Array(a.length+ot.length);ut.set(a),ut.set(ot,a.length),a=ut;const yt=[new ee(k[q].x,k[q].y),new ee(k[X].x,k[X].y),new ee(k[X].x,k[X].y),new ee(k[q].x,k[q].y)];I(o.length,nt,Ot,yt),o.push(...nt)}}const Y=new $s(a,1);if(this.setIndex(Y),Y.array.length===0){console.warn("Can't triangulate.");return}this.setAttribute("position",new $s(f,c)),this.setAttribute("normal",new $s(p,h)),this.setAttribute("uv",new $s(g,d)),this.setAttribute("color",new $s(_,u)),this.setAttribute("polygons",new $s(new Uint16Array(x),1))}triangulate(t){const e=new Float32Array(t.length*3);let i=0;for(let u=0;u<t.length;u++)e.set([t[u].x,t[u].y,t[u].z],i),i+=3;const n=e.length,o=At.mallocAndSet(e),a=At.mallocPtr(),l=At.mallocPtr();At.triangulate3d({length_input_positions:n,input_positions:o,length_output_triangles:a,output_triangles:l});const c=At.getUint32Buffer(a,1),h=At.getUint32Buffer(l,1),d=At.getUint32Buffer(h[0],c[0]);return At.free(o,a,l),d}}const ib={MIN:5e-4,MAX:5},nb={MIN:.001,MAX:.1},KF={[Dt.M]:45,[Dt.FT]:50,[Dt.IN]:70,[Dt.CM]:70,[Dt.MM]:90,[Dt.PX]:100};function hP(s,t,e){return ept(s,t,e)}function ept(s,t,e){var o,a,l,c;const i=(h,d,u,f)=>e?spt(h,d,u,f,t.stepSize,t.angleThreshold):qF(h,d,u,f,t.segments),n=[];for(let h=0;h<s.length-1;h++){const d=h,u=h+1,f=s[d].position,p=s[u].position,g=(o=s[d].controls[1])==null?void 0:o.position,_=(a=s[u].controls[0])==null?void 0:a.position;h==0&&n.push(f),g!=null&&_!=null?i(f,g,_,p).forEach(v=>{n.push(v)}):console.error("CurveUtility ~ control point is null in line segment ",h)}if(ipt(s)){const h=s[s.length-1].position,d=s[0].position,u=(l=s[s.length-1].controls[1])==null?void 0:l.position,f=(c=s[0].controls[0])==null?void 0:c.position;u!=null&&f!=null?i(h,u,f,d).forEach(p=>{n.push(p)}):console.error("CurveUtility ~ control point is null in line segment ",s.length-1)}return n}function qF(s,t,e,i,n){const o=[],a=1/n;for(let l=a;l<=1;l+=a){const c=new w(s.x*(1-l)*(1-l)*(1-l)+t.x*3*l*(1-l)*(1-l)+e.x*3*l*l*(1-l)+i.x*l*l*l,s.y*(1-l)*(1-l)*(1-l)+t.y*3*l*(1-l)*(1-l)+e.y*3*l*l*(1-l)+i.y*l*l*l,s.z*(1-l)*(1-l)*(1-l)+t.z*3*l*(1-l)*(1-l)+e.z*3*l*l*(1-l)+i.z*l*l*l);o.push(c)}return o}function spt(s,t,e,i,n,o){const a=[],l=new IZ(s,t,e,i);if(n<ib.MIN||n>ib.MAX)return console.error("CurveUtility ~ stepSize is out of range: ",n),a;if(o<nb.MIN||o>nb.MAX)return console.error("CurveUtility ~ angleThreshold is out of range: ",o),a;const c=Math.ceil(l.length()/n),h=new w,d=new w,u=new w().subVectors(i,s),f=new w().copy(s);for(let p=1;p<=c;p++){const g=l.get(p/c);h.set(g.x,g.y,g.z??0),d.subVectors(h,f);const _=d.angleTo(u);(Math.abs(_)>o||p==c)&&(a.push(h.clone()),u.copy(d),f.copy(h))}return a}function ipt(s){var t;return((t=s[0])==null?void 0:t.controls[0])!=null}function dP(s){return s==null?null:{position:s.position.toArray(),showHandle:s.showHandle}}function QF(s){return{id:s.id,position:s.position.toArray(),controls:[dP(s.controls[0]),dP(s.controls[1])],mirroredControlPoints:s.mirroredControlPoints}}function JF(s){return s?{x:s.normal.x,y:s.normal.y,z:s.normal.z,w:s.constant}:void 0}function c6(s){var i,n;let t=s.position;const e=s.position;return e.x!=null&&(t=[e.x,e.y,e.z],console.debug("Key point position is not Vector3Tuple")),new Jj(s.id,new w(...t),[(i=s.controls[0])!=null&&i.position?new hx(new w(...s.controls[0].position),s.controls[0].showHandle):null,(n=s.controls[1])!=null&&n.position?new hx(new w(...s.controls[1].position),s.controls[1].showHandle):null],s.mirroredControlPoints)}function h6(s){const t=s.length,e=new Float32Array(t*3);if(t===0)return e;for(let i=0;i<t;i++){const n=s[i];e[i*3+0]=n.getComponent(0),e[i*3+1]=n.getComponent(1),e[i*3+2]=n.getComponent(2)}return npt(e)}function npt(s){const t=s.length-3,e=new Float32Array(2*t);for(let i=0;i<t;i+=3)e[2*i]=s[i],e[2*i+1]=s[i+1],e[2*i+2]=s[i+2],e[2*i+3]=s[i+3],e[2*i+4]=s[i+4],e[2*i+5]=s[i+5];return e}function $F(s){return tB(KF[s])}function d6(s){return iB(KF[s])}const opt=ib.MAX,rpt=100,apt=-.02;function tB(s){return P5(opt*Math.pow(rpt,apt*s),ib.MIN,ib.MAX)}const eB=nb.MAX,sB=-.0666;function lpt(s){return Math.log2(s/eB)/sB}function iB(s){return P5(eB*Math.pow(2,sB*s),nb.MIN,nb.MAX)}var nB=Object.defineProperty,cpt=Object.getOwnPropertyDescriptor,hpt=(s,t,e)=>t in s?nB(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,ia=(s,t,e,i)=>{for(var n=i>1?void 0:i?cpt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&nB(t,e,n),n},ph=(s,t,e)=>(hpt(s,typeof t!="symbol"?t+"":t,e),e);class si extends Es{constructor(t,e,i=new Si({color:16777215})){super(t),ph(this,"type",pt.Line),ph(this,"_line"),ph(this,"_params"),ph(this,"_mesh",null),ph(this,"_materialComponent"),ph(this,"_initialMaterial"),ph(this,"_curvePoints",[]),ph(this,"_drawingPlane"),ph(this,"_boundingBoxRevision",0),ph(this,"_boundingBoxCache",new Qr),ph(this,"_boundingSphereCache",new Jr),this._materialComponent=e,this._params=this._parameters;const n=this._params.keyPoints.map(c6);this._curvePoints=hP(n,this.segmentationParameters,this.isAdaptiveSegmentationSupported);const o=new Ef,a=h6(this._curvePoints);o.setPositions(a),o.computeBoundingBox(),o.computeBoundingSphere(),this._boundingBoxRevision++,this._initialMaterial=i,this._line=new Xg(o,i),this.line.userData.id=this.entity.id,this._line.layers.set(ce.CURVE),this.line.updateMatrixWorld(),this._params.curveType==bs.FILL&&this.fillCurve(),this._params.curveType==bs.PIPE&&this.pipeCurve(this._params.radius,this._params.pipeShape),this._params.drawingPlane&&(this._drawingPlane=new Be(new w(this._params.drawingPlane.x,this._params.drawingPlane.y,this._params.drawingPlane.z),this._params.drawingPlane.w)),vt(this)}get boundingBoxRevision(){return this._boundingBoxRevision}get boundingBox(){const t=this._boundingBoxCache.get();return this._boundingBoxRevision,this._line.geometry.computeBoundingBox(),t.copy(this._line.geometry.boundingBox),this._mesh&&this._mesh.geometry&&t.union(this._mesh.geometry.boundingBox),t}get boundingSphere(){const t=this._boundingSphereCache.get();return this._params.keyPoints,this._line.geometry.computeBoundingSphere(),t.copy(this._line.geometry.boundingSphere),this._mesh&&this._mesh.geometry&&t.union(this._mesh.geometry.boundingSphere),t}get line(){return this._line}get isFilled(){return this._mesh!=null}get mesh(){return this._mesh}get meshMaterial(){var t;return(t=this._mesh)==null?void 0:t.material}get material(){return this._materialComponent}get isClosed(){let t=!1;return this._params.keyPoints.length>1&&(t=this._params.keyPoints[0].controls[0]!=null),t}get isPlanar(){return!!this._drawingPlane}get curveType(){return this._params.curveType}get curveSegments(){return this._params.segments}get _parameters(){return this.entity.sceneObject.parameters}get isAdaptiveSegmentationSupported(){return this.curveType!=bs.PIPE&&!!this._parameters.angleThreshold&&!!this._parameters.stepSize}get segmentationQuality(){return lpt(this._params.angleThreshold??d6(this.entity.editor.sceneController.scene.units))}get segmentationParameters(){return{segments:this._params.segments??N0.default,stepSize:this._params.stepSize??$F(this.entity.editor.sceneController.scene.units),angleThreshold:this._params.angleThreshold??d6(this.entity.editor.sceneController.scene.units)}}get polygonHeight(){return this._params.height}get isPipe(){return this._params.curveType==bs.PIPE}get pipeRadius(){return this._params.radius||(this._params.radius=.25),this._params.radius}get pipeShape(){return this._params.pipeShape||(this._params.pipeShape=Og.CIRCLE),this._params.pipeShape}get pipeCap(){return this._params.pipeCap||(this._params.pipeCap=Yc.NONE),this._params.pipeCap}fillCurve(){this.line.remove(this._mesh);const t=this.getPolygonGeometry();return t?(this._mesh=new re(t,new Xr({side:In})),this._mesh.castShadow=!0,this._mesh.receiveShadow=!0,this._mesh.userData.id=this.line.userData.id,this.line.add(this._mesh),this.line.material=Te.lineMaterials.invisibleLineMaterial,this._mesh.updateMatrixWorld(),this._params.curveType=bs.FILL,!0):!1}pipeCurve(t,e){this._params.radius=t??this._params.radius,this._params.pipeShape=e??this._params.pipeShape,this._params.segments=this._params.segments??N0.default,this.line.remove(this._mesh);const i=this.getPipeGeometry();this._mesh=new re(i,new Xr({side:In})),this._mesh.castShadow=!0,this._mesh.receiveShadow=!0,this._mesh.userData.id=this.line.userData.id,this.line.add(this._mesh),this.line.material=Te.lineMaterials.invisibleLineMaterial,this._mesh.updateMatrixWorld(),this._params.curveType=bs.PIPE}toggleHotSpotMaterial(t){t?this.line.material=Te.lineMaterials.hotSpotLineMaterial:this.line.material=this._initialMaterial}updateMeshMaterial(t){this._mesh==null||!t||(this._mesh.material=t)}updatePipe(t,e,i){this.curveType==bs.PIPE&&this._mesh!=null&&(this._params.radius=t,this._params.pipeShape=e,this._params.pipeCap=i,this.isClosed&&(this._params.pipeCap=Yc.NONE))}removeMesh(){this.line.remove(this._mesh),this._mesh=null,this.line.material=this._initialMaterial,this._params.curveType=bs.WIRE,this._boundingBoxRevision++}getPolygonGeometry(){var i;const t=[...this._curvePoints];t.pop();const e=new tpt;if(e.generatePolygon(t,this._params.height,this.entity.editor.viewportController.mainViewport,this._drawingPlane),((i=e.index)==null?void 0:i.count)==0){this.removeMesh();return}return e.computeBoundingBox(),e.computeBoundingSphere(),this._boundingBoxRevision++,e}getDrawingPlane(){return this._drawingPlane}setDrawingPlane(t){this._drawingPlane=t,this._params.drawingPlane={x:t.normal.x,y:t.normal.y,z:t.normal.z,w:t.constant}}getPipeGeometry(){const t=[...this._curvePoints],e=new zft(t,this.isClosed,this.pipeRadius,olt[this.pipeShape],this.pipeCap);return e.generate(),e.computeBoundingBox(),e.computeBoundingSphere(),this._boundingBoxRevision++,e}watch(){this.disposableReactions.push(rt(()=>{this._line.position.copy(this.entity.transform.positionVec),this._line.rotation.copy(this.entity.transform.euler),this._line.scale.copy(this.entity.transform.scaleVec),this._line.updateMatrixWorld()})),this.disposableReactions.push(rt(()=>{this._line.visible=this.entity.sceneObject.isVisible,this.entity.editor.signals.object.sceneGraphChanged.dispatch()})),this.disposableReactions.push(rt(()=>{this._mesh!=null&&(this._mesh.castShadow=this.entity.isEffectivelyCastingShadows)})),this.disposableReactions.push(rt(()=>{this._mesh!=null&&(this._mesh.receiveShadow=this.entity.isEffectivelyReceivingShadows)})),this.disposableReactions.push(rt(()=>{this._mesh!=null&&this._materialComponent.meshMaterial&&(this._mesh.material=this._materialComponent.meshMaterial,this._mesh.material.needsUpdate=!0,this.entity.editor.signals.object.materialUpdated.dispatch())})),this.disposableReactions.push(rt(()=>{if(!this._mesh)return;const{map:t,alphaMap:e,aoMap:i,metalnessMap:n,roughnessMap:o,normalMap:a,displacementMap:l}=this._mesh.material,c=this._materialComponent.flipY;t&&(t.flipY=c),e&&(e.flipY=c),i&&(i.flipY=c),n&&(n.flipY=c),o&&(o.flipY=c),a&&(a.flipY=c),l&&(l.flipY=c),this._mesh.material.needsUpdate=!0})),this.disposableReactions.push(rt(()=>{const t=this._params.keyPoints.map(c6);this._curvePoints=hP(t,this.segmentationParameters,this.isAdaptiveSegmentationSupported);const e=new Ef,i=h6(this._curvePoints);e.setPositions(i),e.computeBoundingSphere(),e.computeBoundingBox(),this.line.geometry=e,Jt(()=>{if(this._boundingBoxRevision++,this._params.curveType==bs.FILL)if(this._mesh==null)this.fillCurve();else{const n=this.getPolygonGeometry();n&&(this._mesh.geometry=n)}else this._params.curveType==bs.PIPE&&(this._mesh==null?this.pipeCurve():this._mesh.geometry=this.getPipeGeometry())}),this._params.drawingPlane&&(this._drawingPlane?this._drawingPlane.setComponents(this._params.drawingPlane.x,this._params.drawingPlane.y,this._params.drawingPlane.z,this._params.drawingPlane.w):this._drawingPlane=new Be(new w(this._params.drawingPlane.x,this._params.drawingPlane.y,this._params.drawingPlane.z),this._params.drawingPlane.w))})),this.disposableReactions.push(Gn(()=>this.polygonHeight,()=>{this.curveType==bs.FILL&&this._mesh&&(this._mesh.geometry=this.getPolygonGeometry()??this._mesh.geometry)},{fireImmediately:!1})),this.disposableReactions.push(Gn(()=>[this.isClosed,this.pipeRadius,this.pipeShape,this.pipeCap],()=>{this.curveType==bs.PIPE&&this._mesh&&(this._mesh.geometry=this.getPipeGeometry())},{fireImmediately:!1}))}}ia([V],si.prototype,"_mesh",2);ia([V],si.prototype,"_boundingBoxRevision",2);ia([M],si.prototype,"boundingBoxRevision",1);ia([M],si.prototype,"boundingBox",1);ia([M],si.prototype,"boundingSphere",1);ia([M],si.prototype,"isClosed",1);ia([M],si.prototype,"polygonHeight",1);ia([M],si.prototype,"isPipe",1);ia([M],si.prototype,"pipeRadius",1);ia([M],si.prototype,"pipeShape",1);ia([M],si.prototype,"pipeCap",1);ia([E],si.prototype,"fillCurve",1);ia([E],si.prototype,"pipeCurve",1);ia([E],si.prototype,"updatePipe",1);ia([E],si.prototype,"removeMesh",1);ia([E],si.prototype,"setDrawingPlane",1);var oB=Object.defineProperty,dpt=Object.getOwnPropertyDescriptor,upt=(s,t,e)=>t in s?oB(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,zb=(s,t,e,i)=>{for(var n=i>1?void 0:i?dpt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&oB(t,e,n),n},da=(s,t,e)=>(upt(s,typeof t!="symbol"?t+"":t,e),e);class uP extends zs{constructor(t="TransformAdapter"){super(),this.type=t}}class zr extends Es{constructor(t,e,i){super(t),this._fontProvider=i,da(this,"type",pt.Text),da(this,"objectType",L.TEXT),da(this,"_text3"),da(this,"_materialComponent"),da(this,"_ppm",72),da(this,"_text3TransformAdapter",new uP),da(this,"_pivotTransformAdapter",new uP),da(this,"_fontUrlCache",""),da(this,"_lastFontFamily",""),da(this,"_lastFontWeight",""),da(this,"_lastUrlKey",""),da(this,"_boundingBoxRevision",0),da(this,"_boundingBoxCache",new Qr),da(this,"_boundingSphereCache",new Jr),da(this,"_disposable",new Zt),this._materialComponent=e,this._text3=new SL,this._text3.rotateX(-Math.PI/2),this._text3TransformAdapter.add(this._text3),this._pivotTransformAdapter.add(this._text3TransformAdapter),this._disposable.add(new tt(()=>this._text3.dispose()));const n=()=>{this._onUpdate()};this._text3.addEventListener("synccomplete",n),this._disposable.add(new tt(()=>{this._text3.removeEventListener("synccomplete",n)})),this._text3.sync(),this._text3.material=e.meshMaterial,this._text3.material.transparent=!0,this._text3.material.depthWrite=!1,this._text3.material.side=In,this._pivotTransformAdapter.layers.set(ce.MESH),this._pivotTransformAdapter.userData.id=this.entity.id,this._pivotTransformAdapter.traverse(o=>{o.layers.set(ce.MESH),o.userData.id=this.entity.id}),vt(this)}get mesh(){return this._pivotTransformAdapter}get material(){return this._materialComponent}get textRenderInfo(){return this._text3.textRenderInfo}get text3(){return this._text3}get textTransformAdapter(){return this._text3TransformAdapter}get textBaseMaterial(){return this._text3.material.baseMaterial}_updateFontUrl(t,e){let i;t===this._lastFontFamily&&e===this._lastFontWeight?i=this._fontUrlCache:AZ.load({google:{families:[`${t}:${e}`]},loading:function(){console.warn("Fonts are being loaded")},active:function(){console.warn("Fonts have been rendered")}});const{fonts:n}=this._fontProvider;let o=n.find(a=>a.family===t);!o&&(console.warn("font family not found:",t),t="Roboto",o=n.find(a=>a.family==="Roboto"),!o)||(Object.keys(o.files).includes(e)||(console.warn("font weight not found:",e),e="regular"),i=o.files[e],i||console.warn("font url:",t,e),this._fontUrlCache=i,this._lastFontFamily=t,this._lastFontWeight=e,this._text3.font=i)}async _updateFontUrlFromUrlKey(t){if(t===this._lastUrlKey)return;const e=await xs(t);if(!e){console.error("url not found:",t);return}this._lastUrlKey=t,this._text3.font=e;const i=document.createElement("style");i.innerHTML=`
      @font-face {
        font-family: ${t};
        src: url(${e});
      }
    `,document.head.appendChild(i)}setFontFromUrl(t){this._text3.font=t,this._text3.sync()}get ppm(){return this._ppm}get computedLineHeight(){return this.parameters.lineHeight==="normal"?this.textRenderInfo?this.textRenderInfo.lineHeight*(this.ppm/this.parameters.fontSize):0:this.parameters.lineHeight}get parameters(){return this.entity.sceneObject.parameters}get computedFontSize(){return this.parameters.fontSize/this._ppm}get computedSize(){const{parameters:t,textRenderInfo:e}=this,{width:i,depth:n}=t;if(!e)return{width:i,height:n};let o=i,a=n;const[l,c,h,d]=e.blockBounds;return i===1/0&&(o=h-l),n===1/0&&(a=d-c),{width:o,height:a}}get blockSize(){const{textRenderInfo:t}=this;if(!t)return{width:0,height:0};const[e,i,n,o]=t.blockBounds;return{width:n-e,height:o-i}}setSize(t){this.parameters.width=t.x,this.parameters.depth=t.z}get boundingBoxRevision(){return this._boundingBoxRevision}get boundingBox(){const t=this._boundingBoxCache.get();this._boundingBoxRevision;const{width:e,height:i}=this.computedSize;return t.min.set(0,0,0),t.max.set(e,0,i),t}get boundingSphere(){const t=this._boundingSphereCache.get();return this.boundingBox.getBoundingSphere(t),t}_onUpdate(){this._updateTransform(),this._boundingBoxRevision++,this.entity.editor.signals.object.sceneGraphChanged.dispatch()}_updateTransform(){this._pivotTransformAdapter.position.copy(this.entity.transform.positionVec);const{textAlign:t,verticalAlign:e}=this.parameters,{width:i,height:n}=this.computedSize;let o=0,a=0;e==="middle"?o=n/2:e==="bottom"&&(o=n),t==="center"?a=i/2:t==="right"&&(a=i),this._text3TransformAdapter.position.x=a,this._text3TransformAdapter.position.z=o,this._pivotTransformAdapter.rotation.copy(this.entity.transform.euler),this._pivotTransformAdapter.scale.copy(this.entity.transform.scaleVec),this._text3TransformAdapter.updateMatrixWorld(),this._pivotTransformAdapter.updateMatrixWorld(),this.entity.highlightComponent.update()}setParameters(t){const{width:e,curveRadius:i,text:n,fontSize:o,fontFamily:a,fontWeight:l,fontId:c,textAlign:h,verticalAlign:d,verticalTrim:u,letterCase:f,lineHeight:p,letterSpacing:g}=t;c?this._updateFontUrlFromUrlKey(c).then(()=>{this._text3.sync()}):this._updateFontUrl(a,l);let _=n;f==="uppercase"?_=n.toUpperCase():f==="lowercase"?_=n.toLowerCase():f==="title-case"&&(_=mpt(n)),this._text3.text=_,this._text3.fontSize=o/this._ppm,this._text3.anchorX=ppt(h),this._text3.anchorY=fpt(u,d),this._text3.textAlign=h,this._text3.letterSpacing=g,this._text3.lineHeight=p,this._text3.maxWidth=e,this._text3.curveRadius=i,this._text3.sync()}watch(){this.disposableReactions.push(rt(()=>{this._pivotTransformAdapter.position.copy(this.entity.transform.positionVec);const{textAlign:t,anchorY:e}=this._text3,{width:i,height:n}=this.computedSize;let o=0,a=0;e==="middle"?o=n/2:e==="bottom"&&(o=n),t==="center"?a=i/2:t==="right"&&(a=i),this._text3TransformAdapter.position.x=a,this._text3TransformAdapter.position.z=o,this._pivotTransformAdapter.rotation.copy(this.entity.transform.euler),this._pivotTransformAdapter.scale.copy(this.entity.transform.scaleVec),this._text3TransformAdapter.updateMatrixWorld(),this._pivotTransformAdapter.updateMatrixWorld(),this.entity.highlightComponent.update()}),rt(()=>{this.setParameters(this.parameters)})),this.disposableReactions.push(Gn(()=>this.parameters.depth,()=>this._onUpdate())),this.disposableReactions.push(rt(()=>{this._text3.castShadow=this.entity.sceneObject.viewSettings.castShadow,this._text3.receiveShadow=this.entity.sceneObject.viewSettings.receiveShadow,this.entity.editor.signals.object.sceneGraphChanged.dispatch()})),this.disposableReactions.push(rt(()=>{this._materialComponent.meshMaterial&&(this._text3.material=this._materialComponent.meshMaterial,this._text3.material.needsUpdate=!0,this.entity.editor.signals.object.materialUpdated.dispatch())})),this.disposableReactions.push(rt(()=>{this._text3.visible=this.entity.sceneObject.isVisible,this.entity.editor.signals.object.sceneGraphChanged.dispatch()})),this.disposableReactions.push(rt(()=>{const{map:t,alphaMap:e,aoMap:i,metalnessMap:n,roughnessMap:o,normalMap:a,displacementMap:l}=this._text3.material,c=this.material.flipY;t&&(t.flipY=c),e&&(e.flipY=c),i&&(i.flipY=c),n&&(n.flipY=c),o&&(o.flipY=c),a&&(a.flipY=c),l&&(l.flipY=c),this._text3.material.needsUpdate=!0}))}dispose(){super.dispose(),this._disposable.dispose()}}zb([E],zr.prototype,"setSize",1);zb([V],zr.prototype,"_boundingBoxRevision",2);zb([M],zr.prototype,"boundingBox",1);zb([M({equals:ja.structural})],zr.prototype,"boundingSphere",1);zb([E],zr.prototype,"_onUpdate",1);function fpt(s,t){return s==="standard"?t:t==="top"?"top-cap":t==="bottom"?"bottom-baseline":t}function ppt(s){return s==="justify"?"left":s}function mpt(s){return s.replace(/\b\w/g,t=>t.toUpperCase())}async function dm(s){const t=hr();if(!s)return null;const i=(await t.graphql({query:vD,variables:{id:s}})).data.getProfile;return i!=null&&i.portrait&&(i.portrait=await xs(i.portrait)),i}var gpt=Object.defineProperty,_pt=(s,t,e)=>t in s?gpt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Ev=(s,t,e)=>(_pt(s,typeof t!="symbol"?t+"":t,e),e);const vpt={position:"absolute",top:"0",left:"0",width:"32px",height:"32px",borderRadius:"100px 100px 100px 0px",backgroundColor:"var(--white)",pointerEvents:"all",boxShadow:"0 0 6px rgba(0, 0, 0, 0.5)",transformOrigin:"bottom left",transition:"all 200ms cubic-bezier(0.225, 0.335, 0.565, 1.335);"},rB={width:"28px",height:"28px",borderRadius:"100%",marginTop:"2px",marginLeft:"2px"},ypt={...rB,fontWeight:"bold",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"};class fP extends Es{constructor(t,e,i,n,o,a){super(t),this.comment=e,this.commentID=i,this.commentController=n,this.viewport=o,this.currentProfileId=a,Ev(this,"_disposable",new Zt),Ev(this,"element"),Ev(this,"commentBubble"),Ev(this,"type",pt.Comment),Ev(this,"_target",new w),e.pinned&&e.position?this._target=new w().fromArray(e.position):console.error(e,"is not attached to object"),this.element=document.createElement("div"),this.element.id="comment-bubble",this.element.className="comment-bubble",this._addProfileImageToElement(),this._applyStyle(this.element,vpt),this.commentBubble=new Ub(()=>"","","Comment"),this.commentBubble.active=!e.archived,this.commentBubble.setElement(this.element),this.commentBubble.active=!e.archived,this.commentBubble.position.copy(this._target),this.commentBubble.layers.set(1),this.commentBubble.userData.id=e.id,this._attach(),this.commentBubble.setViewport(o,!1),this._disposable.add(new tt(()=>{this.commentBubble.removeFromParent(),this.commentBubble.onEnd()}));const l=d=>this._onPointerDown(d),c=d=>this._onMouseEnter(d),h=d=>this._onMouseLeave(d);this.element.addEventListener("pointerdown",l),this.element.addEventListener("mouseenter",c),this.element.addEventListener("mouseleave",h),this._disposable.add(new tt(()=>{this.element.removeEventListener("pointerdown",l),this.element.removeEventListener("mouseenter",c),this.element.removeEventListener("mouseleave",h)}))}_onPointerDown(t){this.commentController.selectComment(this.commentID),t.stopPropagation()}_onMouseEnter(t){this.element.style.transform="scale(1.15, 1.15)"}_onMouseLeave(t){this.element.style.transform="scale(1, 1)"}update(t){this.commentBubble.update(t,!1),this.comment.id===this.commentController.selected&&this.commentController.setSelectedCommentPositionViewport(this.commentBubble.positionViewport)}setActive(t){this.commentBubble.active=t}setPinColor(t){if(t==null)return;const e=this.element.children[0];!e||e.tagName==="img"||(e.style.backgroundColor=t)}_attach(){const t=this.entity.getComponent(Wi);if(t){t.mesh.add(this.commentBubble),this.commentBubble.updateMatrixWorld();return}const e=this.entity.getComponent(zr);if(e){e.mesh.add(this.commentBubble),this.commentBubble.updateMatrixWorld();return}const i=this.entity.getComponent(Fs);if(i){i.mesh.add(this.commentBubble),this.commentBubble.updateMatrixWorld();return}const n=this.entity.getComponent(si);if(n){n.line.add(this.commentBubble),this.commentBubble.updateMatrixWorld();return}}async _addProfileImageToElement(){const t=await dm(this.comment.author);if(t.portrait!=null){const e=document.createElement("img");e.src=t.portrait,e.onerror=()=>{this.element.removeChild(e),this._addAuthorEmailElement(t.email)},this._applyStyle(e,{...rB,objectFit:"cover"}),this.element.appendChild(e)}else this._addAuthorEmailElement(t.email)}_addAuthorEmailElement(t){if(t==null)return;const e=document.createElement("div");e.innerHTML=t.charAt(0).toUpperCase();const i=this.currentProfileId===this.comment.author?"var(--gray40)":this.comment.pinColor;this._applyStyle(e,{...ypt,backgroundColor:i??"var(--gray40)"}),this.element.appendChild(e)}_applyStyle(t,e){for(const[i,n]of Object.entries(e))t.style[i]=n}watch(){}dispose(){super.dispose(),this._disposable.dispose()}}const ob={newShape:new ht.Signal,newImage:new ht.Signal,newModel:new ht.Signal,newBoolean:new ht.Signal,newCamera:new ht.Signal,newSound:new ht.Signal,restoreDeletedObjects:new ht.Signal,duplicate:new ht.Signal,duplicateAndTransform:new ht.Signal,paste:new ht.Signal,frameFitChildren:new ht.Signal,frameConstrainChildren:new ht.Signal,frameToggleAnchor:new ht.Signal,group:new ht.Signal,delete:new ht.Signal,replaceShape:new ht.Signal,ungroup:new ht.Signal,reorder:new ht.Signal,modifyMesh:new ht.Signal,activeState:new ht.Signal,startState:new ht.Signal,addState:new ht.Signal,states:new ht.Signal,name:new ht.Signal,transform:new ht.Signal,isScaleLinked:new ht.Signal,parameters:new ht.Signal,subdivision:new ht.Signal,castShadow:new ht.Signal,receiveShadow:new ht.Signal,side:new ht.Signal,interactions:new ht.Signal,material:new ht.Signal,layerOpacity:new ht.Signal,visibility:new ht.Signal,lock:new ht.Signal,animationActive:new ht.Signal,animationParams:new ht.Signal,behaviors:new ht.Signal,color:new ht.Signal,opacity:new ht.Signal,roughness:new ht.Signal,metalness:new ht.Signal,normal:new ht.Signal,ao:new ht.Signal,displacement:new ht.Signal,materialMap:new ht.Signal,materialMask:new ht.Signal,envMapIntensity:new ht.Signal,materialType:new ht.Signal,advancedEffects:new ht.Signal,text:new ht.Signal,fontSize:new ht.Signal,component:new ht.Signal,onComponentUpdated:new ht.Signal,updateInstances:new ht.Signal,overrideInstances:new ht.Signal,pushInstanceToMain:new ht.Signal,environment:new ht.Signal,environmentOpacity:new ht.Signal,background:new ht.Signal,fog:new ht.Signal,shadow:new ht.Signal,environmentLight:new ht.Signal,ambientLight:new ht.Signal,units:new ht.Signal,spawn:new ht.Signal,showBookmarks:new ht.Signal,sceneActiveState:new ht.Signal,sceneStartState:new ht.Signal,sceneAddState:new ht.Signal,sceneStates:new ht.Signal,newComment:new ht.Signal,updateComment:new ht.Signal,deleteComment:new ht.Signal,undoHistorySubmitted:new ht.Signal,sound:new ht.Signal};function wt(s,t){const e=new CustomEvent("menucommand",{detail:{command:s,param:t}});window.dispatchEvent(e),Ft("editor-command",{command:s})}var aB=Object.defineProperty,bpt=Object.getOwnPropertyDescriptor,Cpt=(s,t,e)=>t in s?aB(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,un=(s,t,e,i)=>{for(var n=i>1?void 0:i?bpt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&aB(t,e,n),n},Mr=(s,t,e)=>(Cpt(s,typeof t!="symbol"?t+"":t,e),e),_A=(s=>(s[s.PLACING=1]="PLACING",s[s.DRAWING=2]="DRAWING",s))(_A||{});const wpt=[it.SELECT,it.COMMENTS];class $i{constructor(t){this.editor=t,Mr(this,"_mode",1),Mr(this,"_comments",new ho({})),Mr(this,"_selectedComment",null),Mr(this,"_popup",null),Mr(this,"shouldShowComments",!0),Mr(this,"_disposable",new Zt),Mr(this,"_commentComponentsByCommentId",{}),Mr(this,"_drawingManager",null),Mr(this,"_isCommentLayerVisible",!1),Mr(this,"_lastActiveTool",null),Mr(this,"_lastSelectedComment",null),Mr(this,"_lastPin",null),Mr(this,"_pinColor"),Mr(this,"activeCommentX",null),Mr(this,"activeCommentY",null),Mr(this,"pointerEventsEnabled",!0),vt(this),this._disposable.add(this._addSignalBindings()),this._pinColor=this._getPinColor()}_addSignalBindings(){const t=[],{signals:e}=this.editor;return t.push(e.history.commentChanged.add(({comments:i})=>{this.applyCommentUpdatesFromHistory(i)})),t.push(e.command.activeToolChanged.add(i=>{this.updateCommentVisibility(i,0)})),t.push(e.presence.presenceAdded.add(({presence:i,colorString:n})=>{var o;for(const[a,l]of this._comments)l.author===i.profileID&&(l.pinColor!=n&&(Eg(a,{...l,pinColor:n}),this.editor.profile&&this.editor.profile.id===l.author&&(this._pinColor=n)),this._commentComponentsByCommentId[a]!=null&&l.author!=((o=this.editor.profile)==null?void 0:o.id)&&this._commentComponentsByCommentId[a].setPinColor(n))})),new tt(()=>{for(const i of t)i.detach()})}get commentsWithReplies(){const t={},e=Array.from(this._comments.entries());for(const[n,o]of e)t[n]={...o,replies:[]};const i=Object.values(t).reduce((n,o)=>(o.parentCommentId!=null&&n[o.parentCommentId]!=null&&!n[o.parentCommentId].replies.includes(o.id)&&n[o.parentCommentId].replies.push(o.id),n),{...t});for(const n in i)i[n].replies.sort((o,a)=>i[o].createdAt-i[a].createdAt);return i}get sortedComments(){return Object.entries(this.commentsWithReplies).reverse()}get selected(){return this._selectedComment}setSelectedCommentPositionViewport({x:t,y:e}){this.activeCommentX=t,this.activeCommentY=e}get mode(){return this._mode}get popup(){return this._popup}get drawingManager(){return this._drawingManager}get pinnedCommentComponents(){return Object.values(this._commentComponentsByCommentId)}get hasUnreadComments(){const t=this.editor.profile.id;return Array.from(this._comments.values()).some(i=>i.seenBy.includes(t)===!1)}setMode(t){t===1?(this._drawingManager&&(this._drawingManager.dispose(),this._drawingManager=null),this._setCommentBubblesVisible(!0)):t===2&&(this._setCommentBubblesVisible(!1),this._drawingManager=new Yut(this.editor.viewportController.mainViewport)),this._mode=t}_markCommentsAsViewed(t){const e=this.editor.profile.id;for(const i of t){if(this._comments.get(i)==null)continue;const n=this._comments.get(i);n!=null&&!n.seenBy.includes(e)&&(n.seenBy.push(e),Eg(i,n))}}onBeginDrawing(){this._lastActiveTool=this.editor.activeTool.id,this._lastSelectedComment=this._selectedComment,this.removePopup(),wt(it.COMMENTS),this.setMode(2)}addCommentDrawing(t,e){this._lastSelectedComment!=null?this.addReply(this._lastSelectedComment,t,e):this._lastPin!=null&&(this.addPinnedComment(this._lastPin.object,this._lastPin.target,t,e),this._lastPin=null)}onEndDrawing(){this._lastActiveTool!=null&&(wt(this._lastActiveTool),this._lastActiveTool=null),this._lastSelectedComment!=null&&(this.selectComment(this._lastSelectedComment),this._lastSelectedComment=null),this.setMode(1)}activate(){if(this.editor.accessController.isLessThan(Z.VIEWER))return;for(const n of Object.keys(this._commentComponentsByCommentId))this._removePinForComment(n);this._commentComponentsByCommentId={};const t=this._comments.values();for(const n of t)this._addPinForComment(n);this.editor.signals.object.sceneGraphChanged.dispatch();const e=ob.delete.add(this._handleObjectDeleted.bind(this)),i=ob.restoreDeletedObjects.add(this._handleObjectRestored.bind(this));this._disposable.add(new tt(()=>{e.detach(),i.detach()}))}exitCommentMode(){this.removePopup(),this.setMode(1),this.editor.signals.object.sceneGraphChanged.dispatch()}dispose(){this.exitCommentMode(),this._disposable.dispose()}undo(){var t;this._mode===2?(t=this._drawingManager)==null||t.undo():this.editor.stateController.undo()}redo(){var t;this._mode===2?(t=this._drawingManager)==null||t.redo():this.editor.stateController.redo()}setComments(t){this._comments.replace(t)}createLocalCommentFromServer(t){this._comments.set(t.id,t),t.pinned&&this._isCommentLayerVisible&&this._addPinForComment(t)}updateLocalCommentFromServer(t){this._comments.set(t.id,t),t.parentCommentId==null&&this._commentComponentsByCommentId[t.id]==null&&this._addPinForComment(t),this._commentComponentsByCommentId[t.id]!=null&&(this._commentComponentsByCommentId[t.id].commentBubble.active=!t.archived,t.pinned===!1&&this._removePinForComment(t.id))}deleteLocalCommentFromServer(t){this._popup!=null&&this._popup.parent===t.id&&this.removePopup(),t.pinned===!0&&this._removePinForComment(t.id),this._comments.delete(t.id)}selectComment(t){var v,y;this._selectedComment=t,this._markCommentsAsViewed([t]);const e=this._comments.get(t);if(!e||!e.pinned||!e.object)return;const i=this.editor.sceneController.getSceneEntityById(e.object);if(!i||!e.position)return;const n=this.editor.viewportController.mainViewport;if(!n)return;n.renderer.domElement;const o=new w().fromArray(e.position);this._localToWorld(i,o,o);const a=n.controls;if(!a||!e.transform)return;const l=new Lt().copy(e.transform),c=new w,h=new ke,d=new w;l.decompose(c,h,d);const u=e.spherical,f=e.focalOffset,p=e.projection,g=e.fov,_=e.zoom;!o||!u||!f||!p||((v=this.editor.viewportController.mainViewport)==null||v.toggleOrthoMode(p),g!=null&&((y=this.editor.viewportController.mainViewport)==null||y.camera.setFov(g),this.editor.fileSettingsController.setCameraFov(g)),a.zoomTo(_,!0),a.setFocalOffset(f.x,f.y,f.z,!0),a.setSpherical(u.radius,u.theta,u.phi,o.x,o.y,o.z,!0),f7(400).then(()=>{const b=n.projectWorldToVP(o);Jt(()=>{i&&(this._popup={target:null,position:{x:b.x,y:b.y},object:i,parent:t})})}))}addReply(t,e,i=null){Ft("new-comment-reply",{hasDrawing:i!=null});const n=this._comments.get(t);if(!this.editor.profile)return;const o=this.editor.profile.id,a=Ht(),l={...n,parentCommentId:t,id:a,author:o,label:"",message:e,position:null,createdAt:Date.now(),replies:[],pinned:!1,seenBy:[o],object:null,drawing:i};this._comments.set(a,l),this._createCommentOnServer(l)}archiveComment(t){Ft("archive-comment");const e=this.commentsWithReplies[t],i=[t,...e.replies];this._updateCommentsOnServer(i,{archived:!0}),this._comments.set(t,{...e,archived:!0}),e.replies.forEach(n=>{const o=this._comments.get(n);this._comments.set(n,{...o,archived:!0})}),this._popup=null,e.pinned===!0&&(this._commentComponentsByCommentId[t].commentBubble.active=!1),e.pinned===!0&&this._commentComponentsByCommentId[e.id].setActive(!1),this.editor.signals.object.sceneGraphChanged.dispatch()}restoreComment(t){Ft("restore-comment");const e=this.commentsWithReplies[t],i=[t,...e.replies];this._updateCommentsOnServer(i,{archived:!1}),this._comments.set(t,{...e,archived:!1}),e.pinned===!0&&this._commentComponentsByCommentId[e.id].setActive(!0),e.replies.forEach(n=>{const o=this._comments.get(n);o!=null&&(this._comments.set(n,{...o,archived:!1}),e.pinned===!0&&(this._commentComponentsByCommentId[t].commentBubble.active=!0))})}deleteComment(t){Ft("delete-comment");const e=[t,...this.commentsWithReplies[t].replies],i=e.map(n=>({id:n,comment:this._comments.get(n)}));e.forEach(n=>{const o=this._comments.get(n);o&&o.pinned===!0&&this._removePinForComment(n),this._comments.delete(n)}),this._deleteCommentsOnServer(i),this._popup=null,this.editor.signals.object.sceneGraphChanged.dispatch()}applyCommentUpdatesFromHistory(t){for(const{id:e,comment:i}of t)if(i==null){const n=this._comments.get(e);n!=null&&this.deleteLocalCommentFromServer(n),mF(e)}else this._removePinForComment(e),this._comments.set(e,i),this._addPinForComment(i),Eg(e,{...i,ttl:0})}addPopupAtTarget(t,e,i){this.removePopup(),this._lastPin={target:e,object:t},this._popup={target:e,position:{x:i.x,y:i.y},object:t},this.setSelectedCommentPositionViewport(i)}removePopup(){this._popup=null,this._selectedComment=null}setPointerEventsEnabled(t){this.pointerEventsEnabled=t}addPinnedComment(t,e,i,n=null){if(this.editor.profile==null)return;Ft("new-comment",{hasDrawing:n!=null});const o=this._createBaseCommentData(i,!0,n);if(!o)return;o.object=t.id;const a=this._worldToLocal(t,e.point);if(!a)return;o.position=a;const l=new fP(t,o,o.id,this,this.editor.viewportController.mainViewport,this.editor.profile.id);t.addComponent(l),this._commentComponentsByCommentId[o.id]=l,this._comments.set(o.id,o),this._popup=null,this._createCommentOnServer(o),this.editor.signals.object.sceneGraphChanged.dispatch(),this._lastPin=null}toggleShouldShowComments(){this.editor.activeTool.id!==it.COMMENTS&&(this.shouldShowComments=!this.shouldShowComments,this._setCommentBubblesVisible(this.shouldShowComments))}updateCommentVisibility(t,e){const i=t===it.COMMENTS||wpt.includes(t)&&this.shouldShowComments&&e===0;i!=this._isCommentLayerVisible&&this._setCommentBubblesVisible(i)}markAllCommentsAsRead(){const t=Array.from(this._comments.keys());this._markCommentsAsViewed(t)}_createCommentOnServer(t){this.editor.stateController.recordBefore({action:P.NEW_COMMENT,comments:[{id:t.id,comment:null}]}),this.editor.stateController.signals.newComment.dispatch({action:P.NEW_COMMENT,comments:[{id:t.id,comment:t}]}),this.editor.stateController.recordAfter({action:P.NEW_COMMENT,comments:[{id:t.id,comment:t}]})}_updateCommentsOnServer(t,e){const i=t.map(o=>({id:o,comment:{...this._comments.get(o)}}));this.editor.stateController.recordBefore({action:P.COMMENT_UPDATE,comments:i});const n=i.map(({id:o,comment:a})=>({id:o,comment:{...a,...e}}));this.editor.stateController.signals.newComment.dispatch({action:P.COMMENT_UPDATE,comments:n}),this.editor.stateController.recordAfter({action:P.COMMENT_UPDATE,comments:n})}_deleteCommentsOnServer(t){const e=t.map(({id:i})=>({id:i,comment:null}));this.editor.stateController.recordBefore({action:P.COMMENT_DELETE,comments:t}),this.editor.stateController.signals.newComment.dispatch({action:P.COMMENT_DELETE,comments:t}),this.editor.stateController.recordAfter({action:P.COMMENT_DELETE,comments:e})}_createBaseCommentData(t,e=!1,i=null){if(!this.editor.profile)return null;const n=this.editor.profile.id,o=this.editor.viewportController.mainViewport,a=o==null?void 0:o.camera,l=o==null?void 0:o.controls;if(!a||!l)return null;const c=a.fov,h=Date.now();return{id:Ht(),label:"",parentCommentId:null,author:n,message:t,position:null,createdAt:h,replies:[],pinned:e,pinColor:this._pinColor,archived:!1,seenBy:[n],object:null,drawing:i,transform:new Lt().copy(a.matrixWorld),target:l.getTarget(),spherical:l.getSpherical(),focalOffset:l.getFocalOffset(),projection:a.isPerspectiveCamera?Xe.PERSPECTIVE:Xe.ORTHOGRAPHIC,fov:c?Math.round(c):null,updatedAt:h,ttl:0,zoom:a.zoom,version:Qg}}_setCommentBubblesVisible(t){t===!0?this.activate():Object.values(this._commentComponentsByCommentId).forEach(e=>{e.dispose()}),this._isCommentLayerVisible=t}_addPinForComment(t){if(!t.pinned||!t.object||!this.editor.profile||this._commentComponentsByCommentId[t.id]!=null)return;const e=this.editor.sceneController.getSceneEntityById(t.object);if(!e)return;const i=new fP(e,t,t.id,this,this.editor.viewportController.mainViewport,this.editor.profile.id);e.addComponent(i),this._commentComponentsByCommentId[t.id]=i}_removePinForComment(t){this._commentComponentsByCommentId[t]!=null&&(this._commentComponentsByCommentId[t].dispose(),delete this._commentComponentsByCommentId[t])}_handleObjectDeleted({ids:t}){for(const e of t){const n=Array.from(this._comments.entries()).filter(([o,a])=>a.object===e&&a.pinned===!0);for(const[o,a]of n){const l=this._comments.get(o);l.pinned=!1,Eg(o,l)}}}_handleObjectRestored({ids:t}){for(const e of t){const n=Array.from(this._comments.entries()).filter(([o,a])=>a.object===e&&a.position!=null&&a.pinned===!1);for(const[o,a]of n){const l=this._comments.get(o);l.pinned=!0,Eg(o,l)}}}_getPinColor(){let t;if(this.editor.presenceController!=null&&this.editor.profile!=null&&(t=this.editor.presenceController.getColorForPlayer(he.sessionID)),t!=null)return t;const e=Object.values(Xl),i=Math.floor(Math.random()*e.length);return e[i].FILL}_worldToLocal(t,e,i){const n=t.getObject3D();if(!n)return null;const o=n.worldToLocal(e);return i&&i.copy(o),o.toArray()}_localToWorld(t,e,i){const n=t.getObject3D();if(!n)return null;const o=n.localToWorld(e);return i&&i.copy(o),o.toArray()}}un([V],$i.prototype,"_mode",2);un([V],$i.prototype,"_selectedComment",2);un([V],$i.prototype,"_popup",2);un([V],$i.prototype,"shouldShowComments",2);un([M.struct],$i.prototype,"sortedComments",1);un([V],$i.prototype,"activeCommentX",2);un([V],$i.prototype,"activeCommentY",2);un([E],$i.prototype,"setSelectedCommentPositionViewport",1);un([M],$i.prototype,"pinnedCommentComponents",1);un([M],$i.prototype,"hasUnreadComments",1);un([E],$i.prototype,"setMode",1);un([E],$i.prototype,"_markCommentsAsViewed",1);un([E],$i.prototype,"setComments",1);un([E],$i.prototype,"createLocalCommentFromServer",1);un([E],$i.prototype,"updateLocalCommentFromServer",1);un([E],$i.prototype,"deleteLocalCommentFromServer",1);un([E],$i.prototype,"selectComment",1);un([E],$i.prototype,"addReply",1);un([E],$i.prototype,"archiveComment",1);un([E],$i.prototype,"restoreComment",1);un([E],$i.prototype,"deleteComment",1);un([E],$i.prototype,"addPopupAtTarget",1);un([E],$i.prototype,"removePopup",1);un([V],$i.prototype,"pointerEventsEnabled",2);un([E],$i.prototype,"setPointerEventsEnabled",1);un([E],$i.prototype,"addPinnedComment",1);const xpt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAArSURBVHgBlcuhAQAwCMAwPt/pnUWS6nTGeopTfBo2TnGKU5ziFKc4xSnuA3LUR7NBddmaAAAAAElFTkSuQmCC";function W5(s){return r.jsx("div",{id:s.id,className:`${s.primary?"icon-primary":"icon"} ${s.className??""}`,onPointerDown:s.onPointerDown,onPointerEnter:s.onPointerEnter,onPointerLeave:s.onPointerLeave,style:s.style,"aria-label":s.ariaLabel??"",children:s.icon})}function Ept({className:s,style:t,width:e,height:i,text:n,disabled:o,selected:a,small:l,rounded:c,mode:h,ariaLabel:d,dataTestId:u,onClick:f,icon:p,textColor:g,cornered:_,...v},y){const b={width:e??40,height:i??40},C={},x={};n!=null&&(b.width=e??"auto",b.padding="0px 32px"),o&&!a&&(b.opacity=.4),l&&(b.height=i??"26px",b.padding="0px 8px",C.width="16px",C.height="16px",x.fontSize="var(--body-2)"),c&&(b.width=b.height,b.borderRadius="100%");const I=h==="primary"||a,O=h==="secondary",T=h==="destructive";return r.jsxs("button",{ref:y,className:`${I?"button-primary":O?"button-secondary":T?"button-destructive":"button"} ${s??""}`,"aria-label":d,"aria-pressed":a??void 0,"data-testid":u,id:"button",onClick:o?void 0:f,style:{...b,...t},...v,children:[p&&r.jsx(W5,{icon:p,style:C,primary:I||T}),p&&n&&r.jsx("div",{id:"button-spacing"}),n&&r.jsx("p",{id:I||T?"button-text-primary":"button-text",className:g?`text-${g}-color`:void 0,style:x,children:n}),_&&r.jsx("img",{id:I?"corner-icon-primary":"corner-icon",src:xpt,alt:""})]})}const Tn=m.memo(m.forwardRef(Ept)),Spt=({src:s,width:t,height:e,alt:i="",className:n="",imageClassName:o="",loadingText:a="Loading",loadingElement:l,onClick:c=()=>{}})=>{const[h,d]=m.useState(!1),u=l??r.jsxs("div",{className:"absolute top-0 flex items-center justify-center bg-gray-100",style:{width:t,height:e},children:[r.jsx(ko,{}),r.jsx(K,{className:"ml-2",children:a})]});return r.jsxs("div",{className:`relative ${n}`,children:[r.jsx("img",{className:o,src:s,alt:i,onClick:c,"aria-hidden":"true",onLoad:()=>{d(!0)},style:{width:t,height:e}}),!h&&u]})},lB=({message:s,drawing:t,onDrawingClick:e,imageWidth:i,imageHeight:n})=>r.jsxs("div",{className:"px-0 pb-2 pt-1",children:[r.jsx(K,{className:"comment-message",nowrap:!0,children:s}),t&&r.jsx(Spt,{className:"mt-3",imageClassName:"object-cover hover:opacity-80",alt:"comment drawing",src:t,width:i,height:n,onClick:e})]}),Ipt="_profilePortraitContainer_t6is1_1",Apt="_stamp_t6is1_10",Tpt="_sm_t6is1_15",Ppt="_md_t6is1_18",Opt="_lg_t6is1_21",s2={profilePortraitContainer:Ipt,stamp:Apt,sm:Tpt,md:Ppt,lg:Opt},Mpt=({className:s,style:t,label:e,portrait:i,size:n="md",...o})=>{const[a,l]=m.useState(!1);return r.jsx("div",{className:W(s2.profilePortraitContainer,i?s2.portrait:s2.stamp,s2[n],s),style:t,...o,children:i&&!a?r.jsx("img",{loading:"lazy",alt:"",src:i,onError:({currentTarget:c})=>{l(!0),c.style.display="none"}}):r.jsx("b",{children:e==null?void 0:e.charAt(0).toUpperCase()})})},F_=m.memo(Mpt);function cB({urlKey:s,onClose:t}){const[e,i]=m.useState(null);m.useEffect(()=>{s&&e==null&&xs(s).then(o=>{i(o||null)})},[s]);const n=m.useMemo(()=>document.getElementById("root"),[]);return!n||!e?null:wb.createPortal(r.jsx("div",{id:"drawing-view-container",onPointerDown:t,children:r.jsx("img",{src:e,alt:""})}),n)}function hB(s){const[t,e]=m.useState(null);return m.useEffect(()=>{dm(s.profileID).then(n=>e(n))},[s.profileID]),r.jsx("div",{className:`font-bold ${s.className??""}`,children:(t==null?void 0:t.fullName)||(t==null?void 0:t.email)})}function dB(s){const t=ji(),[e,i]=m.useState(null),{isHovered:n,hoverProps:o}=Ao({isDisabled:!1}),[a,l]=m.useState(null),[c,h]=m.useState(!1),[d,u]=m.useState(!1),f=s.comment,p=f.author===(t==null?void 0:t.id);function g(){s.onSelect&&s.onSelect(s.id)}m.useEffect(()=>{dm(f.author).then(y=>{i(y)}),f.drawing&&a==null&&xs(f.drawing).then(y=>{l(y||null)})},[f.author,f.drawing]);function _(v){v.stopPropagation(),h(!0)}return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`flex grow flex-col p-2 hover:bg-white/15 active:bg-white/5 ${s.selected?"bg-white/5":""}`,onClick:g,...o,"aria-hidden":"true","data-testid":"comment-card",children:[r.jsx(ii,{children:r.jsxs("div",{className:"flex h-full w-full items-center justify-between text-panelHeader",children:[r.jsxs("div",{className:"flex items-center gap-1 pl-1",children:[e&&r.jsx(F_,{label:e.fullName||e.email,portrait:e.portrait,size:"sm",style:f.pinColor==null||p?{}:{backgroundColor:f.pinColor}}),r.jsx(hB,{profileID:f.author})]}),n||d?r.jsx(Rpt,{commentController:s.commentController,id:s.id,comment:f,onOpenChange:u}):r.jsx(fB,{timestamp:f.createdAt,className:"pr-2"})]})}),r.jsxs("div",{className:"flex flex-col px-2",children:[r.jsx(lB,{message:f.message,drawing:a,onDrawingClick:_,imageWidth:"inherit",imageHeight:"inherit"}),r.jsx(Lpt,{comment:f})]})]}),c&&f.drawing&&r.jsx(cB,{urlKey:f.drawing,onClose:()=>h(!1)})]})}const Lpt=A(({comment:s})=>s.replies.length===0?null:r.jsxs("div",{className:"flex items-center gap-1 invert-[0.4]",children:[r.jsx(K,{children:`${s.replies.length}`}),r.jsx(W5,{icon:rQ})]})),Rpt=A(({commentController:s,id:t,comment:e,onOpenChange:i})=>{const n=ji(),o=e.author===(n==null?void 0:n.id),a=m.useCallback(l=>{switch(l){case"delete":s.deleteComment(t);break;case"archive":s.archiveComment(t);break;case"restore":s.restoreComment(t);break}},[s,t]);return r.jsxs(Qi,{children:[r.jsxs(ed,{label:"More actions",icon:$l,onAction:a,onOpenChange:i,children:[!e.archived&&r.jsx(An,{id:"archive",textValue:"Archive"}),e.archived&&r.jsx(An,{id:"restore",textValue:"Restore"}),o&&r.jsx(An,{id:"delete",textValue:"Delete",className:"text-tomato"})]}),r.jsx(Ji,{placement:"bottom",children:"More actions"})]})}),vA=m.forwardRef(({onKeyDown:s,className:t,placeholder:e},i)=>r.jsx("textarea",{className:`grow resize-none border-hidden bg-gray-80 p-0 pt-1 text-white ${t??""}`,ref:i,placeholder:e??"Type something...",onKeyDown:s,"data-testid":"commentTextInput"}));vA.displayName="CommentTextArea";const uB=({children:s,className:t})=>r.jsx("div",{className:`flex grow flex-col p-3 ${t??""}`,children:s}),fB=({timestamp:s,className:t})=>r.jsx(K,{className:`h-[18px] text-white/60 ${t??""}`,children:_j(s)}),pP={xs:4,s:7,m:10,l:13},mP={light:"#eeeeee",red:"#ff6d6d",yellow:"#ffce51",green:"#6ad475",blue:"#60b5e4",charcoal:"#272727"},gP=8,Sd={x:0,y:0},xc={x:0,y:0};let i2=0,jE=0;const Npt=({editor:s})=>{const{commentController:t}=s,{drawingManager:e}=t,[i,n]=m.useState(null),[o,a]=m.useState(mP.red),[l,c]=m.useState(pP.m),[h,d]=m.useState(!1),[u,f]=m.useState(!1),p=m.useRef(null),g=m.useRef(null);if(m.useEffect(()=>{if(p.current&&!i){const $=window.devicePixelRatio;p.current.width=p.current.offsetWidth*$,p.current.height=p.current.offsetHeight*$;const X=p.current.getContext("2d");X&&e&&(e.context=X),n(X)}},[i,e]),!m.useMemo(()=>document.getElementById("root"),[]))return null;function v($,X){const q=$+Math.PI/2;xc.x=xc.x+Math.sin(q)*X,xc.y=xc.y-Math.cos(q)*X}function y($,X){const q=C($,X);return Math.sqrt(Math.pow(q.x,2)+Math.pow(q.y,2))}function b($,X){const q=C($,X);return Math.atan2(q.y,q.x)}function C($,X){return{x:$.x-X.x,y:$.y-X.y}}function x($){if(h||!i||!e)return;i.lineWidth=l,i.strokeStyle=o,i.lineJoin="round",i.lineCap="round";const q=$.target.getBoundingClientRect();Sd.x=($.clientX-q.left)*window.devicePixelRatio,Sd.y=($.clientY-q.top)*window.devicePixelRatio,i.moveTo(Sd.x,Sd.y),i.beginPath(),xc.x=Sd.x,xc.y=Sd.y,i.stroke(),e.beginStroke({...xc},o,l),f(!0)}function I($){if(h||!u||!i||!e)return;const q=$.target.getBoundingClientRect();Sd.x=($.clientX-q.left)*window.devicePixelRatio,Sd.y=($.clientY-q.top)*window.devicePixelRatio,i2=y(Sd,xc),jE=b(Sd,xc),i2>gP&&(v(jE,i2-gP),i.lineTo(xc.x,xc.y),i.stroke(),e.continueStroke({...xc}),i2=0,jE=0)}function O($){h||!i||!e||(e.endStroke(),f(!1))}function T($){h&&d(!1),c($)}function D($){h&&d(!1),a($)}function B(){d(!h)}function F(){e&&e.reset()}async function k(){if(!p.current||!i)return;const X=!new Uint32Array(i.getImageData(0,0,p.current.width,p.current.height).data.buffer).some(at=>at!==0);let q=null;X||(q=await(e==null?void 0:e.takeScreenshotWithDrawing(p.current))),g.current&&(!X||g.current.value.length>0)&&(t.addCommentDrawing(g.current.value,q),g.current.value="",t.onEndDrawing())}function Y(){t.onEndDrawing()}function G($){$.stopPropagation(),!$.shiftKey&&$.key==="Enter"&&(k(),$.target.blur())}const{mode:st}=t;return s.activeTool.id===R.tool.COMMENTS&&st===_A.DRAWING?r.jsxs("div",{id:"drawing-container",style:{pointerEvents:`${h?"none":"auto"}`},children:[r.jsx("canvas",{id:"drawing-canvas",ref:p,onPointerDown:x,onPointerMove:I,onPointerUp:O,style:{pointerEvents:`${h?"none":"auto"}`,touchAction:`${h?"none":"auto"}`}}),r.jsxs("div",{id:"drawing-toolbar",children:[r.jsxs("div",{id:"drawing-settings",children:[Object.values(pP).map($=>r.jsx(jpt,{size:$,selected:l===$,onClick:()=>T($)},$)),r.jsx("div",{className:"drawing-divider"}),Object.values(mP).map($=>r.jsx(Dpt,{color:$,selected:o===$,onClick:()=>D($)},$)),r.jsx("div",{className:"drawing-divider"}),r.jsx(Tn,{icon:BQ,onClick:B,selected:h}),r.jsx("div",{className:"drawing-divider"}),r.jsx(Tn,{icon:Wy,onClick:F})]}),r.jsxs("div",{id:"drawing-body",children:[r.jsx("div",{id:"drawing-textarea",children:r.jsx(vA,{ref:g,onKeyDown:G})}),r.jsxs("div",{id:"drawing-actions",children:[r.jsx(Tn,{text:"Cancel",mode:"secondary",height:32,onClick:Y}),r.jsx(Tn,{text:"Post",mode:"primary",height:32,width:80,onClick:k})]})]})]})]}):null},pB=A(Npt);function jpt(s){return r.jsx("button",{className:"brush-size-button",onClick:s.onClick,children:r.jsx("div",{className:"brush-size-selected",style:{width:`${s.size+4}px`,height:`${s.size+4}px`,boxShadow:`0 0 0 1px ${s.selected?"var(--lime)":"transparent"}`},children:r.jsx("div",{className:"brush-size",style:{width:s.size,height:s.size}})})})}function Dpt(s){return r.jsx("button",{className:"brush-color-button",onClick:s.onClick,children:r.jsx("div",{className:"brush-color-selected",style:{boxShadow:`0 0 0 1px ${s.selected?"var(--lime)":"transparent"}`},children:r.jsx("div",{className:"brush-color",style:{backgroundColor:s.color}})})})}var zt=(s=>(s[s.TOP=0]="TOP",s[s.FRONT=1]="FRONT",s[s.LEFT=2]="LEFT",s[s.RIGHT=3]="RIGHT",s[s.BACK=4]="BACK",s[s.BOTTOM=5]="BOTTOM",s[s.FRONT_RIGHT_TOP=6]="FRONT_RIGHT_TOP",s[s.FRONT_LEFT_TOP=7]="FRONT_LEFT_TOP",s[s.BACK_LEFT_TOP=8]="BACK_LEFT_TOP",s[s.BACK_RIGHT_TOP=9]="BACK_RIGHT_TOP",s[s.FRONT_RIGHT_BOTTOM=10]="FRONT_RIGHT_BOTTOM",s[s.FRONT_LEFT_BOTTOM=11]="FRONT_LEFT_BOTTOM",s[s.BACK_LEFT_BOTTOM=12]="BACK_LEFT_BOTTOM",s[s.BACK_RIGHT_BOTTOM=13]="BACK_RIGHT_BOTTOM",s[s.FRONT_RIGHT=14]="FRONT_RIGHT",s[s.FRONT_LEFT=15]="FRONT_LEFT",s[s.BACK_LEFT=16]="BACK_LEFT",s[s.BACK_RIGHT=17]="BACK_RIGHT",s[s.TOP_RIGHT=18]="TOP_RIGHT",s[s.TOP_LEFT=19]="TOP_LEFT",s[s.TOP_FRONT=20]="TOP_FRONT",s[s.TOP_BACK=21]="TOP_BACK",s[s.BOTTOM_RIGHT=22]="BOTTOM_RIGHT",s[s.BOTTOM_LEFT=23]="BOTTOM_LEFT",s[s.BOTTOM_FRONT=24]="BOTTOM_FRONT",s[s.BOTTOM_BACK=25]="BOTTOM_BACK",s))(zt||{}),Jn=(s=>(s.MAIN="main",s.MINI="mini",s.PLAY="play",s.PUBLISHED="published",s))(Jn||{});const mB=({mmsPerPixel:s,setMmsPerPixel:t})=>{const e=i=>{t(i)};return r.jsxs("div",{className:"my-2 flex flex-row items-center justify-between",children:[r.jsx("div",{className:"body2",children:"Convert 1px to"}),r.jsx(xr,{"aria-label":"Millimeters per pixel",value:s,minValue:.1,shouldHideLabel:!0,maxValue:100,onChange:e,formatOptions:{unit:"millimeter",unitDisplay:"short",style:"unit"}})]})},Fpt=({onClose:s,fileSettingsController:t})=>{const[e,i]=m.useState(t.mmsPerPixel),n=()=>{t.setMMsPerPixel(e),s()};return r.jsx(dn,{title:"Unit Conversion",description:"Set the unit conversion for images and Figma frames imported into Bezi.",submitActionLabel:"Save Changes",onSubmit:n,onClose:s,children:r.jsx(mB,{mmsPerPixel:e,setMmsPerPixel:i})})},Bpt=({fileSettingsController:s})=>(m.useEffect(()=>{const t=()=>{s.isUnitsConversionDialogVisible=!1};s.isUnitsConversionDialogVisible?Bt.open({content:r.jsx(Fpt,{onClose:t,fileSettingsController:s}),option:{onClose:t}}):Bt.close()},[s,s.isUnitsConversionDialogVisible]),null),kpt=A(Bpt),Gpt="https://bezi3d.notion.site/Figma-Integration-956a87a425ed4d108cfd0d16ea2735a1",gB=m.forwardRef((s,t)=>{const{token:e,tokenStatus:i,tokenStatusDescription:n}=s,[o,a]=m.useState({status:i,description:n??""}),[l,c]=m.useState(e);m.useEffect(()=>{c(e)},[e]),m.useEffect(()=>{s.isSavingSettings||a({status:s.tokenStatus,description:s.tokenStatusDescription??""})},[s]);const h=f=>{const p=f.target.value;f.target.value.length<1?a({status:Xi.INVALID,description:"Token cannot be empty"}):a({status:Xi.MISSING,description:""}),c(p)};let d,u;switch(o.status){case Xi.VALID:{d="info",u="Token is active";break}case Xi.INVALID:{d="warn",u=o.description;break}default:d="normal",u=o.description}return r.jsxs("div",{className:"my-4",children:[r.jsx("div",{className:"mb-1 text-body2 font-bold",children:"Figma Token"}),r.jsx(Mi,{ref:t,value:l,size:"sm",onChange:h,placeholder:"ex. figd_123456789ABCDEFG-HIJKL",status:d,statusLabel:u,statusLabelClassName:"text-body2"})]})});gB.displayName="FigmaTokenInput";const Vpt=({onClose:s,fileSettingsController:t})=>{const{integrationsController:e}=Pt(),i=m.useRef(null),[n,o]=m.useState(!1),[a,l]=m.useState((t==null?void 0:t.mmsPerPixel)||0),{token:c,isLoadingToken:h}=e.figma,[d,u]=m.useState({status:Xi.VALID,description:""});if(m.useEffect(()=>{u({status:e.figma.tokenStatus,description:e.figma.tokenStatusDescription})},[e.figma.tokenStatus,e.figma.tokenStatusDescription]),!e.isIntegrationSettingsVisible&&!e.isFigmaTokenDialogVisible)return null;const f=async()=>{if(i.current!=null&&i.current.value.length>0){o(!0);const p=i.current.value;let g=e.figma.tokenStatus;if(p!==e.figma.token){const _=await e.updateFigmaToken(p);g=_.tokenStatus,u({status:g,description:_.description})}t&&a!==t.mmsPerPixel&&t.setMMsPerPixel(a),o(!1),g===Xi.VALID&&s()}};return r.jsxs("div",{className:"my-1",children:[r.jsx("div",{className:"text-body1 font-bold",children:"Figma Integration"}),r.jsx("div",{className:"body2 text-white opacity-50",children:"Import Figma frames into Bezi"}),!h&&r.jsx(gB,{token:c,tokenStatus:d.status,tokenStatusDescription:d.description,isSavingSettings:n,ref:i}),r.jsx("a",{className:"mb-1 w-80 text-body2 font-bold text-t-secondary hover:text-white",href:Gpt,target:"_blank",rel:"noreferrer",children:"How do I get my Figma token?"}),t&&r.jsxs(r.Fragment,{children:[r.jsx("hr",{className:"-mx-6 my-5"}),r.jsx(mB,{mmsPerPixel:a,setMmsPerPixel:l})]}),r.jsxs("div",{className:"mt-5 flex flex-row items-center justify-between",children:[r.jsx(Tt,{variant:"secondary",size:"sm",className:"mr-2",onClick:s,children:"Cancel"}),r.jsx(Tt,{variant:"primary",size:"sm",className:"disabled:opacity-disabled",onClick:f,disabled:n,children:"Save Changes"})]})]})},_P=A(Vpt),Hpt=A(({integrationsController:s})=>(m.useEffect(()=>{const t=()=>{s.isUnityDialogVisible=!1};s.isUnityDialogVisible?Bt.open({content:r.jsx(_B,{}),option:{onClose:t}}):Bt.close()},[s,s.isUnityDialogVisible]),null)),_B=A(()=>{const{integrationsController:s}=Pt(),t=s.bezelToken,[e,i]=m.useState(""),[n,o]=m.useState(!1),[a,l]=m.useState({status:Xi.VALID,description:""}),[c,{toggle:h,toggleOn:d}]=ss(!1);m.useEffect(()=>{l({status:t.tokenStatus,description:t.tokenStatusDescription}),i(t.token)},[t.token,t.tokenStatus,t.tokenStatusDescription]);const u=async()=>{if(a.status!=Xi.VALID){const g="bezi-"+Ht(),_=await s.updateBezelToken(g,!0);l({status:_.tokenStatus,description:_.description}),i(t.token),d()}};function f(){navigator.clipboard.writeText(e),o(!0)}const p=async()=>{if(a.status==Xi.VALID){const g=await s.revokeBezelToken();l({status:g.tokenStatus,description:g.description}),i(t.token),o(!1)}};return s.isUnityDialogVisible?r.jsx("div",{children:r.jsxs("div",{children:[r.jsx("div",{className:"text-body1 font-bold",children:"Unity Integration"}),r.jsx("div",{className:"body2 h-6 text-white opacity-50",children:"Connect your Bezi account with Unity"}),r.jsx("div",{className:"text-body2 font-bold",children:"Access token"}),r.jsx("div",{className:"body2 pb-2 text-white opacity-50",children:"This token allows you to access your own data via the Bezi API. Do not share your personal access token with anyone. After creating a token, you can copy and paste it into Unity."}),a.status==Xi.VALID?r.jsxs(r.Fragment,{children:[r.jsx("div",{children:r.jsx(Mi,{type:c?"text":"number",placeholder:"***********************",size:"sm",value:e,rightIcon:c?f$:u$,onRightIconClick:h,background:"none",required:!0})}),r.jsxs("div",{className:"flex h-auto flex-row items-center justify-between gap-2 py-2",children:[r.jsx("div",{className:"flex h-6.5 w-full max-w-[211px] cursor-text items-center justify-start"}),r.jsx("div",{className:"w-auto",children:r.jsx(Tt,{type:"reset",variant:"auto",size:"sm",style:{color:"tomato"},onClick:p,children:r.jsx(K,{children:"Revoke"})})}),r.jsx("div",{className:"w-auto",children:r.jsx(Tt,{variant:"primary",size:"sm",className:"h-6 grow",onClick:f,leftIcon:n?ps:void 0,children:r.jsx(K,{children:n?"Copied":"Copy token"})})})]})]}):r.jsxs("div",{className:"flex h-auto flex-row items-center justify-between gap-2 py-2",children:[r.jsx("div",{className:"w-auto",children:r.jsx(Tt,{variant:"primary",size:"sm",className:"h-6 grow",onClick:u,children:r.jsx(K,{children:"Create token"})})}),r.jsx("div",{className:"flex h-6.5 w-full max-w-[111px] cursor-text items-center justify-start"})]})]})}):null}),Upt={width:"370px",height:"1px",background:"var(--gray60)"},zpt=({fileSettingsController:s})=>{const{integrationsController:t}=Pt();return m.useEffect(()=>{t.isIntegrationSettingsVisible?Bt.open({content:r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mb-2 text-h4 font-bold",children:"Integration settings"}),r.jsx(_B,{}),r.jsx("div",{style:Upt}),r.jsx(_P,{onClose:()=>{t.isIntegrationSettingsVisible=!1},fileSettingsController:s})]}),option:{onClose:()=>{t.isIntegrationSettingsVisible=!1}}}):t.isFigmaTokenDialogVisible?Bt.open({content:r.jsx(_P,{onClose:()=>t.isFigmaTokenDialogVisible=!1,fileSettingsController:s}),option:{onClose:()=>{t.isFigmaTokenDialogVisible=!1}}}):Bt.close()},[s,t,t.isIntegrationSettingsVisible,t.isFigmaTokenDialogVisible]),null},vB=A(zpt);function yA(s,t){return`${s}`}function ym(s){return s.split("--")[0]}let Zd=null;const rb=hr();async function s1(s){try{const e=(await rb.graphql({query:Xlt,variables:{id:s}})).data.getAsset;if(!e)throw new Error(`Fetching asset failed. Asset id: ${s}`);return X5(e)}catch(t){console.error(t)}}async function yB(s){try{return(await Promise.all(s.map(e=>s1(e)))).filter(as.isDefined)}catch(t){return console.error(t),[]}}async function u6(s){try{return s1(ym(s))}catch(t){console.error(t)}}async function bA(s,t,e,i,n,o=-1,a,l,c=[]){var f,p;let h;(t||e||i||n)&&(h={type:{eq:s},...i,...n&&{name:{contains:n}}});let d=[],u;try{Zd==null||Zd.stop();const g=rb.graphql({query:Qlt,variables:{team:t,filter:h,...a&&{nextToken:a}}});Zd=$g(g);const _=await Zd.start();if(d=[...c,...(((f=_.data.assetsByTeam)==null?void 0:f.items)||[]).filter(Boolean)],u=(p=_.data.assetsByTeam)==null?void 0:p.nextToken,(o===-1||d.length<o)&&u)return await bA(s,t,e,i,n,o,u,l,d);const v=bB(d);return l==null||l.addAssets(v),[v,u]}catch(g){rb.isCancelError(g)||console.error(g)}}async function B_(s,t,e,i,n,o=-1,a,l,c=[]){var f,p;let h;(t||e||i||n)&&(h={type:{eq:s},...t&&{team:{contains:t}},...i,...n&&{name:{contains:n}}});let d=[],u;try{Zd==null||Zd.stop();const g=rb.graphql({query:Jlt,variables:{file:e,filter:h,...a&&{nextToken:a}}});Zd=$g(g);const _=await Zd.start();if(d=[...c,...(((f=_.data.assetsByFile)==null?void 0:f.items)||[]).filter(Boolean)],u=(p=_.data.assetsByFile)==null?void 0:p.nextToken,(o===-1||d.length<o)&&u)return await B_(s,t,e,i,n,o,u,l,d);const v=bB(d);return l==null||l.addAssets(v),[v,u]}catch(g){rb.isCancelError(g)||console.error(g)}}function X5(s){const{type:t,team:e,file:i,source:n,data:o,tags:a,preview:l,...c}=s;return{...c,...t&&{type:t},...e&&{team:e},...i&&{file:i},...n&&{source:n},...o&&{data:JSON.parse(o)},...a&&{tags:JSON.parse(a)},...l&&{preview:JSON.parse(l)}}}function bB(s){return s.filter(as.isDefined).map(t=>X5(t))}const CB=hr();async function ab(s,t,e=ON){const{id:i,name:n,description:o,type:a,team:l,file:c,source:h,data:d,tags:u,preview:f,isPrivate:p,lastWriter:g,createdAt:_,updatedAt:v}=s;try{const y=Xt.docClient;if(!y)throw new Error("DynamoDBDocumentClient client not found");const b=new Date().toISOString(),C={...Kit,id:i||_t(),createdAt:_||b,updatedAt:v||b,...n&&{name:n},...o&&{description:o},...a&&{type:a},...l&&{team:l},...c&&{file:c},...h&&{source:h},...d&&{data:d},...u&&{tags:u},...f&&{preview:f},...p!==void 0&&{isPrivate:p},...g&&{lastWriter:g},__typename:"Asset"};await y.send(new Ho({TableName:e,Item:C}));const x=X5(C);return t==null||t.addAsset(x),x}catch(y){console.error(y)}}async function qc(s,t){try{t==null||t.updateAsset(X5(s)),await CB.graphql({query:cct,variables:{input:s}})}catch(e){console.error(e)}}async function Ypt(s,t){return Promise.all(s.map(e=>qc(e,t)))}async function yy(s,t){try{t==null||t.deleteAsset(s),await CB.graphql({query:hct,variables:{input:{id:s}}})}catch(e){console.error(e)}}async function Wpt(s,t,e,i){const{type:n,data:o}=s;if(n===Ae.COMPONENT){if(!o||o.length<0)throw new Error("Improper data of component");const a=[],l=[],c=await eA(o),h=Hb(c,t,e,i),d={},u={};for(const f of o){const p=_t();u[f.id]=p;const g={...f,id:p,lastUpdated:Date.now(),lastWriter:he.sessionID,isInstance:!1,asset:null,assetSource:null};if(f.urlKey){a.push(f.urlKey);const _=_t();g.urlKey=_,l.push(_)}om(g,h),d[p]=g}for(const f of Object.values(d)){const p=f.parent;p&&(f.parent=u[p])}return await F5(a,l),d}return null}async function Xpt(s,t,e,i=!1,n,o){const{name:a,description:l,type:c,source:h,data:d,preview:u,tags:f}=s;try{if(c===Ae.COMPONENT){if(!d||d.length<0)throw new Error("Improper data of component");const p=_t(),g=await eA(d),_=Hb(g,t,e,void 0,i,n,o),v={[s.id]:p},y={},b=[];for(const x of d){const I=my(t);y[x.id]=I;const O={...x,id:I,lastUpdated:Date.now(),lastWriter:he.sessionID,isInstance:!1,asset:yA(p,I),assetSource:null};om(O,_),b.push(O)}for(const x of b){const I=x.parent;I&&(x.parent=y[I])}return{asset:await ab({id:p,name:a,description:l,type:c,team:e,file:t,source:h?b[0].id:"",data:JSON.stringify(Object.values(b)),isPrivate:!0,lastWriter:he.sessionID,preview:JSON.stringify(u),tags:JSON.stringify(f)},void 0,o==="main"?AN:ON),assetHashMap:v,compSourceHashMap:y,materialHashMap:_}}}catch(p){console.error(p);return}}async function Zpt(s,t,e,i=!1,n,o){const a=await Promise.all(s.map(u=>Xpt(u,t,e,i,n,o))),l=[];let c={},h={},d={};for(const u of a)!u||!u.asset||(s.push(u.asset),h={...h,...u.assetHashMap},d={...d,...u.compSourceHashMap},c={...c,...u.materialHashMap});return{assets:l,assetHashMap:h,compSourceHashMap:d,materialHashMap:c}}async function Kpt(s,t,e,i,n=!1,o,a){try{const l=await B_(Ae.COMPONENT,t,s,null,null);return l?Zpt(l[0],e,i,n,o,a):{assets:[],assetHashMap:{},compSourceHashMap:{},materialHashMap:{}}}catch(l){return console.error(l),{assets:[],assetHashMap:{},compSourceHashMap:{},materialHashMap:{}}}}function wB(s,t,e,i){const n=ym(s.sceneObject.asset),a=(i??t.componentsController.collectSceneObjects(s)).map(c=>({...c,isInstance:!1,assetVersion:Date.now(),...e}));TL(async()=>{var d,u;const c=await s1(n);if(!c)return;const h=(d=c==null?void 0:c.preview)!=null&&d.camera?{direction:c.preview.camera.direction}:null;await qc({id:n,data:JSON.stringify(a)},t.assetController),Qpt({assetId:n,cameraProps:h,entities:[s],previewUrlKey:(u=c.preview)==null?void 0:u.urlKey})},Hit)()}async function xB(s,t){const e=ym(s.asset);await qc({id:e,source:""},t.assetController)}let S0=null;function qpt(s){S0=s}function CA(){return S0}const Qpt=y_(s=>EB(s.assetId,s.cameraProps,s.entities,s.previewUrlKey),Uit),EB=async(s,t,e,i)=>{if(!S0)return;S0.cameraProps=t,S0.addEntities(e);const n=await S0.capture(i);return qc({id:s,preview:JSON.stringify(n)}),n},Jpt=({editor:s,asset:t,onClose:e})=>{var y;const{onComponentUpdate:i}=vd(s),[n,{toggleOff:o}]=ss(!0),[a,l]=m.useState(0),[c,h]=m.useState((t==null?void 0:t.name)||""),d=m.useRef(null),u=CA(),f=m.useCallback(b=>{h(b.target.value)},[]),p=m.useCallback(()=>{Bt.close(),e()},[e]),g=m.useCallback(async()=>{if(c)try{p(),be.open({id:_t(),icon:r.jsx(ko,{}),text:"Saving changes to library...",options:{autoHide:!1}});const b=await(u==null?void 0:u.capture());i({id:t.id,name:c,preview:JSON.stringify(b)}),be.open({id:_t(),text:`"${c}" uploaded to library`})}catch(b){be.open({id:_t(),text:"Editing component failed"}),console.error(b)}},[t.id,u,p,c,i]),_=m.useCallback(b=>{l(b)},[]),v=m.useCallback(()=>{o()},[o]);return m.useEffect(()=>{var b;if(!(!d.current||!u))return u.cameraProps=((b=t.preview)==null?void 0:b.camera)||null,u.appendToDOM(d.current),u.addObjects(t.data,_,v),u.controls.enableRotate=!0,u.start(!0),()=>{u.appendToDOM(),u.stop()}},[t.data,(y=t.preview)==null?void 0:y.camera,u,v,_]),r.jsxs(dn,{title:"Edit component",submitActionLabel:"Save Changes",onSubmit:g,onClose:p,isDisabledSubmit:!c,children:[r.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[r.jsx("p",{className:"text-body2 opacity-60",children:"Preview image"}),r.jsxs("div",{className:"relative flex h-64 w-full items-center justify-center bg-canvas",children:[n&&r.jsxs("div",{className:"flex gap-2 opacity-60",children:[r.jsx(ko,{size:10}),r.jsxs("span",{className:"text-body2",children:["Loading asset... ",a.toFixed(0),"%"]})]}),r.jsx("div",{ref:d,className:W("absolute h-full w-full",{invisible:n})})]}),r.jsx("p",{className:"text-body2 opacity-60",children:"Click and drag to rotate view"})]}),r.jsxs("div",{className:"my-2 flex items-center gap-5",children:[r.jsx("p",{children:"Name *"}),r.jsx(Mi,{className:"w-0 flex-grow",size:"sm",placeholder:"Name of asset",value:c,status:c?"normal":"error",onChange:f,required:!0})]})]})},$pt=A(Jpt),tmt=({editor:s,teamId:t,fileId:e,asset:i,onClose:n})=>{var I;const{onHDRICreate:o,onHDRIEdit:a}=vd(s),[l,c]=m.useState((i==null?void 0:i.name)||""),[h,d]=m.useState(),[u,f]=m.useState(null),p=m.useMemo(()=>!!i,[i]),g=m.useCallback(O=>{c(O.target.value)},[]),_=m.useCallback(O=>{d(O)},[]),v=m.useCallback(O=>{f(O)},[]),y=m.useCallback(()=>{Bt.close(),n==null||n()},[n]),b=m.useCallback(()=>{if(!l||!h)return;const O=u?uA(h):null,T=Hr({text:p?"Saving changes to library...":`Uploading "${l}" to library...`,options:{autoHide:!1}},{text:p?"Saved changes to library":`Uploaded "${l}" to library`},{text:p?"Failed editing HDRI":"Failed creating HDRI"});try{if(y(),p)a(i.id,l,O,u);else{if(!O||!u||!t||!e)throw Error("Not enough data for creating HDRI...");o(l,O,u,t,e)}T.success()}catch(D){T.fail(),console.error(D)}},[l,h,u,y,p,a,i,t,e,o]),C=[Pn.HDR,Pn.EXR,Pn.JPG,Pn.JPEG],x=`File (${C.join(", ").toUpperCase()})`;return r.jsxs(dn,{title:"Upload HDRI",description:x,submitActionLabel:"Save",isDisabledSubmit:!l||!h,onSubmit:b,onClose:y,children:[r.jsx(av,{className:"!h-44",type:Bh.HDRI,initialPreviewUrlKey:(I=i==null?void 0:i.preview)==null?void 0:I.urlKey,accept:C,onPreviewChange:_,onImport:v}),r.jsxs("div",{className:"my-2 flex items-center gap-5",children:[r.jsx("p",{children:"Title *"}),r.jsx(Mi,{className:"w-0 flex-grow",size:"sm",placeholder:"Name of asset",value:l,status:l?"normal":"error",onChange:g,onSubmit:b,required:!0})]})]})},vP=A(tmt),emt=({editor:s,teamId:t,fileId:e,asset:i,onClose:n})=>{var b;const{onSoundCreate:o}=vd(s),[a,l]=m.useState((i==null?void 0:i.name)||""),[c,h]=m.useState(null),d=m.useMemo(()=>!!i,[i]),u=m.useCallback(C=>{},[]),f=m.useCallback(C=>{h(C),l(C.name)},[]),p=m.useCallback(C=>{l(C.target.value)},[]),g=m.useCallback(()=>{Bt.close(),n==null||n()},[n]),_=m.useCallback(()=>{if(!a)return;const C=Hr({text:d?"Saving changes to library...":`Uploading "${a}" to library...`,options:{autoHide:!1}},{text:d?"Saved changes to library":`Uploaded "${a}" to library`},{text:d?"Failed editing audio":"Failed creating audio"});try{if(g(),!c||!t||!e)throw Error("Not enough data for creating audio...");o(a,c,t,e).then(x=>{x&&s.soundController.addSoundAssetByUploadedFile(x,c)}),C.success()}catch(x){C.fail(),console.error(x)}},[a,d,g,c,t,e,o,s.soundController]),v=[Pn.MP3,Pn.WAV],y=`File (${v.join(", ").toUpperCase()})`;return r.jsxs(dn,{title:"Upload audio",description:y,submitActionLabel:"Save",isDisabledSubmit:!a||!c||!t||!e,onSubmit:_,onClose:g,children:[r.jsx(av,{className:"!h-20",type:Bh.Audio,initialPreviewUrlKey:(b=i==null?void 0:i.preview)==null?void 0:b.urlKey,accept:v,onPreviewChange:u,onImport:f}),r.jsxs("div",{className:"my-2 flex items-center gap-5",children:[r.jsx(K,{className:"text-t-secondary",children:"Name *"}),r.jsx(Mi,{className:"w-0 flex-grow",size:"sm",placeholder:"Name of asset",value:a,status:a?"normal":"error",onChange:p,onSubmit:_,required:!0})]})]})},yP=A(emt),smt=({className:s,style:t,editor:e,asset:i,animate:n=!0,...o})=>{var T,D;const{authController:{auth:{isDev:a}}}=Pt(),[l,{toggleOn:c,toggleOff:h}]=ss(!1),[d,{toggleOn:u,toggleOff:f}]=ss(!1),[p,{toggleOff:g}]=ss(!!((T=i.preview)!=null&&T.urlKey)),[_]=Jf([(D=i.preview)==null?void 0:D.urlKey],{}),{onComponentRemove:v,onComponentPlace:y}=vd(e),b=m.useCallback(()=>{y(i.id)},[i,y]),C=m.useCallback(()=>{e.signals.window.viewportActivated.dispatch(e.viewportController.viewports[0])},[e]),x=m.useCallback(()=>{Bt.open({content:r.jsx($pt,{editor:e,asset:i,onClose:C}),option:{onClose:C}})},[e,i,C]),I=m.useCallback(()=>{i.team===uo.BEZI&&!a||v(i.id)},[a,i,v]),O=m.useMemo(()=>[{id:Ht(),text:"Edit",onClick:x},{id:Ht(),text:"Remove",status:"error",onClick:I}],[x,I]);return r.jsxs("div",{className:W("relative m-1 h-auto border-none bg-none p-2 outline-none",{"bg-hovered":l||d},s),style:t,"data-asset":JSON.stringify({id:i.id,preview:_}),onClick:b,onMouseOver:c,onFocus:c,onMouseLeave:h,...o,"aria-label":"AssetLibrary-item",children:[r.jsx("div",{className:W("pointer-events-none relative h-24 w-full overflow-hidden bg-gray-100",{"animate-asset-library-skeleton-load":n&&p}),children:_&&r.jsx("img",{className:W("transition-transform duration-200 h-full w-full object-cover",{"scale-125":l||d}),alt:i.name,src:_,onError:({currentTarget:B})=>{g(),B.style.display="none"},onLoad:g,loading:"lazy"})}),r.jsxs("div",{className:"pointer-events-none flex items-center justify-between gap-2.5 px-0 py-3",children:[r.jsx("p",{className:"mb-0.5 w-0 flex-grow overflow-hidden text-ellipsis whitespace-nowrap text-left text-body2 text-white",children:i.name}),(i.team!==uo.BEZI||a)&&r.jsx(Sr,{className:W("pointer-events-auto",{block:l||d,hidden:!l&&!d}),options:O,width:100,spot:Ds.LEFT_BOTTOM,onOpen:u,onClose:f,children:r.jsx(Oi,{icon:$l})})]})]})},imt=A(smt),nmt=({className:s,style:t,selectedType:e,...i})=>r.jsx("div",{className:W("relative flex h-full w-full flex-col items-center justify-center",s),style:t,...i,children:r.jsxs("div",{className:"flex w-50 flex-col items-center gap-2 opacity-40",children:[r.jsx("p",{className:"text-body2 font-bold",children:e===Ae.COMPONENT?"No components yet":"No materials yet"}),r.jsx("p",{className:"text-center text-body2",children:e===Ae.COMPONENT?"Make something a component and it will show up here":"Save a material to the Library and it will show up here"})]})}),omt=m.memo(nmt),rmt=({className:s,style:t,animate:e=!0,...i})=>r.jsxs("div",{className:W("relative m-1 flex h-auto flex-col gap-2 border-none bg-none p-2 outline-none",s),style:t,...i,children:[r.jsx("div",{className:W("relative h-24 w-full overflow-hidden bg-gray-100",{"animate-asset-library-skeleton-load":e})}),r.jsx("div",{className:W("relative h-6 w-full overflow-hidden bg-gray-100",{"animate-asset-library-skeleton-load":e})})]}),amt=m.memo(rmt),lmt=({className:s,style:t,selectedType:e,...i})=>{const n=m.useMemo(()=>e===Ae.COMPONENT?16:24,[e]);return r.jsx("div",{className:W("relative box-border grid h-full w-full grid-cols-assetLib grid-rows-assetLib overflow-y-auto",s),style:t,...i,children:xb(n,o=>r.jsx(amt,{},`loading-asset-grid-item-${o}`))})},cmt=m.memo(lmt),hmt=({className:s,style:t,editor:e,selectedType:i,isLoading:n,listAssets:o,...a})=>{const l=m.useCallback(()=>{o(!0)},[o]),c=bC(l);return r.jsx("div",{className:W("relative h-0 w-full flex-grow",s),style:t,...a,children:e.assetController.assetArr.length?r.jsx("div",{className:"relative box-border grid h-full w-full grid-cols-assetLib grid-rows-assetLib overflow-y-auto",onScroll:c,children:e.assetController.assetArr.map(h=>r.jsx(imt,{editor:e,asset:h},h.id))}):n?r.jsx(cmt,{selectedType:i}):r.jsx(omt,{selectedType:i})})},dmt=A(hmt),umt=({className:s,style:t,editor:e,selectedTeam:i,selectedFile:n,selectedType:o,searchValue:a,isLoading:l,onSearchValueChange:c,onTypeChange:h,listAssets:d,onClose:u,...f})=>{const p=m.useCallback(_=>{c(_.target.value||null)},[c]),g=m.useCallback(()=>{c(null)},[c]);return r.jsxs("div",{className:W("relative flex h-full w-0 flex-grow flex-col items-center gap-2.5",s),style:t,...f,children:[r.jsxs("div",{className:"relative flex w-full items-center gap-5 px-4 py-3.5",children:[r.jsx(Mi,{className:"w-0 flex-grow [&>div>button]:!bg-transparent [&>div>input]:!p-0 [&>div]:!bg-transparent",placeholder:"Search",value:a||"",size:"sm",leftIcon:jR,rightIcon:a?po:void 0,onChange:p,onRightIconClick:g}),r.jsx(As,{onPress:u,children:po})]}),r.jsx(dmt,{editor:e,selectedType:o,isLoading:l,listAssets:d})]})},fmt=m.memo(umt),pmt=({className:s,style:t,editor:e,...i})=>{const[n,o]=m.useState(null),a=m.useRef(null),l=m.useRef(!1),{onComponentPlace:c}=vd(e),h=m.useCallback(g=>{a.current&&(a.current.style.display=g?"block":"none")},[]),d=m.useCallback((g,_)=>{a.current&&(a.current.style.top=`${_+4}px`,a.current.style.left=`${g+4}px`)},[]),u=m.useCallback(g=>{const _=document.elementFromPoint(g.clientX,g.clientY),v=(_==null?void 0:_.getAttribute("data-asset"))||null;v&&(o(JSON.parse(v)),l.current=!1)},[]),f=m.useCallback(g=>{if(!n)return;const _=document.elementFromPoint(g.clientX,g.clientY),v=_==null?void 0:_.closest("#asset-library-content");h(!0),d(g.clientX,g.clientY),!l.current&&!v&&(c(n.id),l.current=!0,h(!1))},[n,d,c,h]),p=m.useCallback(g=>{var _,v;n&&(h(!1),o(null),l.current&&((v=(_=e.activeTool)==null?void 0:_.placeBehavior)==null||v.createAndSelectMesh()))},[n,e.activeTool,h]);return m.useEffect(()=>(document.addEventListener("pointerdown",u),document.addEventListener("pointermove",f),document.addEventListener("pointerup",p),()=>{document.removeEventListener("pointerdown",u),document.removeEventListener("pointermove",f),document.removeEventListener("pointerup",p)}),[f,p,u]),r.jsx("div",{ref:a,className:W("pointer-events-none fixed z-dragAssetContainer hidden h-14 w-24 -translate-x-1/2 -translate-y-1/2 border-2 border-solid border-lime opacity-60",s),style:t,...i,children:n!=null&&n.preview?r.jsx("img",{className:"h-full w-full",src:n.preview,alt:""}):r.jsx("div",{className:"h-full w-full bg-canvas"})})},mmt=m.memo(pmt),gmt=({selectedFile:s,handleFileChange:t,onClose:e})=>r.jsx("div",{className:"flex h-auto w-full flex-col items-start justify-between",children:r.jsx("div",{children:Object.values(fw).map(i=>{const n=i.charAt(0).toUpperCase()+i.slice(1);let o=i;switch(i){case fw.ALL:o="-";break;default:o=i}return r.jsx("button",{className:`w-full px-4 py-1.5 text-left text-body2 hover:bg-gray-60
                ${i===s||s==="-"&&i===fw.ALL?"bg-lime/20 text-lime":"text-white opacity-60"}
              `,value:o,onClick:t,"aria-label":`AssetLibrary-category-${n}`,children:n},`asset-library-side-bar-${i}`)})})}),_mt=({className:s,style:t,editor:e,files:i,selectedTeam:n,selectedFile:o,onTeamChange:a,onFileChange:l,onClose:c,...h})=>{const d=m.useCallback(u=>{l(u.currentTarget.value||null)},[l]);return m.useEffect(()=>{n!==uo.BEZI&&a(uo.BEZI)},[n,a]),r.jsx("div",{className:W("relative flex h-full w-40 flex-col border-r border-solid border-gray-60",s),style:t,...h,children:r.jsxs("div",{className:"relative flex h-0 w-full flex-grow flex-col",children:[r.jsx("div",{className:"m-1 flex items-center justify-between p-3",children:r.jsx(K,{weight:"strong",className:"truncate",children:Git[uo.BEZI]})}),r.jsxs("div",{className:"relative flex h-full w-full flex-col items-start overflow-y-auto pb-3",children:[r.jsx(gmt,{selectedFile:o,handleFileChange:d,onClose:c}),r.jsx("div",{className:"grow"})]})]})})},vmt=A(_mt),ymt=({className:s,style:t,editor:e,...i})=>{const{files:n,selectedTeam:o,selectedFile:a,selectedType:l,searchValue:c,isLoading:h,onClose:d,onSearchValueChange:u,onTeamChange:f,onFileChange:p,onTypeChange:g,listAssets:_}=yC(e),v=m.useMemo(()=>!a||Vl(a)?(p("-"),"-"):a,[p,a]);return r.jsxs("div",{className:W("pointer-events-none fixed bottom-0 left-0 right-0 top-0 z-assetLibrary",s),style:t,...i,children:[r.jsxs("div",{id:"asset-library-content",className:"pointer-events-auto absolute left-1/2 top-1/2 flex h-4/5 max-h-[600px] w-4/5 max-w-[800px] -translate-x-1/2 -translate-y-1/2 overflow-hidden rounded-lg border border-solid border-gray-60 bg-dialog shadow-popover",children:[r.jsx(vmt,{editor:e,files:n,selectedTeam:o,selectedFile:v,onTeamChange:f,onFileChange:p,onClose:d}),r.jsx(fmt,{editor:e,selectedTeam:o,selectedFile:v,selectedType:l,searchValue:c,isLoading:h,onSearchValueChange:u,onTypeChange:g,onClose:d,listAssets:_})]}),r.jsx("button",{className:"pointer-events-auto h-full w-full",onClick:d}),r.jsx(mmt,{editor:e})]})},bmt=A(ymt),Cmt=({className:s,style:t,...e})=>r.jsx("div",{className:W("relative flex h-full w-full flex-col items-center justify-center bg-gray-90 p-3 ",s),style:t,...e,children:r.jsxs("div",{className:"flex w-50 flex-col items-center gap-2 opacity-40",children:[r.jsx("p",{className:"text-body2 font-bold",children:"No templates yet"}),r.jsx("p",{className:"text-center text-body2",children:"Make a template and it will show up here"})]})}),wmt=m.memo(Cmt),xmt=({className:s,style:t,animate:e=!0,...i})=>r.jsxs("div",{className:W("relative flex h-auto flex-col gap-2 border-none bg-none p-2 outline-none",s),style:t,...i,children:[r.jsx("div",{className:W("relative aspect-templateItem w-full overflow-hidden rounded bg-gray-100",{"animate-template-library-skeleton-load":e})}),r.jsx("div",{className:W("relative h-5 w-full overflow-hidden rounded bg-gray-100",{"animate-template-library-skeleton-load":e})})]}),Emt=m.memo(xmt),Smt=({className:s,style:t,...e})=>{const[i,n]=B3();return r.jsx("div",{ref:i,className:W("scrollbar-hide relative box-border grid h-full w-full grid-cols-templateGrid place-content-start overflow-hidden bg-gray-90 p-3 ",s),style:t,...e,children:xb(n*3,o=>r.jsx(Emt,{},`loading-template-grid-item-${o}`))})},Imt=m.memo(Smt),Amt=({editor:s,asset:t,initialPreviewUrlKey:e})=>{const{onTemplateEdit:i}=vd(s),[n,{toggle:o}]=ss(t.data.isStarterTemplate),[a,l]=m.useState(t.name),[c,h]=m.useState(t.data.mode),[d,u]=m.useState(null),f=m.useMemo(()=>[{label:"3D",value:0},{label:"AR",value:1},{label:"VR",value:2}],[]),p=m.useMemo(()=>a&&c!==-1,[c,a]),g=m.useCallback(C=>{l(C.target.value)},[]),_=m.useCallback(C=>{if(typeof C=="number")return h(C);h(parseInt(C))},[]),v=m.useCallback(C=>{u(C)},[]),y=m.useCallback(()=>{Bt.close()},[]),b=m.useCallback(()=>{if(p)try{y(),i(t.id,a,d,c,n)}catch(C){console.error(C)}},[t.id,p,y,d,n,c,a,i]);return r.jsxs(dn,{title:"Edit template",submitActionLabel:"Save Changes",onSubmit:b,onClose:y,isDisabledSubmit:!p,children:[r.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[r.jsx("p",{className:"text-body2 opacity-60",children:"Preview (.PNG, .JPG or .JPEG)"}),r.jsx(av,{aspectRatio:"16/9",type:Bh.Image,initialPreviewUrlKey:e,accept:[Pn.PNG,Pn.JPG,Pn.JPEG],onImport:v})]}),r.jsxs("div",{className:"mt-2 flex items-center gap-5",children:[r.jsx("p",{className:"text-body2",children:"Name *"}),r.jsx(Mi,{className:"w-0 flex-grow",size:"sm",placeholder:"Name of asset",value:a,status:a?"normal":"error",onChange:g,onSubmit:b,required:!0})]}),r.jsxs("div",{className:"mt-2 flex items-center gap-5",children:[r.jsx("p",{className:"text-body2",children:"Mode *"}),r.jsx(ky,{className:"w-0 flex-grow",options:f,value:c,onChange:_})]}),r.jsx(Pa,{className:"my-2",size:"sm",isSelected:n,onChange:o,children:r.jsx("span",{className:"text-body2",children:"Empty template"})})]})},Tmt=A(Amt),Pmt=[["#E35353","#FFD5D5","#FF7C7C"],["#3E61DE","#DAE1F9","#658EDD"],["#975DF6","#EBDEFF","#B78BFF"]],Omt=({className:s,style:t,editor:e,asset:i,animate:n=!0,...o})=>{var B;const{authController:{auth:{isDev:a}}}=Pt(),l=wY(i.file),[c]=Jf([((B=i.preview)==null?void 0:B.urlKey)||(l==null?void 0:l.screenshotUrlKey)],{}),{hoverProps:h,isHovered:d}=Ao({}),[u,{toggleOn:f,toggleOff:p}]=ss(!1),[g,{toggleOff:_}]=ss(!0),{onTemplateRemove:v,onTemplateSelect:y}=vd(e),[b,C,x]=m.useMemo(()=>{const{mode:F,isStarterTemplate:k}=i.data,Y=Pmt[F];return[k,Y,F===0?"3D":F===1?"AR":"VR"]},[i.data]),I=m.useCallback(()=>{l&&(b&&Ft("template-selected",{mark:x}),y(l.id))},[l,b,x,y]),O=m.useCallback(()=>{var F;Bt.open({content:r.jsx(Tmt,{editor:e,asset:i,initialPreviewUrlKey:((F=i.preview)==null?void 0:F.urlKey)||(l==null?void 0:l.screenshotUrlKey)})})},[e,i,l==null?void 0:l.screenshotUrlKey]),T=m.useCallback(()=>{i.team!==uo.BEZI||!a||v(i.id)},[a,i,v]),D=m.useMemo(()=>[{id:Ht(),text:"Edit",onClick:O},{id:Ht(),text:"Remove",status:"error",onClick:T}],[O,T]);return r.jsxs("div",{...h,className:W("relative flex h-auto flex-col gap-2 border-none bg-none p-2 outline-none",{"bg-hovered":d||u},s),style:t,onClick:I,...o,children:[b?r.jsx("div",{className:W("pointer-events-none relative flex aspect-templateItem w-full items-center justify-center overflow-hidden rounded-lg border-2 bg-gray-100",{"animate-template-library-skeleton-load":n&&!l}),style:{borderColor:C[0],backgroundColor:C[1]},children:r.jsx("span",{className:"flex h-14 w-14 items-center justify-center rounded-lg text-[20px] font-bold text-white",style:{backgroundColor:C[0],boxShadow:`0px 0px 12px ${C[2]}`},children:x})}):r.jsxs("div",{className:W("pointer-events-none relative aspect-templateItem w-full overflow-hidden rounded border border-gray-30 bg-gray-100",{"animate-template-library-skeleton-load":n&&(g||!l)}),children:[r.jsx("img",{className:W("transition-transform duration-200 h-full w-full object-cover",{"scale-125":d||u}),alt:"",src:c,onError:({currentTarget:F})=>{_(),F.style.display="none"},onLoad:_,loading:"lazy"}),r.jsx("span",{className:"absolute bottom-2 right-2 flex h-6 w-6 items-center justify-center rounded text-[12px] font-bold text-white",style:{backgroundColor:C[0]},children:x})]}),r.jsxs("div",{className:"pointer-events-none flex items-center justify-between gap-2.5 px-0",children:[r.jsx("p",{className:"mb-0.5 h-5 w-0 flex-grow overflow-hidden text-ellipsis whitespace-nowrap text-left text-body2 text-white",children:i.name}),a&&r.jsx(Sr,{className:W("pointer-events-auto",{block:d||u,hidden:!d&&!u}),options:D,width:100,spot:Ds.LEFT_BOTTOM,onOpen:f,onClose:p,children:r.jsx(Oi,{icon:$l})})]})]})},bP=A(Omt),Mmt=({className:s,style:t,editor:e,isLoading:i,...n})=>{const[o,a]=m.useMemo(()=>{const l=[],c=[];for(const h of e.assetController.assetArr){if(h.type!==Ae.TEMPLATE)continue;h.data.isStarterTemplate?l.push(h):c.push(h)}return l.sort((h,d)=>{const u=h.data.mode,f=d.data.mode;return u>f?1:u<f?-1:0}),[l,c]},[JSON.stringify(e.assetController.assetArr)]);return r.jsx("div",{className:W("pointer-events-auto absolute left-1/2 top-1/2 flex h-4/5 max-h-[522px] w-4/5 max-w-[608px] -translate-x-1/2 -translate-y-1/2 flex-col overflow-hidden rounded-lg border border-solid border-gray-60 bg-gray-90 shadow-popover",s),style:t,...n,children:o.length||a.length?r.jsxs(r.Fragment,{children:[!!o.length&&r.jsxs("div",{className:"relative z-10 w-full bg-gray-80 p-3 shadow-starterTemplateSection",children:[r.jsx("h3",{className:"p-2 font-medium",children:"New Scene"}),r.jsx("div",{className:"box-border grid w-full grid-cols-templateGrid place-content-start overflow-y-auto ",children:o.map(l=>r.jsx(bP,{editor:e,asset:l},l.id))})]}),!!a.length&&r.jsxs("div",{className:"relative flex h-0 w-full flex-grow flex-col p-3",children:[r.jsx("p",{className:"p-2 text-body1 font-bold",children:"Gallery"}),r.jsx("div",{className:"relative box-border grid w-full flex-grow grid-cols-templateGrid place-content-start overflow-y-auto",children:a.map(l=>r.jsx(bP,{editor:e,asset:l},l.id))})]})]}):i?r.jsx(Imt,{}):r.jsx(wmt,{})})},Lmt=A(Mmt),Rmt=({className:s,style:t,editor:e,...i})=>{const{isLoading:n,onClose:o}=yC(e,Gh.TemplateLib,Ae.TEMPLATE);return r.jsxs("div",{className:W("pointer-events-none fixed bottom-0 left-0 right-0 top-0 z-assetLibrary",s),style:t,...i,children:[r.jsx(Lmt,{editor:e,isLoading:n}),r.jsx("button",{className:"pointer-events-auto h-full w-full",onClick:o})]})},Nmt=A(Rmt),jmt=({editor:s})=>r.jsxs(AI,{id:"root",children:[s.activeTool.id===it.ASSET_LIBRARY&&r.jsx(bmt,{editor:s}),s.activeTool.id===it.TEMPLATE_LIBRARY&&r.jsx(Nmt,{editor:s})]}),Dmt=A(jmt),wA=A(({editor:s})=>{const{isLoading:t}=s.fileLoadingController;return t?r.jsxs("div",{"data-testid":"loadingScreen",className:"fixed left-0 top-0 z-loadingScrim flex h-full w-full items-center justify-center bg-gray-90",children:[r.jsx("img",{src:vF,alt:"Bezi logo",className:"absolute left-1/2 top-1/2 h-[100px] -translate-x-1/2 -translate-y-1/2"}),r.jsx("div",{className:"h-1 w-40 translate-y-20 overflow-hidden rounded-[6px] bg-gray-30",children:r.jsx(Fmt,{editor:s})})]}):null}),Fmt=A(({editor:s})=>{const{loadingFraction:t}=s.fileLoadingController,e=t*100;return r.jsx("div",{style:{width:`${e}%`},className:"duration-1000 h-1 bg-lime transition-[width]"})});var SB=Object.defineProperty,Bmt=Object.getOwnPropertyDescriptor,kmt=(s,t,e)=>t in s?SB(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Z5=(s,t,e,i)=>{for(var n=i>1?void 0:i?Bmt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&SB(t,e,n),n},IB=(s,t,e)=>(kmt(s,typeof t!="symbol"?t+"":t,e),e);const k_=class AB{constructor(){IB(this,"_preferences"),this._preferences=No(CP),vt(this),TZ(this,{name:"Preferences",properties:["_preferences"],storage:window.localStorage}),window.addEventListener("storage",this._onStorageUpdate.bind(this))}static get instance(){return this._instance||(this._instance=new AB),this._instance}setPreferences(t){this._preferences={...this._preferences,...t}}set(t,e){this._preferences[t]=e}resetPanelDimensions(){this.set("leftPanelWidth",wf.SIDE.DEFAULT),this.set("rightPanelWidth",wf.SIDE.DEFAULT),this.set("bottomPanelHeight",wf.BOTTOM.DEFAULT)}get(t){return this._preferences[t]??CP[t]}_onStorageUpdate(){PZ(this)}dispose(){window.removeEventListener("storage",this._onStorageUpdate.bind(this)),OZ(this)}};IB(k_,"_instance");Z5([V],k_.prototype,"_preferences",2);Z5([E],k_.prototype,"setPreferences",1);Z5([E],k_.prototype,"set",1);Z5([E],k_.prototype,"resetPanelDimensions",1);let Gmt=k_;const wf={SIDE:{DEFAULT:266,MIN:200,MAX:500},BOTTOM:{DEFAULT:260,MIN:200,MAX:1300}},CP={doubleClickIntervalMs:500,leftPanelWidth:wf.SIDE.DEFAULT,rightPanelWidth:wf.SIDE.DEFAULT,bottomPanelHeight:wf.BOTTOM.DEFAULT};function Vmt({onBegin:s,onSubmit:t,className:e,...i},n){function o(h){h.stopPropagation(),s&&s()}function a(h){h.stopPropagation()}function l(h){h.stopPropagation(),t&&t(h)}function c(h){h.stopPropagation(),(!h.shiftKey&&h.key==="Enter"||h.key==="Escape")&&h.currentTarget.blur(),(h.metaKey||h.ctrlKey)&&(h.code==="KeyF"||h.code==="KeyG")&&h.preventDefault()}return r.jsx("textarea",{ref:n,className:W("box-border h-full w-full resize-none border border-border bg-gray-80 p-2 text-body2 text-text",e),...hn({onFocus:o,onChange:a,onBlur:l,onKeyDown:c},i)})}const G_=xe.forwardRef(Vmt),Hmt=({editor:s})=>{const t=s.textAreaController;if(!t.isOpen)return null;const{textComponent:e}=t;return e?r.jsx(zmt,{editor:s,component:e}):null},Umt=A(Hmt),zmt=A(({editor:s,component:t})=>{const e=s.textAreaController,i=m.useRef(null),{selectionStart:n,selectionEnd:o,didLastChangeComeFromInput:a}=e,{selectionStartFromInput:l,selectionEndFromInput:c}=e;m.useEffect(()=>{const k=()=>{const st=i.current;if(st==null)return;st.focus();const $=Math.min(l,c),X=Math.max(l,c);st.setSelectionRange($,X),setTimeout(()=>{st.focus()})},Y=st=>{const{relatedTarget:$}=st;if(!$){k();return}if(!wP($)){k();return}if(Xmt.includes($.tagName)||$.getAttribute("aria-haspopup"))return;const q=$.getAttribute("role");if(!q){k();return}Wmt.includes(q)||k()},G=st=>{const{target:$}=st;if(!$||!wP($))return;const{tagName:X}=$;X==="CANVAS"&&k()};return document.addEventListener("focusout",Y,{capture:!0}),document.addEventListener("pointerup",G,{capture:!0}),()=>{document.removeEventListener("focusout",Y,{capture:!0}),document.removeEventListener("pointerup",G,{capture:!0})}},[l,c]),m.useEffect(()=>{const k=i.current;if(k==null)return;const Y=Math.min(n,o),G=Math.max(n,o);k.setSelectionRange(Y,G),k.focus(),setTimeout(()=>{k.focus()})},[n,o,a]);const h=[t],d=m.useCallback(()=>{s.stateController.recordBefore({action:P.PARAMETERS})},[s.stateController]),u=m.useCallback(()=>{s.stateController.recordAfter({action:P.PARAMETERS})},[s.stateController]),f=function(Y,G,st){const $=G.safeParse(Y);if(!$.success)return;const X=$.data;Jt(()=>{for(const q of h)st(X,q.parameters)}),s.stateController.signals.parameters.dispatch({action:P.PARAMETERS})},p=m.useCallback(k=>{const Y=k.target;if(Y==null)return;const G=Y.selectionStart,st=Y.selectionEnd;e.onSelectionChange(G,st)},[e]),g=m.useCallback(k=>{if(k.key==="Escape"){u(),wt(zl.EXIT);return}p(k)},[u,p]),{fontFamily:_,fontSize:v,fontWeight:y,letterSpacing:b,lineHeight:C,textAlign:x,letterCase:I,fontId:O}=t.parameters,T=t.ppm,D=t.boundingBox,B=D.max.x-D.min.x,F=D.max.z-D.min.z;return r.jsx("div",{className:"absolute left-0 top-0 z-[-1] min-w-fit rounded bg-gray-90",id:"TextArea",style:{translate:"400px 400px"},children:r.jsx(G_,{ref:i,value:t.parameters.text,style:{width:`${B*T}px`,height:`${F*T}px`,fontFamily:O||_,fontWeight:y==="regular"?void 0:y.replace("italic",""),fontStyle:y.includes("italic")?"italic":void 0,fontSize:`${v}px`,letterSpacing:`${b}px`,lineHeight:C==="normal"?"normal":`${C}`,textAlign:x,textTransform:Ymt[I],padding:0,border:"none"},className:"scrollbar-hide",onBegin:d,onChange:k=>f(k.target.value,wa.shape.text,(Y,G)=>G.text=Y),onSubmit:u,autoFocus:!0,onKeyUp:p,onBeforeInput:p,onInput:p,onCut:p,onPaste:p,onSelect:p,onKeyDown:g})})}),Ymt={uppercase:"uppercase",lowercase:"lowercase","title-case":"capitalize","as-typed":"none"};function wP(s){return s instanceof HTMLElement}const Wmt=["menuitem","option","application"],Xmt=["INPUT","TEXTAREA","SELECT","CANVAS"],Zmt="_instruction_15bs4_1",Kmt="_instructionText_15bs4_10",qmt="_instructionTitle_15bs4_17",Qmt="_instructionButtons_15bs4_20",Jmt="_instructionSpacing_15bs4_24",n2={instruction:Zmt,instructionText:Kmt,instructionTitle:qmt,instructionButtons:Qmt,instructionSpacing:Jmt},$mt=({className:s,style:t,...e})=>{const i=m.useMemo(()=>({height:"auto",padding:"6px"}),[]);return r.jsxs("div",{className:W(n2.instruction,s),children:[r.jsxs("div",{className:`${n2.instructionText}`,children:[r.jsx("div",{className:`${n2.instructionTitle}`,children:r.jsx(K,{weight:"strong",children:e.title})}),r.jsx(K,{children:e.body})]}),r.jsx(qi,{text:"Cancel",children:r.jsx(Tt,{style:i,size:"sm",variant:"secondary",round:!0,leftIcon:CR,onClick:e.onCancel})}),r.jsx("div",{className:n2.instructionSpacing}),r.jsx(qi,{text:"Done",children:r.jsx(Tt,{style:i,size:"sm",variant:"primary",round:!0,leftIcon:DR,disabled:!e.active,onClick:e.onSubmit})})]})},tgt=m.memo($mt);function egt({editor:s}){const t=m.useCallback(()=>{s.booleanController.apply(s.activeTool.id)&&wt(R.tool.SELECT)},[s.activeTool.id,s.booleanController]);function e(){wt(R.tool.SELECT)}const i=m.useMemo(()=>{let n="",o="";const a=s.selectionController.selectedCollection.sceneEntitiesWithMesh;switch(s.activeTool.id){case it.BOOLEAN_UNION:n="Boolean Union",o="Select the objects to union.";break;case it.BOOLEAN_SUBTRACT:n="Boolean Subtract",a.length<=0?o="Select the base object":a.length>0&&(o="Select the objects to subtract");break;case it.BOOLEAN_INTERSECT:n="Boolean Intersect",o="Select the objects to intersect.";break;default:return null}return r.jsx("div",{className:"z-3 absolute left-1/2 top-10 mt-2 w-l-panel -translate-x-1/2 overflow-y-auto ",children:r.jsx(tgt,{active:a.length>1,title:n,body:o,onCancel:e,onSubmit:t})})},[s.activeTool.id,s.selectionController.selectedCollection.sceneEntitiesWithMesh,t]);return i||null}const sgt=A(egt),igt="/tutorial_cameras-BPi7jUjt.png",ngt="/tutorial_comment-D86cUM1V.png",ogt="/tutorial_drawing-Cp7d6Qik.png",rgt="/tutorial_library-CdxtFskr.png",agt="/tutorial_materials-DLKhoiEx.png",lgt="/tutorial_modeling-DMNX2eMB.png";function cgt({editor:s}){if(!s.isUIVisible||!s.isShortcutsPanelVisible)return null;const t=R;return r.jsxs(Io,{className:"flex flex-col overflow-hidden py-2",children:[r.jsx("div",{className:"px-2",children:r.jsx(pe,{label:"Keyboard shortcuts",children:r.jsx(As,{onPress:()=>{s.isShortcutsPanelVisible=!1},children:po})})}),r.jsxs("div",{className:"flex h-full w-full flex-col gap-3 overflow-y-scroll",children:[r.jsx(o2,{label:"View",commands:Object.values(t.viewport)}),r.jsx(o2,{label:"Tools",commands:Object.values(t.tool)}),r.jsx(o2,{label:"Edit",commands:Object.values({...t.history,...t.selectToolCommand})}),r.jsx(o2,{label:"Mesh",commands:Object.values(t.meshing)})]})]})}const hgt=A(cgt);function o2({label:s,commands:t}){return r.jsxs("div",{className:"mt-2 px-4",children:[r.jsx(K,{weight:"strong",children:s}),t.map(e=>r.jsx(dgt,{command:e},e))]})}function dgt({command:s}){const t=de[s];if(!t||!t.defaultKeys)return null;const i=t.defaultKeys[0].split("+").map(Lb);return r.jsx(Gg,{label:t.label,keys:i},s)}function Gg(s){return r.jsxs("div",{className:"shortcut mx-0 my-1.5 flex items-center justify-between",children:[r.jsx(K,{color:"secondary",children:s.label}),r.jsx("div",{className:"flex",children:s.keys.map(t=>r.jsx(ugt,{shortcut:t},t))})]})}function ugt(s){let t=null;switch(s.shortcut){case"left-click":t=r.jsx(W5,{icon:VQ});break;case".":case"":t=r.jsx(Ze,{weight:"strong",children:s.shortcut});break;default:t=r.jsx(K,{weight:"strong",children:s.shortcut})}return r.jsx("div",{className:"m-0.5 flex min-w-[28px] items-center justify-center rounded-md bg-secondary p-1.5",children:t})}let xP=1;function fgt({editor:s}){const t=Ri(),[e,i]=m.useState(xP),[n,o]=m.useState(!1);function a(){const f=e+1;i(f),xP=f,s.sceneController.cameraController.viewBookmarkByIndex(f,!0),Ft("nux-tutorial-next",{index:e})}function l(){t.push(Rt[z.GALLERY]()),Ft("nux-tutorial-skip")}function c(){t.push(Rt[z.GALLERY]()),Ft("nux-tutorial-finish")}function h(){o(!0);const f=`${window.location.origin}/file/${s.fileController.id}`;navigator.clipboard.writeText(f),Ft("nux-tutorial-copy-link")}const d=r.jsxs("div",{className:"mt-1 flex flex-col gap-1",children:[r.jsx(Tt,{variant:"primary",size:"sm",onClick:a,children:r.jsx(Ze,{children:"Continue"})}),r.jsx(Tt,{className:"opacity-60",size:"sm",onClick:l,children:r.jsx(Ze,{children:"Skip tutorial"})})]});let u;switch(e){case 1:u=r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx(K,{weight:"strong",children:"Welcome to the Bezi Design Lab!"}),r.jsx(K,{color:"secondary",nowrap:!0,children:"Well take you on a trip around the lab, and show you some tips and tricks."}),d]});break;case 2:u=r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx(K,{weight:"strong",children:"Navigation"}),r.jsx(K,{weight:"strong",color:"secondary",children:"1/8"})]}),r.jsx(K,{color:"secondary",nowrap:!0,children:"Navigate the scene by orbit, pan, and zoom. Try one at a time!"}),r.jsxs("div",{children:[r.jsx(Gg,{label:"Orbit",keys:["left-click","Drag"]}),r.jsx(Gg,{label:"Pan",keys:["Spacebar","left-click","Drag"]}),r.jsx(Gg,{label:"Zoom",keys:[Lb("Mod"),"Scroll"]})]}),d]});break;case 3:u=r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("img",{src:ogt,alt:""}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx(K,{weight:"strong",children:"Drawing shapes"}),r.jsx(K,{weight:"strong",color:"secondary",children:"2/8"})]}),r.jsxs(K,{color:"secondary",nowrap:!0,children:["Use the ",r.jsx("b",{children:"Command Center"})," to access any feature you need. To draw a box, follow these steps:"]}),r.jsxs(K,{color:"secondary",children:["1. Type ",r.jsx("b",{children:"b"})]}),r.jsxs(K,{color:"secondary",children:["2. The ",r.jsx("b",{children:"box"})," command will appear"]}),r.jsxs(K,{color:"secondary",children:["3. Press ",r.jsx("b",{children:"Spacebar"})," to activate the command"]}),r.jsx(K,{color:"secondary",children:"4. Draw in scene by clicking"}),d]});break;case 4:u=r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("img",{src:lgt,alt:""}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx(K,{weight:"strong",children:"Modeling"}),r.jsx(K,{weight:"strong",color:"secondary",children:"3/8"})]}),r.jsxs(K,{color:"secondary",nowrap:!0,children:[r.jsx("b",{children:"Double click"})," or press ",r.jsx("b",{children:"Enter"})," on an object to enter"," ",r.jsx("b",{children:"Edit Mode"})," and access modeling tools in the toolbar. Try modeling the side table in the poster."]}),d]});break;case 5:u=r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("img",{src:agt,alt:""}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx(K,{weight:"strong",children:"Materials"}),r.jsx(K,{weight:"strong",color:"secondary",children:"4/8"})]}),r.jsxs(K,{color:"secondary",nowrap:!0,children:["Select the objects and change it to a different material using the"," ",r.jsx("b",{children:"Material"})," panel in the right sidebar."]}),r.jsxs(K,{color:"secondary",nowrap:!0,children:["Material properties can be added using the ",r.jsx("b",{children:"+"})," icon button. Properties can be combined to create different looks."]}),d]});break;case 6:u=r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("img",{src:rgt,alt:""}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx(K,{weight:"strong",children:"Library"}),r.jsx(K,{weight:"strong",color:"secondary",children:"5/8"})]}),r.jsxs(K,{color:"secondary",nowrap:!0,children:["Open the ",r.jsx("b",{children:"Library"})," in the top toolbar and insert objects into the room by clicking or drag & drop."]}),r.jsx(K,{color:"secondary",nowrap:!0,children:"You can also import 3D models (FBX, GLB, OBJ) into the scene from your desktop by drag & drop."}),d]});break;case 7:u=r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("img",{src:ngt,alt:""}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx(K,{weight:"strong",children:"Commenting"}),r.jsx(K,{weight:"strong",color:"secondary",children:"6/8"})]}),r.jsxs(K,{color:"secondary",nowrap:!0,children:["Go to the ",r.jsx("b",{children:"Comments"})," tab in the top toolbar and click on the bubbles in the scene to open pinned comments."]}),r.jsxs(K,{color:"secondary",nowrap:!0,children:["Create pinned comments by clicking on any object in the scene. You can also add ",r.jsx("b",{children:"drawing comments"})," in the scene."]}),d]});break;case 8:u=r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("img",{src:igt,alt:""}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx(K,{weight:"strong",children:"Cameras"}),r.jsx(K,{weight:"strong",color:"secondary",children:"7/8"})]}),r.jsxs(K,{color:"secondary",nowrap:!0,children:["Use ",r.jsx("b",{children:"Cameras"})," to save specific views. This tutorial was made using cameras as bookmarks!"]}),r.jsxs(K,{color:"secondary",nowrap:!0,children:["You can add them to the scene by typing ",r.jsx("b",{children:"camera"})," or selecting Objects  Camera in the top toolbar."]}),d]});break;case 9:u=r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx(K,{weight:"strong",children:"Invite people to your file"}),r.jsx(K,{weight:"strong",color:"secondary",children:"8/8"})]}),r.jsx(K,{color:"secondary",nowrap:!0,children:"You made it! You can invite people to this file by sending them this link. Try making something together."}),r.jsxs(K,{color:"secondary",nowrap:!0,children:["If you have a VR headset, go to ",r.jsx("b",{children:"bezi.com"})," in the headsets browser and sign in to walk around this design lab!"]}),r.jsxs("div",{className:"mt-1 flex flex-col gap-1",children:[r.jsx(Tt,{variant:"primary",size:"sm",onClick:h,children:n?"Copied Link":"Copy Link"}),r.jsx(Tt,{className:"opacity-60",size:"sm",onClick:c,children:"Finish tutorial"})]})]});break}return r.jsx("div",{className:"relative ml-3 mt-[7px] w-[var(--left-panel-width)] rounded-[var(--panel-radius)] border border-[color:var(--border)] bg-[color:var(--panel)]",children:r.jsx("div",{className:"p-3",children:u})})}const TB=A(fgt),pgt=({editor:s})=>{if(!s.isUIVisible)return null;const t=s.fileController.type===fm.TUTORIAL;switch(s.activeTool.id){case R.tool.BOOLEAN_UNION:case R.tool.BOOLEAN_SUBTRACT:case R.tool.BOOLEAN_INTERSECT:return r.jsx(sgt,{editor:s});default:if(!t)return null;break}return t?r.jsx(TB,{editor:s}):null},mgt=A(pgt);var PB=Object.defineProperty,ggt=Object.getOwnPropertyDescriptor,_gt=(s,t,e)=>t in s?PB(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,OB=(s,t,e,i)=>{for(var n=ggt(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&PB(t,e,n),n},Km=(s,t,e)=>(_gt(s,typeof t!="symbol"?t+"":t,e),e);class Kl extends Es{constructor(t,e,i,n,o){super(t),this.objectType=e,this._light=i,this._helper=n,this._shadowsObject=o,Km(this,"type",pt.Light),Km(this,"_disposable",new Zt),Km(this,"hasDirection",!1),Km(this,"_boundingBoxCache",new Qr),Km(this,"_boundingSphereCache",new Jr),Km(this,"_euler",new ls),Km(this,"_quaternion",new ke),this._light.position.set(this.entity.transform.position.x,this.entity.transform.position.y,this.entity.transform.position.z),this._light.rotation.copy(this.entity.transform.euler),this._helper.update(),this._light.updateMatrixWorld(),this._light.visible=this.entity.isVisible,this.entity.highlightComponent.update()}get light(){return this._light}get mesh(){return this._helper}get shadows(){return this._shadowsObject}get parameters(){return this.entity.sceneObject.parameters}get boundingBoxRevision(){return 0}toggleHotSpotMaterial(t){this._helper.toggleHotSpotMaterial(t)}get boundingBox(){const t=this._boundingBoxCache.get();this._helper.update(),t.makeEmpty();for(const e of this.mesh.children){if(e===this.mesh||!(e.layers.isEnabled(ce.LIGHT_WIDGET)||e.layers.isEnabled(ce.MESH)))continue;const i=e.geometry;if(!i)continue;i.boundingBox||i.computeBoundingBox();const n=i.boundingBox.clone();n.applyMatrix4(e.matrix),t.union(n)}return t.applyMatrix4(this.mesh.matrix),t}get boundingSphere(){const t=this._boundingSphereCache.get();this._helper.update(),t.makeEmpty();for(const e of this.mesh.children){if(e===this.mesh||!(e.layers.isEnabled(ce.LIGHT_WIDGET)||e.layers.isEnabled(ce.MESH)))continue;const i=e.geometry;if(!i)continue;i.boundingSphere||i.computeBoundingSphere();const n=i.boundingSphere.clone();n.applyMatrix4(e.matrix),t.union(n)}return t.applyMatrix4(this.mesh.matrix),t}watch(){this.disposableReactions.push(rt(()=>{this._light.position.copy(this.entity.transform.positionVec),this._light.rotation.copy(this.entity.transform.euler),this._light.updateMatrixWorld()}),rt(()=>{this._light.color.set(this.parameters.color),this._helper.update()}),rt(()=>this._light.intensity=this.parameters.intensity),rt(()=>this._light.visible=this.entity.sceneObject.isVisible),rt(()=>this._helper.opacity=this.entity.sceneObject.layerOpacity))}dispose(){this._helper.dispose(),this._disposable.dispose(),super.dispose()}}OB([M({equals:ja.structural})],Kl.prototype,"boundingBox");OB([M({equals:ja.structural})],Kl.prototype,"boundingSphere");var jr;(s=>{(t=>{async function e(a){const l={createdAt:a.createdAt,data:"",fileId:"",id:a.id,input:a.value,operation:a.operation,profileId:a.author,progress:a.progress,teamId:"",ttl:0};if(a.upscaledModelId&&(l.upscaledModelId=a.upscaledModelId),a.models){const c=new Set(...Object.keys(a.models));c.size>0&&(l.assets=c)}try{const c=Xt.docClient;if(!c)throw new Error("DynamoDBDocumentClient client not found");return await c.send(new Ho({TableName:XC,Item:{...l}})),!0}catch(c){return console.error(c),!1}}t.createJob=e;async function i(a,l=!1){const c=a.progress??0,h=l?Math.round(Date.now()/1e3)+1578e4:0;try{const d=Xt.docClient;if(!d)throw new Error("DynamoDBDocumentClient client not found");await d.send(new K0({TableName:XC,Key:{id:a.id,profileId:a.author},UpdateExpression:"set #progress = :progress, #ttl = :ttl",ExpressionAttributeNames:{"#progress":"progress","#ttl":"ttl"},ExpressionAttributeValues:{":progress":c,":ttl":h}}))}catch(d){console.error(d)}}t.updateJob=i;async function n(a){try{const l=Xt.docClient;if(!l)throw new Error("DynamoDBDocumentClient client not found");return(await l.send(new Ti({TableName:XC,IndexName:"jobsByProfileId",KeyConditionExpression:"profileId = :profileId",FilterExpression:"attribute_not_exists(#ttl) OR #ttl = :ttl",ExpressionAttributeNames:{"#ttl":"ttl"},ExpressionAttributeValues:{":profileId":a,":ttl":0}}))).Items}catch(l){console.error(l)}}t.getJobsByProfileId=n;async function o(a){try{const l=Xt.docClient;if(!l)throw new Error("DynamoDBDocumentClient client not found");await l.send(new zc({TableName:XC,Key:{id:a.id,profileId:a.author}}))}catch(l){console.error(l)}}t.deleteJob=o})(s.Jobs||(s.Jobs={})),(t=>{async function e(f,p){const g={id:f.id,createdAt:Date.now(),profileId:p.author,data:"",fileId:"",teamId:"",previewImageUrl:f.previewImgUrl??"",previewVideoUrl:f.previewUrl??"",urlKey:f.modelUrl??"",progress:f.progress??0,parentJobId:p.id,input:p.value,type:p.operation,tags:"",approved:0};try{const _=Xt.docClient;if(!_)throw new Error("DynamoDBDocumentClient client not found");await _.send(new Ho({TableName:Eu,Item:{...g}}))}catch(_){console.error(_)}}t.createAsset=e;async function i(f,p){return Promise.all(f.map(g=>e(g,p)))}t.createAssets=i;async function n(f,p){const g=f.progress??0,_=f.previewImgUrl??"",v=f.previewUrl??"",y=f.modelUrl??"";try{const b=Xt.docClient;if(!b)throw new Error("DynamoDBDocumentClient client not found");await b.send(new K0({TableName:Eu,Key:{id:f.id,profileId:p.author},UpdateExpression:"set #progress = :progress, #previewImageUrl = :previewImageUrl, #previewVideoUrl = :previewVideoUrl, #urlKey = :urlKey",ExpressionAttributeNames:{"#progress":"progress","#previewImageUrl":"previewImageUrl","#previewVideoUrl":"previewVideoUrl","#urlKey":"urlKey"},ExpressionAttributeValues:{":progress":g,":previewImageUrl":_,":previewVideoUrl":v,":urlKey":y}}))}catch(b){console.error(b)}}t.updateAsset=n;async function o(f,p){try{const g=Xt.docClient;if(!g)throw new Error("DynamoDBDocumentClient client not found");const _=await g.send(new Ti({TableName:Eu,IndexName:"assetsByTypeSortedByCreatedAt",KeyConditionExpression:"#type = :type",FilterExpression:"attribute_not_exists(#approved) OR #approved = :approved AND #progress = :progress",ExpressionAttributeNames:{"#type":"type","#approved":"approved","#progress":"progress"},ExpressionAttributeValues:{":type":f,":approved":1,":progress":1},ExclusiveStartKey:p??p,ScanIndexForward:!1,Limit:20}));return{paginationKey:_.LastEvaluatedKey,items:_.Items}}catch(g){console.error(g)}}t.getAssetsByType=o;async function a(f){try{const p=Xt.docClient;if(!p)throw new Error("DynamoDBDocumentClient client not found");const g=await p.send(new Ti({TableName:Eu,IndexName:"assetsByApproved",KeyConditionExpression:"#approved = :approved",FilterExpression:"#progress = :progress",ExpressionAttributeNames:{"#approved":"approved","#progress":"progress"},ExpressionAttributeValues:{":approved":1,":progress":1},ExclusiveStartKey:f??f,ScanIndexForward:!1,Limit:20}));return{paginationKey:g.LastEvaluatedKey,items:g.Items}}catch(p){console.error(p)}}t.getAssetsByApproved=a;async function l(f){try{const p=Xt.docClient;if(!p)throw new Error("DynamoDBDocumentClient client not found");return(await p.send(new Ti({TableName:Eu,IndexName:"assetsByProfileId",KeyConditionExpression:"profileId = :profileId",FilterExpression:"#progress = :progress",ExpressionAttributeNames:{"#progress":"progress"},ExpressionAttributeValues:{":profileId":f,":progress":1}}))).Items}catch(p){console.error(p)}}t.getAssetsByProfileId=l;async function c(f){try{const p=Xt.docClient;if(!p)throw new Error("DynamoDBDocumentClient client not found");return(await p.send(new Ti({TableName:Eu,IndexName:"assetsByParentJobId",KeyConditionExpression:"parentJobId = :parentJobId",ExpressionAttributeValues:{":parentJobId":f}}))).Items}catch(p){console.error(p)}}t.getAssetsByParentJobId=c;async function h(f){try{const p=Xt.docClient;if(!p)throw new Error("DynamoDBDocumentClient client not found");return(await p.send(new Ti({TableName:Eu,KeyConditionExpression:"id = :id",FilterExpression:"attribute_not_exists(#approved) OR #approved = :approved AND #progress = :progress",ExpressionAttributeValues:{":id":f,":approved":1,":progress":1},ExpressionAttributeNames:{"#approved":"approved","#progress":"progress"}}))).Items}catch(p){console.error(p)}}t.getAsset=h;async function d(f){try{const p=Xt.docClient;if(!p)throw new Error("DynamoDBDocumentClient client not found");const g=await p.send(new Ti({TableName:Eu,KeyConditionExpression:"id = :id",ExpressionAttributeValues:{":id":f}}));if(!g.Items||g.Items.length===0)throw new Error("Asset not found");return g.Items[0]}catch(p){console.error(p)}}t.getAssetToUpscale=d;async function u(f,p){try{const g=Xt.docClient;if(!g)throw new Error("DynamoDBDocumentClient client not found");await g.send(new zc({TableName:Eu,Key:{type:"asset",createdAt:p},ConditionExpression:"id = :id",ExpressionAttributeValues:{":id":f}}))}catch(g){console.error(g)}}t.deleteAsset=u})(s.Assets||(s.Assets={}))})(jr||(jr={}));async function vgt(s,t){const e={id:s.id,sceneId:t,prompt:s.value,author:s.author,createdAt:s.createdAt};return await ta(Yst,{data:e})}async function ygt(s){return await ta(Wst,{data:{id:s}})}async function bgt(s,t,e){const i={id:e,sceneId:t,prompt:s.value,author:s.author,createdAt:s.createdAt};return await ta(Xst,{data:i})}async function Cgt(s,t,e){const i={id:e,sceneId:t,prompt:s.value,author:s.author,createdAt:s.createdAt};return await ta(Zst,{data:i})}async function wgt(s){const t=await ta(Kst,{query:s});if(!t||!t.Payload)return!1;const e=JSON.parse(w0.Buffer.from(t.Payload).toString());return JSON.parse(e.body).map(o=>o._id)}const EP=["Astronaut with a jetpack","Axe in fantasy style","Chair in art deco style"];var ki=(s=>(s.TEXT_TO_3D="text-to-3d",s.UPSCALE="refine",s.VARIANTS="variants",s.NONE="none",s))(ki||{});const xA=new Set([L.AMBIENT_LIGHT,L.AREA_LIGHT,L.SPOT_LIGHT,L.POINT_LIGHT,L.DIRECTIONAL_LIGHT,L.HAND,L.HEAD,L.XRRIG,L.TEXT,L.CAMERA,L.CURVE,L.GAMEPAD]),xgt=1e3,Egt=1e3*60,Sgt=1e3*10,Igt=1e3*60*30,Agt="video_360_rgb_mp4",Tgt="model_draco_compressed_glb",Pgt="thumbnail",Ogt="imagine_refine_3d1";var Oy=(s=>(s.COMMUNITY_ASSETS="Community assets",s.CREATED_BY_YOU="Created by you",s))(Oy||{});const Mgt={"Community assets":"Community assets","Created by you":"Created by you"};var MB=Object.defineProperty,Lgt=Object.getOwnPropertyDescriptor,Rgt=(s,t,e)=>t in s?MB(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,ve=(s,t,e,i)=>{for(var n=i>1?void 0:i?Lgt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&MB(t,e,n),n},Wa=(s,t,e)=>(Rgt(s,typeof t!="symbol"?t+"":t,e),e);class ge{constructor(t){this._editor=t,Wa(this,"_assets",{}),Wa(this,"_history",new Map),Wa(this,"_historyLength",0),Wa(this,"_selectedHistoryItemId",null),Wa(this,"_selectedVariant",null),Wa(this,"_selectedAssetId",null),Wa(this,"_jobsQueue",new r_),Wa(this,"_currentJobs",new Set),Wa(this,"_throttledJobRemoteUpdate",y_(e=>{jr.Jobs.updateJob(e)},200)),Wa(this,"_queue",[]),Wa(this,"_isAtEndOfPagination",!1),Wa(this,"_paginationKey"),Wa(this,"_searchValue",""),Wa(this,"_defaultSearchValue",null),vt(this)}get jobsQueue(){return this._jobsQueue}get currentJobs(){return this._currentJobs}get assets(){return this._assets}get upscaledAssets(){return Object.values(this._assets).filter(t=>t.type===ki.UPSCALE)}get history(){return this._history}get historyLength(){return this._historyLength}get selectedHistoryItemId(){return this._selectedHistoryItemId}get selectedHistoryItem(){if(this._selectedHistoryItemId)return this._history.get(this._selectedHistoryItemId)}get selectedAssetId(){return this._selectedAssetId}get selectedAsset(){if(this._selectedAssetId)return this._assets[this._selectedAssetId]}async loadHistory(t){const e=await jr.Jobs.getJobsByProfileId(t);if(!e)return;for(const n of Object.values(e)){const o={id:n.id,author:n.profileId,operation:n.operation,value:n.input,progress:n.progress,createdAt:n.createdAt,models:n.assets};n.upscaledModelId&&(o.upscaledModelId=n.upscaledModelId),(!o.value||!o.operation)&&(o.progress=-1),this._addToHistoryLocally(o,!1),o.progress!==void 0&&o.progress>=0&&o.progress<1&&this.jobsQueue.enqueue(o)}const i=this.jobsQueue.elements;for(let n=0;n<2&&i[n];n++){const o=i[n];this._continueUnfinishedJob(o)}}_addToHistoryLocally(t,e=!0){this._history.set(t.id,t),this._historyLength=this._history.size,e&&(this._selectedHistoryItemId=t.id)}_continueNextJob(){const t=this.jobsQueue.peek();t&&this._continueUnfinishedJob(t)}async _continueUnfinishedJob(t){const e=this.jobsQueue.dequeue();if(e)if(this.currentJobs.add(e.id),e.progress===0){if(e.operation===ki.TEXT_TO_3D)this._generateTextTo3D(e);else if(e.operation===ki.UPSCALE){if(!e.upscaledModelId)return;const i=await jr.Assets.getAssetToUpscale(e.upscaledModelId);if(!i)return;const n={id:i.id,parentId:i.parentJobId,input:i.input,progress:i.progress,previewImgUrl:i.previewImageUrl,previewUrl:i.previewVideoUrl,modelUrl:i.urlKey,type:i.type};this._generate3Dto3D(e,n)}}else{const i=this._history.get(e.id);if(!i){this._failJob(e);return}const n=await jr.Assets.getAssetsByParentJobId(e.id);if(!n)return;const o=[];for(const a of Object.values(n??{}))o.push(a.id);this.getCreation(o,i)}}async _addToHistoryRemotely(t){await jr.Jobs.createJob(t)}_addAssetRemotely(t,e){jr.Assets.createAsset(t,e)}_updateAssetRemotely(t,e){jr.Assets.updateAsset(t,e)}_updateJobRemotely(t){this._throttledJobRemoteUpdate(t)}addToHistory(t,e=!0){return this._editor.creditsController.canDecrementCredits?this.currentJobs.size>=2||this.jobsQueue.size()>=2?(be.open({id:`ai-jobs-${_t()}`,text:"Please wait for the current jobs to finish. (2/2).",options:{type:qn.WARNING,visibleTime:4e3}}),!1):(this._addToHistoryLocally(t,e),this._addToHistoryRemotely(t),!0):!1}async selectHistoryItem(t){await this._loadAssetsByItemId(t),this._selectedHistoryItemId=t}removeFromHistory(t){const e=t.progress;this._history.delete(t.id),this._historyLength=this._history.size,e===1?jr.Jobs.updateJob(t,!0):jr.Jobs.deleteJob(t)}clearHistorySelection(){this._selectedHistoryItemId=null}get selectedVariant(){return this._selectedVariant}selectVariantById(t){var n;if(!this._selectedHistoryItemId)return;const e=this._history.get(this._selectedHistoryItemId);if(!e)return;const i=(n=e.models)==null?void 0:n[t];i&&(this._selectedVariant=i)}selectVariant(t){this._selectedVariant=t}clearVariantSelection(){this._selectedVariant=null}get sortedHistoryItems(){return[...this._history.values()].sort((e,i)=>i.createdAt-e.createdAt)}async _loadAssetsByItemId(t){const e=this._history.get(t);if(!e)return;this.clearAssets();const i=await jr.Assets.getAssetsByParentJobId(e.id);i&&Jt(()=>{for(const n of Object.values(i)){const o={id:n.id,parentId:n.parentJobId,input:n.input,progress:n.progress,previewImgUrl:n.previewImageUrl,previewUrl:n.previewVideoUrl,modelUrl:n.urlKey,type:n.type};this._setAssetById(o.id,o),this._setHistoryItemById(o)}})}resetPagination(){this._isAtEndOfPagination=!1}async loadAssetsByProfileId(t){if(this._isAtEndOfPagination)return;const e=await jr.Assets.getAssetsByProfileId(t);e&&(this.clearAssets(),Jt(()=>{for(const i of Object.values(e)){const n={id:i.id,parentId:i.parentJobId,input:i.input,progress:i.progress,previewImgUrl:i.previewImageUrl,previewUrl:i.previewVideoUrl,modelUrl:i.urlKey,type:i.type};this._setAssetById(n.id,n),this._setHistoryItemById(n)}this._isAtEndOfPagination=!0}))}async loadAssetsByType(t,e=!1,i=!1){const n=async()=>{if(this._isAtEndOfPagination)return;i||(this._paginationKey=void 0),this._paginationKey||this.clearAssets();const o=e?await jr.Assets.getAssetsByApproved(this._paginationKey):await jr.Assets.getAssetsByType(t,this._paginationKey);if(!o||!o.items)return;const a=Object.values(o.items);this._isAtEndOfPagination=!!this._paginationKey&&!o.paginationKey,this._paginationKey=o.paginationKey,Jt(()=>{for(const l of Object.values(a)){const c={id:l.id,parentId:l.parentJobId,input:l.input,progress:l.progress,previewImgUrl:l.previewImageUrl,previewUrl:l.previewVideoUrl,modelUrl:l.urlKey,type:l.type};this._setAssetById(c.id,c)}})};if(this._queue.push(n),this._queue.length===1)for(;this._queue.length;)await this._queue[0](),this._queue.shift()}_setAssetById(t,e){this._assets[t]=e}_setHistoryItemById(t){const e=this._history.get(t.parentId);e&&(e.models||(e.models={}),e.models[t.id]=t)}selectAsset(t){this._selectedAssetId=t}clearAssetSelection(){this._selectedAssetId=null}get selectedAssetModel(){if(this._selectedAssetId)return this._assets[this._selectedAssetId]}get defaultSearchValue(){return this._defaultSearchValue}setDefaultSearchValue(t){this._defaultSearchValue=t}get searchValue(){return this._searchValue}set searchValue(t){this._searchValue=t}get isEmptySearchValue(){return this._searchValue===""}async search(t){await this._search(t)}clearAssets(){this._assets={}}async _search(t){if(this._isAtEndOfPagination)return;if(this.clearAssets(),this._defaultSearchValue=null,!t||t.length<1){this.loadAssetsByType(ki.UPSCALE);return}const e=await wgt(t),i=[];for(const n of e){const o=await jr.Assets.getAsset(n);if(!o)continue;const a=Object.values(o);i.push(a)}Jt(()=>{for(const n of i)for(const o of Object.values(n)){const a={id:o.id,parentId:o.parentJobId,input:o.input,progress:o.progress,previewImgUrl:o.previewImageUrl,previewUrl:o.previewVideoUrl,modelUrl:o.urlKey,type:o.type};this._setAssetById(a.id,a),this._setHistoryItemById(a)}this._isAtEndOfPagination=!0})}getCreation(t,e){let i=0;switch(e.operation){case ki.UPSCALE:i=Sgt;break;case ki.TEXT_TO_3D:default:i=xgt}let n=0;switch(e.operation){case ki.UPSCALE:n=Igt;break;case ki.TEXT_TO_3D:default:n=Egt}let o=!1,a=!1;const l=new Set,c=setInterval(async()=>{if(!a){if(a=!0,o){clearInterval(c);return}await this._pollGetCreation(t,e,l)&&(clearInterval(c),o=!0),a=!1}},i);return setTimeout(()=>{clearInterval(c),o=!0},n),o}async _pollGetCreation(t,e,i){var o;e.progress||this._setItemProgress(e,0);let n=!1;try{for(const l of t){if(i.has(l))continue;const c=await ygt(l);if(!c||!c.Payload)continue;const h=JSON.parse(w0.Buffer.from(c.Payload).toString());if(!h||h.status!==200)continue;e.models||(e.models={}),e.models[l]||(e.models[l]={id:l,parentId:e.id});const d=h.response;e.models[l].data=d,d.type===Ogt?(o=d.metadata.progress)!=null&&o.percent&&this._setItemProgress(e,d.metadata.progress.percent/100):this._setItemProgress(e,e.progress+(1-e.progress)*.02);const u=d.files;if(!u)continue;for(const p of u){const g=p.metadata;g.type==="image"&&g.key===Pgt?this._setItemPreviewImgUrl(e,l,p.file_url):g.type==="video"&&g.key===Agt&&this._setItemPreivewUrl(e,l,p.file_url)}const f=e.models[l];if(d.status==="completed"){for(const p of u){const g=p.metadata;g.type==="3d_model"&&g.key===Tgt&&await this._setItemModelUrl(e,l,p.file_url)}i.add(l)}this._updateAssetRemotely(f,e)}let a=!0;for(const l of t)if(!i.has(l)){a=!1;break}a&&(this._setItemProgress(e,1),n=!0)}catch(a){console.warn(a),n=!1}return n}async generateFromSearch(){var n;const t=this._searchValue,e=(n=this._editor.profile)==null?void 0:n.id,i={id:_t(),value:t,author:e,progress:0,createdAt:Date.now(),operation:ki.TEXT_TO_3D};await this.generateTextTo3D(i)}async generateTextTo3D(t){Ft("ai-generate-text-to-3d",{prompt:t.value,profileId:t.author}),t.operation=ki.TEXT_TO_3D,this._addNewJob(t)&&await this._generateTextTo3D(t)}_failJob(t,e){e&&e.length>0&&be.open({id:`ai-job-failed-${t.id}`,text:`Job failed: ${e}`,options:{type:qn.ERROR,visibleTime:4e3}}),this._setItemProgress(t,-1)}async _generateTextTo3D(t){var i;const e=await vgt(t,this._editor.fileController.id);if(!e||!e.Payload){this._failJob(t);return}try{const n=JSON.parse(w0.Buffer.from(e.Payload).toString());if(!n||!Array.isArray(n)||n.length<=0){this._failJob(t);return}for(const c of n)if(c.status!==200){this._failJob(t,(i=c.response)==null?void 0:i.reason);return}const o=this._history.get(t.id);if(!o){this._failJob(t);return}if(!await this._editor.creditsController.removeCredits(this._creditsCost(t.operation)))return;t.progress=.1;const l={};if(Array.isArray(n)){const c=[];for(let h=0;h<n.length;h++){if(n[h].status!==200)continue;const d=n[h].response.uuid,u={id:d,parentId:o.id,type:t.operation,progress:0,input:t.value};l[d]=u,this._addAssetRemotely(u,o),c.push(d)}c.length>0&&this.getCreation(c,o)}o.models=l,this._updateJobRemotely(t)}catch(n){t.progress=1,console.warn(n)}}_creditsCost(t){let e=1;switch(t){case ki.UPSCALE:e=1;break;case ki.TEXT_TO_3D:default:e=1}return e}_addNewJob(t){if(t.progress=0,!this.addToHistory(t)||(this.jobsQueue.enqueue(t),this.currentJobs.size>2))return!1;{const i=this.jobsQueue.dequeue();if(!i)return!1;this.currentJobs.add(i.id)}return!0}generate3Dto3D(t,e){Ft("ai-generate-3d-upscale",{prompt:t.value,profileId:t.author}),t.operation=ki.UPSCALE,t.upscaledModelId=e.id,this._addNewJob(t)&&this._generate3Dto3D(t,e)}async _generate3Dto3D(t,e){const i=e.id,n=await bgt(t,this._editor.fileController.id,i);if(!n||!n.Payload){this._failJob(t);return}try{const o=JSON.parse(w0.Buffer.from(n.Payload).toString());if(!o||o.status!==200){this._failJob(t,o.error);return}const a=o.response.uuid;if(!a||a.length<=0){this._failJob(t);return}const l=this._history.get(t.id);if(!l){this._failJob(t);return}if(!await this._editor.creditsController.removeCredits(this._creditsCost(t.operation)))return;t.progress=.1;const h={},d={id:a,parentId:l.id,type:t.operation,previewImgUrl:e.previewImgUrl,input:t.value};h[a]=d,l.models=h,this.getCreation([a],l),this._addAssetRemotely(d,l),this._updateJobRemotely(t)}catch(o){console.warn(o)}}async generate3DtoVariants(t,e){var o;Ft("ai-generate-3d-variants",{prompt:t.value,profileId:t.author}),t.operation=ki.TEXT_TO_3D;let i=this._addNewJob(t);if(!i)return;const n=await Cgt(t,this._editor.fileController.id,e);if(!n||!n.Payload){this._failJob(t);return}try{const a=JSON.parse(w0.Buffer.from(n.Payload).toString());if(!a||!Array.isArray(a)||a.length<=0){this._failJob(t);return}for(const h of a)if(h.status!==200){this._failJob(t,(o=h.response)==null?void 0:o.reason);return}const l=this._history.get(t.id);if(!l){this._failJob(t);return}if(i=await this._editor.creditsController.removeCredits(this._creditsCost(t.operation)),!i)return;t.progress=.1;const c={};if(Array.isArray(a)){const h=[];for(let d=0;d<a.length;d++){if(a[d].status!==200)continue;const u=a[d].response.uuid,f={id:u,parentId:l.id,type:t.operation,progress:0,input:t.value};c[u]=f,this._addAssetRemotely(f,l),h.push(u)}this.getCreation(h,l)}l.models=c,this._updateJobRemotely(t)}catch(a){console.warn(a)}}_setItemProgress(t,e){t.progress!==1&&(t.progress=e,this._updateJobRemotely(t),(e===1||e===-1)&&(this.currentJobs.delete(t.id),this._continueNextJob()))}_setItemPreivewUrl(t,e,i){t.models&&(t.models[e].previewUrl=i)}_setItemPreviewImgUrl(t,e,i){t.models&&(t.models[e].previewImgUrl=i)}async _setItemModelUrl(t,e,i){t.models&&t.models[e].modelUrl!==e&&(t.models[e].modelUrl=e,await this._uploadItemToRemote(i,e),t.models[e].progress=1)}async _uploadItemToRemote(t,e){const n=await(await fetch(t)).blob();await ks(e,n)}}ve([V],ge.prototype,"_assets",2);ve([V],ge.prototype,"_history",2);ve([V],ge.prototype,"_historyLength",2);ve([V],ge.prototype,"_selectedHistoryItemId",2);ve([V],ge.prototype,"_selectedVariant",2);ve([V],ge.prototype,"_selectedAssetId",2);ve([V],ge.prototype,"_jobsQueue",2);ve([V],ge.prototype,"_currentJobs",2);ve([M],ge.prototype,"jobsQueue",1);ve([M],ge.prototype,"currentJobs",1);ve([M],ge.prototype,"assets",1);ve([M],ge.prototype,"upscaledAssets",1);ve([M],ge.prototype,"history",1);ve([M],ge.prototype,"historyLength",1);ve([M],ge.prototype,"selectedHistoryItemId",1);ve([M],ge.prototype,"selectedHistoryItem",1);ve([M],ge.prototype,"selectedAssetId",1);ve([M],ge.prototype,"selectedAsset",1);ve([E],ge.prototype,"loadHistory",1);ve([E],ge.prototype,"_addToHistoryLocally",1);ve([E],ge.prototype,"_continueNextJob",1);ve([E],ge.prototype,"_continueUnfinishedJob",1);ve([E],ge.prototype,"addToHistory",1);ve([E],ge.prototype,"selectHistoryItem",1);ve([E],ge.prototype,"removeFromHistory",1);ve([E],ge.prototype,"clearHistorySelection",1);ve([E],ge.prototype,"selectVariantById",1);ve([E],ge.prototype,"selectVariant",1);ve([E],ge.prototype,"clearVariantSelection",1);ve([M],ge.prototype,"sortedHistoryItems",1);ve([E],ge.prototype,"_loadAssetsByItemId",1);ve([E],ge.prototype,"loadAssetsByProfileId",1);ve([E],ge.prototype,"loadAssetsByType",1);ve([E],ge.prototype,"_setAssetById",1);ve([E],ge.prototype,"_setHistoryItemById",1);ve([E],ge.prototype,"selectAsset",1);ve([E],ge.prototype,"clearAssetSelection",1);ve([V],ge.prototype,"_searchValue",2);ve([V],ge.prototype,"_defaultSearchValue",2);ve([E],ge.prototype,"setDefaultSearchValue",1);ve([M],ge.prototype,"searchValue",1);ve([M],ge.prototype,"isEmptySearchValue",1);ve([E],ge.prototype,"search",1);ve([E],ge.prototype,"clearAssets",1);ve([E],ge.prototype,"_search",1);ve([E],ge.prototype,"getCreation",1);ve([E],ge.prototype,"_pollGetCreation",1);ve([E],ge.prototype,"generateFromSearch",1);ve([E],ge.prototype,"generateTextTo3D",1);ve([E],ge.prototype,"_failJob",1);ve([E],ge.prototype,"_generateTextTo3D",1);ve([E],ge.prototype,"generate3Dto3D",1);ve([E],ge.prototype,"_generate3Dto3D",1);ve([E],ge.prototype,"generate3DtoVariants",1);ve([E],ge.prototype,"_setItemProgress",1);ve([E],ge.prototype,"_setItemPreivewUrl",1);ve([E],ge.prototype,"_setItemPreviewImgUrl",1);ve([E],ge.prototype,"_setItemModelUrl",1);var LB=Object.defineProperty,Ngt=Object.getOwnPropertyDescriptor,jgt=(s,t,e)=>t in s?LB(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,gs=(s,t,e,i)=>{for(var n=i>1?void 0:i?Ngt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&LB(t,e,n),n},Ps=(s,t,e)=>(jgt(s,typeof t!="symbol"?t+"":t,e),e);class Ni{constructor(t){Ps(this,"id"),Ps(this,"name"),Ps(this,"description"),Ps(this,"type"),Ps(this,"team"),Ps(this,"file"),Ps(this,"source"),Ps(this,"data"),Ps(this,"isPrivate"),Ps(this,"lastWriter"),Ps(this,"preview"),Ps(this,"tags"),Ps(this,"updatedAt"),Ps(this,"createdAt"),Ps(this,"setId",e=>{this.id=e}),Ps(this,"setName",e=>{this.name=e}),Ps(this,"setDescription",e=>{this.description=e}),Ps(this,"setType",e=>{this.type=e}),Ps(this,"setTeam",e=>{this.team=e}),Ps(this,"setFile",e=>{this.file=e}),Ps(this,"setSource",e=>{this.source=e}),Ps(this,"setData",e=>{this.data=e}),Ps(this,"setIsPrivate",e=>{this.isPrivate=e}),Ps(this,"setLastWriter",e=>{this.lastWriter=e}),Ps(this,"setPreview",e=>{this.preview=e}),Ps(this,"setTags",e=>{this.tags=e}),Ps(this,"setUpdatedAt",e=>{this.updatedAt=e}),Ps(this,"setCreatedAt",e=>{this.createdAt=e}),this.id=t.id,this.name=t.name,this.description=t.description,this.type=t.type,this.team=t.team,this.file=t.file,this.source=t.source,this.data=t.data,this.isPrivate=t.isPrivate,this.lastWriter=t.lastWriter,this.preview=t.preview,this.tags=t.tags,this.updatedAt=t.updatedAt,this.createdAt=t.createdAt,vt(this)}}gs([V],Ni.prototype,"id",2);gs([V],Ni.prototype,"name",2);gs([V],Ni.prototype,"description",2);gs([V],Ni.prototype,"type",2);gs([V],Ni.prototype,"team",2);gs([V],Ni.prototype,"file",2);gs([V],Ni.prototype,"source",2);gs([V],Ni.prototype,"data",2);gs([V],Ni.prototype,"isPrivate",2);gs([V],Ni.prototype,"lastWriter",2);gs([V],Ni.prototype,"preview",2);gs([V],Ni.prototype,"tags",2);gs([V],Ni.prototype,"updatedAt",2);gs([V],Ni.prototype,"createdAt",2);gs([E],Ni.prototype,"setId",2);gs([E],Ni.prototype,"setName",2);gs([E],Ni.prototype,"setDescription",2);gs([E],Ni.prototype,"setType",2);gs([E],Ni.prototype,"setTeam",2);gs([E],Ni.prototype,"setFile",2);gs([E],Ni.prototype,"setSource",2);gs([E],Ni.prototype,"setData",2);gs([E],Ni.prototype,"setIsPrivate",2);gs([E],Ni.prototype,"setLastWriter",2);gs([E],Ni.prototype,"setPreview",2);gs([E],Ni.prototype,"setTags",2);gs([E],Ni.prototype,"setUpdatedAt",2);gs([E],Ni.prototype,"setCreatedAt",2);class th{constructor(t){this.editor=t,Ps(this,"disposable",new Zt),Ps(this,"_assetsById"),Ps(this,"initAssets",e=>{this.clearAssets(),this.addAssets(e)}),Ps(this,"updateAssets",e=>{e.forEach(i=>this.updateAsset(i))}),Ps(this,"deleteAsset",e=>{this.assets[e]&&delete this.assets[e]}),Ps(this,"deleteAssets",e=>{e.forEach(i=>this.deleteAsset(i))}),Ps(this,"clearAssets",()=>{this._assetsById={}}),this._assetsById={},this.disposable.add(new tt(()=>{this.clearAssets()})),vt(this)}dispose(){this.disposable.dispose()}addAsset(t){if(this.assets[t.id])return this.updateAsset(t);this.assets[t.id]=new Ni(t)}addAssets(t){t.forEach(e=>this.addAsset(e))}updateAsset(t){const{id:e,name:i,description:n,type:o,team:a,file:l,source:c,data:h,isPrivate:d,lastWriter:u,preview:f,tags:p,createdAt:g,updatedAt:_}=t;if(!e)return;const v=this.assets[e];v&&("name"in t&&i&&v.setName(i),"description"in t&&n&&v.setDescription(n),"type"in t&&o&&v.setType(o),"team"in t&&a&&v.setTeam(a),"file"in t&&l&&v.setFile(l),"source"in t&&c&&v.setSource(c),"data"in t&&h&&v.setData(h),"isPrivate"in t&&d!==void 0&&v.setIsPrivate(d),"lastWriter"in t&&u&&v.setLastWriter(u),"preview"in t&&v.setPreview(f),"tags"in t&&v.setTags(p),"updatedAt"in t&&_&&v.setUpdatedAt(_),"createdAt"in t&&g&&v.setCreatedAt(g))}get assets(){return this._assetsById}get assetArr(){return Object.values(this.assets)}}gs([V],th.prototype,"_assetsById",2);gs([E],th.prototype,"initAssets",2);gs([E],th.prototype,"addAsset",1);gs([E],th.prototype,"addAssets",1);gs([E],th.prototype,"updateAsset",1);gs([E],th.prototype,"updateAssets",2);gs([E],th.prototype,"deleteAsset",2);gs([E],th.prototype,"deleteAssets",2);gs([E],th.prototype,"clearAssets",2);gs([M],th.prototype,"assets",1);gs([M],th.prototype,"assetArr",1);var Dgt=Object.defineProperty,Fgt=(s,t,e)=>t in s?Dgt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Bgt=(s,t,e)=>(Fgt(s,t+"",e),e);class kgt extends _m{constructor(){super();const t=[[0,0,0],[-.5,-.25,-.75],[.5,-.25,-.75],[.5,.25,-.75],[-.5,.25,-.75]],i=[[0,1],[0,2],[0,3],[0,4],[1,2],[2,3],[3,4],[4,1]].flatMap(n=>[...t[n[0]],...t[n[1]]]);this.setPositions(i)}}const RB=class NB extends Tm{constructor(){super(NB._geometry,Te.lineMaterials.helperMaterial),this.layers.set(ce.WIDGET),this.name="Camera Helper"}};Bgt(RB,"_geometry",new kgt);let Ggt=RB;var jB=Object.defineProperty,Vgt=Object.getOwnPropertyDescriptor,Hgt=(s,t,e)=>t in s?jB(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,nd=(s,t,e,i)=>{for(var n=i>1?void 0:i?Vgt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&jB(t,e,n),n},Ec=(s,t,e)=>(Hgt(s,typeof t!="symbol"?t+"":t,e),e);const Ugt=ce.CAMERA_WIDGET;class So extends Es{constructor(t,e,i){super(t),this._cameraController=e,this._overrideLayer=i,Ec(this,"type",pt.Camera),Ec(this,"_cameraHelper",new Ggt),Ec(this,"isViewfinderOn",!1),Ec(this,"_isAnimating",!1),Ec(this,"_didInit",!1),Ec(this,"_boundingBoxCache",new Qr),Ec(this,"_boundingSphereCache",new Jr),Ec(this,"_unscaledWorld",new Lt),Ec(this,"_tempMat",new Lt),Ec(this,"_tempRot",new ke),Ec(this,"_tempSca",new w),Ec(this,"_tempPos",new w),this._cameraHelper.userData.id=this.entity.id,this._cameraHelper.position.copy(this.entity.transform.positionVec),this._cameraHelper.rotation.copy(this.entity.transform.euler),this._cameraHelper.updateMatrixWorld(),this._overrideLayer&&this._cameraHelper.layers.enable(this._overrideLayer),vt(this)}get parameters(){return this.entity.sceneObject.parameters}get focalLength(){return Zh.fov2FocalLength(this.parameters.fov)}get boundingBoxRevision(){return 0}set focalLength(t){this.parameters.fov=Zh.focalLength2Fov(t)}set overrideLayer(t){this._cameraHelper.layers.disableAll(),this._cameraHelper.layers.enable(t),this._overrideLayer=t}get boundingBox(){const t=this._boundingBoxCache.get();return this._cameraHelper.geometry.boundingBox||this._cameraHelper.geometry.computeBoundingBox(),t.copy(this._cameraHelper.geometry.boundingBox),t}get boundingSphere(){const t=this._boundingSphereCache.get();return t.copy(this._cameraHelper.geometry.boundingSphere),t}get mesh(){return this._cameraHelper}get publishIndex(){return this.parameters.publishIndex}set publishIndex(t){this.parameters.publishIndex=t}set isAnimating(t){this._isAnimating=t}setViewfinderOn(t){this.isViewfinderOn=t}editCameraStart(){this._cameraController.viewCameraById(this.entity.id),this._cameraController.editCamera(this.entity.id)}setTransform(t){this.entity.transform.setMatrix(t)}setParameters(t){const{target:e,focalOffset:i,spherical:n,zoom:o}=t;this.parameters.target=e,this.parameters.focalOffset=i,this.parameters.spherical=n,this.parameters.zoom=o}updateParameters(t){const{target:e,focalOffset:i,spherical:n,zoom:o}=t;this.parameters.target=e,this.parameters.focalOffset=i,this.parameters.spherical=n,this.parameters.zoom=o}watch(){this.disposableReactions.push(rt(()=>{this.entity.transform.matrixGlobal.decompose(this._tempPos,this._tempRot,this._tempSca),this._unscaledWorld.compose(this._tempPos,this._tempRot,Py);const t=this.entity.parent?this._tempMat.copy(this.entity.parent.transform.matrixGlobal).invert().multiply(this._unscaledWorld):this._unscaledWorld;if(this._cameraHelper.matrixAutoUpdate=!1,this._cameraHelper.matrix.copy(t),!this._didInit){this._didInit=!0;return}this._cameraController.updateCameraParametersFromTransform(this,this.entity.transform.matrixGlobal)}),rt(()=>{this._setViewfinderOn(this._cameraController.editedCameraId===this.entity.id)}),rt(()=>{const t=this._cameraController.editedCameraId===this.entity.id||this._cameraController.viewedCameraId===this.entity.id,e=this.entity.isVisible;this._cameraHelper.visible=!t&&e,this._overrideLayer==null&&(this._cameraHelper.layers.disableAll(),this._cameraHelper.layers.enable(t?ce.OVERLAY:Ugt))}),rt(()=>{this.entity.sceneObject.isCurrentlyAnimating&&!this._isAnimating?(this._isAnimating=!0,this.entity.editor.signals.play.cameraAnimationChanged.dispatch({cameraEntityId:this.entity.id,isAnimating:!0})):!this.entity.sceneObject.isCurrentlyAnimating&&this._isAnimating&&(this._isAnimating=!1,this.entity.editor.signals.play.cameraAnimationChanged.dispatch({cameraEntityId:this.entity.id,isAnimating:!1}))}))}_setViewfinderOn(t){this.isViewfinderOn=t}}nd([V],So.prototype,"isViewfinderOn",2);nd([M],So.prototype,"parameters",1);nd([M],So.prototype,"focalLength",1);nd([M({equals:ja.structural})],So.prototype,"boundingBox",1);nd([M({equals:ja.structural})],So.prototype,"boundingSphere",1);nd([E],So.prototype,"setViewfinderOn",1);nd([E],So.prototype,"editCameraStart",1);nd([E],So.prototype,"setTransform",1);nd([E],So.prototype,"setParameters",1);nd([E],So.prototype,"updateParameters",1);nd([E],So.prototype,"_setViewfinderOn",1);var DB=Object.defineProperty,zgt=Object.getOwnPropertyDescriptor,Ygt=(s,t,e)=>t in s?DB(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Pm=(s,t,e,i)=>{for(var n=i>1?void 0:i?zgt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&DB(t,e,n),n},z1=(s,t,e)=>(Ygt(s,typeof t!="symbol"?t+"":t,e),e);class Ra extends Es{constructor(t,e,i){super(t),this.objectType=e,z1(this,"type",pt.Geometry),z1(this,"_base"),z1(this,"geometry"),z1(this,"_boundingBoxRevision",0),z1(this,"_boundingBoxCache",new Qr),z1(this,"_boundingSphereCache",new Jr),this._base=i,this.geometry=this._base.clone(),vt(this)}get base(){return this._base}get boundingBoxRevision(){return this._boundingBoxRevision}get boundingBox(){const t=this._boundingBoxCache.get();return this._boundingBoxRevision,this._base.boundingBox||this._base.computeBoundingBox(),t.copy(this._base.boundingBox),t}get boundingSphere(){const t=this._boundingSphereCache.get();return this._boundingBoxRevision,this._base.boundingSphere||this._base.computeBoundingSphere(),t.copy(this._base.boundingSphere),t}setSize(t){}setBaseGeometry(t){this._base.copy(t),this.entity.sceneObject.lastGeometryUpdated=Date.now()}dispose(){super.dispose(),this.geometry.dispose()}}Pm([V],Ra.prototype,"_base",2);Pm([V],Ra.prototype,"geometry",2);Pm([V],Ra.prototype,"_boundingBoxRevision",2);Pm([M],Ra.prototype,"boundingBoxRevision",1);Pm([M({equals:ja.structural})],Ra.prototype,"boundingBox",1);Pm([M({equals:ja.structural})],Ra.prototype,"boundingSphere",1);Pm([E],Ra.prototype,"setSize",1);Pm([E],Ra.prototype,"setBaseGeometry",1);var Wgt=Object.defineProperty,Xgt=(s,t,e)=>t in s?Wgt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,DE=(s,t,e)=>(Xgt(s,typeof t!="symbol"?t+"":t,e),e);class K5 extends zs{constructor(t,e,i,n,o="LightHelper"){super(),this._light=t,this._helpers=e,this.color=i,this.type=o,DE(this,"_colorCopy"),DE(this,"_scale",new w(1,1,1)),DE(this,"_worldScale",new w),this.setObjectData(this,ce.LIGHT_WIDGET),e.map(a=>a.traverse(l=>{this.setObjectData(l,ce.LIGHT_WIDGET)})),this.add(...e),n&&(n.map(a=>a.traverse(l=>{this.setObjectData(l,ce.LIGHT)})),this.add(...n)),t.add(this),this._colorCopy=i,this.update()}toggleHotSpotMaterial(t){t?(this.color=Yt.lime,this.traverse(e=>{e.layers.enable(ce.HOT_SPOT_VISUALIZATION)})):(this.color=this._colorCopy,this.traverse(e=>{e.layers.disable(ce.HOT_SPOT_VISUALIZATION)})),this._setColor(!0)}dispose(){this.traverse(t=>{if(!t.layers.isEnabled(ce.LIGHT_WIDGET)&&!t.layers.isEnabled(ce.LIGHT))return;const e=t,i=t;(e.isMesh||i.isLine)&&(e.geometry.dispose(),e.material.dispose())})}update(){this._setColor(),this._normalizeScale(),this.updateMatrixWorld()}_setColor(t=!1){this.traverse(e=>{if(!t&&!e.layers.isEnabled(ce.LIGHT_WIDGET)&&!e.layers.isEnabled(ce.LIGHT)&&!e.layers.isEnabled(ce.EFFECT))return;const i=e,n=e;(i.isMesh||n.isLine)&&(this.color!==void 0?i.material.color.set(this.color):i.material.color.copy(this._light.color))})}_getScale(){return this._scale}_normalizeScale(){this.scale.copy(this._getScale()),this.getWorldScale(this._worldScale),this.scale.set(this.scale.x/(this._worldScale.x/this.scale.x),this.scale.y/(this._worldScale.y/this.scale.y),this.scale.z/(this._worldScale.z/this.scale.z))}setObjectData(t,e){t.layers.set(e),t.userData.id=this._light.userData.id,t.userData.isHelper=!0,t.name=this._light.name+"Helper"}setHelperVisible(t){t?this.add(...this._helpers):this.remove(...this._helpers),this.update()}set opacity(t){}}var Zgt=Object.defineProperty,Kgt=(s,t,e)=>t in s?Zgt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,FB=(s,t,e)=>(Kgt(s,typeof t!="symbol"?t+"":t,e),e);const EA=class f6 extends c1{constructor(t){const e=Xx.merge([Zx.common,{color1:{value:new Ge(t==null?void 0:t.color)??new Ge(16777215)}}]);super({uniforms:e,vertexShader:f6.vertexShader,fragmentShader:f6.fragmentShader}),this.depthTest=!0,this.transparent=!0,this.depthWrite=!1,this.toneMapped=!1}set color(t){this.uniforms.color1.value=t}get color(){var t;return(t=this.uniforms.color1)==null?void 0:t.value}};FB(EA,"vertexShader",`
    ${mi.common}
    ${mi.logdepthbuf_pars_vertex}
  
    varying vec3 vEyeGlobal;
    varying vec3 vNormalGlobal;
  
    void main() {
      mat4 modelMatrixTx = modelMatrix;
          modelMatrixTx[2][3] = 0.0;
          modelMatrixTx[3][0] = 0.0;
          modelMatrixTx[3][1] = 0.0;
          modelMatrixTx[3][2] = 0.0;

      vec4 normalGlobal = modelMatrixTx * vec4(normal.xyz, 1.0);
      vNormalGlobal = normalize(normalGlobal.xyz);

      vEyeGlobal = isPerspectiveMatrix(projectionMatrix) 
        ? (modelMatrix * vec4(position, 1.0)).xyz - cameraPosition 
        : vec3(-viewMatrix[0][2], -viewMatrix[1][2], -viewMatrix[2][2]);
      vEyeGlobal = normalize(vEyeGlobal);
  
      ${mi.begin_vertex}
      ${mi.project_vertex}
      ${mi.logdepthbuf_vertex}
    }
  `);FB(EA,"fragmentShader",`
    varying vec3 vNormalGlobal;
    varying vec3 vEyeGlobal;
    uniform vec3 color1;
    uniform float opacity;
  
    ${mi.common}
    ${mi.logdepthbuf_pars_fragment}
  
    void main() {
  
      ${mi.logdepthbuf_fragment}
      
      float falloff = 6.25;

      float facing = dot(vEyeGlobal, vNormalGlobal);
      facing = pow(0.053 - facing, falloff);
      vec3 finalColor = color1.rgb;

      gl_FragColor = vec4(finalColor, facing * opacity);
      
      // Convert the color to the output color space
      ${mi.colorspace_fragment}
    }
  `);let qgt=EA;var Vg;(s=>{function t(o){return new b_({color:o,toneMapped:!1})}s.createLightHelperLineMaterial=t;function e(o){return new kn({color:o,wireframe:!0,fog:!1,toneMapped:!1})}s.createLightHelperMeshMaterial=e;function i(o){return new kn({color:o,toneMapped:!1})}s.createLightRenderMaterial=i;function n(o){return new qgt({color:o})}s.createBloomMaterial=n})(Vg||(Vg={}));function Qgt(s,t){const e=s/2,i=t/2,n=[[-e,i,0],[e,i,0],[e,-i,0],[-e,-i,0]];return[[0,1],[1,2],[2,3],[3,0]].flatMap(([l,c])=>[...n[l],...n[c]])}const p6=1,Jgt=p6/2;function $gt(){return new e1t}function t1t(){return new Jc(1,1).rotateX(Math.PI)}class e1t extends _m{constructor(){super();const t=Qgt(p6,p6);t.push(0,0,0,0,0,-Jgt),this.setPositions(t)}}var s1t=Object.defineProperty,i1t=(s,t,e)=>t in s?s1t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,SA=(s,t,e)=>(i1t(s,typeof t!="symbol"?t+"":t,e),e);const IA=class m6 extends K5{constructor(t,e,i){const n=new Tm(m6._geometry,e),o=Vg.createLightRenderMaterial(i),a=new re(m6._renderGeometry,o);super(t,[n],i,[a]),this._light=t,SA(this,"_renderMesh"),this._renderMesh=a,this.update()}setGeometryVisible(t){t?this.add(this._renderMesh):this.remove(this._renderMesh),this.update()}_getScale(){return this._scale.set(this._light.width,this._light.height,1)}set opacity(t){this._renderMesh.material.transparent=t<1,this._renderMesh.material.opacity=t}};SA(IA,"_geometry",$gt());SA(IA,"_renderGeometry",t1t());let n1t=IA;var BB=Object.defineProperty,o1t=Object.getOwnPropertyDescriptor,r1t=(s,t,e)=>t in s?BB(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,V_=(s,t,e,i)=>{for(var n=o1t(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&BB(t,e,n),n},SP=(s,t,e)=>(r1t(s,typeof t!="symbol"?t+"":t,e),e);class od extends Kl{constructor(t,e=O5){const i=new MZ(e.color,e.intensity,e.width,e.depth);i.name="Area light",i.userData.id=t.id;const n=t.editor.gizmoMaterialController.createLightHelperMaterial(),o=new n1t(i,n);super(t,L.AREA_LIGHT,i,o),SP(this,"_areaLightHelper"),SP(this,"hasDirection",!0),this._areaLightHelper=o,this._disposable.add(new tt(()=>{t.editor.gizmoMaterialController.disposeLightHelperMaterial(n)})),vt(this)}get boundingBox(){const t=this._boundingBoxCache.get(),{width:e,depth:i}=this.parameters,n=e/2,o=i/2;return t.min.set(-n,-o,0),t.max.set(n,o,0),t}get power(){return this.parameters.intensity*this.parameters.width*this.parameters.depth*Math.PI}set power(t){this.parameters.intensity=t/(this.parameters.width*this.parameters.depth*Math.PI)}get wattage(){return this.power/this.parameters.luminousEfficacy}set wattage(t){this.power=t*this.parameters.luminousEfficacy}setSize(t){this.parameters.width=t.x,this.parameters.depth=t.y}setParameters(t){const{color:e,intensity:i,width:n,depth:o}=t;this._light.color.set(e),this._light.intensity=i,this._light.width=n,this._light.height=o}setAreaLightSettings(t){this.parameters.color=t.color,this.parameters.intensity=t.intensity,this.parameters.width=t.width,this.parameters.depth=t.depth}watch(){super.watch(),this.disposableReactions.push(rt(()=>{this._light.width=this.parameters.width,this._light.height=this.parameters.depth,this._areaLightHelper.update(),this.entity.highlightComponent.update()}),rt(()=>this._areaLightHelper.setGeometryVisible(this.parameters.shouldShowLightRenderMesh)),rt(()=>{this._areaLightHelper.setHelperVisible(this.parameters.shouldShowHelper)}))}}V_([Ui],od.prototype,"boundingBox");V_([M],od.prototype,"power");V_([M],od.prototype,"wattage");V_([E],od.prototype,"setSize");V_([E],od.prototype,"setParameters");V_([E],od.prototype,"setAreaLightSettings");var a1t=Object.defineProperty,l1t=(s,t,e)=>t in s?a1t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,c1t=(s,t,e)=>(l1t(s,t+"",e),e);class fn{static register(t,e,i){if(this.builders.has(t))throw new Error(`Builder for type ${t} already registered`);this.builders.set(t,{builder:e,validator:i})}static getBuilder(t){return this.builders.get(t)}static build(t,e,i,n){const o=this.getBuilder(e.type);if(o&&o.validator(e))return o.builder.build(t,e,i,n)}}c1t(fn,"builders",new Map);const kB=S.literal(L.CAMERA);go.merge(S.object({type:kB,parameters:z7}));function h1t(s){return Ir(s,kB,z7)}class GB{static build(t,e,i){const n=new Je(t,e,i),o=(i==null?void 0:i.type)===L.XRRIG?ce.BODY_RIG_WIDGET:void 0,a=t.sceneController.cameraController,l=new So(n,a,o);return n.addComponent(l),n}}fn.register(L.CAMERA,GB,h1t);const d1t=`
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>

varying vec3 vPos;

void main() {
  vPos = position;

	#include <uv_vertex>
	#include <color_vertex>
	#include <begin_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
}
`,u1t=`
uniform vec3 origin;
uniform vec3 color;
uniform float limitDistance;
uniform bool invert;
varying vec3 vPos;

#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>

void main() {
  float distance = clamp(length(vPos - origin), 0.0, limitDistance);
  float opacity = 0.0;
  if (invert) {
    opacity = distance / limitDistance * distance / limitDistance;
  } else {
    opacity = 1.0 - distance / limitDistance;
  }

	#include <clipping_planes_fragment>

	vec4 diffuseColor = vec4( color, opacity );
	vec3 outgoingLight = diffuseColor.rgb;

	#include <logdepthbuf_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <opaque_fragment>
	#include <premultiplied_alpha_fragment>
}
`;function VB(s,t=.5,e=!1){const i=Xx.merge([Zx.common,{color:{value:s},origin:{value:new w},limitDistance:{value:t},invert:{value:e}}]);return new c1({uniforms:i,vertexShader:d1t,fragmentShader:u1t,transparent:!0})}var f1t=Object.defineProperty,p1t=(s,t,e)=>t in s?f1t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,qm=(s,t,e)=>(p1t(s,typeof t!="symbol"?t+"":t,e),e);const m1t=new w(0,-.5,-.5).normalize();class r2 extends bn{constructor(t){super(),qm(this,"_rayMesh"),qm(this,"_dotMesh"),qm(this,"_whiteColor",new Ge(Iit)),qm(this,"_limeColor",new Ge(Kh)),qm(this,"_cameraPositionGlobal",new w),qm(this,"_cursorPositionGlobal",new w),qm(this,"_disposable",new Zt);const e=new Em(.003,.003,1,4,1,!0);e.translate(0,-.5,0),e.rotateX(Math.PI/4);const i=VB(this._whiteColor);this._rayMesh=new re(e,i),this.add(this._rayMesh);const n=new Ma(1,16,16),o=new kn({color:this._limeColor});this._dotMesh=new re(n,o),this._dotMesh.visible=!1,this.add(this._dotMesh),t.add(this),this._disposable.add(new tt(()=>t.remove(this)))}setIntersectionPoint(t){if(t==null)this._dotMesh.visible=!1;else{const e=this.worldToLocal(t);this._dotMesh.position.set(e.x,e.y,e.z),this._dotMesh.visible=!0}}setIsHighlighted(t){const e=t?this._limeColor:this._whiteColor,i=this._rayMesh.material;i.uniforms.color.value=e,i.uniformsNeedUpdate=!0}update(t,e,i){const n=this._dotMesh;if(!n)return;e.getWorldPosition(this._cameraPositionGlobal),n.getWorldPosition(this._cursorPositionGlobal);const o=this._cameraPositionGlobal.distanceTo(this._cursorPositionGlobal),a=e.cameras[0]??e,l=a.viewport.width;a.viewport.height;const c=rr(6,o,e,l);n.scale.set(c,c,c)}static get rayDirection(){return m1t}dispose(){this._disposable.dispose()}}var g1t=Object.defineProperty,_1t=(s,t,e)=>t in s?g1t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,bx=(s,t,e)=>(_1t(s,typeof t!="symbol"?t+"":t,e),e);class HB extends Event{constructor(t,e){super(t,e),bx(this,"frame"),bx(this,"inputSource"),this.frame=e.frame,this.inputSource=e.inputSource}}class v1t extends HB{constructor(t,e){super(t,e),bx(this,"buttonIndex"),this.buttonIndex=e.buttonIndex}get type(){return super.type}}class IP extends HB{constructor(t,e){super(t,e),bx(this,"axisIndex"),this.axisIndex=e.axisIndex}get type(){return super.type}}var y1t=Object.defineProperty,b1t=(s,t,e)=>t in s?y1t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Qm=(s,t,e)=>(b1t(s,typeof t!="symbol"?t+"":t,e),e);const C1t=new LZ;class g6 extends bn{constructor(t,e,i=!1){super(),this._controllerSpace=t,this._gripSpace=e,Qm(this,"_ray",null),Qm(this,"_controllerModel",null),Qm(this,"_gripRotation",new ke),Qm(this,"_disposable",new Zt),Qm(this,"_intersectionRay",new $p),Qm(this,"_areAnyActive",!1),Qm(this,"_gamepadState"),this.name="XRGripController",this._controllerModel=C1t.createControllerModel(this._controllerSpace),this._gripSpace.add(this._controllerModel),i&&(this._ray=new r2(this._gripSpace)),this._disposable.add(new tt(()=>{var n;return(n=this._ray)==null?void 0:n.dispose()})),this.add(this._controllerSpace,this._gripSpace)}get group(){return this._gripSpace}setShouldDrawControllerMesh(t){this._controllerModel&&(t?this._gripSpace.add(this._controllerModel):this._gripSpace.remove(this._controllerModel))}getIntersectionRay(t){return this._controllerSpace.updateWorldMatrix(!0,!1),this._gripSpace.updateWorldMatrix(!0,!1),this._gripSpace.getWorldPosition(this._intersectionRay.origin),this._gripSpace.getWorldQuaternion(this._gripRotation),this._intersectionRay.direction.set(r2.rayDirection.x,r2.rayDirection.y,r2.rayDirection.z).applyQuaternion(this._gripRotation),this._intersectionRay}onIntersectionChanged(t){this._ray&&(t?(this._ray.setIsHighlighted(!0),this._ray.setIntersectionPoint(t.point)):(this._ray.setIsHighlighted(!1),this._ray.setIntersectionPoint(null)))}update(t,e,i,n){var o;(o=this._ray)==null||o.update(t,e,i),n.gamepad&&this._updateGamepad(n,t)}_updateGamepad(t,e){const{gamepad:i}=t;if(!i)return;const n=this._gamepadState,o={buttons:i.buttons.map(l=>l.value),axes:i.axes.slice(0)};if(!n){this._gamepadState=o;return}o.buttons.forEach((l,c)=>{if(l!==n.buttons[c]){const h=l?"buttondown":"buttonup",d=new v1t(h,{inputSource:t,frame:e,buttonIndex:c,value:l});this._dispatchEvent(d,e)}}),o.axes.forEach((l,c)=>{let h=null;if(n.axes[c]&&(h="axiscontinue"),l!==n.axes[c]&&(n.axes[c]===0?h="axisstart":l===0&&(h="axisend")),h){const d=new IP(h,{inputSource:t,frame:e,axisIndex:c,value:l});this._dispatchEvent(d,e)}});const a=o.axes.some(l=>!!l);if(a){let l=null;if(this._areAnyActive&&(l="joystickcontinue"),!this._areAnyActive!==a&&(this._areAnyActive?a||(l="joystickend"):l="joystickstart"),l){const c=new IP(l,{inputSource:t,frame:e,axisIndex:-1,value:0});this._dispatchEvent(c,e)}}this._areAnyActive=a,this._gamepadState=o}_dispatchEvent(t,e){try{e.session.dispatchEvent(t.type,t)}catch{e.session.dispatchEvent(t)}}dispose(){this._disposable.dispose()}getRayParent(){}}const UB=[1,1,1,.2],w1t=`
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>

varying vec3 eyeNormal;
varying vec3 eyeVertex;

void main()
{
  eyeNormal = normalize(normalMatrix * normal);
  eyeVertex = vec3((modelViewMatrix) * vec4(position, 1.0));

	#include <uv_vertex>
	#include <color_vertex>
	#include <begin_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
}
`,x1t=`
varying vec3 eyeNormal;
varying vec3 eyeVertex;
uniform vec4 highlightColor;

#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>

void main() {
  float dotEyeNormal = dot(normalize(-eyeVertex), normalize(eyeNormal));
  dotEyeNormal = max(0.0, dotEyeNormal);
  vec4 black = vec4(0.0, 0.0, 0.0, 1.0);
  vec4 white = vec4(1.0, 1.0, 1.0, 1.0);

  #include <clipping_planes_fragment>
  vec4 diffuseColor = vec4(0.0, 0.0, 0.0, 1.0 );
  if (dotEyeNormal <= 0.6) {
    diffuseColor = mix(black, white, smoothstep(0.55, 0.6, dotEyeNormal));
  } else {
    diffuseColor = mix( white, highlightColor, smoothstep(0.6, 1.0, dotEyeNormal));
  }

  vec3 outgoingLight = diffuseColor.rgb;

	#include <logdepthbuf_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <opaque_fragment>
	#include <premultiplied_alpha_fragment>
}
`;function E1t(){return new c1({vertexShader:w1t,fragmentShader:x1t,uniforms:{highlightColor:{value:UB}}})}var S1t=Object.defineProperty,I1t=(s,t,e)=>t in s?S1t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Jm=(s,t,e)=>(I1t(s,typeof t!="symbol"?t+"":t,e),e);const zB=.1,A1t=1,AP=32,T1t=[.808,.949,.247,1];class P1t{constructor(t,e){Jm(this,"_pointerModel"),Jm(this,"_cursorMaterial",E1t()),Jm(this,"_isInitialized",!1),Jm(this,"_isHighlighted",!1),Jm(this,"_cursorDistance",zB),Jm(this,"_cameraPositionGlobal",new w),Jm(this,"_cursorPositionGlobal",new w),this._pointerModel=new RZ(t,e)}init(){this._pointerModel.cursorObject!=null&&(this._pointerModel.cursorObject.geometry=new Ma(A1t,AP,AP),this._pointerModel.cursorObject.material=this._cursorMaterial,this._pointerModel.cursorObject.material.transparent=!0,this._pointerModel.cursorObject.material.depthWrite=!1,this._isInitialized=!0)}get model(){return this._pointerModel}setCursorDistance(t){this._cursorDistance=t}update(t,e,i){const n=this._pointerModel.cursorObject;if(!n)return;this._pointerModel.setCursor(this._cursorDistance),e.getWorldPosition(this._cameraPositionGlobal),n.getWorldPosition(this._cursorPositionGlobal);const o=this._cameraPositionGlobal.distanceTo(this._cursorPositionGlobal),a=e.cameras[0]??e,l=a.viewport.width;a.viewport.height;const c=rr(12,o,e,l);n.scale.set(c,c,c)}getIntersectionRay(){return this._pointerModel.raycaster?this._pointerModel.raycaster.ray:null}getIntersections(t){return this._pointerModel.visible?this._pointerModel.intersectObjects(t,!0):[]}set visible(t){this._pointerModel.visible=t}get isInitialized(){return this._isInitialized}get isHighlighted(){return this._isHighlighted}updateCursorHighlight(t){if(this._isHighlighted===t)return;const e=t?T1t:UB,i=this._cursorMaterial;i.uniforms.highlightColor.value=e,i.uniformsNeedUpdate=!0,this._isHighlighted=t}}var O1t=Object.defineProperty,M1t=(s,t,e)=>t in s?O1t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Y1=(s,t,e)=>(M1t(s,typeof t!="symbol"?t+"":t,e),e);const L1t=[["index-finger-tip","index-finger-metacarpal"],["middle-finger-tip","middle-finger-metacarpal"],["ring-finger-tip","ring-finger-metacarpal"],["pinky-finger-tip","pinky-finger-metacarpal"]],R1t=.06,FE=.5,TP=.8,N1t=.2,j1t=.5;var cf=(s=>(s.PALM_IN_FIST="palmInFist",s.PALM_UP_POINTER_FINGER_EXTENDED="palmUpPointerFingerExtended",s.PALM_UP_POINTER_FINGER_CURLING="palmUpPointerFingerCurling",s.PALM_UP_POINTER_FINGER_CURLED_IN="palmUpPointerFingerCurledIn",s))(cf||{});class D1t{constructor(t){this._joints=t,Y1(this,"_isVisible",!1),Y1(this,"_position1",new w),Y1(this,"_position2",new w),Y1(this,"_position3",new w),Y1(this,"_wristUp",new w),Y1(this,"_wristForward",new w)}detectGesture(){var i;this._isVisible=!!((i=this._joints.wrist)!=null&&i.visible);let t=null;if(!this._isVisible)return{isVisible:this._isVisible,gesture:t};const e=this._getOrientation();return(e==null?void 0:e.roll)==="palmIn"&&(e==null?void 0:e.pitch)==="palmHorizontal"?this._checkIsFist()&&(t="palmInFist"):(e==null?void 0:e.pitch)==="palmHorizontal"&&(e==null?void 0:e.roll)==="palmUp"&&(t=this._getPointerFingerPosition()),{isVisible:this._isVisible,gesture:t}}_getOrientation(){this._wristUp.copy(vi);const t=this._joints.wrist;let e="other",i="other";if(t==null||t.quaternion==null)return{roll:e,pitch:i};this._wristUp.applyQuaternion(t.quaternion),t.getWorldDirection(this._wristForward);const n=this._wristUp.angleTo(vi),o=this._wristForward.angleTo(vi);return Math.abs(n)<FE?e="palmDown":Math.abs(Math.PI-n)<FE?e="palmUp":Math.abs(Math.PI/2-n)<FE&&(e="palmIn"),Math.abs(Math.PI/2-o)<TP?i="palmHorizontal":Math.abs(Math.PI-o)<TP&&(i="palmVertical"),{roll:e,pitch:i}}_checkIsFist(){var t,e;for(const i of L1t){const n=(t=this._joints[i[0]])==null?void 0:t.position,o=(e=this._joints[i[1]])==null?void 0:e.position;if(!n||!o||(this._position1.set(n.x,n.y,n.z),this._position2.set(o.x,o.y,o.z),this._position1.distanceTo(this._position2)>R1t))return!1}return!0}_getPointerFingerPosition(){const t=["index-finger-tip","index-finger-phalanx-intermediate","index-finger-phalanx-proximal"],e=[this._position1,this._position2,this._position3],i=t.map((l,c)=>e[c].copy(this._joints[l].position));if(i[0]==null||i[1]==null||i[2]==null)return null;const n=i[0].sub(i[1]),o=i[1].sub(i[2]),a=n.angleTo(o);return a<N1t?"palmUpPointerFingerExtended":a<j1t?"palmUpPointerFingerCurling":"palmUpPointerFingerCurledIn"}}var wr=(s=>(s.START="teleportraystart",s.UPDATE="teleportrayupdate",s.CANCEL="teleportraycancel",s.COMMIT_START="teleportcommitstart",s.COMMIT_END="teleportcommitend",s))(wr||{}),Vc=(s=>(s.SUPPORTED_AR="supported_ar",s.SUPPORTED_VR="supported_vr",s.UNSUPPORTED="unsupported",s.NOT_FOUND="not found",s.NOT_ALLOWED="not allowed",s))(Vc||{}),F1t=Object.defineProperty,B1t=(s,t,e)=>t in s?F1t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,nf=(s,t,e)=>(B1t(s,typeof t!="symbol"?t+"":t,e),e);const PP=5,OP=50,k1t=[cf.PALM_UP_POINTER_FINGER_CURLED_IN,cf.PALM_UP_POINTER_FINGER_CURLING,cf.PALM_UP_POINTER_FINGER_EXTENDED];class G1t extends Event{constructor(t,e){super(t,e),nf(this,"frame"),nf(this,"inputSource"),this.frame=e.frame,this.inputSource=e.inputSource}get type(){return super.type}}class _6 extends bn{constructor(t,e,i=!1){super(),this._controllerSpace=t,this._handSpace=e,nf(this,"_disposable",new Zt),nf(this,"_handPointer",null),nf(this,"_handModel",null),nf(this,"_handGestureRecognizer"),nf(this,"_activeHandGesture",null),nf(this,"_framesSinceGestureDetected",0),nf(this,"_framesSinceTeleportCommit",null),this.name="XRHandController",this._handModel=new NZ(this._handSpace),this._handSpace.add(this._handModel),i&&(this._handPointer=new P1t(this._handSpace,this._controllerSpace),this._handSpace.add(this._handPointer.model),this._disposable.add(new tt(()=>this._handPointer&&this._handSpace.remove(this._handPointer.model)))),this._handGestureRecognizer=new D1t(this._handSpace.joints),this.add(this._controllerSpace,this._handSpace)}get group(){return this._handSpace}setShouldDrawControllerMesh(t){this._handModel&&(t?this._handSpace.add(this._handModel):this._handSpace.remove(this._handModel))}getIntersectionRay(t){return this._handPointer?this._handPointer.getIntersectionRay():null}onIntersectionChanged(t){var i;const e=t?t.distance:zB;(i=this._handPointer)==null||i.setCursorDistance(e)}update(t,e,i,n){var l,c;this._handPointer!=null&&!this._handPointer.isInitialized&&this._handPointer.init(),(l=this._handPointer)==null||l.updateCursorHighlight(this._handSpace.inputState.pinching),(c=this._handPointer)==null||c.update(t,e,i);const{isVisible:o,gesture:a}=this._handGestureRecognizer.detectGesture();if(this._handModel&&(this._handModel.visible=o),!!o){switch(this._framesSinceTeleportCommit!=null&&this._framesSinceTeleportCommit<OP&&(this._framesSinceTeleportCommit+=1),a){case cf.PALM_IN_FIST:{a!==this._activeHandGesture&&(this._dispatchXRInputSourceEvent("squeezestart",n,t),this._activeHandGesture=a);break}case cf.PALM_UP_POINTER_FINGER_EXTENDED:{a!==this._activeHandGesture?(this._framesSinceTeleportCommit==null||this._framesSinceTeleportCommit>=OP)&&(this._dispatchXRHandEvent(wr.START,n,t),this._activeHandGesture=a,this._framesSinceTeleportCommit=null):this._dispatchXRHandEvent(wr.UPDATE,n,t);break}case cf.PALM_UP_POINTER_FINGER_CURLING:{this._activeHandGesture!==a?this._framesSinceGestureDetected>PP?(this._dispatchXRHandEvent(wr.COMMIT_START,n,t),this._activeHandGesture=a,this._framesSinceGestureDetected=0):this._framesSinceGestureDetected+=1:this._dispatchXRHandEvent(wr.COMMIT_START,n,t);break}case cf.PALM_UP_POINTER_FINGER_CURLED_IN:{this._framesSinceGestureDetected>PP&&this._activeHandGesture!==a?(this._dispatchXRHandEvent(wr.COMMIT_END,n,t),this._framesSinceTeleportCommit=0,this._activeHandGesture=a):this._activeHandGesture!==a&&(this._framesSinceGestureDetected+=1);break}default:this._activeHandGesture===cf.PALM_IN_FIST?this._dispatchXRInputSourceEvent("squeezeend",n,t):this._activeHandGesture!=null&&this._dispatchXRHandEvent(wr.CANCEL,n,t),this._activeHandGesture=a}this._handPointer!=null&&(this._handPointer.visible=!this._activeHandGesture||!k1t.includes(this._activeHandGesture))}}dispose(){this._disposable.dispose()}getRayParent(){return this._handSpace.joints["index-finger-tip"]??void 0}_dispatchXRInputSourceEvent(t,e,i){const n=new XRInputSourceEvent(t,{inputSource:e,frame:i});try{i.session.dispatchEvent(n.type,n)}catch{i.session.dispatchEvent(n)}}_dispatchXRHandEvent(t,e,i){const n=new G1t(t,{inputSource:e,frame:i});try{i.session.dispatchEvent(n.type,n)}catch{i.session.dispatchEvent(n)}}}class YB{static build(t,e,i){const n=new Je(t,e,i),o=new Fs(n);n.addComponent(o);const l=e.name.includes("Left")?"left":"right",c=new fl(n,l);return n.addComponent(c),n}}fn.register(L.HAND,YB,Lft);class WB{static build(t,e,i){const n=new Je(t,e,i),o=new Fs(n);n.addComponent(o);const a=new vm(n);return n.addComponent(a),n}}fn.register(L.HEAD,WB,Mft);var XB=Object.defineProperty,V1t=Object.getOwnPropertyDescriptor,H1t=(s,t,e)=>t in s?XB(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,ec=(s,t,e,i)=>{for(var n=i>1?void 0:i?V1t(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&XB(t,e,n),n},zn=(s,t,e)=>(H1t(s,typeof t!="symbol"?t+"":t,e),e);const U1t=.01,z1t=.04;class dr extends Es{constructor(t,e=!1){super(t),zn(this,"type",pt.BodyRig),zn(this,"_base",null),zn(this,"_head",null),zn(this,"_camera",null),zn(this,"_leftHand",null),zn(this,"_rightHand",null),zn(this,"_isAnimating",!1),zn(this,"_height",Pg.height),zn(this,"_isShowControllers",Pg.isShowControllers),zn(this,"_isDirectTouchEnabled",Pg.isDirectTouchEnabled),zn(this,"_headset",Pg.headset),zn(this,"_effectiveStateId",null),zn(this,"_wasDirectTouchIntialized",!1),zn(this,"_trackedBaseWorldPosition",new w),zn(this,"_trackedBaseWorldQuaternion",new ke),zn(this,"_trackedBaseWorldMatrix",new Lt),zn(this,"_trackedBaseWorldScale",new w(1,1,1)),zn(this,"_directTouchPointWorldPosition",new w),zn(this,"_directTouchGripWorldDirection",new w),zn(this,"_headCameraWorldPosition",new w),zn(this,"_headCameraWorldQuaternion",new ke),zn(this,"_cameraUpdateDisposer",null),this._createBaseGeometry(),e&&(this._head=this._createHead(),this._leftHand=this._createHand("left"),this._rightHand=this._createHand("right"),this._camera=this._createCamera(this._head),this._arrangeBodyParts(),this._updateCameraFromRigTransform(this.entity.sceneObject.position,this.entity.sceneObject.rotation)),vt(this)}get parameters(){return this.entity.sceneObject.parameters}get effectiveStateId(){return this._effectiveStateId}_createBaseGeometry(){const t=new b_({transparent:!0,vertexColors:!0,toneMapped:!1}),e=new jZ(.15,.15,24);e.rotateX(-Math.PI/2);const i=[];for(let a=0;a<e.getAttribute("position").count;a++)i.push(1,1,1,.25);e.setAttribute("color",new or(i,4));const n=new C_(e,t);n.userData.id=this.entity.id,n.layers.set(ce.BODY_RIG_WIDGET),n.name="BodyRigBaseRing",this._base=new bn,this._base.userData.id=this.entity.id,this._base.layers.set(ce.BODY_RIG_WIDGET),this._base.name="BodyRigBase",this._base.add(n);const o=this.entity.getComponent(Fs);o&&o.mesh.add(this._base),this._setGeometry()}async _setGeometry(){const t=new Xr({transparent:!0,vertexColors:!0,toneMapped:!1}),e=new Zg,i=await xs("rig_torso.glb");if(i)try{e.load(i,n=>{var l;const a=n.scene.children[0];a.name="BodyRigTorso",a.position.set(0,this._height-.5,0),a.updateMatrixWorld(!0),a.traverse(c=>{if(c instanceof re){const h=[];for(let d=0;d<c.geometry.getAttribute("position").count;d++)h.push(1,1,1,.25);c.geometry.setAttribute("color",new or(h,4)),c.material=t,c.layers.set(ce.BODY_RIG_WIDGET),c.userData.id=this.entity.id}}),a.layers.set(ce.BODY_RIG_WIDGET),(l=this._base)==null||l.add(a),this.entity.editor.signals.object.hierarchyNeedsRebuild.dispatch()})}catch(n){console.error("error",n)}}setHead(t){this._head=t,this._arrangeBodyParts()}setHand(t){t.entity.name.includes("Left")?this._leftHand=t:this._rightHand=t,this._arrangeBodyParts()}setCamera(t){this._camera=t,t.entity.sceneObject.isInteractive=!1,this.entity.editor.sceneController.cameraController.updateCameraStateBookmarks(t),this._updateCameraFromRigTransform(this.entity.sceneObject.position,this.entity.sceneObject.rotation),this._camera.overrideLayer=ce.BODY_RIG_WIDGET,this._arrangeBodyParts()}_createHead(){const t={...Do,id:Ht(),name:"Head",type:L.HEAD,isScaleLinked:!0,isInteractive:!1,isReadOnly:!0},i=WB.build(this.entity.editor,t,this.entity).getComponent(vm);if(!i)throw new Error("Head component not found");return this.entity.editor.sceneController.addSceneEntity(i.entity,!1,ns.AFTER,null,this.entity),i}_createCamera(t){const e=this.entity.editor.sceneController.cameraController,i=t.entity,n=new w,o=new ke,a=new w;i.transform.matrixGlobal.decompose(n,o,a);const l=n.add(Af.clone().negate().multiplyScalar(4)),c=new Kg().setFromVector3(n),h=new w,d=Xe.PERSPECTIVE,u=22,f=1,p=e.generateNextIndex(),g={index:1,target:{x:l.x,y:l.y,z:l.z},spherical:{radius:c.radius,phi:c.phi,theta:c.theta},focalOffset:{x:h.x,y:h.y,z:h.z},projection:d,fov:u,zoom:f,isBookmark:!0,publishIndex:p,lensUnit:Kr.FOV},_={...Do,id:Ht(),name:"Body rig camera",type:L.CAMERA,isScaleLinked:!0,isReadOnly:!0,parameters:g},y=GB.build(this.entity.editor,_,t.entity).getComponent(So);if(!y)throw new Error("Camera component not found");return e.cameraComponentsById[y.entity.id]=y,this.entity.editor.sceneController.addSceneEntity(y.entity,!1,ns.AFTER,null,t.entity),y}_createHand(t){const e=t.charAt(0).toUpperCase()+t.slice(1),i={...Do,id:Ht(),name:`${e} Hand`,type:L.HAND,isScaleLinked:!0,parameters:{helperType:Pi.NONE},isInteractive:!1,isReadOnly:!0},o=YB.build(this.entity.editor,i,this.entity).getComponent(fl);if(!o)throw new Error("Hand component not found");return this.entity.editor.sceneController.addSceneEntity(o.entity,!1,ns.AFTER,null,this.entity),o}_arrangeBodyParts(){var e;if(!this.head||!this.leftHand||!this.rightHand||!this.camera)return;this.head.entity.transform.setPosition({x:0,y:this._height-.2,z:0},!0),this.camera.entity.transform.setPosition({x:0,y:0,z:0},!0),this.leftHand.entity.transform.setPosition({x:-.4,y:this._height-.8,z:0},!0),this.leftHand.entity.transform.setRotation(cx.getControllerRotationOffset(this._headset,"left"),!0),this.rightHand.entity.transform.setPosition({x:.4,y:this._height-.8,z:0},!0),this.rightHand.entity.transform.setRotation(cx.getControllerRotationOffset(this._headset,"right"),!0);const t=(e=this._base)==null?void 0:e.children[1];t&&(t.position.set(0,this._height-.5,0),t.updateMatrixWorld(!0))}get mesh(){return this._base}get head(){return this._head}get camera(){return this._camera}get leftHand(){return this._leftHand}get rightHand(){return this._rightHand}get height(){return this._height}get isShowControllers(){return this._isShowControllers}get isDirectTouchEnabled(){return this._isDirectTouchEnabled}get headset(){return this._headset}set height(t){this.parameters.height=t}setIsShowControllers(t){this.parameters.isShowControllers=t}setIsDirectTouchEnabled(t){this.parameters.isDirectTouchEnabled=t}setHeadset(t){this.parameters.headset=t,this._arrangeBodyParts(),this.entity.editor.signals.object.sceneGraphChanged.dispatch()}_setHeight(t){this._height=t,this._arrangeBodyParts(),this.entity.editor.signals.object.sceneGraphChanged.dispatch()}_setIsShowControllers(t){this._isShowControllers=t,this.entity.editor.signals.object.sceneGraphChanged.dispatch()}_setIsDirectTouchEnabled(t){this._isDirectTouchEnabled=t,!this.entity.editor.sceneController.isEditorMode&&(this._updateDirectTouch(),this.entity.editor.signals.object.sceneGraphChanged.dispatch())}_updateDirectTouch(){if(this._isDirectTouchEnabled)switch(this._clearDirectTouchColliders(),this.headset){case Kn.HANDS:this._setDirectTouchColliders(sf);break;case Kn.QUEST_2:case Kn.QUEST_PRO:this._setDirectTouchColliders(new Set(["LIndex","RIndex"]),z1t);break;case Kn.NONE:}else this._clearDirectTouchColliders()}_clearDirectTouchColliders(){for(const t of sf)this.entity.editor.physicsController.removeColliderById(t)}_setDirectTouchColliders(t,e=U1t){for(const i of t){const n={id:i,name:i,shape:{type:Bn.SPHERE,radius:e,radialPadding:0},position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},isEnabled:!0};this.entity.editor.physicsController.addCollider(n)}}_setHeadset(t){this._headset=t,this.leftHand&&this.leftHand.setHeadset(t),this.rightHand&&this.rightHand.setHeadset(t),this.entity.editor.signals.object.sceneGraphChanged.dispatch()}setParameters(t){const{height:e,isShowControllers:i,headset:n,isDirectTouchEnabled:o}=t;this.parameters.height=e,this._setHeight(e),this.parameters.isShowControllers=i,this._setIsShowControllers(i),this._setIsDirectTouchEnabled(o),this.parameters.headset=n,this._setHeadset(n)}onXRSessionStarted(t,e){}updateFromHeadset(t,e){var i,n,o;if(this._wasDirectTouchIntialized||(this._updateDirectTouch(),this._wasDirectTouchIntialized=!0),this.entity.sceneObject.setTemporaryState(Hp),(i=this.camera)==null||i.entity.sceneObject.setTemporaryState(Hp),t.getWorldPosition(this._trackedBaseWorldPosition),t.getWorldQuaternion(this._trackedBaseWorldQuaternion),this._trackedBaseWorldPosition.y-=this._height,this.mesh&&this.entity.transform.setMatrix(this._trackedBaseWorldMatrix.compose(this._trackedBaseWorldPosition,this._trackedBaseWorldQuaternion,this._trackedBaseWorldScale),!0),this.head&&this.head.entity.transform.setMatrix(t.matrixWorld,!0),this.leftHand){const a=(n=e.find(l=>{var c;return((c=l.inputSource)==null?void 0:c.handedness)==="left"}))==null?void 0:n.activeControllerGroup;if(a instanceof g6){const l=a.group;l&&this.leftHand.entity.transform.setMatrix(l.matrixWorld,!0),this._isDirectTouchEnabled&&this._updateDirectTouchCollidersForController("left",a)}else if(a instanceof _6){const l=a.group.joints.wrist;l&&this.leftHand.entity.transform.setMatrix(l.matrixWorld,!0),this._isDirectTouchEnabled&&this._updateDirectTouchCollidersForFingers("left",a)}}if(this.rightHand){const a=(o=e.find(l=>{var c;return((c=l.inputSource)==null?void 0:c.handedness)==="right"}))==null?void 0:o.activeControllerGroup;if(a instanceof g6){const l=a.group;l&&this.rightHand.entity.transform.setMatrix(l.matrixWorld,!0),this._isDirectTouchEnabled&&this._updateDirectTouchCollidersForController("right",a)}else if(a instanceof _6){const l=a.group.joints.wrist;l&&this.rightHand.entity.transform.setMatrix(l.matrixWorld,!0),this._isDirectTouchEnabled&&this._updateDirectTouchCollidersForFingers("right",a)}}}_updateDirectTouchCollidersForController(t,e){const i=t==="left"?"L":"R",n=this.entity.editor.physicsController.getColliderById(`${i}Index`);n&&(e.group.getWorldPosition(this._directTouchPointWorldPosition),e.group.getWorldDirection(this._directTouchGripWorldDirection),this._directTouchPointWorldPosition.add(this._directTouchGripWorldDirection.normalize().multiplyScalar(-.05)),n.setTranslation({x:this._directTouchPointWorldPosition.x,y:this._directTouchPointWorldPosition.y,z:this._directTouchPointWorldPosition.z}))}_updateDirectTouchCollidersForFingers(t,e){const i=t==="left"?"L":"R",n=this.entity.editor.physicsController.getColliderById(`${i}Index`),o=this.entity.editor.physicsController.getColliderById(`${i}Middle`),a=this.entity.editor.physicsController.getColliderById(`${i}Ring`),l=this.entity.editor.physicsController.getColliderById(`${i}Pinky`),c=this.entity.editor.physicsController.getColliderById(`${i}Thumb`),h=e.group.joints["index-finger-tip"];h&&n&&(h.getWorldPosition(this._directTouchPointWorldPosition),n.setTranslation({x:this._directTouchPointWorldPosition.x,y:this._directTouchPointWorldPosition.y,z:this._directTouchPointWorldPosition.z}));const d=e.group.joints["middle-finger-tip"];d&&o&&(d.getWorldPosition(this._directTouchPointWorldPosition),o.setTranslation({x:this._directTouchPointWorldPosition.x,y:this._directTouchPointWorldPosition.y,z:this._directTouchPointWorldPosition.z}));const u=e.group.joints["ring-finger-tip"];u&&a&&(u.getWorldPosition(this._directTouchPointWorldPosition),a.setTranslation({x:this._directTouchPointWorldPosition.x,y:this._directTouchPointWorldPosition.y,z:this._directTouchPointWorldPosition.z}));const f=e.group.joints["pinky-finger-tip"];f&&l&&(f.getWorldPosition(this._directTouchPointWorldPosition),l.setTranslation({x:this._directTouchPointWorldPosition.x,y:this._directTouchPointWorldPosition.y,z:this._directTouchPointWorldPosition.z}));const p=e.group.joints["thumb-tip"];p&&c&&(p.getWorldPosition(this._directTouchPointWorldPosition),c.setTranslation({x:this._directTouchPointWorldPosition.x,y:this._directTouchPointWorldPosition.y,z:this._directTouchPointWorldPosition.z}))}_updateCameraFromRigTransform(t,e){var n;if(!this.camera||!this.head)return;(n=this.camera)==null||n.entity.sceneObject.setTemporaryState(Hp);const i=this.head.mesh;i.getWorldPosition(this._headCameraWorldPosition),i.getWorldQuaternion(this._headCameraWorldQuaternion),this.entity.editor.sceneController.cameraController.updateCameraParametersFromTransform(this.camera,i.matrixWorld),this.camera.mesh.position.copy(this._headCameraWorldPosition),this.camera.mesh.quaternion.copy(this._headCameraWorldQuaternion),this.camera.entity.states.setStartState(Hp)}watch(){this.disposableReactions.push(rt(()=>{this._setHeight(this.parameters.height)}),rt(()=>{this._setHeadset(this.parameters.headset)}),rt(()=>{this._setIsShowControllers(this.parameters.isShowControllers)}),rt(()=>{this._setIsDirectTouchEnabled(this.parameters.isDirectTouchEnabled)}),rt(()=>{var i;const t=this.entity.sceneObject.activeState;t!==an&&t!==Hp&&(this._effectiveStateId=t);const e=((i=this.camera)==null?void 0:i.entity.id)??"";this.entity.sceneObject.activeState===an&&!this._isAnimating?(this._isAnimating=!0,this.entity.editor.signals.play.cameraAnimationChanged.dispatch({cameraEntityId:e,isAnimating:!0})):this.entity.sceneObject.activeState!==an&&this._isAnimating&&(this._isAnimating=!1,this.entity.editor.signals.play.cameraAnimationChanged.dispatch({cameraEntityId:e,isAnimating:!1}))}),this._cameraUpdateDisposer=rt(()=>{this._updateCameraFromRigTransform(this.entity.sceneObject.position,this.entity.sceneObject.rotation)})),this.entity.editor.sceneController.isEditorMode||this._cameraUpdateDisposer()}dispose(){super.dispose(),this._base&&Pf(this._base),this.entity.editor.sceneController.setXrRigComponent(null)}}ec([V],dr.prototype,"_height",2);ec([V],dr.prototype,"_isShowControllers",2);ec([V],dr.prototype,"_isDirectTouchEnabled",2);ec([V],dr.prototype,"_headset",2);ec([V],dr.prototype,"_effectiveStateId",2);ec([M],dr.prototype,"parameters",1);ec([M],dr.prototype,"effectiveStateId",1);ec([E],dr.prototype,"_setIsShowControllers",1);ec([E],dr.prototype,"_setIsDirectTouchEnabled",1);ec([E],dr.prototype,"_updateDirectTouch",1);ec([E],dr.prototype,"_setHeadset",1);ec([E],dr.prototype,"setParameters",1);ec([E],dr.prototype,"updateFromHeadset",1);var Y1t=Object.defineProperty,W1t=(s,t,e)=>t in s?Y1t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,X1t=(s,t,e)=>(W1t(s,t+"",e),e);class eu extends $n{constructor(t,e){super(),X1t(this,"_geometry",null),this._geometry=t;const i=t.cloneBuffers();this._updateAttributes(i,e)}_onSetParameters(){if(!this._geometry){U.warn("AWASMGeometry: No geometry to update");return}const t=this._geometry.cloneBuffers();this._updateAttributes(t),this.computeBoundingSphere(),this.computeBoundingBox()}static _getBufferOptions(){return{polygons:{enabled:!0},positions:void 0,colors:void 0,normals:void 0,uvs:void 0}}_updateAttributes(t,e){if(this.setAttribute("position",new $s(t.positions.value,Xct)),this.setAttribute("normal",new $s(t.normals.value,qct)),this.setAttribute("uv",new $s(t.uvs.value,Zct)),this.setAttribute("color",new $s(t.colors.value,Kct)),e&&!this.index){const n=new Uint32Array(e);this.setIndex(new $s(n,1))}this._updateIndex(t.indices.value),t.polygons&&this.setAttribute("polygons",new $s(new Uint32Array(t.polygons.value),1));const i=t.indices.value.length;this.setDrawRange(0,i)}_updateIndex(t){this.index&&(this.index.set(t),this.index.needsUpdate=!0)}dispose(){super.dispose(),this._geometry?(this._geometry.delete(),this._geometry=null):U.warn("AWASMGeometry: No geometry to dispose")}}var Z1t=Object.defineProperty,K1t=(s,t,e)=>t in s?Z1t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,q1t=(s,t,e)=>(K1t(s,t+"",e),e);class _1{static async initialize(){this._beziEngine||(this._beziEngine=await DZ())}static getBeziEngine(){if(!this._beziEngine)throw new Error("WASMModuleManager not initialized! Did you forget to call WASMModuleManager.initialize()?");return this._beziEngine}}q1t(_1,"_beziEngine",null);const Q1t=16,J1t=32;function $1t(){return{width:1,height:1,depth:1,bevelOffset:.05,bevelSegments:J1t}}class t0t extends eu{get isBoxGeometry(){return!0}constructor(t=1,e=1,i=1,n=0,o=4){const a=_1.getBeziEngine(),l={width:t??kr.width,height:e??kr.height,depth:i??kr.depth,bevelOffset:n??kr.bevelOffset,bevelSegments:o??kr.bevelSegments},c=eu._getBufferOptions(),h=new a.BoxGeometry(l,c),d=a.BoxGenerator_queryIndexCount($1t());super(h,d)}setSize(t,e,i,n,o){if(!this._geometry)return;const a={width:t??kr.width,height:e??kr.depth,depth:i??kr.height,bevelOffset:n??kr.bevelOffset,bevelSegments:o??kr.bevelSegments};this._geometry.regenerate(a),this._onSetParameters()}}var e0t=Object.defineProperty,s0t=Object.getOwnPropertyDescriptor,Om=(s,t,e,i)=>{for(var n=s0t(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&e0t(t,e,n),n};class ru extends Ra{constructor(t,e=kr){const i=new t0t(e.width,e.height,e.depth,e.bevelOffset,e.bevelSegments);super(t,L.BOX,i),this._base=i}get parameters(){return this.entity.sceneObject.parameters}setParameters(t){const{width:e,height:i,depth:n,bevelOffset:o,bevelSegments:a}=t;this._base.setSize(e,i,n,o,a)}applyScale({x:t,y:e,z:i}){const{width:n,height:o,depth:a,bevelOffset:l}=this.calculateAppliedScale({x:t,y:e,z:i});this.parameters.width=n,this.parameters.height=o,this.parameters.depth=a,this.parameters.bevelOffset=l}calculateAppliedScale({x:t,y:e,z:i}){let n=1;t>=1&&e>=1&&i>=1?n=Math.max(t,e,i):t<=1&&e<=1&&i<=1?n=Math.min(t,e,i):n=Math.hypot(t,e,i);const o=this.parameters.width*t,a=this.parameters.height*e,l=this.parameters.depth*i,c=this._calculateConstrainedBevelOffset(this.parameters.bevelOffset*n);return{width:o,height:a,depth:l,bevelOffset:c}}get constrainedBevelOffset(){return this._calculateConstrainedBevelOffset(this.parameters.bevelOffset)}setSize(t){this.parameters.width=t.x,this.parameters.height=t.y,this.parameters.depth=t.z}get boundingBox(){const t=this._boundingBoxCache.get(),{width:e,height:i,depth:n}=this.parameters,o=e/2,a=n/2,l=i/2;return t.min.set(-o,-l,-a),t.max.set(o,l,a),t}get boundingSphere(){const t=this._boundingSphereCache.get();return this.boundingBox.getBoundingSphere(t),t}_calculateConstrainedBevelOffset(t){const{width:e,height:i,depth:n}=this.parameters;return Math.min(e/2,i/2,n/2,t)}get maxBevelOffset(){return Math.min(this.parameters.width,this.parameters.height,this.parameters.depth)/2}watch(){this.disposableReactions.push(rt(()=>{const t=this.parameters,e=this.constrainedBevelOffset;this._base.setSize(t.width,t.height,t.depth,e,t.bevelSegments),Jt(()=>{this.geometry=this._base,this.entity.sceneObject.lastGeometryUpdated=Date.now(),this.entity.highlightComponent.update(),this._boundingBoxRevision++})}))}setBaseGeometry(t){this._base=t,this.entity.sceneObject.lastGeometryUpdated=Date.now()}}Om([M],ru.prototype,"parameters");Om([E],ru.prototype,"applyScale");Om([M],ru.prototype,"constrainedBevelOffset");Om([Ui],ru.prototype,"setSize");Om([Ui],ru.prototype,"boundingBox");Om([Ui],ru.prototype,"boundingSphere");Om([M],ru.prototype,"maxBevelOffset");Om([Ui],ru.prototype,"setBaseGeometry");var i0t=Object.defineProperty,n0t=(s,t,e)=>t in s?i0t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,v1=(s,t,e)=>(n0t(s,typeof t!="symbol"?t+"":t,e),e);const Mm=class Cg{constructor(){}static buildFromData(t){const e=this._createColliderDescByType(null,t),{position:i,quaternion:n}=Cg.calculateColliderTransform(null,t);return e.setTranslation(i.x,i.y,i.z).setRotation(n).setSensor(!0).setActiveEvents(Cr.ActiveEvents.COLLISION_EVENTS).setActiveCollisionTypes(Cr.ActiveCollisionTypes.FIXED_FIXED),e}static build(t,e){const i=this._createColliderDescByType(t,e),{position:n,quaternion:o}=Cg.calculateColliderTransform(t,e);return i.setTranslation(n.x,n.y,n.z).setRotation(o).setSensor(!0).setActiveEvents(Cr.ActiveEvents.COLLISION_EVENTS).setActiveCollisionTypes(Cr.ActiveCollisionTypes.FIXED_FIXED),i}static calculateHalfExtents(t,e){const i={...e.halfExtents};if(Object.values(e.halfExtents).some(n=>n===1/0)){const n=t.size;e.halfExtents.x===1/0&&(i.x=n.x/2),e.halfExtents.y===1/0&&(i.y=n.y/2),e.halfExtents.z===1/0&&(i.z=n.z/2)}return i.x+=e.halfExtentsPadding.x,i.y+=e.halfExtentsPadding.y,i.z+=e.halfExtentsPadding.z,i}static calculateRadius(t,e){let i=e.radius;return i===1/0&&(i=t.boundingSphereGlobal.radius),i+=e.radialPadding,i}static _createColliderDescByType(t,e){switch(e.shape.type){case Bn.BOX:{const i=t?Cg.calculateHalfExtents(t,e.shape):e.shape.halfExtents;return Cr.ColliderDesc.cuboid(i.x,i.y,i.z)}case Bn.SPHERE:{const i=t?Cg.calculateRadius(t,e.shape):e.shape.radius;return Cr.ColliderDesc.ball(i)}}}static createRapierShapeByType(t,e){switch(e.shape.type){case Bn.BOX:{const i=Cg.calculateHalfExtents(t,e.shape);return new Cr.Cuboid(i.x,i.y,i.z)}case Bn.SPHERE:{const i=Cg.calculateRadius(t,e.shape);return new Cr.Ball(i)}}}static calculateColliderTransform(t,e){const{position:i,rotation:n}=e,o=this._position.set(i.x,i.y,i.z),a=this._quaternion.setFromEuler(this._rotation.set(n.x,n.y,n.z));if(!t)return{position:this._position,quaternion:this._quaternion};this._colliderMatrixLocal.compose(o,a,Py);const l=t.transform.matrixGlobal;return this._matrixGlobal.copy(t.transform.matrixGlobal),t.boundingBox.getCenter(this._position),this._matrixGlobal.makeTranslation(this._position.x,this._position.y,this._position.z),this._matrixGlobal.premultiply(l),this._colliderMatrixGlobal.multiplyMatrices(this._matrixGlobal,this._colliderMatrixLocal),this._colliderMatrixGlobal.decompose(this._position,this._quaternion,this._scale),{position:this._position,quaternion:this._quaternion}}};v1(Mm,"_position",new w);v1(Mm,"_quaternion",new ke);v1(Mm,"_rotation",new ls);v1(Mm,"_scale",new w);v1(Mm,"_colliderMatrixGlobal",new Lt);v1(Mm,"_colliderMatrixLocal",new Lt);v1(Mm,"_matrixGlobal",new Lt);let D0=Mm;var ZB=Object.defineProperty,o0t=(s,t,e)=>t in s?ZB(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,r0t=(s,t,e,i)=>{for(var n=void 0,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&ZB(t,e,n),n},a2=(s,t,e)=>(o0t(s,typeof t!="symbol"?t+"":t,e),e);class Fl extends Es{constructor(t,e){super(t),this._physicsController=e,a2(this,"type",pt.Collider),a2(this,"_colliderTypeMap"),a2(this,"_intersectingCollidersMap",new Map),a2(this,"_isRendered",!0),this._colliderTypeMap=new Map,vt(this)}get colliders(){return this.entity.sceneObject.colliders}get isRendered(){return this._isRendered}set isRendered(t){this._isRendered=t}setCollidersIntersecting(t,e){var i;this._intersectingCollidersMap.has(t)?(i=this._intersectingCollidersMap.get(t))==null||i.add(e):this._intersectingCollidersMap.set(t,new Set([e]))}unsetCollidersInterecting(t,e){var i;(i=this._intersectingCollidersMap.get(t))==null||i.delete(e)}isIntersectingCollider(t){for(const e of this._intersectingCollidersMap.values())if(e.has(t))return!0;return!1}isIntersectingColliders(t){return t.some(e=>this.isIntersectingCollider(e))}isIntersecting(t){return Array.from(t._colliderTypeMap.keys()).some(e=>this.isIntersectingCollider(e))}watch(){this.disposableReactions.push(rt(()=>{const{entity:t}=this,e=t.sceneObject.colliders;this._removeDeletedColliders();for(const i of e.values){const n=`${t.sceneObject.id}_${i.id}`;if(!i.isEnabled||!t.isEffectivelyVisible||!this.isRendered){this._physicsController.removeColliderById(n,this.entity);continue}const o=this._physicsController.getColliderById(n);if(!o){this._physicsController.createCollider(i,this.entity),this._colliderTypeMap.set(n,i.shape.type);continue}const{position:a,quaternion:l}=D0.calculateColliderTransform(this.entity,i);if(o.setTranslation(a),o.setRotation(l),this._didColliderTypeChange(i)){this._physicsController.updateColliderShape(this.entity,i,o),this._colliderTypeMap.set(n,i.shape.type);continue}this._updateSize(i,o)}}))}_removeDeletedColliders(){if(!this._colliderTypeMap)return;const t=this.entity.sceneObject.colliders;for(const e of this._colliderTypeMap.keys()){const i=e.split("_")[1];t.getValue(i)==null&&(this._physicsController.removeColliderById(e,this.entity),this._colliderTypeMap.delete(e))}}_didColliderTypeChange(t){const e=t.id,i=`${this.entity.sceneObject.id}_${e}`,n=this._colliderTypeMap.get(i);return t.shape.type!==n}_updateSize(t,e){const{shape:i}=t;switch(i.type){case Bn.BOX:{const n=D0.calculateHalfExtents(this.entity,i);e.setHalfExtents(n);break}case Bn.SPHERE:{const n=D0.calculateRadius(this.entity,i);e.setRadius(n);break}}}static duplicate(t){for(const[e,i]of Object.entries(t.colliders)){const n=_t();i.id=n,t.colliders[n]={...i},delete t.colliders[e]}}}r0t([V],Fl.prototype,"_isRendered");var a0t=Object.defineProperty,l0t=(s,t,e)=>t in s?a0t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,c0t=(s,t,e)=>(l0t(s,t+"",e),e);const q5=64;class xw{static getNextAvailableRef(){return this._pool.pop()}static releaseRef(t){this._pool.includes(t)||t>=q5||t<0||this._pool.push(t)}static count(){return this._pool.length}static empty(){return this.count()===0}}c0t(xw,"_pool",[...Array(q5).keys()]);function h0t(s){if(s===void 0)return Zl.SCENE_ENTITY;const i=s/q5;return Zl.SCENE_ENTITY+i}const d0t=6,Cx=Math.pow(2,d0t)-1;var u0t=Object.defineProperty,f0t=(s,t,e)=>t in s?u0t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,MP=(s,t,e)=>(f0t(s,typeof t!="symbol"?t+"":t,e),e);class p0t{constructor(t){MP(this,"_boxGeometry",new su(1,1)),MP(this,"_materials",new Map),this.updateClippingVolumes(t)}build(t,e){const i=this._materials.get(t.id);if(!i)return;const n=new re(this._boxGeometry,i);return _0t(t,n,e),n}updateClippingVolumes(t){const e=Math.max(...t.map(i=>i.polygonOffsetFactor));for(const i of t){const n=this._materials.get(i.id),o=i.polygonOffsetFactor-e,a=t.flatMap(l=>l.id!==i.id?l.clippingPlanes:[]);if(n)n.clippingPlanes=a,n.color.set(i.capsColor),n.polygonOffsetFactor=o,n.polygonOffsetUnits=o,n.needsUpdate=!0;else{const l=new kn({color:i.capsColor,toneMapped:!1,stencilWrite:!0,stencilRef:1,stencilWriteMask:Cx,stencilFuncMask:Cx,stencilFunc:FZ,stencilFail:hw,stencilZFail:hw,stencilZPass:hw,polygonOffset:!0,polygonOffsetFactor:o,polygonOffsetUnits:o,side:Wl,clippingPlanes:a});this._materials.set(i.id,l)}}}dispose(){this._boxGeometry.dispose(),this._materials.forEach(t=>{t.dispose()})}}const m0t=new sb,g0t=new Wp;function _0t(s,t,e){const i=s.boundingBox,n=g0t.get();i.getSize(n);const o=m0t.get();o.copy(e).invert(),o.multiply(s.matrixGlobal).scale(n),t.matrixAutoUpdate=!1,t.matrix.copy(o),t.updateMatrixWorld()}var v0t=Object.defineProperty,y0t=(s,t,e)=>t in s?v0t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,My=(s,t,e)=>(y0t(s,typeof t!="symbol"?t+"":t,e),e);const AA=class v6 extends c1{constructor(t){const e={viewClippingPlanes:{value:t.worldClippingPlanes?Array.from({length:t.worldClippingPlanes.length},o=>new Gw):[]}},i={NUM_CUSTOM_CLIPPING_PLANES:0},n=t.worldClippingPlanes;super({stencilWriteMask:t.stencilWriteMask,stencilFuncMask:t.stencilFuncMask,stencilZPass:t.stencilZPass,side:t.side,uniforms:e,defines:i,vertexShader:v6.vertexShader,fragmentShader:v6.fragmentShader}),My(this,"_worldClippingPlanes",[]),My(this,"_viewNormalMatrixCache",new rft),My(this,"_planeCache",new yg),this.depthWrite=!1,this.depthTest=!1,this.colorWrite=!1,this.stencilWrite=!0,this.stencilFunc=BZ,this.stencilFail=FT,this.stencilZFail=FT,this._worldClippingPlanes=n??[]}set worldClippingPlanes(t){this._worldClippingPlanes=t,this.defines.NUM_CUSTOM_CLIPPING_PLANES!==t.length&&(this.defines.NUM_CUSTOM_CLIPPING_PLANES=t.length,this.uniforms.viewClippingPlanes.value=Array.from({length:t.length},e=>new Gw),this.needsUpdate=!0)}get worldClippingPlanes(){return this._worldClippingPlanes}onBeforeRender(t){const e=t.matrixWorldInverse;if(!e)return;const i=this._viewNormalMatrixCache.get().getNormalMatrix(e),n=Math.min(this._worldClippingPlanes.length,this.uniforms.viewClippingPlanes.value.length);for(let o=0;o<n;o++){const a=this._planeCache.get();a.copy(this._worldClippingPlanes[o]).applyMatrix4(e,i);const l=a.normal,c=a.constant;this.uniforms.viewClippingPlanes.value[o].set(l.x,l.y,l.z,c)}this.uniformsNeedUpdate=!0}};My(AA,"vertexShader",`
    // Based on: https://github.com/mrdoob/three.js/blob/dbfc5947109508d9264cd26659a97e6a37110ef6/src/renderers/shaders/ShaderChunk/clipping_planes_pars_vertex.glsl.js
    #if NUM_CUSTOM_CLIPPING_PLANES > 0
      varying vec3 vClipPosition;
    #endif

    void main() {
      ${mi.begin_vertex}
      ${mi.project_vertex}
      
      // Based on: https://github.com/mrdoob/three.js/blob/dbfc5947109508d9264cd26659a97e6a37110ef6/src/renderers/shaders/ShaderChunk/clipping_planes_vertex.glsl.js
      #if NUM_CUSTOM_CLIPPING_PLANES > 0
        vClipPosition = - mvPosition.xyz;
      #endif
    }
  `);My(AA,"fragmentShader",`
    ${mi.common}

    // Based on: https://github.com/mrdoob/three.js/blob/dbfc5947109508d9264cd26659a97e6a37110ef6/src/renderers/shaders/ShaderChunk/clipping_planes_pars_fragment.glsl.js
    #if NUM_CUSTOM_CLIPPING_PLANES > 0
      varying vec3 vClipPosition;
      uniform vec4 viewClippingPlanes[ NUM_CUSTOM_CLIPPING_PLANES ];
    #endif

    bool isFacingCamera(in vec4 plane, in vec3 clipPosition) {
      if ( isOrthographic ) {
        vec3 lookVector = vec3(0.0, 0.0, -1.0);
        return dot(lookVector, plane.xyz) > 0.0 ;
      } else {
       return dot(clipPosition, plane.xyz) < 0.0;
      }
    }

    void main() {
      // Copied from https://github.com/mrdoob/three.js/blob/e7fd8b9d7d941c4670521f7d843a7fa12435410a/src/renderers/shaders/ShaderChunk/clipping_planes_fragment.glsl.js
      // NOTE: Add in ALPHA_TO_COVERAGE and UNION_CLIPPING_PLANES here if we need it later

      #if NUM_CUSTOM_CLIPPING_PLANES > 0

        vec4 plane;

        #pragma unroll_loop_start
        for ( int i = 0; i < NUM_CUSTOM_CLIPPING_PLANES; i ++ ) {

          plane = viewClippingPlanes[ i ];
        
          if (isFacingCamera(plane, vClipPosition) &&  dot( vClipPosition, plane.xyz ) > plane.w ) discard;
        }
        #pragma unroll_loop_end
        
      #endif

      gl_FragColor = vec4(1.0); // for debugging purposes
    }
  `);let KB=AA;var b0t=Object.defineProperty,C0t=(s,t,e)=>t in s?b0t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,BE=(s,t,e)=>(C0t(s,typeof t!="symbol"?t+"":t,e),e);class LP{constructor(t){BE(this,"front"),BE(this,"back"),BE(this,"clear");const e=(i,n,o)=>new KB({stencilWriteMask:Cx,stencilFuncMask:Cx,stencilZPass:n,side:i,worldClippingPlanes:o});this.back=e(Z0,kZ,t.clippingPlanes),this.front=e(Wl,GZ,t.clippingPlanes),this.clear=e(In,hw,[]),this._updateClipping(t)}update(t){this._updateClipping(t)}_updateClipping(t){this.front.worldClippingPlanes=t.clippingPlanes,this.back.worldClippingPlanes=t.clippingPlanes}dispose(){this.front.dispose(),this.back.dispose(),this.clear.dispose()}}var w0t=Object.defineProperty,x0t=(s,t,e)=>t in s?w0t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,l2=(s,t,e)=>(x0t(s,typeof t!="symbol"?t+"":t,e),e);class E0t{constructor(t){l2(this,"_materialsCache",new Map),l2(this,"_posCache",new Wp),l2(this,"_rotCache",new AF),l2(this,"_scaCache",new Wp);for(const e of t){const i=new LP(e);this._materialsCache.set(e.id,i)}}build(t,e,i){const n=this._posCache.get(),o=this._rotCache.get(),a=this._scaCache.get();i.decompose(n,o,a);const l=f=>{const p=e.mesh.geometry,g=new re(p,f);return g.castShadow=!1,g.matrix=i,g.matrixWorldNeedsUpdate=!0,g.position.copy(n),g.setRotationFromQuaternion(o),g.scale.copy(a),g.onBeforeRender=(_,v,y,b,C)=>{C instanceof KB&&C.onBeforeRender(y)},g},c=this._materialsCache.get(t.id);if(!c)return;const h=l(c.back),d=l(c.front),u=l(c.clear);return{backFacePass:h,frontFacePass:d,clearPass:u}}update(t){let e=this._materialsCache.get(t.id);if(e)return e.update(t);e=new LP(t),this._materialsCache.set(t.id,e)}dispose(){for(const t of this._materialsCache.values())t.dispose()}}function S0t(s,t){return s.id===t.id&&s.boundingBox.equals(t.boundingBox)&&s.matrixGlobal.equals(t.matrixGlobal)&&s.clippingPlanes.every((e,i)=>e.equals(t.clippingPlanes[i]))&&s.capsColor==t.capsColor&&s.areCapsEnabled===t.areCapsEnabled}var I0t=Object.defineProperty,A0t=(s,t,e)=>t in s?I0t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,hp=(s,t,e)=>(A0t(s,typeof t!="symbol"?t+"":t,e),e);const T0t=.001,P0t=1e-4;class O0t extends zs{constructor(t,e,i="CapsHelper"){super(),this.type=i,hp(this,"_clippingVolumes"),hp(this,"_entitiesToClip"),hp(this,"_stencilSubPassBuilder"),hp(this,"_capsSubPassBuilder"),hp(this,"_capsRef"),hp(this,"_group",new bn),hp(this,"_parentLocalMatrixCache",new sb),hp(this,"_localMatrixCache",new sb),this._clippingVolumes=t,this._entitiesToClip=e,this._stencilSubPassBuilder=new E0t(t),this._capsSubPassBuilder=new p0t(t),this._build()}tryEnable(t){if(!t)return this._updateCapsRef(void 0),t;let e=this._capsRef;return e===void 0&&(e=xw.getNextAvailableRef()),this._updateCapsRef(e),e!==void 0}_getClippableComponent(t){if(!t.isEffectivelyVisible)return null;if(t.type===L.PLANE){const i=t.sceneObject.parameters;if(Qs(i.height))return null}const e=t.getComponentByType(pt.Mesh);return e||null}_build(){var n;this.remove(this._group);const t=new bn,e=h0t(this._capsRef);let i=0;for(const o of this._entitiesToClip){const a=((n=o.parent)==null?void 0:n.transform.matrixGlobal)||o.transform.matrixGlobal;for(const l of this._clippingVolumes){if(!l.areCapsEnabled)continue;let c=0;const h=this._parentLocalMatrixCache.get();h.identity(),o.forThisAndEachChildBFS((d,u)=>{if(d.isFrame)return!1;u>c&&d.parent&&(h.multiply(d.parent.transform.matrixLocal),c=u);const f=this._getClippableComponent(d);if(!f)return!0;const p=this._localMatrixCache.get();p.copy(h),p.multiply(d.transform.matrixLocal);const g=this._stencilSubPassBuilder.build(l,f,p),_=this._capsSubPassBuilder.build(l,a);let y=e+i*T0t;const b=C=>{C.renderOrder=y,t.add(C),y+=P0t};return g&&(b(g.backFacePass),b(g.frontFacePass)),_&&b(_),g&&b(g.clearPass),i++,!0})}}this.add(t),this._group=t,this._group.traverse(o=>{o.layers.set(ce.FRAME_CAP)})}update(t,e){this._updateClippingVolumes(t),this._updateEntitiesToClip(e),this._build()}updateClippingVolumes(t){this._updateClippingVolumes(t)&&this._build()}updateEntitiesToClip(t){this._updateEntitiesToClip(t),this._build()}_updateClippingVolumes(t){if(!(t.length!==this._clippingVolumes.length||this._clippingVolumes.some((i,n)=>!S0t(i,t[n]))))return!1;for(const i of t)this._stencilSubPassBuilder.update(i);return this._capsSubPassBuilder.updateClippingVolumes(t),this._clippingVolumes=t,!0}_updateEntitiesToClip(t){this._entitiesToClip=t}_updateCapsRef(t){this._capsRef!==t&&(this._capsRef!==void 0&&xw.releaseRef(this._capsRef),this._capsRef=t,t!==void 0&&this._build())}dispose(){this._stencilSubPassBuilder.dispose(),this._capsSubPassBuilder.dispose(),this._capsRef!==void 0&&xw.releaseRef(this._capsRef)}}var M0t=Object.defineProperty,L0t=(s,t,e)=>t in s?M0t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,c2=(s,t,e)=>(L0t(s,typeof t!="symbol"?t+"":t,e),e);class R0t extends sa{constructor(t,e="FrameHelper"){super(),this.type=e,c2(this,"_helper",new Tm(MF.geometry,Te.lineMaterials.frameMaterial)),c2(this,"_frameMaterial",Te.lineMaterials.frameMaterial),c2(this,"_childSelectedFrameMaterial",Te.lineMaterials.frameHighlightedMaterial),c2(this,"_size",new w);const{width:i,height:n,depth:o}=t;this._helper.scale.set(i,n,o),this.add(this._helper),this._setObjectData(this,ce.FRAME_WIDGET),this._setObjectData(this._helper,ce.FRAME_WIDGET)}_setObjectData(t,e){t.layers.set(e),t.userData.isHelper=!0}updateBbox(t){t.getSize(this._size),this._helper.scale.set(this._size.x,this._size.y,this._size.z)}setState(t){this._helper.material=t?this._childSelectedFrameMaterial:this._frameMaterial}update(t){}dispose(){this.remove(this._helper)}}var qB=Object.defineProperty,N0t=(s,t,e)=>t in s?qB(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,j0t=(s,t,e,i)=>{for(var n=void 0,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&qB(t,e,n),n},RP=(s,t,e)=>(N0t(s,typeof t!="symbol"?t+"":t,e),e);class QB{constructor(t,e){RP(this,"parameters"),RP(this,"component"),this.parameters=t,this.component=e,vt(this)}get width(){return this.parameters.width}set width(t){const e=t-this.parameters.width;this.component.applyConstraintW(t,e),this.parameters.width=t}get height(){return this.parameters.height}set height(t){const e=t-this.parameters.height;this.component.applyConstraintH(t,e),this.parameters.height=t}get depth(){return this.parameters.depth}set depth(t){const e=t-this.parameters.depth;this.component.applyConstraintD(t,e),this.parameters.depth=t}get areDimensionsLinked(){return this.parameters.areDimensionsLinked}set areDimensionsLinked(t){this.parameters.areDimensionsLinked=t}get isClippingEnabled(){return this.parameters.isClippingEnabled}set isClippingEnabled(t){this.parameters.isClippingEnabled=t}get areCapsEnabled(){return this.parameters.areCapsEnabled}set areCapsEnabled(t){this.parameters.areCapsEnabled=t}get capsColor(){return this.parameters.capsColor}set capsColor(t){this.parameters.capsColor=t}}j0t([V],QB.prototype,"parameters");const y6=16.6666667;function D0t(s,t){let e;return(i,n,o)=>{clearTimeout(e),e=setTimeout(()=>s(i,n,o),t)}}function F0t(s,t){let e,i=performance.now();return n=>{const o=performance.now()-i,a=Math.max(0,Math.min(t,s)-o);clearTimeout(e),e=setTimeout(()=>n(),a),i=performance.now()}}var B0t=Object.defineProperty,k0t=(s,t,e)=>t in s?B0t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,JB=(s,t,e)=>(k0t(s,typeof t!="symbol"?t+"":t,e),e),hf;(s=>{function t(i){re.prototype.raycast=BT,i.boundsTree=new kT(i)}s.computeBoundsTreeForGeometry=t;function e(i){re.prototype.raycast=BT,i.traverse(n=>{const o=n;o&&o.isMesh&&(o.geometry.boundsTree=new kT(o.geometry))})}s.computeBoundsTreeForObject3d=e})(hf||(hf={}));const $B=class m0{static logPerformance(t,e){m0.totalTime+=t;const i=t.toFixed(2),n=(m0.totalTime/1e3).toFixed(2),o=e instanceof $n?`geometry(${e.id})`:`model(${e.name})`;console.log(`Time took to build BVH for ${o}: ${i} ms, scene: ${n} s`)}static logMemoryFootprint(t){let e=0;t instanceof $n&&t.boundsTree?e=GT(t.boundsTree):t instanceof zs&&(e=m0.estimateMemoryInBytes(t)),m0.totalSize+=e;const i=(e/1024).toFixed(2),n=(m0.totalSize/1024/1024).toFixed(2),o=t instanceof $n?`geometry(${t.id})`:`model(${t.name})`;console.log(`Size allocated for BVH for ${o}: ${i} KB,  scene: ${n} MB`)}static estimateMemoryInBytes(t){let e=0;return t.traverse(i=>{const n=i;n&&n.geometry&&n.geometry.boundsTree&&(e+=GT(n.geometry.boundsTree))}),e}};JB($B,"totalTime",0);JB($B,"totalSize",0);const a_=new VZ;a_.setDecoderPath("/draco/");a_.setDecoderConfig({type:"wasm"});var tk=Object.defineProperty,G0t=Object.getOwnPropertyDescriptor,V0t=(s,t,e)=>t in s?tk(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Lm=(s,t,e,i)=>{for(var n=i>1?void 0:i?G0t(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&tk(t,e,n),n},dp=(s,t,e)=>(V0t(s,typeof t!="symbol"?t+"":t,e),e);class eh extends Es{constructor(t,e){super(t),dp(this,"type",pt.AnimatedModel),dp(this,"_object",null),dp(this,"_bbox"),dp(this,"_meshes"),dp(this,"_shouldBlockUrlDownloadOnCreate",!1),dp(this,"_boundingBoxRevision",0),dp(this,"_boundingBoxCache",new Qr),dp(this,"_boundingSphereCache",new Jr),e&&(hf.computeBoundsTreeForObject3d(e),this._object=e,this._shouldBlockUrlDownloadOnCreate=!0,this._object.renderOrder=Zl.MESH_COMPONENT_MESH,this._object.name=t.name,this._object.userData.id=this.entity.id),this._bbox=new Us,this._meshes=new Set,this._gatherMeshes(),this._calculateBBox(),this._object&&(this._object.position.copy(this.entity.transform.positionVec),this._object.rotation.copy(this.entity.transform.euler),this._object.scale.copy(this.entity.transform.scaleVec),this._object.updateMatrixWorld()),vt(this)}get mesh(){return this._object}get bbox(){return this._bbox}get meshes(){return this._meshes}_gatherMeshes(){this._object&&(this._meshes.clear(),this._object.traverse(t=>{t instanceof re&&this._meshes.add(t)}))}_calculateBBox(){if(!this._object)return;this._bbox.makeEmpty();const t=new w;this._object.traverse(e=>{if(e instanceof re){const i=e;if(i.geometry instanceof $n){const n=i.geometry.attributes.position;if(n)for(let o=0,a=n.count;o<a;o++)t.fromBufferAttribute(n,o),i instanceof HZ&&i.applyBoneTransform(o,t),i.localToWorld(t),this._bbox.expandByPoint(t)}}else e.isBone&&e.updateMatrixWorld()}),this._boundingBoxRevision++,this.entity.highlightComponent.update()}get boundingBoxRevision(){return this._boundingBoxRevision}get boundingBox(){const t=this._boundingBoxCache.get();return t.copy(this._bbox),t}get boundingSphere(){const t=this._boundingSphereCache.get();return this.bbox.getBoundingSphere(t),t}_updateClipping(){const t=this.entity.effectiveClippingPlanes;this.updateClippingPlanes(t)}updateClippingPlanes(t){for(const e of this._meshes)Vi.forEachMeshMaterial(e,i=>{i.clippingPlanes=t,i.clipIntersection=!1,i.clipShadows=!0})}watch(){this.disposableReactions.push(rt(()=>{this._setGeometry(this.entity.sceneObject.urlKey)}),rt(()=>{this._object&&(this._object.position.copy(this.entity.transform.positionVec),this._object.rotation.copy(this.entity.transform.euler),this._object.scale.copy(this.entity.transform.scaleVec),this._object.updateMatrixWorld())}),rt(()=>{this._object&&(this._object.visible=this.entity.sceneObject.isVisible,this.entity.editor.signals.object.sceneGraphChanged.dispatch())}),rt(()=>{this._object&&this._setOpacity(this.entity.sceneObject.layerOpacity)}),rt(()=>{this._object&&this._setSettings(this.entity.isEffectivelyReceivingShadows,this.entity.isEffectivelyCastingShadows)}),rt(()=>{this._object&&this._setSide(this.entity.sceneObject.viewSettings.side)}))}async _setGeometry(t){if(!t)return;if(this._shouldBlockUrlDownloadOnCreate){this._shouldBlockUrlDownloadOnCreate=!1;return}const e=await xs(t);if(e){this.entity.editor.signals.window.addDataToDownload.dispatch();try{const i=new Zg;i.setDRACOLoader(a_);const o=(await i.loadAsync(e)).scene.children[0];hf.computeBoundsTreeForObject3d(o),Jt(()=>{if(this._object=o,this._object.position.set(0,0,0),this._object.renderOrder=Zl.MESH_COMPONENT_MESH,this._object.name=this.entity.name,this._object.userData.id=this.entity.id,this._gatherMeshes(),this._calculateBBox(),this._updateClipping(),this.entity.parent){const a=this.entity.parent.componentWithMesh;a&&a.mesh&&a.mesh.add(this._object)}this.entity.highlightComponent.updateMesh(),this.entity.editor.signals.object.geometryUpdated.dispatch({objectName:this.entity.name}),this.entity.editor.signals.object.hierarchyNeedsRebuild.dispatch(),this.entity.editor.signals.window.dataDownloaded.dispatch()})}catch(i){console.error(i),this.entity.editor.signals.window.dataDownloaded.dispatch();return}}}_setOpacity(t){for(const e of this._meshes)Vi.forEachMeshMaterial(e,i=>{const n=t<1||i.transparent;i.opacity=t,i.transparent=n,i.depthWrite=!n,i.needsUpdate=!0})}_setSettings(t,e){for(const i of this._meshes)i.receiveShadow=t,i.castShadow=e}_setSide(t){for(const e of this._meshes)Vi.forEachMeshMaterial(e,i=>{i.side=t,i.needsUpdate=!0})}}Lm([V],eh.prototype,"_object",2);Lm([M],eh.prototype,"mesh",1);Lm([E],eh.prototype,"_calculateBBox",1);Lm([V],eh.prototype,"_boundingBoxRevision",2);Lm([E],eh.prototype,"_setGeometry",1);Lm([E],eh.prototype,"_setOpacity",1);Lm([E],eh.prototype,"_setSettings",1);Lm([E],eh.prototype,"_setSide",1);function h2(s){for(const t of s)if(t.type===L.MODEL_ANIMATED){const e=t.getComponent(eh);if(!e)continue;const i=t.effectiveClippingPlanes;e.updateClippingPlanes(i)}else{const e=t.getComponentByType(pt.Material);if(!e)continue;const i=t.effectiveClippingPlanes,n=e.meshMaterial;n.clippingPlanes=i,n.clipIntersection=!1,n.clipShadows=!0}}var ek=Object.defineProperty,H0t=Object.getOwnPropertyDescriptor,U0t=(s,t,e)=>t in s?ek(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,zo=(s,t,e,i)=>{for(var n=i>1?void 0:i?H0t(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&ek(t,e,n),n},Id=(s,t,e)=>(U0t(s,typeof t!="symbol"?t+"":t,e),e);const z0t=im;class Cn extends Es{constructor(t){super(t),Id(this,"type",pt.Frame),Id(this,"_parameterAdapter"),Id(this,"_helper"),Id(this,"_capsHelper"),Id(this,"_shouldIgnoreConstraints",!1),Id(this,"_group",new bn),Id(this,"_boundingBoxCache",new Qr),Id(this,"_boundingSphereCache",new Jr),Id(this,"_previousChildrenToNextFrame",[]),Id(this,"_clippingPlanesCache",[new yg,new yg,new yg,new yg,new yg,new yg]),this._group.name=t.name,this._group.userData.id=this.entity.id,this._parameterAdapter=new QB(this.entity.sceneObject.parameters,this),this._helper=new R0t(this.parameters),this._group.add(this._helper);const e=t.effectiveClippingVolumes;this._capsHelper=new O0t(e,t.children),this._maybeEnableCaps(),h2(this.entity.allChildren),this.entity.editor.sceneHelpers.add(this._helper),vt(this)}get mesh(){return this._group}get parameters(){return this._parameterAdapter}get helper(){return this._helper}setParameters(t){const{width:e,height:i,depth:n,isClippingEnabled:o,areCapsEnabled:a}=t;this.parameters.width=e,this.parameters.height=i,this.parameters.depth=n,this.parameters.isClippingEnabled=o,this.parameters.areCapsEnabled=a}setSize(t){this.parameters.width=t.x,this.parameters.height=t.y,this.parameters.depth=t.z}applyConstraintW(t,e){const i=xa[Mt.X];this.applyConstraints(t,e,i)}applyConstraintH(t,e){const i=xa[Mt.Y];this.applyConstraints(t,e,i)}applyConstraintD(t,e){const i=xa[Mt.Z];this.applyConstraints(t,e,i)}get boundingBoxRevision(){return 0}ignoreConstraintsDuring(t){this._shouldIgnoreConstraints=!0,t(),this._shouldIgnoreConstraints=!1}applyConstraints(t,e,i){if(this.entity.editor.stateController.isApplyingHistory||this._shouldIgnoreConstraints)return;const n=this.multiFaceConstrainedChildren[i];for(const o of this.entity.children){const a=o.getComponentByType(pt.Constraint);if(!a||!a.isEnabled)continue;const c=n.indexOf(o)!==-1;a.applyConstraint(c,i,e,t)}}get hasMultiFaceConstraints(){const{x:t,y:e,z:i}=this.multiFaceConstrainedChildren;return t.length>0||e.length>0||i.length>0}get areAnyChildrenSelected(){return this.entity.editor.sceneController.parentsOfSelectedEntities.has(this.entity)}get multiFaceConstrainedChildren(){const t={x:[],y:[],z:[]};for(const e of this.entity.children){const{constraint:i}=e.sceneObject;if(!i)continue;const{anchorX:n,anchorY:o,anchorZ:a}=i;n===Zn.BOTH&&t.x.push(e),o===Zn.BOTH&&t.y.push(e),a===Zn.BOTH&&t.z.push(e)}return t}get boundingBox(){const t=this._boundingBoxCache.get(),e=this.entity.sceneObject.parameters,{width:i,height:n,depth:o}=e,a=i/2,l=o/2,c=n/2;return t.min.set(-a,-c,-l),t.max.set(a,c,l),t}get boundingSphere(){const t=this._boundingSphereCache.get();return this.boundingBox.getBoundingSphere(t),t}setPreviousChildrenToNextFrame(t){this._previousChildrenToNextFrame=t}get previousChildrenToNextFrame(){return this._previousChildrenToNextFrame}get clippingPlanes(){const t=this.boundingBox,e=this.entity.transform.matrixGlobal,i=this._clippingPlanesCache.map(d=>d.get()),[n,o,a,l,c,h]=i;return n.setComponents(-1,0,0,t.max.x),o.setComponents(0,-1,0,t.max.y),a.setComponents(0,0,-1,t.max.z),l.setComponents(1,0,0,-t.min.x),c.setComponents(0,1,0,-t.min.y),h.setComponents(0,0,1,-t.min.z),i.map(d=>(d.constant+=z0t,d.applyMatrix4(e)))}get clippingVolume(){return{id:this.entity.id,boundingBox:this.boundingBox,clippingPlanes:this.clippingPlanes,matrixGlobal:this.entity.transform.matrixGlobal,capsColor:this.parameters.capsColor,areCapsEnabled:this.parameters.areCapsEnabled,polygonOffsetFactor:0}}get areCapsEffectivelyEnabled(){var i;const t=this.parameters.isClippingEnabled&&this.parameters.areCapsEnabled,e=(i=this.entity.parent)==null?void 0:i.getComponentByType(pt.Frame);return t||(e?e.areCapsEffectivelyEnabled:!1)}trySetCapsEnabled(t){const e=this._capsHelper.tryEnable(t);return this.parameters.areCapsEnabled=e,e}deleteStateData(t){const e=new Set;for(const i of this.entity.allChildren)i.sceneObject.frameStates&&(delete i.sceneObject.frameStates[t],e.add(i.id));this.entity.editor.stateController.signals.frameFitChildren.dispatch({action:P.FRAME_FIT_CHILDREN,ids:e})}watch(){this.disposableReactions.push(rt(()=>{const{positionVec:t,euler:e,scaleVec:i}=this.entity.transform,n=this.entity.allChildren;h2(n);const o=this.entity.effectiveClippingVolumes;this._capsHelper.update(o,this.entity.children),this._maybeEnableCaps(),this._group.position.copy(t),this._group.rotation.copy(e),this._group.scale.copy(i),this._group.updateMatrixWorld()}),rt(()=>{this._helper.updateBbox(this.boundingBox)}),rt(()=>{this._helper.setState(this.areAnyChildrenSelected)}),rt(()=>{this._group.visible=this.entity.sceneObject.isVisible,this.entity.editor.signals.object.sceneGraphChanged.dispatch()}),rt(()=>{this.entity.sceneObject.lastGeometryUpdated=Date.now(),this.entity.highlightComponent.update()}),rt(()=>{this.applyConstraints(this.parameters.width,0,xa[Mt.X])}),rt(()=>{this.applyConstraints(this.parameters.height,0,xa[Mt.Y])}),rt(()=>{this.applyConstraints(this.parameters.depth,0,xa[Mt.Z])})),this.disposableReactions.push(Gn(()=>[this.parameters.isClippingEnabled,this.parameters.areCapsEnabled,this.parameters.capsColor],()=>{const t=this.entity.effectiveClippingVolumes;this._capsHelper.updateClippingVolumes(t),h2(this.entity.allChildren),this._maybeEnableCaps()},{fireImmediately:!1}),Gn(()=>[this.entity.childrenToNextFrame],()=>{const t=this.entity.childrenToNextFrame;h2([...this.previousChildrenToNextFrame,...t]);const e=this.entity.effectiveClippingVolumes;this._capsHelper.update(e,this.entity.children),this._maybeEnableCaps(),this.setPreviousChildrenToNextFrame(t)},{fireImmediately:!1}),Gn(()=>this.entity.childrenToNextFrame.map(t=>t.sceneObject.lastGeometryUpdated),D0t(()=>this._capsHelper.updateEntitiesToClip(this.entity.children),y6)))}_maybeEnableCaps(){const t=this.areCapsEffectivelyEnabled;this._capsHelper.tryEnable(t)?this._group.add(this._capsHelper):this._group.remove(this._capsHelper)}dispose(){this._group.remove(this._helper),this.entity.editor.sceneHelpers.remove(this._helper),this._helper.dispose(),this._capsHelper.dispose(),this._group.remove(this._capsHelper),super.dispose()}}zo([M],Cn.prototype,"parameters",1);zo([E],Cn.prototype,"setParameters",1);zo([E],Cn.prototype,"setSize",1);zo([E],Cn.prototype,"applyConstraintW",1);zo([E],Cn.prototype,"applyConstraintH",1);zo([E],Cn.prototype,"applyConstraintD",1);zo([E],Cn.prototype,"applyConstraints",1);zo([M],Cn.prototype,"hasMultiFaceConstraints",1);zo([M],Cn.prototype,"areAnyChildrenSelected",1);zo([M],Cn.prototype,"multiFaceConstrainedChildren",1);zo([M],Cn.prototype,"boundingBox",1);zo([M],Cn.prototype,"boundingSphere",1);zo([V],Cn.prototype,"_previousChildrenToNextFrame",2);zo([E],Cn.prototype,"setPreviousChildrenToNextFrame",1);zo([M],Cn.prototype,"previousChildrenToNextFrame",1);zo([M],Cn.prototype,"clippingPlanes",1);zo([M],Cn.prototype,"clippingVolume",1);zo([M],Cn.prototype,"areCapsEffectivelyEnabled",1);zo([E],Cn.prototype,"trySetCapsEnabled",1);class wx{static addConstraint(t,e){this._addConstraint(t,e)}static _addConstraint(t,e){const i=t.getComponent(Uh);if(i){i.setParentFrame(e);return}const n=new Uh(t,e);t.addComponent(n),t.constraint=n}static confirmConstraint(t){const e=this._getConstraintParent(t);if(e){const i=e.getComponentByType(pt.Frame);this._addConstraint(t,i);return}this._removeConstraint(t)}static _getConstraintParent(t){let e=t.parent;for(;e;){if(e.getComponent(Cn))return e;e=e.parent}return null}static _removeConstraint(t){const e=t.getComponent(Uh);e&&(t.removeComponent(e),t.constraint=void 0)}}var sk=Object.defineProperty,Y0t=Object.getOwnPropertyDescriptor,W0t=(s,t,e)=>t in s?sk(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,pl=(s,t,e,i)=>{for(var n=i>1?void 0:i?Y0t(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&sk(t,e,n),n},Ad=(s,t,e)=>(W0t(s,typeof t!="symbol"?t+"":t,e),e);class lr extends Es{constructor(t,e=L.MODEL,i){if(super(t),Ad(this,"type",pt.Geometry),Ad(this,"objectType"),Ad(this,"geometry",null),Ad(this,"_base",null),Ad(this,"morphTargetDictionary"),Ad(this,"morphTargetInfluences"),Ad(this,"_shouldBlockUrlDownloadOnCreate",!1),Ad(this,"_boundingBoxRevision",0),Ad(this,"_boundingBoxCache",new Qr),Ad(this,"_boundingSphereCache",new Jr),this.objectType=e,i){hf.computeBoundsTreeForGeometry(i),this._base=i,this.geometry=this._base.clone(),this._shouldBlockUrlDownloadOnCreate=!0,this.geometry.boundingBox||this.geometry.computeBoundingBox();const n=this.geometry.boundingBox;Jt(()=>{this.parameters.width==null&&(this.parameters.width=n.max.x-n.min.x),this.parameters.height==null&&(this.parameters.height=n.max.y-n.min.y),this.parameters.depth==null&&(this.parameters.depth=n.max.z-n.min.z),this.parameters.areDimensionsLinked==null&&(this.parameters.areDimensionsLinked=!1)})}t.editor.signals.window.dataUploaded.add(this._dataUploaded.bind(this)),vt(this)}get base(){return this._base}_dataUploaded(t){if(this.entity.sceneObject.urlKey!=null){for(const e of t.urlKeys)if(e===this.entity.sceneObject.urlKey){this._setGeometry(e);break}}}get parameters(){return this.entity.sceneObject.parameters}setParameters(t){}setSize(t){this.parameters.width=t.x,this.parameters.height=t.y,this.parameters.depth=t.z}get boundingBoxRevision(){return this._boundingBoxRevision}get boundingBox(){const t=this._boundingBoxCache.get(),{_boundingBoxRevision:e}=this;return this._base&&((!this._base.boundingBox||e>0)&&this._base.computeBoundingBox(),t.copy(this._base.boundingBox)),t}get boundingSphere(){const t=this._boundingSphereCache.get();this.entity.sceneObject;const{_boundingBoxRevision:e}=this;return this._base?((!this._base.boundingSphere||e>0)&&this._base.computeBoundingSphere(),t.copy(this._base.boundingSphere),t):(t.radius=0,t)}watch(){this.disposableReactions.push(rt(()=>{this._setGeometry(this.entity.sceneObject.urlKey)})),this.disposableReactions.push(Gn(()=>this.geometry,()=>{Jt(()=>{this.entity.highlightComponent.update(),this._boundingBoxRevision++})})),this.disposableReactions.push(rt(()=>{const{parameters:t}=this,{width:e,height:i,depth:n}=t;if(!this._base||(this._base.boundingBox||this._base.computeBoundingBox(),e==null||i==null||n==null))return;const a=this._base.boundingBox.getSize(new w);this._base.scale(e&&a.x?e/a.x:vf,i&&a.y?i/a.y:vf,n&&a.z?n/a.z:vf),hf.computeBoundsTreeForGeometry(this._base),Jt(()=>{this.entity.highlightComponent.update(),this._boundingBoxRevision++})},{scheduler:F0t(y6,y6*2)}))}setModel(t){hf.computeBoundsTreeForGeometry(t),this._base=t,this.geometry=this._base.clone()}setMorphTargets(t,e){this.morphTargetDictionary=t,this.morphTargetInfluences=e}async _setGeometry(t){if(!t)return;if(this._shouldBlockUrlDownloadOnCreate){this._shouldBlockUrlDownloadOnCreate=!1;return}const e=await xs(t);if(e)try{const i=new Zg;i.setDRACOLoader(a_);const o=(await i.loadAsync(e)).scene.children[0].geometry;hf.computeBoundsTreeForGeometry(o),Jt(()=>{this._base=o,this.geometry=this._base.clone(),this.entity.sceneObject.lastGeometryUpdated=Date.now(),this.geometry.boundingBox||this.geometry.computeBoundingBox();const a=this.geometry.boundingBox;this.parameters.width==null&&(this.parameters.width=a.max.x-a.min.x),this.parameters.height==null&&(this.parameters.height=a.max.y-a.min.y),this.parameters.depth==null&&(this.parameters.depth=a.max.z-a.min.z),this.parameters.areDimensionsLinked==null&&(this.parameters.areDimensionsLinked=!1),this.entity.editor.stateController.signals.parameters.dispatch({action:P.PARAMETERS})})}catch(i){console.error(i);return}}setBaseGeometry(t){hf.computeBoundsTreeForGeometry(t),this._base=t,this.geometry=this._base.clone(),this.entity.sceneObject.lastGeometryUpdated=Date.now()}}pl([V],lr.prototype,"geometry",2);pl([V],lr.prototype,"_base",2);pl([V],lr.prototype,"morphTargetDictionary",2);pl([V],lr.prototype,"morphTargetInfluences",2);pl([M],lr.prototype,"parameters",1);pl([E],lr.prototype,"setParameters",1);pl([E],lr.prototype,"setSize",1);pl([V],lr.prototype,"_boundingBoxRevision",2);pl([M],lr.prototype,"boundingBoxRevision",1);pl([M({equals:ja.structural})],lr.prototype,"boundingBox",1);pl([M({equals:ja.structural})],lr.prototype,"boundingSphere",1);pl([E],lr.prototype,"setModel",1);pl([E],lr.prototype,"setMorphTargets",1);pl([E],lr.prototype,"_setGeometry",1);var X0t=Object.defineProperty,Z0t=(s,t,e)=>t in s?X0t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,K0t=(s,t,e)=>(Z0t(s,t+"",e),e);class Se{constructor(){K0t(this,"disposable",new Zt)}dispose(){this.disposable.dispose()}init(){}onPointerEvent(t,e){return!1}onWheelEvent(t,e){return!1}onKeyboardEvent(t,e){return!1}onXRControllersUpdate(t,e,i){return!1}onXRControllerEvent(t){return!1}onColliderEvent(t){return!1}onGamepadButtonsEvent(t,e,i){return!1}onGamepadAxesEvent(t,e,i){return!1}update(t){}}var q0t=Object.defineProperty,Q0t=(s,t,e)=>t in s?q0t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,NP=(s,t,e)=>(Q0t(s,typeof t!="symbol"?t+"":t,e),e);class J0t{constructor(){NP(this,"_worldScale",new w),NP(this,"_oldScale",new w)}normalize(t,e,i=e){this._oldScale.copy(t.scale),t.scale.copy(e),t.getWorldScale(this._worldScale),t.scale.copy(this._oldScale),i.set(e.x===0||this._worldScale.x===0?0:e.x/(this._worldScale.x/e.x),e.y===0||this._worldScale.y===0?0:e.y/(this._worldScale.y/e.y),e.y===0||this._worldScale.z===0?0:e.z/(this._worldScale.z/e.z))}}var ik=Object.defineProperty,$0t=Object.getOwnPropertyDescriptor,t_t=(s,t,e)=>t in s?ik(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,e_t=(s,t,e,i)=>{for(var n=$0t(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&ik(t,e,n),n},Td=(s,t,e)=>(t_t(s,typeof t!="symbol"?t+"":t,e),e);class nk extends Se{constructor(t,e){super(),this._editor=t,Td(this,"_component"),Td(this,"_entity"),Td(this,"_object3D"),Td(this,"_worldPosition",new w),Td(this,"_scale",new w),Td(this,"_matrix",new Lt),Td(this,"_scaleNormalizer",new J0t),Td(this,"_submitScale",new w),Td(this,"_lastScale",new w),Td(this,"_disposableReactions",[]),this._component=e,this._entity=e.entity,this._object3D=e.entity.getDrivingObject3D(),vt(this),this.watch()}get component(){return this._component}reset(){this._object3D&&(this._object3D.position.copy(this._entity.transform.positionVec),this._object3D.rotation.copy(this._entity.transform.euler),this._object3D.scale.copy(this._entity.transform.scaleVec))}get sizePx(){return this.component.parameters.sizePx}update(t){if(!this._component.isEnabled||!this._object3D)return null;this._object3D.getWorldPosition(this._worldPosition);const e=this._worldPosition.distanceTo(t.camera.position);let i=rr(this.sizePx*2,e,t.camera,t.size.width,t.size.height);const n=this.component.parameters.measurementAxis,o=this._entity.boundingBox;let a=o.max.x-o.min.x;switch(n){case Mt.X:a=o.max.x-o.min.x;break;case Mt.Y:a=o.max.y-o.min.y;break;case Mt.Z:a=o.max.z-o.min.z;break;default:{const l=n;throw new Error(`Unhandled case: ${String(l)}`)}}return i/=a,this._scale.setScalar(i),this._scaleNormalizer.normalize(this._object3D,this._scale),this._matrix.makeScale(this._scale.x,this._scale.y,this._scale.z),this._matrix}submit(t){if(!this._object3D||t.length<=0)return;const e=t[0],i=t[t.length-1];this._submitScale.setFromMatrixScale(e),this._submitScale.lerp(this._lastScale.setFromMatrixScale(i),.5),this._entity.transform.setScale(this._submitScale)}watch(){this._disposableReactions.push(rt(()=>{this.component.entity.behaviors.isPreview||this.reset()}))}clear(){this.reset()}dispose(){super.dispose(),this.clear();for(const t of this._disposableReactions)t&&t()}}e_t([M],nk.prototype,"sizePx");var ok=Object.defineProperty,s_t=Object.getOwnPropertyDescriptor,i_t=(s,t,e)=>t in s?ok(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,rk=(s,t,e,i)=>{for(var n=i>1?void 0:i?s_t(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&ok(t,e,n),n},d2=(s,t,e)=>(i_t(s,typeof t!="symbol"?t+"":t,e),e);class TA extends Es{constructor(t,e){super(t.entity),this._behaviorComponent=t,this._parameters=e,d2(this,"type",pt.Behavior),d2(this,"_behavior"),d2(this,"_isSelectingTarget",!1),d2(this,"behaviorType",ei.FIXED_SIZE),this._behavior=new nk(this.entity.editor,this),vt(this)}updateBehaviorsObjectData(){this._behaviorComponent.updateBehaviorsObjectData()}get isSelectingTarget(){return this._isSelectingTarget}get isEnabled(){return this._behaviorComponent.isEnabled}get id(){return this._behaviorComponent.id}get behavior(){return this._behavior}get parameters(){const t=this.entity.sceneObject.behaviors.getValue(this._behaviorComponent.id);if(!t)return this._parameters;const e=t.parameters;return e.type!==ei.FIXED_SIZE?this._parameters:e}watch(){}reset(){this._behavior.reset()}dispose(){super.dispose(),this.entity.behaviors.removeBehaviorFromUpdate(this),this._behavior.dispose()}}rk([V],TA.prototype,"_isSelectingTarget",2);rk([M],TA.prototype,"parameters",1);var ak=Object.defineProperty,n_t=Object.getOwnPropertyDescriptor,o_t=(s,t,e)=>t in s?ak(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,PA=(s,t,e,i)=>{for(var n=n_t(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&ak(t,e,n),n},vo=(s,t,e)=>(o_t(s,typeof t!="symbol"?t+"":t,e),e);class Q5 extends Se{constructor(t,e){super(),this._editor=t,vo(this,"_component"),vo(this,"_entity"),vo(this,"_object3D"),vo(this,"_targetAnchorWorldPositon",new w),vo(this,"_currentFollowObjectPositon",new w),vo(this,"_parentWorldPosition",new w),vo(this,"_parentWorldMatrix",new Lt),vo(this,"_worldMatrix",new Lt),vo(this,"_worldQuaternion",new ke),vo(this,"_worldScale",new w(1,1,1)),vo(this,"_worldRotatedAnchor",new w),vo(this,"_position",new w),vo(this,"_matrix",null),vo(this,"_initialPosition",null),vo(this,"_isInitialPositionSet",!1),vo(this,"_targetWorldPositon",new w),vo(this,"_targetRotation",new ls),vo(this,"_targetQuaternion",new ke),vo(this,"_wasDisabled",!1),vo(this,"_submitPosition",new w),this._component=e,this._entity=e.entity,this._object3D=e.entity.getDrivingObject3D(),this._object3D&&(this._initialPosition=new w,this._initialPosition.copy(this._object3D.position),this._currentFollowObjectPositon.copy(this._initialPosition)),vt(this)}get component(){return this._component}get targetEntity(){return this.component.targetEntity}get targetPoint(){const t=this.component.targetEntity;if(!t)return null;const e=t.getDrivingObject3D();return e==null||e.getWorldPosition(this._targetWorldPositon),this._targetWorldPositon}get targetRotation(){const t=this.component.targetEntity;if(!t)return null;const e=t.getDrivingObject3D();return e==null||e.getWorldQuaternion(this._targetQuaternion),this._targetRotation.setFromQuaternion(this._targetQuaternion),this._targetRotation}reset(){this._editor.isPlayMode||this._editor.isPublishedMode?this._entity.transform.setAbsolutePositionOffset({x:0,y:0,z:0}):this._object3D&&(this._object3D.position.copy(this._entity.transform.positionVec),this._object3D.rotation.copy(this._entity.transform.euler),this._object3D.scale.copy(this._entity.transform.scaleVec)),this._matrix=null,this._isInitialPositionSet=!1,this._initialPosition=null}get axes(){return this.component.parameters.axes}get isRotationEnabled(){return this.component.parameters.isRotationEnabled}update(t){if(!this._object3D||!this.targetPoint)return null;if(this._isInitialPositionSet||(this._initialPosition=new w().copy(this._object3D.position),this._currentFollowObjectPositon.copy(this._initialPosition)),!this._component.isEnabled)return this._wasDisabled=!0,this._matrix;if(this._targetAnchorWorldPositon.copy(this.targetPoint),this._component.parameters.offset){const e=this._component.parameters.offset;this.isRotationEnabled?(this._worldRotatedAnchor.copy(e),this.targetRotation&&this._worldQuaternion.setFromEuler(this.targetRotation),this._worldMatrix.compose(this._targetAnchorWorldPositon,this._worldQuaternion,this._worldScale),this._worldRotatedAnchor.applyMatrix4(this._worldMatrix),this._targetAnchorWorldPositon.copy(this._worldRotatedAnchor)):(this._worldRotatedAnchor.set(0,0,0),this._targetAnchorWorldPositon.add(e))}return this._object3D.parent?(this._object3D.parent.getWorldPosition(this._parentWorldPosition),this._parentWorldMatrix.copy(this._object3D.parent.matrixWorld),this._parentWorldMatrix.invert()):(this._parentWorldPosition.set(0,0,0),this._parentWorldMatrix.identity()),this._component.parameters.smooth>0?(this._wasDisabled||this._object3D.getWorldPosition(this._position),this._position.lerp(this._targetAnchorWorldPositon,this._component.parameters.smooth>0?1/this._component.parameters.smooth:1)):this._position.copy(this._targetAnchorWorldPositon),this._position.applyMatrix4(this._parentWorldMatrix),this._position.set(this.axes.x?this._position.x:this._currentFollowObjectPositon.x,this.axes.y?this._position.y:this._currentFollowObjectPositon.y,this.axes.z?this._position.z:this._currentFollowObjectPositon.z),this._currentFollowObjectPositon.copy(this._position),!this._isInitialPositionSet&&this._initialPosition&&(this._position.copy(this._initialPosition),this._initialPosition=null,this._isInitialPositionSet=!0),this._matrix||(this._matrix=new Lt),this._matrix.setPosition(this._position),this._matrix}submit(t){if(this._object3D&&!(t.length<=0)){for(let e=0;e<t.length;e++)this._submitPosition.add(new w().setFromMatrixPosition(t[e]));this._submitPosition.divideScalar(t.length),this._entity.transform.setRelativePositionOffset(this._submitPosition),this._submitPosition.set(0,0,0)}}clear(){this._entity.transform.setAbsolutePositionOffset({x:0,y:0,z:0}),this.reset()}dispose(){super.dispose(),this.clear()}}PA([M],Q5.prototype,"targetEntity");PA([M],Q5.prototype,"axes");PA([M],Q5.prototype,"isRotationEnabled");var lk=Object.defineProperty,r_t=Object.getOwnPropertyDescriptor,a_t=(s,t,e)=>t in s?lk(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Yb=(s,t,e,i)=>{for(var n=i>1?void 0:i?r_t(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&lk(t,e,n),n},$m=(s,t,e)=>(a_t(s,typeof t!="symbol"?t+"":t,e),e);class H_ extends Es{constructor(t,e){super(t.entity),this._behaviorComponent=t,this._parameters=e,$m(this,"type",pt.Behavior),$m(this,"_behavior"),$m(this,"behaviorType",ei.FOLLOW),$m(this,"_isSelectingTarget",!1),$m(this,"_setTargetEntitiesBinding"),$m(this,"_disposable",new Zt),$m(this,"_onEscapeKey",i=>{i.code==="Escape"&&(i.stopPropagation(),this._updateTargetEntityFromSelection({selection:null}))}),this._setTargetEntitiesBinding=this.entity.editor.signals.targeting.selectionChanged.add(this._updateTargetEntityFromSelection.bind(this)),this._setTargetEntitiesBinding.active=!1,this._disposable.add(new tt(()=>{this._setTargetEntitiesBinding!=null&&this._setTargetEntitiesBinding.detach()})),this._behavior=new Q5(this.entity.editor,this),vt(this)}updateBehaviorsObjectData(){this._behaviorComponent.updateBehaviorsObjectData()}get isSelectingTarget(){return this._isSelectingTarget}get isEnabled(){return this._behaviorComponent.isEnabled}get targetEntity(){let t=this.parameters.target;if(this.entity.sceneObject.isInstance){if(!t)return null;const i=this.entity.compo.getRoot();if(!i)return null;const n=i.allChildren.find(o=>{const a=o.getComponent(Js);return a?a.component.id===t:!1});t=n?n.id:t}return t?this.entity.editor.sceneController.getSceneEntityById(t):null}get behavior(){return this._behavior}get parameters(){const t=this.entity.sceneObject.behaviors.getValue(this._behaviorComponent.id);if(!t)return this._parameters;const e=t.parameters;return e.type!==ei.FOLLOW?this._parameters:e}get offset(){return this.parameters.offset??O0.offset}get axes(){return this.parameters.axes??O0.axes}get smooth(){return this.parameters.smooth??O0.smooth}get isRotationEnabled(){return this.parameters.isRotationEnabled}setBehaviorTargetEditContext(t){this._setTargetEntitiesBinding.active=!0,this._isSelectingTarget=!0,window.addEventListener("keydown",this._onEscapeKey),this.entity.editor.targetSelectionController.selectedCollection.removeAll(),this.entity.editor.targetSelectionController.hoveredCollection.removeAll(),wt(it.SELECT_TARGET)}clearBehaviorTargetEditContext(){wt(it.SELECT)}_updateTargetEntityFromSelection({selection:t}){const e=t?Array.from(t.sceneEntities):[];if(e.length>0){const i=e[0];this.entity.editor.stateController.recordBefore({action:P.BEHAVIORS,selection:[this]}),this.parameters.target=i.id,this.updateBehaviorsObjectData(),this.entity.editor.stateController.signals.behaviors.dispatch({action:P.BEHAVIORS,selection:[this]}),this.entity.editor.stateController.recordAfter({action:P.BEHAVIORS,selection:[this]})}this._setTargetEntitiesBinding.active=!1,this._isSelectingTarget=!1,this.clearBehaviorTargetEditContext(),this.entity.editor.targetSelectionController.selectedCollection.removeAll(),this.entity.editor.targetSelectionController.hoveredCollection.removeAll(),window.removeEventListener("keydown",this._onEscapeKey)}watch(){this.disposableReactions.push(rt(()=>{this.entity.behaviors.isPreview||this.reset()}))}reset(){this._behavior.reset()}dispose(){super.dispose(),this.entity.behaviors.removeBehaviorFromUpdate(this),this._behavior.dispose()}}Yb([V],H_.prototype,"_isSelectingTarget",2);Yb([M],H_.prototype,"targetEntity",1);Yb([E],H_.prototype,"setBehaviorTargetEditContext",1);Yb([E],H_.prototype,"clearBehaviorTargetEditContext",1);Yb([E],H_.prototype,"_updateTargetEntityFromSelection",1);var ck=Object.defineProperty,l_t=Object.getOwnPropertyDescriptor,c_t=(s,t,e)=>t in s?ck(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,OA=(s,t,e,i)=>{for(var n=l_t(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&ck(t,e,n),n},xl=(s,t,e)=>(c_t(s,typeof t!="symbol"?t+"":t,e),e);class J5 extends Se{constructor(t,e){super(),this._editor=t,xl(this,"_component"),xl(this,"_entity"),xl(this,"_object3D"),xl(this,"_targetWorldPositon",new w),xl(this,"_targetAnchorWorldPositon",new w),xl(this,"_currentLookAtObjectWorldPosition",new w),xl(this,"_matrix",null),xl(this,"_tempObject",new zs),xl(this,"_parentWorldMatrix",new Lt),xl(this,"_submitRotation",new ke),xl(this,"_lastRotation",new ke),xl(this,"_rotation",new ls),xl(this,"_disposableReactions",[]),this._component=e,this._entity=e.entity,this._object3D=e.entity.getDrivingObject3D(),vt(this),this.watch()}get component(){return this._component}reset(){this._object3D&&(this._object3D.position.copy(this._entity.transform.positionVec),this._object3D.rotation.copy(this._entity.transform.euler),this._object3D.scale.copy(this._entity.transform.scaleVec)),this._matrix=null}get targetEntity(){return this.component.targetEntity}get targetPoint(){const t=this.component.targetEntity;if(!t)return null;const e=t.getDrivingObject3D();return e==null||e.getWorldPosition(this._targetWorldPositon),this._targetWorldPositon}get tiltConstraints(){return this.component.parameters.tilt}get direction(){return this.component.parameters.direction}update(t){if(!this._object3D||!this.targetPoint)return null;if(!this._component.isEnabled)return this._matrix;switch(this._targetAnchorWorldPositon.copy(this.targetPoint),this._object3D.getWorldPosition(this._currentLookAtObjectWorldPosition),this._targetAnchorWorldPositon.set(this.tiltConstraints.x?this._targetAnchorWorldPositon.x:this._currentLookAtObjectWorldPosition.x,this.tiltConstraints.y?this._targetAnchorWorldPositon.y:this._currentLookAtObjectWorldPosition.y,this._targetAnchorWorldPositon.z),this._tempObject.position.copy(this._currentLookAtObjectWorldPosition),this._tempObject.updateMatrixWorld(),this._tempObject.lookAt(this._targetAnchorWorldPositon),this._object3D.parent?(this._parentWorldMatrix.copy(this._object3D.parent.matrixWorld),this._parentWorldMatrix.invert()):this._parentWorldMatrix.identity(),this.direction){case Bs.X:this._tempObject.rotateY(Math.PI/2);break;case Bs._X:this._tempObject.rotateY(-Math.PI/2);break;case Bs.Y:this._tempObject.rotateX(Math.PI/2);break;case Bs._Y:this._tempObject.rotateX(-Math.PI/2);break;case Bs._Z:this._tempObject.rotateY(Math.PI);break;case Bs.Z:}return this._matrix||(this._matrix=new Lt),this._matrix.makeRotationFromQuaternion(this._tempObject.quaternion),this._matrix.premultiply(this._parentWorldMatrix),this._matrix}submit(t){if(!this._object3D||t.length<=0)return;const e=t[0],i=t[t.length-1];this._submitRotation.setFromRotationMatrix(e),this._submitRotation.slerp(this._lastRotation.setFromRotationMatrix(i),.5),this._rotation.setFromQuaternion(this._submitRotation),this._entity.transform.setRotation(this._rotation)}watch(){this._disposableReactions.push(rt(()=>{this.component.entity.behaviors.isPreview||this.reset()}))}clear(){this.reset()}dispose(){super.dispose(),this.clear();for(const t of this._disposableReactions)t&&t()}}OA([M],J5.prototype,"targetEntity");OA([M],J5.prototype,"tiltConstraints");OA([M],J5.prototype,"direction");var hk=Object.defineProperty,h_t=Object.getOwnPropertyDescriptor,d_t=(s,t,e)=>t in s?hk(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,U_=(s,t,e,i)=>{for(var n=i>1?void 0:i?h_t(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&hk(t,e,n),n},tg=(s,t,e)=>(d_t(s,typeof t!="symbol"?t+"":t,e),e);class y1 extends Es{constructor(t,e){super(t.entity),this._behaviorComponent=t,this._parameters=e,tg(this,"type",pt.Behavior),tg(this,"_behavior"),tg(this,"behaviorType",ei.LOOK_AT),tg(this,"_isSelectingTarget",!1),tg(this,"_setTargetEntitiesBinding"),tg(this,"_disposable",new Zt),tg(this,"_onEscapeKey",i=>{i.code==="Escape"&&(i.stopPropagation(),this._updateTargetEntityFromSelection({selection:null}))}),this._setTargetEntitiesBinding=this.entity.editor.signals.targeting.selectionChanged.add(this._updateTargetEntityFromSelection.bind(this)),this._setTargetEntitiesBinding.active=!1,this._disposable.add(new tt(()=>{this._setTargetEntitiesBinding!=null&&this._setTargetEntitiesBinding.detach()})),this._behavior=new J5(this.entity.editor,this),vt(this)}updateBehaviorsObjectData(){this._behaviorComponent.updateBehaviorsObjectData()}get isSelectingTarget(){return this._isSelectingTarget}get isEnabled(){return this._behaviorComponent.isEnabled}get id(){return this._behaviorComponent.id}get targetEntity(){let t=this.parameters.target;if(this.entity.sceneObject.isInstance){if(!t)return null;const i=this.entity.compo.getRoot();if(!i)return null;const n=i.allChildren.find(o=>{const a=o.getComponent(Js);return a?a.component.id===t:!1});t=n?n.id:t}return t?this.entity.editor.sceneController.getSceneEntityById(t):null}get behavior(){return this._behavior}get parameters(){const t=this.entity.sceneObject.behaviors.getValue(this._behaviorComponent.id);if(!t)return this._parameters;const e=t.parameters;return e.type!==ei.LOOK_AT?this._parameters:e}setBehaviorTargetEditContext(t){this._setTargetEntitiesBinding.active=!0,this._isSelectingTarget=!0,window.addEventListener("keydown",this._onEscapeKey),this.entity.editor.targetSelectionController.selectedCollection.removeAll(),this.entity.editor.targetSelectionController.hoveredCollection.removeAll(),wt(it.SELECT_TARGET)}clearBehaviorTargetEditContext(){wt(it.SELECT)}_updateTargetEntityFromSelection({selection:t}){const e=t?Array.from(t.sceneEntities):[];if(e.length>0){const i=e[0];this.entity.editor.stateController.recordBefore({action:P.BEHAVIORS,selection:[this]}),this.parameters.target=i.id,this.updateBehaviorsObjectData(),this.entity.editor.stateController.signals.behaviors.dispatch({action:P.BEHAVIORS,selection:[this]}),this.entity.editor.stateController.recordAfter({action:P.BEHAVIORS,selection:[this]})}this._setTargetEntitiesBinding.active=!1,this._isSelectingTarget=!1,this.clearBehaviorTargetEditContext(),this.entity.editor.targetSelectionController.selectedCollection.removeAll(),this.entity.editor.targetSelectionController.hoveredCollection.removeAll(),window.removeEventListener("keydown",this._onEscapeKey)}watch(){this.disposableReactions.push(rt(()=>{this.entity.behaviors.isPreview||this.reset()}))}reset(){this._behavior.reset()}dispose(){super.dispose(),this.entity.behaviors.removeBehaviorFromUpdate(this),this._behavior.dispose()}}U_([V],y1.prototype,"_isSelectingTarget",2);U_([M],y1.prototype,"targetEntity",1);U_([M],y1.prototype,"parameters",1);U_([E],y1.prototype,"setBehaviorTargetEditContext",1);U_([E],y1.prototype,"clearBehaviorTargetEditContext",1);U_([E],y1.prototype,"_updateTargetEntityFromSelection",1);var dk=Object.defineProperty,u_t=Object.getOwnPropertyDescriptor,f_t=(s,t,e)=>t in s?dk(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,$5=(s,t,e,i)=>{for(var n=i>1?void 0:i?u_t(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&dk(t,e,n),n},kE=(s,t,e)=>(f_t(s,typeof t!="symbol"?t+"":t,e),e);class Wb extends Es{constructor(t,e){super(t.entity),this._behaviorsComponent=t,this._data=e,kE(this,"type",pt.Behavior),kE(this,"_lastType"),kE(this,"_parametersComponent"),this._parametersComponent=this._createBehaviorComponent(e.id,e),this._lastType=e.parameters.type,vt(this)}get id(){return this._data.id}get behaviorType(){return this.parameters.type}set behaviorType(t){if(t===this.behaviorType)return;this._parametersComponent.dispose();const e={...dD[t]},i=this.entity.sceneObject.behaviors.getValue(this._data.id);if(!i)return;const n=i.parameters;e.type!==ei.FIXED_SIZE&&n.type!==ei.FIXED_SIZE&&(e.target=n.target),i.parameters=e,this.updateBehaviorsObjectData()}get parametersComponent(){return this._parametersComponent}get removedInCurrentState(){return!this._data.removedInStates||this.entity.sceneObject.activeState==null?!1:this._data.removedInStates.includes(this.entity.sceneObject.activeState)}updateBehaviorsObjectData(t=!0){t&&(this.isEnabled=!0)}_createBehaviorComponent(t,e){switch(e.parameters.type){case ei.FOLLOW:return new H_(this,e.parameters);case ei.LOOK_AT:return new y1(this,e.parameters);case ei.FIXED_SIZE:return new TA(this,e.parameters)}}reset(){this._parametersComponent.reset()}get isEnabled(){var t;return((t=this.entity.sceneObject.behaviors.getValue(this._data.id))==null?void 0:t.isEnabled)??!1}set isEnabled(t){this.entity.sceneObject.behaviors.getValue(this._data.id).isEnabled=t}get behavior(){return this._parametersComponent.behavior}get parameters(){return this._parametersComponent.parameters}watch(){this.disposableReactions.push(rt(()=>{const t=this.entity.sceneObject.behaviors.getValue(this._data.id);if(t==null)return;const e=t.parameters.type;e!==this._lastType&&(this._parametersComponent.dispose(),this._data=t,this._lastType=e,this._parametersComponent=this._createBehaviorComponent(t.id,t),this._behaviorsComponent.isPreview&&this.entity.editor.sceneController.addBehaviorToUpdate(this._behaviorsComponent))}))}dispose(){super.dispose(),this._parametersComponent.dispose()}}$5([M],Wb.prototype,"behaviorType",1);$5([M],Wb.prototype,"parametersComponent",1);$5([V],Wb.prototype,"_parametersComponent",2);$5([M],Wb.prototype,"isEnabled",1);var uk=Object.defineProperty,p_t=Object.getOwnPropertyDescriptor,m_t=(s,t,e)=>t in s?uk(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Vf=(s,t,e,i)=>{for(var n=i>1?void 0:i?p_t(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&uk(t,e,n),n},W1=(s,t,e)=>(m_t(s,typeof t!="symbol"?t+"":t,e),e);class sc extends Es{constructor(t){super(t),W1(this,"type",pt.Behaviors),W1(this,"_behaviorComponents"),W1(this,"_isPreview",!1),W1(this,"_disposable",new Zt),W1(this,"_matrices",[]),W1(this,"_prevBehaviorComponent",null),this._behaviorComponents=new Map;const e=this.entity.editor.signals.command.togglePlayAllBehaviors.add(({start:i,isEditor:n})=>{this.setUpdatePreview(i,n)});this._disposable.add(new tt(()=>{e.detach()})),vt(this)}get behaviors(){return this.entity.sceneObject.behaviors}get behaviorComponents(){return this._behaviorComponents}get behaviorIds(){return this.behaviors.keys()}get isPreview(){return this._isPreview}get sortedBehaviors(){return[...this._behaviorComponents.values()].sort((e,i)=>N9(e.parameters.type)-N9(i.parameters.type))}get count(){return this.behaviors.entries().length}_createBehaviorObjectByType(t){return{id:Ht(),isEnabled:!0,parameters:dD[t]}}addBehavior(t){const e=this._createBehaviorObjectByType(t),i={...hs(this.entity.sceneObject.stateBehaviors)};return i[e.id]=e,this.entity.sceneObject.behaviors={...i},e.id}getBehaviorById(t){return this.entity.sceneObject.behaviors.getValue(t)}removeBehaviorById(t){this.entity.sceneObject.behaviors.remove(t),this.entity.editor.stateController.signals.behaviors.dispatch({action:P.BEHAVIORS,selection:[this]})}update(t){for(const e of this.sortedBehaviors){if(e.removedInCurrentState)continue;const i=e.behavior.update(t);this._prevBehaviorComponent&&this._prevBehaviorComponent.behaviorType!==e.behaviorType&&this._submitBehavior(),i&&this._matrices.push(i),this._prevBehaviorComponent=e}this._submitBehavior(),this._prevBehaviorComponent=null}_submitBehavior(){if(this._prevBehaviorComponent){const t=this._prevBehaviorComponent.behavior;t.submit&&t.submit([...this._matrices]),this._matrices=[],this._prevBehaviorComponent=null}}removeBehaviorFromUpdate(t,e=!0){this.entity.editor.sceneController.removeBehaviorToUpdate(this),e&&t.reset()}resetAllBehaviors(){for(const t of this._behaviorComponents.values())t.reset()}setUpdatePreview(t,e=!0){this._behaviorComponents.size<=0||(this._isPreview=t,t?this.entity.editor.sceneController.addBehaviorToUpdate(this):(this.entity.editor.sceneController.removeBehaviorToUpdate(this),this.resetAllBehaviors()),this.entity.editor.signals.object.sceneGraphChanged.dispatch())}watch(){this.disposableReactions.push(rt(()=>{var n;if(!this._behaviorComponents)return;const{entity:t}=this,{behaviors:e}=t.sceneObject,i=e.keys();for(const o of e.values){const{id:a}=o;if(!this._behaviorComponents.has(a)){const c=o,h=this._createBehavior(a,c);this._behaviorComponents.set(a,h)}this._isPreview&&this.entity.editor.sceneController.addBehaviorToUpdate(this);const l=this._behaviorComponents.get(a);l&&l.removedInCurrentState&&l.reset()}for(const o of this._behaviorComponents.keys())i.includes(o)||((n=this._behaviorComponents.get(o))==null||n.dispose(),this._behaviorComponents.delete(o))}))}_createBehavior(t,e){return new Wb(this,e)}dispose(){super.dispose();for(const[t,e]of this._behaviorComponents)e.dispose();this._disposable.dispose()}static duplicate(t,e,i){var n,o;t.behaviors={...t.behaviors};for(const a of Object.values(t.behaviors))if(a.parameters.type!==ei.FIXED_SIZE&&a.parameters.target!=null){const l=i==null?void 0:i.getSceneEntityById(a.parameters.target),c=l?l.id:null;a.parameters.target=e.get(a.parameters.target)??c}for(const a of Object.values(t.states))if(a.behaviors){for(const l of Object.values(a.behaviors))if(((n=l.parameters)==null?void 0:n.type)!==ei.FIXED_SIZE&&((o=l.parameters)!=null&&o.target)){const c=i==null?void 0:i.getSceneEntityById(l.parameters.target),h=c?c.id:null;l.parameters.target=e.get(l.parameters.target)??h}}}}Vf([V],sc.prototype,"_behaviorComponents",2);Vf([V],sc.prototype,"_isPreview",2);Vf([M],sc.prototype,"behaviorComponents",1);Vf([M],sc.prototype,"behaviorIds",1);Vf([M],sc.prototype,"sortedBehaviors",1);Vf([M],sc.prototype,"count",1);Vf([E],sc.prototype,"addBehavior",1);Vf([E],sc.prototype,"removeBehaviorById",1);Vf([E],sc.prototype,"setUpdatePreview",1);var fk=Object.defineProperty,g_t=Object.getOwnPropertyDescriptor,__t=(s,t,e)=>t in s?fk(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Da=(s,t,e,i)=>{for(var n=i>1?void 0:i?g_t(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&fk(t,e,n),n},u2=(s,t,e)=>(__t(s,typeof t!="symbol"?t+"":t,e),e);class na extends Es{constructor(t){super(t),u2(this,"type",pt.Components),u2(this,"componentID",null),u2(this,"isInstance",!1),u2(this,"_root",null),vt(this)}get root(){return this._root}getRoot(){if(!this.entity.sceneObject.asset)return null;if(!this.root)for(this._root=this.entity;this._root&&this._root.parent&&this.entity.sceneObject.asset===this._root.parent.sceneObject.asset;)this._root=this._root.parent;return this.root}get isRoot(){return this.entity.sceneObject.asset?this.entity.parent==null||this.entity.sceneObject.asset!==this.entity.parent.sceneObject.asset:!1}get isComponentEntity(){return this.componentID!=null&&!this.isInstance}get isComponentRoot(){return this.isComponentEntity&&this.isRoot}get isInstanceEntity(){return this.componentID!=null&&this.isInstance}get isInstanceRoot(){return this.isInstanceEntity&&this.isRoot}getOldestAncestorComponentRoot(){if(this.isComponentRoot)return this.entity;let t=null,e=this.entity;for(;e.parent;){if(e.parent.compo.isComponentRoot){t=e.parent;break}e=e.parent}return t}create(t){this.entity.sceneObject.asset==null&&(this.entity.sceneObject.asset=t),this.componentID=t}remove(){this.entity.parent?(this.entity.sceneObject.asset=this.entity.parent.sceneObject.asset,this.entity.sceneObject.isInstance=this.entity.parent.sceneObject.isInstance):(this.entity.sceneObject.asset=null,this.entity.sceneObject.isInstance=!1)}watch(){this.disposableReactions.push(rt(()=>{this._setComponentID(this.entity.sceneObject.asset)}),rt(()=>{this._setIsInstance(this.entity.sceneObject.isInstance)}),rt(()=>{const t=this.entity.sceneObject.asset?ym(this.entity.sceneObject.asset):null;if(t==null){this._setRoot(null);return}let e=this.entity;if(this.entity.parent)for(;e.parent;){const i=e.parent.sceneObject;if(i.asset&&i.asset.includes(t))e=e.parent;else break}this.entity===e&&this.entity.editor.componentsController.registerComponentRoot(e.id),this._setRoot(e)}),rt(()=>{const t=this.entity.parent?this.entity.parent.compo.componentID:null,e=this.entity.parent?this.entity.parent.compo.isInstance:!1;this._onParentChanged(this.entity.parent,t,e)}))}_onParentChanged(t,e,i){const n=this.entity.editor.componentsController.getComponentSourceIdFromInstanceId(this.entity.id);if(t==null){if(this.entity.editor.componentsController.isComponentRoot(this.entity.id)||n!=null)return;this._setComponentID(null),this._setIsInstance(!1),this._setRoot(null)}else if(t.compo.componentID!=null){if(this.entity.sceneObject.asset=this.entity.sceneObject.asset??t.compo.componentID,this._setComponentID(this.entity.sceneObject.asset),this.entity.sceneObject.asset===t.compo.componentID){const o=t.compo.componentID!=null&&t.compo.isInstance;this.entity.sceneObject.isInstance=o,this._setIsInstance(o)}}else{if(this.entity.editor.componentsController.isComponentRoot(this.entity.id)||n!=null)return;this._setComponentID(null),this._setIsInstance(!1),this._setRoot(null)}}_setComponentID(t){this.componentID=t}_setIsInstance(t){this.isInstance=t}_setRoot(t){this._root=t}dispose(){super.dispose()}}Da([V],na.prototype,"componentID",2);Da([V],na.prototype,"isInstance",2);Da([V],na.prototype,"_root",2);Da([M],na.prototype,"root",1);Da([M],na.prototype,"isRoot",1);Da([M],na.prototype,"isComponentEntity",1);Da([M],na.prototype,"isComponentRoot",1);Da([M],na.prototype,"isInstanceEntity",1);Da([M],na.prototype,"isInstanceRoot",1);Da([E],na.prototype,"create",1);Da([E],na.prototype,"remove",1);Da([E],na.prototype,"_onParentChanged",1);Da([E],na.prototype,"_setComponentID",1);Da([E],na.prototype,"_setIsInstance",1);Da([E],na.prototype,"_setRoot",1);var v_t=Object.defineProperty,y_t=(s,t,e)=>t in s?v_t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,jP=(s,t,e)=>(y_t(s,typeof t!="symbol"?t+"":t,e),e);class b_t extends sa{constructor(t,e="GamepadHelper"){super(),this.type=e,jP(this,"_sprite"),jP(this,"_spritePositionGlobal",new w);const{gamepadSpriteMaterial:i}=Te.spriteMaterials,n=new ML(i);this._sprite=n,this.add(n),this.traverse(o=>{this._setObjectData(o,t)})}_setObjectData(t,e){t.layers.set(ce.GAMEPAD_WIDGET),t.userData.id=e,t.userData.isHelper=!0}update(t){super.update(t),this._normalizeScale(),this.getWorldPosition(this._spritePositionGlobal);const e=this._spritePositionGlobal.distanceTo(t.camera.position),i=rr(48,e,t.camera,t.size.width,t.size.height);this._sprite.scale.setScalar(i),this._sprite.updateMatrixWorld()}dispose(){}}var pk=Object.defineProperty,C_t=Object.getOwnPropertyDescriptor,w_t=(s,t,e)=>t in s?pk(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,ic=(s,t,e,i)=>{for(var n=i>1?void 0:i?C_t(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&pk(t,e,n),n},up=(s,t,e)=>(w_t(s,typeof t!="symbol"?t+"":t,e),e);class ur extends Es{constructor(t){super(t),up(this,"type",pt.Gamepad),up(this,"_object"),up(this,"_helperScale",.25),up(this,"_helper"),up(this,"_disposable",new Zt),up(this,"_actions",new ho),up(this,"_boundingBoxCache",new Qr),up(this,"_boundingSphereCache",new Jr),this._object=new zs,this._object.userData.id=t.id,this._helper=new b_t(t.id),this.mesh.add(this._helper),this.entity.editor.sceneHelpers.add(this._helper),this._disposable.add(new tt(()=>{})),vt(this)}get mesh(){return this._object}get parameters(){return this.entity.sceneObject.parameters}get boundingBox(){const t=this._boundingBoxCache.get();t.makeEmpty();const e=this._helperScale,i=this._helperScale,n=this._helperScale;return t.min.set(-e,-i,-n),t.max.set(e,i,n),t}get boundingSphere(){const t=this._boundingSphereCache.get();return t.makeEmpty(),t.radius=this._helperScale,t}get boundingBoxRevision(){return 0}setParameters(t){const{actions:e,isEnabled:i}=t;this.parameters.isEnabled=i;for(const n of Object.values(e))this.parameters.actions.set(n.id,n)}get isEnabled(){return this.parameters.isEnabled}setEnabled(t){this.parameters.isEnabled=t}setBinding(t,e,i){const n=this.parameters.actions.getValue(t.id);if(!n)return;const a=n.bindings.getValue(e.id);a&&(a.binding=i)}setBindingHand(t,e,i){const n=this.parameters.actions.getValue(t.id);if(!n)return;const a=n.bindings.getValue(e.id);a&&(a.hand=i)}get actions(){return this.parameters.actions}addNewAction(){const t=this.parameters.actions.values.map(o=>{const a=parseInt(o.id);return isNaN(a)?0:a}),e=t.length>0?Math.max(...t)+1:0,i=e.toString(),n=`Action ${e+1}`;this.parameters.actions.add(i,{id:i,name:n,bindings:{desktop:{id:"desktop",device:Gr.DESKTOP,binding:"E"},gamepad:{id:"gamepad",device:Gr.XBOX,binding:le.RightTrigger},xr:{id:"xr",device:Gr.XR,hand:Dn.RIGHT,binding:le.Trigger}}})}removeAction(t){this.parameters.actions.remove(t.id)}renameAction(t,e){const i=this.parameters.actions.getValue(t.id);i&&(i.name=e)}reset(){}watch(){this.disposableReactions.push(rt(()=>{this._object.position.copy(this.entity.transform.positionVec),this._object.rotation.copy(this.entity.transform.euler),this._object.scale.copy(this.entity.transform.scaleVec),this._object.updateMatrixWorld()}),rt(()=>{this._helper.visible=this.entity.sceneObject.isVisible,this.entity.editor.signals.object.sceneGraphChanged.dispatch()}))}dispose(){super.dispose()}}ic([V],ur.prototype,"_actions",2);ic([M],ur.prototype,"parameters",1);ic([M],ur.prototype,"boundingBox",1);ic([M],ur.prototype,"boundingSphere",1);ic([E],ur.prototype,"setParameters",1);ic([M],ur.prototype,"isEnabled",1);ic([E],ur.prototype,"setEnabled",1);ic([E],ur.prototype,"setBinding",1);ic([E],ur.prototype,"setBindingHand",1);ic([M],ur.prototype,"actions",1);ic([E],ur.prototype,"addNewAction",1);ic([E],ur.prototype,"removeAction",1);ic([E],ur.prototype,"renameAction",1);var x_t=Object.defineProperty,E_t=(s,t,e)=>t in s?x_t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Pu=(s,t,e)=>(E_t(s,typeof t!="symbol"?t+"":t,e),e);class S_t extends Es{constructor(t){super(t),Pu(this,"type",pt.Highlight),Pu(this,"_highlighted",!1),Pu(this,"_points",new Array(8).fill(null).map(()=>new w)),Pu(this,"_indices",new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7])),Pu(this,"_segments",new Array(72).fill(0)),Pu(this,"_geometry"),Pu(this,"_mesh"),Pu(this,"_boundingBox",new Us),Pu(this,"_highlightObject");const e=new $n;e.setAttribute("position",new or(this._segments,3));const i=new C_(e);this._geometry=new Ef().fromLineSegments(i),this._geometry.setPositions(this._segments),this._mesh=new Xg(this._geometry),this._mesh.layers.set(ce.OVERLAY),this._highlightObject=t.getObject3D(),this.update()}get mesh(){return this._mesh}get highlightObject(){return this._highlightObject||(this._highlightObject=this.entity.getObject3D()),this._highlightObject}get highlighted(){return this._highlighted}get boundingBox(){return this._boundingBox}watch(){}updateMesh(){return this._highlightObject=this.entity.getObject3D(),this.update(),this}update(){this._boundingBox.copy(this.entity.boundingBox),this._boundingBox.isEmpty()&&(this._boundingBox=new Us(new w(-Fo,-Fo,-Fo),new w(Fo,Fo,Fo))),this._points[0].set(this._boundingBox.max.x,this._boundingBox.max.y,this._boundingBox.max.z),this._points[1].set(this._boundingBox.min.x,this._boundingBox.max.y,this._boundingBox.max.z),this._points[2].set(this._boundingBox.min.x,this._boundingBox.min.y,this._boundingBox.max.z),this._points[3].set(this._boundingBox.max.x,this._boundingBox.min.y,this._boundingBox.max.z),this._points[4].set(this._boundingBox.max.x,this._boundingBox.max.y,this._boundingBox.min.z),this._points[5].set(this._boundingBox.min.x,this._boundingBox.max.y,this._boundingBox.min.z),this._points[6].set(this._boundingBox.min.x,this._boundingBox.min.y,this._boundingBox.min.z),this._points[7].set(this._boundingBox.max.x,this._boundingBox.min.y,this._boundingBox.min.z);for(let t=0;t<this._segments.length/3;t++)this._segments[t*3+0]=this._points[this._indices[t]].x,this._segments[t*3+1]=this._points[this._indices[t]].y,this._segments[t*3+2]=this._points[this._indices[t]].z;this._geometry.setPositions(this._segments)}highlight(t){this._highlighted&&this._mesh.material===t||this.highlightObject&&(this.highlightObject.add(this.mesh),this._mesh.material=t,this.update(),this._highlighted=!0)}unhighlight(){this._highlighted&&this.highlightObject&&(this.highlightObject.remove(this.mesh),this._highlighted=!1)}}class b6 extends Im{get entityId(){return this.entity.id}getDefaultTargetEntityIds(){return this.entity.sceneObject.type===L.CAMERA?[]:[Ms]}}var mk=Object.defineProperty,I_t=Object.getOwnPropertyDescriptor,A_t=(s,t,e)=>t in s?mk(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,t3=(s,t,e,i)=>{for(var n=i>1?void 0:i?I_t(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&mk(t,e,n),n},DP=(s,t,e)=>(A_t(s,typeof t!="symbol"?t+"":t,e),e);class z_ extends Es{constructor(t){super(t),DP(this,"type",pt.Opacity),DP(this,"_opacity",1),vt(this)}get rawOpacity(){return this._opacity}get opacity(){return this.entity.parent?this._opacity*this.entity.parent.layerOpacity.opacity:this._opacity}setOpacity(t){this.entity.sceneObject.layerOpacity=t}watch(){this.disposableReactions.push(rt(()=>{this._setOpacity(this.entity.sceneObject.layerOpacity)}))}_setOpacity(t){this._opacity=t}}t3([V],z_.prototype,"_opacity",2);t3([M],z_.prototype,"opacity",1);t3([E],z_.prototype,"setOpacity",1);t3([E],z_.prototype,"_setOpacity",1);class MA{static createCircle({radius:t,segments:e,z:i=0,isLineSegment:n=!0}){if(t<=0||e<=0)return[];const o=[],a=Math.PI*2/e;for(let l=0;l<e;l++){const c=l*a,h=t*Math.cos(c),d=t*Math.sin(c);if(o.push(h,d,i),n){const u=(l+1)*a,f=t*Math.cos(u),p=t*Math.sin(u);o.push(f,p,i)}}return n||o.push(o[0],o[1],o[2]),o}}var T_t=Object.defineProperty,P_t=(s,t,e)=>t in s?T_t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,C6=(s,t,e)=>(P_t(s,typeof t!="symbol"?t+"":t,e),e);class O_t extends Rf{constructor(t=1){super();const e=MA.createCircle({radius:t,segments:64,z:0,isLineSegment:!1});this.setPositions(e)}}class Y_ extends sa{constructor(t,e,i="SoundHelper"){super(),this.type=i,C6(this,"_sprite"),C6(this,"_spritePositionGlobal",new w),this._sprite=new ML(this.getMaterial(e)),this.add(this._sprite),this.traverse(n=>{this._setObjectData(n)}),this.updateSize(t)}_setObjectData(t){t.layers.set(ce.SOUND_WIDGET),t.userData.isHelper=!0}getMaterial(t){const{soundSpriteMaterial:e,soundSpatialSpriteMaterial:i}=Te.spriteMaterials;return t?i:e}updateType(t){this._sprite.material=this.getMaterial(t)}updateVisibility(t){}updateSize({range:t,decay:e}){}update(t){super.update(t),this._normalizeScale(),this.getWorldPosition(this._spritePositionGlobal);const e=this._spritePositionGlobal.distanceTo(t.camera.position),i=rr(48,e,t.camera,t.size.width,t.size.height);this._sprite.scale.setScalar(i),this._sprite.updateMatrixWorld()}dispose(){}}C6(Y_,"ringGeometry",new O_t);function I0(s,t,e,i=!1){const n=new il(s,t);return n.renderOrder=e,i&&n.rotateX(Math.PI/2),n}function M_t(s=Y_.ringGeometry,t){const e=new bn,i=I0(s,t.line.lineMaterial,0),n=I0(s,t.line.lineMaterial,0,!0);e.add(i),e.add(n);const o=I0(s,t.line.linePass2Material,1),a=I0(s,t.line.linePass2Material,1,!0);return o.userData.isTransparencyPass2=!0,a.userData.isTransparencyPass2=!0,e.add(o),e.add(a),e}function L_t(s=Y_.ringGeometry,t){const e=I0(s,t.line.lineMaterial,0),i=I0(s,t.line.lineMaterial,0,!0),n=new bn;return n.add(e),n.add(i),n}const R_t=(s,t,e)=>`${s}@${t}@${e}`,N_t=s=>{const[t,e,i]=s.split("@");return{entityId:t,componentId:e,assetId:i}};var gk=Object.defineProperty,j_t=Object.getOwnPropertyDescriptor,D_t=(s,t,e)=>t in s?gk(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,fr=(s,t,e,i)=>{for(var n=j_t(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&gk(t,e,n),n},f2=(s,t,e)=>(D_t(s,typeof t!="symbol"?t+"":t,e),e);class Yo extends Es{constructor(t,e){super(t.entity),f2(this,"_id"),f2(this,"_soundsComponent"),f2(this,"_helper"),f2(this,"type",pt.Sound),this._id=e.id,this._soundsComponent=t,this._helper=this._makeHelper(e.type===nr.SPATIAL),vt(this)}_makeHelper(t){var n;const e=new Y_(this.parameters,t);(n=this.entity.getObject3D())==null||n.add(e),this.entity.editor.sceneHelpers.add(e);const{id:i}=this._soundsComponent.entity;return e.userData.id=i,e.traverse(o=>o.userData.id=i),e}get id(){return this._id}get soundValue(){const t=this.entity.sceneObject.sounds.getValue(this._id);if(!t)throw new Error("Audio value is undefined");return t}get _controller(){return this.entity.editor.soundController}get soundType(){return this.soundValue.type}set soundType(t){this.soundValue.type=t}get parameters(){return this.soundValue.parameters}get hasSound(){return this.soundValue.assetId!==""}get assetId(){return this.soundValue.assetId}get playbackId(){return R_t(this.entity.id,this._id,this.assetId)}get isLoading(){return this._controller.getIsLoading(this.assetId)}get shouldPreventDoublePlayback(){return this.entity.sceneObject.isCurrentlyAnimating}get shouldIgnorePlaybackChange(){return this.shouldPreventDoublePlayback||!this.entity.isEffectivelyVisible}setAssetId(t){const e={action:P.SOUND_PICK};this.entity.editor.stateController.recordBefore(e),this.soundValue.assetId=t,this.entity.editor.stateController.signals.sound.dispatch({action:P.SOUND_PICK}),this.entity.editor.stateController.recordAfter(e)}clearAssetId(){this.setAssetId("")}setVolume(t){this.soundValue.parameters.volume=t}setPlaybackStatus(t){this.soundValue.parameters.playbackStatus=t}setPlaybackMode(t){this.soundValue.parameters.playbackMode=t}setRange(t){this.soundValue.parameters.range=t}setDecay(t){this.soundValue.parameters.decay=t}get decayRadius(){return this.soundValue.parameters.range+this.soundValue.parameters.decay}setInterpolationType(t){this.soundValue.parameters.interpolationType=t}watch(){this.disposableReactions.push(rt(()=>{if(this._soundsComponent.wasRemovedInReconciliation(this._id))return;const e=this.soundValue.type===nr.SPATIAL;this._helper.updateVisibility(e),this._helper.updateType(e)}),rt(()=>{this._helper.updateSize(this.parameters)}),rt(()=>{if(this.shouldIgnorePlaybackChange)return;const{playbackId:t,_id:e,soundType:i,assetId:n,parameters:o}=this,{playbackStatus:a}=o;if(!this._controller.getHasPlayback(t)){const l=this.entity.getObject3D();this._controller.setSoundType(t,i,n,l)}this._controller.checkAutoStop(this.entity.id,e,n),a===Vp.PLAY?this._controller.play(t):a===Vp.PAUSE?this._controller.pause(t):a===Vp.STOP&&this._controller.stop(t)}),rt(()=>{if(this.shouldIgnorePlaybackChange)return;const{playbackMode:t,playbackStatus:e}=this.parameters;this._controller.setPlaybackMode(this.playbackId,t);const i=t===e1.LOOP,n=e===Vp.PLAY;i&&n&&this._controller.play(this.playbackId)}),rt(()=>{this._controller.setVolume(this.playbackId,this.parameters.volume)}),rt(()=>{if(this.shouldIgnorePlaybackChange)return;const{assetId:t,soundType:e,playbackId:i,parameters:n}=this;if(!t||this._controller.getIsLoading(this.assetId))return;const o=this.entity.getObject3D();this._controller.setSoundType(i,e,t,o);const{playbackStatus:a}=n;a===Vp.PLAY&&this._controller.play(this.playbackId)}),rt(()=>{this._controller.setRange(this.playbackId,this.parameters.range)}),rt(()=>{this._controller.setDecay(this.playbackId,this.decayRadius)}),rt(()=>{const t=this.parameters.interpolationType;this._controller.setInterpolationType(this.playbackId,t)}),rt(()=>{this._helper.visible=this.entity.sceneObject.isVisible,this.entity.editor.signals.object.sceneGraphChanged.dispatch()}),rt(()=>{this.entity.sceneObject.lastGeometryUpdated=Date.now(),this.entity.highlightComponent.update()}))}dispose(){const t=this.entity.getObject3D();if(t){for(const e of t.children)(e instanceof LL||e instanceof dw)&&t.remove(e);t.remove(this._helper)}this.entity.editor.sceneHelpers.remove(this._helper),this._helper.dispose(),super.dispose()}}fr([M],Yo.prototype,"_controller");fr([M],Yo.prototype,"soundType");fr([M],Yo.prototype,"parameters");fr([M],Yo.prototype,"hasSound");fr([M],Yo.prototype,"assetId");fr([M],Yo.prototype,"playbackId");fr([M],Yo.prototype,"isLoading");fr([M],Yo.prototype,"shouldPreventDoublePlayback");fr([M],Yo.prototype,"shouldIgnorePlaybackChange");fr([E],Yo.prototype,"setAssetId");fr([E],Yo.prototype,"clearAssetId");fr([E],Yo.prototype,"setVolume");fr([E],Yo.prototype,"setPlaybackStatus");fr([E],Yo.prototype,"setPlaybackMode");fr([E],Yo.prototype,"setRange");fr([E],Yo.prototype,"setDecay");fr([M],Yo.prototype,"decayRadius");fr([E],Yo.prototype,"setInterpolationType");var _k=Object.defineProperty,F_t=Object.getOwnPropertyDescriptor,B_t=(s,t,e)=>t in s?_k(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,sh=(s,t,e,i)=>{for(var n=i>1?void 0:i?F_t(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&_k(t,e,n),n},Sv=(s,t,e)=>(B_t(s,typeof t!="symbol"?t+"":t,e),e);const nc=class vk extends Es{constructor(t){super(t),Sv(this,"_object"),Sv(this,"type",pt.Sounds),Sv(this,"_soundComponents"),Sv(this,"_boundingBoxCache",new Qr),Sv(this,"_boundingSphereCache",new Jr),this._soundComponents=new Map,this._object=new zs,this._object.userData.id=t.id,vt(this)}get mesh(){return this._object}static createSoundObjectByType(t){return{id:_t(),type:t,assetId:J4,parameters:{...G7}}}get parameters(){return this.entity.sceneObject.parameters}get boundingBox(){const t=this._boundingBoxCache.get();t.makeEmpty();const{width:e,height:i,depth:n}=this.parameters,o=e/2,a=i/2,l=n/2;return t.min.set(-o,-a,-l),t.max.set(o,a,l),t}get boundingSphere(){const t=this._boundingSphereCache.get();t.makeEmpty();const{width:e,height:i,depth:n}=this.parameters;return t.radius=Math.max(e,i,n)/2,t}get boundingBoxRevision(){return 0}get sounds(){return this.entity.sceneObject.sounds}get soundComponents(){return this._soundComponents}get soundIds(){return this.sounds.keys()}get count(){return this.sounds.entries().length}getSoundById(t){return this.sounds.getValue(t)}getHasSoundByAssetId(t){const e=this.soundComponents.values();for(const i of e)if(i.assetId===t)return!0;return!1}addSound(t){const e=vk.createSoundObjectByType(t),{id:i}=e;return this.sounds.add(i,e),this._addSoundComponent(i,e)}_addSoundComponent(t,e){const i=new Yo(this,e);return this._soundComponents.set(t,i),i}removeSoundById(t){var e;this.sounds.remove(t),(e=this._soundComponents.get(t))==null||e.dispose(),this._soundComponents.delete(t)}wasRemovedInReconciliation(t){const e=this._soundComponents.has(t);this._reconcileLocalRemoteAndHistory();const i=this._soundComponents.has(t);return e&&!i}_reconcileLocalRemoteAndHistory(){if(!this._soundComponents)return;for(const e of this.sounds.values){const{id:i}=e;this._soundComponents.has(i)||this._addSoundComponent(i,e)}const t=this.sounds.keys();for(const e of this._soundComponents.keys())t.includes(e)||this.removeSoundById(e)}watch(){this.disposableReactions.push(rt(()=>{this._object.position.copy(this.entity.transform.positionVec),this._object.rotation.copy(this.entity.transform.euler),this._object.scale.copy(this.entity.transform.scaleVec),this._object.updateMatrixWorld()}),rt(this._reconcileLocalRemoteAndHistory.bind(this)),Gn(()=>this.sounds.getIds(),this._reconcileLocalRemoteAndHistory.bind(this)))}dispose(){super.dispose();for(const[t,e]of this._soundComponents)e.dispose()}};sh([V],nc.prototype,"_soundComponents",2);sh([M],nc.prototype,"parameters",1);sh([M],nc.prototype,"boundingBox",1);sh([M],nc.prototype,"boundingSphere",1);sh([M],nc.prototype,"soundComponents",1);sh([M],nc.prototype,"soundIds",1);sh([M],nc.prototype,"count",1);sh([E],nc.prototype,"addSound",1);sh([E],nc.prototype,"_addSoundComponent",1);sh([E],nc.prototype,"removeSoundById",1);sh([E],nc.prototype,"wasRemovedInReconciliation",1);sh([E],nc.prototype,"_reconcileLocalRemoteAndHistory",1);let b1=nc;var k_t=Object.defineProperty,G_t=Object.getOwnPropertyDescriptor,V_t=(s,t,e,i)=>{for(var n=G_t(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&k_t(t,e,n),n};const H_t={name:"State",material:{},parameters:{},behaviors:{}};class Xb extends cr{_copyLastState(t,e){let i={...H_t};const n=e??this.stateId;if(n!=null){const o=this._states.get(n);i=Ag.cloneDeep(o),typeof i.material=="string"&&(i.material={baseID:i.material})}else i.behaviors=Ag.cloneDeep(this.entity.sceneObject.base().behaviors);return this.entity.isFrame&&this._copyFrameStates(n,t),i}_copyFrameStates(t,e){for(const i of this.entity.allChildren){i.sceneObject.frameStates==null&&(i.sceneObject.frameStates={});const n=t==null?{behaviors:Ag.cloneDeep(i.sceneObject.base().behaviors)}:i.sceneObject.frameStates[t],o=Ag.cloneDeep(n);i.sceneObject.frameStates[e]=o}}remove(t){if(!(this.entity.compo.isInstanceEntity&&!this.entity.compo.isRoot)){if(super.remove(t),this.entity.compo.isComponentEntity&&!this.entity.compo.isComponentRoot){const e=this.entity.sceneObject.activeState;this.entity.editor.componentsController.setActiveStateOnInstances(this.entity,e)}this.entity.isFrame&&this.entity.getComponent(Cn).deleteStateData(t)}}get entityId(){return this.entity.id}}V_t([Ui],Xb.prototype,"remove");var yk=Object.defineProperty,U_t=Object.getOwnPropertyDescriptor,z_t=(s,t,e)=>t in s?yk(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,is=(s,t,e,i)=>{for(var n=i>1?void 0:i?U_t(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&yk(t,e,n),n},wi=(s,t,e)=>(z_t(s,typeof t!="symbol"?t+"":t,e),e);const Y_t=1e-7;function GE(s,t,e,i=vf,n=xit){if(s===0||e===0)return t;const o=t*s/e;return Math.min(Math.max(o,i),n)}class qe extends Es{constructor(t){super(t),wi(this,"type",pt.Transform),wi(this,"_size"),wi(this,"_positionOffset"),wi(this,"_previewPosition"),wi(this,"_previewPositionOffset"),wi(this,"_previewRotation"),wi(this,"_previewScale"),wi(this,"_parentTransform",null),wi(this,"_matrixLocalCache",new sb),wi(this,"_matrixGlobalCache",new sb),wi(this,"_positionCache",new Wp),wi(this,"_eulerCache",new aP),wi(this,"_quaternionCache",new AF),wi(this,"_scaleCache",new Wp),wi(this,"_scaleGlobalCache",new Wp),wi(this,"_positionGlobalCache",new Wp),wi(this,"_unscaledRotationMatrix",new Lt),wi(this,"_eulerGlobalCache",new aP),wi(this,"_tempLocalToWorldRotation",new ke),wi(this,"_tempLocalToWorldMatrix",new Lt),wi(this,"_tempWorldToLocalRotation",new ke),wi(this,"_tempWorldToLocalMatrix",new Lt),wi(this,"_tempMatrix4",new Lt),wi(this,"_tempWorldPosition",new w),wi(this,"_tempWorldMatrix",new Lt),wi(this,"_tempConvertToChildVec",new w),wi(this,"convertToChildSpace",(o,a)=>{const l=this._tempConvertToChildVec.copy(a),c=this._localToWorldVector(l);return o._worldToLocalVector(c)}),wi(this,"_helperRotationMatrix",new Lt),wi(this,"_helperRotationEuler",new ls);const e=t.boundingBox,i=e.min,n=e.max;this._size={x:n.x-i.x,y:n.y-i.y,z:n.z-i.z},this._positionOffset={x:0,y:0,z:0},this._previewPosition={x:0,y:0,z:0},this._previewPositionOffset={x:0,y:0,z:0},this._previewRotation={x:0,y:0,z:0},this._previewScale={x:1,y:1,z:1},vt(this)}get position(){return this.entity.isEffectivelyPreviewing?this._previewPosition:this.entity.sceneObject.position}get rotation(){return this.entity.isEffectivelyPreviewing?this._previewRotation:this.entity.sceneObject.rotation}get scale(){return this.entity.isEffectivelyPreviewing?this._previewScale:this.entity.sceneObject.scale}get isScaleLinked(){return this.entity.sceneObject.isScaleLinked}set isScaleLinked(t){this.entity.sceneObject.isScaleLinked=t}get isScaleEditable(){return this._isEntityScalable}get effectivePosition(){const t=this.position.x+this.positionOffset.x,e=this.position.y+this.positionOffset.y,i=this.position.z+this.positionOffset.z;return{x:t,y:e,z:i}}get matrixLocal(){const t=this._matrixLocalCache.get();return t.compose(this.positionVec,this.quaternion,this.scaleVec),t}get matrixGlobal(){const t=this._matrixGlobalCache.get(),e=this._matrixLocalCache.get();return e.compose(this.positionVec,this.quaternion,this.scaleVec),this.localToWorld(e,t)}get parentTransform(){return this._parentTransform}get positionVec(){const{x:t,y:e,z:i}=this.effectivePosition;return this._positionCache.get().set(t,e,i)}get euler(){return this._eulerCache.get().set(this.rotation.x,this.rotation.y,this.rotation.z)}get quaternion(){return this._quaternionCache.get().setFromEuler(this.euler)}get scaleVec(){const t=this._scaleCache.get();return this.entity.hasScale?(t.set(this.scale.x,this.scale.y,this.scale.z),t1(t,e=>e===0?vf:e),t):t.set(1,1,1)}get scaleGlobal(){const t=this._scaleGlobalCache.get();return t.setFromMatrixScale(this.matrixGlobal),t}get positionGlobalVec(){return this._positionGlobalCache.get().setFromMatrixPosition(this.matrixGlobal)}get eulerGlobal(){const t=this._eulerGlobalCache.get();return this._unscaledRotationMatrix.extractRotation(this.matrixGlobal),t.setFromRotationMatrix(this._unscaledRotationMatrix),t}localToWorld(t,e=new Lt){return e.copy(t),this._parentTransform&&e.premultiply(this._parentTransform.matrixGlobal),e}worldToLocal(t){const e=new Lt().copy(this.matrixGlobal).invert();return t.applyMatrix4(e)}_localToWorldVector(t,e=new w){return e.copy(t),this._tempLocalToWorldRotation.setFromRotationMatrix(this._tempLocalToWorldMatrix.extractRotation(this.matrixGlobal)),e.applyQuaternion(this._tempLocalToWorldRotation),e}_worldToLocalVector(t,e=new w){return e.copy(t),this._tempWorldToLocalMatrix.extractRotation(this.matrixGlobal).invert(),this._tempWorldToLocalRotation.setFromRotationMatrix(this._tempWorldToLocalMatrix),e.applyQuaternion(this._tempWorldToLocalRotation),e}setPosition(t,e=!1){this.entity.isReadOnly&&!e||this._setPosition(t)}setRotation(t,e=!1){this.entity.isReadOnly&&!e||this._setRotation(t)}setScale(t,e=!1){(this.entity.isReadOnly||!this._isEntityScalable)&&!e||this._setScale(t)}setLockedScale(t,e=!1){this.entity.isReadOnly&&!e||(this.entity.sceneObject.isScaleLinked=t)}setMatrix(t,e=!1){const i=this._parentTransform?this._tempMatrix4.copy(this._parentTransform.matrixGlobal).invert().multiply(t):t,n={x:0,y:0,z:0},o={x:0,y:0,z:0},a={x:0,y:0,z:0};Hi.decomposeMatrix4(i,n,o,a);const l=this._getAdustedRotation(o);this.entity.isReadOnly&&!e||(this._setPosition(n),this._setRotation(l),this._setScale(a))}setGlobalPosition(t,e=!1){const i=this._tempWorldPosition.copy(t).sub(this.positionGlobalVec),o=this._tempWorldMatrix.makeTranslation(...i.toArray()).multiply(this.matrixGlobal);this.setMatrix(o,e)}setMatrixLocal(t){const e={x:0,y:0,z:0},i={x:0,y:0,z:0},n={x:0,y:0,z:0};Hi.decomposeMatrix4(t,e,i,n),this.entity.isReadOnly||(this._setPosition(e),this._setRotation(i),this._setScale(n))}copy(t){this._setPosition(t.position),this._setRotation(t.rotation),this._setScale(t.scale),this.isScaleLinked=t.isScaleLinked}setParentMatrix(t){this._parentTransform=t}setSize(t,e={x:1,y:1,z:1},i=!1){if(this.entity.isReadOnly&&!i)return;if(this.isScaleLinked){const l=e.x?t.x/e.x:1,c=e.y?t.y/e.y:1,h=e.z?t.z/e.z:1;ts(l,1)?ts(c,1)?ts(h,1)||(t.x*=h,t.y*=h):(t.x*=c,t.z*=c):(t.y*=l,t.z*=l)}const n=GE(t.x,this.scale.x,e.x),o=GE(t.y,this.scale.y,e.y),a=GE(t.z,this.scale.z,e.z);this._setScale({x:n,y:o,z:a})}get parameters(){return{width:this.entity.size.x,height:this.entity.size.y,depth:this.entity.size.z,areDimensionsLinked:this.isScaleLinked}}setParameters(t){}get size(){return{x:this.entity.size.x,y:this.entity.size.y,z:this.entity.size.z}}setRelativePositionOffset(t){const e={x:t.x-this.position.x,y:t.y-this.position.y,z:t.z-this.position.z};this._setPositionOffset(e)}get positionOffset(){return this.entity.isEffectivelyPreviewing?this._previewPositionOffset:this._positionOffset}_setPositionOffset(t){this.entity.isEffectivelyPreviewing?this._previewPositionOffset=t:this._positionOffset=t}setAbsolutePositionOffset(t){this._setPositionOffset(t)}watch(){this.disposableReactions.push(rt(()=>{this.entity.sceneObject.parent||this.setParentMatrix(null)}),rt(()=>{this.entity.isEffectivelyPreviewing||(this._previewPosition=this.entity.sceneObject.position,this._previewPositionOffset={x:0,y:0,z:0},this._previewRotation=this.entity.sceneObject.rotation,this._previewScale=this.entity.sceneObject.scale)}))}_setPosition(t){this.entity.isEffectivelyPreviewing?this._previewPosition=t:this.entity.sceneObject.position=Go.serialize(t)}_getAdustedRotation(t){this._helperRotationEuler.set(t.x,t.y,t.z),this._helperRotationMatrix.makeRotationFromEuler(this._helperRotationEuler),this._helperRotationEuler.setFromRotationMatrix(this._helperRotationMatrix,"XYZ");const e={x:this._helperRotationEuler.x,y:this._helperRotationEuler.y,z:this._helperRotationEuler.z},i={x:this._helperRotationEuler.x,y:this._helperRotationEuler.y,z:this._helperRotationEuler.z},n=this._helperRotationMatrix.elements,o=n[0],a=n[4],l=n[8],c=n[9],h=n[10],d=Math.hypot(n[0],n[4]);d>Y_t&&(i.x=Math.atan2(c,-h),i.y=Math.atan2(l,-d),i.z=Math.atan2(a,-o)),this._getNonflippedAccumulatedEuler(e,this.rotation),this._getNonflippedAccumulatedEuler(i,this.rotation);const u=Math.abs(e.x-this.rotation.x)+Math.abs(e.y-this.rotation.y)+Math.abs(e.z-this.rotation.z),f=Math.abs(i.x-this.rotation.x)+Math.abs(i.y-this.rotation.y)+Math.abs(i.z-this.rotation.z);return u>f?i:e}_setRotation(t){this.entity.isEffectivelyPreviewing?this._previewRotation=Go.serialize(t):this.entity.sceneObject.rotation=Go.serialize(t)}_getNonflippedAccumulatedEuler(t,e){const i=[t.x,t.y,t.z],n=[e.x,e.y,e.z];for(let o=0;o<i.length;o++)if(i[o]*n[o]<0&&Math.abs(i[o]-n[o])>Math.PI/2&&(i[o]+=cl*Math.sign(n[o])),Math.abs(i[o]-n[o])>Math.PI){const a=[0,1,2];if(a.splice(o,1),Math.abs(i[a[0]]-n[a[0]])<Math.PI/2&&Math.abs(i[a[1]]-n[a[1]])<Math.PI/2){const l=Math.abs(i[o]-n[o]);let c=Math.floor(l/cl);l%Math.PI>Math.PI-.5&&(c+=1),i[o]+=cl*c*Math.sign(n[o])}}}_setScale(t){this._isEntityScalable&&(this.entity.isEffectivelyPreviewing?this._previewScale=t:this.entity.sceneObject.scale=Go.serialize(t))}get _isEntityScalable(){return this.entity.type!==L.CAMERA}}is([V],qe.prototype,"_size",2);is([V],qe.prototype,"_positionOffset",2);is([V],qe.prototype,"_previewPosition",2);is([V],qe.prototype,"_previewPositionOffset",2);is([V],qe.prototype,"_previewRotation",2);is([V],qe.prototype,"_previewScale",2);is([M({equals:ja.structural})],qe.prototype,"position",1);is([M({equals:ja.structural})],qe.prototype,"rotation",1);is([M({equals:ja.structural})],qe.prototype,"scale",1);is([M],qe.prototype,"isScaleLinked",1);is([M],qe.prototype,"isScaleEditable",1);is([V],qe.prototype,"_parentTransform",2);is([M.struct],qe.prototype,"effectivePosition",1);is([M.struct],qe.prototype,"matrixLocal",1);is([M.struct],qe.prototype,"matrixGlobal",1);is([M],qe.prototype,"parentTransform",1);is([M],qe.prototype,"positionVec",1);is([M],qe.prototype,"euler",1);is([M],qe.prototype,"quaternion",1);is([M],qe.prototype,"scaleVec",1);is([M],qe.prototype,"scaleGlobal",1);is([M],qe.prototype,"positionGlobalVec",1);is([M],qe.prototype,"eulerGlobal",1);is([E],qe.prototype,"setPosition",1);is([E],qe.prototype,"setRotation",1);is([E],qe.prototype,"setScale",1);is([E],qe.prototype,"setLockedScale",1);is([E],qe.prototype,"setMatrix",1);is([E],qe.prototype,"setGlobalPosition",1);is([E],qe.prototype,"setMatrixLocal",1);is([E],qe.prototype,"copy",1);is([E],qe.prototype,"setSize",1);is([M],qe.prototype,"parameters",1);is([M],qe.prototype,"size",1);is([E],qe.prototype,"setRelativePositionOffset",1);is([M],qe.prototype,"positionOffset",1);is([E],qe.prototype,"_setPositionOffset",1);is([E],qe.prototype,"setAbsolutePositionOffset",1);is([E],qe.prototype,"_setPosition",1);is([E],qe.prototype,"_setRotation",1);is([E],qe.prototype,"_setScale",1);is([M],qe.prototype,"_isEntityScalable",1);var bk=Object.defineProperty,W_t=Object.getOwnPropertyDescriptor,X_t=(s,t,e)=>t in s?bk(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Hn=(s,t,e,i)=>{for(var n=W_t(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&bk(t,e,n),n},no=(s,t,e)=>(X_t(s,typeof t!="symbol"?t+"":t,e),e);const Z_t=new Set([L.TEXT]);class Je{constructor(t,e,i=null){this.editor=t,no(this,"_components"),no(this,"_proxy"),no(this,"_outlineableMesh",null),no(this,"transform"),no(this,"highlightComponent"),no(this,"states"),no(this,"compo"),no(this,"interactions"),no(this,"layerOpacity"),no(this,"collider"),no(this,"behaviors"),no(this,"constraint"),no(this,"_parent",null),no(this,"_isPreviewing",!1),no(this,"_boundingBox",new Us),no(this,"_boundingSphere",new Wx),no(this,"_boundingBoxLocalTxCache",new Qr),no(this,"_boundingSphereLocalCache",new Jr),no(this,"_boundingBoxGlobalCache",new Qr),no(this,"_boundingSphereGlobalCache",new Jr),no(this,"_sizeCache",new Wp),this._proxy=new oe(this.editor,e,i),this._parent=i,this.type=e.type,this._components=new Set,this.transform=new qe(this),this._components.add(this.transform),this.highlightComponent=new S_t(this),this._components.add(this.highlightComponent),this.states=new Xb(this),this._components.add(this.states),this.compo=new na(this),this._components.add(this.compo),this.interactions=new b6(this),this._components.add(this.interactions),this.layerOpacity=new z_(this),this._components.add(this.layerOpacity),this.collider=new Fl(this,this.editor.physicsController),this._components.add(this.collider),this.behaviors=new sc(this),this._components.add(this.behaviors),this.confirmConstraint(e),td(this)}get index(){return this.sceneObject.index}set index(t){this.sceneObject.index=t}get base(){return this.sceneObject.base()}set base(t){this._proxy=new oe(this.editor,t,this._parent)}get sceneObject(){return this._proxy}get isInstanceChild(){return!(!this.parent||!this.parent.sceneObject.isInstance)}get isPartOfComponent(){return this.compo.isComponentEntity?!0:!this.parent||this.sceneObject.asset==null?!1:this.parent.isPartOfComponent}get boundingBox(){const t=this.componentWithMesh;return t?t.boundingBox:this._boundingBox.makeEmpty()}get boundingSphere(){const t=this.componentWithMesh;return t?t.boundingSphere:this._boundingSphere.makeEmpty()}get boundingBoxLocal(){const t=this._boundingBoxLocalTxCache.get(),e=this.componentWithMesh;if(!e)return t.makeEmpty();t.copy(e.boundingBox);const i=this.transform.matrixLocal;return t.applyMatrix4(i),t}get boundingSphereLocal(){const t=this._boundingSphereLocalCache.get(),e=this.componentWithMesh;if(!e)return t.makeEmpty();t.copy(e.boundingSphere);const i=this.transform.matrixLocal;return t.applyMatrix4(i),t}get boundingBoxGlobal(){const t=this._boundingBoxGlobalCache.get(),e=this.componentWithMesh;if(!e)return t.makeEmpty();t.copy(e.boundingBox);const i=this.transform.matrixGlobal;return t.applyMatrix4(i),t}get boundingSphereGlobal(){const t=this._boundingSphereGlobalCache.get(),e=this.componentWithMesh;if(!e)return t.makeEmpty();t.copy(e.boundingSphere),t.radius<0&&(t.radius=0);const i=this.transform.matrixGlobal;return t.applyMatrix4(i),t}getOutlineMesh(){const t=this.getComponent(si);return t!=null&&t.curveType===bs.WIRE?null:Z_t.has(this.type)?(this._outlineableMesh==null&&this._initOutlineMesh(),this._outlineableMesh):this.getObject3D()}get size(){const t=this._sizeCache.get();return this.boundingBox.getSize(t),t.multiply(this.transform.scaleGlobal),t}set size(t){const e=this._getResizableParametricComponent(),i=this._getResizableNonParametricComponent();(e||i)&&(e?(t.divide(this.transform.scaleGlobal),e.setSize(t)):i&&i.setSize(t,this.size))}_getResizableParametricComponent(){return this.getComponent(Ra)??this.getComponent(zr)??this.getComponent(lr)??this.getComponent(od)??this.getComponent(Cn)}_getResizableNonParametricComponent(){return this.getComponent(Fs)}confirmConstraint({constraint:t,parent:e}){if(t&&e){const n=this.editor.sceneController.getSceneEntityById(e);if(!n)return;const o=n.getComponentByType(pt.Frame);if(!o)return;wx.addConstraint(this,o);return}wx.confirmConstraint(this)}applyScale(){const t=this.getComponent(Ra);if(!t)return;t.applyScale(this.transform.scaleVec),this.transform.setScale({x:1,y:1,z:1})}calculateAppliedScale(t=!0){const e=this.getComponent(ru);if(!e)return;const i=e,n=t?new w().setFromMatrixScale(this.transform.matrixGlobal):this.transform.scale;return i.calculateAppliedScale(n)}get isMesh(){return this.isEditableMesh||this.getComponentByType(pt.Mesh)!=null}get isAnimatedModel(){return this.getComponentByType(pt.AnimatedModel)!=null}get isParametricShape(){return this.getComponentByType(pt.Geometry)!=null}get isEditableMesh(){return this.getComponentByType(pt.Geometry)!=null}get isLight(){return this.getComponentByType(pt.Light)!=null}get isLine(){return this.getComponentByType(pt.Line)!=null}get isGroup(){return this.getComponentByType(pt.Group)!=null}get isFrame(){return this.getComponentByType(pt.Frame)!=null}get isPartOfFrame(){return this.getComponentByType(pt.Constraint)!=null}get isText(){return this.getComponentByType(pt.Text)!=null}get isBodyRigPart(){var t;return this.sceneObject.type==L.XRRIG||this.sceneObject.type==L.HAND||this.sceneObject.type==L.HEAD||this.sceneObject.type==L.CAMERA&&((t=this.parent)==null?void 0:t.sceneObject.type)==L.HEAD}get hasScale(){return!this.isLight}get hasDirection(){const t=this.getComponentByType(pt.Light);return t!=null&&t.hasDirection}get hasValidBounds(){return this.isMesh||this.isLine||this.isGroup||this.isFrame||this.isText}get hasResizableParameters(){return this._getResizableParametricComponent()!==null}get type(){return this.sceneObject.type}set type(t){this.sceneObject.type=t}setSceneObject(t){this.sceneObject.copy(t)}get id(){return this.sceneObject.id}set name(t){this.sceneObject.name=t}get name(){return this.sceneObject.name}get metadata(){return this.sceneObject._metadata}get parent(){return this._parent}get playModeStateId(){return this.sceneObject.type===L.XRRIG?this.getComponent(dr).effectiveStateId:this.states.stateId}set parent(t){const e=this._parent;this.sceneObject.parent=t?t.id:null,this._parent=t,this._parent===null&&this.transform.setParentMatrix(null),this._parent?(e&&e.compo.isComponentEntity&&this._parent.sceneObject.asset!==e.sceneObject.asset&&this.editor.sceneController.componentsController.removeInstanceForComponent(this,!1),this._parent.compo.isComponentEntity&&this.editor.sceneController.componentsController.createOrMoveInstanceForComponent(this,e)):e&&e.compo.isComponentEntity&&this.editor.sceneController.componentsController.removeInstanceForComponent(this,!1)}get isVisible(){return this.sceneObject.isVisible}set isVisible(t){this.sceneObject.isVisible=t}get isLocked(){return this.sceneObject.isLocked}set isLocked(t){this.sceneObject.isLocked=t}get isInteractive(){return this.sceneObject.isInteractive}get isEffectivelyVisible(){return this.isVisible&&(!this.parent||this.parent.isEffectivelyVisible)}get isEffectivelyLocked(){var t;return this.isLocked||!!((t=this.parent)!=null&&t.isEffectivelyLocked)}get isEffectivelyInteractive(){var t;return this.isInteractive||!!((t=this.parent)!=null&&t.isEffectivelyInteractive)}get isEffectivelyCastingShadows(){return this.sceneObject.viewSettings.castShadow&&(!this.parent||this.parent.isEffectivelyCastingShadows)}get isEffectivelyReceivingShadows(){return this.sceneObject.viewSettings.receiveShadow&&(!this.parent||this.parent.isEffectivelyReceivingShadows)}get components(){return this._components}get isComponent(){return this.compo.componentID!=null}get isReadOnly(){return this.sceneObject.isReadOnly}get isEffectivelyPreviewing(){return this._isPreviewing||this.parent!=null&&this.parent.isEffectivelyPreviewing}setIsPreviewing(t){this._isPreviewing=t}highlightForHovered(){const t=Te.lineMaterials,e=this.isComponent?t.componentHoverHighlightLineMaterial:t.hoverHighlightLineMaterial;this.highlightComponent.highlight(e)}highlightForSelected(){const t=Te.lineMaterials,e=this.isComponent?t.componentHighlightLineMaterial:t.highlightLineMaterial;this.highlightComponent.highlight(e)}highlightForPresence(t){const e=this.editor.gizmoMaterialController.highlightLineMaterials.get(t),i=this.isComponent||!e?Te.lineMaterials.componentHighlightLineMaterial:e;this.highlightComponent.highlight(i)}unhighlight(){this.highlightComponent.unhighlight()}isWithinFrustum(t){const e=this.getObject3D();if(!e)return[!1];const i=e.getWorldPosition(new w);return[t.frustum.containsPoint(i),i]}addComponent(t){this._components.add(t)}getComponent(t){for(const e of this._components.values())if(e instanceof t)return e;return null}getComponentOf(...t){for(const e of this._components.values())for(const i of t)if(e instanceof i)return e;return null}getComponentByType(t){for(const e of this._components.values())if(e.type===t)return e;return null}get children(){const t=this.getComponent(Fs);return t==null?[]:t.childEntities}get childrenToNextFrame(){const t=[],e=this.children;for(const i of e)i.forThisAndEachChildBFS((n,o)=>n.isFrame?!1:(t.push(n),!0));return t}get effectiveClippingVolumes(){const t=1/q5,e=[];let i=t;return this.forThisAndEachParent(n=>{const o=n.getComponentByType(pt.Frame);if(o&&o.parameters.isClippingEnabled){const a=o.clippingVolume;a.polygonOffsetFactor=i,e.push(a),i+=t}}),e}get effectiveClippingPlanes(){return this.effectiveClippingVolumes.flatMap(t=>t.clippingPlanes)}get allChildren(){const t=this.getComponent(Fs);return t==null?[]:t.allChildEntities}get hasChildren(){const t=this.getComponent(Fs);return t==null?!1:t.numChildren>0}get canHaveChildren(){return this.type===L.FRAME||this.type===L.GROUP||this.type===L.XRRIG||this.type===L.HEAD||this.type===L.HAND}insertChild(t,e,i=null,n=!0){this.getComponent(Fs)||this.addComponent(new Fs(this)),this.getComponent(Fs).insert(t,e,i,!1),t.transform.setParentMatrix(this.transform)}sortChildren(){const t=this.getComponent(Fs);return t==null?!1:t.sortChildren()}sortAllChildren(){this.sortChildren();const t=this.allChildren;for(const e of t)e.sortChildren()}forEachChild(t){for(const e of this.children)t(e)}forEachChildRecursive(t,e=!1,i){if(this.isReadOnly&&e||this.type===L.XRRIG)return;let n=!1;for(const o of this.children){if(n=t(o,i),n)break;o.forEachChildRecursive(t,i)}}forThisAndEachChildRecursive(t,e=!1,i){if(this.isReadOnly&&e||this.type===L.XRRIG)return;let n=!1;if(n=t(this,i),!n)for(const o of this.children){if(o.isReadOnly&&e||o.type===L.XRRIG)return;if(n=t(o,i),n)break;o.forEachChildRecursive(t,i)}}forThisAndEachChildBFS(t){let e=0;const i=new r_;for(i.enqueue(this);!i.isEmpty();){let n=i.size();for(;n--!==0;){const o=i.dequeue();if(o){if(!t(o,e))continue;for(const l of o.children)i.enqueue(l)}}e++}}getRootParent(){const t=this.parent;return t?t.getRootParent():this}forThisAndEachParent(t){const e=t(this),i=this.parent;i&&(e||i.forThisAndEachParent(t))}forEachParent(t){const e=this.parent;if(!e)return;t(e)||e.forEachParent(t)}forEachSibling(t){const e=this.parent;if(e)for(const i of e.children)i.id!==this.id&&t(i)}getComponentsInChildren(t){const e=[],i=this.getComponent(t);i!=null&&e.push(i);const n=this.children;if(n.length===0)return e;const o=new r_;for(o.fromArray(n);o.size()>0;){const a=o.dequeue();if(!a)continue;a.children.forEach(c=>{o.enqueue(c)});const l=a.getComponent(t);l&&e.push(l)}return e}getComponentInParents(t){let e=this;for(;e!=null;){const i=e.getComponent(t);if(i!=null)return i;e=e.parent}return null}getComponentsInParents(t){let e=this;const i=[];for(;e!=null;){const n=e.getComponent(t);n!=null&&i.push(n),e=e.parent}return i}removeComponent(t){return t.dispose(),this.components.delete(t)}removeComponentsByType(...t){const e=new Set(t);for(const i of this._components.values())i.type===pt.Transform||i.type===pt.Highlight||i.type===pt.States||i.type===pt.Components||i.type===pt.Interaction||i.type===pt.Opacity||i.type===pt.Collider||i.type===pt.Behaviors||e.has(i.type)&&(i.dispose(),this._components.delete(i))}get proxy(){return this._proxy}getBoundingBoxLocal(t=new Us){return t.makeEmpty(),t.copy(this.boundingBox),t}computeBoundingBoxLocal(){return this.highlightComponent?(this.highlightComponent.update(),this.highlightComponent.boundingBox):new Us}setName(t){this.sceneObject.name=t}get componentWithMesh(){const t=this.getComponentOf(Wi,Cn,Fs,zr,So,Kl,eh,si,b1,ur);return t||null}getObject3D(){const t=this.getComponent(si);if(t)return t.line;const e=this.componentWithMesh;return e?e.mesh:null}getLightObject3D(){const t=this.getComponentOf(Kl);return t?t.light:null}getShadowsObject3D(){const t=this.getComponentOf(Kl);if(t)return t.shadows}getDrivingObject3D(){return this.getLightObject3D()??this.getObject3D()}updateShapeParameters(t){switch(this.type){case L.BOX:{for(const[e,i]of Object.entries(t))this.sceneObject.parameters[e]=i;break}case L.PLANE:{for(const[e,i]of Object.entries(t))this.sceneObject.parameters[e]=i;break}case L.SPHERE:{for(const[e,i]of Object.entries(t))this.sceneObject.parameters[e]=i;break}case L.CYLINDER:{for(const[e,i]of Object.entries(t))this.sceneObject.parameters[e]=i;break}case L.CONE:{for(const[e,i]of Object.entries(t))this.sceneObject.parameters[e]=i;break}default:console.error("Unable to set shape parameters for object type",t,this.type)}}_initOutlineMesh(){const t=this.getObject3D();if(t==null)return;const e=this.computeBoundingBoxLocal(),i=new w().subVectors(e.max,e.min),n=new su(i.x,i.y,i.z),o=new Lt().setPosition(i.addVectors(e.min,e.max).multiplyScalar(.5));n.applyMatrix4(o),this._outlineableMesh=new re(n,Te.hotSpotMeshMaterial),this._outlineableMesh.userData.id=this.id,t.add(this._outlineableMesh)}animationSettingOverrides(t,e){const i={};return e&&(this.type===L.CAMERA||this.type===L.XRRIG)&&(i.fromStateId=sr),this.type===L.CAMERA&&t&&(i.duration=0),i}dispose(){for(const t of this._components)t.dispose()}}Hn([M],Je.prototype,"isPartOfComponent");Hn([M],Je.prototype,"boundingBoxLocal");Hn([E],Je.prototype,"size");Hn([M],Je.prototype,"isFrame");Hn([M],Je.prototype,"isPartOfFrame");Hn([E],Je.prototype,"type");Hn([E],Je.prototype,"setSceneObject");Hn([M],Je.prototype,"parent");Hn([E],Je.prototype,"isVisible");Hn([E],Je.prototype,"isLocked");Hn([M],Je.prototype,"isEffectivelyVisible");Hn([M],Je.prototype,"isEffectivelyLocked");Hn([M],Je.prototype,"isEffectivelyInteractive");Hn([M],Je.prototype,"isEffectivelyCastingShadows");Hn([M],Je.prototype,"isEffectivelyReceivingShadows");Hn([M],Je.prototype,"components");Hn([M],Je.prototype,"isEffectivelyPreviewing");Hn([E],Je.prototype,"setIsPreviewing");Hn([M],Je.prototype,"childrenToNextFrame");Hn([M],Je.prototype,"effectiveClippingVolumes");Hn([M],Je.prototype,"effectiveClippingPlanes");Hn([E],Je.prototype,"insertChild");Hn([E],Je.prototype,"setName");function w6(s,t,e,i,n,o){const{beforeIndex:a,afterIndex:l}=K_t(s,e,i,n,o);return Ck(i,t,a,l)}function K_t(s,t,e,i,n){let o=null,a=null;if(s.length===0)return{beforeIndex:o,afterIndex:a};if(e===ns.BEFORE){a=i;const l=n>=1?s[n-1]:null;l!=null&&(o=t(l)??null)}else if(e===ns.AFTER){o=i;const l=n+1<=s.length-1?s[n+1]:null;l!=null&&(a=t(l)??null)}return{beforeIndex:o,afterIndex:a}}function Ck(s,t,e,i){const n=[];if(i&&e&&i===e)return console.error("Insertion indices are equal, setting to also be equal",i,e),n.push(i),n;for(let o=0;o<t;o++){const a=ll(e,i);s===ns.BEFORE?i=a:s===ns.AFTER&&(e=a);const l=s===ns.AFTER?n.length:0;n.splice(l,0,a)}return n}var wk=Object.defineProperty,q_t=Object.getOwnPropertyDescriptor,Q_t=(s,t,e)=>t in s?wk(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,wn=(s,t,e,i)=>{for(var n=i>1?void 0:i?q_t(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&wk(t,e,n),n},Pd=(s,t,e)=>(Q_t(s,typeof t!="symbol"?t+"":t,e),e);class pn{constructor(t,e){this.editor=t,this.sceneController=e,Pd(this,"_disposable",new Zt),Pd(this,"_previewedCameraId",null),Pd(this,"_viewedCameraId",null),Pd(this,"_selectedCameraId",null),Pd(this,"_editedCameraId",null),Pd(this,"_playModeCameraId",null),Pd(this,"_isCameraAnimating",{value:!1,needsUpdate:!1}),Pd(this,"_cameraComponents",{}),Pd(this,"_target",new w),Pd(this,"_targetDirection",new w),this._addSignalBindings(),vt(this)}dispose(){this._disposable.dispose()}get previewedCameraId(){return this._previewedCameraId}get viewedCameraId(){return this._viewedCameraId}get selectedCameraId(){return this._selectedCameraId}get playModeCameraId(){return this._playModeCameraId}get editedCameraId(){return this._editedCameraId}get playModeCamera(){return this._playModeCameraId==null?null:this.cameraComponentsById[this._playModeCameraId]}get cameraComponentsById(){return this._cameraComponents}get count(){return Object.keys(this.cameraComponentsById).length}get sortedCamerasArray(){const t=Object.values(this._cameraComponents);return t.sort((e,i)=>mf(e.parameters.publishIndex,i.parameters.publishIndex)),t}generateNextIndex(){const t=this.sortedCamerasArray.length===0?null:this.sortedCamerasArray[this.sortedCamerasArray.length-1],e=(t==null?void 0:t.entity.index)??null;return ll(null,e)}reorderCameraStates(t,e,i,n){var _;const o=this._cameraComponents[t];if(o==null)return;const a=this.getStatesComponentForCamera(o),l=((_=a.getStateMetadata(i).cameraBookmarkData)==null?void 0:_.publishIndex)??null;if(l==null)return;const h=this.getSortedCameraStates(o).findIndex(v=>v.stateId===i),d=w6(this.sortedCamerasArray,1,FP,n,l,h);if(d.length!==1){console.warn("Unable to reorder camera states");return}const u=a.getStateMetadata(e),f={isBookmark:o.parameters.isBookmark,...u.cameraBookmarkData??{}},p={...u,cameraBookmarkData:{...f,publishIndex:d[0]}},g=new Set([a.entity.id]);this.editor.stateController.recordBefore({action:P.METADATA,ids:g}),a.setStateMetadata(e,p),this.editor.stateController.signals.states.dispatch({ids:g,action:P.METADATA}),this.editor.stateController.recordAfter({action:P.METADATA,ids:g})}reorderCameras(t,e,i){const n=Array.from(t).map(d=>this._cameraComponents[d]).filter(d=>d!=null).sort((d,u)=>mf(d.publishIndex,u.publishIndex)),o=this._cameraComponents[e];o==null&&console.warn("No camera found with id",e);const a=o.publishIndex,l=this.sortedCamerasArray.findIndex(d=>d.entity.id===o.entity.id),c=w6(this.sortedCamerasArray,n.length,FP,i,a,l),h=new Set(n.map(d=>d.entity.id));if(this.editor.stateController.recordBefore({action:P.PARAMETERS,ids:h}),c.length!=n.length){console.warn("Error generating indices mismatched length");return}for(let d=0;d<c.length;d++){const u=n[d],f=c[d];u.publishIndex=f}this.editor.stateController.signals.reorder.dispatch({action:P.PARAMETERS,ids:h}),this.editor.stateController.recordAfter({action:P.PARAMETERS,ids:h})}get selectedCamera(){return this.editedCameraId!=null?this.cameraComponentsById[this.editedCameraId]:this.selectedCameraId!=null?this.cameraComponentsById[this.selectedCameraId]:null}addCamera(){const t=this.editor.viewportController.mainViewport,e=t==null?void 0:t.camera,i=t==null?void 0:t.controls;if(!e||!i)return;const n=e.fov,o=this.sortedCamerasArray.length===0?null:this.sortedCamerasArray[this.sortedCamerasArray.length-1],a=(o==null?void 0:o.entity.index)??null,l=ll(a,null),c=i.getTarget(),h=i.getSpherical(),d=i.getFocalOffset(),u=e.isPerspectiveCamera?Xe.PERSPECTIVE:Xe.ORTHOGRAPHIC,f=e.zoom,p={index:0,publishIndex:l,target:{x:c.x,y:c.y,z:c.z},spherical:{radius:h.radius,phi:h.phi,theta:h.theta},focalOffset:{x:d.x,y:d.y,z:d.z},projection:u,fov:n,zoom:f,isBookmark:!0,lensUnit:Kr.FOV},g=this._addCameraEntity(p,!0),_=this.cameraComponentsById[g.id];this._initStateBookmarks(_),this.sceneController.addSceneEntity(g,!1),Object.keys(this.cameraComponentsById).length===1&&this.editor.sceneController.setSpawnPoint(g.id)}addCameraFromData(t){this._initStateBookmarks(t),this.cameraComponentsById[t.entity.id]=t}updateCameraStateBookmarks(t){this._initStateBookmarks(t)}_addCameraEntity(t,e=!1){this.editor.stateController.recordBefore({action:P.NEW_CAMERA});const i={...Do};i.parameters=t,i.index=t.publishIndex,i.type=L.CAMERA,i.id=_t();const n=this.generateCameraCount();i.name=`Camera ${n}`;const o=new Je(this.editor,i),a=new So(o,this),l=this._updateCameraTransformFromControls(a);return l!=null&&a.setTransform(l),o.addComponent(a),this.cameraComponentsById[o.sceneObject.id]=a,e&&this.editor.selectionController.selectedCollection.set(o),this.editor.signals.object.sceneGraphChanged.dispatch(),this.editor.stateController.signals.newImage.dispatch({action:P.NEW_CAMERA,ids:new Set([o.id])}),this.editor.stateController.recordAfter({action:P.NEW_CAMERA}),o}get cameraHelpers(){return this.sceneController.hierarchy.cameras}previewCamera(t,e=null){this._previewedCameraId=t,this.editor.signals.selection.previewedCameraChanged.dispatch({camera:this._previewedCameraId,cameraEntityStateId:e})}editCamera(t){this.viewCameraById(t),this._editedCameraId=t,this.editor.signals.selection.editCameraChanged.dispatch({camera:this._editedCameraId})}stopEditCamera(){this._editedCameraId=null,this.editor.signals.selection.editCameraChanged.dispatch({camera:this._editedCameraId})}deselectCamera(){this.selectedCameraId!=null&&(this._selectedCameraId=null,this.editor.signals.selection.editCameraChanged.dispatch({camera:this._selectedCameraId}))}deviewCamera(){this._viewedCameraId!=null&&(this._viewedCameraId=null,this.editor.signals.selection.editCameraChanged.dispatch({camera:this._viewedCameraId}))}deleteCameraEntity(t){t.dispose(),delete this.cameraComponentsById[t.id],this.editor.signals.object.sceneGraphChanged.dispatch(),this._previewedCameraId===t.id&&(this._previewedCameraId=null),this._viewedCameraId===t.id&&this.deviewCamera(),this._selectedCameraId===t.id&&this.deselectCamera(),this._editedCameraId===t.id&&(this._editedCameraId=null)}update(t,e){return(this._isCameraAnimating.value||this._isCameraAnimating.needsUpdate)&&this.playModeCamera!=null&&(this._isCameraAnimating.needsUpdate=!1,this.viewCameraById(this.playModeCamera.entity.id,!1,!1)),t.update(e)}updateEditingCamera(){if(this.editedCameraId==null)return;const t=this.cameraComponentsById[this.editedCameraId];if(t==null)return;const e=this._updateCameraTransformFromControls(t);e!=null&&(t.setTransform(e),this.editor.stateController.signals.parameters.dispatch({action:P.PARAMETERS,selection:[t]}))}copyControlsToAnimatingCamera(t){if(this.playModeCamera==null||t==null||t!==this._playModeCameraId)return;this.playModeCamera.entity.sceneObject.setTemporaryState();const e=this._updateCameraTransformFromControls(this.playModeCamera);e!=null&&this.playModeCamera.setTransform(e)}_resetPlayModeView(){const t=this.editor.sceneController.scene.spawn==null?null:this._cameraComponents[this.editor.sceneController.scene.spawn];if(t!=null){const e=this.getStatesComponentForCamera(t),i=e.startState===null?ys:e.startState;this.setPlayModeCamera(t,i)}}_updateCameraTransformFromControls(t){const e=this.editor.viewportController.mainViewport,i=e==null?void 0:e.camera,n=e==null?void 0:e.controls;if(!i||!n)return null;const o=n.getTarget(),a=n.getSpherical(),l=n.getFocalOffset(),c=i.zoom;return t.updateParameters({target:{x:o.x,y:o.y,z:o.z},spherical:{radius:a.radius,phi:a.phi,theta:a.theta},focalOffset:{x:l.x,y:l.y,z:l.z},zoom:c}),i.matrixWorld}updateCameraParametersFromTransform(t,e){const i=this.editor.viewportController.mainViewport,n=i==null?void 0:i.camera;if(!n||this._editedCameraId===t.entity.id||this._previewedCameraId===t.entity.id)return null;const{zoom:o}=t.parameters,a=t.mesh,l=e.clone(),c=new w,h=new ke,d=new w;l.decompose(c,h,d),a.getWorldDirection(this._targetDirection),this._target.setFromMatrixPosition(l).add(this._targetDirection.negate().multiplyScalar(10));const u=new Kg().setFromVector3(c.sub(this._target));return t.updateParameters({target:{x:this._target.x,y:this._target.y,z:this._target.z},spherical:{radius:u.radius,phi:u.phi,theta:u.theta},focalOffset:{x:0,y:0,z:0},zoom:o}),this.editor.signals.selection.selectedCameraUpdated.dispatch({camera:this._selectedCameraId}),n.matrixWorld}generateCameraCount(){let t=0;for(const e of Object.values(this._cameraComponents)){const i=e.entity.name.split(" "),n=i[i.length-1];let o=parseInt(n,10);isNaN(o)&&(o=0),t=Math.max(t,o)}return t+1}_initStateBookmarks(t){const e=this.getStatesComponentForCamera(t),i=e.stateIds;if(i.push(ys),i.some(n=>e.getStateMetadata(n).cameraBookmarkData==null)){const n=Ck(ns.AFTER,i.length,null,null);if(n.length!==i.length){console.warn("Error generating camera state publish indices");return}for(let o=0;o<i.length;o++){const a=i[o],l=n[o],c=e.getStateMetadata(a);e.setStateMetadata(a,{...c,cameraBookmarkData:{publishIndex:l,isBookmark:t.parameters.isBookmark}})}}}viewSelectedCamera(){var i;const t=this.editor.selectionController.selectedCollection.sceneEntities,e=((i=this.editor.selectionController.firstSelectedSceneEntity)==null?void 0:i.id)??"";t.size!==1||this.cameraComponentsById[e]==null||this.viewCameraById(e)}viewCameraById(t,e=!0,i=!0){const n=this.cameraComponentsById[t];n!=null&&this.viewCamera(n,this.editor.viewportController.mainViewport,e,i)}setPlayModeCamera(t,e){const i=this.editor.animationController;if(i==null)return;if(this._isCameraAnimating={value:!1,needsUpdate:!1},this._playModeCameraId!=null){i.removeActiveAnimationForEntity(this._playModeCameraId);const a=this._cameraComponents[this._playModeCameraId];a.isAnimating=!1,this.getStatesComponentForCamera(a).setToStartState()}this._playModeCameraId=t.entity.id;const n=this.getStatesComponentForCamera(t),o=e===ys?null:e;n.setActiveState(o),this.viewCamera(t),i.startAutoAnimationsForEntity(t.entity.id)}viewCamera(t,e=this.editor.viewportController.mainViewport,i=!0,n=!0){var _;if(!e)return;n&&(this._viewedCameraId=t.entity.id,this._selectedCameraId=t.entity.id,this.editor.signals.selection.selectedCameraChanged.dispatch({camera:this._selectedCameraId}));const o=e.camera,a=e.controls;if(!o||!a)return;const l=t.parameters,c=l.target,h=l.spherical,d=l.focalOffset,u=l.projection,f=l.fov,p=l.zoom;if(!c||!h||!d||!u)return;const g=!this.editor.isPlayMode&&!this.editor.isPublishedMode;(_=this.editor.viewportController.mainViewport)==null||_.toggleOrthoMode(u,g),f!=null&&(o.setFov(f),n&&this.editor.fileSettingsController.setCameraFov(f)),a.zoomTo(p,i),a.setFocalOffset(d.x,d.y,d.z,i),a.setSpherical(h.radius,h.theta,h.phi,c.x,c.y,c.z,i)}viewFirstBookmark(t=!1){this.viewBookmarkByIndex(1,t)}viewBookmarkByIndex(t,e=!1){if(t>this.sortedCamerasArray.length-1||t<0)return;const i=this.sortedCamerasArray[t];this.viewCamera(i,this.editor.viewportController.mainViewport,!0,e)}_getLastStatePublishIndex(t){const e=t.entity.states;return e.stateIds.reduce((i,n)=>{const o=e.getStateMetadata(n);return o==null||o.cameraBookmarkData==null?i:i==null||mf(i,o.cameraBookmarkData.publishIndex)<0?o.cameraBookmarkData.publishIndex:i},null)}toggleCameraIsBookmark(t,e,i,n=!0){const o=this.getStatesComponentForCamera(t),a=e==null?[ys,...o.stateIds]:[e],l=new Set([o.entityId,t.entity.id]);n&&this.editor.stateController.recordBefore({action:P.PARAMETERS_CAMERA_BOOKMARK,ids:l});for(const c of a){const h=o.getStateMetadata(c);h.cameraBookmarkData==null&&this._initStateBookmarks(t);const d=h.cameraBookmarkData??{publishIndex:"",isBookmark:i},u={...h,cameraBookmarkData:{...d,isBookmark:i}};o.setStateMetadata(c,u)}e==null?t.parameters.isBookmark=i:t.parameters.isBookmark=o.metadataEntries.some(([c,h])=>{var d;return((d=h.cameraBookmarkData)==null?void 0:d.isBookmark)===!0}),n&&(this.editor.stateController.signals.states.dispatch({action:P.PARAMETERS_CAMERA_BOOKMARK,ids:l}),this.editor.stateController.recordAfter({action:P.PARAMETERS_CAMERA_BOOKMARK,ids:l}))}getSortedCameraStates(t){return this.getStatesComponentForCamera(t).metadataEntries.map(([n,o])=>{var a,l;return{stateId:n,publishIndex:((a=o.cameraBookmarkData)==null?void 0:a.publishIndex)??null,isBookmark:((l=o.cameraBookmarkData)==null?void 0:l.isBookmark)??!1}}).filter(({stateId:n})=>n!==an&&n!==Hp&&n!==Ro).sort((n,o)=>n.publishIndex==null&&o.publishIndex==null?0:n.publishIndex==null&&o.publishIndex!=null?-1:o.publishIndex==null&&n.publishIndex!=null?1:mf(n.publishIndex,o.publishIndex))}_addSignalBindings(){const t=[];return t.push(ob.addState.add(({ids:e})=>{for(const i of e)if(this.cameraComponentsById[i]!=null){const n=this.cameraComponentsById[i],o=n.entity.states;if(o.stateIds.length===0)return;const a=o.stateIds[o.stateIds.length-1],l=o.getStateMetadata(a);if(l.cameraBookmarkData==null){const c=this._getLastStatePublishIndex(n),h=ll(c,null);o.setStateMetadata(a,{...l,cameraBookmarkData:{publishIndex:h,isBookmark:n.parameters.isBookmark}})}}})),t.push(this.editor.signals.play.reset.add(()=>{this._resetPlayModeView()})),t.push(this.editor.signals.play.cameraAnimationChanged.add(({cameraEntityId:e,isAnimating:i})=>{e===this._playModeCameraId&&(this._isCameraAnimating={value:i,needsUpdate:!0})})),new tt(()=>{for(const e of t)e.detach()})}getStatesComponentForCamera(t){let e=t.entity.states;return this._isBodyRigCamera(t)&&this.sceneController.bodyRigComponent!=null&&(e=this.sceneController.bodyRigComponent.entity.states),e}_isBodyRigCamera(t){var n;const e=this.sceneController.bodyRigComponent,i=(n=e==null?void 0:e.camera)==null?void 0:n.entity.id;return e!=null&&t.entity.id===i}}wn([V],pn.prototype,"_previewedCameraId",2);wn([V],pn.prototype,"_viewedCameraId",2);wn([V],pn.prototype,"_selectedCameraId",2);wn([V],pn.prototype,"_editedCameraId",2);wn([V],pn.prototype,"_playModeCameraId",2);wn([M],pn.prototype,"playModeCamera",1);wn([V],pn.prototype,"_cameraComponents",2);wn([M],pn.prototype,"count",1);wn([M],pn.prototype,"sortedCamerasArray",1);wn([E],pn.prototype,"addCamera",1);wn([E],pn.prototype,"addCameraFromData",1);wn([E],pn.prototype,"updateCameraStateBookmarks",1);wn([E],pn.prototype,"_addCameraEntity",1);wn([E],pn.prototype,"previewCamera",1);wn([E],pn.prototype,"editCamera",1);wn([E],pn.prototype,"stopEditCamera",1);wn([E],pn.prototype,"deselectCamera",1);wn([E],pn.prototype,"deviewCamera",1);wn([E],pn.prototype,"deleteCameraEntity",1);wn([E],pn.prototype,"_resetPlayModeView",1);wn([E],pn.prototype,"_updateCameraTransformFromControls",1);wn([E],pn.prototype,"updateCameraParametersFromTransform",1);wn([E],pn.prototype,"_initStateBookmarks",1);wn([E],pn.prototype,"setPlayModeCamera",1);wn([E],pn.prototype,"viewCamera",1);function FP(s){return s.publishIndex}var xk=Object.defineProperty,J_t=Object.getOwnPropertyDescriptor,$_t=(s,t,e)=>t in s?xk(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,LA=(s,t,e,i)=>{for(var n=J_t(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&xk(t,e,n),n},tvt=(s,t,e)=>($_t(s,t+"",e),e);class e3{constructor(t,e){this.editor=t,this.sceneController=e,tvt(this,"_disposable",new Zt);const i=o=>this._handleGamepadConnected(o),n=o=>this._handleGamepadDisconnected(o);window.addEventListener("gamepadconnected",i),window.addEventListener("gamepaddisconnected",n),this._disposable.add(new tt(()=>{window.removeEventListener("gamepadconnected",i),window.removeEventListener("gamepaddisconnected",n)})),vt(this)}dispose(){this._disposable.dispose()}_handleGamepadConnected(t){be.open({id:`gamepad-connected-${t.gamepad.id}`,text:`Gamepad connected: ${t.gamepad.id}`,options:{type:qn.SUCCESS,visibleTime:2e3}})}_handleGamepadDisconnected(t){be.open({id:`gamepad-disconnected-${t.gamepad.id}`,text:`Gamepad disconnected: ${t.gamepad.id}`,options:{type:qn.WARNING,visibleTime:2e3}})}get gamepadEntities(){return Object.values(this.sceneController.sceneEntitiesById).filter(t=>t.type===L.GAMEPAD)}get gamepadComponents(){return this.gamepadEntities.map(t=>t.getComponent(ur))}get gamepadCount(){return this.gamepadEntities.length}}LA([M],e3.prototype,"gamepadEntities");LA([M],e3.prototype,"gamepadComponents");LA([M],e3.prototype,"gamepadCount");var Ek=Object.defineProperty,evt=Object.getOwnPropertyDescriptor,svt=(s,t,e)=>t in s?Ek(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Wo=(s,t,e,i)=>{for(var n=i>1?void 0:i?evt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&Ek(t,e,n),n},mh=(s,t,e)=>(svt(s,typeof t!="symbol"?t+"":t,e),e);class _o extends Es{constructor(t,e){super(t),mh(this,"type",pt.Animation),mh(this,"_animationClips",new Set),mh(this,"_currAction",null),mh(this,"_selectedAnimationClip",null),mh(this,"_animationMixer",null),mh(this,"_isPlaying",!1),mh(this,"_playTime",0),mh(this,"_playSpeed",1),mh(this,"_loop",!0),mh(this,"_disposable",new Zt),mh(this,"_shouldBlockUrlDownloadOnCreate",!1);const i=t.getObject3D();i&&(this._animationClips=new Set(e??[]),this._animationMixer=new hE(i),i.animations=Array.from(this._animationClips)),vt(this),e&&e.length>0&&(this._shouldBlockUrlDownloadOnCreate=!0,this.setSelectedAnimationClip(e[0])),this._addSignalBindings()}get animationMixer(){if(!this._animationMixer){const t=this.entity.getObject3D();if(t)this._animationMixer=new hE(t);else return null}return this._animationMixer}get animationClips(){return this._animationClips}get selectedAnimationClip(){return this._selectedAnimationClip}get isPlaying(){return this._isPlaying}get playSpeed(){return this._playSpeed}get isLoop(){return this._loop}_getAnimationClipByName(t){return Array.from(this.animationClips).find(e=>e.name===t)}setSelectedAnimationClip(t){this._selectedAnimationClip=t,this.entity.sceneObject.activeImportedAnimation=(t==null?void 0:t.name)??null}setSelectedAnimationClipByName(t){if(t==null)this.setSelectedAnimationClip(null);else{const e=this._getAnimationClipByName(t);e&&this.setSelectedAnimationClip(e)}}play(t){if(!this.animationMixer||!this._selectedAnimationClip)return;t&&this._currAction,this.entity.editor.sceneController.addAnimationComponentIfNeeded(this);const e=this.entity.getObject3D(),i=this.animationMixer.clipAction(this._selectedAnimationClip,e??void 0);i.setEffectiveTimeScale(this._playSpeed),i.setEffectiveWeight(1),i.setLoop(this._loop?dE:uE,1/0),i.play(),this._isPlaying=!0,this._currAction=i}update(t){var e;!this.animationMixer||!this._selectedAnimationClip||(this.animationMixer.update(t),this._playTime=((e=this.animationMixer.existingAction(this._selectedAnimationClip))==null?void 0:e.time)??0)}stop(){this.animationMixer&&(this.entity.editor.sceneController.deleteFromAnimationComponents(this),this.animationMixer.stopAllAction(),this._isPlaying=!1)}get selectedClipDuration(){var t;return((t=this._selectedAnimationClip)==null?void 0:t.duration)??0}get selectedClipName(){var t;return((t=this._selectedAnimationClip)==null?void 0:t.name)??"None"}get selectedClipId(){var t;return((t=this._selectedAnimationClip)==null?void 0:t.uuid)??"None"}get playTime(){return!this.animationMixer||!this._selectedAnimationClip?0:this._playTime}setPlaySpeed(t){if(this._playSpeed=t,this.entity.sceneObject.importedAnimations.speed=this._playSpeed,!this.animationMixer||!this._selectedAnimationClip)return;const e=this.animationMixer.existingAction(this._selectedAnimationClip);e&&e.setEffectiveTimeScale(t)}toggleLoop(){if(this._loop=!this._loop,this.entity.sceneObject.importedAnimations.loop=this._loop,!this.animationMixer||!this._selectedAnimationClip)return;const t=this.animationMixer.existingAction(this._selectedAnimationClip);if(!t)return;const e=this._loop?dE:uE;t.setLoop(e,1/0)}watch(){this.disposableReactions.push(rt(()=>{this.entity.sceneObject.importedAnimations&&this._setAnimationClips(this.entity.sceneObject.importedAnimations.animationsUrlKey)})),this.disposableReactions.push(rt(()=>{this._setActiveAnimation(this.entity.sceneObject.activeImportedAnimation)})),this.disposableReactions.push(rt(()=>{this.entity.sceneObject.importedAnimations&&this._setAnimationParams(this.entity.sceneObject.importedAnimations.speed,this.entity.sceneObject.importedAnimations.loop)})),this.disposableReactions.push(rt(()=>{const t=this.entity.getObject3D();t&&this._setAnimationMixer(t)}))}_setAnimationMixer(t){this._animationMixer=new hE(t),this._isPlaying&&this._selectedAnimationClip&&this._animationMixer.clipAction(this._selectedAnimationClip).play()}_setActiveAnimation(t){if(this.animationMixer){if(t){const e=this._getAnimationClipByName(t);e&&(this._selectedAnimationClip=e)}else{this._selectedAnimationClip=null,this.animationMixer.stopAllAction();return}this._isPlaying&&(this.animationMixer.stopAllAction(),this._selectedAnimationClip&&this.animationMixer.clipAction(this._selectedAnimationClip).play())}}_setAnimationParams(t,e){if(this._playSpeed=t??1,this._loop=e??!0,!this.animationMixer||!this._selectedAnimationClip)return;const i=this.animationMixer.existingAction(this._selectedAnimationClip);i&&(i.setEffectiveTimeScale(this._playSpeed),i.setLoop(this._loop?dE:uE,this._loop?1/0:1),i.reset())}async _setAnimationClips(t){if(!t)return;if(this._shouldBlockUrlDownloadOnCreate){this._shouldBlockUrlDownloadOnCreate=!1;return}const e=await xs(t);if(e){this.entity.editor.signals.window.addDataToDownload.dispatch();try{const o=(await new UZ().loadAsync(e)).animations;Jt(()=>{this._animationClips=new Set(o),this.setSelectedAnimationClipByName(this.entity.sceneObject.activeImportedAnimation),this.entity.editor.signals.window.dataDownloaded.dispatch()})}catch(i){console.error(i),this.entity.editor.signals.window.dataDownloaded.dispatch()}}}_reset(){if(!this._selectedAnimationClip||!this.animationMixer)return;const t=this.animationMixer.existingAction(this._selectedAnimationClip);t==null||t.reset()}_addSignalBindings(){const t=this.entity.editor.signals.command.togglePlayAllAnimations.add(({start:i})=>{i?this.play():this.stop()}),e=this.entity.editor.signals.play.reset.add(()=>{this._reset()});this._disposable.add(new tt(()=>{t.detach(),e.detach()}))}dispose(){super.dispose(),this._disposable.dispose()}}Wo([V],_o.prototype,"_animationClips",2);Wo([V],_o.prototype,"_currAction",2);Wo([V],_o.prototype,"_selectedAnimationClip",2);Wo([V],_o.prototype,"_animationMixer",2);Wo([V],_o.prototype,"_isPlaying",2);Wo([V],_o.prototype,"_playTime",2);Wo([V],_o.prototype,"_playSpeed",2);Wo([V],_o.prototype,"_loop",2);Wo([E],_o.prototype,"setSelectedAnimationClip",1);Wo([E],_o.prototype,"setSelectedAnimationClipByName",1);Wo([E],_o.prototype,"play",1);Wo([E],_o.prototype,"update",1);Wo([E],_o.prototype,"stop",1);Wo([E],_o.prototype,"setPlaySpeed",1);Wo([E],_o.prototype,"toggleLoop",1);Wo([E],_o.prototype,"_setAnimationMixer",1);Wo([E],_o.prototype,"_setActiveAnimation",1);Wo([E],_o.prototype,"_setAnimationParams",1);Wo([E],_o.prototype,"_setAnimationClips",1);var Sk=Object.defineProperty,ivt=Object.getOwnPropertyDescriptor,nvt=(s,t,e)=>t in s?Sk(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Ik=(s,t,e,i)=>{for(var n=ivt(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&Sk(t,e,n),n},ovt=(s,t,e)=>(nvt(s,t+"",e),e);class Ta extends Es{constructor(t){super(t),ovt(this,"type",pt.PlaySettings),vt(this)}get isInteractive(){return this.entity.sceneObject.isInteractive}set isInteractive(t){this.entity.sceneObject.isInteractive=t}watch(){this.disposableReactions.push(rt(()=>{this._updateLayers(this.entity.sceneObject.isInteractive)}))}_updateLayers(t){if(!this.entity.editor.sceneController.isEditorMode){const i=this.entity.getObject3D();i&&(t?i.layers.disable(ce.PASSTHROUGH):i.layers.enable(ce.PASSTHROUGH))}}}Ik([M],Ta.prototype,"isInteractive");Ik([E],Ta.prototype,"_updateLayers");var Ak=Object.defineProperty,rvt=Object.getOwnPropertyDescriptor,avt=(s,t,e)=>t in s?Ak(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,rd=(s,t,e,i)=>{for(var n=i>1?void 0:i?rvt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&Ak(t,e,n),n},Iv=(s,t,e)=>(avt(s,typeof t!="symbol"?t+"":t,e),e);class On extends Es{constructor(t){super(t),Iv(this,"type",pt.Settings),Iv(this,"side"),Iv(this,"castShadow"),Iv(this,"receiveShadow"),Iv(this,"shouldFlipTextures"),this.side=t.sceneObject.viewSettings.side,this.castShadow=t.sceneObject.viewSettings.castShadow,this.receiveShadow=t.sceneObject.viewSettings.receiveShadow,this.shouldFlipTextures=t.sceneObject.viewSettings.shouldFlipTextures,vt(this)}get viewSettings(){return this.entity.sceneObject.viewSettings}setSide(t){this.entity.sceneObject.viewSettings.side=t}setCastShadow(t){this.entity.sceneObject.viewSettings.castShadow=t}setReceiveShadow(t){this.entity.sceneObject.viewSettings.receiveShadow=t}watch(){this.disposableReactions.push(rt(()=>{this._setSide(this.entity.sceneObject.viewSettings.side),this._setCastShadow(this.entity.sceneObject.viewSettings.castShadow),this._setReceiveShadow(this.entity.sceneObject.viewSettings.receiveShadow),this._setShouldFlipTextures(this.entity.sceneObject.viewSettings.shouldFlipTextures)}))}_setSide(t){this.side=t}_setCastShadow(t){this.castShadow=t}_setReceiveShadow(t){this.receiveShadow=t}_setShouldFlipTextures(t){this.shouldFlipTextures=t}}rd([V],On.prototype,"side",2);rd([V],On.prototype,"castShadow",2);rd([V],On.prototype,"receiveShadow",2);rd([V],On.prototype,"shouldFlipTextures",2);rd([E],On.prototype,"setSide",1);rd([E],On.prototype,"setCastShadow",1);rd([E],On.prototype,"setReceiveShadow",1);rd([E],On.prototype,"_setSide",1);rd([E],On.prototype,"_setCastShadow",1);rd([E],On.prototype,"_setReceiveShadow",1);rd([E],On.prototype,"_setShouldFlipTextures",1);class Tk{static build(t,e,i,n,o,a){const l=a??new Je(t,e,i);l.type=L.MODEL_ANIMATED,l.removeComponentsByType(pt.Mesh,pt.Group,pt.Text,pt.Geometry,pt.Light);const c=new eh(l,o);l.addComponent(c);const h=new _o(l,n);l.addComponent(h);const d=new On(l);l.addComponent(d);const u=new Ta(l);return l.addComponent(u),l}}fn.register(L.MODEL_ANIMATED,Tk,()=>!0);class Hf{static build(t,e,i){return new Je(t,e,i)}}const lvt=S.literal(L.AUDIO);go.merge(S.object({type:lvt}));function cvt(s){return s.type===L.AUDIO}class RA{static build(t,e,i,n){const o=Hf.build(t,e,i),a=new b1(o);return o.addComponent(a),n!=null&&n.type&&a.addSound(n.type),o}}fn.register(L.AUDIO,RA,cvt);var hvt=Object.defineProperty,dvt=(s,t,e)=>t in s?hvt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,uvt=(s,t,e)=>(dvt(s,t+"",e),e);class Zb{static get instance(){return this._instance}static clearBodyRigInstance(){this._instance=null}static _build(t,e,i,n){const o=new Je(t,e,i),a=new Fs(o);o.addComponent(a);const l=new dr(o,n);return o.addComponent(l),t.sceneController.setXrRigComponent(l),o}static build(t,e,i,n){return this._instance||(this._instance=this._build(t,e,i,n)),this._instance}}uvt(Zb,"_instance",null);fn.register(L.XRRIG,Zb,Oft);const fvt=.125,pvt=2;function mvt(){return new gvt}class gvt extends _m{constructor(){super();const t=MA.createCircle({radius:fvt,segments:32,z:0});t.push(0,0,0,0,0,-pvt),this.setPositions(t)}}var _vt=Object.defineProperty,vvt=(s,t,e)=>t in s?_vt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,yvt=(s,t,e)=>(vvt(s,t+"",e),e);const Pk=class Ok extends K5{constructor(t,e,i){const n=new Tm(Ok._geometry,e);super(t,[n],i),this._light=t,this.color=i}};yvt(Pk,"_geometry",mvt());let bvt=Pk;var Mk=Object.defineProperty,Cvt=Object.getOwnPropertyDescriptor,wvt=(s,t,e)=>t in s?Mk(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,NA=(s,t,e,i)=>{for(var n=Cvt(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&Mk(t,e,n),n},p2=(s,t,e)=>(wvt(s,typeof t!="symbol"?t+"":t,e),e);class Rm extends Kl{constructor(t,e=Bb,i=new Eb(e.color,e.intensity),n=new um){i.name="Directional light",i.userData.id=t.id,i.add(i.target),i.target.position.set(0,0,-1);const o=t.editor.gizmoMaterialController.createLightHelperMaterial(),a=new bvt(i,o);super(t,L.DIRECTIONAL_LIGHT,i,a,n),p2(this,"_csm"),p2(this,"_shadowsObject"),p2(this,"hasDirection",!0),p2(this,"_directionGlobal",new w),this._csm=new zZ({maxFar:250,cascades:3,shadowMapSize:2048,lightDirection:new w(-1,-2,-1).normalize(),camera:this.entity.editor.viewportController.mainViewport.camera.isPerspectiveCamera?this.entity.editor.viewportController.mainViewport.camera.perspective:this.entity.editor.viewportController.mainViewport.camera.orthographic,parent:n,lightMargin:100,lightFar:250,lightNear:1,lightIntensity:1}),this._csm.fade=!0,this._shadowsObject=n,this._disposable.add(new tt(()=>{t.editor.gizmoMaterialController.disposeLightHelperMaterial(o)})),vt(this)}get objectsToRender(){return this._shadowsObject}get boundingBox(){const t=this._boundingBoxCache.get(),e=.1;return t.min.set(-e,-e,0),t.max.set(e,e,0),t}get boundingSphere(){const t=this._boundingSphereCache.get();return t.radius=.1,t}setParameters(t){const{color:e,intensity:i}=t;this._light.color.set(e),this._light.intensity=i}update(t){if(!this.parameters.shadows.isEnabled)return;this._csm.camera=t.camera,this._csm.lightNear=t.camera.near,this._csm.lightFar=t.camera.far,this._csm.maxFar=t.camera.far;const e=this._light.getWorldDirection(this._directionGlobal);this._csm.lightDirection.copy(e.negate()),this._csm.lights.forEach((i,n)=>{i.intensity=this.parameters.intensity}),this._csm.lightIntensity=this.parameters.intensity,this._csm.updateFrustums(),this._csm.update()}watch(){super.watch(),this.disposableReactions.push(rt(()=>{this._helper.setHelperVisible(this.parameters.shouldShowHelper)}),rt(()=>{this.parameters.shadows.isEnabled?(this._light.intensity=0,this._csm.lights.forEach(t=>{t.intensity=this.parameters.intensity})):(this._light.intensity=this.parameters.intensity,this._csm.lights.forEach(t=>{t.intensity=0}))}),rt(()=>{this._csm.lights.forEach(t=>{t.visible=this.entity.sceneObject.isVisible})}))}}NA([Ui],Rm.prototype,"boundingBox");NA([Ui],Rm.prototype,"boundingSphere");NA([E],Rm.prototype,"setParameters");var xvt=Object.defineProperty,Evt=(s,t,e)=>t in s?xvt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,X1=(s,t,e)=>(Evt(s,typeof t!="symbol"?t+"":t,e),e),Xp=(s=>(s[s.GLOBAL=0]="GLOBAL",s[s.LOCAL=1]="LOCAL",s))(Xp||{}),i1=(s=>(s[s.OBJECT_ORIGIN=0]="OBJECT_ORIGIN",s[s.BOUNDING_BOX_CENTER=1]="BOUNDING_BOX_CENTER",s[s.BOUNDING_BOX_BOTTOM_CENTER=2]="BOUNDING_BOX_BOTTOM_CENTER",s[s.BOUNDING_BOX_TOP_CENTER=3]="BOUNDING_BOX_TOP_CENTER",s))(i1||{});const eg=new Lt;class s3{constructor(){X1(this,"_pivotAlignment",0),X1(this,"_coordinateSpace",1),X1(this,"_pivotLocal",new w),X1(this,"_globalToLocalTransform",new Lt),X1(this,"_localToGlobalTransform",new Lt),X1(this,"_size",new w)}get coordinateSpace(){return this._coordinateSpace}set coordinateSpace(t){this._coordinateSpace=t}get localCoordinateSystem(){return eg.copy(this.matrixGlobal),eg.setPosition(this.pivotGlobal),new Qn(eg)}get coordinateSystem(){switch(this._coordinateSpace){case 1:return this.localCoordinateSystem;case 0:return eg.identity(),eg.setPosition(this.pivotGlobal),new Qn(eg);default:return console.error("No coordinateSystem for ",this._coordinateSpace),new Qn(eg.identity())}}get pivotAlignment(){return this._pivotAlignment}set pivotAlignment(t){this._pivotAlignment=t}get pivotLocal(){return Svt(this._pivotAlignment,this.boundingBoxLocal,this._pivotLocal)}computePivotLocal(t){return Ivt(t,this.boundingBoxLocal,this._pivotLocal)}get pivotGlobal(){const t=this.pivotLocal;return new Qn(this.matrixGlobal).convertPointToGlobal(t)}transformLocalPivot(t){const e=this.pivotLocal;return new Qn(t).convertPointTo(e,Qn.GLOBAL_COORDINATE_SYSTEM)}globalToLocalTransform(){const t=this.matrixGlobal,e=this.matrixLocal;return this._globalToLocalTransform.copy(t).multiply(e)}localToGlobalTransform(){const t=this.matrixGlobal,e=this.matrixLocal;return this._localToGlobalTransform.copy(t).multiply(e).invert()}quaternionLocal(){const t=this.matrixLocal,e=new w,i=new ke,n=new w;return t.decompose(e,i,n),i}get isLookAtable(){return!1}get spatialSounds(){return[]}get isScaleCageable(){return!1}get isResizable(){return!1}get size(){return this.boundingBoxGlobal.getSize(this._size)}set size(t){}onBeginInteraction(t){}onContinueInteraction(t){}onEndInteraction(t){}dispose(){}}const xx=new w;function Svt(s,t,e=new w){if(s===0||t.isEmpty())return e.set(0,0,0);switch(s){case 1:e.set(.5,.5,.5);break;case 3:e.set(.5,.5,.5).setComponent(Zy,1);break;case 2:e.set(.5,.5,.5).setComponent(Zy,0);break;default:console.warn("No pivot defined for ",s)}return t.getSize(xx),e.multiply(xx).add(t.min),e}function Ivt(s,t,e=new w){return t.isEmpty()?e.set(0,0,0):(e.set((s.x+1)/2,(s.y+1)/2,(s.z+1)/2),t.getSize(xx),e.multiply(xx).add(t.min),e)}var Lk=(s=>(s.LEFT_TOP="leftTop",s.CENTER_TOP="centerTop",s.RIGHT_TOP="rightTop",s.LEFT_MIDDLE="leftMiddle",s.CENTER_MIDDLE="centerMiddle",s.RIGHT_MIDDLE="rightMiddle",s.LEFT_BOTTOM="leftBottom",s.CENTER_BOTTOM="centerBottom",s.RIGHT_BOTTOM="rightBottom",s))(Lk||{}),Rk=(s=>(s.FADE="fade",s.SLIDE="slide",s))(Rk||{}),qn=(s=>(s.DEFAULT="default",s.INFO="info",s.SUCCESS="success",s.WARNING="warning",s.ERROR="error",s))(qn||{}),$t=(s=>(s.ADD="ADD",s.REPLACE="REPLACE",s.IGNORE="IGNORE",s.REMOVE="REMOVE",s.TOGGLE="TOGGLE",s.LOOP="LOOP",s.CLEAR="CLEAR",s))($t||{}),Le=(s=>(s.SCENE_ENTITY="SCENE_ENTITY",s.VERTEX="VERTEX",s.EDGE="EDGE",s.FACE="FACE",s.CONTROL_POINT="CONTROL_POINT",s.KEY_POINT="KEY_POINT",s.TEXT="TEXT",s))(Le||{}),zh=(s=>(s.None="none",s.Bezel="bezel",s.SketchFab="sketchfab",s))(zh||{});function Avt(s,t){if(s==="sketchfab"){const e=new w(-pat,0,0);t.transform.setRotation(e)}}const Nk=S.literal(L.GROUP);go.merge(S.object({type:Nk,parameters:M7}));function jk(s){return Ir(s,Nk,M7)}class jA{static build(t,e,i){const n=Hf.build(t,e,i),o=new Fs(n);n.addComponent(o);const a=new Ta(n);n.addComponent(a);const l=new On(n);return n.addComponent(l),n}}fn.register(L.GROUP,jA,jk);var Yh;(s=>{function t(a){const l=a.clone(!0);return e(l,!0),l}s.deepClone=t;function e(a,l=!0){if(a.geometry!=null&&(a.geometry=a.geometry.clone()),a.material!=null&&(a.material=a.material.clone()),!!l&&a.children)for(const c of a.children)e(c,l)}s._cloneGeometryAndMaterial=e;function i(a){if(a.type=="Mesh"&&(a.geometry.dispose(),Array.isArray(a.material)?a.material.forEach(l=>{for(const c of Object.values(l))c instanceof AL&&c.dispose();l.dispose()}):a.material.dispose(),a.children))for(const l of a.children)i(l)}s.dispose=i;function n(a){if(a.geometry!=null&&(a.geometry.deleteAttribute("polygons"),a.geometry.deleteAttribute("instancestart"),a.geometry.deleteAttribute("instanceend")),a.isLineSegments2){const l=o(a);a.userData.id==null&&l.removeFromParent()}if(a._private_text!==void 0){const l=o(a);a.userData.id==null&&l.removeFromParent()}if(a.children)for(const l of a.children)n(l);return a.userData.id&&delete a.userData.id,a}s.cleanObject=n;function o(a){const l=new zs().copy(a,!1);if(a.geometry.dispose(),a.material.dispose(),l.children=[...a.children],a.parent!=null){const c=a.parent;a.removeFromParent(),c.add(l)}return l}s.convertToObject3D=o})(Yh||(Yh={}));class DA{_validate(t){return!t.match("_POLYGONS")}_save(t,e){const i=document.createElement("a");i.href=URL.createObjectURL(t),i.download=e,i.click(),i.remove()}_saveString(t,e){this._save(new Blob([t],{type:"text/plain"}),e)}_saveArrayBuffer(t,e){this._save(new Blob([t],{type:"application/octet-stream"}),e)}}class Tvt extends DA{async exportToFile(t,e="Untitled",i={validateOnly:!1,binary:!1}){try{const n=new TI,o={trs:!1,onlyVisible:!0,truncateDrawRange:!1,binary:i.binary,maxTextureSize:1/0},a=new bn;a.name="BeziScene";const l=[];for(const d of t){const u=Yh.deepClone(d);a.add(u),Yh.cleanObject(u)}i.extrasJson&&(o.onlyVisible=!1);let c=await n.parseAsync(a,o);if(i.extrasJson){const d=JSON.parse(JSON.stringify(c,null,2));d.extras={bezel_objects:i.extrasJson},c=d}let h=null;i.binary?h=c:h=JSON.stringify(c,null,2),i.validateOnly||(i.binary?this._saveArrayBuffer(h,`${e}.glb`):i.extrasJson?await this.uploadBezelUnityBridge(e,h,i.uploadSyncKey):this._saveString(h,`${e}.gltf`));for(const d of l)Yh.dispose(d);return i.validateOnly&&!i.binary?this._validate(h):!0}catch(n){return console.error(n),!1}}async uploadBezelUnityBridge(t="Untitled",e,i){const n=i??"",o=new Blob([e],{type:"text/plain"});return await ks(n,o)}}class Pvt extends DA{async exportToFile(t,e="Untitled",i={validateOnly:!1,binary:!1}){try{const n=new YZ,o={binary:!1},a=new bn;a.name="BeziScene";const l=[];for(const h of t){const d=Yh.deepClone(h);a.add(d),Yh.cleanObject(d)}const c=n.parse(a,o);this._saveString(c,`${e}.stl`);for(const h of l)Yh.dispose(h);return await Promise.resolve(!0)}catch(n){return console.error(n),await Promise.resolve(!1)}}}class Ovt extends DA{async exportToFile(t,e="Untitled",i={validateOnly:!1,binary:!0}){try{const n=new WZ,o=new bn;o.name="BeziScene";const a=[];for(const c of t){const h=Yh.deepClone(c);o.add(h),Yh.cleanObject(h)}const l=await n.parse(o);i.validateOnly||this._saveArrayBuffer(l,`${e}.usdz`);for(const c of a)Yh.dispose(c);return!0}catch(n){return console.error(n),!1}}}var x6;(s=>{function t(e,i){switch(e){case os.gltf:case os.glb:return new Tvt;case os.usdz:return i.binary=!0,new Ovt;case os.stl:return new Pvt;default:return null}}s.getExporter=t})(x6||(x6={}));const BP={mp3:"audio/mpeg",wav:"audio/wav"},Mvt={mp3:BP.mp3,wav:BP.wav};var lb;(s=>{s.uploadHDRIFileAsAsset=async(e,i,n,o,a,l,c)=>{let h;try{const d=i.name.split(".").pop();if(!d)throw Error("Missing file extension");const u=_t(),f=_t(),p=_t();await Promise.all([ks(f,a),ks(p,i)]),h=await ab({id:u,name:e,description:"",type:Ae.HDRI,team:n,file:o,preview:JSON.stringify({urlKey:f,camera:{direction:[0,0,0]}}),data:JSON.stringify({urlKey:p,extension:d}),isPrivate:!1,lastWriter:he.sessionID},l)}catch(d){throw console.error(d),d}return c&&c(h),h},s.uploadSoundFileAsAsset=async(e,i,n,o,a,l)=>{let c;try{const h=i.name.split(".").pop();if(!h)throw Error("Missing file extension");const d=h;if(!d)throw Error("Invalid file extension");const u=_t(),f=_t(),p=await t(i),_={contentType:Mvt[d]};await Promise.all([ks(f,i,_)]),c=await ab({id:u,name:e,description:"",type:Ae.SOUND,team:n,file:o,data:JSON.stringify({urlKey:f,extension:h,duration:p}),isPrivate:!1,lastWriter:he.sessionID},a)}catch(h){throw console.error(h),h}return l&&l(c),c};const t=e=>new Promise(i=>{const n=new Audio,o=URL.createObjectURL(e);n.src=o;const a=()=>{URL.revokeObjectURL(o),n.src=""};n.addEventListener("loadedmetadata",()=>{i(Math.floor(n.duration*1e3)),a()}),n.addEventListener("error",()=>{i(0),a()})})})(lb||(lb={}));function m2(s){switch(s){case J.COLOR:return Gc.COLOR;case J.ALPHA:return Gc.OPACITY;case J.METALNESS:return Gc.METALNESS;case J.ROUGHNESS:return Gc.ROUGHNESS;case J.AO:return Gc.AO;case J.NORMAL:return Gc.NORMAL;case J.DISPLACEMENT:return Gc.DISPLACEMENT}return 0}const Mh={add(s,t){const e=m2(t);return s|=1<<e|0},remove(s,t){const e=m2(t);return s&=~(1<<e|0)},toggle(s,t){const e=m2(t);return s^=1<<e|0},isEnabled(s,t){const e=m2(t);return(s&(1<<e|0))!==0}},fp=new w;function Lvt(s){return s.boundingBox==null&&s.computeBoundingBox(),s.boundingSphere==null&&s.computeBoundingSphere(),s.boundingBox.getSize(fp),fp.x<am&&(fp.x=.01),fp.y<am&&(fp.y=.01),fp.z<am&&(fp.z=.01),fp.toArray()}var Rvt=Object.defineProperty,Nvt=(s,t,e)=>t in s?Rvt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,jvt=(s,t,e)=>(Nvt(s,t+"",e),e);class Dvt extends dL{constructor(t){super(t),jvt(this,"_texturesToUrls",new Map)}load(t,e,i,n){const o=super.load(t,e,i,n);return this._texturesToUrls.set(o,t),o}didImport(t){return this._texturesToUrls.has(t)}}var Fvt=Object.defineProperty,Bvt=(s,t,e)=>t in s?Fvt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,kvt=(s,t,e)=>(Bvt(s,t+"",e),e);class FA{constructor(){kvt(this,"_tgaImporter",null)}async loadFromFile(t,e){const i=new xf;i.setURLModifier(function(o){const a=o.replace(/^(\.?\/)/,""),l=o.split("/").pop()??"",c=e.findMatch(l,a);return c?(e.markAsReferenced(c),URL.createObjectURL(c)):o}),this._tgaImporter=new Dvt(i),i.addHandler(/\.tga$/i,this._tgaImporter);const n=await this.parse(t,i);return await this._load(n)}async loadFromUrl(t){const e=new xf,i=await this._runImporter(e,()=>this._loadFromUrl(t,e));return this._load(i)}parse(t,e){return this._runImporter(e,()=>this._parse(t,e))}_runImporter(t,e){return new Promise((i,n)=>{let o=null,a=!0;const l=t.onStart,c=t.onLoad,h=t.onError,d=()=>{t.onStart=l,t.onLoad=c,t.onError=h,o&&(Gvt(o.scene,this._tgaImporter),i(o))};return t.onStart=(u,f,p)=>{a=!1,U.debug(`Loading started for item ${u}. Loaded ${f} of ${p} items.`),l&&l(u,f,p)},t.onLoad=()=>{a=!0,U.debug("Loading complete for file"),c&&c(),d()},t.onError=u=>{a=!0,U.warn(`Error loading ${u}`),h&&h(u),d()},e().then(u=>{o=u,a&&d()}).catch(u=>{d(),n(u)})})}async _load(t){const e=this._loadWithoutUnpacking(t.scene,t.animations);return await Promise.resolve({urls:e,vendor:zh.None})}_loadWithoutUnpacking(t,e){const i=[],n={...t_,flipY:!1};t.updateMatrix(),t.updateMatrixWorld(!0);let o=L.MODEL;const a=t,l=t.getObjectByProperty("type","SkinnedMesh");return e.length>0||l!=null?o=L.MODEL_ANIMATED:o=L.MODEL,i.push({model:a,dataUrlKey:"",name:t.name!==""?t.name:"model (0)",material:n,size:[1,1,1],matrix:t.matrixWorld,animations:e,type:o}),i}}function Gvt(s,t){if(!t)return;const e=[];s.traverse(i=>{i instanceof re&&Vi.forEachMapType(i.material,(n,o)=>{o&&o.image&&t.didImport(o)&&e.push(o)})});for(const i of e)try{i.image=pm.tryGetImageData(i)}catch(n){U.error(`Failed to get image data for TGA: ${i.name}`,n)}}const Z1={position:"position",normal:"normal",uv:"uv"};function Vvt(s){var a;const t=[],e=s.groups,i=s.getAttribute(Z1.position).array,n=s.getAttribute(Z1.normal).array,o=(a=s.getAttribute(Z1.uv))==null?void 0:a.array;for(let l=0,c=e.length;l<c;l++){const h=e[l],d=h.count,u=new $n,f=new Float32Array(d*3),p=new Float32Array(d*3),g=new Float32Array(d*2);for(let _=0;_<d;_++){let v=3*(h.start+_),y=3*_;f[y]=i[v],f[y+1]=i[v+1],f[y+2]=i[v+2],p[y]=n[v],p[y+1]=n[v+1],p[y+2]=n[v+2],v=2*(h.start+_),y=2*_,o&&(g[y]=o[v],g[y+1]=o[v+1])}u.setAttribute(Z1.position,new or(f,3)),u.setAttribute(Z1.normal,new or(p,3)),u.setAttribute(Z1.uv,new or(g,2)),u.userData={materialIndex:h.materialIndex},t.push(u)}return t}async function Hvt(s,t){s||(s={sm:_t(),md:_t(),lg:_t()});const[e,i,n]=await d7(t);return await Promise.all([ks(s.sm,e),ks(s.md,i),ks(s.lg,n)]),s}const kP=new Map([[J.ALPHA,"alphaMap"],[J.AO,"aoMap"],[J.COLOR,"map"],[J.DISPLACEMENT,"displacementMap"],[J.METALNESS,"metalnessMap"],[J.NORMAL,"normalMap"],[J.ROUGHNESS,"roughnessMap"]]);async function pp(s,t,e=_t(),i=_t(),n=_t()){let o=null;const a=s.material,l=a[kP.get(t)];if(l&&(o=pm.convertTextureToDataURL(l)),o||(a[kP.get(t)]=null),!o)return null;const c={sm:n,md:i,lg:e},[h,d,u]=await d7(o);return await Promise.all([ks(c.sm,h),ks(c.md,d),ks(c.lg,u)]),c}class GP extends FA{constructor(){super()}_parse(t,e){return new Promise((i,n)=>{const o=new FileReader,a=new Zg(e);a.setDRACOLoader(a_),o.onload=l=>{var h;const c=(h=l.target)==null?void 0:h.result;if(!c){n(new Error("Failed to read file contents"));return}a.parse(c,"",d=>{const u={animations:[...d.animations],scene:d.scene};i(u)},d=>{be.open({id:_t(),text:"Missing textures or .bin file for glTF"}),n(new Error("Error encountered while parsing glTF file"))})},o.onerror=l=>{n(new Error("Error encountered while parsing glTF file"))},o.onabort=l=>{n(new Error("glTF file parsing aborted"))},o.readAsArrayBuffer(t)})}_loadFromUrl(t,e){const i=new Zg(e);return i.setDRACOLoader(a_),i.loadAsync(t).then(n=>({animations:[...n.animations],scene:n.scene}))}}async function Dk(s,t=!0,e=!1){const i=[];let n=zh.None;const o=new TI,a={binary:!0};let l=!0;const c=new r_;c.enqueue(s);function h(f){const p=Vvt(f.geometry);for(let g=0;g<p.length;g++)try{const _=p[g].userData.materialIndex,v=f.material[_],y=new re(p[g],v);y.matrixAutoUpdate=!1,y.matrix.copy(f.matrix),y.matrixWorld.copy(f.matrixWorld),y.name=v?v.name:"node",c.enqueue(y)}catch(_){console.warn("Could not separate geometry groups",_);continue}}const d=[];let u=-1;for(;!c.isEmpty();){const f=c.dequeue();if(f.type==="Mesh"||f.type==="SkinnedMesh"){const p=Lvt(f.geometry);if(l=!1,f.geometry.groups.length>0)h(f),l=!0;else{u++;const g={...t_,flipY:!1};f.geometry.hasAttribute("normal")||f.geometry.computeVertexNormals();const _=f.material;if(!(_ instanceof Xr)){const v=new Xr;Vi.convertMaterial(_,v),_ instanceof Hy&&(v.roughness=Math.pow(1-_.shininess/100,4),v.metalness=0),f.material=v}_&&(e&&(_ instanceof Hy?(g.color=`#${_.color.getHexString()}`,g.roughness=Math.pow(1-_.shininess/100,4),g.metalness=0,g.mask=Mh.add(g.mask,J.ROUGHNESS)):_ instanceof Xr&&(g.color=`#${_.color.getHexString()}`,g.roughness=_.roughness,g.metalness=_.metalness,g.normal=_.normalScale.x)),_.map&&await pp(f,J.COLOR).then(v=>{g.color="#FFFFFF",v&&(g.map=v)}),_.alphaMap&&await pp(f,J.ALPHA).then(v=>{v&&(g.alphaMap=v)}),_.aoMap&&await pp(f,J.AO).then(v=>{v&&(g.aoMap=v)}),_.emissiveMap&&await pp(f,J.EMISSIVE),_.roughnessMap&&await pp(f,J.ROUGHNESS).then(v=>{v&&(g.roughnessMap=v)}),_.metalnessMap&&await pp(f,J.METALNESS).then(v=>{v&&(g.metalnessMap=v)}),_.normalMap&&await pp(f,J.NORMAL).then(v=>{v&&(g.normalMap=v)}),_.displacementMap&&await pp(f,J.DISPLACEMENT).then(v=>{v&&(g.displacementMap=v)})),o.parse(f,v=>{const y=URL.createObjectURL(new Blob([v])).match(/[^/]+$/g),b=y?y[0]:null;if(b&&(f.updateWorldMatrix(!0,!1),i.push({model:f,dataUrlKey:b,name:f.name!==""?f.name:`model (${u})`,material:g,size:p,matrix:f.matrixWorld,type:L.MODEL}),l=!0,t)){const C=yN(v),x=ks(b,C);d.push(x)}},v=>{console.warn(v),be.open({id:_t(),text:`Error loading file: ${v.toString()}`})},a)}}else(f.name==="Sketchfab_Scene"||f.name==="Sketchfab_model")&&(n=zh.SketchFab);await If(()=>l===!0);for(let p=0;p<f.children.length;p++)c.enqueue(f.children[p])}return await Promise.all(d),{urls:i,vendor:n}}async function Uvt(s,t,e="",i=!0,n=!0){const o=new FileReader;let a=!1,l=null;const c=new xf;c.onStart=(u,f,p)=>{},c.onProgress=(u,f,p)=>{},c.onLoad=()=>{},o.onload=u=>{if(u.target){const f=JSON.parse(u.target.result),g=new Hw().parse(f);l=new re(g,new Xr),a=!0}},o.readAsText(s),await If(()=>a),a=!1;let h={urls:[],vendor:zh.None};async function d(u){await Dk(u,n).then(f=>{h=f,a=!0})}return d(l),await If(()=>a),h}var zvt=Object.defineProperty,Yvt=(s,t,e)=>t in s?zvt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,VP=(s,t,e)=>(Yvt(s,typeof t!="symbol"?t+"":t,e),e);class Wvt{constructor(){VP(this,"_filesByName",new Map),VP(this,"_referencedList",new Set)}findMatch(t,e){const i=t.toLowerCase(),n=e.toLowerCase(),o=this._filesByName.get(i);if(!o)return;const a=o.get(n);if(a)return a;let l;for(const c of o.values())if(l||(l=c),!this._referencedList.has(c))return c;return l}addFile(t,e){const i=t.name.toLowerCase(),n=e.toLowerCase(),o=this._filesByName.get(i);o?o.set(n,t):this._filesByName.set(i,new Map([[n,t]]))}markAsReferenced(t){this._referencedList.add(t)}isReferenced(t){return this._referencedList.has(t)}}/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.6.9
*/var HP=function(s){return URL.createObjectURL(new Blob([s],{type:"text/javascript"}))};try{URL.revokeObjectURL(HP(""))}catch{HP=function(t){return"data:application/javascript;charset=UTF-8,"+encodeURI(t)}}var Ul=Uint8Array,Zp=Uint16Array,E6=Uint32Array,Fk=new Ul([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Bk=new Ul([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Xvt=new Ul([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),kk=function(s,t){for(var e=new Zp(31),i=0;i<31;++i)e[i]=t+=1<<s[i-1];for(var n=new E6(e[30]),i=1;i<30;++i)for(var o=e[i];o<e[i+1];++o)n[o]=o-e[i]<<5|i;return[e,n]},Gk=kk(Fk,2),Vk=Gk[0],Zvt=Gk[1];Vk[28]=258,Zvt[258]=28;var Kvt=kk(Bk,0),qvt=Kvt[0],S6=new Zp(32768);for(var vn=0;vn<32768;++vn){var mp=(vn&43690)>>>1|(vn&21845)<<1;mp=(mp&52428)>>>2|(mp&13107)<<2,mp=(mp&61680)>>>4|(mp&3855)<<4,S6[vn]=((mp&65280)>>>8|(mp&255)<<8)>>>1}var Ly=function(s,t,e){for(var i=s.length,n=0,o=new Zp(t);n<i;++n)++o[s[n]-1];var a=new Zp(t);for(n=0;n<t;++n)a[n]=a[n-1]+o[n-1]<<1;var l;if(e){l=new Zp(1<<t);var c=15-t;for(n=0;n<i;++n)if(s[n])for(var h=n<<4|s[n],d=t-s[n],u=a[s[n]-1]++<<d,f=u|(1<<d)-1;u<=f;++u)l[S6[u]>>>c]=h}else for(l=new Zp(i),n=0;n<i;++n)s[n]&&(l[n]=S6[a[s[n]-1]++]>>>15-s[n]);return l},Kb=new Ul(288);for(var vn=0;vn<144;++vn)Kb[vn]=8;for(var vn=144;vn<256;++vn)Kb[vn]=9;for(var vn=256;vn<280;++vn)Kb[vn]=7;for(var vn=280;vn<288;++vn)Kb[vn]=8;var Hk=new Ul(32);for(var vn=0;vn<32;++vn)Hk[vn]=5;var Qvt=Ly(Kb,9,1),Jvt=Ly(Hk,5,1),VE=function(s){for(var t=s[0],e=1;e<s.length;++e)s[e]>t&&(t=s[e]);return t},gh=function(s,t,e){var i=t/8|0;return(s[i]|s[i+1]<<8)>>(t&7)&e},HE=function(s,t){var e=t/8|0;return(s[e]|s[e+1]<<8|s[e+2]<<16)>>(t&7)},$vt=function(s){return(s/8|0)+(s&7&&1)},BA=function(s,t,e){(t==null||t<0)&&(t=0),(e==null||e>s.length)&&(e=s.length);var i=new(s instanceof Zp?Zp:s instanceof E6?E6:Ul)(e-t);return i.set(s.subarray(t,e)),i},tyt=function(s,t,e){var i=s.length;if(!i||e&&!e.l&&i<5)return t||new Ul(0);var n=!t||e,o=!e||e.i;e||(e={}),t||(t=new Ul(i*3));var a=function(ut){var yt=t.length;if(ut>yt){var Kt=new Ul(Math.max(yt*2,ut));Kt.set(t),t=Kt}},l=e.f||0,c=e.p||0,h=e.b||0,d=e.l,u=e.d,f=e.m,p=e.n,g=i*8;do{if(!d){e.f=l=gh(s,c,1);var _=gh(s,c+1,3);if(c+=3,_)if(_==1)d=Qvt,u=Jvt,f=9,p=5;else if(_==2){var C=gh(s,c,31)+257,x=gh(s,c+10,15)+4,I=C+gh(s,c+5,31)+1;c+=14;for(var O=new Ul(I),T=new Ul(19),D=0;D<x;++D)T[Xvt[D]]=gh(s,c+D*3,7);c+=x*3;for(var B=VE(T),F=(1<<B)-1,k=Ly(T,B,1),D=0;D<I;){var Y=k[gh(s,c,F)];c+=Y&15;var v=Y>>>4;if(v<16)O[D++]=v;else{var G=0,st=0;for(v==16?(st=3+gh(s,c,3),c+=2,G=O[D-1]):v==17?(st=3+gh(s,c,7),c+=3):v==18&&(st=11+gh(s,c,127),c+=7);st--;)O[D++]=G}}var $=O.subarray(0,C),X=O.subarray(C);f=VE($),p=VE(X),d=Ly($,f,1),u=Ly(X,p,1)}else throw"invalid block type";else{var v=$vt(c)+4,y=s[v-4]|s[v-3]<<8,b=v+y;if(b>i){if(o)throw"unexpected EOF";break}n&&a(h+y),t.set(s.subarray(v,b),h),e.b=h+=y,e.p=c=b*8;continue}if(c>g){if(o)throw"unexpected EOF";break}}n&&a(h+131072);for(var q=(1<<f)-1,at=(1<<p)-1,bt=c;;bt=c){var G=d[HE(s,c)&q],lt=G>>>4;if(c+=G&15,c>g){if(o)throw"unexpected EOF";break}if(!G)throw"invalid length/literal";if(lt<256)t[h++]=lt;else if(lt==256){bt=c,d=null;break}else{var ct=lt-254;if(lt>264){var D=lt-257,nt=Fk[D];ct=gh(s,c,(1<<nt)-1)+Vk[D],c+=nt}var ot=u[HE(s,c)&at],Et=ot>>>4;if(!ot)throw"invalid distance";c+=ot&15;var X=qvt[Et];if(Et>3){var nt=Bk[Et];X+=HE(s,c)&(1<<nt)-1,c+=nt}if(c>g){if(o)throw"unexpected EOF";break}n&&a(h+131072);for(var Ot=h+ct;h<Ot;h+=4)t[h]=t[h-X],t[h+1]=t[h+1-X],t[h+2]=t[h+2-X],t[h+3]=t[h+3-X];h=Ot}}e.l=d,e.p=bt,e.b=h,d&&(l=1,e.m=f,e.d=u,e.n=p)}while(!l);return h==t.length?t:BA(t,0,h)},eyt=new Ul(0),Kd=function(s,t){return s[t]|s[t+1]<<8},Lh=function(s,t){return(s[t]|s[t+1]<<8|s[t+2]<<16|s[t+3]<<24)>>>0},UE=function(s,t){return Lh(s,t)+Lh(s,t+4)*4294967296};function syt(s,t){return tyt(s,t)}var I6=typeof TextDecoder<"u"&&new TextDecoder,iyt=0;try{I6.decode(eyt,{stream:!0}),iyt=1}catch{}var nyt=function(s){for(var t="",e=0;;){var i=s[e++],n=(i>127)+(i>223)+(i>239);if(e+n>s.length)return[t,BA(s,e-1)];n?n==3?(i=((i&15)<<18|(s[e++]&63)<<12|(s[e++]&63)<<6|s[e++]&63)-65536,t+=String.fromCharCode(55296|i>>10,56320|i&1023)):n&1?t+=String.fromCharCode((i&31)<<6|s[e++]&63):t+=String.fromCharCode((i&15)<<12|(s[e++]&63)<<6|s[e++]&63):t+=String.fromCharCode(i)}};function oyt(s,t){if(t){for(var e="",i=0;i<s.length;i+=16384)e+=String.fromCharCode.apply(null,s.subarray(i,i+16384));return e}else{if(I6)return I6.decode(s);var n=nyt(s),o=n[0],a=n[1];if(a.length)throw"invalid utf-8 data";return o}}var ryt=function(s,t){return t+30+Kd(s,t+26)+Kd(s,t+28)},ayt=function(s,t,e){var i=Kd(s,t+28),n=oyt(s.subarray(t+46,t+46+i),!(Kd(s,t+8)&2048)),o=t+46+i,a=Lh(s,t+20),l=e&&a==4294967295?lyt(s,o):[a,Lh(s,t+24),Lh(s,t+42)],c=l[0],h=l[1],d=l[2];return[Kd(s,t+10),c,h,n,o+Kd(s,t+30)+Kd(s,t+32),d]},lyt=function(s,t){for(;Kd(s,t)!=1;t+=4+Kd(s,t+2));return[UE(s,t+12),UE(s,t+4),UE(s,t+20)]};function cyt(s){for(var t={},e=s.length-22;Lh(s,e)!=101010256;--e)if(!e||s.length-e>65558)throw"invalid zip file";var i=Kd(s,e+8);if(!i)return{};var n=Lh(s,e+16),o=n==4294967295;if(o){if(e=Lh(s,e-12),Lh(s,e)!=101075792)throw"invalid zip file";i=Lh(s,e+32),n=Lh(s,e+48)}for(var a=0;a<i;++a){var l=ayt(s,n,o),c=l[0],h=l[1],d=l[2],u=l[3],f=l[4],p=l[5],g=ryt(s,p);if(n=f,!c)t[u]=BA(s,g,g+h);else if(c==8)t[u]=syt(s.subarray(g,g+h),new Ul(d));else throw"unknown compression type "+c}return t}var Ex;(s=>{async function t(a,l="",c=!0){return a.isFile?[await e(a)]:a.isDirectory&&c?await i(a,l):[]}s.loadFileSystemEntry=t;function e(a){return new Promise(l=>{a.file(c=>{const h=a.fullPath.slice(1);l({file:c,path:h})})})}s.loadFile=e;function i(a,l=""){return new Promise((c,h)=>{a.createReader().readEntries(u=>{let f=u.length;const p=[];for(const g of u)t(g,l+a.name+"/").then(_=>{f--,p.push(..._),f<=0&&c(p)}).catch(_=>{U.warn(`Failed to load file ${a.name} in directory`),f--,f<=0&&c(p)})},u=>{h(u)})})}s.loadDirectory=i;async function n(a){if(a instanceof DataTransferItemList)for(const l of a){const c=l.webkitGetAsEntry();if(c)return s.loadFileSystemEntry(c)}else if(a instanceof FileList){const l=[];for(let c=0;c<a.length;c++){const h=a.item(c);h&&l.push({file:h,path:h.name})}return l}else return a.map(l=>({file:l,path:l.name}));return[]}s.loadFileListAsync=n;function o(a){return new Promise((l,c)=>{const h=new FileReader;h.onload=d=>{if(d.target){const u=d.target.result,f=cyt(new Uint8Array(u)),p=[];for(const[g,_]of Object.entries(f)){if(_.length===0||g.includes("__MACOSX"))continue;const v=new Blob([_]),y=g.split("/").pop()??"",b=new File([v],y);p.push(b)}l(p)}else c(new Error("Failed to unzip archive"))},h.readAsArrayBuffer(a)})}s.unzipAsync=o})(Ex||(Ex={}));async function hyt(s,t,e="",i=!0,n=!0){const o=new FileReader;let a=!1,l=null;const c=new xf;c.onStart=(u,f,p)=>{},c.onProgress=(u,f,p)=>{},c.onLoad=()=>{},o.onload=u=>{if(u.target){const f=u.target.result,g=new XZ(c).parse(f);l=new re(g,new Xr)}a=!0},o.readAsArrayBuffer(s),await If(()=>a),a=!1;let h={urls:[],vendor:zh.None};async function d(u){await Dk(u,n).then(f=>{h=f,a=!0})}return d(l),await If(()=>a),h}var dyt=Object.defineProperty,uyt=(s,t,e)=>t in s?dyt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,fyt=(s,t,e)=>(uyt(s,t+"",e),e);const pyt=Dt.CM;class UP extends FA{constructor(){super(),fyt(this,"_nodeNamesUsed",new Set)}_parse(t,e){const i=new FileReader;return new Promise((n,o)=>{i.onload=a=>{var h;const l=(h=a.target)==null?void 0:h.result;if(!l){o(new Error("Failed to read file contents"));return}const c=new VT(e);try{const d=c.parse(l,""),u=this._processFBX(d);n(u)}catch(d){o(d)}},i.onerror=a=>{o(new Error("Error encountered while parsing FBX file"))},i.onabort=a=>{o(new Error("FBX file parsing aborted"))},i.readAsArrayBuffer(t)})}_loadFromUrl(t,e){return new VT(e).loadAsync(t).then(n=>this._processFBX(n))}_createUniqueName(t){let e=t;for(let i=1;this._nodeNamesUsed.has(e);++i)e=`${t}_${i}`;return this._nodeNamesUsed.add(e),e}_processFBX(t){this._nodeNamesUsed.clear(),t.traverse(o=>{o.name=this._createUniqueName(o.name)});const e=t.userData.unitScaleFactor??1,i=mm(e,pyt,HN);return ts(i,1)||(t.scale.multiplyScalar(i),t.updateMatrix(),t.updateMatrixWorld()),{animations:[...t.animations],scene:t}}}class myt extends FA{constructor(){super()}_parse(t,e){return new Promise((i,n)=>{const o=new FileReader,a=new HT(e);o.onload=l=>{var u;const c=(u=l.target)==null?void 0:u.result;if(!c){n(new Error("Failed to read file contents"));return}const h=a.parse(c),d={animations:[...h.animations],scene:h};i(d)},o.onerror=l=>{n(new Error("Error encountered while parsing OBJ file"))},o.onabort=l=>{n(new Error("OBJ file parsing aborted"))},o.readAsText(t)})}_loadFromUrl(t,e){return new HT(e).loadAsync(t).then(n=>({animations:[...n.animations],scene:n}))}}var gyt=Object.defineProperty,_yt=(s,t,e)=>t in s?gyt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,vyt=(s,t,e)=>(_yt(s,t+"",e),e);const zP=1e5,Mg={ExceedsAudioSize:"This audio file exceeds the file size limit. Please select an audio file that is smaller than 5MB.",ExceedsWarningThreshold:"This file exceeds 100MB. Performance may be impacted.",UnsupportedAudio:"Bezi doesn't currently support this file type. Please select an .mp3 or .wav audio file.",UnsupportedDynamic:s=>`Bezi doesn't currently support the file types: ${s}.`,UnsupportedFile:"Bezi doesn't currently support this file type.",UnsupportedModel:"Bezi doesn't currently support this file type. Please select a .glb, .fbx, or .obj file.",UnknownError:"An unknown error occurred while uploading the file. Please try again."};class qb{constructor(t,e){this.sceneController=t,this.mainViewport=e,vyt(this,"_filesMap",new Wvt)}async loadFiles(t,e=!1,i=!0,n=!0,o,a,l,c){if(t.length<=0)return;const h=await Ex.loadFileListAsync(t),d=[];for(const u of h){if(!Br.isSupportedFileFormat(u.file)){be.open({id:_t(),text:`${Mg.UnsupportedFile}: ${u.file.name}`});continue}const{size:p}=Br.getMetaFromFile(u.file);p>104857600&&be.open({id:_t(),text:Mg.ExceedsWarningThreshold}),this._filesMap.addFile(u.file,u.path),d.push(u.file)}return this._loadManyFiles(d,e,i,n,o,a,l,c)}async _loadManyFiles(t,e,i=!0,n=!0,o,a,l,c){const h=Br.sortFilesByType(t);for(const p of h.archive){const g=await Ex.unzipAsync(p);await this.loadFiles(g,e,i,n,o,a,l,c)}const d=h.model;if(d.length>0)for(let p=0;p<d.length;p++){const g=d[p],_=URL.createObjectURL(g).match(/[^/]+$/g);if(!_)continue;const v=_[0],{name:y}=Br.getMetaFromFile(g);f(v,y),await this._loadModel(g,v,e,i,n,a,l)}for(const p of h.image){if(this._filesMap.isReferenced(p))continue;const{name:g}=Br.getMetaFromFile(p),_=URL.createObjectURL(p).match(/[^/]+$/g);if(!_)break;const v=_[0];f(v,g),await this._loadImage(p,v,!1,i,a,l,c)}for(const p of h.audio){const{name:g,type:_,size:v}=Br.getMetaFromFile(p);if(v>5242880){Ft("import-file-invalid",{fileExtension:_,fileSizeBytes:v,reason:"exceeds-size-limit"}),be.open({id:_t(),text:Mg.ExceedsAudioSize});return}const y=_t();f(y,g),this._loadAudio(p,y,i,a,l,c)}if(h.other.length>0){const g=h.other.map(_=>Br.getMetaFromFile(_).type).join(", ");be.open({id:_t(),text:Mg.UnsupportedDynamic(g)}),Ft("import-files-invalid",{fileExtensions:g,reason:"unsupported-formats"})}a();function f(p,g){o&&o({key:p,name:g??""})}}async loadFileFromUrl(t,e,i,n=_t(),o=!0,a=()=>{},l={x:0,y:0,z:0},c=!1){let h={urls:[],vendor:zh.None};const d=os[i],u=YP(d);let f=null;switch(i){case os.fbx:{f=new UP;break}case os.glb:{f=new GP;break}case os.bezel:{const p=await fetch(t);h.urls=await p.json(),h.vendor=zh.Bezel;break}}if(f&&(h=await f.loadFromUrl(t)),c){const p=h.urls[0].model,g=new Us().setFromObject(p);l.y+=g.getSize(new w).y/2}return o&&this.loadModelLocally(h.urls,e,h.vendor,l,u),a&&a({key:n,action:P.NEW_MODEL,data:h.urls,name:e}),h}async _loadModel(t,e,i,n=!0,o=!0,a,l){const{name:c,type:h}=Br.getMetaFromFile(t),d=h,u=c;if(!d)return;const f=u??"Model";let p={urls:[],vendor:zh.None},g=null;const _=YP(d);try{switch(d){case os.gltf:case os.glb:g=new GP,p=await g.loadFromFile(t,this._filesMap);break;case os.fbx:g=new UP,p=await g.loadFromFile(t,this._filesMap);break;case os.obj:g=new myt,p=await g.loadFromFile(t,this._filesMap);break;case os.json:p=await Uvt(t,e,f,i,o);break;case os.stl:p=await hyt(t,e,f,i,o);break;default:break}}catch(v){U.error("Error loading model",v)}n&&this.loadModelLocally(p.urls,f,p.vendor,l,_),a&&a({key:e,action:P.NEW_MODEL,data:p.urls,name:f}),Ft("import-file",{fileType:d,fileSizeBytes:t.size})}loadModelLocally(t,e,i,n,o){var a,l;t.length<1||((a=this.sceneController)==null||a.addModel(t,e,i,n,null,null,!0,!0,o),(l=this.mainViewport)==null||l.focus())}async _loadImage(t,e,i,n=!0,o,a,l){var g;const{name:c,type:h}=Br.getMetaFromFile(t),d=h,u=c;if(d==null)return;const f=u??"Image",p=d===os.png?ix:1;switch(d){case os.jpeg:case os.jpg:case os.png:case os.tga:{const _=t.size+zP;if(n){const{texture:v,urlKey:y}=await nx(t,i,null,b=>l({key:e,loaded:b*zP,total:_}));v!=null&&y!=null&&((g=this.sceneController)==null||g.addImage(f,v,y,a,p))}o&&o({key:e,action:P.NEW_IMAGE,data:[{dataUrlKey:e,name:f}],name:f});break}}Ft("import-file",{fileType:d,fileSizeBytes:t.size})}_loadAudio(t,e,i=!0,n,o,a){var p;const{name:l,type:c,size:h}=Br.getMetaFromFile(t),d=c,u=l;if(d==null||!Br.isSupportedFileFormat(t,E5.AUDIO)){Ft("import-file-invalid",{fileExtension:d,fileSizeBytes:h,reason:"unsupported-format"});return}const f=u??"Audio";switch(d){case os.mp3:case os.wav:{i&&((p=this.sceneController)==null||p.addSoundToScene(f,t,g=>{n&&n({key:e,action:P.NEW_SOUND,data:[],name:f})},o));break}}Ft("import-file",{fileExtension:d,fileSizeBytes:h})}}function YP(s){return![os.gltf,os.glb].includes(s)}const yyt=s=>{const t=Br.isSupportedFileFormat(s,E5.AUDIO),{size:e}=Br.getMetaFromFile(s),i=e<=5242880;return{isValidType:t,isValidSize:i}},Uk=S.literal(L.FRAME);go.merge(S.object({type:Uk,parameters:F7}));function byt(s){return Ir(s,Uk,F7)}class Ry{static build(t,e,i){const n=Hf.build(t,e,i),o=new Cn(n);n.addComponent(o);const a=new Fs(n);n.addComponent(a);const l=new Ta(n);n.addComponent(l);const c=new On(n);return n.addComponent(c),n}static buildParams(t,e,i){const n=new w;t.getSize(n);const o=n.equals(of);let a={...L5};if(!o){const{x:l,y:c,z:h}=n;a={...a,...{width:l,height:c,depth:h}}}return e!==void 0&&(a.isClippingEnabled=e),i!==void 0&&(a.areCapsEnabled=i),a}}fn.register(L.FRAME,Ry,byt);var zk=Object.defineProperty,Cyt=Object.getOwnPropertyDescriptor,wyt=(s,t,e)=>t in s?zk(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,hi=(s,t,e,i)=>{for(var n=i>1?void 0:i?Cyt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&zk(t,e,n),n},oo=(s,t,e)=>(wyt(s,typeof t!="symbol"?t+"":t,e),e);class _e extends Es{constructor(t,e,i){super(t),oo(this,"type",pt.Material),oo(this,"mapTexture"),oo(this,"emissiveMapTexture"),oo(this,"alphaMapTexture"),oo(this,"roughnessMapTexture"),oo(this,"metalnessMapTexture"),oo(this,"normalMapTexture"),oo(this,"aoMapTexture"),oo(this,"displacementMapTexture"),oo(this,"envMapTexture"),oo(this,"clearcoatMapTexture"),oo(this,"clearcoatRoughnessMapTexture"),oo(this,"sheenColorMapTexture"),oo(this,"sheenRoughnessMapTexture"),oo(this,"thicknessMapTexture"),oo(this,"transmissionMapTexture"),oo(this,"_meshMaterial"),oo(this,"_revision",0),oo(this,"_isPausingOpacityObservable",!1),oo(this,"_disposable",new Zt),oo(this,"_blockedMapDownloads",new Set),this.mapTexture=null,this.emissiveMapTexture=null,this.alphaMapTexture=null,this.roughnessMapTexture=null,this.metalnessMapTexture=null,this.normalMapTexture=null,this.aoMapTexture=null,this.displacementMapTexture=null,this.envMapTexture=null,this.clearcoatMapTexture=null,this.clearcoatRoughnessMapTexture=null,this.sheenColorMapTexture=null,this.sheenRoughnessMapTexture=null,this.thicknessMapTexture=null,this.transmissionMapTexture=null,i?(this._meshMaterial=i,this._setTexturesFromMaterial(i)):this._meshMaterial=new Xr,this._meshMaterial.alphaTest=.001,this._meshMaterial.polygonOffset=Bg.MESH!==0,this._meshMaterial.polygonOffsetFactor=Bg.MESH,this._meshMaterial.polygonOffsetUnits=Bg.MESH,this.envMapIntensity=e!=null&&e.isEnabled?e.intensity:0,this._addSignalBindings(),vt(this)}_isMapDownloadBlocked(t){return this._blockedMapDownloads.has(t)}_unblockMapDownload(t){this._blockedMapDownloads.delete(t)}_setTexturesFromMaterial(t){this.mapTexture=t.map??null,this.mapTexture&&this._blockedMapDownloads.add(J.COLOR),this.emissiveMapTexture=t.emissiveMap??null,this.emissiveMapTexture&&this._blockedMapDownloads.add(J.EMISSIVE),this.alphaMapTexture=t.alphaMap??null,this.alphaMapTexture&&this._blockedMapDownloads.add(J.ALPHA),this.roughnessMapTexture=t.roughnessMap??null,this.roughnessMapTexture&&this._blockedMapDownloads.add(J.ROUGHNESS),this.metalnessMapTexture=t.metalnessMap??null,this.metalnessMapTexture&&this._blockedMapDownloads.add(J.METALNESS),this.normalMapTexture=t.normalMap??null,this.normalMapTexture&&this._blockedMapDownloads.add(J.NORMAL),this.aoMapTexture=t.aoMap??null,this.aoMapTexture&&this._blockedMapDownloads.add(J.AO),this.displacementMapTexture=t.displacementMap??null,this.displacementMapTexture&&this._blockedMapDownloads.add(J.DISPLACEMENT)}get material(){return this.entity.sceneObject.material}get id(){return this.material.hasCurrentPropertiesSetFromState?`material_${this.entity.id}`:`material_${this.materialID}`}get revision(){return this._revision}incrementRevision(){this._revision++}get materialID(){return this.material.id}get keyData(){return this.material.keyData}get meshMaterial(){return this._meshMaterial}setMeshMaterial(t){const e=this._meshMaterial;let i=null;switch(t){case ue.Standard:i=new Xr,Vi.convertMaterial(this._meshMaterial,i);break;case ue.Unlit:i=new kn({toneMapped:!1,transparent:!0}),Vi.convertMaterial(this._meshMaterial,i);break;case ue.Toon:i=new Bw,Vi.convertMaterial(this._meshMaterial,i);break;case ue.Physical:i=new kw,Vi.convertMaterial(this._meshMaterial,i);break;case ue.Shadow:i=new IL,Vi.convertMaterial(this._meshMaterial,i);break;case ue.Occluder:{i=new kn,Vi.convertMaterial(this._meshMaterial,i),i.colorWrite=!1;break}}if(t===ue.Occluder){i.colorWrite=!1;const n=this.entity.getObject3D();n&&(n.renderOrder=Zl.OCCLUDER)}else{i.colorWrite=!0;const n=this.entity.getObject3D();n&&(n.renderOrder=Zl.SCENE_ENTITY)}t===ue.Unlit?i.toneMapped=!1:i.toneMapped=!0,this._meshMaterial=i,e.dispose(),this.lightingModel=t}get lightingModel(){return this.material.lightingModel}set lightingModel(t){const e=this.material.lightingModel;this.material.lightingModel=t,e===ue.Physical&&t!==ue.Physical&&(this.material.advancedEffects={})}get name(){return this.material.name}set name(t){this.material.name=t}get team(){return this.material.team}set team(t){this.material.team=t}get file(){return this.material.file}set file(t){this.material.file=t}get lastWriter(){return this.material.lastWriter}set lastWriter(t){this.material.lastWriter=t}get preview(){return this.material.preview}set preview(t){this.material.preview=t}get color(){return this.material.color}set color(t){this.material.color=t}get map(){return this.material.map}set map(t){this.material.map=t}get emissive(){return this.material.emissive}set emissive(t){this.material.emissive=t}get emissiveMap(){return this.material.emissiveMap}set emissiveMap(t){this.material.emissiveMap=t}get repeatX(){return this.material.repeatX}set repeatX(t){this.material.repeatX=t}get repeatY(){return this.material.repeatY}set repeatY(t){this.material.repeatY=t}get offsetX(){return this.material.offsetX}set offsetX(t){this.material.offsetX=t}get offsetY(){return this.material.offsetY}set offsetY(t){this.material.offsetY=t}get rotation(){return this.material.rotation}set rotation(t){this.material.rotation=t}get opacity(){return this.material.opacity}set opacity(t){this.material.opacity=t}get alphaMap(){return this.material.alphaMap}set alphaMap(t){this.material.alphaMap=t}get aoMap(){return this.material.aoMap}set aoMap(t){this.material.aoMap=t}get ambientOcclusion(){return this.material.ambientOcclusion}set ambientOcclusion(t){this.material.ambientOcclusion=t}get metalness(){return this.material.metalness}set metalness(t){this.material.metalness=t}get metalnessMap(){return this.material.metalnessMap}set metalnessMap(t){this.material.metalnessMap=t}get roughness(){return this.material.roughness}set roughness(t){this.material.roughness=t}get roughnessMap(){return this.material.roughnessMap}set roughnessMap(t){this.material.roughnessMap=t}get normal(){return this.material.normal}set normal(t){this.material.normal=t}get normalMap(){return this.material.normalMap}set normalMap(t){this.material.normalMap=t}get displacement(){return this.material.displacement}set displacement(t){this.material.displacement=t}get displacementMap(){return this.material.displacementMap}set displacementMap(t){this.material.displacementMap=t}get envMap(){return this.material.envMap}set envMap(t){this.material.envMap=t}get envMapIntensity(){return this.material.envMapIntensity}set envMapIntensity(t){this.material.envMapIntensity=t}get flipY(){return this.material.flipY}set flipY(t){this.material.flipY=t}get advancedEffects(){return this.material.advancedEffects}set advancedEffects(t){this.material.advancedEffects=t}get mask(){return this.material.mask}set mask(t){this.material.mask=t}enableAdvancedEffect(t){switch(t){case jl.GLASS:this._meshMaterial.transmission=0,this._meshMaterial.thickness=0,this._meshMaterial.ior=1.5;break;case jl.SHEEN:this._meshMaterial.sheen=0,this._meshMaterial.sheenRoughness=0;break;case jl.CLEARCOAT:this._meshMaterial.clearcoat=0,this._meshMaterial.clearcoatRoughness=0;break}this._meshMaterial.needsUpdate=!0,this.incrementRevision(),this.setMeshMaterial(ue.Physical)}setMapTexture(t){this._setMapAllTexture(J.COLOR,t)}setEmissiveMapTexture(t){this._setMapAllTexture(J.EMISSIVE,t)}setAlphaMapTexture(t){this._setMapAllTexture(J.ALPHA,t)}setAOMapTexture(t){this._setMapAllTexture(J.AO,t)}setMetalnessMapTexture(t){this._setMapAllTexture(J.METALNESS,t)}setRoughnessMapTexture(t){this._setMapAllTexture(J.ROUGHNESS,t)}setNormalMapTexture(t){this._setMapAllTexture(J.NORMAL,t)}setDisplacementMapTexture(t){this._setMapAllTexture(J.DISPLACEMENT,t)}setEnvMapTexture(t){const e=this.entity.sceneObject.viewSettings.shouldFlipTextures??!1;t&&(t.flipY=e),this.envMapTexture=t}_setMapAllTexture(t,e){const i=this.entity.sceneObject.viewSettings.shouldFlipTextures??!1;switch(e&&(e.flipY=i,e.colorSpace=t===J.COLOR?Oa:RL,e.generateMipmaps=!0),t){case J.COLOR:this.mapTexture=e;break;case J.ALPHA:this.alphaMapTexture=e;break;case J.ROUGHNESS:this.roughnessMapTexture=e;break;case J.METALNESS:this.metalnessMapTexture=e;break;case J.NORMAL:this.normalMapTexture=e;break;case J.DISPLACEMENT:this.displacementMapTexture=e;break;case J.EMISSIVE:this.emissiveMapTexture=e;break;case J.AO:this.aoMapTexture=e;break;case J.CLEARCOAT:this.clearcoatMapTexture=e;break;case J.CLEARCOAT_ROUGHNESS:this.clearcoatRoughnessMapTexture=e;break;case J.SHEEN_COLOR:this.sheenColorMapTexture=e;break;case J.SHEEN_ROUGHNESS:this.sheenRoughnessMapTexture=e;break;case J.THICKNESS:this.thicknessMapTexture=e;break;case J.TRANSMISSION:this.transmissionMapTexture=e;break}}updateMeshOpacity(t){var n;this._isPausingOpacityObservable=t;const e=t?Nit:this.material.opacity*this.entity.layerOpacity.opacity,i=e<1||this.lightingModel===ue.Shadow||((n=this.material.advancedEffects.Glass)==null?void 0:n.transmission)>0||this.material.alphaMap!=null;this._meshMaterial.opacity=e,this._meshMaterial.transparent=i,this._meshMaterial.depthWrite=!i,this._meshMaterial.needsUpdate=!0,this.incrementRevision(),this.entity.editor.signals.object.materialUpdated.dispatch()}watch(){this.disposableReactions.push(rt(()=>{this._meshMaterial.color!=null&&(this._meshMaterial.color.set(this.material.color),this._meshMaterial.needsUpdate=!0,this.incrementRevision())}),rt(()=>{const t=this._meshMaterial;if(t.map!==void 0){const{repeatX:e,repeatY:i,offsetX:n,offsetY:o,rotation:a}=this.material;t.map=this.mapTexture,t.map&&(t.map.wrapS=za,t.map.wrapT=za,t.map.repeat.set(e,i),t.map.offset.set(n,o),t.map.rotation=a),this.entity.editor.signals.object.materialUpdated.dispatch(),this._meshMaterial.needsUpdate=!0,this.incrementRevision()}}),rt(()=>{this._isPausingOpacityObservable||(this.material.opacity,this.entity.sceneObject.layerOpacity,this.lightingModel,this.advancedEffects,this.updateMeshOpacity(!1))}),rt(()=>{const t=this._meshMaterial;if(t.alphaMap!==void 0){const{repeatX:e,repeatY:i,offsetX:n,offsetY:o,rotation:a}=this.material;t.alphaMap=this.alphaMapTexture,t.alphaMap&&(t.alphaMap.wrapS=za,t.alphaMap.wrapT=za,t.alphaMap.repeat.set(e,i),t.alphaMap.offset.set(n,o),t.alphaMap.rotation=a),this.entity.editor.signals.object.materialUpdated.dispatch(),this._meshMaterial.needsUpdate=!0,this.incrementRevision()}}),rt(()=>{this._meshMaterial.aoMapIntensity!=null&&(this._meshMaterial.aoMapIntensity=this.material.ambientOcclusion,this._meshMaterial.needsUpdate=!0,this.incrementRevision())}),rt(()=>{const t=this._meshMaterial;if(t.aoMap!==void 0){const{repeatX:e,repeatY:i,offsetX:n,offsetY:o,rotation:a}=this.material;t.aoMap=this.aoMapTexture,t.aoMap&&(t.aoMap.wrapS=za,t.aoMap.wrapT=za,t.aoMap.repeat.set(e,i),t.aoMap.offset.set(n,o),t.aoMap.rotation=a),this.entity.editor.signals.object.materialUpdated.dispatch(),this._meshMaterial.needsUpdate=!0,this.incrementRevision()}}),rt(()=>{this._meshMaterial.metalness!=null&&(this._meshMaterial.metalness=this.material.metalness,this._meshMaterial.needsUpdate=!0,this.incrementRevision())}),rt(()=>{const t=this._meshMaterial;if(t.metalnessMap!==void 0){const{repeatX:e,repeatY:i,offsetX:n,offsetY:o,rotation:a}=this.material;t.metalnessMap=this.metalnessMapTexture,t.metalnessMap&&(t.metalnessMap.wrapS=za,t.metalnessMap.wrapT=za,t.metalnessMap.repeat.set(e,i),t.metalnessMap.offset.set(n,o),t.metalnessMap.rotation=a),this.entity.editor.signals.object.materialUpdated.dispatch(),this._meshMaterial.needsUpdate=!0,this.incrementRevision()}}),rt(()=>{this._meshMaterial.roughness!=null&&(this._meshMaterial.roughness=this.material.roughness,this._meshMaterial.needsUpdate=!0,this.incrementRevision())}),rt(()=>{const t=this._meshMaterial;if(t.roughnessMap!==void 0){const{repeatX:e,repeatY:i,offsetX:n,offsetY:o,rotation:a}=this.material;t.roughnessMap=this.roughnessMapTexture,t.roughnessMap&&(t.roughnessMap.wrapS=za,t.roughnessMap.wrapT=za,t.roughnessMap.repeat.set(e,i),t.roughnessMap.offset.set(n,o),t.roughnessMap.rotation=a),this.entity.editor.signals.object.materialUpdated.dispatch(),this._meshMaterial.needsUpdate=!0,this.incrementRevision()}}),rt(()=>{this._meshMaterial.normalScale!=null&&(this._meshMaterial.normalScale.set(this.material.normal,this.material.normal),this._meshMaterial.needsUpdate=!0,this.incrementRevision())}),rt(()=>{const t=this._meshMaterial;if(t.normalMap!==void 0){const{repeatX:e,repeatY:i,offsetX:n,offsetY:o,rotation:a}=this.material;t.normalMap=this.normalMapTexture,t.normalMap&&(t.normalMap.wrapS=za,t.normalMap.wrapT=za,t.normalMap.repeat.set(e,i),t.normalMap.offset.set(n,o),t.normalMap.rotation=a),this.entity.editor.signals.object.materialUpdated.dispatch(),this._meshMaterial.needsUpdate=!0,this.incrementRevision()}}),rt(()=>{this._meshMaterial.displacementScale!=null&&(this._meshMaterial.displacementScale=this.material.displacement,this._meshMaterial.needsUpdate=!0,this.incrementRevision())}),rt(()=>{const t=this._meshMaterial;if(t.displacementMap!==void 0){const{repeatX:e,repeatY:i,offsetX:n,offsetY:o,rotation:a}=this.material;t.displacementMap=this.displacementMapTexture,t.displacementMap&&(t.displacementMap.wrapS=za,t.displacementMap.wrapT=za,t.displacementMap.repeat.set(e,i),t.displacementMap.offset.set(n,o),t.displacementMap.rotation=a),this.entity.editor.signals.object.materialUpdated.dispatch(),this._meshMaterial.needsUpdate=!0,this.incrementRevision()}}),rt(()=>{this._meshMaterial.envMapIntensity!=null&&(this._meshMaterial.envMapIntensity=this.material.envMapIntensity,this._meshMaterial.needsUpdate=!0,this.incrementRevision())}),rt(()=>{this._meshMaterial.side!=null&&(this._meshMaterial.side=this.entity.sceneObject.viewSettings.side,this._meshMaterial.needsUpdate=!0,this.incrementRevision())}),rt(()=>{this.material.advancedEffects.Glass!=null?(this.material.advancedEffects.Glass.thickness!=null&&(this._meshMaterial.thickness=this.material.advancedEffects.Glass.thickness),this.material.advancedEffects.Glass.transmission!=null&&(this._meshMaterial.transmission=this.material.advancedEffects.Glass.transmission),this.material.advancedEffects.Glass.ior!=null&&(this._meshMaterial.ior=this.material.advancedEffects.Glass.ior),this._meshMaterial.needsUpdate=!0,this.entity.editor.signals.object.materialUpdated.dispatch(),this.incrementRevision()):this._meshMaterial.ior!=null&&(this._meshMaterial.ior=void 0,this._meshMaterial.thickness=void 0,this._meshMaterial.transmission=void 0)}),rt(()=>{this.material.advancedEffects.Sheen!=null?(this.material.advancedEffects.Sheen.color!=null&&this._meshMaterial.sheenColor.setStyle(this.material.advancedEffects.Sheen.color),this.material.advancedEffects.Sheen.sheen!=null&&(this._meshMaterial.sheen=this.material.advancedEffects.Sheen.sheen),this.material.advancedEffects.Sheen.roughness!=null&&(this._meshMaterial.sheenRoughness=this.material.advancedEffects.Sheen.roughness),this._meshMaterial.needsUpdate=!0,this.entity.editor.signals.object.materialUpdated.dispatch(),this.incrementRevision()):this._meshMaterial.sheenColor!=null&&(this._meshMaterial.sheen=void 0,this._meshMaterial.sheenRoughness=void 0)}),rt(()=>{this.material.advancedEffects.Clearcoat!=null?(this.material.advancedEffects.Clearcoat.clearcoat!=null&&(this._meshMaterial.clearcoat=this.material.advancedEffects.Clearcoat.clearcoat),this.material.advancedEffects.Clearcoat.roughness!=null&&(this._meshMaterial.clearcoatRoughness=this.material.advancedEffects.Clearcoat.roughness),this._meshMaterial.needsUpdate=!0,this.entity.editor.signals.object.materialUpdated.dispatch(),this.incrementRevision()):this._meshMaterial.clearcoat!=null&&(this._meshMaterial.clearcoat=void 0,this._meshMaterial.clearcoatRoughness=void 0)}),rt(()=>{this._loadMapFromUrlKey(J.COLOR,this.map)}),rt(()=>{this._loadMapFromUrlKey(J.ALPHA,this.alphaMap)}),rt(()=>{this._loadMapFromUrlKey(J.ROUGHNESS,this.roughnessMap)}),rt(()=>{this._loadMapFromUrlKey(J.METALNESS,this.metalnessMap)}),rt(()=>{this._loadMapFromUrlKey(J.NORMAL,this.normalMap)}),rt(()=>{this._loadMapFromUrlKey(J.DISPLACEMENT,this.displacementMap)}),rt(()=>{this._loadMapFromUrlKey(J.AO,this.aoMap)}),rt(()=>{this.setMeshMaterial(this.lightingModel)}))}async _loadMapFromUrlKey(t,e){try{if(this._isMapDownloadBlocked(t)){this._unblockMapDownload(t);return}if(!e||!e.lg){this.setTexture(t,null);return}if(e.isUrlExternal){const i={lowestPowerOfTwo:!0,crossOrigin:"anonymous"},{dataUrl:n}=await bf(e.lg,i),o=await yj(n);this.setTexture(t,o)}else CN([e.sm,e.md,e.lg],i=>{this.setTexture(t,i)})}catch{console.error("Error while fetching textures with urlKeys")}}getUrlKeyByType(t){switch(t){case J.COLOR:return this.material.map;case J.ALPHA:return this.material.alphaMap;case J.ROUGHNESS:return this.material.roughnessMap;case J.METALNESS:return this.material.metalnessMap;case J.NORMAL:return this.material.normalMap;case J.DISPLACEMENT:return this.material.displacementMap;case J.AO:return this.material.aoMap;default:return null}}getMapsUsingFigmaByStateId(){const t={},e=this.entity.states.entries,i=this.entity.sceneObject.base().material,n=this.entity.editor.materialController.materials[i];if(n==null)return console.warn("No base material found for entity",i,this.entity.id),{};e.push([ys,{material:n.data}]);const o=this.entity.sceneObject.base(),a=this.entity.editor.materialController;for(const[l,c]of e){const h={},d=a.getMaterialForState(o,l);if(d==null)continue;const u=typeof c.material=="string"?{}:c.material,f={[J.COLOR]:u.map??d.data.map,[J.ALPHA]:u.alphaMap??d.data.alphaMap,[J.ROUGHNESS]:u.roughnessMap??d.data.roughnessMap,[J.METALNESS]:u.metalnessMap??d.data.metalnessMap,[J.NORMAL]:u.normalMap??d.data.normalMap,[J.DISPLACEMENT]:u.displacementMap??d.data.displacementMap,[J.AO]:u.aoMap??d.data.aoMap};Object.entries(f).forEach(([p,g])=>{g!=null&&g.figmaFileUrl&&(h[p]=g)}),t[l]=h}return t}setTexture(t,e){this._setMapAllTexture(t,e)}getTexture(t){switch(t){case J.COLOR:return this.mapTexture;case J.EMISSIVE:return this.emissiveMapTexture;case J.ALPHA:return this.alphaMapTexture;case J.ROUGHNESS:return this.roughnessMapTexture;case J.METALNESS:return this.metalnessMapTexture;case J.NORMAL:return this.normalMapTexture;case J.DISPLACEMENT:return this.displacementMapTexture;case J.AO:return this.aoMapTexture;default:return null}}setTextureUrlKeyForState(t,e,i){var o;const n=t==null?this.entity.sceneObject.base().material:(o=this.entity.states.getState(t))==null?void 0:o.material;if(n!=null)if(typeof n=="string"){const a=this.entity.editor.materialController.materials[n];if(a==null){console.warn("No material found with id",n);return}const l=this._getMaterialKeyForMapType(e);if(l==null)return;const c={[l]:i};a.setData({...a.data,...c})}else{const a=this._getMaterialKeyForMapType(e);if(a==null)return;const l=kg(this.entity.sceneObject.base(),t);l[a]=i}}setTextureUrlKey(t,e){const i=this._getMaterialKeyForMapType(t);i!=null&&(this.material[i]=e)}async _deleteTextureRemotely(t){var e,i,n,o,a,l,c,h,d,u,f,p,g,_,v,y,b,C,x,I,O,T,D,B;switch(t){case J.COLOR:await ap([(e=this.map)==null?void 0:e.sm,(i=this.map)==null?void 0:i.md,(n=this.map)==null?void 0:n.lg]);break;case J.EMISSIVE:await ap([(o=this.emissiveMap)==null?void 0:o.sm,(a=this.emissiveMap)==null?void 0:a.md,(l=this.emissiveMap)==null?void 0:l.lg]);break;case J.ALPHA:await ap([(c=this.alphaMap)==null?void 0:c.sm,(h=this.alphaMap)==null?void 0:h.md,(d=this.alphaMap)==null?void 0:d.lg]);break;case J.ROUGHNESS:await ap([(u=this.roughnessMap)==null?void 0:u.sm,(f=this.roughnessMap)==null?void 0:f.md,(p=this.roughnessMap)==null?void 0:p.lg]);break;case J.METALNESS:await ap([(g=this.metalnessMap)==null?void 0:g.sm,(_=this.metalnessMap)==null?void 0:_.md,(v=this.metalnessMap)==null?void 0:v.lg]);break;case J.NORMAL:await ap([(y=this.normalMap)==null?void 0:y.sm,(b=this.normalMap)==null?void 0:b.md,(C=this.normalMap)==null?void 0:C.lg]);break;case J.DISPLACEMENT:await ap([(x=this.displacementMap)==null?void 0:x.sm,(I=this.displacementMap)==null?void 0:I.md,(O=this.displacementMap)==null?void 0:O.lg]);break;case J.AO:await ap([(T=this.aoMap)==null?void 0:T.sm,(D=this.aoMap)==null?void 0:D.md,(B=this.aoMap)==null?void 0:B.lg]);break}}copyMaterial(t){const{map:e,emissiveMap:i,alphaMap:n,roughnessMap:o,metalnessMap:a,normalMap:l,aoMap:c,displacementMap:h,envMap:d,envMapIntensity:u,color:f,opacity:p,roughness:g,metalness:_,normalScale:v}=t;this._setMapAllTexture(J.COLOR,e),this._setMapAllTexture(J.ALPHA,n),this._setMapAllTexture(J.ROUGHNESS,o),this._setMapAllTexture(J.METALNESS,a),this._setMapAllTexture(J.NORMAL,l),this._setMapAllTexture(J.AO,c),this._setMapAllTexture(J.DISPLACEMENT,h),this._setMapAllTexture(J.EMISSIVE,i),this.setEnvMapTexture(d),this.envMapIntensity=u;let y=this.mask;this.map&&(this.color=f.getHexString(),y=Mh.add(y,J.COLOR)),this.emissive&&(this.emissive=f.getHexString(),y=Mh.add(y,J.EMISSIVE)),this.alphaMap&&(this.opacity=p,y=Mh.add(y,J.ALPHA)),this.roughnessMap&&(this.roughness=g,y=Mh.add(y,J.ROUGHNESS)),this.metalnessMap&&(this.metalness=_,y=Mh.add(y,J.METALNESS)),this.normalMap&&(this.normal=(v==null?void 0:v.x)??1,y=Mh.add(y,J.NORMAL)),this.mask=y}_addSignalBindings(){const t=this.entity.editor.signals.scene.hdrLightingUpdated.add(({hdrLighting:e})=>{this.envMapIntensity=e!=null&&e.isEnabled?e.intensity:0});this._disposable.add(new tt(()=>{t.detach()}))}dispose(){var t,e,i,n,o,a,l,c,h;super.dispose(),this._disposable.dispose(),(t=this.mapTexture)==null||t.dispose(),(e=this.emissiveMapTexture)==null||e.dispose(),(i=this.alphaMapTexture)==null||i.dispose(),(n=this.roughnessMapTexture)==null||n.dispose(),(o=this.metalnessMapTexture)==null||o.dispose(),(a=this.normalMapTexture)==null||a.dispose(),(l=this.aoMapTexture)==null||l.dispose(),(c=this.displacementMapTexture)==null||c.dispose(),(h=this.envMapTexture)==null||h.dispose(),this.meshMaterial.dispose()}_getMaterialKeyForMapType(t){switch(t){case J.COLOR:return"map";case J.EMISSIVE:return"emissiveMap";case J.ALPHA:return"alphaMap";case J.ROUGHNESS:return"roughnessMap";case J.METALNESS:return"metalnessMap";case J.NORMAL:return"normalMap";case J.DISPLACEMENT:return"displacementMap";case J.AO:return"aoMap"}}}hi([V],_e.prototype,"mapTexture",2);hi([V],_e.prototype,"emissiveMapTexture",2);hi([V],_e.prototype,"alphaMapTexture",2);hi([V],_e.prototype,"roughnessMapTexture",2);hi([V],_e.prototype,"metalnessMapTexture",2);hi([V],_e.prototype,"normalMapTexture",2);hi([V],_e.prototype,"aoMapTexture",2);hi([V],_e.prototype,"displacementMapTexture",2);hi([V],_e.prototype,"envMapTexture",2);hi([V],_e.prototype,"clearcoatMapTexture",2);hi([V],_e.prototype,"clearcoatRoughnessMapTexture",2);hi([V],_e.prototype,"sheenColorMapTexture",2);hi([V],_e.prototype,"sheenRoughnessMapTexture",2);hi([V],_e.prototype,"thicknessMapTexture",2);hi([V],_e.prototype,"transmissionMapTexture",2);hi([V],_e.prototype,"_meshMaterial",2);hi([V],_e.prototype,"_revision",2);hi([M],_e.prototype,"material",1);hi([M],_e.prototype,"revision",1);hi([E],_e.prototype,"incrementRevision",1);hi([E],_e.prototype,"setMeshMaterial",1);hi([E],_e.prototype,"setMapTexture",1);hi([E],_e.prototype,"setEmissiveMapTexture",1);hi([E],_e.prototype,"setAlphaMapTexture",1);hi([E],_e.prototype,"setAOMapTexture",1);hi([E],_e.prototype,"setMetalnessMapTexture",1);hi([E],_e.prototype,"setRoughnessMapTexture",1);hi([E],_e.prototype,"setNormalMapTexture",1);hi([E],_e.prototype,"setDisplacementMapTexture",1);hi([E],_e.prototype,"setEnvMapTexture",1);hi([E],_e.prototype,"_setMapAllTexture",1);function xyt(s,t=0){return t<=0?s:At.USE_WASM_MESH?Eyt(s,t):Iyt(s,t)}function Eyt(s,t){return t<=0?s:Syt(s,t)}function Syt(s,t){const e=At.geometry;if(!s.attributes.position)return s;const i=new Float32Array(s.attributes.position.array.length);if(i.set(s.attributes.position.array),!s.attributes.polygons)return s;const n=new Uint16Array(s.attributes.polygons.array.length);n.set(s.attributes.polygons.array);const o=At.mallocAndSet(i),a=At.mallocAndSet(n),l=i.length,c=n.length,h=At.mallocPtr(),d=At.mallocPtr(),u=At.mallocPtr(),f=At.mallocPtr();At.subdivide_catmull({length_input_positions:l,input_positions:o,length_input_polygons:c,input_polygons:a,length_output_positions:h,output_positions:d,length_output_quads:u,output_quads:f,number_subdivisions:t});const p=new Uint32Array(e.HEAPU32.buffer,h,1),g=new Uint32Array(e.HEAPF32.buffer,d,1),_=new Float32Array(e.HEAPF32.buffer,g[0],p[0]),v=new Uint32Array(e.HEAPU32.buffer,u,1),y=new Uint32Array(e.HEAPU32.buffer,f,1),b=new Uint32Array(e.HEAPU32.buffer,y[0],v[0]),C=new $n;return C.setAttribute("position",new $s(_,3)),C.setIndex(new $s(b,1)),C.computeVertexNormals(),s.boundingSphere!==null&&(C.boundingSphere=s.boundingSphere.clone()),s.boundingBox!==null&&(C.boundingBox=s.boundingBox.clone()),At.free(o,a,h,d,u,f),C}function Iyt(s,t=0){const e={split:!0,uvSmooth:!1,preserveEdges:!1,flatOnly:!1,maxTriangles:1/0},i=ZZ.modify(s,t,e);return KZ(i,Math.PI/2)}var Yk=Object.defineProperty,Ayt=Object.getOwnPropertyDescriptor,Tyt=(s,t,e)=>t in s?Yk(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Wk=(s,t,e,i)=>{for(var n=i>1?void 0:i?Ayt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&Yk(t,e,n),n},zE=(s,t,e)=>(Tyt(s,typeof t!="symbol"?t+"":t,e),e);class Dh extends Es{constructor(t,e){super(t),zE(this,"type",pt.Modifier),zE(this,"subdivision",0),zE(this,"_geometryComponent"),this._geometryComponent=e,vt(this)}setGeometryComponent(t){this._geometryComponent=t,super.dispose(),this.watch()}setSubdivision(t){Jt(()=>{this.entity.sceneObject.subdivisions=t}),this.entity.sceneObject.lastGeometryUpdated=Date.now()}modify(t,e){t!=null&&(this.subdivision=e,At.USE_WASM_MESH||(this._geometryComponent.geometry=xyt(t,e)))}watch(){this.disposableReactions.push(Gn(()=>{const{base:t}=this._geometryComponent,{subdivisions:e}=this.entity.sceneObject;if(this.entity.sceneObject.parameters instanceof $c){const{width:i,height:n,depth:o}=this.entity.sceneObject.parameters;return{base:t,subdivisions:e,width:i,height:n,depth:o}}return{base:t,subdivisions:e}},({base:t,subdivisions:e})=>{this.modify(t,e)},{fireImmediately:!0}))}}Wk([V],Dh.prototype,"subdivision",2);Wk([E],Dh.prototype,"modify",1);function Sx(s){return s.type==="Mesh"&&s.isMesh&&!s.isSkinnedMesh}function Pyt(s){return s.type==="SkinnedMesh"&&s.isSkinnedMesh}class A6{static build(t,e,i,n,o){const a=o??new Je(t,e,i);let l=null;n&&Sx(n)?(l=new lr(a,L.MODEL,n.geometry),(n.morphTargetDictionary||n.morphTargetInfluences)&&l.setMorphTargets(n.morphTargetDictionary,n.morphTargetInfluences)):l=new lr(a,L.MODEL),a.addComponent(l);let c=null;n&&Sx(n)?c=new _e(a,t.sceneController.statefulScene.hdrLighting,n.material):c=new _e(a,t.sceneController.statefulScene.hdrLighting),a.addComponent(c);const h=new Wi(a,c,l);a.addComponent(h);const d=new Dh(a,l);a.addComponent(d);const u=new On(a);a.addComponent(u);const f=new Ta(a);return a.addComponent(f),a}}fn.register(L.MODEL,A6,()=>!0);function Oyt(){return{width:1,depth:1,radii:{tl:.1,tr:.1,bl:.1,br:.1},height:.1,radiusSegments:px.maximum,bendSegments:mx.maximum,bendAngle:Math.PI/2,bevelOffset:.05,bevelSegments:gx.maximum}}class Myt extends eu{get isPlaneGeometry(){return!0}constructor(t=Xn.width,e=Xn.depth,i=Xn.radii,n=Xn.height,o=Xn.bendAngle,a=Xn.radiusSegments,l=Xn.bendSegments,c=Xn.bevelSegments,h=Xn.bevelSegments){const d=_1.getBeziEngine(),u={width:t,depth:e,radii:i,height:n,bendAngle:o,radiusSegments:a,bendSegments:l,bevelOffset:c,bevelSegments:h},f=eu._getBufferOptions(),p=new d.PlaneGeometry(u,f),g=d.PlaneGenerator_queryIndexCount(Oyt());super(p,g)}setParameters(t,e,i=Xn.radii,n=Xn.height,o=Xn.bendAngle,a=Xn.radiusSegments,l=Xn.bendSegments,c=Xn.bevelOffset,h=Xn.bevelSegments){if(!this._geometry)return;const d={width:t,depth:e,radii:i,height:n,bendAngle:o,radiusSegments:a,bendSegments:l,bevelOffset:c,bevelSegments:h};this._geometry.regenerate(d),super._onSetParameters()}}var Lyt=Object.defineProperty,Ryt=Object.getOwnPropertyDescriptor,au=(s,t,e,i)=>{for(var n=Ryt(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&Lyt(t,e,n),n};class ih extends Ra{constructor(t,e=Xn){const i=new Myt(e.width,e.depth,e.radii,e.height,e.bendAngle,e.radiusSegments,e.bendSegments,e.bevelOffset,e.bevelSegments);super(t,L.PLANE,i),this._base=i}setParameters(t){const{width:e,depth:i,radii:n,height:o,bendAngle:a,radiusSegments:l,bendSegments:c,bevelOffset:h,bevelSegments:d}=t;this._base.setParameters(e,i,n,o,a,l,c,h,d)}get parameters(){return this.entity.sceneObject.parameters}setSize(t){this.parameters.width=t.x,this.parameters.height=t.y,this.parameters.depth=t.z}applyScale({x:t,y:e,z:i}){this.parameters.width*=t,this.parameters.height*=e,this.parameters.depth*=i;const n=Math.min(t,i),o=Math.min(this.parameters.width,this.parameters.depth)/2,{tl:a,tr:l,br:c,bl:h}=this.parameters.radii,d=[a,l,c,h];for(let u=0;u<d.length;u++)d[u]*=n,d[u]=Math.min(d[u],o);this.parameters.radii={tl:d[0],tr:d[1],br:d[3],bl:d[2]}}get maxCornerRadius(){const t=this.constrainedBevelOffset*2,e=this.parameters.width-t,i=this.parameters.depth-t;return Math.min(e,i)/2}get constrainedRadii(){const{tl:t,tr:e,br:i,bl:n}=this.parameters.radii,o=[t,e,i,n],a=this.maxCornerRadius;for(let l=0;l<o.length;l++)o[l]=Math.min(o[l],a);return{tl:o[0],tr:o[1],br:o[2],bl:o[3]}}get maxBevelOffset(){return Math.min(this.parameters.width,this.parameters.height,this.parameters.depth)/2}get constrainedBevelOffset(){const{bevelOffset:t}=this.parameters;return Math.min(this.maxBevelOffset,t)}get boundingBox(){const t=this._boundingBoxCache.get(),{width:e,height:i,depth:n}=this.parameters,o=e/2,a=n/2;return t.min.set(-o,0,-a),t.max.set(o,i,a),t}get boundingSphere(){const t=this._boundingSphereCache.get();return this.boundingBox.getBoundingSphere(t),t}watch(){this.disposableReactions.push(rt(()=>{const{parameters:t}=this;this._base.setParameters(t.width,t.depth,this.constrainedRadii,t.height,t.bendAngle,t.radiusSegments,t.bendSegments,this.constrainedBevelOffset,t.bevelSegments),Jt(()=>{this.geometry=this._base,this.entity.sceneObject.lastGeometryUpdated=Date.now(),this.entity.highlightComponent.update(),this._boundingBoxRevision++})}))}setBaseGeometry(t){this._base=t,this.entity.sceneObject.lastGeometryUpdated=Date.now()}}au([M],ih.prototype,"parameters");au([Ui],ih.prototype,"setSize");au([E],ih.prototype,"applyScale");au([M],ih.prototype,"maxCornerRadius");au([M({equals:ja.structural})],ih.prototype,"constrainedRadii");au([M],ih.prototype,"maxBevelOffset");au([M],ih.prototype,"constrainedBevelOffset");au([Ui],ih.prototype,"boundingBox");au([Ui],ih.prototype,"boundingSphere");au([Ui],ih.prototype,"setBaseGeometry");var Xk=Object.defineProperty,Nyt=Object.getOwnPropertyDescriptor,jyt=(s,t,e)=>t in s?Xk(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,W_=(s,t,e,i)=>{for(var n=i>1?void 0:i?Nyt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&Xk(t,e,n),n},YE=(s,t,e)=>(jyt(s,typeof t!="symbol"?t+"":t,e),e);class C1{constructor(t,e,i){this._scene=t,this.signals=e,this.viewportController=i,YE(this,"_hdrEnvMap",null),YE(this,"_notifyHDRLightingLoading",!1),YE(this,"_lastHDRSettings",{...WN}),vt(this)}get background(){return this._scene.background}get notifyHDRLightingLoading(){return this._notifyHDRLightingLoading}set notifyHDRLightingLoading(t){this._notifyHDRLightingLoading=t}get finalTexture(){return!this.background.isVisible||this.background.parameters.type!==ln.ENVIRONMENT?null:this._hdrEnvMap}setBackground(t){this._scene.background=t}get hdrEnvMap(){return this._hdrEnvMap}async applyNewHDRLightingSettings(t,e){if(this._lastHDRSettings.imageURL!==t.imageURL||this._hdrEnvMap==null){const i=Hr({text:"Updating HDRI...",options:{autoHide:!1}},{text:"Updated HDRI"},null,!1);this.notifyHDRLightingLoading&&i.load();const n=n7(t.fileExtension),o=await xs(t.imageURL);if(o){let a;try{a=await n.loadAsync(o)}catch(l){console.error("Error loading HDR image",l);return}a.mapping=Uy,a.colorSpace=Oa,a.rotation=1,this._hdrEnvMap=await this._generateAndSetRendererEnvironment(a,!0,t.isEnabled,e),this.signals.object.sceneGraphChanged.dispatch(),this.notifyHDRLightingLoading&&(i.success(),this.notifyHDRLightingLoading=!1)}}this._lastHDRSettings={...t}}async _generateAndSetRendererEnvironment(t,e,i,n){var a;n==null&&await If(()=>this.viewportController.mainViewport!=null);const o=n==null?this.viewportController.viewports:[n];for(const l of o){if(!l)continue;const c=new qx(l.renderer);c.compileEquirectangularShader();const h=t?c.fromEquirectangular(t).texture:null;c.dispose(),e&&(l.mainScene.environment=i?h:null),c.dispose()}return((a=this.viewportController.mainViewport)==null?void 0:a.mainScene.environment)??null}}W_([V],C1.prototype,"_hdrEnvMap",2);W_([M],C1.prototype,"background",1);W_([M],C1.prototype,"finalTexture",1);W_([E],C1.prototype,"setBackground",1);W_([M],C1.prototype,"hdrEnvMap",1);W_([E],C1.prototype,"applyNewHDRLightingSettings",1);var Dyt=Object.defineProperty,Fyt=(s,t,e)=>t in s?Dyt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Byt=(s,t,e)=>(Fyt(s,t+"",e),e);class T6 extends Im{constructor(t){super(t),Byt(this,"_disposable",new Zt),this._addSignalBindings()}get entityId(){return ci}getDefaultTargetEntityIds(){return[]}dispose(){super.dispose()}_addSignalBindings(){const t=ob.interactions.add(e=>{if((e==null?void 0:e.action)===P.INTERACTIONS&&(e==null?void 0:e.selection)!=null){for(const i of e.selection)if(em(i))for(const[n,{trigger:o,animations:a}]of i.entries)o.type===te.AUTO?Object.keys(a).some(h=>this.timelineIndicesByAnimationId[h]==null)&&this.addTimelineIndicesForAnimations(a):this._removeTimelineIndicesForAnimations(a)}});this._disposable.add(new tt(()=>{t.detach()}))}}class kyt extends Ke{constructor(t){super(t,i=>i.ambientLight??void 0,(i,n)=>i.ambientLight=n);const e=new oi;this._proxies.push(e)}get isEnabled(){return this.get("isEnabled")??on.ambientLight.isEnabled}set isEnabled(t){this.set("isEnabled",t)}get color(){return this.get("color")??on.ambientLight.color}set color(t){this.set("color",t)}get intensity(){return this.get("intensity")??on.ambientLight.intensity}set intensity(t){this.set("intensity",t)}}class Gyt extends Ke{constructor(t){super(t,i=>i.hdrLighting??void 0,(i,n)=>i.hdrLighting=n);const e=new oi;this._proxies.push(e)}get isEnabled(){return this.get("isEnabled")??on.hdrLighting.isEnabled}set isEnabled(t){this.set("isEnabled",t)}get imageURL(){return this.get("imageURL")??on.hdrLighting.imageURL}set imageURL(t){this.set("imageURL",t)}get previewURL(){return this.get("previewURL")??on.hdrLighting.previewURL}set previewURL(t){this.set("previewURL",t)}get fileExtension(){return this.get("fileExtension")??on.hdrLighting.fileExtension}set fileExtension(t){this.set("fileExtension",t)}get name(){return this.get("name")??on.hdrLighting.name}set name(t){this.set("name",t)}get intensity(){return this.get("intensity")??on.hdrLighting.intensity}set intensity(t){this.set("intensity",t)}get rotation(){return this.get("rotation")??on.hdrLighting.rotation}set rotation(t){this.set("rotation",t)}}var Zk=Object.defineProperty,Vyt=Object.getOwnPropertyDescriptor,Hyt=(s,t,e)=>t in s?Zk(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Uyt=(s,t,e,i)=>{for(var n=Vyt(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&Zk(t,e,n),n},zyt=(s,t,e)=>(Hyt(s,t+"",e),e);class WP extends Ke{constructor(t){super(t,i=>{var n;return((n=i.background)==null?void 0:n.parameters)??void 0},(i,n)=>{const o=i.background==null?{parameters:{}}:{...hs(i.background)};o.parameters=n,i.background=o}),this.baseScene=t;const e=new oi;this._proxies.push(e)}get type(){return this.get("type")}}class XP extends Ke{constructor(t){super(t,i=>{var n;return((n=i.background)==null?void 0:n.parameters)??void 0},(i,n)=>{const o=i.background==null?{}:{...hs(i.background)};o.parameters=n,i.background=o}),this.baseScene=t;const e=new oi;this._proxies.push(e)}get type(){return this.get("type")}get color(){return this.get("color")}set color(t){this.set("color",t)}get opacity(){return this.get("opacity")}set opacity(t){this.set("opacity",t)}}class Kk extends Ke{constructor(t){super(t,i=>i.background??void 0,(i,n)=>i.background=n),zyt(this,"_parameters"),this._parameters=this._buildParameters(t.background.parameters.type);const e=new oi;this._proxies.push(e),vt(this)}get isVisible(){return this.get("isVisible")}set isVisible(t){this.set("isVisible",t)}get shouldShowInAR(){return this.get("shouldShowInAR")}set shouldShowInAR(t){this.set("shouldShowInAR",t)}get parameters(){const t=this._parameters.type;return(t===ln.COLOR&&this._parameters instanceof WP||t===ln.ENVIRONMENT&&this._parameters instanceof XP)&&(this._parameters=this._buildParameters(t)),this._parameters}set parameters(t){t.type!==this._parameters.type&&(this._parameters=this._buildParameters(t.type)),this._parameters.copy(t)}_buildParameters(t){return t===ln.COLOR?new XP(this._baseObject):new WP(this._baseObject)}}Uyt([M],Kk.prototype,"parameters");var qk=Object.defineProperty,Yyt=Object.getOwnPropertyDescriptor,Wyt=(s,t,e)=>t in s?qk(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,pr=(s,t,e,i)=>{for(var n=i>1?void 0:i?Yyt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&qk(t,e,n),n},WE=(s,t,e)=>(Wyt(s,typeof t!="symbol"?t+"":t,e),e);class Xo extends Ke{constructor(t){super(t,i=>i),WE(this,"_ambientLight"),WE(this,"_hdrLighting"),WE(this,"_background"),this._ambientLight=new kyt(this._baseObject),this._hdrLighting=new Gyt(this._baseObject),this._background=new Kk(this._baseObject);const e=new oi;this._proxies.push(e),vt(this)}get lastVersion(){return this._baseObject.lastVersion}set lastVersion(t){this._baseObject.lastVersion=t}get activeState(){return this._baseObject.activeState??null}set activeState(t){this._baseObject.activeState=t}get states(){return this._baseObject.states??{}}get startState(){return this._baseObject.startState}set startState(t){this._baseObject.startState=t}get interactions(){return this._baseObject.interactions??{}}set interactions(t){t!=null&&(this._baseObject.interactions=t)}get units(){return this._baseObject.units}set units(t){this._baseObject.units=t}get spawn(){return this._baseObject.spawn}set spawn(t){this._baseObject.spawn=t}get showBookmarks(){return this._baseObject.showBookmarks}set showBookmarks(t){this._baseObject.showBookmarks=t}get entityId(){return ci}get fog(){return this.get("fog")}set fog(t){this.set("fog",t)}get background(){return this._background}set background(t){this._background.copy(t)}get hdrLighting(){return this._hdrLighting}set hdrLighting(t){this._hdrLighting.copy(t)}get ambientLight(){return this._ambientLight}get _metadata(){return this._baseObject._metadata}set _metadata(t){this._baseObject._metadata=t}set ambientLight(t){this._ambientLight.copy(t)}setTemporaryState(t=an){if(this.activeState===t)return;let e;this.activeState?e=hs(this.states[this.activeState]):(e=hs(this.base()),e.interactions={},e.states={},e._metadata={});const i=No({...e,name:t});this.states[t]=i,this.activeState=t}}pr([V],Xo.prototype,"_ambientLight",2);pr([V],Xo.prototype,"_hdrLighting",2);pr([V],Xo.prototype,"_background",2);pr([M],Xo.prototype,"lastVersion",1);pr([M],Xo.prototype,"activeState",1);pr([M],Xo.prototype,"states",1);pr([M],Xo.prototype,"startState",1);pr([M],Xo.prototype,"interactions",1);pr([M],Xo.prototype,"units",1);pr([M],Xo.prototype,"spawn",1);pr([M],Xo.prototype,"showBookmarks",1);pr([M],Xo.prototype,"entityId",1);pr([M],Xo.prototype,"fog",1);pr([M],Xo.prototype,"background",1);pr([M],Xo.prototype,"hdrLighting",1);pr([M],Xo.prototype,"ambientLight",1);pr([M],Xo.prototype,"_metadata",1);pr([E],Xo.prototype,"setTemporaryState",1);const Xyt={name:"State"};class Qk extends cr{constructor(t){super(t),this._rewatch()}get entityId(){return ci}_copyLastState(t,e){let i={...Xyt};if(this.stateId!=null){const n=e??this.stateId,o=this._states.get(n);i=Ag.cloneDeep(o)}return i}_copyFrameStates(t,e){}_rewatch(){this.dispose(),this.watch()}}var Jk=Object.defineProperty,Zyt=Object.getOwnPropertyDescriptor,Kyt=(s,t,e)=>t in s?Jk(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,w1=(s,t,e,i)=>{for(var n=i>1?void 0:i?Zyt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&Jk(t,e,n),n},g2=(s,t,e)=>(Kyt(s,typeof t!="symbol"?t+"":t,e),e);class Nm extends mN{constructor(t,e){super(),this.editor=e,g2(this,"_proxy"),g2(this,"states"),g2(this,"interactions"),g2(this,"_environment"),this._proxy=new Xo(t),this.states=new Qk(this),this.interactions=new T6(this),this._environment=new C1(this.scene,e.signals,e.viewportController),vt(this),this._rewatch()}get environment(){return this._environment}get finalOpacity(){return!this.scene.background.isVisible||this.scene.background.parameters.type===ln.ENVIRONMENT?0:this.scene.background.parameters.opacity}get hdrLighting(){return this._proxy.hdrLighting}get scene(){return this._proxy}get proxy(){return this._proxy}get base(){return this.scene.base()}get mainViewport(){return this.editor.viewportController.mainViewport??null}setHDRLighting(t){this.scene.hdrLighting=t}setBackground(t){this.scene.background=t}get statesCount(){return Object.keys(this.states).length}setStates(t,e){this.states.removeAll();for(const[i,n]of Object.entries(t))this.states.setState(i,n);this.states.setActiveState(e??null)}setMetadata(t){const e=t.states??{};for(const[i,n]of Object.entries(e))this.states.setStateMetadata(i,n)}watch(){this.disposableReactions.push(Gn(()=>this.scene==null?null:this.scene.hdrLighting.imageURL,async t=>{this.scene!=null&&await this._environment.applyNewHDRLightingSettings(this.scene.hdrLighting)},{fireImmediately:!0})),this.disposableReactions.push(Gn(()=>this.scene.hdrLighting.activeValues(),()=>{this.editor.signals.scene.hdrLightingUpdated.dispatch({hdrLighting:this.scene.hdrLighting})},{fireImmediately:!0}))}_rewatch(){this.dispose(),this.watch()}}w1([V],Nm.prototype,"_proxy",2);w1([V],Nm.prototype,"states",2);w1([V],Nm.prototype,"interactions",2);w1([M],Nm.prototype,"finalOpacity",1);w1([M],Nm.prototype,"hdrLighting",1);w1([E],Nm.prototype,"setHDRLighting",1);w1([E],Nm.prototype,"setBackground",1);var Ix;(s=>{function t(i){switch(i){case rn.XZ:return to.clone();case rn.XY:return ul.clone();case rn.YZ:return Mn.clone()}}s.axesToNormal=t;function e(i){switch(i){case rn.XZ:return new ls().set(0,0,0);case rn.XY:return new ls().set(Math.PI/2,0,0);case rn.YZ:return new ls().set(0,0,Math.PI/2)}}s.axesToEuler=e})(Ix||(Ix={}));const qyt={[L.UNSUPPORTED]:yc,[L.PLANE]:yQ,[L.SPHERE]:uQ,[L.BOX]:l5,[L.CYLINDER]:hQ,[L.CONE]:pQ,[L.HUMAN]:gQ,[L.SHAPE]:yc,[L.IMAGE]:GI,[L.MODEL]:yc,[L.MODEL_ANIMATED]:_Q,[L.OBJMODEL]:yc,[L.FBXMODEL]:yc,[L.STLMODEL]:yc,[L.STEPMODEL]:yc,[L.JSONOBJECT]:yc,[L.GROUP]:lQ,[L.FRAME]:SR,[L.AMBIENT_LIGHT]:yc,[L.POINT_LIGHT]:VR,[L.AREA_LIGHT]:v$,[L.SPOT_LIGHT]:b$,[L.DIRECTIONAL_LIGHT]:w$,[L.BOOLEAN]:yc,[L.TEXT]:zQ,[L.CURVE]:TQ,[L.CAMERA]:PQ,[L.XRRIG]:q$,[L.HEAD]:$$,[L.HAND]:yc,[L.FINGER]:yc,[L.GAMEPAD]:Kw,[L.AUDIO]:c5};function cb(s){return qyt[s]}const Qyt={[L.UNSUPPORTED]:"Unsupported",[L.PLANE]:"Plane",[L.SPHERE]:"Sphere",[L.BOX]:"Box",[L.CYLINDER]:"Cylinder",[L.CONE]:"Cone",[L.HUMAN]:"Human",[L.SHAPE]:"Shape",[L.IMAGE]:"Image",[L.MODEL]:"Model",[L.MODEL_ANIMATED]:"Animated model",[L.OBJMODEL]:"Obj model",[L.FBXMODEL]:"Fbx model",[L.STLMODEL]:"Stl model",[L.STEPMODEL]:"Step model",[L.JSONOBJECT]:"Json object",[L.GROUP]:"Group",[L.FRAME]:"Frame",[L.AMBIENT_LIGHT]:"Ambient light",[L.POINT_LIGHT]:"Point light",[L.AREA_LIGHT]:"Area light",[L.SPOT_LIGHT]:"Spot light",[L.DIRECTIONAL_LIGHT]:"Directional light",[L.BOOLEAN]:"Boolean",[L.TEXT]:"Text",[L.CURVE]:"Curve",[L.CAMERA]:"Camera",[L.XRRIG]:"Body rig",[L.HEAD]:"Head",[L.HAND]:"Hand",[L.FINGER]:"Finger",[L.GAMEPAD]:"Inputs",[L.AUDIO]:"Audio"};function hb(s){return Qyt[s]}var $k=Object.defineProperty,Jyt=Object.getOwnPropertyDescriptor,$yt=(s,t,e)=>t in s?$k(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,jm=(s,t,e,i)=>{for(var n=i>1?void 0:i?Jyt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&$k(t,e,n),n},gp=(s,t,e)=>($yt(s,typeof t!="symbol"?t+"":t,e),e);class hl extends Es{constructor(t,e){super(t),gp(this,"type",pt.Geometry),gp(this,"objectType",L.SHAPE),gp(this,"geometry",null),gp(this,"lastGeometryUpdated"),gp(this,"_base",null),gp(this,"_boundingBoxRevision",0),gp(this,"_boundingBoxCache",new Qr),gp(this,"_boundingSphereCache",new Jr),e&&(this._base=e,this.geometry=this._base.clone()),this.lastGeometryUpdated=t.sceneObject.lastGeometryUpdated,vt(this)}get base(){return this._base}get boundingBoxRevision(){return this._boundingBoxRevision}get boundingBox(){const t=this._boundingBoxCache.get();return this.entity.sceneObject,this.entity.sceneObject.assetVersion,this._base&&(this._base.boundingBox||this._base.computeBoundingBox(),t.copy(this._base.boundingBox)),t}get boundingSphere(){const t=this._boundingSphereCache.get();return this.entity.sceneObject,this.entity.sceneObject.assetVersion,this._base&&(this._base.boundingSphere||this._base.computeBoundingSphere(),t.copy(this._base.boundingSphere)),t}watch(){this.disposableReactions.push(rt(()=>{this._setGeometry(this.entity.sceneObject.urlKey)}),rt(()=>{this._updateGeometry(this.entity.sceneObject.lastGeometryUpdated)}))}async _setGeometry(t){if(!t)return;const e=await xs(t);if(e)try{const n=await new Hw().loadAsync(e);Jt(()=>{this._base=n,this.geometry=this._base.clone();const o=Date.now();this.lastGeometryUpdated=o,this.entity.sceneObject.lastGeometryUpdated=o,this.entity.highlightComponent.update(),this._boundingBoxRevision++})}catch(i){console.error(i);return}}async _updateGeometry(t){if(this.lastGeometryUpdated===t)return;this.lastGeometryUpdated=t;const e=this.entity.sceneObject.urlKey;if(e==null)return;const i=await xs(e);if(i)try{const o=await new Hw().loadAsync(i);Jt(()=>{this._base=o,this.entity.highlightComponent.update(),this._boundingBoxRevision++})}catch{console.warn("failure in _updateGeometry",e);return}}setBaseGeometry(t){this._base=t;const e=Date.now();this.lastGeometryUpdated=e,this.entity.sceneObject.lastGeometryUpdated=e}dispose(){var t,e;super.dispose(),(t=this.base)==null||t.dispose(),(e=this.geometry)==null||e.dispose()}}jm([V],hl.prototype,"geometry",2);jm([V],hl.prototype,"lastGeometryUpdated",2);jm([V],hl.prototype,"_base",2);jm([V],hl.prototype,"_boundingBoxRevision",2);jm([M],hl.prototype,"boundingBox",1);jm([M],hl.prototype,"boundingSphere",1);jm([E],hl.prototype,"_setGeometry",1);jm([E],hl.prototype,"_updateGeometry",1);var Kp;(s=>{function t(b,C=" "){let x=!1,I=1;for(const O of b){const T=O.split(C),D=Number(T.pop());x=x||!!D,I=Math.max(D||1,I)}return x?I:null}s.getHighestSuffix=t;function e(b,C=" "){const I=b.split(C).pop();return I==null?null:Number(I)}s.getNumberAfterSeparator=e;function i(b,C=" "){const x=b.split(C);return Number(x.pop())?x.join(C):b}s.getNameWithoutSuffix=i;function n(b,C,x=" "){return C.filter(O=>i(O,x)===b)}s.getMatchingNames=n;function o(b,C,x=" "){const I=i(b,x);if(b!==I&&C.length===0)return b;const O=n(I,C,x);let T=t(O,x);const D=e(b,x);if(T==null&&(T=0),D&&!O.includes(b))return b;const B=T+1;return I+x+B.toString()}s.getNextAvailableName=o;function a(b,C=" "){const x=b.split(C),I=Number(x.pop()),O=I?x.join(C):b,T=I?I+1:1;return O+C+T.toString()}s.getNextIndexName=a;function l(b){const C=/[^a-zA-Z0-9_]/,x=b.search(C);return x===-1?b.length:x}s.findFirstAlphanumericIndex=l;function c(b){const C=d(b),x=l(C);return b.length-x}s.findLastAlphanumericIndex=c;function h(b,C){const x=u(b,C),I=c(x),O=f(b,C),T=l(O)+C;return[I,T]}s.findWordBounds=h;function d(b){return b.split("").reverse().join("")}s.reverseString=d;function u(b,C){return b.slice(0,C)}s.getPrefix=u;function f(b,C){return b.slice(C)}s.getSuffix=f;function p(b,C=/^\s+/){const I=d(b).match(C);return I?b.length-I[0].length:b.length}s.getLastConsecutiveIndex=p;function g(b,C=/^\s+/){const x=b.match(C);return x?x[0].length:0}s.getFirstConsecutiveIndex=g;function _(b,C){const x=u(b,C),I=p(x),O=f(b,C),T=g(O)+C;return[I,T]}s.getWhitespaceBounds=_;function v(b){const C=b.indexOf(`
`);return C===-1?b.length:C}s.getFirstNewlineIndex=v;function y(b,C){const I=u(b,C).lastIndexOf(`
`)+1,O=f(b,C),T=v(O)+C;return[I,T]}s.getParagraphBounds=y})(Kp||(Kp={}));var tbt=Object.defineProperty,ebt=(s,t,e)=>t in s?tbt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,kA=(s,t,e)=>(ebt(s,typeof t!="symbol"?t+"":t,e),e),Ax=(s=>(s.MeshEdit="meshEditDatabase",s))(Ax||{});const i3=class tf{static deleteDb(){window.indexedDB!=null&&indexedDB.deleteDatabase("meshEditDatabase")}static openDb(){if(window.indexedDB==null)return;const t=indexedDB.open("meshEditDatabase",Date.now());t.onsuccess=function(){tf._db=this.result},t.onerror=function(e){console.warn("Local storage db error:",e.target.errorCode)},t.onupgradeneeded=function(e){e.currentTarget.result.objectStoreNames.contains("meshEditDatabase")||(tf._objectStore=e.currentTarget.result.createObjectStore("meshEditDatabase",{keyPath:"objectId",autoIncrement:!1}),tf._objectStore.createIndex("objectId","objectId",{unique:!0}))},tf._fallbackDb={}}static addOrUpdateObject(t,e,i,n){const o=this.objectKey(e,n);try{tf._db.transaction(t,"readwrite").objectStore(t).put({objectId:o,object:i})}catch(a){console.warn("Storing in indexedDb failed, store in fallbackDb.",a),tf._fallbackDb[o]=i}}static getObject(t,e,i,n){const o=this.objectKey(e,i);try{const c=tf._db.transaction(t,"readwrite").objectStore(t).index("objectId").get(o);c.onsuccess=h=>{var d;n((d=h.target.result)==null?void 0:d.object)}}catch(a){console.warn("Getting from indexedDb failed, get from fallbackDb.",a);const l=tf._fallbackDb[o];l&&n(l)}}static objectKey(t,e){return`${t}_${e}`}};kA(i3,"_db");kA(i3,"_objectStore");kA(i3,"_fallbackDb");let db=i3;function sbt(){db.deleteDb(),db.openDb()}sbt();function Ny(s,t,e){if(!(t in s)){s[t]=e;return}if(Array.isArray(e))s[t]=[...e];else if(typeof e=="object"&&e!=null){const i=s[t],n=bo.isObject(i)?Object.keys(i):[],o=new Set(Object.keys(e));for(const a of n)o.has(a)||delete s[t][a];for(const a of o)Ny(i,a,e[a])}else s[t]=e}function ibt(s,t,e,i){if(!(t in s)){s[t]=e;return}if(Array.isArray(e))s[t]=[...e];else if(typeof e=="object"&&e!=null){const n=s[t],o=new Set(Object.keys(s[t])),a=new Set(Object.keys(e));for(const l of o)a.has(l)||delete n[l];for(const l of a)tG(n,l,e[l])}else s[t]=e}function tG(s,t,e,i){if(!(t in s)){s[t]=e;return}if(Array.isArray(e))s[t]=[...e];else if(typeof e=="object"&&e!=null)if(typeof s[t]=="string")s[t]={...e};else{const n=s[t],o=new Set(Object.keys(e));for(const a of o)tG(n,a,e[a])}else s[t]=e}function XE(s,t,e,i){s[t]=e;const{isInstance:n,overrides:o}=i.sceneObject;if(!(n&&o&&t in o))return;let l;if(Array.isArray(e))l=[...e];else if(typeof e=="object"&&e!=null){const c=o[t];l=Object.keys(e).reduce((d,u)=>(u in c&&c[u]!==e[u]&&(d[u]=e[u]),d),{})}else l=e;o[t]=l}function P6(s,t,e,i){if(t in s)if(Array.isArray(e))XE(s,t,[...e],i);else if(typeof e=="object"&&e!=null){const n={...s[t]};for(const[o,a]of Object.entries(e))P6(n,o,a,i);XE(s,t,{...n},i)}else t==="lastGeometryUpdated"?db.getObject(Ax.MeshEdit,i.id,e,n=>obt(i,n)):XE(s,t,e,i)}function ZP(s,t){const e=new Set(s);return t.forEach(i=>{e.delete(i)}),e}const nbt=["states","colliders","behaviors","sounds"];function Tx(s,t,e,i,n,o=null){return Jt(async()=>{const a=i.data,l=o==null?void 0:o.data;if(a.objects){const c=[],h=new Set;if(l&&l.objects){const u=new Set(Object.keys(l.objects)),f=new Set(Object.keys(a.objects)),p=ZP(u,f),g=ZP(f,u);for(const v of p)s.removeObjectFromData(v,!1),D5(v);for(const v of g)if(a.objects){const y={...a.objects[v],...n,ttl:0};s.addObjectFromData(y),c.push(y),h.add(v)}const _=g;t.signals.restoreDeletedObjects.dispatch({action:P.RESTORE_DELETED,ids:_})}const d=new Map;for(const[u,f]of Object.entries(a.objects)){if(h.has(u))continue;const p=s.getSceneEntityById(u);if(p==null)continue;const g=p.sceneObject.base();for(const[v,y]of Object.entries(f)){if(v==="interactions"||v==="overrides"){Ny(g,v,y);continue}if(nbt.includes(v)){ibt(g,v,y);continue}v==="parent"&&s.removeFromParent(p),P6(g,v,y,p),v==="parent"&&s.attachToParentFromData(g),v==="index"&&s.reorderFromData(p)}const _={...g,...n};c.push(_),p.compo.isComponentEntity&&d.set(p,Object.keys(f)),f.isInstance&&f.assetSource!=null&&s.componentsController.registerInstance(p.id,f.assetSource)}for(const{asset:u,name:f}of c)u&&qc({id:ym(u),name:f},s.assetController);await Ws(c)}if(a.materials){const c=[],h=[];for(const[d,u]of Object.entries(a.materials)){const f=s.getSceneEntityById(d),p=f==null?void 0:f.getComponentByType(pt.Material);if(f==null||p==null)continue;const g=f.sceneObject.base(),{materialModel:_}=p.material;for(const[y,b]of Object.entries(u))y==="advancedEffects"?p.advancedEffects=b:P6(p,y,b,f);if(!p.material.hasCurrentPropertiesSetFromState){const{id:y,name:b,team:C,file:x,data:I}=_,O={id:y,name:b,team:C,file:x,data:JSON.stringify(I),lastWriter:n.lastWriter};c.push(O)}const v={...g,...n};h.push(v)}await Ws(h),await Vb(c)}a.background!=null&&s.setBackground(a.background),a.fog!=null&&s.setFogFromData(a.fog),a.ambientLight!=null&&s.setAmbientLightFromData(a.ambientLight),a.hdrLighting!=null&&s.setHDRLighting(a.hdrLighting),a.units!=null&&s.setUnitsFromData(a.units),a.spawn&&s.setSpawnPointFromData(a.spawn),a.states!=null&&s.statefulScene.setStates(a.states),a._metadata!=null&&s.statefulScene.setMetadata(a._metadata),a.interactions!=null&&(s.scene.interactions=a.interactions,s.statefulScene.interactions.setInteractions(a.interactions)),a.startState!==void 0&&s.statefulScene.states.setStartState(a.startState),a.activeState!==void 0&&s.statefulScene.states.setActiveState(a.activeState),a.comments!=null&&e.history.commentChanged.dispatch({comments:a.comments}),t.signals.undoHistorySubmitted.dispatch({action:P.UNDO})}),!0}function obt(s,t){const e=s.getComponent(Wi);if(e==null||t==null)return;const n=new Hw().parse(t);e.setGeometry(n);const o=s.sceneObject.urlKey;if(!o)return;const a=$0(t);ks(o,a)}function O6(s,t,e,i){if(i&&t in i)if(Array.isArray(e))s[t]=[...i[t]];else if(typeof e=="object"&&e!=null){const n={...s[t]};for(const[o,a]of Object.entries(e))O6(n,o,a,i[t]);s[t]={...n}}else s[t]=i[t]}function Px(s,t){var n;const e={data:{}};t.selection&&(e.selection=t.selection);const i=t.data;if(i.objects){e.data.objects={};for(const[o,a]of Object.entries(i.objects)){const l={...i.objects[o]},c=s.getSceneEntityById(o);if(c!=null){for(const[h,d]of Object.entries(a))h!=="material"&&h!=="lastGeometryUpdated"&&O6(l,h,d,c.sceneObject);e.data.objects[o]={...l}}}}if(i.materials){e.data.materials={};for(const[o,a]of Object.entries(i.materials)){const l={...i.materials[o]},c=(n=s.getSceneEntityById(o))==null?void 0:n.getComponent(_e);if(c!=null){for(const[h,d]of Object.entries(a))O6(l,h,d,c);e.data.materials[o]={...l}}}}return i.background!==void 0&&(e.data.background=i.background),i.fog!==void 0&&(e.data.fog=i.fog),i.ambientLight!==void 0&&(e.data.ambientLight={...i.ambientLight}),i.units!==void 0&&(e.data.units=i.units),i.spawn!==void 0&&(e.data.spawn=i.spawn),i.states!==void 0&&(e.data.states=i.states),i.interactions!==void 0&&(e.data.interactions=i.interactions),i._metadata!==void 0&&(e.data._metadata=i._metadata),i.activeState!==void 0&&(e.data.activeState=i.activeState),i.startState!==void 0&&(e.data.startState=i.startState),i.comments!==void 0&&(e.data.comments=i.comments),e}const rbt=new Set(["id","name","states","activeState","startState","collapsed","lastUpdated","lastWriter","interactions","colliders"]);function Jl(s,t,e=[],i=[]){var a;const n={data:{...e.length>0&&{objects:{}},...i.length>0&&{materials:{}}}};let o=!1;for(const l of e)if(rbt.has(l)){o=!0;break}for(const l of t){const c=s.getSceneEntityById(l);if(!c){console.error("No Entity for id",l);continue}const h=c.sceneObject.base(),d=c.getComponent(_e);if(!h)continue;const u=h.activeState;if(c.isPartOfFrame&&!u&&!o){const p=(a=c.getComponent(Uh))==null?void 0:a.firstMaybeStatefulFrameAncestor.entity.sceneObject.activeState;if(p){cbt(n,p,l,h,e,d,i);continue}}u==null||o===!0?abt(n,l,h,e,d,i):lbt(n,u,l,h,e,d,i)}return n}function abt(s,t,e,i=[],n,o=[]){let a;if(i.length>0&&s.data.objects){s.data.objects[t]={};for(const l of i){a=e[l];const{isInstance:c,overrides:h}=e;if(c&&h&&l in h&&l!=="material"){const u=h[l];Array.isArray(a)?a=[...u]:bo.isObject(a)?a={...a,...u}:a=u}l_(s.data.objects[t],l,a)}}if(o.length>0&&n&&s.data.materials){s.data.materials[t]={};for(const l of o)a=n[l],l_(s.data.materials[t],l,a)}}function lbt(s,t,e,i,n=[],o,a=[]){let l;if(n.length>0&&s.data.objects){const c={};s.data.objects[e]={states:{...i.states,[t]:c}};for(const h of n)l=i.states[t]?i.states[t][h]:null,(l==null||typeof l=="object"&&Object.keys(l).length===0)&&(l=i[h]),l_(c,h,l)}if(a.length>0&&o&&s.data.materials){s.data.materials[e]={};for(const c of a)l=o[c],l_(s.data.materials[e],c,l)}}function cbt(s,t,e,i,n=[],o,a=[]){let l;if(n.length>0&&s.data.objects){const c={};s.data.objects[e]={frameStates:{[t]:c}};for(const h of n)i.frameStates?l=i.frameStates[t]?i.frameStates[t][h]:null:l=null,(l==null||typeof l=="object"&&Object.keys(l).length===0)&&(l=i[h]),l_(c,h,l)}if(a.length>0&&o&&s.data.materials){s.data.materials[e]={};for(const c of a)l=o[c],l_(s.data.materials[e],c,l)}}function l_(s,t,e){t==="parameters"?s[t]=e.isProxy?{...e.baseValues()}:{...hs(e)}:t==="advancedEffects"?s[t]=e.isProxy?{...e.toJSON()}:{...e}:Array.isArray(e)?s[t]=[...e]:typeof e=="object"&&e!=null?s[t]={...hs(e)}:s[t]=e}function n1(s,t){const e={data:{objects:{}}};for(const i of t){const n=s.getSceneEntityById(i);if(!n)continue;const o=n.sceneObject;e.data.objects&&(e.data.objects[i]={...o.clone()})}return e}function hbt(s,t){let e=0;for(const i of t){let n=!1;if(i.forThisAndEachChildRecursive(o=>{if(!n){if(o.id===s.id)return n=!0,!0;e++}}),n)break}return e}function dbt(s,t){let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;for(const n of s){let o=0,a=!1;for(const l of t)if(l.forThisAndEachChildRecursive(c=>{if(!a){if(n.id===c.id)return e=Math.min(e,o),i=Math.max(i,o),a=!0,!0;o++}}),a)break}return{min:e,max:i}}const eG=S.literal(L.AREA_LIGHT);go.merge(S.object({type:eG,parameters:O7}));function sG(s){return Ir(s,eG,O7)}const iG=S.literal(L.DIRECTIONAL_LIGHT);go.merge(S.object({type:iG,parameters:N7}));function nG(s){return Ir(s,iG,N7)}const oG=S.literal(L.POINT_LIGHT);go.merge(S.object({type:oG,parameters:B7}));function rG(s){return Ir(s,oG,B7)}const aG=S.literal(L.SPOT_LIGHT);go.merge(S.object({type:aG,parameters:V7}));function lG(s){return Ir(s,aG,V7)}const cG=S.literal(L.TEXT);go.merge(S.object({type:cG,parameters:wa}));function hG(s){return Ir(s,cG,wa)}var dG=Object.defineProperty,ubt=Object.getOwnPropertyDescriptor,fbt=(s,t,e)=>t in s?dG(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,X_=(s,t,e,i)=>{for(var n=i>1?void 0:i?ubt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&dG(t,e,n),n},ZE=(s,t,e)=>(fbt(s,typeof t!="symbol"?t+"":t,e),e);class x1{constructor(t,e){this.sceneController=t,this._signals=e,ZE(this,"_objects",[]),ZE(this,"_auxObjects"),ZE(this,"_objectsMap",{}),this._auxObjects=new Map,this.build(),vt(this)}get objects(){return[...this._objects,...this._auxObjects.values()]}get cameras(){return this.sceneController.cameraController.sortedCamerasArray.reduce((t,e)=>{const i=e.entity.getObject3D();return i!=null&&t.push(i),t},[])}getObject3D(t){return this._objectsMap[t]}build(){this._clearObjects(),this._objectsMap={};const t=Object.values(this.sceneController.sceneEntitiesById);for(const e of t){const i=e.getObject3D();if(i==null||(this._objectsMap[e.id]=i,e.parent!=null))continue;const o=e.getLightObject3D();this._addObject(o??i)}this._signals.object.hierarchyChanged.dispatch()}_clearObjects(){this._objects=[]}_addObject(t){if(this._objects.includes(t)){console.warn("Trying to add object that is already in list",t);return}this._objects.push(t)}add(t,e=null){const i=t.getObject3D(),n=t.getLightObject3D();if(!i)return!1;if(this.remove(t),!e)return this._addObject(n??i),!0;const o=e.getObject3D();if(!o)return!1;o.add(n??i)}convertPosition(t,e,i){if(e===i)return;const n=Hi.composeMatrix4(t.position,t.rotation,t.scale);if(e){const o=this.getObject3D(e);o&&n.premultiply(o.matrixWorld.clone())}if(i){const o=this.getObject3D(i);o&&n.multiply(o.matrixWorld.clone().invert())}Hi.decomposeMatrix4(n,t.position,t.rotation,t.scale)}remove(t){const e=t.getLightObject3D()??t.getObject3D();if(e==null)return!1;if(e.parent)e.removeFromParent();else{const i=this._objects.indexOf(e);this._objects.splice(i,1)}return!0}addHelper(t,e){this._auxObjects.set(t,e)}removeHelper(t){this._auxObjects.delete(t)}get exportObjects(){return this._objects}}X_([V],x1.prototype,"_objects",2);X_([M],x1.prototype,"cameras",1);X_([E],x1.prototype,"build",1);X_([E],x1.prototype,"_clearObjects",1);X_([E],x1.prototype,"_addObject",1);X_([E],x1.prototype,"add",1);var uG=Object.defineProperty,pbt=Object.getOwnPropertyDescriptor,mbt=(s,t,e)=>t in s?uG(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,kt=(s,t,e,i)=>{for(var n=i>1?void 0:i?pbt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&uG(t,e,n),n},Yn=(s,t,e)=>(mbt(s,typeof t!="symbol"?t+"":t,e),e);const KE=1e3,fG=[L.PLANE,L.BOX];zs.DEFAULT_UP=vi;class Nt{constructor(t){this.editor=t,Yn(this,"disposable",new Zt),Yn(this,"_fileLoader"),Yn(this,"_coordinateSpace",Xp.LOCAL),Yn(this,"_sceneEntitiesById"),Yn(this,"_sceneEntityHierarchy",[]),Yn(this,"_sceneEntitiesCount",0),Yn(this,"_scene"),Yn(this,"_hierarchy",null),Yn(this,"_cameraController"),Yn(this,"_gamepadController"),Yn(this,"_animationComponents",new Set),Yn(this,"_isMutating",!1),Yn(this,"_excludedObjectKeys",new Set(["collapsed"])),Yn(this,"_removeFieldAwareObjectKeys",new Set(["behaviors","colliders","interactions","sounds"])),Yn(this,"_alignmentScope",Ea.SELECTION),Yn(this,"_prevShapeMap",new Map),Yn(this,"_selectablesNeedsUpdate",!0),Yn(this,"_currentSelectableObjects",new Set),Yn(this,"_shouldDeepSelect",!1),Yn(this,"_rigBodyParts",new Set([L.XRRIG,L.HEAD,L.HAND])),Yn(this,"_behaviorsToUpdate",new Set),Yn(this,"_bodyRigComponent",null),this._scene=new Nm({...on},t),this._sceneEntitiesById={},this._cameraController=new pn(t,this),this._gamepadController=new e3(t,this),this._fileLoader=new qb(this,t.viewportController.mainViewport),this.disposable.add(this._addSignalBindings()),this.disposable.add(new tt(()=>{this.clearSceneEntities()})),vt(this)}dispose(){this.disposable.dispose()}get componentsController(){return this.editor.componentsController}get assetController(){return this.editor.assetController}get materialController(){return this.editor.materialController}get isEditorMode(){return!this.editor.isPlayMode&&!this.editor.isPublishedMode}get hdrLighting(){return this.statefulScene.hdrLighting}get fileLoader(){return this._fileLoader}get showBookmarks(){return this.scene.showBookmarks}get sceneEntitiesById(){return this._sceneEntitiesById}get sceneEntitiesCount(){return this._sceneEntitiesCount}get sceneEntityHierarchy(){return this._sceneEntityHierarchy}get sceneEntitiesByParentId(){return this.computeSceneEntitiesByParentId(Object.values(this.sceneEntitiesById))}computeSceneEntitiesByParentId(t){return t.reduce((e,i)=>{const n=i.parent?i.parent.id:"";return e[n]==null?e[n]=[i]:e[n].push(i),e},{})}get statefulScene(){return this._scene}get scene(){return this.statefulScene.scene}get isAnyCopied(){return!!localStorage.getItem(yf.COPY_CONTENT)}get hierarchy(){return this._hierarchy==null&&(this._hierarchy=new x1(this,this.editor.signals)),this._hierarchy}get cameraController(){return this._cameraController}get gamepadController(){return this._gamepadController}get allInteractionsComponents(){let t=0;const e=Object.values(this.sceneEntitiesById).reduce((i,n)=>{const o=n.interactions;return o.hasInteractions&&i.push(o),t++,i},[]);return this.statefulScene.interactions.hasInteractions&&e.push(this.statefulScene.interactions),this._sceneEntitiesCount=t,e}_addToPerformanceMonitor(t,e=null){const i=this.editor.performanceMonitor;i&&i.registerEntity(t,e)}_removeFromPerformanceMonitor(t){const e=this.editor.performanceMonitor;e&&e.unregisterEntity(t)}init(){}_addSignalBindings(){const{signals:t}=this.editor,e=[];return e.push(t.object.hierarchyNeedsRebuild.add(()=>{this._dispatchChanged()})),e.push(t.object.hierarchyChanged.add(()=>this._selectablesNeedsUpdate=!0)),e.push(t.object.hierarchyChanged.add(()=>this._refreshConstraints())),e.push(t.selection.selectionChanged.add(()=>this._selectablesNeedsUpdate=!0)),e.push(t.selection.selectableTypesChanged.add(()=>this._selectablesNeedsUpdate=!0)),e.push(t.mesher.meshEditModeEntered.add(({meshView:i})=>this.hierarchy.addHelper("mesherView",i.root))),e.push(t.mesher.meshEditModeExited.add(()=>this.hierarchy.removeHelper("mesherView"))),new tt(()=>{for(const i of e)i.detach()})}get coordinateSpace(){return this._coordinateSpace}set coordinateSpace(t){this._coordinateSpace=t}clearSceneEntities(){for(const t of Object.values(this.sceneEntitiesById))t.dispose();this._sceneEntitiesById={},this._sceneEntityHierarchy=[]}toggleSpace(){this.coordinateSpace=this.coordinateSpace===Xp.GLOBAL?Xp.LOCAL:Xp.GLOBAL}toggleVisibility(t,e){this.editor.stateController.recordBefore({action:P.VISIBILITY,selection:t.map(n=>n.transform)});const i=e!==void 0?e:t.some(n=>!n.isVisible);t.forEach(n=>n.isVisible=i),this._selectablesNeedsUpdate=t.length>0,this.editor.stateController.signals.visibility.dispatch({action:P.VISIBILITY,ids:new Set(t.map(n=>n.id))}),this.editor.stateController.recordAfter({action:P.VISIBILITY,selection:t.map(n=>n.transform)})}toggleLock(t,e){this.toggleProperty(t,P.LOCK,i=>i.isLocked,(i,n)=>i.isLocked=n,e)}toggleProperty(t,e,i,n,o){this.editor.stateController.recordBefore({action:e,selection:t.map(l=>l.transform)});const a=o!==void 0?o:t.some(l=>!i(l));t=t.filter(l=>i(l)!==a),t.forEach(l=>n(l,a)),this._selectablesNeedsUpdate=t.length>0,this.editor.stateController.signals.lock.dispatch({action:e,ids:new Set(t.map(l=>l.id))}),this.editor.stateController.recordAfter({action:e,selection:t.map(l=>l.transform)})}hideInverse(t){return this.setPropertyOnOtherEntities(t,P.VISIBILITY,e=>e.isVisible,(e,i)=>e.isVisible=i)}lockInverse(t){return this.setPropertyOnOtherEntities(t,P.LOCK,e=>!e.isLocked,(e,i)=>e.isLocked=!i)}setPropertyOnOtherEntities(t,e,i,n){const o=new Set(t);for(const h of t)h.forEachParent(d=>{o.add(d)}),h.forEachChildRecursive(d=>{i(d)&&o.add(d)});const a=new Set;for(const h of Object.values(this.sceneEntitiesById))!o.has(h)&&i(h)&&a.add(h);const l=[];for(const h of o)i(h)&&l.push(h);for(const h of l)o.delete(h);if(a.size===0&&o.size===0)return this.unsetAll(e,i,n);const c=new Set;this.editor.stateController.recordBefore({action:e});for(const h of a)c.add(h.id),n(h,!1);for(const h of o)c.add(h.id),n(h,!0);this._selectablesNeedsUpdate=a.size>0||o.size>0,this.editor.stateController.signals.lock.dispatch({action:e,ids:c}),this.editor.stateController.recordAfter({action:e})}unhideAll(){this.unsetAll(P.VISIBILITY,t=>t.isVisible,(t,e)=>t.isVisible=e)}unlockAll(){this.unsetAll(P.LOCK,t=>!t.isLocked,(t,e)=>t.isLocked=!e)}unsetAll(t,e,i){this.editor.stateController.recordBefore({action:t});const n=new Set(Object.values(this.sceneEntitiesById)),o=[];for(const l of n)e(l)&&o.push(l);for(const l of o)n.delete(l);const a=new Set;for(const l of n)a.add(l.id),i(l,!0);this._selectablesNeedsUpdate=n.size>0,this.editor.stateController.signals.lock.dispatch({action:t,ids:a}),this.editor.stateController.recordAfter({action:t})}get allItems(){return Object.values(this.sceneEntitiesById)}get itemsWithGeometry(){return Object.values(this.sceneEntitiesById).filter(t=>t.type===L.BOX)}setScene(t){this.scene.copy(t)}addImage(t="Image",e,i,n={x:0,y:0,z:0},o=1){this.editor.stateController.recordBefore({action:P.NEW_IMAGE});const a={...Do};a.type=L.PLANE,a.id=Ht(),a.name=t,a.isScaleLinked=!0;const l=this.editor.fileSettingsController.mmsPerPixel,c=KE/l,h=i!=null&&i.originalHeight&&(i!=null&&i.originalWidth)?(i==null?void 0:i.originalWidth)/(i==null?void 0:i.originalHeight):1,d=(i==null?void 0:i.originalWidth)??e.image.width*h,u=(i==null?void 0:i.originalHeight)??e.image.height,f=d/c,p=u/c;a.parameters={...Xn,width:f,depth:p},a.material=Qh({},this.materialController).id;const g=new Je(this.editor,a),_=new ih(g,a.parameters),v=new _e(g,this.statefulScene.hdrLighting);if(_){g.addComponent(_),v.color="#ffffff",v.lightingModel=ue.Unlit,v.opacity=o,e.colorSpace=Oa,e.flipY=!1,e.generateMipmaps=!0,g.addComponent(v);const b=new Wi(g,v,_);g.addComponent(b);const C=new On(g);g.addComponent(C);const x=new Ta(g);g.addComponent(x)}g.transform.setPosition(n);const y=Ix.axesToEuler(this.editor.fileSettingsController.axes);return g.transform.setRotation({x:y.x,y:y.y,z:y.z}),this.addSceneEntity(g,!0),this.editor.selectionController.selectedCollection.set(g),this.editor.stateController.signals.newImage.dispatch({action:P.NEW_IMAGE,ids:new Set([g.id])}),this.editor.stateController.recordAfter({action:P.NEW_IMAGE}),i!=null&&i.originalHeight&&(i!=null&&i.originalWidth)&&(i.originalWidth,i.originalHeight),v.setTexture(J.COLOR,e),v.setTextureUrlKey(J.COLOR,i),this.editor.stateController.signals.materialMap.dispatch({action:P.MATERIAL_MAP,selection:[v]}),g}_getTopSoundComponentOfEntity(t){const e=t.getComponent(b1);return e?e.soundComponents.values().next().value:null}addSoundToScene(t="Audio",e,i,n={x:0,y:0,z:0}){var h;this.editor.stateController.recordBefore({action:P.NEW_SOUND});const o={...Do},a=Object.assign(o,{id:Ht(),name:t,type:L.AUDIO,isScaleLinked:!0,parameters:{width:1,height:1,depth:1,areDimensionsLinked:!0}}),l=RA.build(this.editor,a,null,{type:nr.STANDARD});l.transform.setPosition(n);const c=Ix.axesToEuler(this.editor.fileSettingsController.axes);l.transform.setRotation({x:c.x,y:c.y,z:c.z}),this.addSceneEntity(l,!1),this.editor.selectionController.selectedCollection.set(l);try{lb.uploadSoundFileAsAsset(t,e,((h=this.editor.fileController.team)==null?void 0:h.id)??"-",this.editor.fileController.id,this.editor.assetController,d=>{if(d){this.editor.soundController.addSoundAssetByUploadedFile(d,e);const u=this._getTopSoundComponentOfEntity(l);u&&u.setAssetId(d.id)}i(d)})}catch(d){U.error("Audio error. Failed to upload sound file.",d)}this.editor.stateController.signals.newSound.dispatch({action:P.NEW_SOUND,ids:new Set([l.id])}),this.editor.stateController.recordAfter({action:P.NEW_SOUND})}addAnimationComponentIfNeeded(t){this._animationComponents.add(t)}deleteFromAnimationComponents(t){this._animationComponents.delete(t)}updateAnimationMixers(t){if(this._animationComponents.size<1)return!1;for(const e of this._animationComponents)e.update(t);return!0}async addModel(t,e="Model",i=zh.None,n={x:0,y:0,z:0},o=null,a=null,l=!0,c=!0,h=!1){var y;const d=new Set,u=new Map,f=new Map,p=new Map,g={};l&&this.editor.stateController.recordBefore({action:P.NEW_MODEL});let _=null;if(t.length===1&&(_=this._addModel(t[0],d,e,u,f,p,g,n,o,a,h)),!_)return new Set;if(Avt(i,_),this._buildHierarchy(),await this._uploadModelGeometryRemotely(f,((y=t[0])==null?void 0:y.animations)??[]),await this._uploadModelTexturesRemotely(p),be.open({id:`uploaded-model_${Ht()}`,text:`${e} uploaded.`,options:{type:qn.SUCCESS,visibleTime:4e3}}),o){for(const[b,C]of u)if(C.sceneObject.urlKey=b.userData.urlKey??null,b.userData.materialId){const x=g[b.userData.materialId];if(x){const I=this.materialController.materials[x];if(I){for(const O of["map","alphaMap","aoMap","displacementMap","metalnessMap","normalMap","roughnessMap"])b.userData.material[O]&&(I.data[O]=b.userData.material[O]);$y({id:I.id,name:I.name,team:I.team,file:I.file,data:JSON.stringify(I.data),lastWriter:I.lastWriter})}}}}const v=this.getSceneEntityById(_.id);return v&&this.editor.selectionController.selectedCollection.set(v),c&&this.editor.stateController.signals.newModel.dispatch({action:P.NEW_MODEL,groupId:_.id,ids:d}),l&&this.editor.stateController.recordAfter({action:P.NEW_MODEL}),d}setAllObjectStates(t){const e=new O4(this.editor),i=[],n=[this.statefulScene.states],o=Object.values(this.sceneEntitiesById);for(const a of o)i.push(a.states);if(t===Ro)e.setActiveStateToStartState(n),e.setActiveStateToStartState(i);else{const a=t===ys?null:t;e.setActiveState(n,a),e.setActiveState(i,a)}}_addModel(t,e,i,n,o,a,l,c={x:0,y:0,z:0},h=null,d=null,u=!1){return t.type===L.MODEL_ANIMATED?this._addAnimatedModel(t,i,o,c,h,d,u):this._addStaticModel(t,e,i,n,o,a,l,c,h,d,u)}async _uploadModelTexturesRemotely(t){let e=0;be.open({id:Ht(),text:"Uploading textures to server - 0%",icon:ZC,options:{visibleTime:1/0,manualHide:!1}});try{const i=Array.from(t).map(([n,o])=>new Promise((a,l)=>{Hvt(n,o).then(()=>{e++,be.open({id:Ht(),text:`Uploading textures to server - ${Math.min(100,e/t.size*100).toFixed(0)}%`,icon:ZC,options:{visibleTime:1/0,manualHide:!1}}),a(!0)}).catch(()=>{l(`Error while uploading textures to s3: ${String(n)}`)})}));await Promise.all(i)}catch(i){throw be.open({id:Ht(),text:"Error while uploading textures to server",options:{type:qn.ERROR}}),console.error(i),i}}async _uploadModelGeometryRemotely(t,e=[]){const i=new TI,n={onlyVisible:!1,truncateDrawRange:!0,binary:!0,maxTextureSize:2048};let o=0;be.open({id:Ht(),text:"Uploading geometries to server - 0%",icon:ZC,options:{visibleTime:1/0,manualHide:!1}});try{const a=Array.from(t).map(([l,c])=>{Vi.removeMissingImages(c);const h={...n};return e&&e.length>0&&(h.animations=e,h.trs=!0),new Promise((d,u)=>{i.parse(c,async f=>{c.updateWorldMatrix(!0,!1);const p=yN(f),g=await ks(l,p);o++,be.open({id:Ht(),text:`Uploading geometries to server - ${Math.min(100,o/t.size*100).toFixed(0)}%`,icon:ZC,options:{visibleTime:1/0,manualHide:!1}}),g?d(g):u(`Error while uploading gltf to s3: ${l}`)},f=>{u(f)},h)})});await Promise.all(a)}catch(a){throw be.open({id:Ht(),text:"Error while uploading geometries to server",options:{type:qn.ERROR}}),console.error(a),a}}_addAnimatedModel(t,e,i,n={x:0,y:0,z:0},o=null,a=null,l=!1){if(t.animations){const c=new bn;c.animations=[...t.animations],c.add(t.model);const h=Ht(),d={...Do};if(d.type=L.MODEL_ANIMATED,d.id=Ht(),d.name=e,d.isScaleLinked=!0,d.urlKey=h,n&&(d.position={...n}),d.viewSettings.shouldFlipTextures=l,c.traverse(p=>{(Sx(p)||Pyt(p))&&(Array.isArray(p.material)?p.material=p.material.map(g=>Vi.toSupportedMeshMaterial(g)):p.material=Vi.toSupportedMeshMaterial(p.material))}),t.animations&&t.animations.length>0){const p=Ht(),g=new zs;g.animations=t.animations;const _=g.toJSON();ks(p,$0(_)),d.importedAnimations={animationsUrlKey:p}}const u=o?this.getSceneEntityById(o):null,f=Tk.build(this.editor,d,null,t.animations,c,u);return u||this.addSceneEntity(f,!1),c.updateWorldMatrix(!0,!1),i.set(h,c),f}return null}_addStaticModel(t,e,i,n,o,a,l,c={x:0,y:0,z:0},h=null,d=null,u=!1){const f={...Do};if(f.type=L.GROUP,f.id=Ht(),f.name=i,f.isScaleLinked=!0,c&&(f.position={...c}),f.viewSettings.shouldFlipTextures=u,t.animations&&t.animations.length>0){const v=Ht(),y=new zs;y.animations=t.animations;const b=y.toJSON();ks(v,$0(b)),f.importedAnimations={animationsUrlKey:v}}let p=null,g=null;h&&(g=this.getSceneEntityById(h)),g==null&&(g=this.createGroupEntity(!1,f),this.addSceneEntity(g,!1));const _=[t.model];for(;_.length>0;){const v=_.shift();if(!v)break;const y=v===t.model,b={...Do};if(b.id=Ht(),e.add(b.id),b.name=v.name,b.isScaleLinked=!0,b.viewSettings.shouldFlipTextures=u,v.isMesh){const O=Ht();h?v.userData.urlKey=O:b.urlKey=O,o.set(O,v)}else b.type=L.GROUP,b.parameters={...lx};y&&h&&(v.position.set(g.transform.position.x,g.transform.position.y,g.transform.position.z),v.rotation.set(g.transform.rotation.x,g.transform.rotation.y,g.transform.rotation.z),v.updateMatrixWorld(!0)),y&&d&&(v.isMesh?b.parameters={...b.parameters,width:d.x,height:d.y,depth:d.z}:(v.scale.set(d.x,d.y,d.z),v.updateMatrixWorld(!0)));const C=new Je(this.editor,b);if(y&&(p=C),C.transform.setMatrix(v.matrix),n.set(v,C),Sx(v)){C.type=L.MODEL,v.geometry.hasAttribute("normal")||v.geometry.computeVertexNormals();let O;const T=Vi.getFirstMaterial(v);if(T&&l[T.id])O=l[T.id];else{const D=T?Vi.getLightingModel(T):t_.lightingModel,B={...t_,lightingModel:D,flipY:!1};T?(T instanceof Hy?(B.color=`#${T.color.getHexString()}`,B.roughness=Math.pow(1-T.shininess/100,4),B.metalness=0,B.mask=Mh.add(B.mask,J.ROUGHNESS)):T instanceof E4?(B.color=`#${T.color.getHexString()}`,B.roughness=1,B.metalness=0):T instanceof Xr&&(B.color=`#${T.color.getHexString()}`,B.roughness=T.roughness,B.metalness=T.metalness,B.normal=T.normalScale.x),Vi.forEachMapType(T,(k,Y)=>{if(!Y)return;const G=pm.convertTextureToDataURL(Y);if(G){const st={lg:Ht(),md:Ht(),sm:Ht()};a.set(st,G),k==="map"&&(B.color="#FFFFFF"),h?(v.userData.material||(v.userData.material={}),v.userData.material[k]=st):B[k]=st}else T[k]=null}),v.material=Vi.toSupportedMeshMaterial(T),B.preview={lg:Ht()},O=Qh({name:T.name,file:this.editor.fileController.id,data:JSON.stringify(B)},this.materialController).id,l[T.id]=O,v.userData.materialId=T.id):U.warn("Material not found for mesh: ",v.id)}C.sceneObject.materialID=O,A6.build(this.editor,b,null,v,C)}else{C.type=L.GROUP;const O=new Fs(C);C.addComponent(O);const T=new Ta(C);C.addComponent(T);const D=new On(C);C.addComponent(D)}const x=v.parent;let I=g;x&&(I=n.get(x)??g),h&&y&&(I=null),this.addSceneEntity(C,!1,ns.BEFORE,null,I);for(const O of v.children)_.push(O)}return h&&p&&this.reorder([p],ns.BEFORE,g.children.length?g.children[0]:null,g,!1),g}removeFromParent(t,e=!1,i=!1){if(this._removeFromPerformanceMonitor(t),!t.parent)return this._removeFromHierarchy(t);const n=t.parent;if(!n)return!1;const o=n.getComponent(Fs);return o?(o.remove(t,e,i),!0):!1}_addToParent(t,e){const i=this.getSceneEntityById(e);i&&(this._insertChild(t,i),this._addToHierarchy(t,i),this._addToPerformanceMonitor(t,i))}removeObjectFromData(t,e=!0){const i=this.getSceneEntityById(t);return i?(this.deleteSceneEntity(i),!0):!1}tryResizeEntity(t,e,i){if(!fG.includes(t.type))return;const n=this.editor.fileSettingsController.mmsPerPixel,o=e*n/KE,a=i*n/KE;this.editor.stateController.recordBefore({action:P.RESIZE_TO_TEXTURE}),t.sceneObject.parameters.width=o,t.sceneObject.parameters.depth=a,t.sceneObject.scale={x:1,y:t.sceneObject.scale.y,z:1},this.editor.stateController.signals.parameters.dispatch({action:P.RESIZE_TO_TEXTURE}),this.editor.stateController.recordAfter({action:P.RESIZE_TO_TEXTURE})}_getFirstEntity(){return this._sceneEntityHierarchy.length===0?null:this._sceneEntityHierarchy[0]}_getLastEntity(){return this._sceneEntityHierarchy.length===0?null:this._sceneEntityHierarchy[this._sceneEntityHierarchy.length-1]}addBooleanShape(t,e,i,n,o,a){const l=this.getSceneEntityById(i);if(!l)return;const c=l.parent;this.move(l,ns.BEFORE,null,null);const h=l.sceneObject.clone();h.type=L.SHAPE,h.id=t,h.urlKey=e,h.name=a,h.material=l.base.material;const d=new Je(this.editor,h),u=new hl(d,o);d.addComponent(u);const f=new _e(d,this.statefulScene.hdrLighting);d.addComponent(f);const p=new Wi(d,f,u);d.addComponent(p);const g=new On(d);d.addComponent(g);const _=new Ta(d);d.addComponent(_);const v=new Dh(d,u);d.addComponent(v);const y=[i,...n],b=[];for(const x of y){const I=this.getSceneEntityById(x);I&&b.push(I)}const C=Array.from(b).sort((x,I)=>mf(x.index,I.index));this.addSceneEntity(d,!0,ns.BEFORE,null,null),this.move(d,ns.BEFORE,C[0],c),this.editor.selectionController.selectedCollection.set(d),this.remove(b),this._dispatchChanged()}_dispatchChanged(){this._isMutating||(this.editor.signals.object.sceneGraphChanged.dispatch(),this._buildHierarchy())}addComponentsAndInstancesFromData(t,e,i){this.componentsController.addComponentsAndInstancesFromData(t,e,i)}addObjectFromData(t,e){const i=this._createEntityFromData(t,e);return this._addSceneEntityFromData(i),this.editor.signals.object.sceneGraphChanged.dispatch(),i}_createEntityFromData(t,e){t.index||(t.index=this._generateIndex(ns.BEFORE));const i=fn.build(this.editor,t,e);if(!i)return U.error(`Could not create entity with name: ${t.name}, type: ${t.type}, id: ${t.id}`,t),new Je(this.editor,t,e);const n=i.getComponent(So);if(n&&(this.cameraController.addCameraFromData(n),e!=null&&e.getComponent(vm)&&this.bodyRigComponent&&this.bodyRigComponent.setCamera(n)),this.bodyRigComponent){const o=i.getComponent(vm),a=i.getComponent(fl);o&&this.bodyRigComponent.setHead(o),a&&this.bodyRigComponent.setHand(a)}return i}makeCurveIntoMesh(t){var a;const e=t.getComponent(si);if(!e.isFilled)return!1;t.type=L.SHAPE;const i=new hl(t,(a=e.mesh)==null?void 0:a.geometry);t.addComponent(i);const n=new Wi(t,t.getComponent(_e),i);t.addComponent(n);const o=new Dh(t,i);return t.addComponent(o),t.removeComponentsByType(pt.Line),t.highlightComponent.updateMesh(),this._buildHierarchy(),!0}deleteInteractionsForSceneEntity(t){for(const e of this.allInteractionsComponents)if(e.removeEntityFromTargets(t)){const n=em(e)?{action:P.INTERACTIONS,selection:[e]}:{action:P.SCENE_INTERACTIONS};this.editor.stateController.signals.interactions.dispatch(n)}}_addModelFromData(t){A6.build(this.editor,t.sceneObject.base(),null,void 0,t);const e=t.getComponent(Wi);return e?e.mesh:null}reorderFromData(t){const e=t.parent;e?e.sortChildren():this._sceneEntityHierarchy.sort((i,n)=>mf(i.index,n.index))}attachToParentFromData(t){const e=this.getSceneEntityById(t.id);return e?t.parent?this._attachToParentFromData(e,this.getSceneEntityById(t.parent)):(this._attachToRootFromData(e),!0):!1}_attachToParentFromData(t,e){return e?(this._insertChild(t,e),this._addToHierarchy(t,e),this._addToPerformanceMonitor(t,e),!0):(console.error("Object's parent was not processed before this object. Adding to root.",t.name),this._attachToRootFromData(t),!1)}updateObjectFromData(t){const e=t.id,i=this.getSceneEntityById(e);if(!i){console.error("No entity for id",e);return}let n=!1;i.type!==t.type&&(n=!0),i.sceneObject.parent!==t.parent&&(i.sceneObject.position=t.position,i.sceneObject.rotation=t.rotation,i.sceneObject.scale=t.scale,i.index=t.index,this._moveToParentFromData(i,t.parent)),i.index!==t.index&&(i.index=t.index,this.reorderFromData(i));const o=this.editor.isPlayMode&&i.sceneObject.activeState===an;for(const[a,l]of Object.entries(t))if(!this._excludedObjectKeys.has(a)&&!(o&&a=="activeState")){if(this._removeFieldAwareObjectKeys.has(a)){if(Ny(i.sceneObject.base(),a,l),a==="colliders"&&!i.getComponentByType(pt.Collider)){const c=new Fl(i,this.editor.physicsController);i.addComponent(c)}continue}a==="isVisible"&&i.isVisible!==l&&(this._selectablesNeedsUpdate=!0),this._cloneSceneObject(i.sceneObject.base(),a,l)}this.editor.signals.object.sceneGraphChanged.dispatch(),n&&t.type===L.SHAPE&&this.convertIntoShape(i)}convertIntoShape(t){t.removeComponentsByType(pt.Geometry,pt.Line);const e=new hl(t);t.addComponent(e);let i=t.getComponent(Wi);if(i==null){const o=t.getComponent(_e);i=new Wi(t,o,e),t.addComponent(i)}else i.setGeometryComponent(e);let n=t.getComponent(Dh);n==null?(n=new Dh(t,e),t.addComponent(n)):n.setGeometryComponent(e),t.highlightComponent.update()}_moveToParentFromData(t,e){this.removeFromParent(t),t.parent=null,e?this._addToParent(t,e):this._attachToRootFromData(t)}_cloneSceneObject(t,e,i){if(!(e in t)){t[e]=i;return}if(Array.isArray(i))for(let n=0;n<i.length;n++)t[e][n]=i[n];else if(typeof i=="object"&&i!=null&&t[e]!=null&&Object.entries(i).length>0)if(typeof t[e]=="string")t[e]={...i};else{const n=t[e];for(const[o,a]of Object.entries(i))this._cloneSceneObject(n,o,a)}else t[e]=i}async duplicateSelectedItemsFromCommand(){const t=this.copySelectedItems(!1);if(!t)return new Set;this.editor.stateController.recordBefore({action:P.DUPLICATE});const e=await this.pasteDuplicatedObjects(t);return be.open({id:`duplicated-objects_${Ht()}`,text:"Duplicated selection",options:{visibleTime:4e3}}),this.editor.stateController.signals.duplicate.dispatch({action:P.DUPLICATE,ids:e}),this.editor.stateController.recordAfter({action:P.DUPLICATE}),e}async duplicateSelectedItemsFromAltDrag(){const t=this.copySelectedItems(!1);if(!t)return;this.editor.stateController.recordBefore({action:P.DUPLICATE_AND_TRANSFORM});const e=this.pasteDuplicatedObjects(t,!1);return be.open({id:`duplicated-objects_${Ht()}`,text:"Duplicated selection",options:{visibleTime:4e3}}),e}duplicateSceneEntity(t,e,i,n,o,a,l=!1,c=!1){const h=!!t.sceneObject.asset;let d=!h;if(h&&e!=null&&l){const b=t.parent;b&&b.compo.componentID&&!b.compo.isInstance&&(d=!0)}const u=No(t.sceneObject.clone(d));u.id=j0(),u.parent=e;let f=null;if(h&&(u.isInstance=!0,f=t.sceneObject.assetSource??t.id,u.assetSource=f),l&&!h&&(u.name=this.getNextAvailableName(t)),u.urlKey){const b=Ht();o.push(u.urlKey),a.push(b),u.urlKey=b;const C=Object.values(u.states);for(const x of C)if(x!=null&&x.urlKey)if(o.includes(x.urlKey)){const I=o.indexOf(x.urlKey);x.urlKey=a[I]}else{const I=Ht();o.push(x.urlKey),a.push(I),x.urlKey=I}}i.add(u.id);const p=b6.duplicate(u.interactions,t.id,u.id);u.interactions=p,u.index=this._generateIndex(ns.BEFORE,t);const g=this.addObjectFromData(u);g.transform.copy(t.transform),l&&n.push(g);const _=g.getComponent(Wi);if(_){const b=t.getComponent(Wi);b!=null&&_.copy(b)}const v=t.compo.isComponentRoot||t.compo.isInstanceRoot||c;v&&this.editor.componentsController.registerInstance(u.id,t.id);const y=t.getComponent(Fs);if(y){const b=y.children;for(const C of b)this.duplicateSceneEntity(C.entity,u.id,i,n,o,a,!1,v)}}async duplicateGeometryRemotely(t,e){await F5(t,e).catch(i=>{console.warn("Duplication failed",i)}),this.editor.fileController.largeDataLoader.largeDataUploaded([...e])}copySelectedItems(t=!0){try{const e=this._filterOutInstances([...this.editor.selectionController.selectedCollection.sceneEntities]),i=new Set(e.map(a=>a.id));if(i.size<1)return;const n={objects:{},materials:{},fromFile:this.editor.fileController.id},o=[];return i.forEach(a=>{const l=this.getSceneEntityById(a);l&&this.copySceneObject(l,l.sceneObject.parent,o,!0,!1)}),o.forEach(a=>{n.objects[a.id]=a,n.materials={...n.materials,...this.materialController.getMaterialsByObject(a)}}),t&&(localStorage.setItem(yf.COPY_CONTENT,JSON.stringify(n)),navigator.clipboard.writeText(""),be.open({id:`copied-objects_${Ht()}`,text:"Copied selection",options:{visibleTime:4e3}})),n}catch(e){console.warn(e)}}copySceneObject(t,e,i,n=!1,o=!1,a=!0,l=[]){const c=t.sceneObject.clone();if(o&&(c.id=Ht()),c.parent=e,l.push(t),i.push(c),a){const h=t.getComponent(Fs);h&&h.children.forEach(u=>{this.copySceneObject(u.entity,c.id,i,!1,o,a,l)})}}fetchSceneObject(t,e,i=!1){t.forThisAndEachChildRecursive(n=>{e.push(n.base)},i)}async _getClipboardData(){try{const t=await navigator.clipboard.read().catch(()=>null);if(t==null)return null;for(const e of t)for(const i of e.types)if(i==="text/plain"){const n=await navigator.clipboard.readText();return n?{type:i,result:n}:null}else if(i.startsWith("image")){const n=await e.getType(i);return navigator.clipboard.writeText(""),{type:i,result:n}}return null}catch(t){return console.warn(t),null}}async _handlePastedText(t){return be.open({id:Ht(),text:"Pasting data...",options:{autoHide:!0,visibleTime:1e3}}),t.startsWith("https://www.figma.com")?this._handlePastedFigmaData(t):this._handlePasteTextObject(t)}_handlePasteTextObject(t){const e={...Do};e.type=L.TEXT,e.id=Ht(),e.name="Text",e.isScaleLinked=!0,e.parameters.text=t,e.parameters.fontSize=14,this.editor.stateController.recordBefore({action:P.PARAMETERS});const i=this.addObjectFromData(e);return this.editor.selectionController.selectedCollection.set(i),this.editor.stateController.signals.newImage.dispatch({action:P.PARAMETERS,ids:new Set([i.id])}),this.editor.stateController.recordAfter({action:P.PARAMETERS}),!0}async _handlePastedFigmaData(t){const e=await this.editor.integrationsController.tryGetFigmaImageURLFromURL(t);if(e.error!=null)return U.error(`Unable to paste figma frame for text: ${t}`,e.error),be.close(),be.open({id:Ht(),text:"Unable to paste text",options:{autoHide:!0,visibleTime:1e3,type:qn.WARNING}}),!1;if(e.figmaImageUrl==null)return!1;const i={figmaImageUrl:e.figmaImageUrl,figmaFrameUrl:t};return this.selectedObjects.length===0?this._loadFileIntoNewImage(null,i,"Figma Frame"):this._updateSelectionMaterial(null,i)}async _updateSelectionMaterial(t,e){const{urlKey:i,texture:n}=await nx(t,!1,e);if(i==null||n==null)return be.open({id:Ht(),text:"Unable to load frame from Figma",options:{autoHide:!0,visibleTime:1e3,type:qn.ERROR}}),!1;const o=this.editor.selectionController.selectedCollection.sceneEntities;for(const a of o){const l=a.getComponent(_e);l!=null&&(this.editor.stateController.recordBefore({action:P.MATERIAL_MAP,selection:[l]}),l.setTexture(J.COLOR,n),l.setTextureUrlKey(J.COLOR,i),e!=null&&(l.setMeshMaterial(ue.Unlit),l.opacity=ix),this.editor.stateController.signals.materialMap.dispatch({action:P.MATERIAL_MAP,selection:[l]}),this.editor.stateController.recordAfter({action:P.MATERIAL_MAP,selection:[l]}))}return!0}_handlePastedImage({result:t}){const e="Image",i=new File([t],e);return this.selectedObjects.length===0?this._loadFileIntoNewImage(i,null,e):this._updateSelectionMaterial(i,null)}async _loadFileIntoNewImage(t,e,i){const{urlKey:n,texture:o}=await nx(t,!1,e);if(n==null||o==null)return be.open({id:Ht(),text:"Unable to load image data",options:{autoHide:!0,visibleTime:1e3,type:qn.ERROR}}),!1;const a=(t==null?void 0:t.name)??i;return this.addImage(a,o,n,{x:0,y:0,z:0},e?ix:1),!0}async _handlePasteObjects(t){this.editor.stateController.recordBefore({action:P.PASTE});const e=await this.pasteDuplicatedObjects(t);be.open({id:`pasted-objects_${Ht()}`,text:"Pasted selection",options:{visibleTime:4e3}}),this.editor.stateController.signals.paste.dispatch({action:P.PASTE,ids:e}),this.editor.stateController.recordAfter({action:P.PASTE})}async pasteDuplicatedObjects(t,e=!0){var _,v,y;const i=Object.values(t.objects),n=Object.values(t.materials),o=new Set,a=new Map,l=Hb(n,this.editor.fileController.id,(_=this.editor.fileController.team)==null?void 0:_.id,this.materialController);let c;const{selectedCollection:h}=this.editor.selectionController;if(h.sceneEntityIds.size<1)c=null;else{const[b]=h.sceneEntities;c=b!=null&&b.parent?b.parent.id:null}let d=!1,u=null;for(const b of i)u=b.parent,d=!u||t.objects[u]==null,d&&(c===void 0?c=b.parent:c!==b.parent&&(c=null));const f=[],p=[];for(const b of i){const C=Ht();if(a.set(b.id,C),b.urlKey!=null&&b.type!==L.MODEL_ANIMATED){const x=Ht();f.push(b.urlKey),b.urlKey=x,p.push(x);const I=Object.values(b.states);for(const O of I)if(O!=null&&O.urlKey)if(f.includes(O.urlKey)){const T=f.indexOf(O.urlKey);O.urlKey=p[T]}else{const T=Ht();f.push(O.urlKey),p.push(T),O.urlKey=T}}}e?await this.duplicateGeometryRemotely(f,p):this.duplicateGeometryRemotely(f,p);for(const b of i){u=b.parent,d=!u||t.objects[u]==null;const C=b.id,x=b.parent,I=this.getSceneEntityById(b.id);b.id=a.get(b.id)??Ht(),d?(c!==void 0&&(b.parent=c),this.hierarchy.convertPosition(b,x,b.parent)):b.parent&&(b.parent=a.get(b.parent)??null);let O=!1,T=!1,D=!0,B=!1;if(b.asset){const st=b.parent!=null?this.getSceneEntityById(b.parent):null;T=I!=null&&I.parent!=null&&I.sceneObject.asset===I.parent.sceneObject.asset;const $=(I==null?void 0:I.compo.isComponentEntity)??!1;let X=this.componentsController.getComponentAsset(b.asset);e&&X==null&&(X=await s1(b.asset)),B=(((v=this.editor.fileController.team)==null?void 0:v.id)??"-")!=(X==null?void 0:X.team),b.isInstance=!B,O=st!=null&&st.sceneObject.asset!=null&&!st.sceneObject.isInstance,$&&T&&O&&(b.isInstance=!1),I!=null&&(I.compo.isComponentRoot||I.compo.isInstanceRoot?D=!0:I.compo.isInstanceEntity||I.compo.isComponentEntity&&!O?D=!1:D=!0),t.fromFile!==this.editor.fileController.id&&om(b,l),O&&(b.assetSource=null,om(b,l))}else om(b,l);if(D){const st=b6.duplicate(b.interactions,C,b.id);b.interactions=st,b.behaviors&&sc.duplicate(b,a,this),Fl.duplicate(b)}Js.duplicate(b),b.index=this._generateIndex(ns.BEFORE,I),o.add(b.id);const k=this.getSiblingsFromObject(b).map(st=>st.name);b.name=Kp.getNextAvailableName(b.name,k," ");const Y=this.addObjectFromData(b);b.asset!=null&&!B&&(O||(Y.sceneObject.assetSource=b.assetSource&&(T||!((y=Y.parent)!=null&&y.sceneObject.asset))?b.assetSource:C,e?await this.editor.componentsController.registerInstance(b.id,Y.sceneObject.assetSource):this.editor.componentsController.registerInstance(b.id,Y.sceneObject.assetSource)));const G=Y.getComponent(Wi);if(G){const st=I==null?void 0:I.getComponent(Wi);st!=null&&G.copy(st)}}const g=[];for(const b of o){const C=this.getSceneEntityById(b);if(!C)continue;const x=C.parent?C.parent.id:null;x!=null&&o.has(x)||g.push(C)}this._buildHierarchy();for(const b of o){const C=this.getSceneEntityById(b);C!=null&&C.compo.isComponentRoot&&(this.editor.selectionController.selectedCollection.set(C),C.forThisAndEachChildRecursive(x=>(x.sceneObject.asset=null,!1)),await this.componentsController.createNewComponent())}return this.editor.selectionController.selectedCollection.set(g),o}async pasteObjects(){try{const t=await this._getClipboardData();let e=!1;if((t==null?void 0:t.result)!==null&&(t!=null&&t.type.startsWith("image"))?e=await this._handlePastedImage(t):(t==null?void 0:t.type)==="text/plain"&&(t==null?void 0:t.result)!=null&&(e=await this._handlePastedText(t.result)),e||t!=null)return;const i=localStorage.getItem(yf.COPY_CONTENT);i!=null&&await this._handlePasteObjects(JSON.parse(i))}catch(t){console.warn(t)}}selectBetween(t,e){const{min:i,max:n}=dbt(t,this.sceneEntityHierarchy);if(i>n)return new Set([e]);const o=hbt(e,this.sceneEntityHierarchy),a=Math.min(i,o),l=Math.max(n,o),c=new Set;let h=0;const d=(f,p,g)=>h>g?!0:(p<=h&&h<=g&&c.add(f),(h===p||h===g)&&f.forEachChildRecursive(_=>{c.add(_)}),h++,!1);for(const f of this.sceneEntityHierarchy){let p=!1;if(f.forThisAndEachChildRecursive(g=>{if(!p)return p=d(g,a,l),p}),p)break}const u=new Set;for(const f of c)f.forEachChildRecursive(p=>{if(!c.has(p))return u.add(f),!0});return as.subtractSets(c,u),c}reorder(t,e,i,n=null,o=!0){var v,y,b;const a=this._filterOutInstances(t,!1);if(n!=null&&n.compo.isInstance||(v=i==null?void 0:i.parent)!=null&&v.compo.isInstance)return;o&&this.editor.stateController.recordBefore({action:P.REORDER});const l=Array.from(a).sort((C,x)=>mf(C.index,x.index));let c=!1;e===ns.BEFORE&&l.reverse();const h=n==null?void 0:n.sceneObject.asset,d=n==null?void 0:n.compo.isInstance,u=h!=null&&!d,f=(y=i==null?void 0:i.parent)==null?void 0:y.sceneObject.asset,p=(b=i==null?void 0:i.parent)==null?void 0:b.compo.isInstance,g=f!=null&&!p;for(let C=0;C<l.length;++C){const x=l[C],I=x.sceneObject.asset,O=x.compo.isInstance;if(I!=null&&!O&&(u||d||p||g)&&(d||p||(u||g)&&(I!==h||I!==f))||O&&(I===h||I===f))continue;const D=l[C-1]??i;c=!0,this.move(x,e,D,n)}if(!c)return;const _=new Set(a.map(C=>C.id));this.editor.stateController.signals.reorder.dispatch({action:P.REORDER,ids:_}),o&&this.editor.stateController.recordAfter({action:P.REORDER})}_refreshConstraints(){const{sceneEntities:t}=this.editor.selectionController.selectedCollection;for(const e of t)e.forThisAndEachChildRecursive(i=>{wx.confirmConstraint(i)})}toggleAnchor(t,e,i){const n=t.map(c=>c.entity),o=new Set(n.map(c=>c.id)),l={action:P.FRAME_ANCHOR,ids:o};this.editor.stateController.recordBefore(l),t.forEach(c=>c.toggleAnchor(e,i)),this.editor.stateController.signals.frameToggleAnchor.dispatch(l),this.editor.stateController.recordAfter(l),this._dispatchChanged()}frameFitChild(t){const e=t.entity.children;if(e.length==0)return;const i=new Qn(t.entity.transform.matrixGlobal),n=new q4(e,i),o=new Map,a=new Us;for(const d of e)o.set(d,d.transform.matrixGlobal.clone()),a.union(n.getEntityBoundingBox(d));const l=Ry.buildParams(a,t.parameters.isClippingEnabled,t.parameters.areCapsEnabled);t.setParameters(l);const c=new w;a.getCenter(c);const h=i.convertPointToGlobal(c);t.entity.transform.setGlobalPosition(h);for(const[d,u]of o)d.transform.setMatrix(u)}frameFitChildren(t){const e=t.map(l=>l.entity),i=new Set(e.map(l=>l.id)),o={action:P.FRAME_FIT_CHILDREN,ids:i};let a=!1;for(const l of e)if(a||(a=l.children.length>0),a)break;a&&(this.editor.stateController.recordBefore(o),t.forEach(l=>{l.ignoreConstraintsDuring(()=>this.frameFitChild(l))}),this.editor.stateController.signals.frameFitChildren.dispatch(o),this.editor.stateController.recordAfter(o),this._dispatchChanged(),this.editor.selectionController.selectedCollection.removeAll(),this.editor.selectionController.selectedCollection.set(e))}groupSelectedObjectsAsFrame(){return this.groupSelectedObjects(!0,L.FRAME)}groupSelectedObjects(t=!0,e=L.GROUP){this._isMutating=!0;const i=e===L.FRAME,n=i?P.FRAME:P.GROUP,o=[...this.editor.selectionController.selectedCollection.sceneEntities].filter(_=>{var v;return _.type===L.XRRIG||_.type===L.HAND||_.type===L.HEAD?!1:!_.compo.isInstance||!_.parent||!((v=_.parent)!=null&&v.compo.isInstance)});t&&this.editor.stateController.recordBefore({action:n});const a=o.length===0,l=this._buildBboxFromEntities(o),c=this._buildMatrixFromBbox(l),h=i?this.createFrameEntity(l):this.createGroupEntity(a);h.transform.setMatrix(c);const d=this._lowestCommonAncestor(o),u=this._findFirstSibling(Array.from(o),d)??this._getFirstEntity();d?this.move(h,ns.BEFORE,u,d):this.addSceneEntity(h,!0,ns.BEFORE,u,d);const f=h.id,p=Array.from(o).sort((_,v)=>mf(_.index,v.index));for(let _=p.length-1;_>=0;--_){const v=p[_],y=p[_+1];this.move(v,ns.BEFORE,y,h)}wx.confirmConstraint(h);const g=new Set(p.map(_=>_.id));return this.editor.stateController.signals.group.dispatch({action:n,groupId:f,ids:g}),t&&this.editor.stateController.recordAfter({action:n}),this._isMutating=!1,this._dispatchChanged(),this.editor.selectionController.selectedCollection.set(h),h}_buildBboxFromEntities(t){const e=new Us;if(t.length)for(const i of t){const n=i.boundingBoxGlobal;e.union(n)}return e}_buildMatrixFromBbox(t){const e=new Lt,i=t.getCenter(new w);return e.setPosition(i),e}move(t,e,i=null,n=null,o=!1){if(i&&i.parent){const l=i.parent;l&&(n=l)}const a=n?new Lt().copy(n.transform.matrixGlobal).invert():new Lt;if(this.removeFromParent(t,o),t.isPartOfFrame){const l=t.getComponent(Uh);l&&this._applyFrameState(t,l.frame)}this._updateStateTransforms(t,a),n&&n.compo.isComponentEntity&&(t.compo.isInstanceRoot||(t.sceneObject.asset=n.compo.componentID,t.compo.componentID=n.compo.componentID,t.sceneObject.isInstance=!1)),this.addSceneEntity(t,!1,e,i,n)}_applyFrameState(t,e){var o;if(t.states.count>0)return;const i=e.entity.sceneObject.activeState;if(!i||!t.sceneObject.frameStates)return;const n=t.sceneObject.frameStates[i];if(n){for(const[a,l]of Object.entries(n))if(!this._excludedObjectKeys.has(a)){if(a==="material"){if(!t.sceneObject.material)continue;for(const[c,h]of Object.entries(l))this._cloneSceneObject((o=t.sceneObject.material)==null?void 0:o.materialData,c,h);continue}if(a==="interactions"){Ny(t.sceneObject.base(),a,l);continue}if(a==="colliders"){if(Ny(t.sceneObject.base(),a,l),!t.getComponentByType(pt.Collider)){const c=new Fl(t,this.editor.physicsController);t.addComponent(c)}continue}a==="isVisible"&&t.isVisible!==l&&(this._selectablesNeedsUpdate=!0),this._cloneSceneObject(t.sceneObject.base(),a,l)}}}_updateStateTransforms(t,e){for(const[h,d]of t.states.entries){const u=d.position??t.base.position,f=d.rotation??t.base.rotation,p=d.scale??t.base.scale,{position:g,rotation:_,scale:v}=KP(t,e,u,f,p),y=t.states.getState(h);y.position=g,y.rotation=_,y.scale=v,t.states.setState(h,y)}const i=t.base.position,n=t.base.rotation,o=t.base.scale,{position:a,rotation:l,scale:c}=KP(t,e,i,n,o);t.base.position=a,t.base.rotation=l,t.base.scale=c}_findFirstSibling(t,e){if(t.length>0){if(!e)return t[0];const i=t.find(n=>{const o=n.parent;return o?o===e:!1});return i||null}return this._getFirstEntity()}_lowestCommonAncestor(t){const e=[];for(const n of t){const o=[];n.forEachParent(a=>{o.push(a)}),e.push(o)}if(e.length===0)return;const i=e.reduce((n,o)=>o.length<n.length?o:n);for(let n=i.length;n>0;--n)if(e.every(a=>{const l=a[a.length-n],c=i[i.length-n];return l===c}))return i[i.length-n]}createGroupEntity(t=!1,e=null){const i=e??{...Do};e||(i.type=L.GROUP,i.id=Ht(),i.name=t?"Empty":"Group");const n=Object.assign(i,{type:L.GROUP,parameters:t?K4:lx});return jA.build(this.editor,n)}createFrameEntity(t,e=null){const i=e??{...Do};e||(i.type=L.FRAME,i.id=Ht(),i.name="Frame");const n=Object.assign(i,{type:L.FRAME,parameters:Ry.buildParams(t)}),o=Ry.build(this.editor,n);return Ft("frame-created"),o}_getIndex(t,e){const i=e.parent;let n=this._sceneEntityHierarchy;i&&(n=i?i.children:this._sceneEntityHierarchy);const o=n.findIndex(l=>l.id===e.id);let a;if(t===ns.BEFORE){if(o<=0)return null;a=n[o-1]}else{if(o===n.length-1)return null;a=n[o+1]}return a.index}addSceneEntity(t,e=!1,i=ns.BEFORE,n=null,o=null){if(t.isInstanceChild||(t.index=this._generateIndex(i,n)),this.sceneEntitiesById[t.id]=t,o)this._insertChild(t,o,i,n);else{if(t.parent=null,!n&&!o&&i===ns.BEFORE&&(n=this._getFirstEntity()),n){const a=this._sceneEntityHierarchy.findIndex(l=>l.id===n.id);a===-1?this._sceneEntityHierarchy.push(t):i===ns.BEFORE?this._sceneEntityHierarchy.splice(a,0,t):this._sceneEntityHierarchy.splice(a+1,0,t)}else this._sceneEntityHierarchy.push(t);t.transform.setParentMatrix(null)}e&&(t.name=this.getNextAvailableName(t)),this._addToHierarchy(t,o),this._addToPerformanceMonitor(t,o),this._dispatchChanged()}getSiblings(t){if(t.parent){const e=[];return t.forEachSibling(i=>e.push(i)),e}return this._sceneEntityHierarchy.filter(e=>e.id!==t.id)}getSiblingsFromObject(t){const e=t.parent?this.getSceneEntityById(t.parent):null;return e?e.children:this._sceneEntityHierarchy.filter(i=>i.id!==t.id)}getNextAvailableName(t,e=!1){if(e)return Kp.getNextIndexName(t.name);const n=this.getSiblings(t).map(a=>a.name);return Kp.getNextAvailableName(t.name,n," ")}_addSceneEntityFromData(t){t.sceneObject.parent?this._attachToParentFromData(t,this.getSceneEntityById(t.sceneObject.parent)):this._attachToRootFromData(t),this.sceneEntitiesById[t.sceneObject.id]=t}_attachToRootFromData(t){const e=this._sceneEntityHierarchy.findIndex(i=>i.index>t.index);t.parent=null,e===-1?this._sceneEntityHierarchy.push(t):this._sceneEntityHierarchy.splice(e,0,t),this._addToPerformanceMonitor(t)}_generateIndex(t,e=null){e||(e=t===ns.BEFORE?this._getFirstEntity():this._getLastEntity());let i=null,n=null;return e&&t===ns.BEFORE?(i=e.index,n=this._getIndex(t,e)):e&&(i=this._getIndex(t,e),n=e.index),n&&i&&n===i?(console.error("Insertion indices are equal, setting to also be equal",n,i),n):ll(n,i)}ungroupSelectedGroup(){const t=[...this.editor.selectionController.selectedCollection.sceneEntities].filter(l=>{var c;return!l.compo.isInstance||!l.parent||!((c=l.parent)!=null&&c.compo.isInstance)}),e=[],i=[];for(const l of t){const c=l.getComponent(Fs);if(!c){i.push(l);continue}e.push(c)}if(e.length===0)return!1;this.editor.stateController.recordBefore({action:P.UNGROUP,selection:e});for(const l of e){const{entity:c}=l,h=c.parent,{childEntities:d}=l;i.push(...d);for(const u of d)this.move(u,ns.BEFORE,c,h)}const n=e.map(l=>l.entity),o=e.map(l=>l.entity.id);for(const l of n)this.deleteSceneEntity(l);this.editor.selectionController.selectedCollection.set(i);const a=new Set;for(const l of i)a.add(l.id);this.editor.stateController.signals.ungroup.dispatch({action:P.UNGROUP,ids:a,groupIds:o,groupId:o[0]}),this.editor.stateController.recordAfter({action:P.UNGROUP}),this._buildHierarchy()}selectAllObjects(){const t=this.getCurrentSelectableObjects(this.editor.selectionController.selectedCollection,this.editor.selectionController.currentSelectableTypes);this.editor.selectionController.selectedCollection.set([...t])}applyScale(){const{sceneEntities:t}=this.editor.selectionController.selectedCollection,e=as.filterSet(t,i=>i.isParametricShape);this.editor.stateController.recordBefore({action:P.APPLY_SCALE});for(const i of e)i.applyScale();this.editor.stateController.signals.parameters.dispatch({action:P.APPLY_SCALE}),this.editor.stateController.recordAfter({action:P.APPLY_SCALE})}get alignmentScope(){return this._alignmentScope}toggleAlignmentScope(){this._alignmentScope==Ea.SELECTION?this._alignmentScope=Ea.FRAME:this._alignmentScope==Ea.FRAME&&(this._alignmentScope=Ea.SELECTION)}alignSceneEntities(t,e){const{sceneEntities:i}=this.editor.selectionController.selectedCollection;this.editor.stateController.recordBefore({action:P.TRANSFORM});const n=tu.getAlignedEntityPositions(i,t,e,this.alignmentScope);for(const{entity:o,globalPosition:a}of n)o.transform.setGlobalPosition(a);this.editor.stateController.signals.parameters.dispatch({action:P.TRANSFORM}),this.editor.stateController.recordAfter({action:P.TRANSFORM})}distributeSceneEntities(t){const{sceneEntities:e}=this.editor.selectionController.selectedCollection;this.editor.stateController.recordBefore({action:P.TRANSFORM});const i=tu.getDistributedEntityPositions(e,t,this.alignmentScope);for(const{entity:n,globalPosition:o}of i)n.transform.setGlobalPosition(o);this.editor.stateController.signals.parameters.dispatch({action:P.TRANSFORM}),this.editor.stateController.recordAfter({action:P.TRANSFORM})}addCollider(){const{sceneEntities:t}=this.editor.selectionController.selectedCollection;this.editor.stateController.recordBefore({action:P.COLLIDER});for(const e of t){const i=e.sceneObject.colliders,n=Ht(),o="Collider",l=i.values.map(d=>d.name),c=Kp.getNextAvailableName(o,l," "),h={id:n,name:c,position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},shape:M9[Bn.BOX],isEnabled:!0};if(i.add(n,h),!e.getComponentByType(pt.Collider)){const d=new Fl(e,this.editor.physicsController);e.addComponent(d)}this.editor.physicsController.lastAddedColliderId=n}this.editor.stateController.signals.parameters.dispatch({action:P.COLLIDER}),this.editor.stateController.recordAfter({action:P.COLLIDER})}removeCollider({component:t,collider:e}){this.editor.stateController.recordBefore({action:P.COLLIDER}),t.colliders.remove(e.id),this.editor.stateController.signals.parameters.dispatch({action:P.COLLIDER}),this.editor.stateController.recordAfter({action:P.COLLIDER})}colliderChangeType({colliderId:t,type:e}){const{sceneEntities:i}=this.editor.selectionController.selectedCollection;this.editor.stateController.recordBefore({action:P.COLLIDER});for(const n of i){const a=n.sceneObject.colliders.getValue(t);if(!a)continue;const l={...M9[e]},c=this._prevShapeMap.get(t);if(c&&c.has(e)){const u=c.get(e);Object.assign(l,u)}const h=a.shape.type,d=a.shape;c?c.set(h,d.baseValues()):this._prevShapeMap.set(t,new Map([[h,d.baseValues()]])),a.shape=l}this.editor.stateController.signals.parameters.dispatch({action:P.COLLIDER}),this.editor.stateController.recordAfter({action:P.COLLIDER})}colliderChangeName({collider:t,name:e}){this.editor.stateController.recordBefore({action:P.COLLIDER}),t.name=e,this.editor.stateController.signals.parameters.dispatch({action:P.COLLIDER}),this.editor.stateController.recordAfter({action:P.COLLIDER})}colliderToggleEnabled({collider:t}){this.editor.stateController.recordBefore({action:P.COLLIDER}),t.isEnabled=!t.isEnabled,this.editor.stateController.signals.parameters.dispatch({action:P.COLLIDER}),this.editor.stateController.recordAfter({action:P.COLLIDER})}emptyChangeType({entities:t,type:e}){this.editor.stateController.recordBefore({action:P.PARAMETERS});for(const i of t){const{parameters:n,type:o}=i.sceneObject;o===L.GROUP&&(n.helperType=e,n.width=n.width??1,n.height=n.height??1,n.depth=n.depth??1)}this.editor.stateController.signals.parameters.dispatch({action:P.PARAMETERS}),this.editor.stateController.recordAfter({action:P.PARAMETERS})}async loadAllFigmaFrames(){const t=i=>{this.editor.stateController.signals.materialMap.dispatch({action:P.MATERIAL_MAP,selection:[i]})},e=(i,n=!1)=>{be.open({id:Ht(),text:i,options:{autoHide:!0,type:n?qn.ERROR:qn.DEFAULT,visibleTime:1e3}})};await nKt(this.sceneEntitiesById,t,e)}setEnvironmentOpacity(t,e=!1){this.scene.background.parameters.type===ln.COLOR&&(this.scene.background.parameters.opacity=t,this.scene.background.isVisible=!0,e&&this.editor.stateController.signals.environmentOpacity.dispatch({action:P.BACKGROUND,background:this.scene.background}))}setBackground(t){this.scene.background=t}setHDRLighting(t){this.statefulScene.setHDRLighting(t)}setUnits(t){t!==this.scene.units&&(this.editor.stateController.recordBefore({action:P.UNITS}),this._setUnits(t),this.editor.stateController.signals.units.dispatch({action:P.UNITS,units:t}),this.editor.stateController.recordAfter({action:P.UNITS}))}setUnitsFromData(t){t!==this.scene.units&&this._setUnits(t)}_setUnits(t){this.scene.units=t,this.editor.viewportController.viewports.forEach(e=>e.gridHelper.setUnits(t))}setSpawnPoint(t){t!==this.scene.spawn&&(this.editor.stateController.recordBefore({action:P.SPAWN}),this.scene.spawn=t,this.editor.stateController.signals.spawn.dispatch({action:P.SPAWN,spawn:t}),this.editor.stateController.recordAfter({action:P.SPAWN}))}setSpawnPointFromData(t){t!==this.scene.spawn&&(this.scene.spawn=t)}setShowBookmarks(t){this.scene.showBookmarks=t,this.editor.stateController.signals.showBookmarks.dispatch({action:P.SHOW_BOOKMARKS,showBookmarks:t})}setShowBookmarksFromData(t){this.scene.showBookmarks=t}setStatesFromData(t,e,i,n){this.statefulScene.setStates(t,e),this.statefulScene.states.setStartState(i),this.statefulScene.setMetadata(n)}setInteractionsFromData(t){this.statefulScene.interactions.setInteractions(t)}setFog(t){t!==this.scene.fog.isEnabled&&(this.editor.stateController.recordBefore({action:P.FOG}),this.scene.fog.isEnabled=t,this.scene.fog={...this.scene.fog},this.editor.stateController.signals.fog.dispatch({action:P.FOG,fog:this.scene.fog}),this.editor.stateController.recordAfter({action:P.FOG}))}setFogFromData(t){this.scene.fog=t}setAmbientLightEnabled(t){t!==this.scene.ambientLight.isEnabled&&(this.editor.stateController.recordBefore({action:P.AMBIENT_LIGHT}),this.scene.ambientLight.isEnabled=t,this.editor.stateController.signals.ambientLight.dispatch({action:P.AMBIENT_LIGHT}),this.editor.stateController.recordAfter({action:P.AMBIENT_LIGHT}))}setAmbientLightFromData(t){this.scene.ambientLight=t}get allObjects(){return this.hierarchy.objects}get visibleObjects(){return this.allObjects.filter(t=>t.visible)}get objectsWithGeometry(){return this.allObjects.filter(t=>!t.isLight)}get directionalLightComponents(){return Object.values(this.sceneEntitiesById).filter(i=>i.type===L.DIRECTIONAL_LIGHT).map(i=>i.getComponent(Rm))}get interactiveObjects(){return Object.values(this._sceneEntitiesById).reduce((t,e)=>{if(e.sceneObject.isInteractive){const i=this.hierarchy.getObject3D(e.id);i!=null&&t.push(i)}return t},[])}get selectedObject(){return this.objectsWithGeometry[this.objectsWithGeometry.length-1]}getParentsRecursive(t){const e=[];for(const i of t)i.forEachParent(n=>{e.push(n)});return e}get parentsOfSelectedEntities(){const t=new Set,{sceneEntities:e}=this.editor.selectionController.selectedCollection;for(const i of e)i&&i.parent&&t.add(i.parent);return t}getCurrentSelectableObjects(t,e,i=!1){if(this._shouldDeepSelect!==i&&(this._selectablesNeedsUpdate=!0,this._shouldDeepSelect=i),!this._selectablesNeedsUpdate)return this._currentSelectableObjects;if(this._selectablesNeedsUpdate=!1,this._currentSelectableObjects.clear(),e.has(Le.TEXT)){for(const n of Object.values(this.sceneEntitiesById))n.type===L.TEXT&&this._currentSelectableObjects.add(n);return this._currentSelectableObjects}if(i)for(const n of Object.values(this.sceneEntitiesById))n.hasChildren||n.isEffectivelyLocked||!n.isEffectivelyVisible||this._currentSelectableObjects.add(n);else for(const n of this.sceneEntityHierarchy)n.isLocked||!n.isEffectivelyVisible||this._currentSelectableObjects.add(n);for(const n of Object.values(this.cameraController.cameraComponentsById)){const o=n.entity.getRootParent();o.isLocked||!o.isEffectivelyVisible||this._currentSelectableObjects.add(o)}if(!i){const n=new Set;for(const o of t.sceneEntities)o.forEachParent(a=>{n.add(a),a.forEachChild(l=>{l.isLocked||!l.isEffectivelyVisible||this._currentSelectableObjects.add(l)})});for(const o of n)this._currentSelectableObjects.delete(o)}return this._currentSelectableObjects}get textEntities(){return Object.values(this.sceneEntitiesById).filter(e=>e.type===L.TEXT)}get selectedObjects(){const t=this.editor.selectionController.selectedCollection.sceneEntities,e=[];for(const i of t){const n=i.getObject3D();n&&e.push(n)}return e}get selectedVisibleObjects(){const t=this.editor.selectionController.selectedCollection.sceneEntityIds;return this.visibleObjects.filter(e=>e.userData.id&&t.has(e.userData.id))}get hoveredVisibleObjects(){const t=this.editor.selectionController.hoveredCollection.sceneEntityIds;return this.visibleObjects.filter(e=>e.userData.id&&t===e.userData.id)}get unselectedVisibleObjects(){const t=this.editor.selectionController.selectedCollection.sceneEntityIds;return this.visibleObjects.filter(e=>e.userData.id&&!t.has(e.userData.id))}getSceneEntityById(t){var i;if(!t)return null;let e=null;return e=this.sceneEntitiesById[t],e||(e=(i=this.cameraController.cameraComponentsById[t])==null?void 0:i.entity,e),e}hasSceneEntity(t){return this.getSceneEntityById(t)!=null}getSceneObjects(t){const e=[];for(const i of t){const n=this.getSceneEntityById(i);n&&e.push(n)}return e}_removeFromHierarchy(t){const e=this._sceneEntityHierarchy.indexOf(t);return e>=0&&this._sceneEntityHierarchy.splice(e,1),e>=0}deleteSceneEntity(t,e=!1,i=!1){if(t.parent!=null&&t.sceneObject.isInstance&&t.parent&&t.parent.sceneObject.isInstance&&!e)return;const n=t.parent&&t.parent.compo.isComponentEntity&&!i;t.type===L.CAMERA&&this.cameraController.deleteCameraEntity(t),this.removeFromParent(t,e,i)&&(this.hierarchy.remove(t),t.dispose(),delete this.sceneEntitiesById[t.id],n&&this.editor.sceneController.componentsController.removeInstanceForComponent(t,i),this.editor.signals.object.removed.dispatch({entity:t}),this.editor.signals.object.sceneGraphChanged.dispatch())}_filterOutInstances(t,e=!0){return t.filter(i=>{var n;if(e&&this._rigBodyParts.has(i.type))return!1;if(i.isReadOnly)if(this._rigBodyParts.has(i.type)){if(i.parent)return!1}else return!1;return!i.compo.isInstance||!i.parent||!((n=i.parent)!=null&&n.compo.isInstance)})}remove(t,e=!1,i=!0,n=!0){const o=e?[...t]:this._filterOutInstances(Array.from(t),!1),a=[],l=new Set;for(const f of o){if(f.isReadOnly)if(this._rigBodyParts.has(f.type)){if(f.parent)continue}else continue;const p=f.compo.isComponentRoot;a.push({transform:f.transform,isComponentRoot:p}),l.add(f.id);const g=f.getComponent(Fs);g&&g.getAllChildren().map(_=>{_.entity.compo.isComponentRoot&&l.add(_.entity.id);const v=_.entity.compo.root,y=v!=null&&l.has(v.id);return a.push({transform:_,isComponentRoot:y}),null})}i&&this.editor.stateController.recordBefore({action:P.DELETE,selection:a.map(f=>f.transform)});const c=new Set,h=new Set,d=new Map,u=[];if(a.map(f=>(f.transform.entity.compo.isComponentEntity&&!f.isComponentRoot&&u.push(f.transform.entity.id),null)),u.length>0){const f=this.componentsController.getInstancesFromComponentSourceIds(u);for(const p of f)d.set(p.id,p.sceneObject.base()),c.add(p.id)}for(const f of a){d.set(f.transform.entity.id,f.transform.entity.sceneObject.base()),c.add(f.transform.entity.id),f.isComponentRoot&&h.add(f.transform.entity.id);let p=e;if(f.transform.entity.compo.isInstance){const g=f.transform.entity.compo.root;g&&(p=e||c.has(g.id))}this.deleteSceneEntity(f.transform.entity,p,f.isComponentRoot),this.deleteInteractionsForSceneEntity(f.transform.entity.id)}return this.editor.signals.object.sceneGraphChanged.dispatch(),n&&this.editor.stateController.signals.delete.dispatch({action:P.DELETE,ids:c,componentRootIds:h,sceneObjects:[...d.values()]}),i&&this.editor.stateController.recordAfter({action:P.DELETE}),this._buildHierarchy(),a}cacheBezelSchema(t,e){let i=this.getSceneEntityById(t.userData.id);if(i==null&&(i=this.editor.sceneController.createGroupEntity(!0)),i&&i.base){const n=JSON.parse(JSON.stringify(i.base));if(i.type===L.TEXT){const o=i.getComponentByType(pt.Material);o&&(n.parameters.color=o.material.color)}e.sceneObjects.push(n),e.nodeId++}else console.warn(`Error: Scene entity or object not found for object with ID: ${String(t.userData.id)}`)}glTFOrdering(t,e){if(t.children.length===0){this.cacheBezelSchema(t,e);return}for(const i of t.children)this.glTFOrdering(i,e);this.cacheBezelSchema(t,e)}exportBezelSchema(t){const e={nodeId:0,sceneObjects:[]};for(const i of t)this.glTFOrdering(i,e);return e.sceneObjects}async exportFromBezi(t={shouldExportScene:!0,shouldValidateOnly:!1,title:"Untitled"},e){try{const{shouldExportScene:i,shouldValidateOnly:n,title:o}=t,{selectionController:a}=this.editor;let l=[...this.hierarchy.exportObjects];if(!l)return!1;const c={validateOnly:n,binary:!1,withExtras:t.shouldExportBehavior,uploadSyncKey:t.uploadSyncKey},h=x6.getExporter(e,c);if(!h)return!1;i||(l=l.filter(f=>a.selectedCollection.sceneEntityIds.has(f.userData.id)));const d=[];l=l.map(f=>(f.traverse(p=>{(!p.userData.id&&p.visible||p.type.endsWith("Helper")||p.type.endsWith("Comment"))&&d.push({object:p,parent:p.parent})}),d.forEach(({object:p,parent:g})=>{g==null||g.remove(p)}),f)),l=l.filter(f=>{var p;return(p=f.userData)==null?void 0:p.id}),c.withExtras&&(c.extrasJson=this.exportBezelSchema(l));const u=await h.exportToFile(l,o??"Untitled",c);return d.forEach(({object:f,parent:p})=>{p==null||p.add(f)}),u}catch(i){return console.warn(i),!1}}selectAndFocusByIds(t,e=!0){var n;const i=[];for(const o of t){const a=this.getSceneEntityById(o);a&&i.push(a)}i.length!==0&&(this.editor.selectionController.selectedCollection.set(i),e&&((n=this.editor.viewportController.mainViewport)==null||n.focus({enableTransition:!0})))}goToObject(t=null,e=null){if(!e)return;this.editor.fileController.id===t||!t?this.selectAndFocusByIds([e]):window.open(`${window.location.origin}/file/${t}?${Vh.SELECT_AND_FOCUS}=${e}`,"_blank")}_buildHierarchy(){this.hierarchy.build()}_addToHierarchy(t,e){this.hierarchy.add(t,e)}_insertChild(t,e,i,n=null){e.insertChild(t,i,n)}get behaviorsToUpdate(){return this._behaviorsToUpdate}addBehaviorToUpdate(t){this._behaviorsToUpdate.add(t),!(this.editor.isPlayMode||this.editor.isPublishedMode)&&t.entity.setIsPreviewing(!0)}removeBehaviorToUpdate(t){this.editor.isPlayMode||this.editor.isPublishedMode||(this._behaviorsToUpdate.delete(t),t.entity.setIsPreviewing(!1))}updateBehaviors(t){if(this._behaviorsToUpdate.size<1)return!1;for(const e of this._behaviorsToUpdate)e.update(t);return!0}get bodyRigComponent(){return this._bodyRigComponent}setXrRigComponent(t){this._bodyRigComponent=t,t==null&&Zb.clearBodyRigInstance()}replaceSelectedShapeWithAsset(t,e=!1){const i=this.editor.selectionController.selectedCollection;if(i.sceneEntities.size<1)return;const n=Array.from(i.sceneEntities)[0];n.getComponent(Js)==null&&(xA.has(n.type)||this._replaceShapeWithAsset(n,t,e))}async _replaceShapeWithAsset(t,e,i=!1){if(!e.modelUrl)return null;const n=t.type;t.removeComponentsByType(pt.Geometry,pt.Light,pt.Text,pt.AnimatedModel,pt.Animation);const o=t.sceneObject.parameters.baseValues(),a=t.hasChildren;let l=[];if(a){const _=t.getComponent(Fs);_&&(l=this.remove(_.children.map(v=>v.entity),!0,!1,!1))}t.removeComponentsByType(pt.Group);const c=t.getComponent(_e),h=new Fs(t);c&&t.removeComponentsByType(pt.Material);const d={...K4,helperType:Pi.NONE},u=L.GROUP;if(!h||!d||Object.keys(d).length===0)return null;t.type=u;for(const[_,v]of Object.entries(o))d.hasOwnProperty(_)&&(d[_]=v);t.sceneObject.parameters.copyToBase(d),(sG(t.base)||lG(t.base)||rG(t.base)||nG(t.base)||jk(t.base)||hG(t.base))&&(t.removeComponentsByType(pt.Mesh),t.addComponent(h));const f=t.id,p=n!=L.GROUP?{x:o.width??1,y:o.height??1,z:o.depth??1}:{x:1,y:1,z:1},g=await xs(e.modelUrl);if(!g)return null;this.fileLoader.loadFileFromUrl(g,e.input??"model",os.glb,Ht(),!1,async _=>{const v=_.data;if(v.length<0)return;const y=v[0].model,b=new Us;b.setFromObject(y);const C=new w;b.getSize(C);let x=p.x,I=0;const O=[p.x,p.y,p.z];for(let F=0;F<3;F++)O[F]<x&&(x=O[F],I=F);const T=n!=L.GROUP?x/C.getComponent(I):1,D={x:T,y:T,z:T},B=await this.addModel(_.data,e.input,zh.None,null,f,D,!1,!1);this.editor.stateController.signals.replaceShape.dispatch({objectsToCreate:B,objectsToDelete:l.map(F=>F.transform.entity.sceneObject.clone()),objectsToUpdate:[t.sceneObject.clone()],action:P.REPLACE_SHAPE}),be.open({id:Ht(),text:`"${e.input??"model"}" uploaded.`,options:{type:qn.SUCCESS}})}),this._dispatchChanged()}}kt([V],Nt.prototype,"_coordinateSpace",2);kt([V],Nt.prototype,"_sceneEntitiesById",2);kt([V],Nt.prototype,"_sceneEntityHierarchy",2);kt([V],Nt.prototype,"_sceneEntitiesCount",2);kt([M],Nt.prototype,"sceneEntitiesCount",1);kt([M],Nt.prototype,"sceneEntitiesByParentId",1);kt([M],Nt.prototype,"allInteractionsComponents",1);kt([E],Nt.prototype,"clearSceneEntities",1);kt([E],Nt.prototype,"toggleSpace",1);kt([E],Nt.prototype,"toggleVisibility",1);kt([E],Nt.prototype,"toggleLock",1);kt([E],Nt.prototype,"toggleProperty",1);kt([E],Nt.prototype,"hideInverse",1);kt([E],Nt.prototype,"lockInverse",1);kt([E],Nt.prototype,"setPropertyOnOtherEntities",1);kt([E],Nt.prototype,"unhideAll",1);kt([E],Nt.prototype,"unlockAll",1);kt([E],Nt.prototype,"unsetAll",1);kt([E],Nt.prototype,"setScene",1);kt([E],Nt.prototype,"addImage",1);kt([E],Nt.prototype,"addSoundToScene",1);kt([E],Nt.prototype,"addModel",1);kt([E],Nt.prototype,"setAllObjectStates",1);kt([E],Nt.prototype,"removeFromParent",1);kt([E],Nt.prototype,"removeObjectFromData",1);kt([E],Nt.prototype,"addBooleanShape",1);kt([E],Nt.prototype,"addObjectFromData",1);kt([E],Nt.prototype,"makeCurveIntoMesh",1);kt([E],Nt.prototype,"_addModelFromData",1);kt([E],Nt.prototype,"updateObjectFromData",1);kt([E],Nt.prototype,"_moveToParentFromData",1);kt([E],Nt.prototype,"_cloneSceneObject",1);kt([E],Nt.prototype,"duplicateSelectedItemsFromCommand",1);kt([E],Nt.prototype,"duplicateSelectedItemsFromAltDrag",1);kt([E],Nt.prototype,"duplicateSceneEntity",1);kt([E],Nt.prototype,"copySceneObject",1);kt([E],Nt.prototype,"pasteObjects",1);kt([E],Nt.prototype,"selectBetween",1);kt([E],Nt.prototype,"reorder",1);kt([E],Nt.prototype,"_refreshConstraints",1);kt([E],Nt.prototype,"toggleAnchor",1);kt([E],Nt.prototype,"frameFitChild",1);kt([E],Nt.prototype,"frameFitChildren",1);kt([E],Nt.prototype,"groupSelectedObjectsAsFrame",1);kt([E],Nt.prototype,"groupSelectedObjects",1);kt([E],Nt.prototype,"_applyFrameState",1);kt([E],Nt.prototype,"_updateStateTransforms",1);kt([E],Nt.prototype,"addSceneEntity",1);kt([E],Nt.prototype,"_addSceneEntityFromData",1);kt([E],Nt.prototype,"_attachToRootFromData",1);kt([E],Nt.prototype,"ungroupSelectedGroup",1);kt([E],Nt.prototype,"selectAllObjects",1);kt([E],Nt.prototype,"applyScale",1);kt([V],Nt.prototype,"_alignmentScope",2);kt([M],Nt.prototype,"alignmentScope",1);kt([E],Nt.prototype,"toggleAlignmentScope",1);kt([E],Nt.prototype,"alignSceneEntities",1);kt([E],Nt.prototype,"distributeSceneEntities",1);kt([E],Nt.prototype,"addCollider",1);kt([E],Nt.prototype,"removeCollider",1);kt([E],Nt.prototype,"colliderChangeType",1);kt([E],Nt.prototype,"colliderChangeName",1);kt([E],Nt.prototype,"colliderToggleEnabled",1);kt([E],Nt.prototype,"emptyChangeType",1);kt([E],Nt.prototype,"loadAllFigmaFrames",1);kt([E],Nt.prototype,"setEnvironmentOpacity",1);kt([E],Nt.prototype,"setBackground",1);kt([E],Nt.prototype,"setHDRLighting",1);kt([E],Nt.prototype,"setUnits",1);kt([E],Nt.prototype,"setUnitsFromData",1);kt([E],Nt.prototype,"setSpawnPoint",1);kt([E],Nt.prototype,"setSpawnPointFromData",1);kt([E],Nt.prototype,"setShowBookmarks",1);kt([E],Nt.prototype,"setShowBookmarksFromData",1);kt([E],Nt.prototype,"setStatesFromData",1);kt([E],Nt.prototype,"setInteractionsFromData",1);kt([E],Nt.prototype,"setFog",1);kt([E],Nt.prototype,"setFogFromData",1);kt([E],Nt.prototype,"setAmbientLightEnabled",1);kt([E],Nt.prototype,"setAmbientLightFromData",1);kt([M],Nt.prototype,"directionalLightComponents",1);kt([M],Nt.prototype,"parentsOfSelectedEntities",1);kt([E],Nt.prototype,"_removeFromHierarchy",1);kt([E],Nt.prototype,"deleteSceneEntity",1);kt([E],Nt.prototype,"remove",1);kt([E],Nt.prototype,"cacheBezelSchema",1);kt([E],Nt.prototype,"addBehaviorToUpdate",1);kt([E],Nt.prototype,"removeBehaviorToUpdate",1);kt([E],Nt.prototype,"replaceSelectedShapeWithAsset",1);kt([E],Nt.prototype,"_replaceShapeWithAsset",1);function KP(s,t,e,i,n){const o=new w(e.x,e.y,e.z),a=new ke().setFromEuler(new ls().set(i.x,i.y,i.z)),l=new w(n.x,n.y,n.z),c=new Lt().compose(o,a,l),h=s.transform.localToWorld(c);return gbt(h,t)}function gbt(s,t){const e=new Lt().multiplyMatrices(t,s),i={x:0,y:0,z:0},n={x:0,y:0,z:0},o={x:1,y:1,z:1};return Hi.decomposeMatrix4(e,i,n,o),{position:i,rotation:n,scale:o}}var _bt=Object.defineProperty,vbt=Object.getOwnPropertyDescriptor,ybt=(s,t,e,i)=>{for(var n=vbt(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&_bt(t,e,n),n};class pG extends Nt{constructor(t){super(t),vt(this)}setSceneEntities(t){this._sceneEntitiesById=t}_buildHierarchy(){}_addToHierarchy(){}_insertChild(t,e,i,n=null){e.insertChild(t,i,n,!1)}}ybt([E],pG.prototype,"setSceneEntities");var bbt=Object.defineProperty,Cbt=(s,t,e)=>t in s?bbt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,wbt=(s,t,e)=>(Cbt(s,t+"",e),e);class mG{constructor(t){this._featureFlagService=t,wbt(this,"_commandId2Disposers",new Map)}runEffectForCommand(t,e){const i=t.featureFlag,{featureFlags:n}=this._featureFlagService;if(i==null){e();return}const o=()=>n!=null&&!!n[i];if(o()){e();return}const a=qZ(()=>o(),()=>e());return new tt(()=>a())}}var xbt=Object.defineProperty,Ebt=(s,t,e)=>t in s?xbt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,K1=(s,t,e)=>(Ebt(s,typeof t!="symbol"?t+"":t,e),e);class Sbt{constructor(t){this._editor=t,K1(this,"disposable",new Zt),K1(this,"target"),K1(this,"_featureFlagHelper"),K1(this,"_isDisabled",!1),K1(this,"lastCommandID"),K1(this,"lastCommandEvent"),this._featureFlagHelper=new mG(this._editor.featureFlagService);const e=i=>this.onPointerMove(i);window.addEventListener("pointermove",e),this.disposable.add(new tt(()=>{window.removeEventListener("pointermove",e)})),this.disposable.add(new tt(()=>{this.lastCommandEvent=void 0})),Uw.prototype.stopCallback=function(i,n,o){if((" "+n.className+" ").indexOf(" mousetrap ")>-1)return!1;const a=o==="mod+z"||o==="mod+shift+z",l=o==="tab";return n.tagName=="INPUT"&&n.type!=="range"&&!a||n.tagName=="SELECT"||n.tagName=="TEXTAREA"||n.tagName=="BUTTON"&&l||n.role==="option"}}dispose(){this.disposable.dispose()}set isDisabled(t){this._isDisabled=t}isCommandAllowed(t,e){const i=e.hasAccessOf(t.accessLevel)??!1,n=!t.isDevOnly||this._editor.authController.auth.isDev;return i&&n}registerCommandBindings(t,e,i){const n=new Zt;for(const[o,a]of Object.entries(e)){const l=de[o];if(!l||!this.isCommandAllowed(l,i))continue;const c=this._featureFlagHelper.runEffectForCommand(l,()=>{t.addEventListener(o,a)});c&&n.add(c),n.add(new tt(()=>t.removeEventListener(o,a)))}return n}dispatchEventFromKeyboard(t,e,i){if(this._isDisabled)return;t.preventDefault();const n=new CustomEvent(e,{bubbles:!0,cancelable:!0});Object.defineProperty(n,"target",{value:this.target}),Object.defineProperty(n,"key",{value:t.key}),Object.defineProperty(n,"code",{value:t.code}),this.dispatchEvent(n,i)}dispatchEventFromMenu(t,e,i){const n=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:{param:i}});this.dispatchEvent(n,e)}dispatchEvent(t,e){e.dispatchEvent(t);const{type:i}=t;de[i].isRepeatable!==!1&&(this.lastCommandID=i,this.lastCommandEvent=t)}addKeyListeners(t,e,i=!0,n){var l;const o=new Uw(i?t:void 0),a=new Zt;for(const c of e){const h=de[c];if(!h||!this.isCommandAllowed(h,n))continue;const d=(l=h.defaultKeys)==null?void 0:l.map(f=>f.toLowerCase());if(!d)continue;const u=this._featureFlagHelper.runEffectForCommand(h,()=>{o.bind(d,f=>{f.repeat||this.dispatchEventFromKeyboard(f,h.id,t)})});u&&a.add(u),a.add(new tt(()=>{o.unbind(d)}))}return a}onPointerMove(t){const{target:e}=t;e instanceof HTMLElement&&(this.target=e)}}var gG=Object.defineProperty,Ibt=Object.getOwnPropertyDescriptor,Abt=(s,t,e)=>t in s?gG(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,n3=(s,t,e,i)=>{for(var n=i>1?void 0:i?Ibt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&gG(t,e,n),n},Sc=(s,t,e)=>(Abt(s,typeof t!="symbol"?t+"":t,e),e);class Qb{constructor(t){this.editor=t,Sc(this,"_instanceToComponent",new Map),Sc(this,"_componentRoots",new Set),Sc(this,"_assetEntities"),Sc(this,"_componentAssetsById",new Map),Sc(this,"_remoteSourceFileIdsByComponentId",new Map),Sc(this,"disposable",new Zt),Sc(this,"_restoringMainComponents",new Set),Sc(this,"_eventQueue",new r_),Sc(this,"_isQueueRunning",!1),Sc(this,"nonOverridableProperties",new Set(["id","parent","isInstance","isVisible","activeState","ttl"])),Sc(this,"_instancesToUpdate",new Set),Sc(this,"_updatedMaterialIds",new Set),this._assetEntities=new ho,vt(this)}dispose(){this.disposable.dispose()}get restoringMainComponents(){return this._restoringMainComponents}async addComponentsAndInstancesFromData(t,e,i){const n=new Map,o=await yB(Array.from(t));for(const a of o){if(a.file!=this.editor.fileController.id&&(this._remoteSourceFileIdsByComponentId.set(a.id,a.file),Array.isArray(a.data)))for(const l of a.data)this._remoteSourceFileIdsByComponentId.set(l.id,a.file);this._componentAssetsById.set(a.id,a)}for(const a of o)for(const[l,c]of Object.entries(a.data))l==="0"&&(this._componentRoots.add(c.id),n.set(c.asset,c.assetVersion));for(const a of i){const l=this.editor.sceneController.getSceneEntityById(a.instanceId);if(this.editor.sceneController.getSceneEntityById(a.sourceId)){this.registerInstance(a.instanceId,a.sourceId);continue}if(!l||!l.sceneObject.asset||!l.compo.isInstanceRoot||!t.has(l.sceneObject.asset))continue;l.sceneObject.assetVersion;const h=n.get(l.sceneObject.asset)??0;await this._replaceInstanceWithRemoteComponent(l,l.sceneObject.asset,!1,h,o)}t.clear(),e.clear(),i.clear()}isInstanceChild(t){return!t.compo.isInstanceRoot}isComponentRoot(t){return this._componentRoots.has(t)}getComponentSourceIdFromInstanceId(t){return this._instanceToComponent.get(t)??null}getComponentAsset(t){return this._componentAssetsById.get(t)}_getComponentSourceById(t){let e=this.editor.sceneController.getSceneEntityById(t);if(e||(e=this._assetEntities.get(t)),!e)return null;if(e.sceneObject.isInstance){if(!(e.parent!=null&&e.sceneObject.asset===e.parent.sceneObject.asset))return e;const n=e.getComponent(Js);if(!n)return null;e=this.editor.sceneController.getSceneEntityById(n.component.id)}return e}getInstancesFromComponentSourceIds(t){const e=[],i=new Set(t);for(const[n,o]of this._instanceToComponent.entries())if(i.has(o)){const a=this.editor.sceneController.getSceneEntityById(n);a&&e.push(a)}return e}collectSceneObjects(t){const e=[];return this.editor.sceneController.fetchSceneObject(t,e,!0),e}updateInstanceType(t,e){e.type===L.SHAPE&&this.editor.sceneController.convertIntoShape(t)}updateInstanceGeometry(t,e){if(t.type!==L.SHAPE||e.type!==L.SHAPE)return;const i=e.getComponent(Wi),n=t.getComponent(Wi);i&&n&&i.base&&n.setGeometry(i.base)}_recursivelyCopyComponentsToInstances(t,e,i,n){if(n.has(t))return;const o=No(t.sceneObject.clone());o.id=j0(),o.parent=e,o.isInstance=!0,o.assetSource=t.id,this.registerInstance(o.id,t.id),this._instancesToUpdate.add(o),i.push(o);const a=t.getComponent(Fs);a&&a.children.forEach(c=>{this._recursivelyCopyComponentsToInstances(c.entity,o.id,i,n)})}replaceInstance(t,e){if(t.id===e)return;const i=[...this._componentRoots].find(n=>{const o=this.editor.sceneController.getSceneEntityById(n);return!(!o||o.compo.isInstanceRoot||o.compo.componentID!=e)});if(i){const n=this.editor.sceneController.getSceneEntityById(i);if(n){this._replaceInstanceWithLocalComponent(t,n,e);return}}this._replaceInstanceWithRemoteComponent(t,e)}_replaceInstanceWithLocalComponent(t,e,i){const n=t.getComponent(Fs);if(!n)return;const o=e.getComponent(Fs);if(!o)return;const a=t.getComponent(Js);if(!a)return;a.setComponent(e);const l=new Set;t.sceneObject.asset=i,l.add(t.id);const c=n.childEntities;for(const f of c)this._instanceToComponent.delete(f.id);this.editor.sceneController.remove(c,!0,!1);const h=[],d=[],u=[];for(const f of o.childEntities)this.editor.sceneController.duplicateSceneEntity(f,t.id,l,h,d,u,!0,!0);this.editor.sceneController.isEditorMode&&this.editor.stateController.signals.newShape.dispatch({action:P.NEW_SHAPE,ids:l})}async _replaceInstanceWithRemoteComponent(t,e,i=!0,n=0,o=null){const a=t.id,l=t.getComponent(Fs);if(!l)return;const c=o?o.find(y=>y.id===e):await s1(e);if(!c)return;const h={};let d=null;const u={},f=new Set;t.sceneObject.asset=e,t.sceneObject.assetVersion=n,f.add(t.id);const p=l.childEntities,g={};for(const y of l.allChildEntities)!y.sceneObject.isInstance||!y.sceneObject.assetSource||(g[y.sceneObject.assetSource]=y.sceneObject.overrides);for(const y of p)this._instanceToComponent.delete(y.id),f.add(y.id);this.editor.sceneController.remove(p,!0,!1,!1);let _=-1;for(const y of c.data){f.add(y.id),_++;const b={...y};g[y.id]&&(b.overrides=g[y.id]);const C=Hf.build(this.editor,b);if(this._assetEntities.set(b.id,C),_===0){d=b.id,h[y.id]=a;continue}const x=_t();h[y.id]=x;const I={...b,id:x,lastUpdated:Date.now(),lastWriter:he.sessionID,isInstance:!0,assetSource:b.id,assetVersion:n};u[x]=I}for(const y in u){const b=u[y].parent;b&&(b===d?u[y].parent=t.id:u[y].parent=h[b])}await this.editor.materialController.loadMaterialsByObjects(Object.values(u),!1);const v={};Object.values(u).map(y=>{const b=y.parent;if(!b)return v[y.id]=y,!0;const C=u[b];return C&&C.asset!==e?!1:(v[y.id]=y,!0)}),this.editor.fileController.processObjectsData(v);for(const[y,b]of Object.entries(h)){const C=this.editor.sceneController.getSceneEntityById(b),x=this._getComponentSourceById(y);!C||!x||this.registerInstance(b,y)}i&&this.editor.sceneController.isEditorMode&&this.editor.stateController.signals.newShape.dispatch({action:P.NEW_SHAPE,ids:f})}async registerInstance(t,e){const i=this._getComponentSourceById(e),n=this.editor.sceneController.getSceneEntityById(t);if(n!=null&&n.sceneObject.asset!=null&&this._componentAssetsById.get(n.sceneObject.asset)==null){const a=await s1(n.sceneObject.asset);a!=null&&this._componentAssetsById.set(a.id,a)}if(!i||!n)return;if(!n.getComponent(Js)){const a=new Js(n,i);n.compo.isInstance=!0,n.addComponent(a)}}registerComponentRoot(t){this._componentRoots.has(t)||this._componentRoots.add(t)}unregisterUnlinkedInstance(t,e=!0){var a;const i=this._instanceToComponent.get(t),n=this.editor.sceneController.getSceneEntityById(t);if(this._instanceToComponent.delete(t),!n)return;const o=n.parent;if(o&&!o.compo.isInstance&&e){for(const[l,c]of this._instanceToComponent.entries())if(c===t||c===i){const h=this.editor.sceneController.getSceneEntityById(l);if(!h||!((a=h.parent)!=null&&a.sceneObject.isInstance))continue;this._instanceToComponent.set(l,t),h.sceneObject.assetSource=t,h&&n&&(h.sceneObject.asset=n.sceneObject.asset)}}}async createNewComponent(){var _;Ft("components-new-component");const t=this.editor.selectionController.firstSelectedSceneEntity,e=this.editor.selectionController.selectedCollection.sceneEntities;if(!t)return;let i=null;const n=[];if(t.forEachChildRecursive(v=>{this._componentRoots.has(v.id)&&!v.compo.isInstance&&n.push(v)}),e.size===1&&t.type===L.GROUP)i=t;else{if(i=this.editor.sceneController.groupSelectedObjects(!1),!i)return;i.setName("Component"),i.setName(this.editor.sceneController.getNextAvailableName(i))}if(!i)return;const o=new Set,a=[],l=[],c=[];for(const v of n)this.editor.sceneController.duplicateSceneEntity(v,v.parent?v.parent.id:null,o,a,l,c,!0),this.editor.sceneController.reorder([v],ns.BEFORE,i,null);if(i==null)return;const h=_t();i.compo.create(h);const d=this.collectSceneObjects(i),u=d.map(v=>(v.asset=v.asset??h,No(v)));if(!u)return;this.registerComponentRoot(i.id);const f=await ab({id:h,name:i.name,description:"",type:Ae.COMPONENT,team:((_=this.editor.fileController.team)==null?void 0:_.id)||"-",file:this.editor.fileController.id,source:i.id,data:JSON.stringify(u),isPrivate:!0,lastWriter:he.sessionID});if(!f)return;this._componentAssetsById.set(h,f);const p=_t(),g=await EB(h,null,[i],p);g&&(f.preview=g),this.editor.stateController.signals.component.dispatch({action:P.COMPONENT_ADD,assetId:h,ids:new Set(d.map(v=>v.id))}),this.editor.libraryController.addAsset(f,Ae.COMPONENT)}async _restoreComponentFromLibrary(t,e,i){Ft("components-restore-component");const n={},o={};e.forEach((a,l)=>{const c=a.id;o[a.id]=c;const h={...a,id:c,...l===0?{name:t}:{},...l===0?{position:i}:{},...l===0?{parent:null}:{},lastUpdated:Date.now(),lastWriter:he.sessionID,isInstance:!1};n[c]=h;for(const[d,u]of this._instanceToComponent)u===a.id&&this._instanceToComponent.set(d,c)});for(const a in n){const l=n[a].parent;l&&(n[a].parent=o[l])}return await this.editor.materialController.loadMaterialsByObjects(Object.values(n),!1),this.editor.fileController.processObjectsData(n),this.editor.stateController.signals.newShape.dispatch({action:P.NEW_SHAPE,ids:new Set(Object.keys(n))}),Object.values(n)}async _convertAssetVersionIfNeeded(t){const e=[],i=[],n=Object.values(t);for(const o of n)if(o.version!==Qg){const a=await _F(o,pi.fileID,t,this.editor.sceneController.scene.base());a.object!=null&&(e.push(a.object),t[o.id]=a.object),a.material!=null&&i.push(a.material)}return e.length>0&&await Ws(e,pi.fileID),i.length>0&&tA(i),Object.values(t)}async addInstanceFromLibrary(t,e={x:0,y:0,z:0},i=!0){var n;try{const o=t.team===uo.BEZI,a={},l=j0();let c=i;if(o){Ft("assets-add-from-asset-library");const h=await Wpt(t,this.editor.fileController.id,((n=this.editor.fileController.team)==null?void 0:n.id)||"-",this.editor.materialController);if(!h)throw new Error("Failed importing bezel asset");const d=await this._convertAssetVersionIfNeeded(h);for(let u=0;u<d.length;u++){const f=d[u];u===0&&(f.position=e,f.parent=null),a[f.id]=f}c=!1}else{Ft("components-add-instance-library");const h={};for(let d=0;d<t.data.length;d++){const u=t.data[d],f=d===0?l:j0();h[u.id]=f;const p={...u,id:f,...d===0?{name:t.name}:{},...d===0?{position:e}:{},...d===0?{parent:null}:{},lastUpdated:Date.now(),lastWriter:he.sessionID,isInstance:!0,assetSource:u.id};if(a[f]=p,this.registerInstance(f,u.id),!this.editor.sceneController.getSceneEntityById(u.id))break}for(const d in a){const u=a[d].parent;u&&(a[d].parent=h[u])}}await this.editor.materialController.loadMaterialsByObjects(Object.values(a),!1),this.editor.fileController.processObjectsData(a),this.editor.sceneController.isEditorMode&&this.editor.stateController.signals.newShape.dispatch({action:P.NEW_SHAPE,ids:new Set(Object.keys(a))}),c&&this.editor.sceneController.selectAndFocusByIds([l],!1)}catch(o){console.error(o)}}addInstanceFromSelection(){if(Ft("components-add-instance-selection"),this.editor.selectionController.selectedCollection.sceneEntities.size!==1)return!1;const e=this.editor.selectionController.firstSelectedSceneEntity;if(!e||!e.compo.componentID||!e.compo.isRoot)return!1;this.editor.sceneController.duplicateSelectedItemsFromCommand()}unlinkInstance(t,e=!0){var u,f;Ft("components-unlink-instance");let i=[],n=null;if(t)i=t;else{if(n=this.editor.selectionController.firstSelectedSceneEntity,n==null)return;i=this.collectSceneObjects(n).filter(p=>n?p.asset===n.sceneObject.asset:!1)}const o=this.editor.sceneController.getSceneObjects(i.map(({id:p})=>p));if(o.length<1)return;const a=new Set(i.map(p=>p.id)),l={action:P.INSTANCE_UNLINK,ids:a};this.editor.stateController.recordBefore(l);let c=null,h=!1;const d=o[0];for(const p of o){p.compo.isRoot&&(c=((u=p.parent)==null?void 0:u.sceneObject.asset)??null,h=((f=p.parent)==null?void 0:f.compo.isInstance)??!1),p.compo.isRoot&&this._componentRoots.delete(p.id);let g={},_=null;if(p.id!==d.id){const b=p.sceneObject.baseValues(),{overrides:C}=b;C!=null&&bo.isObject(C==null?void 0:C.material)&&(g=C.material??{},delete C.material),b.overrides={},_=Fw(b,C)}p.compo.remove(),p.removeComponentsByType(pt.Instance),this.unregisterUnlinkedInstance(p.id,e),_!=null&&p.sceneObject.copyToBase(_);const v=p.sceneObject;if(!v.allMaterialIDs)continue;const y={};for(const b of v.allMaterialIDs){if(b in y)continue;const C=this.editor.materialController.materials[b];if(!C)continue;const x=Qh({data:JSON.stringify({...C.data,...g})},this.editor.materialController).id;y[b]=x}om(p.base,y)}this.editor.stateController.signals.component.dispatch({action:P.INSTANCE_UNLINK,assetId:c,isInstance:h,ids:a}),this.editor.stateController.recordAfter(l),n&&this._unlinkInstanceParentIfNeeded(n)}_unlinkInstanceParentIfNeeded(t){const e=t.parent;if(!e)return;const i=e.compo.root,n=e.compo.isInstance;if(i==null||!n)return;const o=this.collectSceneObjects(i).filter(a=>a.asset===i.sceneObject.asset);this.unlinkInstance(o,!1)}async goToMainComponent(t=null){try{const[e]=this.editor.selectionController.selectedCollection.sceneEntities,i=t||(e==null?void 0:e.compo);if(!i||!i.componentID||!i.isInstance)throw new Error("Not found instance component");const n=i.entity.getComponent(Js);if(!n)throw new Error("Not found instance component");if(this.editor.sceneController.getSceneEntityById(n.component.id)){this.editor.sceneController.goToObject(null,n.component.id);return}const a=await u6(i.componentID);if(!a)throw new Error("Not found asset corresponding to component");const{file:l,source:c}=a;this.editor.sceneController.goToObject(l,c)}catch(e){console.error(e)}}async restoreMainComponent(t=null){var e;try{const[i]=this.editor.selectionController.selectedCollection.sceneEntities,n=t||(i==null?void 0:i.compo);if(!n||!n.componentID||!n.isInstance)throw new Error("Not found instance component");const o=await u6(n.componentID);if(!o)throw new Error("Not found asset corresponding to component");const{id:a,name:l,file:c,source:h,data:d}=o,u=await this.editor.fileApi.getFile(c);if(h&&u)return this.editor.sceneController.goToObject(c,h);if(!d||d.length<0)throw new Error("Improper data of component");u&&this._continueRestoringMainComponent(a,l,((e=u.team)==null?void 0:e.id)||"-",u.id,d,n.entity.transform.position)}catch(i){console.error(i)}}async _continueRestoringMainComponent(t,e,i,n,o,a){var l;try{const c=((l=this.editor.fileController.team)==null?void 0:l.id)||"-",h=this.editor.fileController.id;let d="",u="",f=[],p="";if(this.restoringMainComponents.add(t),h===n)f=await this._restoreComponentFromLibrary(e,o,a),d=c,u=h,p=f[0].id;else{const g={lastWriter:he.sessionID,lastUpdated:Date.now()};f=o.map(_=>({..._,...g})),d=i,u=n,p=f[0].id,await Gb(f,n)}await qc({id:t,team:d,file:u,source:p,data:JSON.stringify(f)}),this.restoringMainComponents.delete(t),this.editor.sceneController.goToObject(u,p)}catch(c){console.error(c)}}createOrMoveInstanceForComponent(t,e){const i=t.parent;if(i){if(e==null||e.sceneObject.asset!=i.sceneObject.asset){this._duplicateComponent(t,i);return}if(e!=null&&e.sceneObject.asset===i.sceneObject.asset){this._moveComponent(t,i,e);return}}}_duplicateComponent(t,e){const i=Object.values(this.editor.sceneController.sceneEntitiesById).filter(n=>{if(!n.compo.isInstanceEntity)return!1;const o=n.getComponent(Js);return!(!o||o.component.id!==e.id)});for(const n of i){const o=[],a=[];this.editor.sceneController.copySceneObject(t,e.id,o,!1,!0,!0,a);const l=new Set(o.map(h=>h.id));let c=!0;for(let h=0;h<o.length;h++){const d=o[h],u=a[h];u.compo.isInstanceRoot&&(c=!1),d.isInstance=!0,c&&(d.asset=n.sceneObject.asset),d.assetSource=u.sceneObject.assetSource??u.id,(d.parent==null||!l.has(d.parent))&&(d.parent=n.id);const f=this.editor.sceneController.addObjectFromData(d),p=new Js(f,u);f.addComponent(p),this._instancesToUpdate.add(f.base)}}this.updateInstancesRemotely(P.COMPONENT_UPDATE)}_moveComponent(t,e,i){const n={};Object.values(this.editor.sceneController.sceneEntitiesById).forEach(o=>{if(!o.sceneObject.isInstance)return;const a=o.getComponent(Js);if(!a)return;const l=a.entity.compo.getRoot();l&&(n[l.id]||(n[l.id]={parent:null,child:null}),a.component.id===t.id&&(n[l.id].child=o),a.component.id===e.id&&(n[l.id].parent=o))});for(const o of Object.values(n))o.child==null||o.parent==null||(this.editor.sceneController.move(o.child,ns.AFTER,null,o.parent,!0),this._instancesToUpdate.add(o.child.base));this.updateInstancesRemotely(P.COMPONENT_UPDATE)}async removeInstanceForComponent(t,e=!1){if(e)return;const i=t.allChildren.map(a=>a.id),n=new Set(i);n.add(t.id);const o=Object.values(this.editor.sceneController.sceneEntitiesById).filter(a=>{if(!a.compo.isInstanceEntity)return!1;const l=a.getComponent(Js);if(!l)return!1;if(n.has(l.component.id))return!0;const c=l.entity.compo.getRoot();if(!c)return!1;const h=c.getComponent(Js);return h?!!n.has(h.component.id):!1});for(const a of o)this.editor.sceneController.deleteSceneEntity(a,!0),this._instancesToUpdate.add(a.base);this.updateInstancesRemotely(P.DELETE),await vj(R4),(!t.parent||!t.parent.sceneObject.asset)&&!t.compo.isInstanceRoot&&t.forThisAndEachChildRecursive(a=>{this._instancesToUpdate.add(a.base),a.compo.componentID=null,a.compo.isInstance=!1,a.sceneObject.asset=null,a.sceneObject.assetSource=null,a.sceneObject.assetVersion=0}),this.updateInstancesRemotely(P.COMPONENT_UPDATE)}setActiveStateOnInstances(t,e){const i=Object.values(this.editor.sceneController.sceneEntitiesById).filter(n=>{if(!n.compo.isInstanceEntity)return!1;const o=n.getComponent(Js);return!(!o||o.component.id!==t.id)});for(const n of i)n.states.setActiveState(e),this._instancesToUpdate.add(n.base);this.updateInstancesRemotely(P.COMPONENT_UPDATE)}async _runEventQueue(){if(!this._isQueueRunning){for(this._isQueueRunning=!0;this._eventQueue.size()>0;){const t=this._eventQueue.dequeue();if(!t)continue;await f7(R4);const e=new Set;switch(t.action){case P.COMPONENT_UPDATE:{this.editor.stateController.signals.updateInstances.dispatch({action:P.COMPONENT_UPDATE,sceneObjects:t.sceneObjects,componentRootIds:e,ids:e});break}case P.DELETE:{this.editor.stateController.signals.delete.dispatch({action:P.DELETE,sceneObjects:t.sceneObjects,componentRootIds:e,ids:e});break}case P.INSTANCE_PUSH_TO_MAIN:this.editor.stateController.signals.pushInstanceToMain.dispatch({action:P.INSTANCE_PUSH_TO_MAIN,sceneObjects:t.sceneObjects,sourceFileIdsByObjectId:this._remoteSourceFileIdsByComponentId,instanceComponent:t.instanceComponent,updatedMaterialIds:this._updatedMaterialIds})}}this._isQueueRunning=!1}}promoteInstanceToComponent(t){const e=this.editor.selectionController.firstSelectedSceneEntity;if(!e||!e.sceneObject.isInstance)return;const i=e.getComponent(Js);i&&(e.compo.isInstanceRoot?i.entity.forThisAndEachChildRecursive(o=>{const a=o.getComponent(Js);a&&this._promoteInstance(a,t)}):this._promoteInstance(i,t),this.updateInstancesRemotely(P.INSTANCE_PUSH_TO_MAIN,{instanceComponent:i}))}_promoteInstance(t,e){const i=t.component,n=t.overrides,o=t.materialOverrides;if(n){for(const[a,l]of Object.entries(n))if(a!=="material"&&!this.nonOverridableProperties.has(a)&&!(e==="transform"&&!["position","rotation","scale"].includes(a))){if(bo.isObject(l)){const c=i[a];i[a]=Fw(c,l)}else i[a]=l;t.deleteOverride(a)}if(!(e&&e!=="material")){if(Object.keys(o).length>0&&i.material!=null){const a=t.entity.getComponent(_e),l=this.editor.materialController.materials[a.materialID];if(l!=null){for(const[c,h]of Object.entries(o))l.data[c]=h,t.deleteMaterialOverride(c);this._updatedMaterialIds.add(a.materialID)}}this._instancesToUpdate.add(t.entity.base),this._instancesToUpdate.add(i)}}}resetInstanceToComponent(){const t=this.editor.selectionController.firstSelectedSceneEntity;if(!t||!t.sceneObject.isInstance)return;const e=t.getComponent(Js);e&&(t.compo.isInstanceRoot?t.forThisAndEachChildRecursive(i=>{const n=i.getComponent(Js);n&&this._resetInstance(n)}):this._resetInstance(e),this.updateInstancesRemotely(P.COMPONENT_UPDATE))}_resetInstance(t){const e=t.overrides,i=t.materialOverrides;if(e){for(const n of Object.keys(e))this.nonOverridableProperties.has(n)||t.deleteOverride(n);for(const n of Object.keys(i))t.deleteMaterialOverride(n);this._instancesToUpdate.add(t.entity.base)}}doMaterialOverridesExist(){const t=this.editor.selectionController.firstSelectedSceneEntity;if(!t||!t.sceneObject.isInstance)return;const e=t.getComponent(Js);if(!e||!t.compo.isInstanceRoot)return;let i=!1;return e.entity.forThisAndEachChildRecursive(o=>{var a;i||Object.keys(((a=o.sceneObject.overrides)==null?void 0:a.material)??{}).length>0&&(i=!0)}),i}doTransformOverridesExist(){const t=this.editor.selectionController.firstSelectedSceneEntity;if(!t||!t.sceneObject.isInstance)return;const e=t.getComponent(Js);if(!e||!t.compo.isInstanceRoot)return;let i=!1;return e.entity.forThisAndEachChildRecursive(o=>{var a,l,c;i||((a=o.sceneObject.overrides)!=null&&a.position||(l=o.sceneObject.overrides)!=null&&l.rotation||(c=o.sceneObject.overrides)!=null&&c.scale)&&(i=!0)}),i}updateInstancesRemotely(t,e={}){this._instancesToUpdate.size>0&&(this._eventQueue.enqueue({...e,action:t,sceneObjects:Array.from(this._instancesToUpdate)}),this._instancesToUpdate.clear()),this._isQueueRunning||this._runEventQueue()}getAllInstancesWithAssetId(t){const e=[];for(const i of Object.values(this.editor.sceneController.sceneEntitiesById))i.compo.isRoot&&i.sceneObject.isInstance&&i.sceneObject.asset===t&&e.push(i);return e}getComponentWithAssetId(t){for(const e of Object.values(this.editor.sceneController.sceneEntitiesById))if(e.compo.isRoot&&!e.sceneObject.isInstance&&e.sceneObject.asset===t)return e;return null}}n3([V],Qb.prototype,"_componentRoots",2);n3([V],Qb.prototype,"_restoringMainComponents",2);n3([E],Qb.prototype,"registerComponentRoot",1);n3([E],Qb.prototype,"_continueRestoringMainComponent",1);var Tbt=Object.defineProperty,Pbt=(s,t,e)=>t in s?Tbt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Obt=(s,t,e)=>(Pbt(s,t+"",e),e);class Mbt{constructor(){Obt(this,"commentChanged",new ht.Signal)}}var Lbt=Object.defineProperty,Rbt=(s,t,e)=>t in s?Lbt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Nbt=(s,t,e)=>(Rbt(s,t+"",e),e);class jbt{constructor(){Nbt(this,"hdrLightingUpdated",new ht.Signal)}}var Dbt=Object.defineProperty,Fbt=(s,t,e)=>t in s?Dbt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Ou=(s,t,e)=>(Fbt(s,typeof t!="symbol"?t+"":t,e),e);class Bbt{constructor(){Ou(this,"started",new ht.Signal),Ou(this,"ended",new ht.Signal),Ou(this,"activeToolChanged",new ht.Signal),Ou(this,"cameraNavigationStarted",new ht.Signal),Ou(this,"cameraNavigationContinue",new ht.Signal),Ou(this,"cameraNavigationEnded",new ht.Signal),Ou(this,"togglePlayAllAnimations",new ht.Signal),Ou(this,"togglePlayAllBehaviors",new ht.Signal),Ou(this,"cameraViewChanged",new ht.Signal)}}var kbt=Object.defineProperty,Gbt=(s,t,e)=>t in s?kbt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,qP=(s,t,e)=>(Gbt(s,typeof t!="symbol"?t+"":t,e),e);class Vbt{constructor(){qP(this,"fileClosed",new ht.Signal),qP(this,"allObjectsLoaded",new ht.Signal)}}var Hbt=Object.defineProperty,Ubt=(s,t,e)=>t in s?Hbt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,q1=(s,t,e)=>(Ubt(s,typeof t!="symbol"?t+"":t,e),e);class zbt{constructor(){q1(this,"started",new ht.Signal),q1(this,"continued",new ht.Signal),q1(this,"ended",new ht.Signal),q1(this,"hovered",new ht.Signal),q1(this,"changed",new ht.Signal),q1(this,"measureEnded",new ht.Signal)}}var Ybt=Object.defineProperty,Wbt=(s,t,e)=>t in s?Ybt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,qE=(s,t,e)=>(Wbt(s,typeof t!="symbol"?t+"":t,e),e);class Xbt{constructor(){qE(this,"interactionEnded",new ht.Signal),qE(this,"meshEditModeEntered",new ht.Signal),qE(this,"meshEditModeExited",new ht.Signal)}}var Zbt=Object.defineProperty,Kbt=(s,t,e)=>t in s?Zbt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,El=(s,t,e)=>(Kbt(s,typeof t!="symbol"?t+"":t,e),e);class qbt{constructor(){El(this,"added",new ht.Signal),El(this,"removed",new ht.Signal),El(this,"sceneGraphChanged",new ht.Signal),El(this,"drawStarted",new ht.Signal),El(this,"drawContinued",new ht.Signal),El(this,"drawEnded",new ht.Signal),El(this,"penContinued",new ht.Signal),El(this,"moved",new ht.Signal),El(this,"moveEnded",new ht.Signal),El(this,"hierarchyChanged",new ht.Signal),El(this,"hierarchyNeedsRebuild",new ht.Signal),El(this,"geometryUpdated",new ht.Signal),El(this,"materialUpdated",new ht.Signal)}}var Qbt=Object.defineProperty,Jbt=(s,t,e)=>t in s?Qbt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,_2=(s,t,e)=>(Jbt(s,typeof t!="symbol"?t+"":t,e),e);class $bt{constructor(){_2(this,"selectionChanged",new ht.Signal),_2(this,"presenceAdded",new ht.Signal),_2(this,"presenceRemoved",new ht.Signal),_2(this,"pointPicked",new ht.Signal)}}var tCt=Object.defineProperty,eCt=(s,t,e)=>t in s?tCt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Mu=(s,t,e)=>(eCt(s,typeof t!="symbol"?t+"":t,e),e);class QP{constructor(){Mu(this,"selectionChanged",new ht.Signal),Mu(this,"selectableTypesChanged",new ht.Signal),Mu(this,"hoverChanged",new ht.Signal),Mu(this,"expandedChanged",new ht.Signal),Mu(this,"highlightChanged",new ht.Signal),Mu(this,"previewedCameraChanged",new ht.Signal),Mu(this,"selectedCameraChanged",new ht.Signal),Mu(this,"editCameraChanged",new ht.Signal),Mu(this,"selectedCameraUpdated",new ht.Signal)}}var sCt=Object.defineProperty,iCt=(s,t,e)=>t in s?sCt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Lu=(s,t,e)=>(iCt(s,typeof t!="symbol"?t+"":t,e),e);class nCt{constructor(){Lu(this,"resized",new ht.Signal),Lu(this,"renderPrepared",new ht.Signal),Lu(this,"viewportActivated",new ht.Signal),Lu(this,"vrSessionStarted",new ht.Signal),Lu(this,"vrSessionEnded",new ht.Signal),Lu(this,"addDataToDownload",new ht.Signal),Lu(this,"dataDownloaded",new ht.Signal),Lu(this,"allLargeDataDownloaded",new ht.Signal),Lu(this,"dataUploaded",new ht.Signal)}}var oCt=Object.defineProperty,rCt=(s,t,e)=>t in s?oCt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,ba=(s,t,e)=>(rCt(s,typeof t!="symbol"?t+"":t,e),e);class aCt{constructor(){ba(this,"reset",new ht.Signal),ba(this,"animationUpdated",new ht.Signal),ba(this,"cameraAnimationChanged",new ht.Signal)}}class lCt{constructor(){ba(this,"window",new nCt),ba(this,"object",new qbt),ba(this,"scene",new jbt),ba(this,"gizmo",new zbt),ba(this,"command",new Bbt),ba(this,"selection",new QP),ba(this,"targeting",new QP),ba(this,"presence",new $bt),ba(this,"file",new Vbt),ba(this,"mesher",new Xbt),ba(this,"history",new Mbt),ba(this,"play",new aCt)}}async function cCt(){var o;const s=pi.fileID,t=he.profileID,e=Xt.docClient;if(!s||!t||!e)return;const i=await e.send(new Ti({TableName:LN,KeyConditionExpression:"#id = :id",ExpressionAttributeNames:{"#id":"id"},ExpressionAttributeValues:{":id":`${s}--${t}`}}));if(!((o=i.Items)!=null&&o[0]))return;const n=i.Items[0].data;if(n)return JSON.parse(n)}async function hCt(s){const t=pi.fileID,e=he.profileID,i=Xt.docClient;!i||!s||!t||!e||await i.send(new Ho({TableName:LN,Item:{id:`${t}--${e}`,file:t,data:JSON.stringify({...$u,...s}),updatedAt:new Date().toISOString()}}))}var _G=Object.defineProperty,dCt=Object.getOwnPropertyDescriptor,uCt=(s,t,e)=>t in s?_G(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,nh=(s,t,e,i)=>{for(var n=i>1?void 0:i?dCt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&_G(t,e,n),n},JP=(s,t,e)=>(uCt(s,typeof t!="symbol"?t+"":t,e),e);class oc{constructor(t){this.editor=t,JP(this,"_fileSettings",$u),JP(this,"_isUnitsConversionDialogVisible",!1),vt(this)}get camera(){return this._cameraSettings}get grid(){return this.helperVisibility.isGridVisible}get isGridSnapEnabled(){var t;return((t=this._fileSettings.snapSettings)==null?void 0:t.isGridSnapEnabled)??$u.snapSettings.isGridSnapEnabled}set isGridSnapEnabled(t){Jt(()=>{this._fileSettings.snapSettings.isGridSnapEnabled=t}),this._updateFileSettingsRemotely()}get isGridSnapAbsolute(){var t;return((t=this._fileSettings.snapSettings)==null?void 0:t.isGridSnapAbsolute)??$u.snapSettings.isGridSnapAbsolute}get shouldShowHotspots(){var t;return((t=this._fileSettings.playModeSettings)==null?void 0:t.shouldShowHotspots)??$u.playModeSettings.shouldShowHotspots}setShouldShowHotspots(t){this._fileSettings.playModeSettings.shouldShowHotspots=t,this._updateFileSettingsRemotely()}get isHandLocomotionEnabled(){var t;return((t=this._fileSettings.playModeSettings)==null?void 0:t.isHandLocomotionEnabled)??$u.playModeSettings.isHandLocomotionEnabled}set isHandLocomotionEnabled(t){this._fileSettings.playModeSettings.isHandLocomotionEnabled=t,this._updateFileSettingsRemotely()}set isGridSnapAbsolute(t){Jt(()=>{this._fileSettings.snapSettings.isGridSnapAbsolute=t}),this._updateFileSettingsRemotely()}get mmsPerPixel(){return this._fileSettings.mmsPerPixel??$u.mmsPerPixel}get axes(){return this._fileSettings.axes??$u.axes}get helperVisibility(){return this.editor.isPlayMode?this._fileSettings.playModeSettings.helperVisibility??UN:this._fileSettings.editorHelperVisibility??zN}setHelperVisibility(t){this.editor.isPlayMode?this._fileSettings.playModeSettings.helperVisibility=t:this._fileSettings.editorHelperVisibility=t,this.editor.signals.object.sceneGraphChanged.dispatch(),this._updateHelperVisibility(),this._updateFileSettingsRemotely()}get isUnitsConversionDialogVisible(){return this._isUnitsConversionDialogVisible}set isUnitsConversionDialogVisible(t){Jt(()=>this._isUnitsConversionDialogVisible=t)}async load(){const t=await cCt();if(!t)return;const e=t.playModeSettings?{...N4,...t.playModeSettings}:{...N4};this._setFileSettings({...$u,...t,playModeSettings:e}),this._initCamereView(),this._updateHelperVisibility()}_initCamereView(){let t=zt.TOP;switch(this.axes){case rn.XZ:t=zt.TOP;break;case rn.XY:t=zt.FRONT;break;case rn.YZ:t=zt.RIGHT;break}this.editor.signals.command.cameraViewChanged.dispatch({cameraView:t})}_setFileSettings(t){this._fileSettings=t}setCameraFov(t,e=!0){this._cameraSettings.fov=t,this.editor.signals.object.sceneGraphChanged.dispatch(),e&&this._updateFileSettingsRemotely()}setCameraLensUnit(t,e=!0){this._cameraSettings.lensUnit=t,this.editor.signals.object.sceneGraphChanged.dispatch(),e&&this._updateFileSettingsRemotely()}setCameraProjection(t){this._cameraSettings.projection=t,this.editor.signals.object.sceneGraphChanged.dispatch(),this._updateFileSettingsRemotely()}get cameraFocalLength(){return Zh.fov2FocalLength(this._cameraSettings.fov)}set cameraFocalLength(t){const e=Zh.focalLength2Fov(t);this._cameraSettings.fov=e,this.editor.signals.object.sceneGraphChanged.dispatch(),this._updateFileSettingsRemotely()}setGrid(t){this.editor.isPlayMode?this._fileSettings.playModeSettings.helperVisibility.isGridVisible=t:this._fileSettings.editorHelperVisibility.isGridVisible=t,this.editor.signals.object.sceneGraphChanged.dispatch(),this._updateFileSettingsRemotely()}setMMsPerPixel(t){this._fileSettings.mmsPerPixel=t,this._updateFileSettingsRemotely()}setAxes(t){this._fileSettings.axes=t,this.editor.signals.object.sceneGraphChanged.dispatch(),this._updateFileSettingsRemotely()}_updateFileSettingsRemotely(){this.editor.isPublishedMode||hCt(this._fileSettings)}_updateHelperVisibility(){this.editor.layerController.toggleVisibleHelpers(this.helperVisibility,this.editor.isPlayMode),this.setGrid(this.helperVisibility.isGridVisible)}get _cameraSettings(){return this.editor.isPlayMode?this._fileSettings.playModeSettings.camera:this._fileSettings.camera}}nh([V],oc.prototype,"_fileSettings",2);nh([V],oc.prototype,"_isUnitsConversionDialogVisible",2);nh([E],oc.prototype,"setShouldShowHotspots",1);nh([E],oc.prototype,"setHelperVisibility",1);nh([E],oc.prototype,"_setFileSettings",1);nh([E],oc.prototype,"setCameraFov",1);nh([E],oc.prototype,"setCameraLensUnit",1);nh([E],oc.prototype,"setCameraProjection",1);nh([M],oc.prototype,"cameraFocalLength",1);nh([E],oc.prototype,"setGrid",1);nh([E],oc.prototype,"setMMsPerPixel",1);nh([E],oc.prototype,"setAxes",1);var vG=Object.defineProperty,fCt=Object.getOwnPropertyDescriptor,pCt=(s,t,e)=>t in s?vG(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,lu=(s,t,e,i)=>{for(var n=i>1?void 0:i?fCt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&vG(t,e,n),n},v2=(s,t,e)=>(pCt(s,typeof t!="symbol"?t+"":t,e),e);class ad{constructor(t){this.editor=t,v2(this,"disposable",new Zt),v2(this,"_assetsById"),v2(this,"_libraryType",Ae.MATERIAL),v2(this,"clearAssets",()=>{this._assetsById={}}),this._assetsById={},this.disposable.add(new tt(()=>{this.clearAssets()})),vt(this)}dispose(){this.disposable.dispose()}get libraryType(){return this._libraryType}setLibraryType(t){this._libraryType=t}addAsset(t,e){e===this._libraryType&&(this.assets[t.id]=t)}updateAsset(t){this._assetsById[t.id]=t}addAssets(t,e,i=!0){if(i&&this.clearAssets(),e===this._libraryType)for(const n of t)this._assetsById[n.id]=n}get assets(){return this._assetsById}get assetValues(){return Object.values(this.assets)}}lu([V],ad.prototype,"_assetsById",2);lu([V],ad.prototype,"_libraryType",2);lu([M],ad.prototype,"libraryType",1);lu([E],ad.prototype,"setLibraryType",1);lu([E],ad.prototype,"addAsset",1);lu([E],ad.prototype,"updateAsset",1);lu([E],ad.prototype,"addAssets",1);lu([E],ad.prototype,"clearAssets",2);lu([M],ad.prototype,"assets",1);lu([M],ad.prototype,"assetValues",1);const Jb="DEFAULT_PREVIEW_MATERIAL_ID",mCt={name:"Preview Material",team:"-",file:"-",lastWriter:"-",createdAt:"-",updatedAt:"-",id:Jb,data:{...t_,color:"#313131",roughness:.8}},gCt={...Do,material:Jb,type:L.BOX,parameters:{...kr},id:"PREVIEW_SCENE_OBJECT"};var yG=Object.defineProperty,_Ct=Object.getOwnPropertyDescriptor,vCt=(s,t,e)=>t in s?yG(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Zs=(s,t,e,i)=>{for(var n=i>1?void 0:i?_Ct(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&yG(t,e,n),n},Bi=(s,t,e)=>(vCt(s,typeof t!="symbol"?t+"":t,e),e);class Ar{constructor(t){Bi(this,"id"),Bi(this,"name"),Bi(this,"team"),Bi(this,"file"),Bi(this,"data"),Bi(this,"lastWriter"),Bi(this,"updatedAt"),Bi(this,"createdAt"),Bi(this,"setId",e=>{this.id=e}),Bi(this,"setName",e=>{this.name=e}),Bi(this,"setTeam",e=>{this.team=e}),Bi(this,"setFile",e=>{this.file=e}),Bi(this,"setData",e=>{this._recursivelyCopyData(this.data,e)}),Bi(this,"setLastWriter",e=>{this.lastWriter=e}),Bi(this,"setCreatedAt",e=>{this.createdAt=e}),Bi(this,"setUpdatedAt",e=>{this.updatedAt=e}),this.id=t.id,this.name=t.name,this.team=t.team,this.file=t.file,this.data=t.data,this.lastWriter=t.lastWriter,this.updatedAt=t.updatedAt,this.createdAt=t.createdAt,vt(this)}_recursivelyCopyData(t,e){for(const[i,n]of Object.entries(e))if(typeof n=="object"&&n!=null)if(t[i]==null)t[i]=n;else{const o=Object.keys(t[i]),a=new Set(Object.keys(n));for(const l of o)a.has(l)||delete t[i][l];this._recursivelyCopyData(t[i],n)}else t[i]=n}}Zs([V],Ar.prototype,"id",2);Zs([V],Ar.prototype,"name",2);Zs([V],Ar.prototype,"team",2);Zs([V],Ar.prototype,"file",2);Zs([V],Ar.prototype,"data",2);Zs([V],Ar.prototype,"lastWriter",2);Zs([V],Ar.prototype,"updatedAt",2);Zs([V],Ar.prototype,"createdAt",2);Zs([E],Ar.prototype,"setId",2);Zs([E],Ar.prototype,"setName",2);Zs([E],Ar.prototype,"setTeam",2);Zs([E],Ar.prototype,"setFile",2);Zs([E],Ar.prototype,"setData",2);Zs([E],Ar.prototype,"setLastWriter",2);Zs([E],Ar.prototype,"setCreatedAt",2);Zs([E],Ar.prototype,"setUpdatedAt",2);class mr{constructor(t){this.editor=t,Bi(this,"disposable",new Zt),Bi(this,"_materialsById"),Bi(this,"_materialPreviews"),Bi(this,"setMaterialPreview",(e,i)=>{this._materialPreviews[e]=i}),Bi(this,"setMaterialPreviews",e=>{this._materialPreviews=e}),Bi(this,"appendMaterialPreviews",e=>{this._materialPreviews={...this._materialPreviews,...e}}),Bi(this,"clearMaterialPreviews",()=>{this._materialPreviews={}}),Bi(this,"initMaterials",e=>{this.clearMaterials(),this.addMaterials(e)}),Bi(this,"updateMaterials",e=>{e.forEach(i=>this.updateMaterial(i))}),Bi(this,"deleteMaterial",e=>{this.materials[e]&&delete this.materials[e]}),Bi(this,"deleteMaterials",e=>{e.forEach(i=>this.deleteMaterial(i))}),Bi(this,"clearMaterials",()=>{this._materialsById={}}),this._materialsById={},this._materialPreviews={},this.disposable.add(new tt(()=>{this.clearMaterials()})),vt(this),this.addMaterial(mCt)}dispose(){this.disposable.dispose()}get materialPreviews(){return this._materialPreviews}getMaterialPreview(t){return this._materialPreviews[t]}addMaterial(t){if(this.materials[t.id])return this.updateMaterial(t);this.materials[t.id]=new Ar(t)}addMaterials(t){t.forEach(e=>this.addMaterial(e))}updateMaterial(t){const{id:e,name:i,team:n,file:o,data:a,updatedAt:l,createdAt:c}=t;if(!e)return;const h=this.materials[e];h&&("name"in t&&i&&h.setName(i),"team"in t&&h.setTeam(n),"file"in t&&h.setFile(o),"data"in t&&a&&h.setData(a),"updatedAt"in t&&l&&h.setUpdatedAt(l),"createdAt"in t&&c&&h.setCreatedAt(c))}get materials(){return this._materialsById}get materialArr(){return Object.values(this.materials)}_getBaseMaterialModelForState(t,e,i){const n=kg(t,e,i),o=p7(t,n);return this.materials[o]}getMaterialForState(t,e,i){const o=Vi.shouldUseFrameStates(t.states)?t.frameStates:null,a=o==null?null:kg(t,e,o),l=kg(t,e,i),c=this._getBaseMaterialModelForState(t,e,i);if(c!=null){let h={},d={};return bo.isObject(a)&&(d={...a},"baseID"in d&&delete d.baseID),bo.isObject(l)&&(h={...l},"baseID"in h&&delete h.baseID),{...c,data:{...c.data,...d,...h}}}return c??this._getBaseMaterialModelForState(t,t.activeState)}getMaterialsByObject(t){const e={},i=m7(t);for(const n of i){const o=this.materials[n];if(!o){console.warn("Not found material from store: ",n);continue}e[n]=o}return e}async loadMaterialsByObjects(t,e=!0){const i=cot(Object.values(t));let n=[];if(e)n=await _x(i);else{const o=[];for(const a of i)this.materials[a]||o.push(a);n=await _x(o)}this.addMaterials(n)}async loadMaterialIfMissing(t){if(this.materials[t]!=null)return;const e=await SD(t);e!=null&&this.addMaterial(e)}cloneMaterialsByObject(t){var n;const e=this.getMaterialsByObject(t),i=Hb(Object.values(e),this.editor.fileController.id,(n=this.editor.fileController.team)==null?void 0:n.id,this);om(t,i)}getAllEntitiesWithMaterial(t){var i;const e=[];for(const n of Object.values(this.editor.sceneController.sceneEntitiesById))((i=n.sceneObject.material)==null?void 0:i.id)===t&&e.push(n);return e}}Zs([V],mr.prototype,"_materialsById",2);Zs([V],mr.prototype,"_materialPreviews",2);Zs([M],mr.prototype,"materialPreviews",1);Zs([E],mr.prototype,"setMaterialPreview",2);Zs([E],mr.prototype,"setMaterialPreviews",2);Zs([E],mr.prototype,"appendMaterialPreviews",2);Zs([E],mr.prototype,"clearMaterialPreviews",2);Zs([E],mr.prototype,"initMaterials",2);Zs([E],mr.prototype,"addMaterial",1);Zs([E],mr.prototype,"addMaterials",1);Zs([E],mr.prototype,"updateMaterial",1);Zs([E],mr.prototype,"updateMaterials",2);Zs([E],mr.prototype,"deleteMaterial",2);Zs([E],mr.prototype,"deleteMaterials",2);Zs([E],mr.prototype,"clearMaterials",2);Zs([M],mr.prototype,"materials",1);Zs([M],mr.prototype,"materialArr",1);var yCt=Object.defineProperty,bCt=(s,t,e)=>t in s?yCt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,y2=(s,t,e)=>(bCt(s,typeof t!="symbol"?t+"":t,e),e);class CCt{constructor(t=!0){y2(this,"_listener"),y2(this,"_soundBuffersByAssetId"),y2(this,"_audioByPlaybackId"),y2(this,"_isPlayingByPlaybackId"),this._listener=new QZ,this.setMuteAll(t),this._soundBuffersByAssetId=new Map,this._audioByPlaybackId=new Map,this._isPlayingByPlaybackId=new Map}getContext(){return this._listener.context}addBuffer(t,e){this._soundBuffersByAssetId.set(t,e)}hasBuffer(t){return this._soundBuffersByAssetId.has(t)}clearBuffer(t){this._soundBuffersByAssetId.delete(t)}hasPlayback(t){return this._audioByPlaybackId.has(t)}syncListener(t){t.add(this._listener)}checkAutoStop(t,e,i){for(const[n,o]of this._isPlayingByPlaybackId){const a=N_t(n),l=a.entityId===t,c=a.componentId===e,h=a.assetId===i;if(l&&c&&!h&&o){this.stop(n);return}}}play(t){var e,i;(e=this._getAudio(t))!=null&&e.isPlaying&&this.stop(t),this._isPlayingByPlaybackId.set(t,!0),(i=this._getAudio(t))==null||i.play()}pause(t){var e;(e=this._getAudio(t))==null||e.pause()}stop(t){var e;this._isPlayingByPlaybackId.delete(t),(e=this._getAudio(t))==null||e.stop()}setMuteAll(t){this._listener.setMasterVolume(t?0:1)}setPlaybackMode(t,e){var i;(i=this._getAudio(t))==null||i.setLoop(e===e1.LOOP)}setVolume(t,e){var i;(i=this._getAudio(t))==null||i.setVolume(e)}setSoundType(t,e,i,n){this._hasAudio(t)||this._addAudio(t,e);let o=this._getAudio(t);this._isTypeConversion(o,e)&&(n==null||n.remove(o),o=this._convertAudio(t,o,e)),n&&!n.children.includes(o)&&n.add(o),this._updateBuffer(o,i)}setRange(t,e){if(!this._isSpatial(t))return;const i=this._getAudio(t);i.setRefDistance(1),i.setMaxDistance(e)}setDecay(t,e){if(!this._isSpatial(t))return;this._getAudio(t).setRolloffFactor(e)}setInterpolationType(t,e){if(!this._isSpatial(t))return;const i=this._getAudio(t),n=alt[e];i.setDistanceModel(n)}_getAudio(t){return this._audioByPlaybackId.get(t)}_hasAudio(t){return this._audioByPlaybackId.has(t)}_isSpatial(t){return this._getAudio(t)instanceof dw}_isTypeConversion(t,e){return(t instanceof dw?nr.SPATIAL:nr.STANDARD)!==e}_addAudio(t,e){const i=e===nr.SPATIAL?new dw(this._listener):new LL(this._listener);this._audioByPlaybackId.set(t,i)}_convertAudio(t,e,i){const n=e;n.stop(),n.disconnect(),n.buffer=null,this._audioByPlaybackId.delete(t),this._addAudio(t,i);const o=this._getAudio(t),{LOOP:a,ONCE:l}=e1,c=n.getLoop()?a:l;return this.setPlaybackMode(t,c),this.setVolume(t,n.getVolume()),o}_updateBuffer(t,e){const i=this._soundBuffersByAssetId.get(e);i&&t.setBuffer(i)}}var bG=Object.defineProperty,wCt=Object.getOwnPropertyDescriptor,xCt=(s,t,e)=>t in s?bG(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Z_=(s,t,e,i)=>{for(var n=i>1?void 0:i?wCt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&bG(t,e,n),n},b2=(s,t,e)=>(xCt(s,typeof t!="symbol"?t+"":t,e),e);class E1{constructor(){b2(this,"_id"),b2(this,"_duration"),b2(this,"_elapsedPercent"),b2(this,"_isPlaying"),this._id="",this._duration=0,this._elapsedPercent=0,this._isPlaying=!1,vt(this)}get id(){return this._id}set id(t){this._id=t}get duration(){return this._duration}set duration(t){this._duration=t}get elapsedPercent(){return this._elapsedPercent}set elapsedPercent(t){this._elapsedPercent=t}get isPlaying(){return this._isPlaying}set isPlaying(t){this._isPlaying=t}inflate(t){this.id=t,this.isPlaying=!0}deflate(){this.id="",this.isPlaying=!1,this.duration=0,this.elapsedPercent=0}}Z_([V],E1.prototype,"_id",2);Z_([V],E1.prototype,"_duration",2);Z_([V],E1.prototype,"_elapsedPercent",2);Z_([V],E1.prototype,"_isPlaying",2);Z_([E],E1.prototype,"inflate",1);Z_([E],E1.prototype,"deflate",1);var CG=Object.defineProperty,ECt=Object.getOwnPropertyDescriptor,SCt=(s,t,e)=>t in s?CG(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Dm=(s,t,e,i)=>{for(var n=i>1?void 0:i?ECt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&CG(t,e,n),n},$P=(s,t,e)=>(SCt(s,typeof t!="symbol"?t+"":t,e),e);class Uf{constructor(){$P(this,"_audio"),$P(this,"_previewData"),this._audio=new Audio,this._previewData=new E1,this._addListeners(),vt(this)}get id(){return this._previewData.id}get duration(){return this._previewData.duration}get elapsedPercent(){return this._previewData.elapsedPercent}get isPlaying(){return this._previewData.isPlaying}play(t,e){this.stop(),this._audio.src=e,this._audio.load(),this._audio.play(),this._previewData.inflate(t)}stop(){this._audio.pause(),this._audio.currentTime=0,this._previewData.deflate()}_addListeners(){this._audio.onended=this._onEnded.bind(this),this._audio.onloadedmetadata=this._onLoadedMetadata.bind(this),this._audio.ontimeupdate=this._onTimeUpdate.bind(this)}_removeListeners(){this._audio.onended=null,this._audio.onloadedmetadata=null,this._audio.ontimeupdate=null}_onLoadedMetadata(){Jt(()=>{this._previewData.duration=this._audio.duration*1e3})}_onEnded(){Jt(()=>{this.stop()})}_onTimeUpdate(){Jt(()=>{const{currentTime:t,duration:e}=this._audio;this._previewData.elapsedPercent=t/e*100})}dispose(){this.stop(),this._removeListeners()}}Dm([V],Uf.prototype,"_previewData",2);Dm([M],Uf.prototype,"id",1);Dm([M],Uf.prototype,"duration",1);Dm([M],Uf.prototype,"elapsedPercent",1);Dm([M],Uf.prototype,"isPlaying",1);Dm([E],Uf.prototype,"_onLoadedMetadata",1);Dm([E],Uf.prototype,"_onEnded",1);Dm([E],Uf.prototype,"_onTimeUpdate",1);var wG=Object.defineProperty,ICt=Object.getOwnPropertyDescriptor,ACt=(s,t,e)=>t in s?wG(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,ld=(s,t,e,i)=>{for(var n=i>1?void 0:i?ICt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&wG(t,e,n),n},Rp=(s,t,e)=>(ACt(s,typeof t!="symbol"?t+"":t,e),e);const rc=class xG{constructor(t){Rp(this,"_editor"),Rp(this,"_disposable",new Zt),Rp(this,"_sceneSoundOrchestrator"),Rp(this,"_loadingAssetsById"),Rp(this,"_soundAssetsById",new Map),Rp(this,"_preview"),Rp(this,"setMuteAll",i=>{this._sceneSoundOrchestrator.setMuteAll(i)}),this._editor=t,this._sceneSoundOrchestrator=new CCt,this._loadingAssetsById=new Map,this._soundAssetsById=new Map,this._preview=new Uf;const e=this._editor.signals.selection.selectionChanged.add(()=>{this.stopPreview(this._preview.id)});this._disposable.add(new tt(()=>{e.detach()})),td(this)}static getInstance(t){return this._instance||(this._instance=new xG(t)),this._instance}syncListener(t){this._sceneSoundOrchestrator.syncListener(t)}get hasLoadedDefault(){return this._soundAssetsById.has(J4)}async preloadDefaultSound(){try{const t=await s1(J4);t&&this.addSoundAsset(t)}catch{U.error("Error preloading default sound asset")}}async loadSoundsByObjects(t){await this.buildSoundAssetsMap(t);try{const i=Array.from(this._soundAssetsById.values()).map(n=>this._loadSoundByAsset(n));await Promise.all(i)}catch(e){U.error("An error occurred while loading the audio files",e)}}async buildSoundAssetsMap(t){const e=new Set;for(const{sounds:n,states:o}of t){for(const a of Object.values(o))if(a.sounds)for(const{assetId:l}of Object.values(a.sounds))this._lacksAssetId(l,e)&&e.add(l);if(n)for(const{assetId:a}of Object.values(n))this._lacksAssetId(a,e)&&e.add(a)}const i=await yB(Array.from(e));for(const n of i)this._soundAssetsById.set(n.id,n)}_lacksAssetId(t,e){return t!==""&&!e.has(t)}async _loadSoundByAsset(t){this._loadingAssetsById.set(t.id,t),await cst(t.data.urlKey,e=>this._sceneSoundOrchestrator.addBuffer(t.id,e),e=>{},e=>U.error("Error loading audio:",e)).finally(()=>{this._loadingAssetsById.delete(t.id)})}updateComponentSoundAsset(t,e){t.setAssetId(e.id),this.addSoundAsset(e)}addSoundAsset(t){this._soundAssetsById.has(t.id)||(this._sceneSoundOrchestrator.hasBuffer(t.id)?this._soundAssetsById.set(t.id,t):this.getIsLoading(t.id)||this._loadSoundByAsset(t).then(()=>{this._soundAssetsById.set(t.id,t)}))}removeSoundAsset(t){this._soundAssetsById.has(t)&&(this._soundAssetsById.delete(t),this._sceneSoundOrchestrator.hasBuffer(t)&&this._sceneSoundOrchestrator.clearBuffer(t))}async addSoundAssetByUploadedFile(t,e){if(!this.getSoundAsset(t.id))try{const i=this._sceneSoundOrchestrator.getContext(),n=await hst(e,i);this._sceneSoundOrchestrator.addBuffer(t.id,n),this.addSoundAsset(t)}catch(i){U.error("An error occurred while loading the audio file",i)}}getUsedEntityNames(t,e){const i=[];for(const n of t){const o=n.getComponent(b1);if(!o)continue;o.getHasSoundByAssetId(e)&&i.push(n.name)}return i}getSoundAsset(t){return this._soundAssetsById.get(t)}getIsLoading(t){return this._loadingAssetsById.has(t)}getHasPlayback(t){return this._sceneSoundOrchestrator.hasPlayback(t)}checkAutoStop(t,e,i){this._sceneSoundOrchestrator.checkAutoStop(t,e,i)}play(t){this._sceneSoundOrchestrator.play(t)}pause(t){this._sceneSoundOrchestrator.pause(t)}stop(t){this._sceneSoundOrchestrator.stop(t)}setPlaybackMode(t,e){this._sceneSoundOrchestrator.setPlaybackMode(t,e)}setSoundType(t,e,i,n){this._sceneSoundOrchestrator.setSoundType(t,e,i,n)}setVolume(t,e){this._sceneSoundOrchestrator.setVolume(t,e)}setRange(t,e){this._sceneSoundOrchestrator.setRange(t,e)}setDecay(t,e){this._sceneSoundOrchestrator.setDecay(t,e)}setInterpolationType(t,e){this._sceneSoundOrchestrator.setInterpolationType(t,e)}async playPreview(t,e){try{const i=await xs(e);if(!i)return;this._preview.play(t,i)}catch(i){const n=`Audio error. An error occurred while playing the audio preview at ${e}`;U.error(n,i)}}stopPreview(t){t!==""&&this._preview.id===t&&this._preview.stop()}getPreview(t){return this._preview.id===t?this._preview:null}dispose(){this._preview.dispose(),this._disposable.dispose()}};Rp(rc,"_instance");ld([V],rc.prototype,"_loadingAssetsById",2);ld([V],rc.prototype,"_soundAssetsById",2);ld([V],rc.prototype,"_preview",2);ld([M],rc.prototype,"hasLoadedDefault",1);ld([E],rc.prototype,"loadSoundsByObjects",1);ld([E],rc.prototype,"buildSoundAssetsMap",1);ld([E],rc.prototype,"_loadSoundByAsset",1);ld([E],rc.prototype,"updateComponentSoundAsset",1);ld([E],rc.prototype,"addSoundAsset",1);ld([E],rc.prototype,"removeSoundAsset",1);ld([E],rc.prototype,"addSoundAssetByUploadedFile",1);let TCt=rc;function by(){return`guest-${Date.now()}-${Math.floor(Math.random()*1e5)}`}function GA(s){return s?s.startsWith("guest-"):!0}var EG=Object.defineProperty,PCt=Object.getOwnPropertyDescriptor,OCt=(s,t,e)=>t in s?EG(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,K_=(s,t,e,i)=>{for(var n=i>1?void 0:i?PCt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&EG(t,e,n),n},MCt=(s,t,e)=>(OCt(s,t+"",e),e);class S1{constructor(t){this._editor=t,MCt(this,"accessLevel",Z.NONE),vt(this)}_isMemberOfOrganization(t,e){if(this._editor.profile==null)return!1;const i=this._editor.organizationsController.currentOrganization,n=this._editor.profile.email in e.profiles;return(i==null?void 0:i.id)===t||n}_canAssessAsGuest(t,e){return e?!0:!t}_canAccessAsLoggedInUser(t,e,i){return e?i?!0:this._isMemberOfOrganization(e,t):!0}initAccess(t,e,i,n,o,a){if(o)return this.setAccessLevel(t.general),this.accessLevel;if(this._editor.profile==null)return t.isPublished?Z.VIEWER:Z.NONE;if(!this._canAccessAsLoggedInUser(t,n,a))return Z.NONE;if(GA(this._editor.profile.id)){const l=this._canAssessAsGuest(n,a);return this.setAccessLevel(l?Z.GUEST:Z.NONE),this.accessLevel}return this._editor.profile.email in t.profiles?this.setAccessLevel(t.profiles[this._editor.profile.email]):t.general===Z.EDITOR||e||i?this.setAccessLevel(Z.EDITOR):t.general===Z.VIEWER?this.setAccessLevel(Z.VIEWER):this.setAccessLevel(Z.NONE),this.accessLevel}get isGuest(){return this.accessLevel===Z.GUEST}get isViewer(){return this.accessLevel===Z.VIEWER}get isEditor(){return this.accessLevel===Z.EDITOR}setAccessLevel(t){this.accessLevel=t}hasAccessOf(t){return this.accessLevel===Z.NONE&&console.warn("Trying to read access before it has been set"),t<=this.accessLevel}isLessThan(t){return this.accessLevel===Z.NONE&&console.warn("Trying to read access before it has been set"),this.accessLevel<t}isGreaterThan(t){return this.accessLevel===Z.NONE&&console.warn("Trying to read access before it has been set"),this.accessLevel>t}get hasBeenInitialized(){return this.accessLevel!==Z.NONE}}K_([V],S1.prototype,"accessLevel",2);K_([M],S1.prototype,"isGuest",1);K_([M],S1.prototype,"isViewer",1);K_([M],S1.prototype,"isEditor",1);K_([E],S1.prototype,"setAccessLevel",1);K_([M],S1.prototype,"hasBeenInitialized",1);var Sg=(s=>(s.UNSUPPORTED="UNSUPPORTED",s.HAND="HAND",s.GRIP="GRIP",s.TOUCH="TOUCH",s.GAZE="GAZE",s))(Sg||{}),ro=(s=>(s.NONE="NONE",s.PENDING="PENDING",s.PLACING="PLACING",s.PAUSED="PAUSED",s.PLACED="PLACED",s))(ro||{}),ol=(s=>(s.MOBILE="MOBILE",s.HEADSET="HEADSET",s))(ol||{}),LCt=Object.defineProperty,RCt=(s,t,e)=>t in s?LCt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,tO=(s,t,e)=>(RCt(s,typeof t!="symbol"?t+"":t,e),e);class NCt{constructor(t){tO(this,"_isLoading",!0),tO(this,"_loadingFraction",0),td(this)}get isLoading(){return this._isLoading}set isLoading(t){this._isLoading=t}get loadingFraction(){return this._loadingFraction}set loadingFraction(t){this._loadingFraction=t}addLoader(){this._isLoading=!0,Ft("file-loader-start"),mj("file-loader-end")}removeLoader(){this._isLoading=!1,this._loadingFraction=0,Ft("file-loader-end")}}const jCt=[{family:"ABeeZee",files:{regular:"https://fonts.gstatic.com/s/abeezee/v22/esDR31xSG-6AGleN6tKukbcHCpE.ttf",italic:"https://fonts.gstatic.com/s/abeezee/v22/esDT31xSG-6AGleN2tCklZUCGpG-GQ.ttf"}},{family:"Abel",files:{regular:"https://fonts.gstatic.com/s/abel/v18/MwQ5bhbm2POE6VhLPJp6qGI.ttf"}},{family:"Abhaya Libre",files:{500:"https://fonts.gstatic.com/s/abhayalibre/v14/e3t5euGtX-Co5MNzeAOqinEYj2ryqtxI6oYtBA.ttf",600:"https://fonts.gstatic.com/s/abhayalibre/v14/e3t5euGtX-Co5MNzeAOqinEYo23yqtxI6oYtBA.ttf",700:"https://fonts.gstatic.com/s/abhayalibre/v14/e3t5euGtX-Co5MNzeAOqinEYx2zyqtxI6oYtBA.ttf",800:"https://fonts.gstatic.com/s/abhayalibre/v14/e3t5euGtX-Co5MNzeAOqinEY22_yqtxI6oYtBA.ttf",regular:"https://fonts.gstatic.com/s/abhayalibre/v14/e3tmeuGtX-Co5MNzeAOqinEge0PWovdU4w.ttf"}},{family:"Aboreto",files:{regular:"https://fonts.gstatic.com/s/aboreto/v2/5DCXAKLhwDDQ4N8blKTeA2yuxSY.ttf"}},{family:"Abril Fatface",files:{regular:"https://fonts.gstatic.com/s/abrilfatface/v19/zOL64pLDlL1D99S8g8PtiKchm-BsjOLhZBY.ttf"}},{family:"Abyssinica SIL",files:{regular:"https://fonts.gstatic.com/s/abyssinicasil/v5/oY1H8ezOqK7iI3rK_45WKoc8J6UZBFOVAXuI.ttf"}},{family:"Aclonica",files:{regular:"https://fonts.gstatic.com/s/aclonica/v18/K2FyfZJVlfNNSEBXGb7TCI6oBjLz.ttf"}},{family:"Acme",files:{regular:"https://fonts.gstatic.com/s/acme/v21/RrQfboBx-C5_bx3Lb23lzLk.ttf"}},{family:"Actor",files:{regular:"https://fonts.gstatic.com/s/actor/v17/wEOzEBbCkc5cO3ekXygtUMIO.ttf"}},{family:"Adamina",files:{regular:"https://fonts.gstatic.com/s/adamina/v21/j8_r6-DH1bjoc-dwu-reETl4Bno.ttf"}},{family:"Advent Pro",files:{100:"https://fonts.gstatic.com/s/adventpro/v20/V8mqoQfxVT4Dvddr_yOwrzaFxV7JtdQgFqXdUAQrGp_zgX5sWCpLQyJPTJoonw1aBA.ttf",200:"https://fonts.gstatic.com/s/adventpro/v20/V8mqoQfxVT4Dvddr_yOwrzaFxV7JtdQgFqXdUAQrGp_zgX5sWCpLwyNPTJoonw1aBA.ttf",300:"https://fonts.gstatic.com/s/adventpro/v20/V8mqoQfxVT4Dvddr_yOwrzaFxV7JtdQgFqXdUAQrGp_zgX5sWCpLHSNPTJoonw1aBA.ttf",500:"https://fonts.gstatic.com/s/adventpro/v20/V8mqoQfxVT4Dvddr_yOwrzaFxV7JtdQgFqXdUAQrGp_zgX5sWCpLcSNPTJoonw1aBA.ttf",600:"https://fonts.gstatic.com/s/adventpro/v20/V8mqoQfxVT4Dvddr_yOwrzaFxV7JtdQgFqXdUAQrGp_zgX5sWCpLnSRPTJoonw1aBA.ttf",700:"https://fonts.gstatic.com/s/adventpro/v20/V8mqoQfxVT4Dvddr_yOwrzaFxV7JtdQgFqXdUAQrGp_zgX5sWCpLpCRPTJoonw1aBA.ttf",800:"https://fonts.gstatic.com/s/adventpro/v20/V8mqoQfxVT4Dvddr_yOwrzaFxV7JtdQgFqXdUAQrGp_zgX5sWCpLwyRPTJoonw1aBA.ttf",900:"https://fonts.gstatic.com/s/adventpro/v20/V8mqoQfxVT4Dvddr_yOwrzaFxV7JtdQgFqXdUAQrGp_zgX5sWCpL6iRPTJoonw1aBA.ttf",regular:"https://fonts.gstatic.com/s/adventpro/v20/V8mqoQfxVT4Dvddr_yOwrzaFxV7JtdQgFqXdUAQrGp_zgX5sWCpLQyNPTJoonw1aBA.ttf","100italic":"https://fonts.gstatic.com/s/adventpro/v20/V8mkoQfxVT4Dvddr_yOwhT-3Jr6w5kKOEbAVEvZiKGAr6BX29i1ei2CnDpAsvQhKBH4C.ttf","200italic":"https://fonts.gstatic.com/s/adventpro/v20/V8mkoQfxVT4Dvddr_yOwhT-3Jr6w5kKOEbAVEvZiKGAr6BX29i1ei2AnD5AsvQhKBH4C.ttf","300italic":"https://fonts.gstatic.com/s/adventpro/v20/V8mkoQfxVT4Dvddr_yOwhT-3Jr6w5kKOEbAVEvZiKGAr6BX29i1ei2D5D5AsvQhKBH4C.ttf",italic:"https://fonts.gstatic.com/s/adventpro/v20/V8mkoQfxVT4Dvddr_yOwhT-3Jr6w5kKOEbAVEvZiKGAr6BX29i1ei2CnD5AsvQhKBH4C.ttf","500italic":"https://fonts.gstatic.com/s/adventpro/v20/V8mkoQfxVT4Dvddr_yOwhT-3Jr6w5kKOEbAVEvZiKGAr6BX29i1ei2CVD5AsvQhKBH4C.ttf","600italic":"https://fonts.gstatic.com/s/adventpro/v20/V8mkoQfxVT4Dvddr_yOwhT-3Jr6w5kKOEbAVEvZiKGAr6BX29i1ei2B5CJAsvQhKBH4C.ttf","700italic":"https://fonts.gstatic.com/s/adventpro/v20/V8mkoQfxVT4Dvddr_yOwhT-3Jr6w5kKOEbAVEvZiKGAr6BX29i1ei2BACJAsvQhKBH4C.ttf","800italic":"https://fonts.gstatic.com/s/adventpro/v20/V8mkoQfxVT4Dvddr_yOwhT-3Jr6w5kKOEbAVEvZiKGAr6BX29i1ei2AnCJAsvQhKBH4C.ttf","900italic":"https://fonts.gstatic.com/s/adventpro/v20/V8mkoQfxVT4Dvddr_yOwhT-3Jr6w5kKOEbAVEvZiKGAr6BX29i1ei2AOCJAsvQhKBH4C.ttf"}},{family:"Aguafina Script",files:{regular:"https://fonts.gstatic.com/s/aguafinascript/v17/If2QXTv_ZzSxGIO30LemWEOmt1bHqs4pgicOrg.ttf"}},{family:"Akaya Kanadaka",files:{regular:"https://fonts.gstatic.com/s/akayakanadaka/v16/N0bM2S5CPO5oOQqvazoRRb-8-PfRS5VBBSSF.ttf"}},{family:"Akaya Telivigala",files:{regular:"https://fonts.gstatic.com/s/akayatelivigala/v22/lJwc-oo_iG9wXqU3rCTD395tp0uifdLdsIH0YH8.ttf"}},{family:"Akronim",files:{regular:"https://fonts.gstatic.com/s/akronim/v23/fdN-9sqWtWZZlHRp-gBxkFYN-a8.ttf"}},{family:"Akshar",files:{300:"https://fonts.gstatic.com/s/akshar/v9/Yq6I-LyHWTfz9rGoqDaUbHvhkAUsSSgFy9CY94XsnPc.ttf",500:"https://fonts.gstatic.com/s/akshar/v9/Yq6I-LyHWTfz9rGoqDaUbHvhkAUsSUQFy9CY94XsnPc.ttf",600:"https://fonts.gstatic.com/s/akshar/v9/Yq6I-LyHWTfz9rGoqDaUbHvhkAUsSagCy9CY94XsnPc.ttf",700:"https://fonts.gstatic.com/s/akshar/v9/Yq6I-LyHWTfz9rGoqDaUbHvhkAUsSZECy9CY94XsnPc.ttf",regular:"https://fonts.gstatic.com/s/akshar/v9/Yq6I-LyHWTfz9rGoqDaUbHvhkAUsSXYFy9CY94XsnPc.ttf"}},{family:"Aladin",files:{regular:"https://fonts.gstatic.com/s/aladin/v19/ZgNSjPJFPrvJV5f16Sf4pGT2Ng.ttf"}},{family:"Alata",files:{regular:"https://fonts.gstatic.com/s/alata/v9/PbytFmztEwbIofe6xKcRQEOX.ttf"}},{family:"Alatsi",files:{regular:"https://fonts.gstatic.com/s/alatsi/v11/TK3iWkUJAxQ2nLNGHjUHte5fKg.ttf"}},{family:"Albert Sans",files:{100:"https://fonts.gstatic.com/s/albertsans/v1/i7dZIFdwYjGaAMFtZd_QA3xXSKZqhr-TenSHq5L_rI32TxAj1g.ttf",200:"https://fonts.gstatic.com/s/albertsans/v1/i7dZIFdwYjGaAMFtZd_QA3xXSKZqhr-TenSHK5P_rI32TxAj1g.ttf",300:"https://fonts.gstatic.com/s/albertsans/v1/i7dZIFdwYjGaAMFtZd_QA3xXSKZqhr-TenSH9ZP_rI32TxAj1g.ttf",500:"https://fonts.gstatic.com/s/albertsans/v1/i7dZIFdwYjGaAMFtZd_QA3xXSKZqhr-TenSHmZP_rI32TxAj1g.ttf",600:"https://fonts.gstatic.com/s/albertsans/v1/i7dZIFdwYjGaAMFtZd_QA3xXSKZqhr-TenSHdZT_rI32TxAj1g.ttf",700:"https://fonts.gstatic.com/s/albertsans/v1/i7dZIFdwYjGaAMFtZd_QA3xXSKZqhr-TenSHTJT_rI32TxAj1g.ttf",800:"https://fonts.gstatic.com/s/albertsans/v1/i7dZIFdwYjGaAMFtZd_QA3xXSKZqhr-TenSHK5T_rI32TxAj1g.ttf",900:"https://fonts.gstatic.com/s/albertsans/v1/i7dZIFdwYjGaAMFtZd_QA3xXSKZqhr-TenSHApT_rI32TxAj1g.ttf",regular:"https://fonts.gstatic.com/s/albertsans/v1/i7dZIFdwYjGaAMFtZd_QA3xXSKZqhr-TenSHq5P_rI32TxAj1g.ttf","100italic":"https://fonts.gstatic.com/s/albertsans/v1/i7dfIFdwYjGaAMFtZd_QA1Zeelmy79QJ1HOSY9AX7ofybRUz1r5t.ttf","200italic":"https://fonts.gstatic.com/s/albertsans/v1/i7dfIFdwYjGaAMFtZd_QA1Zeelmy79QJ1HOSY9CX74fybRUz1r5t.ttf","300italic":"https://fonts.gstatic.com/s/albertsans/v1/i7dfIFdwYjGaAMFtZd_QA1Zeelmy79QJ1HOSY9BJ74fybRUz1r5t.ttf",italic:"https://fonts.gstatic.com/s/albertsans/v1/i7dfIFdwYjGaAMFtZd_QA1Zeelmy79QJ1HOSY9AX74fybRUz1r5t.ttf","500italic":"https://fonts.gstatic.com/s/albertsans/v1/i7dfIFdwYjGaAMFtZd_QA1Zeelmy79QJ1HOSY9Al74fybRUz1r5t.ttf","600italic":"https://fonts.gstatic.com/s/albertsans/v1/i7dfIFdwYjGaAMFtZd_QA1Zeelmy79QJ1HOSY9DJ6IfybRUz1r5t.ttf","700italic":"https://fonts.gstatic.com/s/albertsans/v1/i7dfIFdwYjGaAMFtZd_QA1Zeelmy79QJ1HOSY9Dw6IfybRUz1r5t.ttf","800italic":"https://fonts.gstatic.com/s/albertsans/v1/i7dfIFdwYjGaAMFtZd_QA1Zeelmy79QJ1HOSY9CX6IfybRUz1r5t.ttf","900italic":"https://fonts.gstatic.com/s/albertsans/v1/i7dfIFdwYjGaAMFtZd_QA1Zeelmy79QJ1HOSY9C-6IfybRUz1r5t.ttf"}},{family:"Aldrich",files:{regular:"https://fonts.gstatic.com/s/aldrich/v17/MCoTzAn-1s3IGyJMZaAS3pP5H_E.ttf"}},{family:"Alef",files:{700:"https://fonts.gstatic.com/s/alef/v21/FeVQS0NQpLYglo50L5la2bxii28.ttf",regular:"https://fonts.gstatic.com/s/alef/v21/FeVfS0NQpLYgrjJbC5FxxbU.ttf"}},{family:"Alegreya",files:{500:"https://fonts.gstatic.com/s/alegreya/v35/4UacrEBBsBhlBjvfkQjt71kZfyBzPgNGxBUI_KCisSGVrw.ttf",600:"https://fonts.gstatic.com/s/alegreya/v35/4UacrEBBsBhlBjvfkQjt71kZfyBzPgNGKBII_KCisSGVrw.ttf",700:"https://fonts.gstatic.com/s/alegreya/v35/4UacrEBBsBhlBjvfkQjt71kZfyBzPgNGERII_KCisSGVrw.ttf",800:"https://fonts.gstatic.com/s/alegreya/v35/4UacrEBBsBhlBjvfkQjt71kZfyBzPgNGdhII_KCisSGVrw.ttf",900:"https://fonts.gstatic.com/s/alegreya/v35/4UacrEBBsBhlBjvfkQjt71kZfyBzPgNGXxII_KCisSGVrw.ttf",regular:"https://fonts.gstatic.com/s/alegreya/v35/4UacrEBBsBhlBjvfkQjt71kZfyBzPgNG9hUI_KCisSGVrw.ttf",italic:"https://fonts.gstatic.com/s/alegreya/v35/4UaSrEBBsBhlBjvfkSLk3abBFkvpkARTPlbgv6qmkySFr9V9.ttf","500italic":"https://fonts.gstatic.com/s/alegreya/v35/4UaSrEBBsBhlBjvfkSLk3abBFkvpkARTPlbSv6qmkySFr9V9.ttf","600italic":"https://fonts.gstatic.com/s/alegreya/v35/4UaSrEBBsBhlBjvfkSLk3abBFkvpkARTPlY-uKqmkySFr9V9.ttf","700italic":"https://fonts.gstatic.com/s/alegreya/v35/4UaSrEBBsBhlBjvfkSLk3abBFkvpkARTPlYHuKqmkySFr9V9.ttf","800italic":"https://fonts.gstatic.com/s/alegreya/v35/4UaSrEBBsBhlBjvfkSLk3abBFkvpkARTPlZguKqmkySFr9V9.ttf","900italic":"https://fonts.gstatic.com/s/alegreya/v35/4UaSrEBBsBhlBjvfkSLk3abBFkvpkARTPlZJuKqmkySFr9V9.ttf"}},{family:"Alegreya SC",files:{500:"https://fonts.gstatic.com/s/alegreyasc/v25/taiTGmRtCJ62-O0HhNEa-ZZc-rUxQqu2FXKD.ttf",700:"https://fonts.gstatic.com/s/alegreyasc/v25/taiTGmRtCJ62-O0HhNEa-ZYU_LUxQqu2FXKD.ttf",800:"https://fonts.gstatic.com/s/alegreyasc/v25/taiTGmRtCJ62-O0HhNEa-ZYI_7UxQqu2FXKD.ttf",900:"https://fonts.gstatic.com/s/alegreyasc/v25/taiTGmRtCJ62-O0HhNEa-ZYs_rUxQqu2FXKD.ttf",regular:"https://fonts.gstatic.com/s/alegreyasc/v25/taiOGmRtCJ62-O0HhNEa-a6o05E5abe_.ttf",italic:"https://fonts.gstatic.com/s/alegreyasc/v25/taiMGmRtCJ62-O0HhNEa-Z6q2ZUbbKe_DGs.ttf","500italic":"https://fonts.gstatic.com/s/alegreyasc/v25/taiRGmRtCJ62-O0HhNEa-Z6q4WEySK-UEGKDBz4.ttf","700italic":"https://fonts.gstatic.com/s/alegreyasc/v25/taiRGmRtCJ62-O0HhNEa-Z6q4Sk0SK-UEGKDBz4.ttf","800italic":"https://fonts.gstatic.com/s/alegreyasc/v25/taiRGmRtCJ62-O0HhNEa-Z6q4TU3SK-UEGKDBz4.ttf","900italic":"https://fonts.gstatic.com/s/alegreyasc/v25/taiRGmRtCJ62-O0HhNEa-Z6q4RE2SK-UEGKDBz4.ttf"}},{family:"Alegreya Sans",files:{100:"https://fonts.gstatic.com/s/alegreyasans/v24/5aUt9_-1phKLFgshYDvh6Vwt5TltuGdShm5bsg.ttf",300:"https://fonts.gstatic.com/s/alegreyasans/v24/5aUu9_-1phKLFgshYDvh6Vwt5fFPmE18imdCqxI.ttf",500:"https://fonts.gstatic.com/s/alegreyasans/v24/5aUu9_-1phKLFgshYDvh6Vwt5alOmE18imdCqxI.ttf",700:"https://fonts.gstatic.com/s/alegreyasans/v24/5aUu9_-1phKLFgshYDvh6Vwt5eFImE18imdCqxI.ttf",800:"https://fonts.gstatic.com/s/alegreyasans/v24/5aUu9_-1phKLFgshYDvh6Vwt5f1LmE18imdCqxI.ttf",900:"https://fonts.gstatic.com/s/alegreyasans/v24/5aUu9_-1phKLFgshYDvh6Vwt5dlKmE18imdCqxI.ttf","100italic":"https://fonts.gstatic.com/s/alegreyasans/v24/5aUv9_-1phKLFgshYDvh6Vwt7V9V3G1WpGtLsgu7.ttf","300italic":"https://fonts.gstatic.com/s/alegreyasans/v24/5aUo9_-1phKLFgshYDvh6Vwt7V9VFE92jkVHuxKiBA.ttf",regular:"https://fonts.gstatic.com/s/alegreyasans/v24/5aUz9_-1phKLFgshYDvh6Vwt3V1nvEVXlm4.ttf",italic:"https://fonts.gstatic.com/s/alegreyasans/v24/5aUt9_-1phKLFgshYDvh6Vwt7V9tuGdShm5bsg.ttf","500italic":"https://fonts.gstatic.com/s/alegreyasans/v24/5aUo9_-1phKLFgshYDvh6Vwt7V9VTE52jkVHuxKiBA.ttf","700italic":"https://fonts.gstatic.com/s/alegreyasans/v24/5aUo9_-1phKLFgshYDvh6Vwt7V9VBEh2jkVHuxKiBA.ttf","800italic":"https://fonts.gstatic.com/s/alegreyasans/v24/5aUo9_-1phKLFgshYDvh6Vwt7V9VGEt2jkVHuxKiBA.ttf","900italic":"https://fonts.gstatic.com/s/alegreyasans/v24/5aUo9_-1phKLFgshYDvh6Vwt7V9VPEp2jkVHuxKiBA.ttf"}},{family:"Alegreya Sans SC",files:{100:"https://fonts.gstatic.com/s/alegreyasanssc/v23/mtGn4-RGJqfMvt7P8FUr0Q1j-Hf1Dipl8g5FPYtmMg.ttf",300:"https://fonts.gstatic.com/s/alegreyasanssc/v23/mtGm4-RGJqfMvt7P8FUr0Q1j-Hf1DuJH0iRrMYJ_K-4.ttf",500:"https://fonts.gstatic.com/s/alegreyasanssc/v23/mtGm4-RGJqfMvt7P8FUr0Q1j-Hf1DrpG0iRrMYJ_K-4.ttf",700:"https://fonts.gstatic.com/s/alegreyasanssc/v23/mtGm4-RGJqfMvt7P8FUr0Q1j-Hf1DvJA0iRrMYJ_K-4.ttf",800:"https://fonts.gstatic.com/s/alegreyasanssc/v23/mtGm4-RGJqfMvt7P8FUr0Q1j-Hf1Du5D0iRrMYJ_K-4.ttf",900:"https://fonts.gstatic.com/s/alegreyasanssc/v23/mtGm4-RGJqfMvt7P8FUr0Q1j-Hf1DspC0iRrMYJ_K-4.ttf","100italic":"https://fonts.gstatic.com/s/alegreyasanssc/v23/mtGl4-RGJqfMvt7P8FUr0Q1j-Hf1BkxdlgRBH452Mvds.ttf","300italic":"https://fonts.gstatic.com/s/alegreyasanssc/v23/mtGk4-RGJqfMvt7P8FUr0Q1j-Hf1BkxdXiZhNaB6O-51OA.ttf",regular:"https://fonts.gstatic.com/s/alegreyasanssc/v23/mtGh4-RGJqfMvt7P8FUr0Q1j-Hf1Nk5v9ixALYs.ttf",italic:"https://fonts.gstatic.com/s/alegreyasanssc/v23/mtGn4-RGJqfMvt7P8FUr0Q1j-Hf1Bkxl8g5FPYtmMg.ttf","500italic":"https://fonts.gstatic.com/s/alegreyasanssc/v23/mtGk4-RGJqfMvt7P8FUr0Q1j-Hf1BkxdBidhNaB6O-51OA.ttf","700italic":"https://fonts.gstatic.com/s/alegreyasanssc/v23/mtGk4-RGJqfMvt7P8FUr0Q1j-Hf1BkxdTiFhNaB6O-51OA.ttf","800italic":"https://fonts.gstatic.com/s/alegreyasanssc/v23/mtGk4-RGJqfMvt7P8FUr0Q1j-Hf1BkxdUiJhNaB6O-51OA.ttf","900italic":"https://fonts.gstatic.com/s/alegreyasanssc/v23/mtGk4-RGJqfMvt7P8FUr0Q1j-Hf1BkxddiNhNaB6O-51OA.ttf"}},{family:"Aleo",files:{300:"https://fonts.gstatic.com/s/aleo/v11/c4mg1nF8G8_syKbr9DVDno985KM.ttf",700:"https://fonts.gstatic.com/s/aleo/v11/c4mg1nF8G8_syLbs9DVDno985KM.ttf","300italic":"https://fonts.gstatic.com/s/aleo/v11/c4mi1nF8G8_swAjxeDdJmq159KOnWA.ttf",regular:"https://fonts.gstatic.com/s/aleo/v11/c4mv1nF8G8_s8ArD0D1ogoY.ttf",italic:"https://fonts.gstatic.com/s/aleo/v11/c4mh1nF8G8_swAjJ1B9tkoZl_Q.ttf","700italic":"https://fonts.gstatic.com/s/aleo/v11/c4mi1nF8G8_swAjxaDBJmq159KOnWA.ttf"}},{family:"Alex Brush",files:{regular:"https://fonts.gstatic.com/s/alexbrush/v22/SZc83FzrJKuqFbwMKk6EtUL57DtOmCc.ttf"}},{family:"Alexandria",files:{100:"https://fonts.gstatic.com/s/alexandria/v3/UMBCrPdDqW66y0Y2usFeQCH18mulUxBvI9r7T6bHHJ8BRq0b.ttf",200:"https://fonts.gstatic.com/s/alexandria/v3/UMBCrPdDqW66y0Y2usFeQCH18mulUxBvI9p7TqbHHJ8BRq0b.ttf",300:"https://fonts.gstatic.com/s/alexandria/v3/UMBCrPdDqW66y0Y2usFeQCH18mulUxBvI9qlTqbHHJ8BRq0b.ttf",500:"https://fonts.gstatic.com/s/alexandria/v3/UMBCrPdDqW66y0Y2usFeQCH18mulUxBvI9rJTqbHHJ8BRq0b.ttf",600:"https://fonts.gstatic.com/s/alexandria/v3/UMBCrPdDqW66y0Y2usFeQCH18mulUxBvI9olSabHHJ8BRq0b.ttf",700:"https://fonts.gstatic.com/s/alexandria/v3/UMBCrPdDqW66y0Y2usFeQCH18mulUxBvI9ocSabHHJ8BRq0b.ttf",800:"https://fonts.gstatic.com/s/alexandria/v3/UMBCrPdDqW66y0Y2usFeQCH18mulUxBvI9p7SabHHJ8BRq0b.ttf",900:"https://fonts.gstatic.com/s/alexandria/v3/UMBCrPdDqW66y0Y2usFeQCH18mulUxBvI9pSSabHHJ8BRq0b.ttf",regular:"https://fonts.gstatic.com/s/alexandria/v3/UMBCrPdDqW66y0Y2usFeQCH18mulUxBvI9r7TqbHHJ8BRq0b.ttf"}},{family:"Alfa Slab One",files:{regular:"https://fonts.gstatic.com/s/alfaslabone/v17/6NUQ8FmMKwSEKjnm5-4v-4Jh6dVretWvYmE.ttf"}},{family:"Alice",files:{regular:"https://fonts.gstatic.com/s/alice/v20/OpNCnoEEmtHa6FcJpA_chzJ0.ttf"}},{family:"Alike",files:{regular:"https://fonts.gstatic.com/s/alike/v20/HI_EiYEYI6BIoEjBSZXAQ4-d.ttf"}},{family:"Alike Angular",files:{regular:"https://fonts.gstatic.com/s/alikeangular/v20/3qTrojWunjGQtEBlIcwMbSoI3kM6bB7FKjE.ttf"}},{family:"Alkalami",files:{regular:"https://fonts.gstatic.com/s/alkalami/v7/zOL_4pfDmqRL95WXi5eLw8BMuvhH.ttf"}},{family:"Alkatra",files:{500:"https://fonts.gstatic.com/s/alkatra/v3/r05EGLZA5qhCYsyJbuChFuK48MedzngUu7cPrNDVemxE.ttf",600:"https://fonts.gstatic.com/s/alkatra/v3/r05EGLZA5qhCYsyJbuChFuK48Medznj4vLcPrNDVemxE.ttf",700:"https://fonts.gstatic.com/s/alkatra/v3/r05EGLZA5qhCYsyJbuChFuK48MedznjBvLcPrNDVemxE.ttf",regular:"https://fonts.gstatic.com/s/alkatra/v3/r05EGLZA5qhCYsyJbuChFuK48Medzngmu7cPrNDVemxE.ttf"}},{family:"Allan",files:{700:"https://fonts.gstatic.com/s/allan/v21/ea8aadU7WuTxEu5KEPCN2WpNgEKU.ttf",regular:"https://fonts.gstatic.com/s/allan/v21/ea8XadU7WuTxEtb2P9SF8nZE.ttf"}},{family:"Allerta",files:{regular:"https://fonts.gstatic.com/s/allerta/v18/TwMO-IAHRlkbx940UnEdSQqO5uY.ttf"}},{family:"Allerta Stencil",files:{regular:"https://fonts.gstatic.com/s/allertastencil/v18/HTx0L209KT-LmIE9N7OR6eiycOeF-zz313DuvQ.ttf"}},{family:"Allison",files:{regular:"https://fonts.gstatic.com/s/allison/v9/X7nl4b88AP2nkbvZOCaQ4MTgAgk.ttf"}},{family:"Allura",files:{regular:"https://fonts.gstatic.com/s/allura/v19/9oRPNYsQpS4zjuAPjAIXPtrrGA.ttf"}},{family:"Almarai",files:{300:"https://fonts.gstatic.com/s/almarai/v12/tssoApxBaigK_hnnS_anhnicoq72sXg.ttf",700:"https://fonts.gstatic.com/s/almarai/v12/tssoApxBaigK_hnnS-aghnicoq72sXg.ttf",800:"https://fonts.gstatic.com/s/almarai/v12/tssoApxBaigK_hnnS_qjhnicoq72sXg.ttf",regular:"https://fonts.gstatic.com/s/almarai/v12/tsstApxBaigK_hnnc1qPonC3vqc.ttf"}},{family:"Almendra",files:{700:"https://fonts.gstatic.com/s/almendra/v23/H4cjBXKAlMnTn0Cskx6G7Zu4qKK-aihq.ttf",regular:"https://fonts.gstatic.com/s/almendra/v23/H4ckBXKAlMnTn0CskyY6wr-wg763.ttf",italic:"https://fonts.gstatic.com/s/almendra/v23/H4ciBXKAlMnTn0CskxY4yLuShq63czE.ttf","700italic":"https://fonts.gstatic.com/s/almendra/v23/H4chBXKAlMnTn0CskxY48Ae9oqacbzhqDtg.ttf"}},{family:"Almendra Display",files:{regular:"https://fonts.gstatic.com/s/almendradisplay/v26/0FlPVOGWl1Sb4O3tETtADHRRlZhzXS_eTyer338.ttf"}},{family:"Almendra SC",files:{regular:"https://fonts.gstatic.com/s/almendrasc/v25/Iure6Yx284eebowr7hbyTZZJprVA4XQ0.ttf"}},{family:"Alumni Sans",files:{100:"https://fonts.gstatic.com/s/alumnisans/v16/nwpHtKqkOwdO2aOIwhWudEWpx_zq_Xna-Xd9OO5QqFsJ3C8qng.ttf",200:"https://fonts.gstatic.com/s/alumnisans/v16/nwpHtKqkOwdO2aOIwhWudEWpx_zq_Xna-Xd9uO9QqFsJ3C8qng.ttf",300:"https://fonts.gstatic.com/s/alumnisans/v16/nwpHtKqkOwdO2aOIwhWudEWpx_zq_Xna-Xd9Zu9QqFsJ3C8qng.ttf",500:"https://fonts.gstatic.com/s/alumnisans/v16/nwpHtKqkOwdO2aOIwhWudEWpx_zq_Xna-Xd9Cu9QqFsJ3C8qng.ttf",600:"https://fonts.gstatic.com/s/alumnisans/v16/nwpHtKqkOwdO2aOIwhWudEWpx_zq_Xna-Xd95uhQqFsJ3C8qng.ttf",700:"https://fonts.gstatic.com/s/alumnisans/v16/nwpHtKqkOwdO2aOIwhWudEWpx_zq_Xna-Xd93-hQqFsJ3C8qng.ttf",800:"https://fonts.gstatic.com/s/alumnisans/v16/nwpHtKqkOwdO2aOIwhWudEWpx_zq_Xna-Xd9uOhQqFsJ3C8qng.ttf",900:"https://fonts.gstatic.com/s/alumnisans/v16/nwpHtKqkOwdO2aOIwhWudEWpx_zq_Xna-Xd9kehQqFsJ3C8qng.ttf",regular:"https://fonts.gstatic.com/s/alumnisans/v16/nwpHtKqkOwdO2aOIwhWudEWpx_zq_Xna-Xd9OO9QqFsJ3C8qng.ttf","100italic":"https://fonts.gstatic.com/s/alumnisans/v16/nwpBtKqkOwdO2aOIwhWudG-g9QMylBJAV3Bo8Ky46lEN_io6npfB.ttf","200italic":"https://fonts.gstatic.com/s/alumnisans/v16/nwpBtKqkOwdO2aOIwhWudG-g9QMylBJAV3Bo8Kw461EN_io6npfB.ttf","300italic":"https://fonts.gstatic.com/s/alumnisans/v16/nwpBtKqkOwdO2aOIwhWudG-g9QMylBJAV3Bo8Kzm61EN_io6npfB.ttf",italic:"https://fonts.gstatic.com/s/alumnisans/v16/nwpBtKqkOwdO2aOIwhWudG-g9QMylBJAV3Bo8Ky461EN_io6npfB.ttf","500italic":"https://fonts.gstatic.com/s/alumnisans/v16/nwpBtKqkOwdO2aOIwhWudG-g9QMylBJAV3Bo8KyK61EN_io6npfB.ttf","600italic":"https://fonts.gstatic.com/s/alumnisans/v16/nwpBtKqkOwdO2aOIwhWudG-g9QMylBJAV3Bo8Kxm7FEN_io6npfB.ttf","700italic":"https://fonts.gstatic.com/s/alumnisans/v16/nwpBtKqkOwdO2aOIwhWudG-g9QMylBJAV3Bo8Kxf7FEN_io6npfB.ttf","800italic":"https://fonts.gstatic.com/s/alumnisans/v16/nwpBtKqkOwdO2aOIwhWudG-g9QMylBJAV3Bo8Kw47FEN_io6npfB.ttf","900italic":"https://fonts.gstatic.com/s/alumnisans/v16/nwpBtKqkOwdO2aOIwhWudG-g9QMylBJAV3Bo8KwR7FEN_io6npfB.ttf"}},{family:"Alumni Sans Collegiate One",files:{regular:"https://fonts.gstatic.com/s/alumnisanscollegiateone/v2/MQpB-XChK8G5CtmK_AuGxQrdNvPSXkn0RM-XqjWWhjdayDiPw2ta.ttf",italic:"https://fonts.gstatic.com/s/alumnisanscollegiateone/v2/MQpD-XChK8G5CtmK_AuGxQrdNvPSXkn0RM-XqjWWhgdYwjytxntaDFU.ttf"}},{family:"Alumni Sans Inline One",files:{regular:"https://fonts.gstatic.com/s/alumnisansinlineone/v2/RrQBbpJx9zZ3IXTBOASKp5gJAetBdaihcjbpD3AZcr7xbYw.ttf",italic:"https://fonts.gstatic.com/s/alumnisansinlineone/v2/RrQDbpJx9zZ3IXTBOASKp5gJAetBdaihcjbpP3ITdpz0fYxcrQ.ttf"}},{family:"Alumni Sans Pinstripe",files:{regular:"https://fonts.gstatic.com/s/alumnisanspinstripe/v2/ZgNNjOFFPq_AUJD1umyS30W-Xub8zD1ObhezYrVIpcDA5w.ttf",italic:"https://fonts.gstatic.com/s/alumnisanspinstripe/v2/ZgNDjOFFPq_AUJD1umyS30W-Xub8zD1ObheDYL9Mh8XQ5_cY.ttf"}},{family:"Amarante",files:{regular:"https://fonts.gstatic.com/s/amarante/v23/xMQXuF1KTa6EvGx9bq-3C3rAmD-b.ttf"}},{family:"Amaranth",files:{700:"https://fonts.gstatic.com/s/amaranth/v18/KtkpALODe433f0j1zMF-OPWi6WDfFpuc.ttf",regular:"https://fonts.gstatic.com/s/amaranth/v18/KtkuALODe433f0j1zPnCF9GqwnzW.ttf",italic:"https://fonts.gstatic.com/s/amaranth/v18/KtkoALODe433f0j1zMnAHdWIx2zWD4I.ttf","700italic":"https://fonts.gstatic.com/s/amaranth/v18/KtkrALODe433f0j1zMnAJWmn42T9E4ucRY8.ttf"}},{family:"Amatic SC",files:{700:"https://fonts.gstatic.com/s/amaticsc/v24/TUZ3zwprpvBS1izr_vOMscG6eb8D3WTy-A.ttf",regular:"https://fonts.gstatic.com/s/amaticsc/v24/TUZyzwprpvBS1izr_vO0De6ecZQf1A.ttf"}},{family:"Amethysta",files:{regular:"https://fonts.gstatic.com/s/amethysta/v16/rP2Fp2K15kgb_F3ibfWIGDWCBl0O8Q.ttf"}},{family:"Amiko",files:{600:"https://fonts.gstatic.com/s/amiko/v12/WwkdxPq1DFK04uJ9XXrEGoQAUco5.ttf",700:"https://fonts.gstatic.com/s/amiko/v12/WwkdxPq1DFK04uIZXHrEGoQAUco5.ttf",regular:"https://fonts.gstatic.com/s/amiko/v12/WwkQxPq1DFK04tqlc17MMZgJ.ttf"}},{family:"Amiri",files:{700:"https://fonts.gstatic.com/s/amiri/v27/J7acnpd8CGxBHp2VkZY4xJ9CGyAa.ttf",regular:"https://fonts.gstatic.com/s/amiri/v27/J7aRnpd8CGxBHqUpvrIw74NL.ttf",italic:"https://fonts.gstatic.com/s/amiri/v27/J7afnpd8CGxBHpUrtLYS6pNLAjk.ttf","700italic":"https://fonts.gstatic.com/s/amiri/v27/J7aanpd8CGxBHpUrjAo9zptgHjAavCA.ttf"}},{family:"Amiri Quran",files:{regular:"https://fonts.gstatic.com/s/amiriquran/v7/_Xmo-Hk0rD6DbUL4_vH8Zq5t7Cycsu-2.ttf"}},{family:"Amita",files:{700:"https://fonts.gstatic.com/s/amita/v16/HhyXU5si9Om7PTHTLtCCOopCTKkI.ttf",regular:"https://fonts.gstatic.com/s/amita/v16/HhyaU5si9Om7PQlvAfSKEZZL.ttf"}},{family:"Anaheim",files:{regular:"https://fonts.gstatic.com/s/anaheim/v14/8vII7w042Wp87g4G0UTUEE5eK_w.ttf"}},{family:"Andada Pro",files:{500:"https://fonts.gstatic.com/s/andadapro/v20/HhyEU5Qi9-SuOEhPe4LtKoVCuWGURPcg3DP7BY8cFLzvIt2S.ttf",600:"https://fonts.gstatic.com/s/andadapro/v20/HhyEU5Qi9-SuOEhPe4LtKoVCuWGURPcg3DMXAo8cFLzvIt2S.ttf",700:"https://fonts.gstatic.com/s/andadapro/v20/HhyEU5Qi9-SuOEhPe4LtKoVCuWGURPcg3DMuAo8cFLzvIt2S.ttf",800:"https://fonts.gstatic.com/s/andadapro/v20/HhyEU5Qi9-SuOEhPe4LtKoVCuWGURPcg3DNJAo8cFLzvIt2S.ttf",regular:"https://fonts.gstatic.com/s/andadapro/v20/HhyEU5Qi9-SuOEhPe4LtKoVCuWGURPcg3DPJBY8cFLzvIt2S.ttf",italic:"https://fonts.gstatic.com/s/andadapro/v20/HhyGU5Qi9-SuOEhPe4LtAIxwRrn9L22O2yYBRmdfHrjNJ82Stjw.ttf","500italic":"https://fonts.gstatic.com/s/andadapro/v20/HhyGU5Qi9-SuOEhPe4LtAIxwRrn9L22O2yYBRlVfHrjNJ82Stjw.ttf","600italic":"https://fonts.gstatic.com/s/andadapro/v20/HhyGU5Qi9-SuOEhPe4LtAIxwRrn9L22O2yYBRrlYHrjNJ82Stjw.ttf","700italic":"https://fonts.gstatic.com/s/andadapro/v20/HhyGU5Qi9-SuOEhPe4LtAIxwRrn9L22O2yYBRoBYHrjNJ82Stjw.ttf","800italic":"https://fonts.gstatic.com/s/andadapro/v20/HhyGU5Qi9-SuOEhPe4LtAIxwRrn9L22O2yYBRudYHrjNJ82Stjw.ttf"}},{family:"Andika",files:{700:"https://fonts.gstatic.com/s/andika/v24/mem8Ya6iyW-Lwqg40ZM1UpcaXcl0Aw.ttf",regular:"https://fonts.gstatic.com/s/andika/v24/mem_Ya6iyW-LwqgAbbwRWrwGVA.ttf",italic:"https://fonts.gstatic.com/s/andika/v24/mem9Ya6iyW-Lwqgwb7YVeLkWVNBt.ttf","700italic":"https://fonts.gstatic.com/s/andika/v24/mem6Ya6iyW-Lwqgwb46pV50ef8xkA76a.ttf"}},{family:"Anek Bangla",files:{100:"https://fonts.gstatic.com/s/anekbangla/v4/_gPW1R38qTExHg-17BhM6n66QhabMYB0fBKONtHhRSIUIre5mq3Ofm9YIocg56yyvt0.ttf",200:"https://fonts.gstatic.com/s/anekbangla/v4/_gPW1R38qTExHg-17BhM6n66QhabMYB0fBKONtHhRSIUIre5mq3Ofu9ZIocg56yyvt0.ttf",300:"https://fonts.gstatic.com/s/anekbangla/v4/_gPW1R38qTExHg-17BhM6n66QhabMYB0fBKONtHhRSIUIre5mq3OfjFZIocg56yyvt0.ttf",500:"https://fonts.gstatic.com/s/anekbangla/v4/_gPW1R38qTExHg-17BhM6n66QhabMYB0fBKONtHhRSIUIre5mq3Ofl1ZIocg56yyvt0.ttf",600:"https://fonts.gstatic.com/s/anekbangla/v4/_gPW1R38qTExHg-17BhM6n66QhabMYB0fBKONtHhRSIUIre5mq3OfrFeIocg56yyvt0.ttf",700:"https://fonts.gstatic.com/s/anekbangla/v4/_gPW1R38qTExHg-17BhM6n66QhabMYB0fBKONtHhRSIUIre5mq3OfoheIocg56yyvt0.ttf",800:"https://fonts.gstatic.com/s/anekbangla/v4/_gPW1R38qTExHg-17BhM6n66QhabMYB0fBKONtHhRSIUIre5mq3Ofu9eIocg56yyvt0.ttf",regular:"https://fonts.gstatic.com/s/anekbangla/v4/_gPW1R38qTExHg-17BhM6n66QhabMYB0fBKONtHhRSIUIre5mq3Ofm9ZIocg56yyvt0.ttf"}},{family:"Anek Devanagari",files:{100:"https://fonts.gstatic.com/s/anekdevanagari/v8/jVyo7nP0CGrUsxB-QiRgw0NlLaVt_QUAkYxLRoCL23mlh20ZVHOMAWbgHLDtk-9nFk0LjZ7E.ttf",200:"https://fonts.gstatic.com/s/anekdevanagari/v8/jVyo7nP0CGrUsxB-QiRgw0NlLaVt_QUAkYxLRoCL23mlh20ZVHOMAWbgHLBtku9nFk0LjZ7E.ttf",300:"https://fonts.gstatic.com/s/anekdevanagari/v8/jVyo7nP0CGrUsxB-QiRgw0NlLaVt_QUAkYxLRoCL23mlh20ZVHOMAWbgHLCzku9nFk0LjZ7E.ttf",500:"https://fonts.gstatic.com/s/anekdevanagari/v8/jVyo7nP0CGrUsxB-QiRgw0NlLaVt_QUAkYxLRoCL23mlh20ZVHOMAWbgHLDfku9nFk0LjZ7E.ttf",600:"https://fonts.gstatic.com/s/anekdevanagari/v8/jVyo7nP0CGrUsxB-QiRgw0NlLaVt_QUAkYxLRoCL23mlh20ZVHOMAWbgHLAzle9nFk0LjZ7E.ttf",700:"https://fonts.gstatic.com/s/anekdevanagari/v8/jVyo7nP0CGrUsxB-QiRgw0NlLaVt_QUAkYxLRoCL23mlh20ZVHOMAWbgHLAKle9nFk0LjZ7E.ttf",800:"https://fonts.gstatic.com/s/anekdevanagari/v8/jVyo7nP0CGrUsxB-QiRgw0NlLaVt_QUAkYxLRoCL23mlh20ZVHOMAWbgHLBtle9nFk0LjZ7E.ttf",regular:"https://fonts.gstatic.com/s/anekdevanagari/v8/jVyo7nP0CGrUsxB-QiRgw0NlLaVt_QUAkYxLRoCL23mlh20ZVHOMAWbgHLDtku9nFk0LjZ7E.ttf"}},{family:"Anek Gujarati",files:{100:"https://fonts.gstatic.com/s/anekgujarati/v9/l7g_bj5oysqknvkCo2T_8FuiIRBA7lncQUmbIBEtPKiYYQhRwyBxCD-0F5G7w0KgB7Lm7g.ttf",200:"https://fonts.gstatic.com/s/anekgujarati/v9/l7g_bj5oysqknvkCo2T_8FuiIRBA7lncQUmbIBEtPKiYYQhRwyBxCD-0l5C7w0KgB7Lm7g.ttf",300:"https://fonts.gstatic.com/s/anekgujarati/v9/l7g_bj5oysqknvkCo2T_8FuiIRBA7lncQUmbIBEtPKiYYQhRwyBxCD-0SZC7w0KgB7Lm7g.ttf",500:"https://fonts.gstatic.com/s/anekgujarati/v9/l7g_bj5oysqknvkCo2T_8FuiIRBA7lncQUmbIBEtPKiYYQhRwyBxCD-0JZC7w0KgB7Lm7g.ttf",600:"https://fonts.gstatic.com/s/anekgujarati/v9/l7g_bj5oysqknvkCo2T_8FuiIRBA7lncQUmbIBEtPKiYYQhRwyBxCD-0yZe7w0KgB7Lm7g.ttf",700:"https://fonts.gstatic.com/s/anekgujarati/v9/l7g_bj5oysqknvkCo2T_8FuiIRBA7lncQUmbIBEtPKiYYQhRwyBxCD-08Je7w0KgB7Lm7g.ttf",800:"https://fonts.gstatic.com/s/anekgujarati/v9/l7g_bj5oysqknvkCo2T_8FuiIRBA7lncQUmbIBEtPKiYYQhRwyBxCD-0l5e7w0KgB7Lm7g.ttf",regular:"https://fonts.gstatic.com/s/anekgujarati/v9/l7g_bj5oysqknvkCo2T_8FuiIRBA7lncQUmbIBEtPKiYYQhRwyBxCD-0F5C7w0KgB7Lm7g.ttf"}},{family:"Anek Gurmukhi",files:{100:"https://fonts.gstatic.com/s/anekgurmukhi/v8/0QIAMXRO_YSkA0quVLY79JnHybfeEOrXCa9Dmd9Ql6a6R_vEMc5TaLkbd5ppXK41H6DjbA.ttf",200:"https://fonts.gstatic.com/s/anekgurmukhi/v8/0QIAMXRO_YSkA0quVLY79JnHybfeEOrXCa9Dmd9Ql6a6R_vEMc5TaLkb95tpXK41H6DjbA.ttf",300:"https://fonts.gstatic.com/s/anekgurmukhi/v8/0QIAMXRO_YSkA0quVLY79JnHybfeEOrXCa9Dmd9Ql6a6R_vEMc5TaLkbKZtpXK41H6DjbA.ttf",500:"https://fonts.gstatic.com/s/anekgurmukhi/v8/0QIAMXRO_YSkA0quVLY79JnHybfeEOrXCa9Dmd9Ql6a6R_vEMc5TaLkbRZtpXK41H6DjbA.ttf",600:"https://fonts.gstatic.com/s/anekgurmukhi/v8/0QIAMXRO_YSkA0quVLY79JnHybfeEOrXCa9Dmd9Ql6a6R_vEMc5TaLkbqZxpXK41H6DjbA.ttf",700:"https://fonts.gstatic.com/s/anekgurmukhi/v8/0QIAMXRO_YSkA0quVLY79JnHybfeEOrXCa9Dmd9Ql6a6R_vEMc5TaLkbkJxpXK41H6DjbA.ttf",800:"https://fonts.gstatic.com/s/anekgurmukhi/v8/0QIAMXRO_YSkA0quVLY79JnHybfeEOrXCa9Dmd9Ql6a6R_vEMc5TaLkb95xpXK41H6DjbA.ttf",regular:"https://fonts.gstatic.com/s/anekgurmukhi/v8/0QIAMXRO_YSkA0quVLY79JnHybfeEOrXCa9Dmd9Ql6a6R_vEMc5TaLkbd5tpXK41H6DjbA.ttf"}},{family:"Anek Kannada",files:{100:"https://fonts.gstatic.com/s/anekkannada/v4/raxcHiCNvNMKe1CKFsINYFlgkEIwGa8nL6ruWJg1j--h8pvBKSiw4dFDEAukVReA1oef.ttf",200:"https://fonts.gstatic.com/s/anekkannada/v4/raxcHiCNvNMKe1CKFsINYFlgkEIwGa8nL6ruWJg1j--h8pvBKSiw4dHDEQukVReA1oef.ttf",300:"https://fonts.gstatic.com/s/anekkannada/v4/raxcHiCNvNMKe1CKFsINYFlgkEIwGa8nL6ruWJg1j--h8pvBKSiw4dEdEQukVReA1oef.ttf",500:"https://fonts.gstatic.com/s/anekkannada/v4/raxcHiCNvNMKe1CKFsINYFlgkEIwGa8nL6ruWJg1j--h8pvBKSiw4dFxEQukVReA1oef.ttf",600:"https://fonts.gstatic.com/s/anekkannada/v4/raxcHiCNvNMKe1CKFsINYFlgkEIwGa8nL6ruWJg1j--h8pvBKSiw4dGdFgukVReA1oef.ttf",700:"https://fonts.gstatic.com/s/anekkannada/v4/raxcHiCNvNMKe1CKFsINYFlgkEIwGa8nL6ruWJg1j--h8pvBKSiw4dGkFgukVReA1oef.ttf",800:"https://fonts.gstatic.com/s/anekkannada/v4/raxcHiCNvNMKe1CKFsINYFlgkEIwGa8nL6ruWJg1j--h8pvBKSiw4dHDFgukVReA1oef.ttf",regular:"https://fonts.gstatic.com/s/anekkannada/v4/raxcHiCNvNMKe1CKFsINYFlgkEIwGa8nL6ruWJg1j--h8pvBKSiw4dFDEQukVReA1oef.ttf"}},{family:"Anek Latin",files:{100:"https://fonts.gstatic.com/s/aneklatin/v4/co3pmWZulTRoU4a8dqrWiajBS5ByUkvdrluH-xWG5uJTY4x-L3PuR7EZKdClWL3kgw.ttf",200:"https://fonts.gstatic.com/s/aneklatin/v4/co3pmWZulTRoU4a8dqrWiajBS5ByUkvdrluH-xWG5uJTY4x-L3Pux7AZKdClWL3kgw.ttf",300:"https://fonts.gstatic.com/s/aneklatin/v4/co3pmWZulTRoU4a8dqrWiajBS5ByUkvdrluH-xWG5uJTY4x-L3PuGbAZKdClWL3kgw.ttf",500:"https://fonts.gstatic.com/s/aneklatin/v4/co3pmWZulTRoU4a8dqrWiajBS5ByUkvdrluH-xWG5uJTY4x-L3PudbAZKdClWL3kgw.ttf",600:"https://fonts.gstatic.com/s/aneklatin/v4/co3pmWZulTRoU4a8dqrWiajBS5ByUkvdrluH-xWG5uJTY4x-L3PumbcZKdClWL3kgw.ttf",700:"https://fonts.gstatic.com/s/aneklatin/v4/co3pmWZulTRoU4a8dqrWiajBS5ByUkvdrluH-xWG5uJTY4x-L3PuoLcZKdClWL3kgw.ttf",800:"https://fonts.gstatic.com/s/aneklatin/v4/co3pmWZulTRoU4a8dqrWiajBS5ByUkvdrluH-xWG5uJTY4x-L3Pux7cZKdClWL3kgw.ttf",regular:"https://fonts.gstatic.com/s/aneklatin/v4/co3pmWZulTRoU4a8dqrWiajBS5ByUkvdrluH-xWG5uJTY4x-L3PuR7AZKdClWL3kgw.ttf"}},{family:"Anek Malayalam",files:{100:"https://fonts.gstatic.com/s/anekmalayalam/v5/6qLjKZActRTs_mZAJUZWWkhke0nYa_vC8_Azq3-gP1SReZeOtqQuDVUTUZu_HMr5PDO71Qs.ttf",200:"https://fonts.gstatic.com/s/anekmalayalam/v5/6qLjKZActRTs_mZAJUZWWkhke0nYa_vC8_Azq3-gP1SReZeOtqQuDVUTURu-HMr5PDO71Qs.ttf",300:"https://fonts.gstatic.com/s/anekmalayalam/v5/6qLjKZActRTs_mZAJUZWWkhke0nYa_vC8_Azq3-gP1SReZeOtqQuDVUTUcW-HMr5PDO71Qs.ttf",500:"https://fonts.gstatic.com/s/anekmalayalam/v5/6qLjKZActRTs_mZAJUZWWkhke0nYa_vC8_Azq3-gP1SReZeOtqQuDVUTUam-HMr5PDO71Qs.ttf",600:"https://fonts.gstatic.com/s/anekmalayalam/v5/6qLjKZActRTs_mZAJUZWWkhke0nYa_vC8_Azq3-gP1SReZeOtqQuDVUTUUW5HMr5PDO71Qs.ttf",700:"https://fonts.gstatic.com/s/anekmalayalam/v5/6qLjKZActRTs_mZAJUZWWkhke0nYa_vC8_Azq3-gP1SReZeOtqQuDVUTUXy5HMr5PDO71Qs.ttf",800:"https://fonts.gstatic.com/s/anekmalayalam/v5/6qLjKZActRTs_mZAJUZWWkhke0nYa_vC8_Azq3-gP1SReZeOtqQuDVUTURu5HMr5PDO71Qs.ttf",regular:"https://fonts.gstatic.com/s/anekmalayalam/v5/6qLjKZActRTs_mZAJUZWWkhke0nYa_vC8_Azq3-gP1SReZeOtqQuDVUTUZu-HMr5PDO71Qs.ttf"}},{family:"Anek Odia",files:{100:"https://fonts.gstatic.com/s/anekodia/v5/TK3PWkoJARApz5UCd345tuevwwQX0CwsoYkAWgWYevAauivBUnmZf63mXZAtm_es.ttf",200:"https://fonts.gstatic.com/s/anekodia/v5/TK3PWkoJARApz5UCd345tuevwwQX0CwsoYkAWgWYevAauivBUnkZfq3mXZAtm_es.ttf",300:"https://fonts.gstatic.com/s/anekodia/v5/TK3PWkoJARApz5UCd345tuevwwQX0CwsoYkAWgWYevAauivBUnnHfq3mXZAtm_es.ttf",500:"https://fonts.gstatic.com/s/anekodia/v5/TK3PWkoJARApz5UCd345tuevwwQX0CwsoYkAWgWYevAauivBUnmrfq3mXZAtm_es.ttf",600:"https://fonts.gstatic.com/s/anekodia/v5/TK3PWkoJARApz5UCd345tuevwwQX0CwsoYkAWgWYevAauivBUnlHea3mXZAtm_es.ttf",700:"https://fonts.gstatic.com/s/anekodia/v5/TK3PWkoJARApz5UCd345tuevwwQX0CwsoYkAWgWYevAauivBUnl-ea3mXZAtm_es.ttf",800:"https://fonts.gstatic.com/s/anekodia/v5/TK3PWkoJARApz5UCd345tuevwwQX0CwsoYkAWgWYevAauivBUnkZea3mXZAtm_es.ttf",regular:"https://fonts.gstatic.com/s/anekodia/v5/TK3PWkoJARApz5UCd345tuevwwQX0CwsoYkAWgWYevAauivBUnmZfq3mXZAtm_es.ttf"}},{family:"Anek Tamil",files:{100:"https://fonts.gstatic.com/s/anektamil/v9/XLYJIZH2bYJHGYtPGSbUB8JKTp-_9n55SsLHW0WZez6TjtkDu3uNQiZ6q4v4oegjOQ.ttf",200:"https://fonts.gstatic.com/s/anektamil/v9/XLYJIZH2bYJHGYtPGSbUB8JKTp-_9n55SsLHW0WZez6TjtkDu3uNwid6q4v4oegjOQ.ttf",300:"https://fonts.gstatic.com/s/anektamil/v9/XLYJIZH2bYJHGYtPGSbUB8JKTp-_9n55SsLHW0WZez6TjtkDu3uNHCd6q4v4oegjOQ.ttf",500:"https://fonts.gstatic.com/s/anektamil/v9/XLYJIZH2bYJHGYtPGSbUB8JKTp-_9n55SsLHW0WZez6TjtkDu3uNcCd6q4v4oegjOQ.ttf",600:"https://fonts.gstatic.com/s/anektamil/v9/XLYJIZH2bYJHGYtPGSbUB8JKTp-_9n55SsLHW0WZez6TjtkDu3uNnCB6q4v4oegjOQ.ttf",700:"https://fonts.gstatic.com/s/anektamil/v9/XLYJIZH2bYJHGYtPGSbUB8JKTp-_9n55SsLHW0WZez6TjtkDu3uNpSB6q4v4oegjOQ.ttf",800:"https://fonts.gstatic.com/s/anektamil/v9/XLYJIZH2bYJHGYtPGSbUB8JKTp-_9n55SsLHW0WZez6TjtkDu3uNwiB6q4v4oegjOQ.ttf",regular:"https://fonts.gstatic.com/s/anektamil/v9/XLYJIZH2bYJHGYtPGSbUB8JKTp-_9n55SsLHW0WZez6TjtkDu3uNQid6q4v4oegjOQ.ttf"}},{family:"Anek Telugu",files:{100:"https://fonts.gstatic.com/s/anektelugu/v8/LhWLMVrUNvsddMtYGCx4FcVWOjlwE1WgXdoJ-5XHMl2DkooGK7i13y-_oE2G2ep10_8.ttf",200:"https://fonts.gstatic.com/s/anektelugu/v8/LhWLMVrUNvsddMtYGCx4FcVWOjlwE1WgXdoJ-5XHMl2DkooGK7i136--oE2G2ep10_8.ttf",300:"https://fonts.gstatic.com/s/anektelugu/v8/LhWLMVrUNvsddMtYGCx4FcVWOjlwE1WgXdoJ-5XHMl2DkooGK7i133G-oE2G2ep10_8.ttf",500:"https://fonts.gstatic.com/s/anektelugu/v8/LhWLMVrUNvsddMtYGCx4FcVWOjlwE1WgXdoJ-5XHMl2DkooGK7i13x2-oE2G2ep10_8.ttf",600:"https://fonts.gstatic.com/s/anektelugu/v8/LhWLMVrUNvsddMtYGCx4FcVWOjlwE1WgXdoJ-5XHMl2DkooGK7i13_G5oE2G2ep10_8.ttf",700:"https://fonts.gstatic.com/s/anektelugu/v8/LhWLMVrUNvsddMtYGCx4FcVWOjlwE1WgXdoJ-5XHMl2DkooGK7i138i5oE2G2ep10_8.ttf",800:"https://fonts.gstatic.com/s/anektelugu/v8/LhWLMVrUNvsddMtYGCx4FcVWOjlwE1WgXdoJ-5XHMl2DkooGK7i136-5oE2G2ep10_8.ttf",regular:"https://fonts.gstatic.com/s/anektelugu/v8/LhWLMVrUNvsddMtYGCx4FcVWOjlwE1WgXdoJ-5XHMl2DkooGK7i13y--oE2G2ep10_8.ttf"}},{family:"Angkor",files:{regular:"https://fonts.gstatic.com/s/angkor/v28/H4cmBXyAlsPdnlb-8iw-4Lqggw.ttf"}},{family:"Annie Use Your Telescope",files:{regular:"https://fonts.gstatic.com/s/annieuseyourtelescope/v18/daaLSS4tI2qYYl3Jq9s_Hu74xwktnlKxH6osGVGjlDfB3UUVZA.ttf"}},{family:"Anonymous Pro",files:{700:"https://fonts.gstatic.com/s/anonymouspro/v21/rP2cp2a15UIB7Un-bOeISG3pFuAT0CnW7KOywKo.ttf",regular:"https://fonts.gstatic.com/s/anonymouspro/v21/rP2Bp2a15UIB7Un-bOeISG3pLlw89CH98Ko.ttf",italic:"https://fonts.gstatic.com/s/anonymouspro/v21/rP2fp2a15UIB7Un-bOeISG3pHl428AP44Kqr2Q.ttf","700italic":"https://fonts.gstatic.com/s/anonymouspro/v21/rP2ap2a15UIB7Un-bOeISG3pHl4OTCzc6IG30KqB9Q.ttf"}},{family:"Antic",files:{regular:"https://fonts.gstatic.com/s/antic/v19/TuGfUVB8XY5DRaZLodgzydtk.ttf"}},{family:"Antic Didone",files:{regular:"https://fonts.gstatic.com/s/anticdidone/v16/RWmPoKKX6u8sp8fIWdnDKqDiqYsGBGBzCw.ttf"}},{family:"Antic Slab",files:{regular:"https://fonts.gstatic.com/s/anticslab/v16/bWt97fPFfRzkCa9Jlp6IWcJWXW5p5Qo.ttf"}},{family:"Anton",files:{regular:"https://fonts.gstatic.com/s/anton/v23/1Ptgg87LROyAm0K08i4gS7lu.ttf"}},{family:"Antonio",files:{100:"https://fonts.gstatic.com/s/antonio/v17/gNMbW3NwSYq_9WD34ngK5F8vR8T0PVxx8BtIY2DwSXlM.ttf",200:"https://fonts.gstatic.com/s/antonio/v17/gNMbW3NwSYq_9WD34ngK5F8vR8T0PVzx8RtIY2DwSXlM.ttf",300:"https://fonts.gstatic.com/s/antonio/v17/gNMbW3NwSYq_9WD34ngK5F8vR8T0PVwv8RtIY2DwSXlM.ttf",500:"https://fonts.gstatic.com/s/antonio/v17/gNMbW3NwSYq_9WD34ngK5F8vR8T0PVxD8RtIY2DwSXlM.ttf",600:"https://fonts.gstatic.com/s/antonio/v17/gNMbW3NwSYq_9WD34ngK5F8vR8T0PVyv9htIY2DwSXlM.ttf",700:"https://fonts.gstatic.com/s/antonio/v17/gNMbW3NwSYq_9WD34ngK5F8vR8T0PVyW9htIY2DwSXlM.ttf",regular:"https://fonts.gstatic.com/s/antonio/v17/gNMbW3NwSYq_9WD34ngK5F8vR8T0PVxx8RtIY2DwSXlM.ttf"}},{family:"Anuphan",files:{100:"https://fonts.gstatic.com/s/anuphan/v3/2sDBZGxYgY7LkLT0s2Yrm5UhuLoIZCkY9A4kGmW927Gu.ttf",200:"https://fonts.gstatic.com/s/anuphan/v3/2sDBZGxYgY7LkLT0s2Yrm5UhuLoIZCmY9Q4kGmW927Gu.ttf",300:"https://fonts.gstatic.com/s/anuphan/v3/2sDBZGxYgY7LkLT0s2Yrm5UhuLoIZClG9Q4kGmW927Gu.ttf",500:"https://fonts.gstatic.com/s/anuphan/v3/2sDBZGxYgY7LkLT0s2Yrm5UhuLoIZCkq9Q4kGmW927Gu.ttf",600:"https://fonts.gstatic.com/s/anuphan/v3/2sDBZGxYgY7LkLT0s2Yrm5UhuLoIZCnG8g4kGmW927Gu.ttf",700:"https://fonts.gstatic.com/s/anuphan/v3/2sDBZGxYgY7LkLT0s2Yrm5UhuLoIZCn_8g4kGmW927Gu.ttf",regular:"https://fonts.gstatic.com/s/anuphan/v3/2sDBZGxYgY7LkLT0s2Yrm5UhuLoIZCkY9Q4kGmW927Gu.ttf"}},{family:"Anybody",files:{100:"https://fonts.gstatic.com/s/anybody/v9/VuJbdNvK2Ib2ppdWYq311GH32hxIv0sd5grncSUi2F_Wim4J12HPrsXD_nBPpQ.ttf",200:"https://fonts.gstatic.com/s/anybody/v9/VuJbdNvK2Ib2ppdWYq311GH32hxIv0sd5grncSUi2F_Wim4JV2DPrsXD_nBPpQ.ttf",300:"https://fonts.gstatic.com/s/anybody/v9/VuJbdNvK2Ib2ppdWYq311GH32hxIv0sd5grncSUi2F_Wim4JiWDPrsXD_nBPpQ.ttf",500:"https://fonts.gstatic.com/s/anybody/v9/VuJbdNvK2Ib2ppdWYq311GH32hxIv0sd5grncSUi2F_Wim4J5WDPrsXD_nBPpQ.ttf",600:"https://fonts.gstatic.com/s/anybody/v9/VuJbdNvK2Ib2ppdWYq311GH32hxIv0sd5grncSUi2F_Wim4JCWfPrsXD_nBPpQ.ttf",700:"https://fonts.gstatic.com/s/anybody/v9/VuJbdNvK2Ib2ppdWYq311GH32hxIv0sd5grncSUi2F_Wim4JMGfPrsXD_nBPpQ.ttf",800:"https://fonts.gstatic.com/s/anybody/v9/VuJbdNvK2Ib2ppdWYq311GH32hxIv0sd5grncSUi2F_Wim4JV2fPrsXD_nBPpQ.ttf",900:"https://fonts.gstatic.com/s/anybody/v9/VuJbdNvK2Ib2ppdWYq311GH32hxIv0sd5grncSUi2F_Wim4JfmfPrsXD_nBPpQ.ttf",regular:"https://fonts.gstatic.com/s/anybody/v9/VuJbdNvK2Ib2ppdWYq311GH32hxIv0sd5grncSUi2F_Wim4J12DPrsXD_nBPpQ.ttf","100italic":"https://fonts.gstatic.com/s/anybody/v9/VuJddNvK2Ib2ppdWSKTHN4GOiYrmuF7VpPiuQ9r6sTRMJGkcHyMn7M_H3HVfpcHY.ttf","200italic":"https://fonts.gstatic.com/s/anybody/v9/VuJddNvK2Ib2ppdWSKTHN4GOiYrmuF7VpPiuQ9r6sTRMJGkcHyOn7c_H3HVfpcHY.ttf","300italic":"https://fonts.gstatic.com/s/anybody/v9/VuJddNvK2Ib2ppdWSKTHN4GOiYrmuF7VpPiuQ9r6sTRMJGkcHyN57c_H3HVfpcHY.ttf",italic:"https://fonts.gstatic.com/s/anybody/v9/VuJddNvK2Ib2ppdWSKTHN4GOiYrmuF7VpPiuQ9r6sTRMJGkcHyMn7c_H3HVfpcHY.ttf","500italic":"https://fonts.gstatic.com/s/anybody/v9/VuJddNvK2Ib2ppdWSKTHN4GOiYrmuF7VpPiuQ9r6sTRMJGkcHyMV7c_H3HVfpcHY.ttf","600italic":"https://fonts.gstatic.com/s/anybody/v9/VuJddNvK2Ib2ppdWSKTHN4GOiYrmuF7VpPiuQ9r6sTRMJGkcHyP56s_H3HVfpcHY.ttf","700italic":"https://fonts.gstatic.com/s/anybody/v9/VuJddNvK2Ib2ppdWSKTHN4GOiYrmuF7VpPiuQ9r6sTRMJGkcHyPA6s_H3HVfpcHY.ttf","800italic":"https://fonts.gstatic.com/s/anybody/v9/VuJddNvK2Ib2ppdWSKTHN4GOiYrmuF7VpPiuQ9r6sTRMJGkcHyOn6s_H3HVfpcHY.ttf","900italic":"https://fonts.gstatic.com/s/anybody/v9/VuJddNvK2Ib2ppdWSKTHN4GOiYrmuF7VpPiuQ9r6sTRMJGkcHyOO6s_H3HVfpcHY.ttf"}},{family:"Aoboshi One",files:{regular:"https://fonts.gstatic.com/s/aoboshione/v10/Gg8xN5kXaAXtHQrFxwl10ysLBmZX_UEg.ttf"}},{family:"Arapey",files:{regular:"https://fonts.gstatic.com/s/arapey/v16/-W__XJn-UDDA2RC6Z9AcZkIzeg.ttf",italic:"https://fonts.gstatic.com/s/arapey/v16/-W_9XJn-UDDA2RCKZdoYREcjeo0k.ttf"}},{family:"Arbutus",files:{regular:"https://fonts.gstatic.com/s/arbutus/v24/NaPYcZ7dG_5J3poob9JtryO8fMU.ttf"}},{family:"Arbutus Slab",files:{regular:"https://fonts.gstatic.com/s/arbutusslab/v16/oY1Z8e7OuLXkJGbXtr5ba7ZVa68dJlaFAQ.ttf"}},{family:"Architects Daughter",files:{regular:"https://fonts.gstatic.com/s/architectsdaughter/v18/KtkxAKiDZI_td1Lkx62xHZHDtgO_Y-bvfY5q4szgE-Q.ttf"}},{family:"Archivo",files:{100:"https://fonts.gstatic.com/s/archivo/v18/k3k6o8UDI-1M0wlSV9XAw6lQkqWY8Q82sJaRE-NWIDdgffTTNDJp8B1oJ0vyVQ.ttf",200:"https://fonts.gstatic.com/s/archivo/v18/k3k6o8UDI-1M0wlSV9XAw6lQkqWY8Q82sJaRE-NWIDdgffTTtDNp8B1oJ0vyVQ.ttf",300:"https://fonts.gstatic.com/s/archivo/v18/k3k6o8UDI-1M0wlSV9XAw6lQkqWY8Q82sJaRE-NWIDdgffTTajNp8B1oJ0vyVQ.ttf",500:"https://fonts.gstatic.com/s/archivo/v18/k3k6o8UDI-1M0wlSV9XAw6lQkqWY8Q82sJaRE-NWIDdgffTTBjNp8B1oJ0vyVQ.ttf",600:"https://fonts.gstatic.com/s/archivo/v18/k3k6o8UDI-1M0wlSV9XAw6lQkqWY8Q82sJaRE-NWIDdgffTT6jRp8B1oJ0vyVQ.ttf",700:"https://fonts.gstatic.com/s/archivo/v18/k3k6o8UDI-1M0wlSV9XAw6lQkqWY8Q82sJaRE-NWIDdgffTT0zRp8B1oJ0vyVQ.ttf",800:"https://fonts.gstatic.com/s/archivo/v18/k3k6o8UDI-1M0wlSV9XAw6lQkqWY8Q82sJaRE-NWIDdgffTTtDRp8B1oJ0vyVQ.ttf",900:"https://fonts.gstatic.com/s/archivo/v18/k3k6o8UDI-1M0wlSV9XAw6lQkqWY8Q82sJaRE-NWIDdgffTTnTRp8B1oJ0vyVQ.ttf",regular:"https://fonts.gstatic.com/s/archivo/v18/k3k6o8UDI-1M0wlSV9XAw6lQkqWY8Q82sJaRE-NWIDdgffTTNDNp8B1oJ0vyVQ.ttf","100italic":"https://fonts.gstatic.com/s/archivo/v18/k3k8o8UDI-1M0wlSfdzyIEkpwTM29hr-8mTYIRyOSVz60_PG_HCBshdsBU7iVdxQ.ttf","200italic":"https://fonts.gstatic.com/s/archivo/v18/k3k8o8UDI-1M0wlSfdzyIEkpwTM29hr-8mTYIRyOSVz60_PG_HABsxdsBU7iVdxQ.ttf","300italic":"https://fonts.gstatic.com/s/archivo/v18/k3k8o8UDI-1M0wlSfdzyIEkpwTM29hr-8mTYIRyOSVz60_PG_HDfsxdsBU7iVdxQ.ttf",italic:"https://fonts.gstatic.com/s/archivo/v18/k3k8o8UDI-1M0wlSfdzyIEkpwTM29hr-8mTYIRyOSVz60_PG_HCBsxdsBU7iVdxQ.ttf","500italic":"https://fonts.gstatic.com/s/archivo/v18/k3k8o8UDI-1M0wlSfdzyIEkpwTM29hr-8mTYIRyOSVz60_PG_HCzsxdsBU7iVdxQ.ttf","600italic":"https://fonts.gstatic.com/s/archivo/v18/k3k8o8UDI-1M0wlSfdzyIEkpwTM29hr-8mTYIRyOSVz60_PG_HBftBdsBU7iVdxQ.ttf","700italic":"https://fonts.gstatic.com/s/archivo/v18/k3k8o8UDI-1M0wlSfdzyIEkpwTM29hr-8mTYIRyOSVz60_PG_HBmtBdsBU7iVdxQ.ttf","800italic":"https://fonts.gstatic.com/s/archivo/v18/k3k8o8UDI-1M0wlSfdzyIEkpwTM29hr-8mTYIRyOSVz60_PG_HABtBdsBU7iVdxQ.ttf","900italic":"https://fonts.gstatic.com/s/archivo/v18/k3k8o8UDI-1M0wlSfdzyIEkpwTM29hr-8mTYIRyOSVz60_PG_HAotBdsBU7iVdxQ.ttf"}},{family:"Archivo Black",files:{regular:"https://fonts.gstatic.com/s/archivoblack/v17/HTxqL289NzCGg4MzN6KJ7eW6OYuP_x7yx3A.ttf"}},{family:"Archivo Narrow",files:{500:"https://fonts.gstatic.com/s/archivonarrow/v29/tss5ApVBdCYD5Q7hcxTE1ArZ0Zz8oY2KRmwvKhhvHlGKpHOtFCQ76Q.ttf",600:"https://fonts.gstatic.com/s/archivonarrow/v29/tss5ApVBdCYD5Q7hcxTE1ArZ0Zz8oY2KRmwvKhhv8laKpHOtFCQ76Q.ttf",700:"https://fonts.gstatic.com/s/archivonarrow/v29/tss5ApVBdCYD5Q7hcxTE1ArZ0Zz8oY2KRmwvKhhvy1aKpHOtFCQ76Q.ttf",regular:"https://fonts.gstatic.com/s/archivonarrow/v29/tss5ApVBdCYD5Q7hcxTE1ArZ0Zz8oY2KRmwvKhhvLFGKpHOtFCQ76Q.ttf",italic:"https://fonts.gstatic.com/s/archivonarrow/v29/tss7ApVBdCYD5Q7hcxTE1ArZ0bb1k3JSLwe1hB965BJi53mpNiEr6T6Y.ttf","500italic":"https://fonts.gstatic.com/s/archivonarrow/v29/tss7ApVBdCYD5Q7hcxTE1ArZ0bb1k3JSLwe1hB965BJQ53mpNiEr6T6Y.ttf","600italic":"https://fonts.gstatic.com/s/archivonarrow/v29/tss7ApVBdCYD5Q7hcxTE1ArZ0bb1k3JSLwe1hB965BK84HmpNiEr6T6Y.ttf","700italic":"https://fonts.gstatic.com/s/archivonarrow/v29/tss7ApVBdCYD5Q7hcxTE1ArZ0bb1k3JSLwe1hB965BKF4HmpNiEr6T6Y.ttf"}},{family:"Are You Serious",files:{regular:"https://fonts.gstatic.com/s/areyouserious/v10/ll8kK2GVSSr-PtjQ5nONVcNn4306hT9nCGRayg.ttf"}},{family:"Aref Ruqaa",files:{700:"https://fonts.gstatic.com/s/arefruqaa/v25/WwkYxPW1E165rajQKDulKDwNcNIS2N_7Bdk.ttf",regular:"https://fonts.gstatic.com/s/arefruqaa/v25/WwkbxPW1E165rajQKDulEIAiVNo5xNY.ttf"}},{family:"Aref Ruqaa Ink",files:{700:"https://fonts.gstatic.com/s/arefruqaaink/v7/1q2cY5WOGUFlt84GTOkP6Kdx71xde6WhqWBCyxWn.ttf",regular:"https://fonts.gstatic.com/s/arefruqaaink/v7/1q2fY5WOGUFlt84GTOkP6Kdx72ThVIGpgnxL.ttf"}},{family:"Arima",files:{100:"https://fonts.gstatic.com/s/arima/v5/neIWzCqmt4Aup_qE1nFWqxI1RZX1YTE-pQGOyYw2fw.ttf",200:"https://fonts.gstatic.com/s/arima/v5/neIWzCqmt4Aup_qE1nFWqxI1RZX14TA-pQGOyYw2fw.ttf",300:"https://fonts.gstatic.com/s/arima/v5/neIWzCqmt4Aup_qE1nFWqxI1RZX1PzA-pQGOyYw2fw.ttf",500:"https://fonts.gstatic.com/s/arima/v5/neIWzCqmt4Aup_qE1nFWqxI1RZX1UzA-pQGOyYw2fw.ttf",600:"https://fonts.gstatic.com/s/arima/v5/neIWzCqmt4Aup_qE1nFWqxI1RZX1vzc-pQGOyYw2fw.ttf",700:"https://fonts.gstatic.com/s/arima/v5/neIWzCqmt4Aup_qE1nFWqxI1RZX1hjc-pQGOyYw2fw.ttf",regular:"https://fonts.gstatic.com/s/arima/v5/neIWzCqmt4Aup_qE1nFWqxI1RZX1YTA-pQGOyYw2fw.ttf"}},{family:"Arimo",files:{500:"https://fonts.gstatic.com/s/arimo/v28/P5sfzZCDf9_T_3cV7NCUECyoxNk338xsBxDAVQI4aA.ttf",600:"https://fonts.gstatic.com/s/arimo/v28/P5sfzZCDf9_T_3cV7NCUECyoxNk3M8tsBxDAVQI4aA.ttf",700:"https://fonts.gstatic.com/s/arimo/v28/P5sfzZCDf9_T_3cV7NCUECyoxNk3CstsBxDAVQI4aA.ttf",regular:"https://fonts.gstatic.com/s/arimo/v28/P5sfzZCDf9_T_3cV7NCUECyoxNk37cxsBxDAVQI4aA.ttf",italic:"https://fonts.gstatic.com/s/arimo/v28/P5sdzZCDf9_T_10c3i9MeUcyat4iJY-ERBrEdwcoaKww.ttf","500italic":"https://fonts.gstatic.com/s/arimo/v28/P5sdzZCDf9_T_10c3i9MeUcyat4iJY-2RBrEdwcoaKww.ttf","600italic":"https://fonts.gstatic.com/s/arimo/v28/P5sdzZCDf9_T_10c3i9MeUcyat4iJY9aQxrEdwcoaKww.ttf","700italic":"https://fonts.gstatic.com/s/arimo/v28/P5sdzZCDf9_T_10c3i9MeUcyat4iJY9jQxrEdwcoaKww.ttf"}},{family:"Arizonia",files:{regular:"https://fonts.gstatic.com/s/arizonia/v19/neIIzCemt4A5qa7mv6WGHK06UY30.ttf"}},{family:"Armata",files:{regular:"https://fonts.gstatic.com/s/armata/v20/gokvH63_HV5jQ-E9lD53Q2u_mQ.ttf"}},{family:"Arsenal",files:{700:"https://fonts.gstatic.com/s/arsenal/v12/wXKuE3kQtZQ4pF3D7-P5JeQAmX8yrdk.ttf",regular:"https://fonts.gstatic.com/s/arsenal/v12/wXKrE3kQtZQ4pF3D11_WAewrhXY.ttf",italic:"https://fonts.gstatic.com/s/arsenal/v12/wXKpE3kQtZQ4pF3D513cBc4ulXYrtA.ttf","700italic":"https://fonts.gstatic.com/s/arsenal/v12/wXKsE3kQtZQ4pF3D513kueEKnV03vdnKjw.ttf"}},{family:"Artifika",files:{regular:"https://fonts.gstatic.com/s/artifika/v21/VEMyRoxzronptCuxu6Wt5jDtreOL.ttf"}},{family:"Arvo",files:{700:"https://fonts.gstatic.com/s/arvo/v20/tDbM2oWUg0MKoZw1yLTA8vL7lAE.ttf",regular:"https://fonts.gstatic.com/s/arvo/v20/tDbD2oWUg0MKmSAa7Lzr7vs.ttf",italic:"https://fonts.gstatic.com/s/arvo/v20/tDbN2oWUg0MKqSIQ6J7u_vvijQ.ttf","700italic":"https://fonts.gstatic.com/s/arvo/v20/tDbO2oWUg0MKqSIoVLHK9tD-hAHkGg.ttf"}},{family:"Arya",files:{700:"https://fonts.gstatic.com/s/arya/v19/ga6NawNG-HJdzfra3b-BaFg3dRE.ttf",regular:"https://fonts.gstatic.com/s/arya/v19/ga6CawNG-HJd9Ub1-beqdFE.ttf"}},{family:"Asap",files:{100:"https://fonts.gstatic.com/s/asap/v26/KFOOCniXp96a4Tc2DaTeuDAoKsE617JFc49knOIYdjTYkqQsLmOXoA7Glw.ttf",200:"https://fonts.gstatic.com/s/asap/v26/KFOOCniXp96a4Tc2DaTeuDAoKsE617JFc49knOIYdjTYEqUsLmOXoA7Glw.ttf",300:"https://fonts.gstatic.com/s/asap/v26/KFOOCniXp96a4Tc2DaTeuDAoKsE617JFc49knOIYdjTYzKUsLmOXoA7Glw.ttf",500:"https://fonts.gstatic.com/s/asap/v26/KFOOCniXp96a4Tc2DaTeuDAoKsE617JFc49knOIYdjTYoKUsLmOXoA7Glw.ttf",600:"https://fonts.gstatic.com/s/asap/v26/KFOOCniXp96a4Tc2DaTeuDAoKsE617JFc49knOIYdjTYTKIsLmOXoA7Glw.ttf",700:"https://fonts.gstatic.com/s/asap/v26/KFOOCniXp96a4Tc2DaTeuDAoKsE617JFc49knOIYdjTYdaIsLmOXoA7Glw.ttf",800:"https://fonts.gstatic.com/s/asap/v26/KFOOCniXp96a4Tc2DaTeuDAoKsE617JFc49knOIYdjTYEqIsLmOXoA7Glw.ttf",900:"https://fonts.gstatic.com/s/asap/v26/KFOOCniXp96a4Tc2DaTeuDAoKsE617JFc49knOIYdjTYO6IsLmOXoA7Glw.ttf",regular:"https://fonts.gstatic.com/s/asap/v26/KFOOCniXp96a4Tc2DaTeuDAoKsE617JFc49knOIYdjTYkqUsLmOXoA7Glw.ttf","100italic":"https://fonts.gstatic.com/s/asap/v26/KFOMCniXp96ayz4E7kSn66aGLdTylUAMQXC89YmC2DPNWubEbGmTggvWl0Qn.ttf","200italic":"https://fonts.gstatic.com/s/asap/v26/KFOMCniXp96ayz4E7kSn66aGLdTylUAMQXC89YmC2DPNWuZEbWmTggvWl0Qn.ttf","300italic":"https://fonts.gstatic.com/s/asap/v26/KFOMCniXp96ayz4E7kSn66aGLdTylUAMQXC89YmC2DPNWuaabWmTggvWl0Qn.ttf",italic:"https://fonts.gstatic.com/s/asap/v26/KFOMCniXp96ayz4E7kSn66aGLdTylUAMQXC89YmC2DPNWubEbWmTggvWl0Qn.ttf","500italic":"https://fonts.gstatic.com/s/asap/v26/KFOMCniXp96ayz4E7kSn66aGLdTylUAMQXC89YmC2DPNWub2bWmTggvWl0Qn.ttf","600italic":"https://fonts.gstatic.com/s/asap/v26/KFOMCniXp96ayz4E7kSn66aGLdTylUAMQXC89YmC2DPNWuYaammTggvWl0Qn.ttf","700italic":"https://fonts.gstatic.com/s/asap/v26/KFOMCniXp96ayz4E7kSn66aGLdTylUAMQXC89YmC2DPNWuYjammTggvWl0Qn.ttf","800italic":"https://fonts.gstatic.com/s/asap/v26/KFOMCniXp96ayz4E7kSn66aGLdTylUAMQXC89YmC2DPNWuZEammTggvWl0Qn.ttf","900italic":"https://fonts.gstatic.com/s/asap/v26/KFOMCniXp96ayz4E7kSn66aGLdTylUAMQXC89YmC2DPNWuZtammTggvWl0Qn.ttf"}},{family:"Asap Condensed",files:{200:"https://fonts.gstatic.com/s/asapcondensed/v17/pxieypY1o9NHyXh3WvSbGSggdO9DSWlEgGqgp-pO.ttf",300:"https://fonts.gstatic.com/s/asapcondensed/v17/pxieypY1o9NHyXh3WvSbGSggdO8nSmlEgGqgp-pO.ttf",500:"https://fonts.gstatic.com/s/asapcondensed/v17/pxieypY1o9NHyXh3WvSbGSggdO9_S2lEgGqgp-pO.ttf",600:"https://fonts.gstatic.com/s/asapcondensed/v17/pxieypY1o9NHyXh3WvSbGSggdO9TTGlEgGqgp-pO.ttf",700:"https://fonts.gstatic.com/s/asapcondensed/v17/pxieypY1o9NHyXh3WvSbGSggdO83TWlEgGqgp-pO.ttf",800:"https://fonts.gstatic.com/s/asapcondensed/v17/pxieypY1o9NHyXh3WvSbGSggdO8rTmlEgGqgp-pO.ttf",900:"https://fonts.gstatic.com/s/asapcondensed/v17/pxieypY1o9NHyXh3WvSbGSggdO8PT2lEgGqgp-pO.ttf","200italic":"https://fonts.gstatic.com/s/asapcondensed/v17/pxiYypY1o9NHyXh3WvSbGSggdOeJUIFFim6CovpOkXA.ttf","300italic":"https://fonts.gstatic.com/s/asapcondensed/v17/pxiYypY1o9NHyXh3WvSbGSggdOeJUOVGim6CovpOkXA.ttf",regular:"https://fonts.gstatic.com/s/asapcondensed/v17/pxidypY1o9NHyXh3WvSbGSggdNeLYk1Mq3ap.ttf",italic:"https://fonts.gstatic.com/s/asapcondensed/v17/pxifypY1o9NHyXh3WvSbGSggdOeJaElurmapvvM.ttf","500italic":"https://fonts.gstatic.com/s/asapcondensed/v17/pxiYypY1o9NHyXh3WvSbGSggdOeJUL1Him6CovpOkXA.ttf","600italic":"https://fonts.gstatic.com/s/asapcondensed/v17/pxiYypY1o9NHyXh3WvSbGSggdOeJUJFAim6CovpOkXA.ttf","700italic":"https://fonts.gstatic.com/s/asapcondensed/v17/pxiYypY1o9NHyXh3WvSbGSggdOeJUPVBim6CovpOkXA.ttf","800italic":"https://fonts.gstatic.com/s/asapcondensed/v17/pxiYypY1o9NHyXh3WvSbGSggdOeJUOlCim6CovpOkXA.ttf","900italic":"https://fonts.gstatic.com/s/asapcondensed/v17/pxiYypY1o9NHyXh3WvSbGSggdOeJUM1Dim6CovpOkXA.ttf"}},{family:"Asar",files:{regular:"https://fonts.gstatic.com/s/asar/v22/sZlLdRyI6TBIXkYQDLlTW6E.ttf"}},{family:"Asset",files:{regular:"https://fonts.gstatic.com/s/asset/v24/SLXGc1na-mM4cWImRJqExst1.ttf"}},{family:"Assistant",files:{200:"https://fonts.gstatic.com/s/assistant/v18/2sDPZGJYnIjSi6H75xkZZE1I0yCmYzzQtmZnEGGf3qGuvM4.ttf",300:"https://fonts.gstatic.com/s/assistant/v18/2sDPZGJYnIjSi6H75xkZZE1I0yCmYzzQtrhnEGGf3qGuvM4.ttf",500:"https://fonts.gstatic.com/s/assistant/v18/2sDPZGJYnIjSi6H75xkZZE1I0yCmYzzQttRnEGGf3qGuvM4.ttf",600:"https://fonts.gstatic.com/s/assistant/v18/2sDPZGJYnIjSi6H75xkZZE1I0yCmYzzQtjhgEGGf3qGuvM4.ttf",700:"https://fonts.gstatic.com/s/assistant/v18/2sDPZGJYnIjSi6H75xkZZE1I0yCmYzzQtgFgEGGf3qGuvM4.ttf",800:"https://fonts.gstatic.com/s/assistant/v18/2sDPZGJYnIjSi6H75xkZZE1I0yCmYzzQtmZgEGGf3qGuvM4.ttf",regular:"https://fonts.gstatic.com/s/assistant/v18/2sDPZGJYnIjSi6H75xkZZE1I0yCmYzzQtuZnEGGf3qGuvM4.ttf"}},{family:"Astloch",files:{700:"https://fonts.gstatic.com/s/astloch/v26/TuGUUVJ8QI5GSeUjk2A-6MNPA10xLMQ.ttf",regular:"https://fonts.gstatic.com/s/astloch/v26/TuGRUVJ8QI5GSeUjq9wRzMtkH1Q.ttf"}},{family:"Asul",files:{700:"https://fonts.gstatic.com/s/asul/v19/VuJxdNjKxYr40U8qeKbXOIFneRo.ttf",regular:"https://fonts.gstatic.com/s/asul/v19/VuJ-dNjKxYr46fMFXK78JIg.ttf"}},{family:"Athiti",files:{200:"https://fonts.gstatic.com/s/athiti/v12/pe0sMISdLIZIv1wAxDNyAv2-C99ycg.ttf",300:"https://fonts.gstatic.com/s/athiti/v12/pe0sMISdLIZIv1wAoDByAv2-C99ycg.ttf",500:"https://fonts.gstatic.com/s/athiti/v12/pe0sMISdLIZIv1wA-DFyAv2-C99ycg.ttf",600:"https://fonts.gstatic.com/s/athiti/v12/pe0sMISdLIZIv1wA1DZyAv2-C99ycg.ttf",700:"https://fonts.gstatic.com/s/athiti/v12/pe0sMISdLIZIv1wAsDdyAv2-C99ycg.ttf",regular:"https://fonts.gstatic.com/s/athiti/v12/pe0vMISdLIZIv1w4DBhWCtaiAg.ttf"}},{family:"Atkinson Hyperlegible",files:{700:"https://fonts.gstatic.com/s/atkinsonhyperlegible/v11/9Bt73C1KxNDXMspQ1lPyU89-1h6ONRlW45G8WbcNcy-OZFy-FA.ttf",regular:"https://fonts.gstatic.com/s/atkinsonhyperlegible/v11/9Bt23C1KxNDXMspQ1lPyU89-1h6ONRlW45GE5ZgpewSSbQ.ttf",italic:"https://fonts.gstatic.com/s/atkinsonhyperlegible/v11/9Bt43C1KxNDXMspQ1lPyU89-1h6ONRlW45G055ItWQGCbUWn.ttf","700italic":"https://fonts.gstatic.com/s/atkinsonhyperlegible/v11/9Bt93C1KxNDXMspQ1lPyU89-1h6ONRlW45G056qRdiWKRlmuFH24.ttf"}},{family:"Atma",files:{300:"https://fonts.gstatic.com/s/atma/v16/uK_z4rqWc-Eoo8JzKjc9PvedRkM.ttf",500:"https://fonts.gstatic.com/s/atma/v16/uK_z4rqWc-Eoo5pyKjc9PvedRkM.ttf",600:"https://fonts.gstatic.com/s/atma/v16/uK_z4rqWc-Eoo7Z1Kjc9PvedRkM.ttf",700:"https://fonts.gstatic.com/s/atma/v16/uK_z4rqWc-Eoo9J0Kjc9PvedRkM.ttf",regular:"https://fonts.gstatic.com/s/atma/v16/uK_84rqWc-Eom25bDj8WIv4.ttf"}},{family:"Atomic Age",files:{regular:"https://fonts.gstatic.com/s/atomicage/v27/f0Xz0eug6sdmRFkYZZGL58Ht9a8GYeA.ttf"}},{family:"Aubrey",files:{regular:"https://fonts.gstatic.com/s/aubrey/v28/q5uGsou7NPBw-p7vugNsCxVEgA.ttf"}},{family:"Audiowide",files:{regular:"https://fonts.gstatic.com/s/audiowide/v16/l7gdbjpo0cum0ckerWCtkQXPExpQBw.ttf"}},{family:"Autour One",files:{regular:"https://fonts.gstatic.com/s/autourone/v24/UqyVK80cP25l3fJgbdfbk5lWVscxdKE.ttf"}},{family:"Average",files:{regular:"https://fonts.gstatic.com/s/average/v18/fC1hPYBHe23MxA7rIeJwVWytTyk.ttf"}},{family:"Average Sans",files:{regular:"https://fonts.gstatic.com/s/averagesans/v16/1Ptpg8fLXP2dlAXR-HlJJNJPBdqazVoK4A.ttf"}},{family:"Averia Gruesa Libre",files:{regular:"https://fonts.gstatic.com/s/averiagruesalibre/v22/NGSov4nEGEktOaDRKsY-1dhh8eEtIx3ZUmmJw0SLRA8.ttf"}},{family:"Averia Libre",files:{300:"https://fonts.gstatic.com/s/averialibre/v16/2V0FKIcMGZEnV6xygz7eNjEarovtb07t-pQgTw.ttf",700:"https://fonts.gstatic.com/s/averialibre/v16/2V0FKIcMGZEnV6xygz7eNjEavoztb07t-pQgTw.ttf","300italic":"https://fonts.gstatic.com/s/averialibre/v16/2V0HKIcMGZEnV6xygz7eNjESAJFhbUTp2JEwT4Sk.ttf",regular:"https://fonts.gstatic.com/s/averialibre/v16/2V0aKIcMGZEnV6xygz7eNjEiAqPJZ2Xx8w.ttf",italic:"https://fonts.gstatic.com/s/averialibre/v16/2V0EKIcMGZEnV6xygz7eNjESAKnNRWDh8405.ttf","700italic":"https://fonts.gstatic.com/s/averialibre/v16/2V0HKIcMGZEnV6xygz7eNjESAJFxakTp2JEwT4Sk.ttf"}},{family:"Averia Sans Libre",files:{300:"https://fonts.gstatic.com/s/averiasanslibre/v17/ga6SaxZG_G5OvCf_rt7FH3B6BHLMEd3lMKcQJZP1LmD9.ttf",700:"https://fonts.gstatic.com/s/averiasanslibre/v17/ga6SaxZG_G5OvCf_rt7FH3B6BHLMEd31N6cQJZP1LmD9.ttf","300italic":"https://fonts.gstatic.com/s/averiasanslibre/v17/ga6caxZG_G5OvCf_rt7FH3B6BHLMEdVLKisSL5fXK3D9qtg.ttf",regular:"https://fonts.gstatic.com/s/averiasanslibre/v17/ga6XaxZG_G5OvCf_rt7FH3B6BHLMEeVJGIMYDo_8.ttf",italic:"https://fonts.gstatic.com/s/averiasanslibre/v17/ga6RaxZG_G5OvCf_rt7FH3B6BHLMEdVLEoc6C5_8N3k.ttf","700italic":"https://fonts.gstatic.com/s/averiasanslibre/v17/ga6caxZG_G5OvCf_rt7FH3B6BHLMEdVLKjsVL5fXK3D9qtg.ttf"}},{family:"Averia Serif Libre",files:{300:"https://fonts.gstatic.com/s/averiaseriflibre/v16/neIVzD2ms4wxr6GvjeD0X88SHPyX2xYGCSmqwacqdrKvbQ.ttf",700:"https://fonts.gstatic.com/s/averiaseriflibre/v16/neIVzD2ms4wxr6GvjeD0X88SHPyX2xYGGS6qwacqdrKvbQ.ttf","300italic":"https://fonts.gstatic.com/s/averiaseriflibre/v16/neIbzD2ms4wxr6GvjeD0X88SHPyX2xYOpzMmw60uVLe_bXHq.ttf",regular:"https://fonts.gstatic.com/s/averiaseriflibre/v16/neIWzD2ms4wxr6GvjeD0X88SHPyX2xY-pQGOyYw2fw.ttf",italic:"https://fonts.gstatic.com/s/averiaseriflibre/v16/neIUzD2ms4wxr6GvjeD0X88SHPyX2xYOpwuK64kmf6u2.ttf","700italic":"https://fonts.gstatic.com/s/averiaseriflibre/v16/neIbzD2ms4wxr6GvjeD0X88SHPyX2xYOpzM2xK0uVLe_bXHq.ttf"}},{family:"Azeret Mono",files:{100:"https://fonts.gstatic.com/s/azeretmono/v17/3XF5ErsiyJsY9O_Gepph-FvtTQgMQUdNekSfnPRh0raa-5s3AA.ttf",200:"https://fonts.gstatic.com/s/azeretmono/v17/3XF5ErsiyJsY9O_Gepph-FvtTQgMQUdNekSfHPVh0raa-5s3AA.ttf",300:"https://fonts.gstatic.com/s/azeretmono/v17/3XF5ErsiyJsY9O_Gepph-FvtTQgMQUdNekSfwvVh0raa-5s3AA.ttf",500:"https://fonts.gstatic.com/s/azeretmono/v17/3XF5ErsiyJsY9O_Gepph-FvtTQgMQUdNekSfrvVh0raa-5s3AA.ttf",600:"https://fonts.gstatic.com/s/azeretmono/v17/3XF5ErsiyJsY9O_Gepph-FvtTQgMQUdNekSfQvJh0raa-5s3AA.ttf",700:"https://fonts.gstatic.com/s/azeretmono/v17/3XF5ErsiyJsY9O_Gepph-FvtTQgMQUdNekSfe_Jh0raa-5s3AA.ttf",800:"https://fonts.gstatic.com/s/azeretmono/v17/3XF5ErsiyJsY9O_Gepph-FvtTQgMQUdNekSfHPJh0raa-5s3AA.ttf",900:"https://fonts.gstatic.com/s/azeretmono/v17/3XF5ErsiyJsY9O_Gepph-FvtTQgMQUdNekSfNfJh0raa-5s3AA.ttf",regular:"https://fonts.gstatic.com/s/azeretmono/v17/3XF5ErsiyJsY9O_Gepph-FvtTQgMQUdNekSfnPVh0raa-5s3AA.ttf","100italic":"https://fonts.gstatic.com/s/azeretmono/v17/3XF_ErsiyJsY9O_Gepph-HHkf_fUKCzX1EOKVLaJkLye2Z4nAN7J.ttf","200italic":"https://fonts.gstatic.com/s/azeretmono/v17/3XF_ErsiyJsY9O_Gepph-HHkf_fUKCzX1EOKVLYJkbye2Z4nAN7J.ttf","300italic":"https://fonts.gstatic.com/s/azeretmono/v17/3XF_ErsiyJsY9O_Gepph-HHkf_fUKCzX1EOKVLbXkbye2Z4nAN7J.ttf",italic:"https://fonts.gstatic.com/s/azeretmono/v17/3XF_ErsiyJsY9O_Gepph-HHkf_fUKCzX1EOKVLaJkbye2Z4nAN7J.ttf","500italic":"https://fonts.gstatic.com/s/azeretmono/v17/3XF_ErsiyJsY9O_Gepph-HHkf_fUKCzX1EOKVLa7kbye2Z4nAN7J.ttf","600italic":"https://fonts.gstatic.com/s/azeretmono/v17/3XF_ErsiyJsY9O_Gepph-HHkf_fUKCzX1EOKVLZXlrye2Z4nAN7J.ttf","700italic":"https://fonts.gstatic.com/s/azeretmono/v17/3XF_ErsiyJsY9O_Gepph-HHkf_fUKCzX1EOKVLZulrye2Z4nAN7J.ttf","800italic":"https://fonts.gstatic.com/s/azeretmono/v17/3XF_ErsiyJsY9O_Gepph-HHkf_fUKCzX1EOKVLYJlrye2Z4nAN7J.ttf","900italic":"https://fonts.gstatic.com/s/azeretmono/v17/3XF_ErsiyJsY9O_Gepph-HHkf_fUKCzX1EOKVLYglrye2Z4nAN7J.ttf"}},{family:"B612",files:{700:"https://fonts.gstatic.com/s/b612/v12/3Jn9SDDxiSz34oWXPDCLTXUETuE.ttf",regular:"https://fonts.gstatic.com/s/b612/v12/3JnySDDxiSz32jm4GDigUXw.ttf",italic:"https://fonts.gstatic.com/s/b612/v12/3Jn8SDDxiSz36juyHBqlQXwdVw.ttf","700italic":"https://fonts.gstatic.com/s/b612/v12/3Jn_SDDxiSz36juKoDWBSVcBXuFb0Q.ttf"}},{family:"B612 Mono",files:{700:"https://fonts.gstatic.com/s/b612mono/v12/kmK6Zq85QVWbN1eW6lJdayv4os9Pv7JGSg.ttf",regular:"https://fonts.gstatic.com/s/b612mono/v12/kmK_Zq85QVWbN1eW6lJl1wTcquRTtg.ttf",italic:"https://fonts.gstatic.com/s/b612mono/v12/kmK5Zq85QVWbN1eW6lJV1Q7YiOFDtqtf.ttf","700italic":"https://fonts.gstatic.com/s/b612mono/v12/kmKkZq85QVWbN1eW6lJV1TZkp8VLnbdWSg4x.ttf"}},{family:"BIZ UDGothic",files:{700:"https://fonts.gstatic.com/s/bizudgothic/v9/daaASTouBF7RUjnbt8p3LuKVCSxZ-xTQZMhbaA.ttf",regular:"https://fonts.gstatic.com/s/bizudgothic/v9/daafSTouBF7RUjnbt8p3LuKttQN98z_MbQ.ttf"}},{family:"BIZ UDMincho",files:{700:"https://fonts.gstatic.com/s/bizudmincho/v9/EJROQgI6eOxFjBdKs38yhtWNyyvfpeFE-IyCrw.ttf",regular:"https://fonts.gstatic.com/s/bizudmincho/v9/EJRRQgI6eOxFjBdKs38yhtW1dwT7rcpY8Q.ttf"}},{family:"BIZ UDPGothic",files:{700:"https://fonts.gstatic.com/s/bizudpgothic/v9/hESq6X5pHAIBjmS84VL0Bue85skjZWEnTABCSQo.ttf",regular:"https://fonts.gstatic.com/s/bizudpgothic/v9/hES36X5pHAIBjmS84VL0Bue83nUMQWkMUAk.ttf"}},{family:"BIZ UDPMincho",files:{700:"https://fonts.gstatic.com/s/bizudpmincho/v9/ypvCbXOBrmYppy7oWWTg1_58pqR3kU7fnZAy57k.ttf",regular:"https://fonts.gstatic.com/s/bizudpmincho/v9/ypvfbXOBrmYppy7oWWTg1_58nhhYtUb0gZk.ttf"}},{family:"Babylonica",files:{regular:"https://fonts.gstatic.com/s/babylonica/v2/5aUw9_i2qxWVCAE2aHjTqDJ0-VVMoEw.ttf"}},{family:"Bad Script",files:{regular:"https://fonts.gstatic.com/s/badscript/v16/6NUT8F6PJgbFWQn47_x7lOwuzd1AZtw.ttf"}},{family:"Bahiana",files:{regular:"https://fonts.gstatic.com/s/bahiana/v19/uU9PCBUV4YenPWJU7xPb3vyHmlI.ttf"}},{family:"Bahianita",files:{regular:"https://fonts.gstatic.com/s/bahianita/v18/yYLr0hTb3vuqqsBUgxWtxTvV2NJPcA.ttf"}},{family:"Bai Jamjuree",files:{200:"https://fonts.gstatic.com/s/baijamjuree/v11/LDIqapSCOBt_aeQQ7ftydoa0kePuk5A1-yiSgA.ttf",300:"https://fonts.gstatic.com/s/baijamjuree/v11/LDIqapSCOBt_aeQQ7ftydoa09eDuk5A1-yiSgA.ttf",500:"https://fonts.gstatic.com/s/baijamjuree/v11/LDIqapSCOBt_aeQQ7ftydoa0reHuk5A1-yiSgA.ttf",600:"https://fonts.gstatic.com/s/baijamjuree/v11/LDIqapSCOBt_aeQQ7ftydoa0gebuk5A1-yiSgA.ttf",700:"https://fonts.gstatic.com/s/baijamjuree/v11/LDIqapSCOBt_aeQQ7ftydoa05efuk5A1-yiSgA.ttf","200italic":"https://fonts.gstatic.com/s/baijamjuree/v11/LDIoapSCOBt_aeQQ7ftydoa8W_oGkpox2S2CgOva.ttf","300italic":"https://fonts.gstatic.com/s/baijamjuree/v11/LDIoapSCOBt_aeQQ7ftydoa8W_pikZox2S2CgOva.ttf",regular:"https://fonts.gstatic.com/s/baijamjuree/v11/LDI1apSCOBt_aeQQ7ftydoaMWcjKm7sp8g.ttf",italic:"https://fonts.gstatic.com/s/baijamjuree/v11/LDIrapSCOBt_aeQQ7ftydoa8W8LOub458jGL.ttf","500italic":"https://fonts.gstatic.com/s/baijamjuree/v11/LDIoapSCOBt_aeQQ7ftydoa8W_o6kJox2S2CgOva.ttf","600italic":"https://fonts.gstatic.com/s/baijamjuree/v11/LDIoapSCOBt_aeQQ7ftydoa8W_oWl5ox2S2CgOva.ttf","700italic":"https://fonts.gstatic.com/s/baijamjuree/v11/LDIoapSCOBt_aeQQ7ftydoa8W_pylpox2S2CgOva.ttf"}},{family:"Bakbak One",files:{regular:"https://fonts.gstatic.com/s/bakbakone/v6/zOL54pXAl6RI-p_ardnuycRuv-hHkOs.ttf"}},{family:"Ballet",files:{regular:"https://fonts.gstatic.com/s/ballet/v25/QGYyz_MYZA-HM4NjuGOVnUEXme1I4Xi3C4G-EiAou6Y.ttf"}},{family:"Baloo 2",files:{500:"https://fonts.gstatic.com/s/baloo2/v16/wXK0E3kTposypRydzVT08TS3JnAmtdgozapv9Fat7WcN.ttf",600:"https://fonts.gstatic.com/s/baloo2/v16/wXK0E3kTposypRydzVT08TS3JnAmtdjEyqpv9Fat7WcN.ttf",700:"https://fonts.gstatic.com/s/baloo2/v16/wXK0E3kTposypRydzVT08TS3JnAmtdj9yqpv9Fat7WcN.ttf",800:"https://fonts.gstatic.com/s/baloo2/v16/wXK0E3kTposypRydzVT08TS3JnAmtdiayqpv9Fat7WcN.ttf",regular:"https://fonts.gstatic.com/s/baloo2/v16/wXK0E3kTposypRydzVT08TS3JnAmtdgazapv9Fat7WcN.ttf"}},{family:"Baloo Bhai 2",files:{500:"https://fonts.gstatic.com/s/baloobhai2/v22/sZlWdRSL-z1VEWZ4YNA7Y5ItevYWUOHDE8FvNhohMXeCo-jsZzo.ttf",600:"https://fonts.gstatic.com/s/baloobhai2/v22/sZlWdRSL-z1VEWZ4YNA7Y5ItevYWUOHDE8FvNvYmMXeCo-jsZzo.ttf",700:"https://fonts.gstatic.com/s/baloobhai2/v22/sZlWdRSL-z1VEWZ4YNA7Y5ItevYWUOHDE8FvNs8mMXeCo-jsZzo.ttf",800:"https://fonts.gstatic.com/s/baloobhai2/v22/sZlWdRSL-z1VEWZ4YNA7Y5ItevYWUOHDE8FvNqgmMXeCo-jsZzo.ttf",regular:"https://fonts.gstatic.com/s/baloobhai2/v22/sZlWdRSL-z1VEWZ4YNA7Y5ItevYWUOHDE8FvNighMXeCo-jsZzo.ttf"}},{family:"Baloo Bhaijaan 2",files:{500:"https://fonts.gstatic.com/s/baloobhaijaan2/v14/zYXwKUwuEqdVGqM8tPDdAA_Y-_bMKo1EhQd2tWxo8TyjSqP4L4ppfcyC.ttf",600:"https://fonts.gstatic.com/s/baloobhaijaan2/v14/zYXwKUwuEqdVGqM8tPDdAA_Y-_bMKo1EhQd2tWxo8TxPTaP4L4ppfcyC.ttf",700:"https://fonts.gstatic.com/s/baloobhaijaan2/v14/zYXwKUwuEqdVGqM8tPDdAA_Y-_bMKo1EhQd2tWxo8Tx2TaP4L4ppfcyC.ttf",800:"https://fonts.gstatic.com/s/baloobhaijaan2/v14/zYXwKUwuEqdVGqM8tPDdAA_Y-_bMKo1EhQd2tWxo8TwRTaP4L4ppfcyC.ttf",regular:"https://fonts.gstatic.com/s/baloobhaijaan2/v14/zYXwKUwuEqdVGqM8tPDdAA_Y-_bMKo1EhQd2tWxo8TyRSqP4L4ppfcyC.ttf"}},{family:"Baloo Bhaina 2",files:{500:"https://fonts.gstatic.com/s/baloobhaina2/v22/qWc-B6yyq4P9Adr3RtoX1q6ySgbwusXwJjkOS-XEgMPvRfRLYWmZSA.ttf",600:"https://fonts.gstatic.com/s/baloobhaina2/v22/qWc-B6yyq4P9Adr3RtoX1q6ySgbwusXwJjkOS-XEbMTvRfRLYWmZSA.ttf",700:"https://fonts.gstatic.com/s/baloobhaina2/v22/qWc-B6yyq4P9Adr3RtoX1q6ySgbwusXwJjkOS-XEVcTvRfRLYWmZSA.ttf",800:"https://fonts.gstatic.com/s/baloobhaina2/v22/qWc-B6yyq4P9Adr3RtoX1q6ySgbwusXwJjkOS-XEMsTvRfRLYWmZSA.ttf",regular:"https://fonts.gstatic.com/s/baloobhaina2/v22/qWc-B6yyq4P9Adr3RtoX1q6ySgbwusXwJjkOS-XEssPvRfRLYWmZSA.ttf"}},{family:"Baloo Chettan 2",files:{500:"https://fonts.gstatic.com/s/baloochettan2/v16/vm8hdRbmXEva26PK-NtuX4ynWEzF69-L4gqgkIL5CdCTO1oeH9xI2gc.ttf",600:"https://fonts.gstatic.com/s/baloochettan2/v16/vm8hdRbmXEva26PK-NtuX4ynWEzF69-L4gqgkIL5CTyUO1oeH9xI2gc.ttf",700:"https://fonts.gstatic.com/s/baloochettan2/v16/vm8hdRbmXEva26PK-NtuX4ynWEzF69-L4gqgkIL5CQWUO1oeH9xI2gc.ttf",800:"https://fonts.gstatic.com/s/baloochettan2/v16/vm8hdRbmXEva26PK-NtuX4ynWEzF69-L4gqgkIL5CWKUO1oeH9xI2gc.ttf",regular:"https://fonts.gstatic.com/s/baloochettan2/v16/vm8hdRbmXEva26PK-NtuX4ynWEzF69-L4gqgkIL5CeKTO1oeH9xI2gc.ttf"}},{family:"Baloo Da 2",files:{500:"https://fonts.gstatic.com/s/balooda2/v17/2-c39J9j0IaUMQZwAJyJaOX1UUnf3GLnYjA5sTNe55aRa7UE.ttf",600:"https://fonts.gstatic.com/s/balooda2/v17/2-c39J9j0IaUMQZwAJyJaOX1UUnf3GLnYjDVtjNe55aRa7UE.ttf",700:"https://fonts.gstatic.com/s/balooda2/v17/2-c39J9j0IaUMQZwAJyJaOX1UUnf3GLnYjDstjNe55aRa7UE.ttf",800:"https://fonts.gstatic.com/s/balooda2/v17/2-c39J9j0IaUMQZwAJyJaOX1UUnf3GLnYjCLtjNe55aRa7UE.ttf",regular:"https://fonts.gstatic.com/s/balooda2/v17/2-c39J9j0IaUMQZwAJyJaOX1UUnf3GLnYjALsTNe55aRa7UE.ttf"}},{family:"Baloo Paaji 2",files:{500:"https://fonts.gstatic.com/s/baloopaaji2/v22/i7dfIFFzbz-QHZUdV9_UGWZuelmy79QJ1HOSY9Al74fybRUz1r5t.ttf",600:"https://fonts.gstatic.com/s/baloopaaji2/v22/i7dfIFFzbz-QHZUdV9_UGWZuelmy79QJ1HOSY9DJ6IfybRUz1r5t.ttf",700:"https://fonts.gstatic.com/s/baloopaaji2/v22/i7dfIFFzbz-QHZUdV9_UGWZuelmy79QJ1HOSY9Dw6IfybRUz1r5t.ttf",800:"https://fonts.gstatic.com/s/baloopaaji2/v22/i7dfIFFzbz-QHZUdV9_UGWZuelmy79QJ1HOSY9CX6IfybRUz1r5t.ttf",regular:"https://fonts.gstatic.com/s/baloopaaji2/v22/i7dfIFFzbz-QHZUdV9_UGWZuelmy79QJ1HOSY9AX74fybRUz1r5t.ttf"}},{family:"Baloo Tamma 2",files:{500:"https://fonts.gstatic.com/s/balootamma2/v15/vEFE2_hCAgcR46PaajtrYlBbVUMUJgIC5LHTrMsuPp-0IF71SGC5.ttf",600:"https://fonts.gstatic.com/s/balootamma2/v15/vEFE2_hCAgcR46PaajtrYlBbVUMUJgIC5LHTrMvCOZ-0IF71SGC5.ttf",700:"https://fonts.gstatic.com/s/balootamma2/v15/vEFE2_hCAgcR46PaajtrYlBbVUMUJgIC5LHTrMv7OZ-0IF71SGC5.ttf",800:"https://fonts.gstatic.com/s/balootamma2/v15/vEFE2_hCAgcR46PaajtrYlBbVUMUJgIC5LHTrMucOZ-0IF71SGC5.ttf",regular:"https://fonts.gstatic.com/s/balootamma2/v15/vEFE2_hCAgcR46PaajtrYlBbVUMUJgIC5LHTrMscPp-0IF71SGC5.ttf"}},{family:"Baloo Tammudu 2",files:{500:"https://fonts.gstatic.com/s/balootammudu2/v22/1Pt5g8TIS_SAmkLguUdFP8UaJcKkzlPmMT00GaE_Jc0e4c6PZSlGmAA.ttf",600:"https://fonts.gstatic.com/s/balootammudu2/v22/1Pt5g8TIS_SAmkLguUdFP8UaJcKkzlPmMT00GaE_JSEZ4c6PZSlGmAA.ttf",700:"https://fonts.gstatic.com/s/balootammudu2/v22/1Pt5g8TIS_SAmkLguUdFP8UaJcKkzlPmMT00GaE_JRgZ4c6PZSlGmAA.ttf",800:"https://fonts.gstatic.com/s/balootammudu2/v22/1Pt5g8TIS_SAmkLguUdFP8UaJcKkzlPmMT00GaE_JX8Z4c6PZSlGmAA.ttf",regular:"https://fonts.gstatic.com/s/balootammudu2/v22/1Pt5g8TIS_SAmkLguUdFP8UaJcKkzlPmMT00GaE_Jf8e4c6PZSlGmAA.ttf"}},{family:"Baloo Thambi 2",files:{500:"https://fonts.gstatic.com/s/baloothambi2/v16/cY9RfjeOW0NHpmOQXranrbDyu5JMJmNp-aDvUBbK_8IzaQRG_n4osQ.ttf",600:"https://fonts.gstatic.com/s/baloothambi2/v16/cY9RfjeOW0NHpmOQXranrbDyu5JMJmNp-aDvUBbKE8UzaQRG_n4osQ.ttf",700:"https://fonts.gstatic.com/s/baloothambi2/v16/cY9RfjeOW0NHpmOQXranrbDyu5JMJmNp-aDvUBbKKsUzaQRG_n4osQ.ttf",800:"https://fonts.gstatic.com/s/baloothambi2/v16/cY9RfjeOW0NHpmOQXranrbDyu5JMJmNp-aDvUBbKTcUzaQRG_n4osQ.ttf",regular:"https://fonts.gstatic.com/s/baloothambi2/v16/cY9RfjeOW0NHpmOQXranrbDyu5JMJmNp-aDvUBbKzcIzaQRG_n4osQ.ttf"}},{family:"Balsamiq Sans",files:{700:"https://fonts.gstatic.com/s/balsamiqsans/v12/P5sZzZiAbNrN8SB3lQQX7PncyWUyBY9mAzLFRQI.ttf",regular:"https://fonts.gstatic.com/s/balsamiqsans/v12/P5sEzZiAbNrN8SB3lQQX7Pnc8dkdIYdNHzs.ttf",italic:"https://fonts.gstatic.com/s/balsamiqsans/v12/P5sazZiAbNrN8SB3lQQX7PncwdsXJaVIDzvcXA.ttf","700italic":"https://fonts.gstatic.com/s/balsamiqsans/v12/P5sfzZiAbNrN8SB3lQQX7PncwdsvmYpsBxDAVQI4aA.ttf"}},{family:"Balthazar",files:{regular:"https://fonts.gstatic.com/s/balthazar/v17/d6lKkaajS8Gm4CVQjFEvyRTo39l8hw.ttf"}},{family:"Bangers",files:{regular:"https://fonts.gstatic.com/s/bangers/v21/FeVQS0BTqb0h60ACL5la2bxii28.ttf"}},{family:"Barlow",files:{100:"https://fonts.gstatic.com/s/barlow/v12/7cHrv4kjgoGqM7E3b8s8yn4hnCci.ttf",200:"https://fonts.gstatic.com/s/barlow/v12/7cHqv4kjgoGqM7E3w-oc4FAtlT47dw.ttf",300:"https://fonts.gstatic.com/s/barlow/v12/7cHqv4kjgoGqM7E3p-kc4FAtlT47dw.ttf",500:"https://fonts.gstatic.com/s/barlow/v12/7cHqv4kjgoGqM7E3_-gc4FAtlT47dw.ttf",600:"https://fonts.gstatic.com/s/barlow/v12/7cHqv4kjgoGqM7E30-8c4FAtlT47dw.ttf",700:"https://fonts.gstatic.com/s/barlow/v12/7cHqv4kjgoGqM7E3t-4c4FAtlT47dw.ttf",800:"https://fonts.gstatic.com/s/barlow/v12/7cHqv4kjgoGqM7E3q-0c4FAtlT47dw.ttf",900:"https://fonts.gstatic.com/s/barlow/v12/7cHqv4kjgoGqM7E3j-wc4FAtlT47dw.ttf","100italic":"https://fonts.gstatic.com/s/barlow/v12/7cHtv4kjgoGqM7E_CfNYwHoDmTcibrA.ttf","200italic":"https://fonts.gstatic.com/s/barlow/v12/7cHsv4kjgoGqM7E_CfP04Voptzsrd6m9.ttf","300italic":"https://fonts.gstatic.com/s/barlow/v12/7cHsv4kjgoGqM7E_CfOQ4loptzsrd6m9.ttf",regular:"https://fonts.gstatic.com/s/barlow/v12/7cHpv4kjgoGqM7EPC8E46HsxnA.ttf",italic:"https://fonts.gstatic.com/s/barlow/v12/7cHrv4kjgoGqM7E_Ccs8yn4hnCci.ttf","500italic":"https://fonts.gstatic.com/s/barlow/v12/7cHsv4kjgoGqM7E_CfPI41optzsrd6m9.ttf","600italic":"https://fonts.gstatic.com/s/barlow/v12/7cHsv4kjgoGqM7E_CfPk5Foptzsrd6m9.ttf","700italic":"https://fonts.gstatic.com/s/barlow/v12/7cHsv4kjgoGqM7E_CfOA5Voptzsrd6m9.ttf","800italic":"https://fonts.gstatic.com/s/barlow/v12/7cHsv4kjgoGqM7E_CfOc5loptzsrd6m9.ttf","900italic":"https://fonts.gstatic.com/s/barlow/v12/7cHsv4kjgoGqM7E_CfO451optzsrd6m9.ttf"}},{family:"Barlow Condensed",files:{100:"https://fonts.gstatic.com/s/barlowcondensed/v12/HTxxL3I-JCGChYJ8VI-L6OO_au7B43LT31vytKgbaw.ttf",200:"https://fonts.gstatic.com/s/barlowcondensed/v12/HTxwL3I-JCGChYJ8VI-L6OO_au7B497y_3HcuKECcrs.ttf",300:"https://fonts.gstatic.com/s/barlowcondensed/v12/HTxwL3I-JCGChYJ8VI-L6OO_au7B47rx_3HcuKECcrs.ttf",500:"https://fonts.gstatic.com/s/barlowcondensed/v12/HTxwL3I-JCGChYJ8VI-L6OO_au7B4-Lw_3HcuKECcrs.ttf",600:"https://fonts.gstatic.com/s/barlowcondensed/v12/HTxwL3I-JCGChYJ8VI-L6OO_au7B4873_3HcuKECcrs.ttf",700:"https://fonts.gstatic.com/s/barlowcondensed/v12/HTxwL3I-JCGChYJ8VI-L6OO_au7B46r2_3HcuKECcrs.ttf",800:"https://fonts.gstatic.com/s/barlowcondensed/v12/HTxwL3I-JCGChYJ8VI-L6OO_au7B47b1_3HcuKECcrs.ttf",900:"https://fonts.gstatic.com/s/barlowcondensed/v12/HTxwL3I-JCGChYJ8VI-L6OO_au7B45L0_3HcuKECcrs.ttf","100italic":"https://fonts.gstatic.com/s/barlowcondensed/v12/HTxzL3I-JCGChYJ8VI-L6OO_au7B6xTru1H2lq0La6JN.ttf","200italic":"https://fonts.gstatic.com/s/barlowcondensed/v12/HTxyL3I-JCGChYJ8VI-L6OO_au7B6xTrF3DWvIMHYrtUxg.ttf","300italic":"https://fonts.gstatic.com/s/barlowcondensed/v12/HTxyL3I-JCGChYJ8VI-L6OO_au7B6xTrc3PWvIMHYrtUxg.ttf",regular:"https://fonts.gstatic.com/s/barlowcondensed/v12/HTx3L3I-JCGChYJ8VI-L6OO_au7B2xbZ23n3pKg.ttf",italic:"https://fonts.gstatic.com/s/barlowcondensed/v12/HTxxL3I-JCGChYJ8VI-L6OO_au7B6xTT31vytKgbaw.ttf","500italic":"https://fonts.gstatic.com/s/barlowcondensed/v12/HTxyL3I-JCGChYJ8VI-L6OO_au7B6xTrK3LWvIMHYrtUxg.ttf","600italic":"https://fonts.gstatic.com/s/barlowcondensed/v12/HTxyL3I-JCGChYJ8VI-L6OO_au7B6xTrB3XWvIMHYrtUxg.ttf","700italic":"https://fonts.gstatic.com/s/barlowcondensed/v12/HTxyL3I-JCGChYJ8VI-L6OO_au7B6xTrY3TWvIMHYrtUxg.ttf","800italic":"https://fonts.gstatic.com/s/barlowcondensed/v12/HTxyL3I-JCGChYJ8VI-L6OO_au7B6xTrf3fWvIMHYrtUxg.ttf","900italic":"https://fonts.gstatic.com/s/barlowcondensed/v12/HTxyL3I-JCGChYJ8VI-L6OO_au7B6xTrW3bWvIMHYrtUxg.ttf"}},{family:"Barlow Semi Condensed",files:{100:"https://fonts.gstatic.com/s/barlowsemicondensed/v15/wlphgxjLBV1hqnzfr-F8sEYMB0Yybp0mudRfG4qvKk8ogoSP.ttf",200:"https://fonts.gstatic.com/s/barlowsemicondensed/v15/wlpigxjLBV1hqnzfr-F8sEYMB0Yybp0mudRft6uPAGEki52WfA.ttf",300:"https://fonts.gstatic.com/s/barlowsemicondensed/v15/wlpigxjLBV1hqnzfr-F8sEYMB0Yybp0mudRf06iPAGEki52WfA.ttf",500:"https://fonts.gstatic.com/s/barlowsemicondensed/v15/wlpigxjLBV1hqnzfr-F8sEYMB0Yybp0mudRfi6mPAGEki52WfA.ttf",600:"https://fonts.gstatic.com/s/barlowsemicondensed/v15/wlpigxjLBV1hqnzfr-F8sEYMB0Yybp0mudRfp66PAGEki52WfA.ttf",700:"https://fonts.gstatic.com/s/barlowsemicondensed/v15/wlpigxjLBV1hqnzfr-F8sEYMB0Yybp0mudRfw6-PAGEki52WfA.ttf",800:"https://fonts.gstatic.com/s/barlowsemicondensed/v15/wlpigxjLBV1hqnzfr-F8sEYMB0Yybp0mudRf36yPAGEki52WfA.ttf",900:"https://fonts.gstatic.com/s/barlowsemicondensed/v15/wlpigxjLBV1hqnzfr-F8sEYMB0Yybp0mudRf-62PAGEki52WfA.ttf","100italic":"https://fonts.gstatic.com/s/barlowsemicondensed/v15/wlpjgxjLBV1hqnzfr-F8sEYMB0Yybp0mudRXfbLLIEsKh5SPZWs.ttf","200italic":"https://fonts.gstatic.com/s/barlowsemicondensed/v15/wlpkgxjLBV1hqnzfr-F8sEYMB0Yybp0mudRXfbJnAWsgqZiGfHK5.ttf","300italic":"https://fonts.gstatic.com/s/barlowsemicondensed/v15/wlpkgxjLBV1hqnzfr-F8sEYMB0Yybp0mudRXfbIDAmsgqZiGfHK5.ttf",regular:"https://fonts.gstatic.com/s/barlowsemicondensed/v15/wlpvgxjLBV1hqnzfr-F8sEYMB0Yybp0mudRnf4CrCEo4gg.ttf",italic:"https://fonts.gstatic.com/s/barlowsemicondensed/v15/wlphgxjLBV1hqnzfr-F8sEYMB0Yybp0mudRXfYqvKk8ogoSP.ttf","500italic":"https://fonts.gstatic.com/s/barlowsemicondensed/v15/wlpkgxjLBV1hqnzfr-F8sEYMB0Yybp0mudRXfbJbA2sgqZiGfHK5.ttf","600italic":"https://fonts.gstatic.com/s/barlowsemicondensed/v15/wlpkgxjLBV1hqnzfr-F8sEYMB0Yybp0mudRXfbJ3BGsgqZiGfHK5.ttf","700italic":"https://fonts.gstatic.com/s/barlowsemicondensed/v15/wlpkgxjLBV1hqnzfr-F8sEYMB0Yybp0mudRXfbITBWsgqZiGfHK5.ttf","800italic":"https://fonts.gstatic.com/s/barlowsemicondensed/v15/wlpkgxjLBV1hqnzfr-F8sEYMB0Yybp0mudRXfbIPBmsgqZiGfHK5.ttf","900italic":"https://fonts.gstatic.com/s/barlowsemicondensed/v15/wlpkgxjLBV1hqnzfr-F8sEYMB0Yybp0mudRXfbIrB2sgqZiGfHK5.ttf"}},{family:"Barriecito",files:{regular:"https://fonts.gstatic.com/s/barriecito/v17/WWXXlj-CbBOSLY2QTuY_KdUiYwTO0MU.ttf"}},{family:"Barrio",files:{regular:"https://fonts.gstatic.com/s/barrio/v19/wEO8EBXBk8hBIDiEdQYhWdsX1Q.ttf"}},{family:"Basic",files:{regular:"https://fonts.gstatic.com/s/basic/v17/xfu_0WLxV2_XKQN34lDVyR7D.ttf"}},{family:"Baskervville",files:{regular:"https://fonts.gstatic.com/s/baskervville/v14/YA9Ur0yU4l_XOrogbkun3kQgt5OohvbJ9A.ttf",italic:"https://fonts.gstatic.com/s/baskervville/v14/YA9Kr0yU4l_XOrogbkun3kQQtZmspPPZ9Mlt.ttf"}},{family:"Battambang",files:{100:"https://fonts.gstatic.com/s/battambang/v24/uk-kEGe7raEw-HjkzZabNhGp5w50_o9T7Q.ttf",300:"https://fonts.gstatic.com/s/battambang/v24/uk-lEGe7raEw-HjkzZabNtmLxyRa8oZK9I0.ttf",700:"https://fonts.gstatic.com/s/battambang/v24/uk-lEGe7raEw-HjkzZabNsmMxyRa8oZK9I0.ttf",900:"https://fonts.gstatic.com/s/battambang/v24/uk-lEGe7raEw-HjkzZabNvGOxyRa8oZK9I0.ttf",regular:"https://fonts.gstatic.com/s/battambang/v24/uk-mEGe7raEw-HjkzZabDnWj4yxx7o8.ttf"}},{family:"Baumans",files:{regular:"https://fonts.gstatic.com/s/baumans/v17/-W_-XJj9QyTd3QfpR_oyaksqY5Q.ttf"}},{family:"Bayon",files:{regular:"https://fonts.gstatic.com/s/bayon/v29/9XUrlJNmn0LPFl-pOhYEd2NJ.ttf"}},{family:"Be Vietnam Pro",files:{100:"https://fonts.gstatic.com/s/bevietnampro/v10/QdVNSTAyLFyeg_IDWvOJmVES_HRUBX8YYbAiah8.ttf",200:"https://fonts.gstatic.com/s/bevietnampro/v10/QdVMSTAyLFyeg_IDWvOJmVES_HT4JF8yT7wrcwap.ttf",300:"https://fonts.gstatic.com/s/bevietnampro/v10/QdVMSTAyLFyeg_IDWvOJmVES_HScJ18yT7wrcwap.ttf",500:"https://fonts.gstatic.com/s/bevietnampro/v10/QdVMSTAyLFyeg_IDWvOJmVES_HTEJl8yT7wrcwap.ttf",600:"https://fonts.gstatic.com/s/bevietnampro/v10/QdVMSTAyLFyeg_IDWvOJmVES_HToIV8yT7wrcwap.ttf",700:"https://fonts.gstatic.com/s/bevietnampro/v10/QdVMSTAyLFyeg_IDWvOJmVES_HSMIF8yT7wrcwap.ttf",800:"https://fonts.gstatic.com/s/bevietnampro/v10/QdVMSTAyLFyeg_IDWvOJmVES_HSQI18yT7wrcwap.ttf",900:"https://fonts.gstatic.com/s/bevietnampro/v10/QdVMSTAyLFyeg_IDWvOJmVES_HS0Il8yT7wrcwap.ttf","100italic":"https://fonts.gstatic.com/s/bevietnampro/v10/QdVLSTAyLFyeg_IDWvOJmVES_HwyPRsSZZIneh-waA.ttf","200italic":"https://fonts.gstatic.com/s/bevietnampro/v10/QdVKSTAyLFyeg_IDWvOJmVES_HwyPbczRbgJdhapcUU.ttf","300italic":"https://fonts.gstatic.com/s/bevietnampro/v10/QdVKSTAyLFyeg_IDWvOJmVES_HwyPdMwRbgJdhapcUU.ttf",regular:"https://fonts.gstatic.com/s/bevietnampro/v10/QdVPSTAyLFyeg_IDWvOJmVES_EwwD3s6ZKAi.ttf",italic:"https://fonts.gstatic.com/s/bevietnampro/v10/QdVNSTAyLFyeg_IDWvOJmVES_HwyBX8YYbAiah8.ttf","500italic":"https://fonts.gstatic.com/s/bevietnampro/v10/QdVKSTAyLFyeg_IDWvOJmVES_HwyPYsxRbgJdhapcUU.ttf","600italic":"https://fonts.gstatic.com/s/bevietnampro/v10/QdVKSTAyLFyeg_IDWvOJmVES_HwyPac2RbgJdhapcUU.ttf","700italic":"https://fonts.gstatic.com/s/bevietnampro/v10/QdVKSTAyLFyeg_IDWvOJmVES_HwyPcM3RbgJdhapcUU.ttf","800italic":"https://fonts.gstatic.com/s/bevietnampro/v10/QdVKSTAyLFyeg_IDWvOJmVES_HwyPd80RbgJdhapcUU.ttf","900italic":"https://fonts.gstatic.com/s/bevietnampro/v10/QdVKSTAyLFyeg_IDWvOJmVES_HwyPfs1RbgJdhapcUU.ttf"}},{family:"Beau Rivage",files:{regular:"https://fonts.gstatic.com/s/beaurivage/v2/UcCi3FIgIG2bH4mMNWJUlmg3NZp8K2sL.ttf"}},{family:"Bebas Neue",files:{regular:"https://fonts.gstatic.com/s/bebasneue/v10/JTUSjIg69CK48gW7PXooxW5rygbi49c.ttf"}},{family:"Belgrano",files:{regular:"https://fonts.gstatic.com/s/belgrano/v18/55xvey5tM9rwKWrJZcMFirl08KDJ.ttf"}},{family:"Bellefair",files:{regular:"https://fonts.gstatic.com/s/bellefair/v14/kJExBuYY6AAuhiXUxG19__A2pOdvDA.ttf"}},{family:"Belleza",files:{regular:"https://fonts.gstatic.com/s/belleza/v17/0nkoC9_pNeMfhX4BtcbyawzruP8.ttf"}},{family:"Bellota",files:{300:"https://fonts.gstatic.com/s/bellota/v16/MwQzbhXl3_qEpiwAID55kGMViblPtXs.ttf",700:"https://fonts.gstatic.com/s/bellota/v16/MwQzbhXl3_qEpiwAIC5-kGMViblPtXs.ttf","300italic":"https://fonts.gstatic.com/s/bellota/v16/MwQxbhXl3_qEpiwAKJBjHGEfjZtKpXulTQ.ttf",regular:"https://fonts.gstatic.com/s/bellota/v16/MwQ2bhXl3_qEpiwAGJJRtGs-lbA.ttf",italic:"https://fonts.gstatic.com/s/bellota/v16/MwQ0bhXl3_qEpiwAKJBbsEk7hbBWrA.ttf","700italic":"https://fonts.gstatic.com/s/bellota/v16/MwQxbhXl3_qEpiwAKJBjDGYfjZtKpXulTQ.ttf"}},{family:"Bellota Text",files:{300:"https://fonts.gstatic.com/s/bellotatext/v16/0FlMVP2VnlWS4f3-UE9hHXM5VfsqfQXwQy6yxg.ttf",700:"https://fonts.gstatic.com/s/bellotatext/v16/0FlMVP2VnlWS4f3-UE9hHXM5RfwqfQXwQy6yxg.ttf","300italic":"https://fonts.gstatic.com/s/bellotatext/v16/0FlOVP2VnlWS4f3-UE9hHXMx--Gmfw_0YSuixmYK.ttf",regular:"https://fonts.gstatic.com/s/bellotatext/v16/0FlTVP2VnlWS4f3-UE9hHXMB-dMOdS7sSg.ttf",italic:"https://fonts.gstatic.com/s/bellotatext/v16/0FlNVP2VnlWS4f3-UE9hHXMx-9kKVyv8Sjer.ttf","700italic":"https://fonts.gstatic.com/s/bellotatext/v16/0FlOVP2VnlWS4f3-UE9hHXMx--G2eA_0YSuixmYK.ttf"}},{family:"BenchNine",files:{300:"https://fonts.gstatic.com/s/benchnine/v16/ahcev8612zF4jxrwMosT--tRhWa8q0v8ag.ttf",700:"https://fonts.gstatic.com/s/benchnine/v16/ahcev8612zF4jxrwMosT6-xRhWa8q0v8ag.ttf",regular:"https://fonts.gstatic.com/s/benchnine/v16/ahcbv8612zF4jxrwMosrV8N1jU2gog.ttf"}},{family:"Benne",files:{regular:"https://fonts.gstatic.com/s/benne/v22/L0xzDFAhn18E6Vjxlt6qTDBN.ttf"}},{family:"Bentham",files:{regular:"https://fonts.gstatic.com/s/bentham/v18/VdGeAZQPEpYfmHglKWw7CJaK_y4.ttf"}},{family:"Berkshire Swash",files:{regular:"https://fonts.gstatic.com/s/berkshireswash/v16/ptRRTi-cavZOGqCvnNJDl5m5XmNPrcQybX4pQA.ttf"}},{family:"Besley",files:{500:"https://fonts.gstatic.com/s/besley/v17/PlIhFlO1MaNwaNGWUC92IOH_mtG4fYTBSdRoFPOl8-E.ttf",600:"https://fonts.gstatic.com/s/besley/v17/PlIhFlO1MaNwaNGWUC92IOH_mtG4fWjGSdRoFPOl8-E.ttf",700:"https://fonts.gstatic.com/s/besley/v17/PlIhFlO1MaNwaNGWUC92IOH_mtG4fVHGSdRoFPOl8-E.ttf",800:"https://fonts.gstatic.com/s/besley/v17/PlIhFlO1MaNwaNGWUC92IOH_mtG4fTbGSdRoFPOl8-E.ttf",900:"https://fonts.gstatic.com/s/besley/v17/PlIhFlO1MaNwaNGWUC92IOH_mtG4fR_GSdRoFPOl8-E.ttf",regular:"https://fonts.gstatic.com/s/besley/v17/PlIhFlO1MaNwaNGWUC92IOH_mtG4fbbBSdRoFPOl8-E.ttf",italic:"https://fonts.gstatic.com/s/besley/v17/PlIjFlO1MaNwaNG8WR2J-IiUAH-_aH6CoZdiENGg4-E04A.ttf","500italic":"https://fonts.gstatic.com/s/besley/v17/PlIjFlO1MaNwaNG8WR2J-IiUAH-_aH6Ck5diENGg4-E04A.ttf","600italic":"https://fonts.gstatic.com/s/besley/v17/PlIjFlO1MaNwaNG8WR2J-IiUAH-_aH6Cf5BiENGg4-E04A.ttf","700italic":"https://fonts.gstatic.com/s/besley/v17/PlIjFlO1MaNwaNG8WR2J-IiUAH-_aH6CRpBiENGg4-E04A.ttf","800italic":"https://fonts.gstatic.com/s/besley/v17/PlIjFlO1MaNwaNG8WR2J-IiUAH-_aH6CIZBiENGg4-E04A.ttf","900italic":"https://fonts.gstatic.com/s/besley/v17/PlIjFlO1MaNwaNG8WR2J-IiUAH-_aH6CCJBiENGg4-E04A.ttf"}},{family:"Beth Ellen",files:{regular:"https://fonts.gstatic.com/s/bethellen/v17/WwkbxPW2BE-3rb_JNT-qEIAiVNo5xNY.ttf"}},{family:"Bevan",files:{regular:"https://fonts.gstatic.com/s/bevan/v21/4iCj6KZ0a9NXjF8aUir7tlSJ.ttf",italic:"https://fonts.gstatic.com/s/bevan/v21/4iCt6KZ0a9NXjG8YWC7Zs0SJD4U.ttf"}},{family:"BhuTuka Expanded One",files:{regular:"https://fonts.gstatic.com/s/bhutukaexpandedone/v3/SLXXc0jZ4WUJcClHTtv0t7IaDRsBsWRiJCyX8pg_RVH1.ttf"}},{family:"Big Shoulders Display",files:{100:"https://fonts.gstatic.com/s/bigshouldersdisplay/v19/fC1MPZJEZG-e9gHhdI4-NBbfd2ys3SjJCx12wPgf9g-_3F0YdY86JF46SRP4yZQ.ttf",200:"https://fonts.gstatic.com/s/bigshouldersdisplay/v19/fC1MPZJEZG-e9gHhdI4-NBbfd2ys3SjJCx12wPgf9g-_3F0YdQ87JF46SRP4yZQ.ttf",300:"https://fonts.gstatic.com/s/bigshouldersdisplay/v19/fC1MPZJEZG-e9gHhdI4-NBbfd2ys3SjJCx12wPgf9g-_3F0YddE7JF46SRP4yZQ.ttf",500:"https://fonts.gstatic.com/s/bigshouldersdisplay/v19/fC1MPZJEZG-e9gHhdI4-NBbfd2ys3SjJCx12wPgf9g-_3F0Ydb07JF46SRP4yZQ.ttf",600:"https://fonts.gstatic.com/s/bigshouldersdisplay/v19/fC1MPZJEZG-e9gHhdI4-NBbfd2ys3SjJCx12wPgf9g-_3F0YdVE8JF46SRP4yZQ.ttf",700:"https://fonts.gstatic.com/s/bigshouldersdisplay/v19/fC1MPZJEZG-e9gHhdI4-NBbfd2ys3SjJCx12wPgf9g-_3F0YdWg8JF46SRP4yZQ.ttf",800:"https://fonts.gstatic.com/s/bigshouldersdisplay/v19/fC1MPZJEZG-e9gHhdI4-NBbfd2ys3SjJCx12wPgf9g-_3F0YdQ88JF46SRP4yZQ.ttf",900:"https://fonts.gstatic.com/s/bigshouldersdisplay/v19/fC1MPZJEZG-e9gHhdI4-NBbfd2ys3SjJCx12wPgf9g-_3F0YdSY8JF46SRP4yZQ.ttf",regular:"https://fonts.gstatic.com/s/bigshouldersdisplay/v19/fC1MPZJEZG-e9gHhdI4-NBbfd2ys3SjJCx12wPgf9g-_3F0YdY87JF46SRP4yZQ.ttf"}},{family:"Big Shoulders Inline Display",files:{100:"https://fonts.gstatic.com/s/bigshouldersinlinedisplay/v25/_LOumyfF4eSU_SCrJc9OI24U7siGvBGcZqmqV9-ZZ85CGNOFeNLxoYMPJ0nBEnR5yPc2Huux.ttf",200:"https://fonts.gstatic.com/s/bigshouldersinlinedisplay/v25/_LOumyfF4eSU_SCrJc9OI24U7siGvBGcZqmqV9-ZZ85CGNOFeNLxoYMPJ0lBE3R5yPc2Huux.ttf",300:"https://fonts.gstatic.com/s/bigshouldersinlinedisplay/v25/_LOumyfF4eSU_SCrJc9OI24U7siGvBGcZqmqV9-ZZ85CGNOFeNLxoYMPJ0mfE3R5yPc2Huux.ttf",500:"https://fonts.gstatic.com/s/bigshouldersinlinedisplay/v25/_LOumyfF4eSU_SCrJc9OI24U7siGvBGcZqmqV9-ZZ85CGNOFeNLxoYMPJ0nzE3R5yPc2Huux.ttf",600:"https://fonts.gstatic.com/s/bigshouldersinlinedisplay/v25/_LOumyfF4eSU_SCrJc9OI24U7siGvBGcZqmqV9-ZZ85CGNOFeNLxoYMPJ0kfFHR5yPc2Huux.ttf",700:"https://fonts.gstatic.com/s/bigshouldersinlinedisplay/v25/_LOumyfF4eSU_SCrJc9OI24U7siGvBGcZqmqV9-ZZ85CGNOFeNLxoYMPJ0kmFHR5yPc2Huux.ttf",800:"https://fonts.gstatic.com/s/bigshouldersinlinedisplay/v25/_LOumyfF4eSU_SCrJc9OI24U7siGvBGcZqmqV9-ZZ85CGNOFeNLxoYMPJ0lBFHR5yPc2Huux.ttf",900:"https://fonts.gstatic.com/s/bigshouldersinlinedisplay/v25/_LOumyfF4eSU_SCrJc9OI24U7siGvBGcZqmqV9-ZZ85CGNOFeNLxoYMPJ0loFHR5yPc2Huux.ttf",regular:"https://fonts.gstatic.com/s/bigshouldersinlinedisplay/v25/_LOumyfF4eSU_SCrJc9OI24U7siGvBGcZqmqV9-ZZ85CGNOFeNLxoYMPJ0nBE3R5yPc2Huux.ttf"}},{family:"Big Shoulders Inline Text",files:{100:"https://fonts.gstatic.com/s/bigshouldersinlinetext/v24/vm8XdQDmVECV5-vm5dJ-Tp-6WDeRjL4RV7dP8u-NMyHY74qpoNNcwga0yqGN7Y6Jsc8c.ttf",200:"https://fonts.gstatic.com/s/bigshouldersinlinetext/v24/vm8XdQDmVECV5-vm5dJ-Tp-6WDeRjL4RV7dP8u-NMyHY74qpoNNcwgY0y6GN7Y6Jsc8c.ttf",300:"https://fonts.gstatic.com/s/bigshouldersinlinetext/v24/vm8XdQDmVECV5-vm5dJ-Tp-6WDeRjL4RV7dP8u-NMyHY74qpoNNcwgbqy6GN7Y6Jsc8c.ttf",500:"https://fonts.gstatic.com/s/bigshouldersinlinetext/v24/vm8XdQDmVECV5-vm5dJ-Tp-6WDeRjL4RV7dP8u-NMyHY74qpoNNcwgaGy6GN7Y6Jsc8c.ttf",600:"https://fonts.gstatic.com/s/bigshouldersinlinetext/v24/vm8XdQDmVECV5-vm5dJ-Tp-6WDeRjL4RV7dP8u-NMyHY74qpoNNcwgZqzKGN7Y6Jsc8c.ttf",700:"https://fonts.gstatic.com/s/bigshouldersinlinetext/v24/vm8XdQDmVECV5-vm5dJ-Tp-6WDeRjL4RV7dP8u-NMyHY74qpoNNcwgZTzKGN7Y6Jsc8c.ttf",800:"https://fonts.gstatic.com/s/bigshouldersinlinetext/v24/vm8XdQDmVECV5-vm5dJ-Tp-6WDeRjL4RV7dP8u-NMyHY74qpoNNcwgY0zKGN7Y6Jsc8c.ttf",900:"https://fonts.gstatic.com/s/bigshouldersinlinetext/v24/vm8XdQDmVECV5-vm5dJ-Tp-6WDeRjL4RV7dP8u-NMyHY74qpoNNcwgYdzKGN7Y6Jsc8c.ttf",regular:"https://fonts.gstatic.com/s/bigshouldersinlinetext/v24/vm8XdQDmVECV5-vm5dJ-Tp-6WDeRjL4RV7dP8u-NMyHY74qpoNNcwga0y6GN7Y6Jsc8c.ttf"}},{family:"Big Shoulders Stencil Display",files:{100:"https://fonts.gstatic.com/s/bigshouldersstencildisplay/v22/6aeZ4LS6U6pR_bp5b_t2ugOhHWFcxSGP9ttD96KCb8xPytKb-oPRU-vkuLm_O0nPKHznJucP9w.ttf",200:"https://fonts.gstatic.com/s/bigshouldersstencildisplay/v22/6aeZ4LS6U6pR_bp5b_t2ugOhHWFcxSGP9ttD96KCb8xPytKb-oPRU-vkuLm_u0jPKHznJucP9w.ttf",300:"https://fonts.gstatic.com/s/bigshouldersstencildisplay/v22/6aeZ4LS6U6pR_bp5b_t2ugOhHWFcxSGP9ttD96KCb8xPytKb-oPRU-vkuLm_ZUjPKHznJucP9w.ttf",500:"https://fonts.gstatic.com/s/bigshouldersstencildisplay/v22/6aeZ4LS6U6pR_bp5b_t2ugOhHWFcxSGP9ttD96KCb8xPytKb-oPRU-vkuLm_CUjPKHznJucP9w.ttf",600:"https://fonts.gstatic.com/s/bigshouldersstencildisplay/v22/6aeZ4LS6U6pR_bp5b_t2ugOhHWFcxSGP9ttD96KCb8xPytKb-oPRU-vkuLm_5U_PKHznJucP9w.ttf",700:"https://fonts.gstatic.com/s/bigshouldersstencildisplay/v22/6aeZ4LS6U6pR_bp5b_t2ugOhHWFcxSGP9ttD96KCb8xPytKb-oPRU-vkuLm_3E_PKHznJucP9w.ttf",800:"https://fonts.gstatic.com/s/bigshouldersstencildisplay/v22/6aeZ4LS6U6pR_bp5b_t2ugOhHWFcxSGP9ttD96KCb8xPytKb-oPRU-vkuLm_u0_PKHznJucP9w.ttf",900:"https://fonts.gstatic.com/s/bigshouldersstencildisplay/v22/6aeZ4LS6U6pR_bp5b_t2ugOhHWFcxSGP9ttD96KCb8xPytKb-oPRU-vkuLm_kk_PKHznJucP9w.ttf",regular:"https://fonts.gstatic.com/s/bigshouldersstencildisplay/v22/6aeZ4LS6U6pR_bp5b_t2ugOhHWFcxSGP9ttD96KCb8xPytKb-oPRU-vkuLm_O0jPKHznJucP9w.ttf"}},{family:"Big Shoulders Stencil Text",files:{100:"https://fonts.gstatic.com/s/bigshouldersstenciltext/v21/5aUV9-i2oxDMNwY3dHfW7UAt3Q453SM15wNj53bCcab2SJYLLUtk1OGR04XIGS_Py_AWbQ.ttf",200:"https://fonts.gstatic.com/s/bigshouldersstenciltext/v21/5aUV9-i2oxDMNwY3dHfW7UAt3Q453SM15wNj53bCcab2SJYLLUtk1OGRU4TIGS_Py_AWbQ.ttf",300:"https://fonts.gstatic.com/s/bigshouldersstenciltext/v21/5aUV9-i2oxDMNwY3dHfW7UAt3Q453SM15wNj53bCcab2SJYLLUtk1OGRjYTIGS_Py_AWbQ.ttf",500:"https://fonts.gstatic.com/s/bigshouldersstenciltext/v21/5aUV9-i2oxDMNwY3dHfW7UAt3Q453SM15wNj53bCcab2SJYLLUtk1OGR4YTIGS_Py_AWbQ.ttf",600:"https://fonts.gstatic.com/s/bigshouldersstenciltext/v21/5aUV9-i2oxDMNwY3dHfW7UAt3Q453SM15wNj53bCcab2SJYLLUtk1OGRDYPIGS_Py_AWbQ.ttf",700:"https://fonts.gstatic.com/s/bigshouldersstenciltext/v21/5aUV9-i2oxDMNwY3dHfW7UAt3Q453SM15wNj53bCcab2SJYLLUtk1OGRNIPIGS_Py_AWbQ.ttf",800:"https://fonts.gstatic.com/s/bigshouldersstenciltext/v21/5aUV9-i2oxDMNwY3dHfW7UAt3Q453SM15wNj53bCcab2SJYLLUtk1OGRU4PIGS_Py_AWbQ.ttf",900:"https://fonts.gstatic.com/s/bigshouldersstenciltext/v21/5aUV9-i2oxDMNwY3dHfW7UAt3Q453SM15wNj53bCcab2SJYLLUtk1OGReoPIGS_Py_AWbQ.ttf",regular:"https://fonts.gstatic.com/s/bigshouldersstenciltext/v21/5aUV9-i2oxDMNwY3dHfW7UAt3Q453SM15wNj53bCcab2SJYLLUtk1OGR04TIGS_Py_AWbQ.ttf"}},{family:"Big Shoulders Text",files:{100:"https://fonts.gstatic.com/s/bigshoulderstext/v22/55xEezRtP9G3CGPIf49hxc8P0eytUxB2l66LmF6xc3kA3Y-r3TIPNl6P2pc.ttf",200:"https://fonts.gstatic.com/s/bigshoulderstext/v22/55xEezRtP9G3CGPIf49hxc8P0eytUxB2l66LmF6xc3kA3Q-q3TIPNl6P2pc.ttf",300:"https://fonts.gstatic.com/s/bigshoulderstext/v22/55xEezRtP9G3CGPIf49hxc8P0eytUxB2l66LmF6xc3kA3dGq3TIPNl6P2pc.ttf",500:"https://fonts.gstatic.com/s/bigshoulderstext/v22/55xEezRtP9G3CGPIf49hxc8P0eytUxB2l66LmF6xc3kA3b2q3TIPNl6P2pc.ttf",600:"https://fonts.gstatic.com/s/bigshoulderstext/v22/55xEezRtP9G3CGPIf49hxc8P0eytUxB2l66LmF6xc3kA3VGt3TIPNl6P2pc.ttf",700:"https://fonts.gstatic.com/s/bigshoulderstext/v22/55xEezRtP9G3CGPIf49hxc8P0eytUxB2l66LmF6xc3kA3Wit3TIPNl6P2pc.ttf",800:"https://fonts.gstatic.com/s/bigshoulderstext/v22/55xEezRtP9G3CGPIf49hxc8P0eytUxB2l66LmF6xc3kA3Q-t3TIPNl6P2pc.ttf",900:"https://fonts.gstatic.com/s/bigshoulderstext/v22/55xEezRtP9G3CGPIf49hxc8P0eytUxB2l66LmF6xc3kA3Sat3TIPNl6P2pc.ttf",regular:"https://fonts.gstatic.com/s/bigshoulderstext/v22/55xEezRtP9G3CGPIf49hxc8P0eytUxB2l66LmF6xc3kA3Y-q3TIPNl6P2pc.ttf"}},{family:"Bigelow Rules",files:{regular:"https://fonts.gstatic.com/s/bigelowrules/v24/RrQWboly8iR_I3KWSzeRuN0zT4cCH8WAJVk.ttf"}},{family:"Bigshot One",files:{regular:"https://fonts.gstatic.com/s/bigshotone/v25/u-470qukhRkkO6BD_7cM_gxuUQJBXv_-.ttf"}},{family:"Bilbo",files:{regular:"https://fonts.gstatic.com/s/bilbo/v20/o-0EIpgpwWwZ210hpIRz4wxE.ttf"}},{family:"Bilbo Swash Caps",files:{regular:"https://fonts.gstatic.com/s/bilboswashcaps/v22/zrf-0GXbz-H3Wb4XBsGrTgq2PVmdqAPopiRfKp8.ttf"}},{family:"BioRhyme",files:{200:"https://fonts.gstatic.com/s/biorhyme/v13/1cX3aULHBpDMsHYW_ESOjnGAq8Sk1PoH.ttf",300:"https://fonts.gstatic.com/s/biorhyme/v13/1cX3aULHBpDMsHYW_ETqjXGAq8Sk1PoH.ttf",700:"https://fonts.gstatic.com/s/biorhyme/v13/1cX3aULHBpDMsHYW_ET6inGAq8Sk1PoH.ttf",800:"https://fonts.gstatic.com/s/biorhyme/v13/1cX3aULHBpDMsHYW_ETmiXGAq8Sk1PoH.ttf",regular:"https://fonts.gstatic.com/s/biorhyme/v13/1cXwaULHBpDMsHYW_HxGpVWIgNit.ttf"}},{family:"BioRhyme Expanded",files:{200:"https://fonts.gstatic.com/s/biorhymeexpanded/v19/i7dVIE1zZzytGswgU577CDY9LjbffxxcblSHSdTXrb_z.ttf",300:"https://fonts.gstatic.com/s/biorhymeexpanded/v19/i7dVIE1zZzytGswgU577CDY9Ljbffxw4bVSHSdTXrb_z.ttf",700:"https://fonts.gstatic.com/s/biorhymeexpanded/v19/i7dVIE1zZzytGswgU577CDY9LjbffxwoalSHSdTXrb_z.ttf",800:"https://fonts.gstatic.com/s/biorhymeexpanded/v19/i7dVIE1zZzytGswgU577CDY9Ljbffxw0aVSHSdTXrb_z.ttf",regular:"https://fonts.gstatic.com/s/biorhymeexpanded/v19/i7dQIE1zZzytGswgU577CDY9LjbffySURXCPYsje.ttf"}},{family:"Birthstone",files:{regular:"https://fonts.gstatic.com/s/birthstone/v11/8AtsGs2xO4yLRhy87sv_HLn5jRfZHzM.ttf"}},{family:"Birthstone Bounce",files:{500:"https://fonts.gstatic.com/s/birthstonebounce/v9/ga6SaxZF43lIvTWrktHOTBJZGH7dEd29MacQJZP1LmD9.ttf",regular:"https://fonts.gstatic.com/s/birthstonebounce/v9/ga6XaxZF43lIvTWrktHOTBJZGH7dEeVJGIMYDo_8.ttf"}},{family:"Biryani",files:{200:"https://fonts.gstatic.com/s/biryani/v13/hv-TlzNxIFoO84YddYQyGTBSU-J-RxQ.ttf",300:"https://fonts.gstatic.com/s/biryani/v13/hv-TlzNxIFoO84YddeAxGTBSU-J-RxQ.ttf",600:"https://fonts.gstatic.com/s/biryani/v13/hv-TlzNxIFoO84YddZQ3GTBSU-J-RxQ.ttf",700:"https://fonts.gstatic.com/s/biryani/v13/hv-TlzNxIFoO84YddfA2GTBSU-J-RxQ.ttf",800:"https://fonts.gstatic.com/s/biryani/v13/hv-TlzNxIFoO84Yddew1GTBSU-J-RxQ.ttf",900:"https://fonts.gstatic.com/s/biryani/v13/hv-TlzNxIFoO84Yddcg0GTBSU-J-RxQ.ttf",regular:"https://fonts.gstatic.com/s/biryani/v13/hv-WlzNxIFoO84YdTUwZPTh5T-s.ttf"}},{family:"Bitter",files:{100:"https://fonts.gstatic.com/s/bitter/v32/raxhHiqOu8IVPmnRc6SY1KXhnF_Y8fbeCL_EXFh2reU.ttf",200:"https://fonts.gstatic.com/s/bitter/v32/raxhHiqOu8IVPmnRc6SY1KXhnF_Y8XbfCL_EXFh2reU.ttf",300:"https://fonts.gstatic.com/s/bitter/v32/raxhHiqOu8IVPmnRc6SY1KXhnF_Y8ajfCL_EXFh2reU.ttf",500:"https://fonts.gstatic.com/s/bitter/v32/raxhHiqOu8IVPmnRc6SY1KXhnF_Y8cTfCL_EXFh2reU.ttf",600:"https://fonts.gstatic.com/s/bitter/v32/raxhHiqOu8IVPmnRc6SY1KXhnF_Y8SjYCL_EXFh2reU.ttf",700:"https://fonts.gstatic.com/s/bitter/v32/raxhHiqOu8IVPmnRc6SY1KXhnF_Y8RHYCL_EXFh2reU.ttf",800:"https://fonts.gstatic.com/s/bitter/v32/raxhHiqOu8IVPmnRc6SY1KXhnF_Y8XbYCL_EXFh2reU.ttf",900:"https://fonts.gstatic.com/s/bitter/v32/raxhHiqOu8IVPmnRc6SY1KXhnF_Y8V_YCL_EXFh2reU.ttf",regular:"https://fonts.gstatic.com/s/bitter/v32/raxhHiqOu8IVPmnRc6SY1KXhnF_Y8fbfCL_EXFh2reU.ttf","100italic":"https://fonts.gstatic.com/s/bitter/v32/raxjHiqOu8IVPmn7epZnDMyKBvHf5D6c4P3OWHpzveWxBw.ttf","200italic":"https://fonts.gstatic.com/s/bitter/v32/raxjHiqOu8IVPmn7epZnDMyKBvHf5D6cYPzOWHpzveWxBw.ttf","300italic":"https://fonts.gstatic.com/s/bitter/v32/raxjHiqOu8IVPmn7epZnDMyKBvHf5D6cvvzOWHpzveWxBw.ttf",italic:"https://fonts.gstatic.com/s/bitter/v32/raxjHiqOu8IVPmn7epZnDMyKBvHf5D6c4PzOWHpzveWxBw.ttf","500italic":"https://fonts.gstatic.com/s/bitter/v32/raxjHiqOu8IVPmn7epZnDMyKBvHf5D6c0vzOWHpzveWxBw.ttf","600italic":"https://fonts.gstatic.com/s/bitter/v32/raxjHiqOu8IVPmn7epZnDMyKBvHf5D6cPvvOWHpzveWxBw.ttf","700italic":"https://fonts.gstatic.com/s/bitter/v32/raxjHiqOu8IVPmn7epZnDMyKBvHf5D6cB_vOWHpzveWxBw.ttf","800italic":"https://fonts.gstatic.com/s/bitter/v32/raxjHiqOu8IVPmn7epZnDMyKBvHf5D6cYPvOWHpzveWxBw.ttf","900italic":"https://fonts.gstatic.com/s/bitter/v32/raxjHiqOu8IVPmn7epZnDMyKBvHf5D6cSfvOWHpzveWxBw.ttf"}},{family:"Black And White Picture",files:{regular:"https://fonts.gstatic.com/s/blackandwhitepicture/v22/TwMe-JAERlQd3ooUHBUXGmrmioKjjnRSFO-NqI5HbcMi-yWY.ttf"}},{family:"Black Han Sans",files:{regular:"https://fonts.gstatic.com/s/blackhansans/v15/ea8Aad44WunzF9a-dL6toA8r8nqVIXSkH-Hc.ttf"}},{family:"Black Ops One",files:{regular:"https://fonts.gstatic.com/s/blackopsone/v20/qWcsB6-ypo7xBdr6Xshe96H3WDzRtjkho4M.ttf"}},{family:"Blaka",files:{regular:"https://fonts.gstatic.com/s/blaka/v5/8vIG7w8722p_6kdr20D2FV5e.ttf"}},{family:"Blaka Hollow",files:{regular:"https://fonts.gstatic.com/s/blakahollow/v5/MCoUzAL91sjRE2FsKsxUtezYB9oFyW_-oA.ttf"}},{family:"Blaka Ink",files:{regular:"https://fonts.gstatic.com/s/blakaink/v6/AlZy_zVVtpj22Znag2chdXf4XB0Tow.ttf"}},{family:"Blinker",files:{100:"https://fonts.gstatic.com/s/blinker/v13/cIf_MaFatEE-VTaP_E2hZEsCkIt9QQ.ttf",200:"https://fonts.gstatic.com/s/blinker/v13/cIf4MaFatEE-VTaP_OGARGEsnIJkWL4.ttf",300:"https://fonts.gstatic.com/s/blinker/v13/cIf4MaFatEE-VTaP_IWDRGEsnIJkWL4.ttf",600:"https://fonts.gstatic.com/s/blinker/v13/cIf4MaFatEE-VTaP_PGFRGEsnIJkWL4.ttf",700:"https://fonts.gstatic.com/s/blinker/v13/cIf4MaFatEE-VTaP_JWERGEsnIJkWL4.ttf",800:"https://fonts.gstatic.com/s/blinker/v13/cIf4MaFatEE-VTaP_ImHRGEsnIJkWL4.ttf",900:"https://fonts.gstatic.com/s/blinker/v13/cIf4MaFatEE-VTaP_K2GRGEsnIJkWL4.ttf",regular:"https://fonts.gstatic.com/s/blinker/v13/cIf9MaFatEE-VTaPxCmrYGkHgIs.ttf"}},{family:"Bodoni Moda",files:{500:"https://fonts.gstatic.com/s/bodonimoda/v23/aFT67PxzY382XsXX63LUYL6GYFcan6NJrKp-VPjfJMShrpsGFUt8oXzawIBytVjMYwE.ttf",600:"https://fonts.gstatic.com/s/bodonimoda/v23/aFT67PxzY382XsXX63LUYL6GYFcan6NJrKp-VPjfJMShrpsGFUt8oZDdwIBytVjMYwE.ttf",700:"https://fonts.gstatic.com/s/bodonimoda/v23/aFT67PxzY382XsXX63LUYL6GYFcan6NJrKp-VPjfJMShrpsGFUt8oandwIBytVjMYwE.ttf",800:"https://fonts.gstatic.com/s/bodonimoda/v23/aFT67PxzY382XsXX63LUYL6GYFcan6NJrKp-VPjfJMShrpsGFUt8oc7dwIBytVjMYwE.ttf",900:"https://fonts.gstatic.com/s/bodonimoda/v23/aFT67PxzY382XsXX63LUYL6GYFcan6NJrKp-VPjfJMShrpsGFUt8oefdwIBytVjMYwE.ttf",regular:"https://fonts.gstatic.com/s/bodonimoda/v23/aFT67PxzY382XsXX63LUYL6GYFcan6NJrKp-VPjfJMShrpsGFUt8oU7awIBytVjMYwE.ttf",italic:"https://fonts.gstatic.com/s/bodonimoda/v23/aFT07PxzY382XsXX63LUYJSPUqb0pL6OQqxrZLnVbvZedvJtj-V7tIaZKMN4sXrJcwHqoQ.ttf","500italic":"https://fonts.gstatic.com/s/bodonimoda/v23/aFT07PxzY382XsXX63LUYJSPUqb0pL6OQqxrZLnVbvZedvJtj-V7tIaZGsN4sXrJcwHqoQ.ttf","600italic":"https://fonts.gstatic.com/s/bodonimoda/v23/aFT07PxzY382XsXX63LUYJSPUqb0pL6OQqxrZLnVbvZedvJtj-V7tIaZ9sR4sXrJcwHqoQ.ttf","700italic":"https://fonts.gstatic.com/s/bodonimoda/v23/aFT07PxzY382XsXX63LUYJSPUqb0pL6OQqxrZLnVbvZedvJtj-V7tIaZz8R4sXrJcwHqoQ.ttf","800italic":"https://fonts.gstatic.com/s/bodonimoda/v23/aFT07PxzY382XsXX63LUYJSPUqb0pL6OQqxrZLnVbvZedvJtj-V7tIaZqMR4sXrJcwHqoQ.ttf","900italic":"https://fonts.gstatic.com/s/bodonimoda/v23/aFT07PxzY382XsXX63LUYJSPUqb0pL6OQqxrZLnVbvZedvJtj-V7tIaZgcR4sXrJcwHqoQ.ttf"}},{family:"Bokor",files:{regular:"https://fonts.gstatic.com/s/bokor/v30/m8JcjfpeeaqTiR2WdInbcaxE.ttf"}},{family:"Bona Nova",files:{700:"https://fonts.gstatic.com/s/bonanova/v10/B50IF7ZCpX7fcHfvIUBxN4dOFISeJY8GgQ.ttf",regular:"https://fonts.gstatic.com/s/bonanova/v10/B50NF7ZCpX7fcHfvIUBJi6hqHK-CLA.ttf",italic:"https://fonts.gstatic.com/s/bonanova/v10/B50LF7ZCpX7fcHfvIUB5iaJuPqqSLJYf.ttf"}},{family:"Bonbon",files:{regular:"https://fonts.gstatic.com/s/bonbon/v26/0FlVVPeVlFec4ee_cDEAbQY5-A.ttf"}},{family:"Bonheur Royale",files:{regular:"https://fonts.gstatic.com/s/bonheurroyale/v10/c4m51nt_GMTrtX-b9GcG4-YRmYK_c0f1N5Ij.ttf"}},{family:"Boogaloo",files:{regular:"https://fonts.gstatic.com/s/boogaloo/v19/kmK-Zq45GAvOdnaW6x1F_SrQo_1K.ttf"}},{family:"Bowlby One",files:{regular:"https://fonts.gstatic.com/s/bowlbyone/v19/taiPGmVuC4y96PFeqp8smo6C_Z0wcK4.ttf"}},{family:"Bowlby One SC",files:{regular:"https://fonts.gstatic.com/s/bowlbyonesc/v20/DtVlJxerQqQm37tzN3wMug9Pzgj8owhNjuE.ttf"}},{family:"Braah One",files:{regular:"https://fonts.gstatic.com/s/braahone/v2/KFOlCnWUpt6LsxxxiylvAx05IsDqlA.ttf"}},{family:"Brawler",files:{700:"https://fonts.gstatic.com/s/brawler/v19/xn7lYHE3xXewAscGiryUb932eNaPfk8.ttf",regular:"https://fonts.gstatic.com/s/brawler/v19/xn7gYHE3xXewAscGsgC7S9XdZN8.ttf"}},{family:"Bree Serif",files:{regular:"https://fonts.gstatic.com/s/breeserif/v17/4UaHrEJCrhhnVA3DgluAx63j5pN1MwI.ttf"}},{family:"Bruno Ace",files:{regular:"https://fonts.gstatic.com/s/brunoace/v1/WwkcxPa2E06x4trkOj_kMKoMWNMg3Q.ttf"}},{family:"Bruno Ace SC",files:{regular:"https://fonts.gstatic.com/s/brunoacesc/v1/ptROTiycffFLBuiHjdJDl634LSFrpe8uZA.ttf"}},{family:"Brygada 1918",files:{500:"https://fonts.gstatic.com/s/brygada1918/v21/pe08MI6eKpdGqlF5LANrM--ACNaeo8mTUIR_y12f-V8Wu5O3gbo.ttf",600:"https://fonts.gstatic.com/s/brygada1918/v21/pe08MI6eKpdGqlF5LANrM--ACNaeo8mTUIR_y7GY-V8Wu5O3gbo.ttf",700:"https://fonts.gstatic.com/s/brygada1918/v21/pe08MI6eKpdGqlF5LANrM--ACNaeo8mTUIR_y4iY-V8Wu5O3gbo.ttf",regular:"https://fonts.gstatic.com/s/brygada1918/v21/pe08MI6eKpdGqlF5LANrM--ACNaeo8mTUIR_y2-f-V8Wu5O3gbo.ttf",italic:"https://fonts.gstatic.com/s/brygada1918/v21/pe06MI6eKpdGqlF5LANrM--qAeRhe6D4yip43qfcERwcv7GykboaLg.ttf","500italic":"https://fonts.gstatic.com/s/brygada1918/v21/pe06MI6eKpdGqlF5LANrM--qAeRhe6D4yip43qfcIxwcv7GykboaLg.ttf","600italic":"https://fonts.gstatic.com/s/brygada1918/v21/pe06MI6eKpdGqlF5LANrM--qAeRhe6D4yip43qfczxscv7GykboaLg.ttf","700italic":"https://fonts.gstatic.com/s/brygada1918/v21/pe06MI6eKpdGqlF5LANrM--qAeRhe6D4yip43qfc9hscv7GykboaLg.ttf"}},{family:"Bubblegum Sans",files:{regular:"https://fonts.gstatic.com/s/bubblegumsans/v16/AYCSpXb_Z9EORv1M5QTjEzMEtdaHzoPPb7R4.ttf"}},{family:"Bubbler One",files:{regular:"https://fonts.gstatic.com/s/bubblerone/v20/f0Xy0eqj68ppQV9KBLmAouHH26MPePkt.ttf"}},{family:"Buda",files:{300:"https://fonts.gstatic.com/s/buda/v25/GFDqWAN8mnyIJSSrG7UBr7pZKA0.ttf"}},{family:"Buenard",files:{700:"https://fonts.gstatic.com/s/buenard/v17/OD5GuM6Cyma8FnnsB4vSjGCWALepwss.ttf",regular:"https://fonts.gstatic.com/s/buenard/v17/OD5DuM6Cyma8FnnsPzf9qGi9HL4.ttf"}},{family:"Bungee",files:{regular:"https://fonts.gstatic.com/s/bungee/v11/N0bU2SZBIuF2PU_ECn50Kd_PmA.ttf"}},{family:"Bungee Hairline",files:{regular:"https://fonts.gstatic.com/s/bungeehairline/v19/snfys0G548t04270a_ljTLUVrv-7YB2dQ5ZPqQ.ttf"}},{family:"Bungee Inline",files:{regular:"https://fonts.gstatic.com/s/bungeeinline/v12/Gg8zN58UcgnlCweMrih332VuDGJ1-FEglsc.ttf"}},{family:"Bungee Outline",files:{regular:"https://fonts.gstatic.com/s/bungeeoutline/v18/_6_mEDvmVP24UvU2MyiGDslL3Qg3YhJqPXxo.ttf"}},{family:"Bungee Shade",files:{regular:"https://fonts.gstatic.com/s/bungeeshade/v11/DtVkJxarWL0t2KdzK3oI_jks7iLSrwFUlw.ttf"}},{family:"Bungee Spice",files:{regular:"https://fonts.gstatic.com/s/bungeespice/v8/nwpTtK2nIhxE0q-IwgSpZBqCzyI-aMPF7Q.ttf"}},{family:"Butcherman",files:{regular:"https://fonts.gstatic.com/s/butcherman/v24/2EbiL-thF0loflXUBOdb1zWzq_5uT84.ttf"}},{family:"Butterfly Kids",files:{regular:"https://fonts.gstatic.com/s/butterflykids/v21/ll8lK2CWTjuqAsXDqlnIbMNs5S4arxFrAX1D.ttf"}},{family:"Cabin",files:{500:"https://fonts.gstatic.com/s/cabin/v26/u-4X0qWljRw-PfU81xCKCpdpbgZJl6XFpfEd7eA9BIxxkW-EL7Gvxm7rE_s.ttf",600:"https://fonts.gstatic.com/s/cabin/v26/u-4X0qWljRw-PfU81xCKCpdpbgZJl6XFpfEd7eA9BIxxkYODL7Gvxm7rE_s.ttf",700:"https://fonts.gstatic.com/s/cabin/v26/u-4X0qWljRw-PfU81xCKCpdpbgZJl6XFpfEd7eA9BIxxkbqDL7Gvxm7rE_s.ttf",regular:"https://fonts.gstatic.com/s/cabin/v26/u-4X0qWljRw-PfU81xCKCpdpbgZJl6XFpfEd7eA9BIxxkV2EL7Gvxm7rE_s.ttf",italic:"https://fonts.gstatic.com/s/cabin/v26/u-4V0qWljRw-Pd815fNqc8T_wAFcX-c37MPiNYlWniJ2hJXHx_KlwkzuA_u1Bg.ttf","500italic":"https://fonts.gstatic.com/s/cabin/v26/u-4V0qWljRw-Pd815fNqc8T_wAFcX-c37MPiNYlWniJ2hJXH9fKlwkzuA_u1Bg.ttf","600italic":"https://fonts.gstatic.com/s/cabin/v26/u-4V0qWljRw-Pd815fNqc8T_wAFcX-c37MPiNYlWniJ2hJXHGfWlwkzuA_u1Bg.ttf","700italic":"https://fonts.gstatic.com/s/cabin/v26/u-4V0qWljRw-Pd815fNqc8T_wAFcX-c37MPiNYlWniJ2hJXHIPWlwkzuA_u1Bg.ttf"}},{family:"Cabin Condensed",files:{500:"https://fonts.gstatic.com/s/cabincondensed/v20/nwpJtK6mNhBK2err_hqkYhHRqmwilMH97F15-K1oqQ.ttf",600:"https://fonts.gstatic.com/s/cabincondensed/v20/nwpJtK6mNhBK2err_hqkYhHRqmwiuMb97F15-K1oqQ.ttf",700:"https://fonts.gstatic.com/s/cabincondensed/v20/nwpJtK6mNhBK2err_hqkYhHRqmwi3Mf97F15-K1oqQ.ttf",regular:"https://fonts.gstatic.com/s/cabincondensed/v20/nwpMtK6mNhBK2err_hqkYhHRqmwaYOjZ5HZl8Q.ttf"}},{family:"Cabin Sketch",files:{700:"https://fonts.gstatic.com/s/cabinsketch/v19/QGY2z_kZZAGCONcK2A4bGOj0I_1o4dLyI4CMFw.ttf",regular:"https://fonts.gstatic.com/s/cabinsketch/v19/QGYpz_kZZAGCONcK2A4bGOjMn9JM6fnuKg.ttf"}},{family:"Caesar Dressing",files:{regular:"https://fonts.gstatic.com/s/caesardressing/v21/yYLx0hLa3vawqtwdswbotmK4vrR3cbb6LZttyg.ttf"}},{family:"Cagliostro",files:{regular:"https://fonts.gstatic.com/s/cagliostro/v21/ZgNWjP5HM73BV5amnX-TjGXEM4COoE4.ttf"}},{family:"Cairo",files:{200:"https://fonts.gstatic.com/s/cairo/v28/SLXgc1nY6HkvangtZmpQdkhzfH5lkSs2SgRjCAGMQ1z0hGA-W1ToLQ-HmkA.ttf",300:"https://fonts.gstatic.com/s/cairo/v28/SLXgc1nY6HkvangtZmpQdkhzfH5lkSs2SgRjCAGMQ1z0hL4-W1ToLQ-HmkA.ttf",500:"https://fonts.gstatic.com/s/cairo/v28/SLXgc1nY6HkvangtZmpQdkhzfH5lkSs2SgRjCAGMQ1z0hNI-W1ToLQ-HmkA.ttf",600:"https://fonts.gstatic.com/s/cairo/v28/SLXgc1nY6HkvangtZmpQdkhzfH5lkSs2SgRjCAGMQ1z0hD45W1ToLQ-HmkA.ttf",700:"https://fonts.gstatic.com/s/cairo/v28/SLXgc1nY6HkvangtZmpQdkhzfH5lkSs2SgRjCAGMQ1z0hAc5W1ToLQ-HmkA.ttf",800:"https://fonts.gstatic.com/s/cairo/v28/SLXgc1nY6HkvangtZmpQdkhzfH5lkSs2SgRjCAGMQ1z0hGA5W1ToLQ-HmkA.ttf",900:"https://fonts.gstatic.com/s/cairo/v28/SLXgc1nY6HkvangtZmpQdkhzfH5lkSs2SgRjCAGMQ1z0hEk5W1ToLQ-HmkA.ttf",regular:"https://fonts.gstatic.com/s/cairo/v28/SLXgc1nY6HkvangtZmpQdkhzfH5lkSs2SgRjCAGMQ1z0hOA-W1ToLQ-HmkA.ttf"}},{family:"Cairo Play",files:{200:"https://fonts.gstatic.com/s/cairoplay/v7/wXKEE3QSpo4vpRz_mz6FP-8iaauCLt_Hjopv3miu5IvcJo49mOo1EnYq9yXa8GvzaA.ttf",300:"https://fonts.gstatic.com/s/cairoplay/v7/wXKEE3QSpo4vpRz_mz6FP-8iaauCLt_Hjopv3miu5IvcJo49mOo1zHYq9yXa8GvzaA.ttf",500:"https://fonts.gstatic.com/s/cairoplay/v7/wXKEE3QSpo4vpRz_mz6FP-8iaauCLt_Hjopv3miu5IvcJo49mOo1oHYq9yXa8GvzaA.ttf",600:"https://fonts.gstatic.com/s/cairoplay/v7/wXKEE3QSpo4vpRz_mz6FP-8iaauCLt_Hjopv3miu5IvcJo49mOo1THEq9yXa8GvzaA.ttf",700:"https://fonts.gstatic.com/s/cairoplay/v7/wXKEE3QSpo4vpRz_mz6FP-8iaauCLt_Hjopv3miu5IvcJo49mOo1dXEq9yXa8GvzaA.ttf",800:"https://fonts.gstatic.com/s/cairoplay/v7/wXKEE3QSpo4vpRz_mz6FP-8iaauCLt_Hjopv3miu5IvcJo49mOo1EnEq9yXa8GvzaA.ttf",900:"https://fonts.gstatic.com/s/cairoplay/v7/wXKEE3QSpo4vpRz_mz6FP-8iaauCLt_Hjopv3miu5IvcJo49mOo1O3Eq9yXa8GvzaA.ttf",regular:"https://fonts.gstatic.com/s/cairoplay/v7/wXKEE3QSpo4vpRz_mz6FP-8iaauCLt_Hjopv3miu5IvcJo49mOo1knYq9yXa8GvzaA.ttf"}},{family:"Caladea",files:{700:"https://fonts.gstatic.com/s/caladea/v7/kJE2BugZ7AAjhybUtaNY39oYqO52FZ0.ttf",regular:"https://fonts.gstatic.com/s/caladea/v7/kJEzBugZ7AAjhybUjR93-9IztOc.ttf",italic:"https://fonts.gstatic.com/s/caladea/v7/kJExBugZ7AAjhybUvR19__A2pOdvDA.ttf","700italic":"https://fonts.gstatic.com/s/caladea/v7/kJE0BugZ7AAjhybUvR1FQ98SrMxzBZ2lDA.ttf"}},{family:"Calistoga",files:{regular:"https://fonts.gstatic.com/s/calistoga/v13/6NUU8F2OJg6MeR7l4e0vtMYAwdRZfw.ttf"}},{family:"Calligraffitti",files:{regular:"https://fonts.gstatic.com/s/calligraffitti/v19/46k2lbT3XjDVqJw3DCmCFjE0vnFZM5ZBpYN-.ttf"}},{family:"Cambay",files:{700:"https://fonts.gstatic.com/s/cambay/v12/SLXKc1rY6H0_ZDs-0pusx_lwYX99kA.ttf",regular:"https://fonts.gstatic.com/s/cambay/v12/SLXJc1rY6H0_ZDsGbrSIz9JsaA.ttf",italic:"https://fonts.gstatic.com/s/cambay/v12/SLXLc1rY6H0_ZDs2bL6M7dd8aGZk.ttf","700italic":"https://fonts.gstatic.com/s/cambay/v12/SLXMc1rY6H0_ZDs2bIYwwvN0Q3ptkDMN.ttf"}},{family:"Cambo",files:{regular:"https://fonts.gstatic.com/s/cambo/v17/IFSqHeNEk8FJk416ok7xkPm8.ttf"}},{family:"Candal",files:{regular:"https://fonts.gstatic.com/s/candal/v15/XoHn2YH6T7-t_8cNAR4Jt9Yxlw.ttf"}},{family:"Cantarell",files:{700:"https://fonts.gstatic.com/s/cantarell/v17/B50IF7ZDq37KMUvlO01xN4dOFISeJY8GgQ.ttf",regular:"https://fonts.gstatic.com/s/cantarell/v17/B50NF7ZDq37KMUvlO01Ji6hqHK-CLA.ttf",italic:"https://fonts.gstatic.com/s/cantarell/v17/B50LF7ZDq37KMUvlO015iaJuPqqSLJYf.ttf","700italic":"https://fonts.gstatic.com/s/cantarell/v17/B50WF7ZDq37KMUvlO015iZrSEY6aB4oWgWHB.ttf"}},{family:"Cantata One",files:{regular:"https://fonts.gstatic.com/s/cantataone/v15/PlI5Fl60Nb5obNzNe2jslVxEt8CwfGaD.ttf"}},{family:"Cantora One",files:{regular:"https://fonts.gstatic.com/s/cantoraone/v19/gyB4hws1JdgnKy56GB_JX6zdZ4vZVbgZ.ttf"}},{family:"Capriola",files:{regular:"https://fonts.gstatic.com/s/capriola/v14/wXKoE3YSppcvo1PDln_8L-AinG8y.ttf"}},{family:"Caramel",files:{regular:"https://fonts.gstatic.com/s/caramel/v7/P5sCzZKBbMTf_ShyxCRuiZ-uydg.ttf"}},{family:"Carattere",files:{regular:"https://fonts.gstatic.com/s/carattere/v7/4iCv6Kp1b9dXlgt_CkvTt2aMH4V_gg.ttf"}},{family:"Cardo",files:{700:"https://fonts.gstatic.com/s/cardo/v19/wlpygwjKBV1pqhND-aQR82JHaTBX.ttf",regular:"https://fonts.gstatic.com/s/cardo/v19/wlp_gwjKBV1pqiv_1oAZ2H5O.ttf",italic:"https://fonts.gstatic.com/s/cardo/v19/wlpxgwjKBV1pqhv93IQ73W5OcCk.ttf"}},{family:"Carlito",files:{700:"https://fonts.gstatic.com/s/carlito/v3/3Jn4SDPw3m-pk039BIykaX0vUuhCyOo.ttf",regular:"https://fonts.gstatic.com/s/carlito/v3/3Jn9SDPw3m-pk039PDCLTXUETuE.ttf",italic:"https://fonts.gstatic.com/s/carlito/v3/3Jn_SDPw3m-pk039DDKBSVcBXuFb0Q.ttf","700italic":"https://fonts.gstatic.com/s/carlito/v3/3Jn6SDPw3m-pk039DDK59XglVspH2OprMQ.ttf"}},{family:"Carme",files:{regular:"https://fonts.gstatic.com/s/carme/v16/ptRHTiWdbvZIDOjGxLNrxfbZ.ttf"}},{family:"Carrois Gothic",files:{regular:"https://fonts.gstatic.com/s/carroisgothic/v16/Z9XPDmFATg-N1PLtLOOxvIHl9ZmD3i7ajcJ-.ttf"}},{family:"Carrois Gothic SC",files:{regular:"https://fonts.gstatic.com/s/carroisgothicsc/v15/ZgNJjOVHM6jfUZCmyUqT2A2HVKjc-28nNHabY4dN.ttf"}},{family:"Carter One",files:{regular:"https://fonts.gstatic.com/s/carterone/v17/q5uCsoe5IOB2-pXv9UcNIxR2hYxREMs.ttf"}},{family:"Castoro",files:{regular:"https://fonts.gstatic.com/s/castoro/v19/1q2GY5yMCld3-O4cHYhEzOYenEU.ttf",italic:"https://fonts.gstatic.com/s/castoro/v19/1q2EY5yMCld3-O4cLYpOyMQbjEX5fw.ttf"}},{family:"Castoro Titling",files:{regular:"https://fonts.gstatic.com/s/castorotitling/v3/buEupouwccj03leTfjUAhEZWlrNqYgckeo9RMw.ttf"}},{family:"Catamaran",files:{100:"https://fonts.gstatic.com/s/catamaran/v18/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPHjc1anXuluiLyw.ttf",200:"https://fonts.gstatic.com/s/catamaran/v18/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPPjd1anXuluiLyw.ttf",300:"https://fonts.gstatic.com/s/catamaran/v18/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPCbd1anXuluiLyw.ttf",500:"https://fonts.gstatic.com/s/catamaran/v18/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPErd1anXuluiLyw.ttf",600:"https://fonts.gstatic.com/s/catamaran/v18/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPKba1anXuluiLyw.ttf",700:"https://fonts.gstatic.com/s/catamaran/v18/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPJ_a1anXuluiLyw.ttf",800:"https://fonts.gstatic.com/s/catamaran/v18/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPPja1anXuluiLyw.ttf",900:"https://fonts.gstatic.com/s/catamaran/v18/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPNHa1anXuluiLyw.ttf",regular:"https://fonts.gstatic.com/s/catamaran/v18/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPHjd1anXuluiLyw.ttf"}},{family:"Caudex",files:{700:"https://fonts.gstatic.com/s/caudex/v15/esDT311QOP6BJUrwdteklZUCGpG-GQ.ttf",regular:"https://fonts.gstatic.com/s/caudex/v15/esDQ311QOP6BJUrIyviAnb4eEw.ttf",italic:"https://fonts.gstatic.com/s/caudex/v15/esDS311QOP6BJUr4yPKEv7sOE4in.ttf","700italic":"https://fonts.gstatic.com/s/caudex/v15/esDV311QOP6BJUr4yMo4kJ8GOJSuGdLB.ttf"}},{family:"Caveat",files:{500:"https://fonts.gstatic.com/s/caveat/v17/WnznHAc5bAfYB2QRah7pcpNvOx-pjcB9SIKjYBxPigs.ttf",600:"https://fonts.gstatic.com/s/caveat/v17/WnznHAc5bAfYB2QRah7pcpNvOx-pjSx6SIKjYBxPigs.ttf",700:"https://fonts.gstatic.com/s/caveat/v17/WnznHAc5bAfYB2QRah7pcpNvOx-pjRV6SIKjYBxPigs.ttf",regular:"https://fonts.gstatic.com/s/caveat/v17/WnznHAc5bAfYB2QRah7pcpNvOx-pjfJ9SIKjYBxPigs.ttf"}},{family:"Caveat Brush",files:{regular:"https://fonts.gstatic.com/s/caveatbrush/v11/EYq0maZfwr9S9-ETZc3fKXtMW7mT03pdQw.ttf"}},{family:"Cedarville Cursive",files:{regular:"https://fonts.gstatic.com/s/cedarvillecursive/v17/yYL00g_a2veiudhUmxjo5VKkoqA-B_neJbBxw8BeTg.ttf"}},{family:"Ceviche One",files:{regular:"https://fonts.gstatic.com/s/cevicheone/v16/gyB4hws1IcA6JzR-GB_JX6zdZ4vZVbgZ.ttf"}},{family:"Chakra Petch",files:{300:"https://fonts.gstatic.com/s/chakrapetch/v9/cIflMapbsEk7TDLdtEz1BwkeNIhFQJXE3AY00g.ttf",500:"https://fonts.gstatic.com/s/chakrapetch/v9/cIflMapbsEk7TDLdtEz1BwkebIlFQJXE3AY00g.ttf",600:"https://fonts.gstatic.com/s/chakrapetch/v9/cIflMapbsEk7TDLdtEz1BwkeQI5FQJXE3AY00g.ttf",700:"https://fonts.gstatic.com/s/chakrapetch/v9/cIflMapbsEk7TDLdtEz1BwkeJI9FQJXE3AY00g.ttf","300italic":"https://fonts.gstatic.com/s/chakrapetch/v9/cIfnMapbsEk7TDLdtEz1BwkWmpLJQp_A_gMk0izH.ttf",regular:"https://fonts.gstatic.com/s/chakrapetch/v9/cIf6MapbsEk7TDLdtEz1BwkmmKBhSL7Y1Q.ttf",italic:"https://fonts.gstatic.com/s/chakrapetch/v9/cIfkMapbsEk7TDLdtEz1BwkWmqplarvI1R8t.ttf","500italic":"https://fonts.gstatic.com/s/chakrapetch/v9/cIfnMapbsEk7TDLdtEz1BwkWmpKRQ5_A_gMk0izH.ttf","600italic":"https://fonts.gstatic.com/s/chakrapetch/v9/cIfnMapbsEk7TDLdtEz1BwkWmpK9RJ_A_gMk0izH.ttf","700italic":"https://fonts.gstatic.com/s/chakrapetch/v9/cIfnMapbsEk7TDLdtEz1BwkWmpLZRZ_A_gMk0izH.ttf"}},{family:"Changa",files:{200:"https://fonts.gstatic.com/s/changa/v22/2-c79JNi2YuVOUcOarRPgnNGooxCZy2xQjDp9htf1ZM.ttf",300:"https://fonts.gstatic.com/s/changa/v22/2-c79JNi2YuVOUcOarRPgnNGooxCZ_OxQjDp9htf1ZM.ttf",500:"https://fonts.gstatic.com/s/changa/v22/2-c79JNi2YuVOUcOarRPgnNGooxCZ5-xQjDp9htf1ZM.ttf",600:"https://fonts.gstatic.com/s/changa/v22/2-c79JNi2YuVOUcOarRPgnNGooxCZ3O2QjDp9htf1ZM.ttf",700:"https://fonts.gstatic.com/s/changa/v22/2-c79JNi2YuVOUcOarRPgnNGooxCZ0q2QjDp9htf1ZM.ttf",800:"https://fonts.gstatic.com/s/changa/v22/2-c79JNi2YuVOUcOarRPgnNGooxCZy22QjDp9htf1ZM.ttf",regular:"https://fonts.gstatic.com/s/changa/v22/2-c79JNi2YuVOUcOarRPgnNGooxCZ62xQjDp9htf1ZM.ttf"}},{family:"Changa One",files:{regular:"https://fonts.gstatic.com/s/changaone/v18/xfu00W3wXn3QLUJXhzq46AbouLfbK64.ttf",italic:"https://fonts.gstatic.com/s/changaone/v18/xfu20W3wXn3QLUJXhzq42ATivJXeO67ISw.ttf"}},{family:"Chango",files:{regular:"https://fonts.gstatic.com/s/chango/v22/2V0cKI0OB5U7WaJyz324TFUaAw.ttf"}},{family:"Charis SIL",files:{700:"https://fonts.gstatic.com/s/charissil/v2/oPWJ_kV3l-s-Q8govXvKlEbJRj5dQnSX1ko.ttf",regular:"https://fonts.gstatic.com/s/charissil/v2/oPWK_kV3l-s-Q8govXvKrPrmYjZ2Xn0.ttf",italic:"https://fonts.gstatic.com/s/charissil/v2/oPWI_kV3l-s-Q8govXvKnPjsZhRzTn2Ozw.ttf","700italic":"https://fonts.gstatic.com/s/charissil/v2/oPWX_kV3l-s-Q8govXvKnPjU2jtXRlaSxkrMCQ.ttf"}},{family:"Charm",files:{700:"https://fonts.gstatic.com/s/charm/v11/7cHrv4oii5K0Md6TDss8yn4hnCci.ttf",regular:"https://fonts.gstatic.com/s/charm/v11/7cHmv4oii5K0MeYvIe804WIo.ttf"}},{family:"Charmonman",files:{700:"https://fonts.gstatic.com/s/charmonman/v18/MjQAmiR3vP_nuxDv47jiYC2HmL9K9OhmGnY.ttf",regular:"https://fonts.gstatic.com/s/charmonman/v18/MjQDmiR3vP_nuxDv47jiWJGovLdh6OE.ttf"}},{family:"Chathura",files:{100:"https://fonts.gstatic.com/s/chathura/v20/_gP91R7-rzUuVjim42dEq0SbTvZyuDo.ttf",300:"https://fonts.gstatic.com/s/chathura/v20/_gP81R7-rzUuVjim42eMiWSxYPp7oSNy.ttf",700:"https://fonts.gstatic.com/s/chathura/v20/_gP81R7-rzUuVjim42ecjmSxYPp7oSNy.ttf",800:"https://fonts.gstatic.com/s/chathura/v20/_gP81R7-rzUuVjim42eAjWSxYPp7oSNy.ttf",regular:"https://fonts.gstatic.com/s/chathura/v20/_gP71R7-rzUuVjim418goUC5S-Zy.ttf"}},{family:"Chau Philomene One",files:{regular:"https://fonts.gstatic.com/s/chauphilomeneone/v15/55xxezRsPtfie1vPY49qzdgSlJiHRQFsnIx7QMISdQ.ttf",italic:"https://fonts.gstatic.com/s/chauphilomeneone/v15/55xzezRsPtfie1vPY49qzdgSlJiHRQFcnoZ_YscCdXQB.ttf"}},{family:"Chela One",files:{regular:"https://fonts.gstatic.com/s/chelaone/v21/6ae-4KC7Uqgdz_JZdPIy31vWNTMwoQ.ttf"}},{family:"Chelsea Market",files:{regular:"https://fonts.gstatic.com/s/chelseamarket/v13/BCawqZsHqfr89WNP_IApC8tzKBhlLA4uKkWk.ttf"}},{family:"Chenla",files:{regular:"https://fonts.gstatic.com/s/chenla/v25/SZc43FDpIKu8WZ9eXxfonUPL6Q.ttf"}},{family:"Cherish",files:{regular:"https://fonts.gstatic.com/s/cherish/v8/ll88K2mXUyqsDsTN5iDCI6IJjg8.ttf"}},{family:"Cherry Bomb One",files:{regular:"https://fonts.gstatic.com/s/cherrybombone/v8/y83DW4od1h6KlV3c6JJhRhGOdhrKDNpF41fr-w.ttf"}},{family:"Cherry Cream Soda",files:{regular:"https://fonts.gstatic.com/s/cherrycreamsoda/v21/UMBIrOxBrW6w2FFyi9paG0fdVdRciTd6Cd47DJ7G.ttf"}},{family:"Cherry Swash",files:{700:"https://fonts.gstatic.com/s/cherryswash/v18/i7dSIFByZjaNAMxtZcnfAy5E_FeaGy6QZ3WfYg.ttf",regular:"https://fonts.gstatic.com/s/cherryswash/v18/i7dNIFByZjaNAMxtZcnfAy58QHi-EwWMbg.ttf"}},{family:"Chewy",files:{regular:"https://fonts.gstatic.com/s/chewy/v18/uK_94ruUb-k-wk5xIDMfO-ed.ttf"}},{family:"Chicle",files:{regular:"https://fonts.gstatic.com/s/chicle/v21/lJwG-pw9i2dqU-BDyWKuobYSxw.ttf"}},{family:"Chilanka",files:{regular:"https://fonts.gstatic.com/s/chilanka/v20/WWXRlj2DZQiMJYaYRrJQI9EAZhTO.ttf"}},{family:"Chivo",files:{100:"https://fonts.gstatic.com/s/chivo/v18/va9b4kzIxd1KFppkaRKvDRPJVDf_vB7ul2DSFXjQiQ.ttf",200:"https://fonts.gstatic.com/s/chivo/v18/va9b4kzIxd1KFppkaRKvDRPJVDf_PB_ul2DSFXjQiQ.ttf",300:"https://fonts.gstatic.com/s/chivo/v18/va9b4kzIxd1KFppkaRKvDRPJVDf_4h_ul2DSFXjQiQ.ttf",500:"https://fonts.gstatic.com/s/chivo/v18/va9b4kzIxd1KFppkaRKvDRPJVDf_jh_ul2DSFXjQiQ.ttf",600:"https://fonts.gstatic.com/s/chivo/v18/va9b4kzIxd1KFppkaRKvDRPJVDf_Yhjul2DSFXjQiQ.ttf",700:"https://fonts.gstatic.com/s/chivo/v18/va9b4kzIxd1KFppkaRKvDRPJVDf_Wxjul2DSFXjQiQ.ttf",800:"https://fonts.gstatic.com/s/chivo/v18/va9b4kzIxd1KFppkaRKvDRPJVDf_PBjul2DSFXjQiQ.ttf",900:"https://fonts.gstatic.com/s/chivo/v18/va9b4kzIxd1KFppkaRKvDRPJVDf_FRjul2DSFXjQiQ.ttf",regular:"https://fonts.gstatic.com/s/chivo/v18/va9b4kzIxd1KFppkaRKvDRPJVDf_vB_ul2DSFXjQiQ.ttf","100italic":"https://fonts.gstatic.com/s/chivo/v18/va9Z4kzIxd1KFrBtW-13ZHhT-jDqdFwG1WrWN33AiasJ.ttf","200italic":"https://fonts.gstatic.com/s/chivo/v18/va9Z4kzIxd1KFrBtW-13ZHhT-jDqdFyG1GrWN33AiasJ.ttf","300italic":"https://fonts.gstatic.com/s/chivo/v18/va9Z4kzIxd1KFrBtW-13ZHhT-jDqdFxY1GrWN33AiasJ.ttf",italic:"https://fonts.gstatic.com/s/chivo/v18/va9Z4kzIxd1KFrBtW-13ZHhT-jDqdFwG1GrWN33AiasJ.ttf","500italic":"https://fonts.gstatic.com/s/chivo/v18/va9Z4kzIxd1KFrBtW-13ZHhT-jDqdFw01GrWN33AiasJ.ttf","600italic":"https://fonts.gstatic.com/s/chivo/v18/va9Z4kzIxd1KFrBtW-13ZHhT-jDqdFzY02rWN33AiasJ.ttf","700italic":"https://fonts.gstatic.com/s/chivo/v18/va9Z4kzIxd1KFrBtW-13ZHhT-jDqdFzh02rWN33AiasJ.ttf","800italic":"https://fonts.gstatic.com/s/chivo/v18/va9Z4kzIxd1KFrBtW-13ZHhT-jDqdFyG02rWN33AiasJ.ttf","900italic":"https://fonts.gstatic.com/s/chivo/v18/va9Z4kzIxd1KFrBtW-13ZHhT-jDqdFyv02rWN33AiasJ.ttf"}},{family:"Chivo Mono",files:{100:"https://fonts.gstatic.com/s/chivomono/v6/mFThWbgRxKvF_Z5eQMO9qRMrJJrnKNtC3D7hrqfVKphL03l4.ttf",200:"https://fonts.gstatic.com/s/chivomono/v6/mFThWbgRxKvF_Z5eQMO9qRMrJJrnKNtC3D5hr6fVKphL03l4.ttf",300:"https://fonts.gstatic.com/s/chivomono/v6/mFThWbgRxKvF_Z5eQMO9qRMrJJrnKNtC3D6_r6fVKphL03l4.ttf",500:"https://fonts.gstatic.com/s/chivomono/v6/mFThWbgRxKvF_Z5eQMO9qRMrJJrnKNtC3D7Tr6fVKphL03l4.ttf",600:"https://fonts.gstatic.com/s/chivomono/v6/mFThWbgRxKvF_Z5eQMO9qRMrJJrnKNtC3D4_qKfVKphL03l4.ttf",700:"https://fonts.gstatic.com/s/chivomono/v6/mFThWbgRxKvF_Z5eQMO9qRMrJJrnKNtC3D4GqKfVKphL03l4.ttf",800:"https://fonts.gstatic.com/s/chivomono/v6/mFThWbgRxKvF_Z5eQMO9qRMrJJrnKNtC3D5hqKfVKphL03l4.ttf",900:"https://fonts.gstatic.com/s/chivomono/v6/mFThWbgRxKvF_Z5eQMO9qRMrJJrnKNtC3D5IqKfVKphL03l4.ttf",regular:"https://fonts.gstatic.com/s/chivomono/v6/mFThWbgRxKvF_Z5eQMO9qRMrJJrnKNtC3D7hr6fVKphL03l4.ttf","100italic":"https://fonts.gstatic.com/s/chivomono/v6/mFTjWbgRxKvF_Z5eQMO9gxoZ20KOQ0Hs2ysp7E-XIJxp1ml4imo.ttf","200italic":"https://fonts.gstatic.com/s/chivomono/v6/mFTjWbgRxKvF_Z5eQMO9gxoZ20KOQ0Hs2ysp7M-WIJxp1ml4imo.ttf","300italic":"https://fonts.gstatic.com/s/chivomono/v6/mFTjWbgRxKvF_Z5eQMO9gxoZ20KOQ0Hs2ysp7BGWIJxp1ml4imo.ttf",italic:"https://fonts.gstatic.com/s/chivomono/v6/mFTjWbgRxKvF_Z5eQMO9gxoZ20KOQ0Hs2ysp7E-WIJxp1ml4imo.ttf","500italic":"https://fonts.gstatic.com/s/chivomono/v6/mFTjWbgRxKvF_Z5eQMO9gxoZ20KOQ0Hs2ysp7H2WIJxp1ml4imo.ttf","600italic":"https://fonts.gstatic.com/s/chivomono/v6/mFTjWbgRxKvF_Z5eQMO9gxoZ20KOQ0Hs2ysp7JGRIJxp1ml4imo.ttf","700italic":"https://fonts.gstatic.com/s/chivomono/v6/mFTjWbgRxKvF_Z5eQMO9gxoZ20KOQ0Hs2ysp7KiRIJxp1ml4imo.ttf","800italic":"https://fonts.gstatic.com/s/chivomono/v6/mFTjWbgRxKvF_Z5eQMO9gxoZ20KOQ0Hs2ysp7M-RIJxp1ml4imo.ttf","900italic":"https://fonts.gstatic.com/s/chivomono/v6/mFTjWbgRxKvF_Z5eQMO9gxoZ20KOQ0Hs2ysp7OaRIJxp1ml4imo.ttf"}},{family:"Chokokutai",files:{regular:"https://fonts.gstatic.com/s/chokokutai/v9/kmK4Zqw4HwvCeHGM8Fws9y7ypu1Kr7I.ttf"}},{family:"Chonburi",files:{regular:"https://fonts.gstatic.com/s/chonburi/v10/8AtqGs-wOpGRTBq66IWaFr3biAfZ.ttf"}},{family:"Cinzel",files:{500:"https://fonts.gstatic.com/s/cinzel/v23/8vIU7ww63mVu7gtR-kwKxNvkNOjw-uTnTYrvDE5ZdqU.ttf",600:"https://fonts.gstatic.com/s/cinzel/v23/8vIU7ww63mVu7gtR-kwKxNvkNOjw-gjgTYrvDE5ZdqU.ttf",700:"https://fonts.gstatic.com/s/cinzel/v23/8vIU7ww63mVu7gtR-kwKxNvkNOjw-jHgTYrvDE5ZdqU.ttf",800:"https://fonts.gstatic.com/s/cinzel/v23/8vIU7ww63mVu7gtR-kwKxNvkNOjw-lbgTYrvDE5ZdqU.ttf",900:"https://fonts.gstatic.com/s/cinzel/v23/8vIU7ww63mVu7gtR-kwKxNvkNOjw-n_gTYrvDE5ZdqU.ttf",regular:"https://fonts.gstatic.com/s/cinzel/v23/8vIU7ww63mVu7gtR-kwKxNvkNOjw-tbnTYrvDE5ZdqU.ttf"}},{family:"Cinzel Decorative",files:{700:"https://fonts.gstatic.com/s/cinzeldecorative/v14/daaHSScvJGqLYhG8nNt8KPPswUAPniZoaelDQzCLlQXE.ttf",900:"https://fonts.gstatic.com/s/cinzeldecorative/v14/daaHSScvJGqLYhG8nNt8KPPswUAPniZQa-lDQzCLlQXE.ttf",regular:"https://fonts.gstatic.com/s/cinzeldecorative/v14/daaCSScvJGqLYhG8nNt8KPPswUAPnh7URs1LaCyC.ttf"}},{family:"Clicker Script",files:{regular:"https://fonts.gstatic.com/s/clickerscript/v13/raxkHiKPvt8CMH6ZWP8PdlEq72rY2zqUKafv.ttf"}},{family:"Climate Crisis",files:{regular:"https://fonts.gstatic.com/s/climatecrisis/v4/wEOpEB3AntNeKCPBVW9XOKlmp3AUgWFN1DvIvcM0gFp6jaUrGb7PsQ.ttf"}},{family:"Coda",files:{800:"https://fonts.gstatic.com/s/coda/v21/SLXIc1jY5nQ8HeIgTp6mw9t1cX8.ttf",regular:"https://fonts.gstatic.com/s/coda/v21/SLXHc1jY5nQ8JUIMapaN39I.ttf"}},{family:"Coda Caption",files:{800:"https://fonts.gstatic.com/s/codacaption/v19/ieVm2YRII2GMY7SyXSoDRiQGqcx6x_-fACIgaw.ttf"}},{family:"Codystar",files:{300:"https://fonts.gstatic.com/s/codystar/v15/FwZf7-Q1xVk-40qxOuYsyuyrj0e29bfC.ttf",regular:"https://fonts.gstatic.com/s/codystar/v15/FwZY7-Q1xVk-40qxOt6A4sijpFu_.ttf"}},{family:"Coiny",files:{regular:"https://fonts.gstatic.com/s/coiny/v16/gyByhwU1K989PXwbElSvO5Tc.ttf"}},{family:"Combo",files:{regular:"https://fonts.gstatic.com/s/combo/v21/BXRlvF3Jh_fIhg0iBu9y8Hf0.ttf"}},{family:"Comfortaa",files:{300:"https://fonts.gstatic.com/s/comfortaa/v40/1Pt_g8LJRfWJmhDAuUsSQamb1W0lwk4S4TbMPrQVIT9c2c8.ttf",500:"https://fonts.gstatic.com/s/comfortaa/v40/1Pt_g8LJRfWJmhDAuUsSQamb1W0lwk4S4VrMPrQVIT9c2c8.ttf",600:"https://fonts.gstatic.com/s/comfortaa/v40/1Pt_g8LJRfWJmhDAuUsSQamb1W0lwk4S4bbLPrQVIT9c2c8.ttf",700:"https://fonts.gstatic.com/s/comfortaa/v40/1Pt_g8LJRfWJmhDAuUsSQamb1W0lwk4S4Y_LPrQVIT9c2c8.ttf",regular:"https://fonts.gstatic.com/s/comfortaa/v40/1Pt_g8LJRfWJmhDAuUsSQamb1W0lwk4S4WjMPrQVIT9c2c8.ttf"}},{family:"Comforter",files:{regular:"https://fonts.gstatic.com/s/comforter/v5/H4clBXOCl8nQnlaql3Qa6JG8iqeuag.ttf"}},{family:"Comforter Brush",files:{regular:"https://fonts.gstatic.com/s/comforterbrush/v5/Y4GTYa1xVSggrfzZI5WMjxRaOz0jwLL9Th8YYA.ttf"}},{family:"Comic Neue",files:{300:"https://fonts.gstatic.com/s/comicneue/v8/4UaErEJDsxBrF37olUeD_wHLwpteLwtHJlc.ttf",700:"https://fonts.gstatic.com/s/comicneue/v8/4UaErEJDsxBrF37olUeD_xHMwpteLwtHJlc.ttf","300italic":"https://fonts.gstatic.com/s/comicneue/v8/4UaarEJDsxBrF37olUeD96_RTplUKylCNlcw_Q.ttf",regular:"https://fonts.gstatic.com/s/comicneue/v8/4UaHrEJDsxBrF37olUeDx63j5pN1MwI.ttf",italic:"https://fonts.gstatic.com/s/comicneue/v8/4UaFrEJDsxBrF37olUeD96_p4rFwIwJePw.ttf","700italic":"https://fonts.gstatic.com/s/comicneue/v8/4UaarEJDsxBrF37olUeD96_RXp5UKylCNlcw_Q.ttf"}},{family:"Coming Soon",files:{regular:"https://fonts.gstatic.com/s/comingsoon/v19/qWcuB6mzpYL7AJ2VfdQR1u-SUjjzsykh.ttf"}},{family:"Comme",files:{100:"https://fonts.gstatic.com/s/comme/v2/8QIUdirKhMbn-uG1kHz0MgviDe1z5cBr644fWsRO9w.ttf",200:"https://fonts.gstatic.com/s/comme/v2/8QIUdirKhMbn-uG1kHz0MgviDe1zZcFr644fWsRO9w.ttf",300:"https://fonts.gstatic.com/s/comme/v2/8QIUdirKhMbn-uG1kHz0MgviDe1zu8Fr644fWsRO9w.ttf",500:"https://fonts.gstatic.com/s/comme/v2/8QIUdirKhMbn-uG1kHz0MgviDe1z18Fr644fWsRO9w.ttf",600:"https://fonts.gstatic.com/s/comme/v2/8QIUdirKhMbn-uG1kHz0MgviDe1zO8Zr644fWsRO9w.ttf",700:"https://fonts.gstatic.com/s/comme/v2/8QIUdirKhMbn-uG1kHz0MgviDe1zAsZr644fWsRO9w.ttf",800:"https://fonts.gstatic.com/s/comme/v2/8QIUdirKhMbn-uG1kHz0MgviDe1zZcZr644fWsRO9w.ttf",900:"https://fonts.gstatic.com/s/comme/v2/8QIUdirKhMbn-uG1kHz0MgviDe1zTMZr644fWsRO9w.ttf",regular:"https://fonts.gstatic.com/s/comme/v2/8QIUdirKhMbn-uG1kHz0MgviDe1z5cFr644fWsRO9w.ttf"}},{family:"Commissioner",files:{100:"https://fonts.gstatic.com/s/commissioner/v20/tDaH2o2WnlgI0FNDgduEk4jAhwgumbU1SVfU5BD8OuRL8OstC6KOhgvBYWSFJ-Mgdrgiju6fF8meZm0rk4eF-ZugTMNcGPe7Fu0jUdk.ttf",200:"https://fonts.gstatic.com/s/commissioner/v20/tDaH2o2WnlgI0FNDgduEk4jAhwgumbU1SVfU5BD8OuRL8OstC6KOhgvBYWSFJ-Mgdrgiju6fF8meZm0rk4eF-ZugTENdGPe7Fu0jUdk.ttf",300:"https://fonts.gstatic.com/s/commissioner/v20/tDaH2o2WnlgI0FNDgduEk4jAhwgumbU1SVfU5BD8OuRL8OstC6KOhgvBYWSFJ-Mgdrgiju6fF8meZm0rk4eF-ZugTJ1dGPe7Fu0jUdk.ttf",500:"https://fonts.gstatic.com/s/commissioner/v20/tDaH2o2WnlgI0FNDgduEk4jAhwgumbU1SVfU5BD8OuRL8OstC6KOhgvBYWSFJ-Mgdrgiju6fF8meZm0rk4eF-ZugTPFdGPe7Fu0jUdk.ttf",600:"https://fonts.gstatic.com/s/commissioner/v20/tDaH2o2WnlgI0FNDgduEk4jAhwgumbU1SVfU5BD8OuRL8OstC6KOhgvBYWSFJ-Mgdrgiju6fF8meZm0rk4eF-ZugTB1aGPe7Fu0jUdk.ttf",700:"https://fonts.gstatic.com/s/commissioner/v20/tDaH2o2WnlgI0FNDgduEk4jAhwgumbU1SVfU5BD8OuRL8OstC6KOhgvBYWSFJ-Mgdrgiju6fF8meZm0rk4eF-ZugTCRaGPe7Fu0jUdk.ttf",800:"https://fonts.gstatic.com/s/commissioner/v20/tDaH2o2WnlgI0FNDgduEk4jAhwgumbU1SVfU5BD8OuRL8OstC6KOhgvBYWSFJ-Mgdrgiju6fF8meZm0rk4eF-ZugTENaGPe7Fu0jUdk.ttf",900:"https://fonts.gstatic.com/s/commissioner/v20/tDaH2o2WnlgI0FNDgduEk4jAhwgumbU1SVfU5BD8OuRL8OstC6KOhgvBYWSFJ-Mgdrgiju6fF8meZm0rk4eF-ZugTGpaGPe7Fu0jUdk.ttf",regular:"https://fonts.gstatic.com/s/commissioner/v20/tDaH2o2WnlgI0FNDgduEk4jAhwgumbU1SVfU5BD8OuRL8OstC6KOhgvBYWSFJ-Mgdrgiju6fF8meZm0rk4eF-ZugTMNdGPe7Fu0jUdk.ttf"}},{family:"Concert One",files:{regular:"https://fonts.gstatic.com/s/concertone/v17/VEM1Ro9xs5PjtzCu-srDqRTlhv-CuVAQ.ttf"}},{family:"Condiment",files:{regular:"https://fonts.gstatic.com/s/condiment/v20/pONk1hggFNmwvXALyH6Sq4n4o1vyCQ.ttf"}},{family:"Content",files:{700:"https://fonts.gstatic.com/s/content/v24/zrfg0HLayePhU_AwaRzdBirfWCHvkAI.ttf",regular:"https://fonts.gstatic.com/s/content/v24/zrfl0HLayePhU_AwUaDyIiL0RCg.ttf"}},{family:"Contrail One",files:{regular:"https://fonts.gstatic.com/s/contrailone/v15/eLGbP-j_JA-kG0_Zo51noafdZUvt_c092w.ttf"}},{family:"Convergence",files:{regular:"https://fonts.gstatic.com/s/convergence/v15/rax5HiePvdgXPmmMHcIPYRhasU7Q8Cad.ttf"}},{family:"Cookie",files:{regular:"https://fonts.gstatic.com/s/cookie/v17/syky-y18lb0tSbfNlQCT9tPdpw.ttf"}},{family:"Copse",files:{regular:"https://fonts.gstatic.com/s/copse/v15/11hPGpDKz1rGb0djHkihUb-A.ttf"}},{family:"Corben",files:{700:"https://fonts.gstatic.com/s/corben/v19/LYjAdGzzklQtCMpFHCZgrXArXN7HWQ.ttf",regular:"https://fonts.gstatic.com/s/corben/v19/LYjDdGzzklQtCMp9oAlEpVs3VQ.ttf"}},{family:"Corinthia",files:{700:"https://fonts.gstatic.com/s/corinthia/v9/wEO6EBrAnchaJyPMHE097d8v1GAbgbLXQA.ttf",regular:"https://fonts.gstatic.com/s/corinthia/v9/wEO_EBrAnchaJyPMHE0FUfAL3EsHiA.ttf"}},{family:"Cormorant",files:{300:"https://fonts.gstatic.com/s/cormorant/v21/H4c2BXOCl9bbnla_nHIA47NMUjsNbCVrFk9TQ7Rg7A2uwYs.ttf",500:"https://fonts.gstatic.com/s/cormorant/v21/H4c2BXOCl9bbnla_nHIA47NMUjsNbCVrFiNTQ7Rg7A2uwYs.ttf",600:"https://fonts.gstatic.com/s/cormorant/v21/H4c2BXOCl9bbnla_nHIA47NMUjsNbCVrFs9UQ7Rg7A2uwYs.ttf",700:"https://fonts.gstatic.com/s/cormorant/v21/H4c2BXOCl9bbnla_nHIA47NMUjsNbCVrFvZUQ7Rg7A2uwYs.ttf",regular:"https://fonts.gstatic.com/s/cormorant/v21/H4c2BXOCl9bbnla_nHIA47NMUjsNbCVrFhFTQ7Rg7A2uwYs.ttf","300italic":"https://fonts.gstatic.com/s/cormorant/v21/H4c0BXOCl9bbnla_nHIq6oGzilJm9otsA9kQ9fdq6C-r0YvxdA.ttf",italic:"https://fonts.gstatic.com/s/cormorant/v21/H4c0BXOCl9bbnla_nHIq6oGzilJm9otsA9kQq_dq6C-r0YvxdA.ttf","500italic":"https://fonts.gstatic.com/s/cormorant/v21/H4c0BXOCl9bbnla_nHIq6oGzilJm9otsA9kQmfdq6C-r0YvxdA.ttf","600italic":"https://fonts.gstatic.com/s/cormorant/v21/H4c0BXOCl9bbnla_nHIq6oGzilJm9otsA9kQdfBq6C-r0YvxdA.ttf","700italic":"https://fonts.gstatic.com/s/cormorant/v21/H4c0BXOCl9bbnla_nHIq6oGzilJm9otsA9kQTPBq6C-r0YvxdA.ttf"}},{family:"Cormorant Garamond",files:{300:"https://fonts.gstatic.com/s/cormorantgaramond/v16/co3YmX5slCNuHLi8bLeY9MK7whWMhyjQAllvuQWJ5heb_w.ttf",500:"https://fonts.gstatic.com/s/cormorantgaramond/v16/co3YmX5slCNuHLi8bLeY9MK7whWMhyjQWlhvuQWJ5heb_w.ttf",600:"https://fonts.gstatic.com/s/cormorantgaramond/v16/co3YmX5slCNuHLi8bLeY9MK7whWMhyjQdl9vuQWJ5heb_w.ttf",700:"https://fonts.gstatic.com/s/cormorantgaramond/v16/co3YmX5slCNuHLi8bLeY9MK7whWMhyjQEl5vuQWJ5heb_w.ttf","300italic":"https://fonts.gstatic.com/s/cormorantgaramond/v16/co3WmX5slCNuHLi8bLeY9MK7whWMhyjYrEPjuw-NxBKL_y94.ttf",regular:"https://fonts.gstatic.com/s/cormorantgaramond/v16/co3bmX5slCNuHLi8bLeY9MK7whWMhyjornFLsS6V7w.ttf",italic:"https://fonts.gstatic.com/s/cormorantgaramond/v16/co3ZmX5slCNuHLi8bLeY9MK7whWMhyjYrHtPkyuF7w6C.ttf","500italic":"https://fonts.gstatic.com/s/cormorantgaramond/v16/co3WmX5slCNuHLi8bLeY9MK7whWMhyjYrEO7ug-NxBKL_y94.ttf","600italic":"https://fonts.gstatic.com/s/cormorantgaramond/v16/co3WmX5slCNuHLi8bLeY9MK7whWMhyjYrEOXvQ-NxBKL_y94.ttf","700italic":"https://fonts.gstatic.com/s/cormorantgaramond/v16/co3WmX5slCNuHLi8bLeY9MK7whWMhyjYrEPzvA-NxBKL_y94.ttf"}},{family:"Cormorant Infant",files:{300:"https://fonts.gstatic.com/s/cormorantinfant/v17/HhyIU44g9vKiM1sORYSiWeAsLN9951w3_DMrQqcdJrk.ttf",500:"https://fonts.gstatic.com/s/cormorantinfant/v17/HhyIU44g9vKiM1sORYSiWeAsLN995wQ2_DMrQqcdJrk.ttf",600:"https://fonts.gstatic.com/s/cormorantinfant/v17/HhyIU44g9vKiM1sORYSiWeAsLN995ygx_DMrQqcdJrk.ttf",700:"https://fonts.gstatic.com/s/cormorantinfant/v17/HhyIU44g9vKiM1sORYSiWeAsLN9950ww_DMrQqcdJrk.ttf","300italic":"https://fonts.gstatic.com/s/cormorantinfant/v17/HhyKU44g9vKiM1sORYSiWeAsLN997_ItcDEhRoUYNrn_Ig.ttf",regular:"https://fonts.gstatic.com/s/cormorantinfant/v17/HhyPU44g9vKiM1sORYSiWeAsLN993_Af2DsAXq4.ttf",italic:"https://fonts.gstatic.com/s/cormorantinfant/v17/HhyJU44g9vKiM1sORYSiWeAsLN997_IV3BkFTq4EPw.ttf","500italic":"https://fonts.gstatic.com/s/cormorantinfant/v17/HhyKU44g9vKiM1sORYSiWeAsLN997_ItKDAhRoUYNrn_Ig.ttf","600italic":"https://fonts.gstatic.com/s/cormorantinfant/v17/HhyKU44g9vKiM1sORYSiWeAsLN997_ItBDchRoUYNrn_Ig.ttf","700italic":"https://fonts.gstatic.com/s/cormorantinfant/v17/HhyKU44g9vKiM1sORYSiWeAsLN997_ItYDYhRoUYNrn_Ig.ttf"}},{family:"Cormorant SC",files:{300:"https://fonts.gstatic.com/s/cormorantsc/v18/0ybmGD4kxqXBmOVLG30OGwsmABIU_R3y8DOWGA.ttf",500:"https://fonts.gstatic.com/s/cormorantsc/v18/0ybmGD4kxqXBmOVLG30OGwsmWBMU_R3y8DOWGA.ttf",600:"https://fonts.gstatic.com/s/cormorantsc/v18/0ybmGD4kxqXBmOVLG30OGwsmdBQU_R3y8DOWGA.ttf",700:"https://fonts.gstatic.com/s/cormorantsc/v18/0ybmGD4kxqXBmOVLG30OGwsmEBUU_R3y8DOWGA.ttf",regular:"https://fonts.gstatic.com/s/cormorantsc/v18/0yb5GD4kxqXBmOVLG30OGwserDow9Tbu-Q.ttf"}},{family:"Cormorant Unicase",files:{300:"https://fonts.gstatic.com/s/cormorantunicase/v24/HI_ViZUaILtOqhqgDeXoF_n1_fTGX9N_tucv7Gy0DRzS.ttf",500:"https://fonts.gstatic.com/s/cormorantunicase/v24/HI_ViZUaILtOqhqgDeXoF_n1_fTGX9Mnt-cv7Gy0DRzS.ttf",600:"https://fonts.gstatic.com/s/cormorantunicase/v24/HI_ViZUaILtOqhqgDeXoF_n1_fTGX9MLsOcv7Gy0DRzS.ttf",700:"https://fonts.gstatic.com/s/cormorantunicase/v24/HI_ViZUaILtOqhqgDeXoF_n1_fTGX9Nvsecv7Gy0DRzS.ttf",regular:"https://fonts.gstatic.com/s/cormorantunicase/v24/HI_QiZUaILtOqhqgDeXoF_n1_fTGX-vTnsMnx3C9.ttf"}},{family:"Cormorant Upright",files:{300:"https://fonts.gstatic.com/s/cormorantupright/v18/VuJudM3I2Y35poFONtLdafkUCHw1y1N5phDsU9X6RPzQ.ttf",500:"https://fonts.gstatic.com/s/cormorantupright/v18/VuJudM3I2Y35poFONtLdafkUCHw1y1MhpxDsU9X6RPzQ.ttf",600:"https://fonts.gstatic.com/s/cormorantupright/v18/VuJudM3I2Y35poFONtLdafkUCHw1y1MNoBDsU9X6RPzQ.ttf",700:"https://fonts.gstatic.com/s/cormorantupright/v18/VuJudM3I2Y35poFONtLdafkUCHw1y1NpoRDsU9X6RPzQ.ttf",regular:"https://fonts.gstatic.com/s/cormorantupright/v18/VuJrdM3I2Y35poFONtLdafkUCHw1y2vVjjTkeMnz.ttf"}},{family:"Courgette",files:{regular:"https://fonts.gstatic.com/s/courgette/v13/wEO_EBrAnc9BLjLQAUkFUfAL3EsHiA.ttf"}},{family:"Courier Prime",files:{700:"https://fonts.gstatic.com/s/courierprime/v7/u-4k0q2lgwslOqpF_6gQ8kELY7pMf-fVqvHoJXw.ttf",regular:"https://fonts.gstatic.com/s/courierprime/v7/u-450q2lgwslOqpF_6gQ8kELWwZjW-_-tvg.ttf",italic:"https://fonts.gstatic.com/s/courierprime/v7/u-4n0q2lgwslOqpF_6gQ8kELawRpX837pvjxPA.ttf","700italic":"https://fonts.gstatic.com/s/courierprime/v7/u-4i0q2lgwslOqpF_6gQ8kELawRR4-LfrtPtNXyeAg.ttf"}},{family:"Cousine",files:{700:"https://fonts.gstatic.com/s/cousine/v25/d6lNkaiiRdih4SpP9Z8K6T7G09BlnmQ.ttf",regular:"https://fonts.gstatic.com/s/cousine/v25/d6lIkaiiRdih4SpPzSMlzTbtz9k.ttf",italic:"https://fonts.gstatic.com/s/cousine/v25/d6lKkaiiRdih4SpP_SEvyRTo39l8hw.ttf","700italic":"https://fonts.gstatic.com/s/cousine/v25/d6lPkaiiRdih4SpP_SEXdTvM1_JgjmRpOA.ttf"}},{family:"Coustard",files:{900:"https://fonts.gstatic.com/s/coustard/v16/3XFuErgg3YsZ5fqUU-2LkEHmb_jU3eRL.ttf",regular:"https://fonts.gstatic.com/s/coustard/v16/3XFpErgg3YsZ5fqUU9UPvWXuROTd.ttf"}},{family:"Covered By Your Grace",files:{regular:"https://fonts.gstatic.com/s/coveredbyyourgrace/v15/QGYwz-AZahWOJJI9kykWW9mD6opopoqXSOS0FgItq6bFIg.ttf"}},{family:"Crafty Girls",files:{regular:"https://fonts.gstatic.com/s/craftygirls/v16/va9B4kXI39VaDdlPJo8N_NvuQR37fF3Wlg.ttf"}},{family:"Creepster",files:{regular:"https://fonts.gstatic.com/s/creepster/v13/AlZy_zVUqJz4yMrniH4hdXf4XB0Tow.ttf"}},{family:"Crete Round",files:{regular:"https://fonts.gstatic.com/s/creteround/v14/55xoey1sJNPjPiv1ZZZrxJ1827zAKnxN.ttf",italic:"https://fonts.gstatic.com/s/creteround/v14/55xqey1sJNPjPiv1ZZZrxK1-0bjiL2xNhKc.ttf"}},{family:"Crimson Pro",files:{200:"https://fonts.gstatic.com/s/crimsonpro/v23/q5uUsoa5M_tv7IihmnkabC5XiXCAlXGks1WZTm18OJE_VNWoyQ.ttf",300:"https://fonts.gstatic.com/s/crimsonpro/v23/q5uUsoa5M_tv7IihmnkabC5XiXCAlXGks1WZkG18OJE_VNWoyQ.ttf",500:"https://fonts.gstatic.com/s/crimsonpro/v23/q5uUsoa5M_tv7IihmnkabC5XiXCAlXGks1WZ_G18OJE_VNWoyQ.ttf",600:"https://fonts.gstatic.com/s/crimsonpro/v23/q5uUsoa5M_tv7IihmnkabC5XiXCAlXGks1WZEGp8OJE_VNWoyQ.ttf",700:"https://fonts.gstatic.com/s/crimsonpro/v23/q5uUsoa5M_tv7IihmnkabC5XiXCAlXGks1WZKWp8OJE_VNWoyQ.ttf",800:"https://fonts.gstatic.com/s/crimsonpro/v23/q5uUsoa5M_tv7IihmnkabC5XiXCAlXGks1WZTmp8OJE_VNWoyQ.ttf",900:"https://fonts.gstatic.com/s/crimsonpro/v23/q5uUsoa5M_tv7IihmnkabC5XiXCAlXGks1WZZ2p8OJE_VNWoyQ.ttf",regular:"https://fonts.gstatic.com/s/crimsonpro/v23/q5uUsoa5M_tv7IihmnkabC5XiXCAlXGks1WZzm18OJE_VNWoyQ.ttf","200italic":"https://fonts.gstatic.com/s/crimsonpro/v23/q5uSsoa5M_tv7IihmnkabAReu49Y_Bo-HVKMBi4Ue5s7dtC4yZNE.ttf","300italic":"https://fonts.gstatic.com/s/crimsonpro/v23/q5uSsoa5M_tv7IihmnkabAReu49Y_Bo-HVKMBi7Ke5s7dtC4yZNE.ttf",italic:"https://fonts.gstatic.com/s/crimsonpro/v23/q5uSsoa5M_tv7IihmnkabAReu49Y_Bo-HVKMBi6Ue5s7dtC4yZNE.ttf","500italic":"https://fonts.gstatic.com/s/crimsonpro/v23/q5uSsoa5M_tv7IihmnkabAReu49Y_Bo-HVKMBi6me5s7dtC4yZNE.ttf","600italic":"https://fonts.gstatic.com/s/crimsonpro/v23/q5uSsoa5M_tv7IihmnkabAReu49Y_Bo-HVKMBi5KfJs7dtC4yZNE.ttf","700italic":"https://fonts.gstatic.com/s/crimsonpro/v23/q5uSsoa5M_tv7IihmnkabAReu49Y_Bo-HVKMBi5zfJs7dtC4yZNE.ttf","800italic":"https://fonts.gstatic.com/s/crimsonpro/v23/q5uSsoa5M_tv7IihmnkabAReu49Y_Bo-HVKMBi4UfJs7dtC4yZNE.ttf","900italic":"https://fonts.gstatic.com/s/crimsonpro/v23/q5uSsoa5M_tv7IihmnkabAReu49Y_Bo-HVKMBi49fJs7dtC4yZNE.ttf"}},{family:"Crimson Text",files:{600:"https://fonts.gstatic.com/s/crimsontext/v19/wlppgwHKFkZgtmSR3NB0oRJXsCx2C9lR1LFffg.ttf",700:"https://fonts.gstatic.com/s/crimsontext/v19/wlppgwHKFkZgtmSR3NB0oRJX1C12C9lR1LFffg.ttf",regular:"https://fonts.gstatic.com/s/crimsontext/v19/wlp2gwHKFkZgtmSR3NB0oRJvaAJSA_JN3Q.ttf",italic:"https://fonts.gstatic.com/s/crimsontext/v19/wlpogwHKFkZgtmSR3NB0oRJfaghWIfdd3ahG.ttf","600italic":"https://fonts.gstatic.com/s/crimsontext/v19/wlprgwHKFkZgtmSR3NB0oRJfajCOD9NV9rRPfrKu.ttf","700italic":"https://fonts.gstatic.com/s/crimsontext/v19/wlprgwHKFkZgtmSR3NB0oRJfajDqDtNV9rRPfrKu.ttf"}},{family:"Croissant One",files:{regular:"https://fonts.gstatic.com/s/croissantone/v21/3y9n6bU9bTPg4m8NDy3Kq24UM3pqn5cdJ-4.ttf"}},{family:"Crushed",files:{regular:"https://fonts.gstatic.com/s/crushed/v25/U9Mc6dym6WXImTlFT1kfuIqyLzA.ttf"}},{family:"Cuprum",files:{500:"https://fonts.gstatic.com/s/cuprum/v25/dg45_pLmvrkcOkBnKsOzXyGWTBcmg9f6ZjzSJjQjgnU.ttf",600:"https://fonts.gstatic.com/s/cuprum/v25/dg45_pLmvrkcOkBnKsOzXyGWTBcmgzv9ZjzSJjQjgnU.ttf",700:"https://fonts.gstatic.com/s/cuprum/v25/dg45_pLmvrkcOkBnKsOzXyGWTBcmgwL9ZjzSJjQjgnU.ttf",regular:"https://fonts.gstatic.com/s/cuprum/v25/dg45_pLmvrkcOkBnKsOzXyGWTBcmg-X6ZjzSJjQjgnU.ttf",italic:"https://fonts.gstatic.com/s/cuprum/v25/dg47_pLmvrkcOkBNI_FMh0j91rkhli25jn_YIhYmknUPEA.ttf","500italic":"https://fonts.gstatic.com/s/cuprum/v25/dg47_pLmvrkcOkBNI_FMh0j91rkhli25vH_YIhYmknUPEA.ttf","600italic":"https://fonts.gstatic.com/s/cuprum/v25/dg47_pLmvrkcOkBNI_FMh0j91rkhli25UHjYIhYmknUPEA.ttf","700italic":"https://fonts.gstatic.com/s/cuprum/v25/dg47_pLmvrkcOkBNI_FMh0j91rkhli25aXjYIhYmknUPEA.ttf"}},{family:"Cute Font",files:{regular:"https://fonts.gstatic.com/s/cutefont/v20/Noaw6Uny2oWPbSHMrY6vmJNVNC9hkw.ttf"}},{family:"Cutive",files:{regular:"https://fonts.gstatic.com/s/cutive/v17/NaPZcZ_fHOhV3Ip7T_hDoyqlZQ.ttf"}},{family:"Cutive Mono",files:{regular:"https://fonts.gstatic.com/s/cutivemono/v15/m8JWjfRfY7WVjVi2E-K9H5RFRG-K3Mud.ttf"}},{family:"DM Mono",files:{300:"https://fonts.gstatic.com/s/dmmono/v11/aFTR7PB1QTsUX8KYvrGyIYSnbKX9Rlk.ttf",500:"https://fonts.gstatic.com/s/dmmono/v11/aFTR7PB1QTsUX8KYvumzIYSnbKX9Rlk.ttf","300italic":"https://fonts.gstatic.com/s/dmmono/v11/aFTT7PB1QTsUX8KYth-orYataIf4VllXuA.ttf",regular:"https://fonts.gstatic.com/s/dmmono/v11/aFTU7PB1QTsUX8KYhh2aBYyMcKw.ttf",italic:"https://fonts.gstatic.com/s/dmmono/v11/aFTW7PB1QTsUX8KYth-QAa6JYKzkXw.ttf","500italic":"https://fonts.gstatic.com/s/dmmono/v11/aFTT7PB1QTsUX8KYth-o9YetaIf4VllXuA.ttf"}},{family:"DM Sans",files:{500:"https://fonts.gstatic.com/s/dmsans/v11/rP2Cp2ywxg089UriAWCrOB-sClQX6Cg.ttf",700:"https://fonts.gstatic.com/s/dmsans/v11/rP2Cp2ywxg089UriASitOB-sClQX6Cg.ttf",regular:"https://fonts.gstatic.com/s/dmsans/v11/rP2Hp2ywxg089UriOZSCHBeHFl0.ttf",italic:"https://fonts.gstatic.com/s/dmsans/v11/rP2Fp2ywxg089UriCZaIGDWCBl0O8Q.ttf","500italic":"https://fonts.gstatic.com/s/dmsans/v11/rP2Ap2ywxg089UriCZaw7BymDnYS-Cjk6Q.ttf","700italic":"https://fonts.gstatic.com/s/dmsans/v11/rP2Ap2ywxg089UriCZawpBqmDnYS-Cjk6Q.ttf"}},{family:"DM Serif Display",files:{regular:"https://fonts.gstatic.com/s/dmserifdisplay/v12/-nFnOHM81r4j6k0gjAW3mujVU2B2K_d709jy92k.ttf",italic:"https://fonts.gstatic.com/s/dmserifdisplay/v12/-nFhOHM81r4j6k0gjAW3mujVU2B2G_Vx1_r352np3Q.ttf"}},{family:"DM Serif Text",files:{regular:"https://fonts.gstatic.com/s/dmseriftext/v12/rnCu-xZa_krGokauCeNq1wWyafOPXHIJErY.ttf",italic:"https://fonts.gstatic.com/s/dmseriftext/v12/rnCw-xZa_krGokauCeNq1wWyWfGFWFAMArZKqQ.ttf"}},{family:"Damion",files:{regular:"https://fonts.gstatic.com/s/damion/v14/hv-XlzJ3KEUe_YZUbWY3MTFgVg.ttf"}},{family:"Dancing Script",files:{500:"https://fonts.gstatic.com/s/dancingscript/v24/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7BAyoHTeB9ptDqpw.ttf",600:"https://fonts.gstatic.com/s/dancingscript/v24/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7B7y0HTeB9ptDqpw.ttf",700:"https://fonts.gstatic.com/s/dancingscript/v24/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7B1i0HTeB9ptDqpw.ttf",regular:"https://fonts.gstatic.com/s/dancingscript/v24/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7BMSoHTeB9ptDqpw.ttf"}},{family:"Dangrek",files:{regular:"https://fonts.gstatic.com/s/dangrek/v26/LYjCdG30nEgoH8E2gCNqqVIuTN4.ttf"}},{family:"Darker Grotesque",files:{300:"https://fonts.gstatic.com/s/darkergrotesque/v7/U9MA6cuh-mLQlC4BKCtayOfARkSVoxr2AW8hTOsXsX0.ttf",500:"https://fonts.gstatic.com/s/darkergrotesque/v7/U9MA6cuh-mLQlC4BKCtayOfARkSVo0L3AW8hTOsXsX0.ttf",600:"https://fonts.gstatic.com/s/darkergrotesque/v7/U9MA6cuh-mLQlC4BKCtayOfARkSVo27wAW8hTOsXsX0.ttf",700:"https://fonts.gstatic.com/s/darkergrotesque/v7/U9MA6cuh-mLQlC4BKCtayOfARkSVowrxAW8hTOsXsX0.ttf",800:"https://fonts.gstatic.com/s/darkergrotesque/v7/U9MA6cuh-mLQlC4BKCtayOfARkSVoxbyAW8hTOsXsX0.ttf",900:"https://fonts.gstatic.com/s/darkergrotesque/v7/U9MA6cuh-mLQlC4BKCtayOfARkSVozLzAW8hTOsXsX0.ttf",regular:"https://fonts.gstatic.com/s/darkergrotesque/v7/U9MH6cuh-mLQlC4BKCtayOfARkSVm7beJWcKUOI.ttf"}},{family:"Darumadrop One",files:{regular:"https://fonts.gstatic.com/s/darumadropone/v7/cY9cfjeIW11dpCKgRLi675a87IhHBJOxZQPp.ttf"}},{family:"David Libre",files:{500:"https://fonts.gstatic.com/s/davidlibre/v14/snfzs0W_99N64iuYSvp4W8GIw7qbSjORSo9W.ttf",700:"https://fonts.gstatic.com/s/davidlibre/v14/snfzs0W_99N64iuYSvp4W8HAxbqbSjORSo9W.ttf",regular:"https://fonts.gstatic.com/s/davidlibre/v14/snfus0W_99N64iuYSvp4W_l86p6TYS-Y.ttf"}},{family:"Dawning of a New Day",files:{regular:"https://fonts.gstatic.com/s/dawningofanewday/v16/t5t_IQMbOp2SEwuncwLRjMfIg1yYit_nAz8bhWJGNoBE.ttf"}},{family:"Days One",files:{regular:"https://fonts.gstatic.com/s/daysone/v14/mem9YaCnxnKRiYZOCLYVeLkWVNBt.ttf"}},{family:"Dekko",files:{regular:"https://fonts.gstatic.com/s/dekko/v19/46khlb_wWjfSrttFR0vsfl1B.ttf"}},{family:"Dela Gothic One",files:{regular:"https://fonts.gstatic.com/s/delagothicone/v10/~ChEKD0RlbGEgR290aGljIE9uZSAAKgQIARgB.ttf"}},{family:"Delicious Handrawn",files:{regular:"https://fonts.gstatic.com/s/delicioushandrawn/v4/wlpsgx_NAUNkpmKQifcxkQchDFo3fJ113JpDd6u3AQ.ttf"}},{family:"Delius",files:{regular:"https://fonts.gstatic.com/s/delius/v15/PN_xRfK0pW_9e1rtYcI-jT3L_w.ttf"}},{family:"Delius Swash Caps",files:{regular:"https://fonts.gstatic.com/s/deliusswashcaps/v19/oY1E8fPLr7v4JWCExZpWebxVKORpXXedKmeBvEYs.ttf"}},{family:"Delius Unicase",files:{700:"https://fonts.gstatic.com/s/deliusunicase/v26/845CNMEwEIOVT8BmgfSzIr_6mlp7WMr_BmmlS5aw.ttf",regular:"https://fonts.gstatic.com/s/deliusunicase/v26/845BNMEwEIOVT8BmgfSzIr_6mmLHd-73LXWs.ttf"}},{family:"Della Respira",files:{regular:"https://fonts.gstatic.com/s/dellarespira/v18/RLp5K5v44KaueWI6iEJQBiGPRfkSu6EuTHo.ttf"}},{family:"Denk One",files:{regular:"https://fonts.gstatic.com/s/denkone/v17/dg4m_pzhrqcFb2IzROtHpbglShon.ttf"}},{family:"Devonshire",files:{regular:"https://fonts.gstatic.com/s/devonshire/v22/46kqlbDwWirWr4gtBD2BX0Vq01lYAZM.ttf"}},{family:"Dhurjati",files:{regular:"https://fonts.gstatic.com/s/dhurjati/v20/_6_8ED3gSeatXfFiFX3ySKQtuTA2.ttf"}},{family:"Didact Gothic",files:{regular:"https://fonts.gstatic.com/s/didactgothic/v20/ahcfv8qz1zt6hCC5G4F_P4ASpUySp0LlcyQ.ttf"}},{family:"Diplomata",files:{regular:"https://fonts.gstatic.com/s/diplomata/v27/Cn-0JtiMXwhNwp-wKxyfYGxYrdM9Sg.ttf"}},{family:"Diplomata SC",files:{regular:"https://fonts.gstatic.com/s/diplomatasc/v23/buExpoi3ecvs3kidKgBJo2kf-P5Oaiw4cw.ttf"}},{family:"Do Hyeon",files:{regular:"https://fonts.gstatic.com/s/dohyeon/v16/TwMN-I8CRRU2zM86HFE3ZwaH__-C.ttf"}},{family:"Dokdo",files:{regular:"https://fonts.gstatic.com/s/dokdo/v15/esDf315XNuCBLxLo4NaMlKcH.ttf"}},{family:"Domine",files:{500:"https://fonts.gstatic.com/s/domine/v19/L0xhDFMnlVwD4h3Lt9JWnbX3jG-2X0DAI10VErGuW8Q.ttf",600:"https://fonts.gstatic.com/s/domine/v19/L0xhDFMnlVwD4h3Lt9JWnbX3jG-2X6zHI10VErGuW8Q.ttf",700:"https://fonts.gstatic.com/s/domine/v19/L0xhDFMnlVwD4h3Lt9JWnbX3jG-2X5XHI10VErGuW8Q.ttf",regular:"https://fonts.gstatic.com/s/domine/v19/L0xhDFMnlVwD4h3Lt9JWnbX3jG-2X3LAI10VErGuW8Q.ttf"}},{family:"Donegal One",files:{regular:"https://fonts.gstatic.com/s/donegalone/v21/m8JWjfRYea-ZnFz6fsK9FZRFRG-K3Mud.ttf"}},{family:"Dongle",files:{300:"https://fonts.gstatic.com/s/dongle/v9/sJoG3Ltdjt6VPkqeEcxrYjWNzXvVPA.ttf",700:"https://fonts.gstatic.com/s/dongle/v9/sJoG3Ltdjt6VPkqeActrYjWNzXvVPA.ttf",regular:"https://fonts.gstatic.com/s/dongle/v9/sJoF3Ltdjt6VPkqmveRPah6RxA.ttf"}},{family:"Doppio One",files:{regular:"https://fonts.gstatic.com/s/doppioone/v13/Gg8wN5gSaBfyBw2MqCh-lgshKGpe5Fg.ttf"}},{family:"Dorsa",files:{regular:"https://fonts.gstatic.com/s/dorsa/v23/yYLn0hjd0OGwqo493XCFxAnQ.ttf"}},{family:"Dosis",files:{200:"https://fonts.gstatic.com/s/dosis/v27/HhyJU5sn9vOmLxNkIwRSjTVNWLEJt7MV3BkFTq4EPw.ttf",300:"https://fonts.gstatic.com/s/dosis/v27/HhyJU5sn9vOmLxNkIwRSjTVNWLEJabMV3BkFTq4EPw.ttf",500:"https://fonts.gstatic.com/s/dosis/v27/HhyJU5sn9vOmLxNkIwRSjTVNWLEJBbMV3BkFTq4EPw.ttf",600:"https://fonts.gstatic.com/s/dosis/v27/HhyJU5sn9vOmLxNkIwRSjTVNWLEJ6bQV3BkFTq4EPw.ttf",700:"https://fonts.gstatic.com/s/dosis/v27/HhyJU5sn9vOmLxNkIwRSjTVNWLEJ0LQV3BkFTq4EPw.ttf",800:"https://fonts.gstatic.com/s/dosis/v27/HhyJU5sn9vOmLxNkIwRSjTVNWLEJt7QV3BkFTq4EPw.ttf",regular:"https://fonts.gstatic.com/s/dosis/v27/HhyJU5sn9vOmLxNkIwRSjTVNWLEJN7MV3BkFTq4EPw.ttf"}},{family:"DotGothic16",files:{regular:"https://fonts.gstatic.com/s/dotgothic16/v15/v6-QGYjBJFKgyw5nSoDAGE7L435YPFrT.ttf"}},{family:"Dr Sugiyama",files:{regular:"https://fonts.gstatic.com/s/drsugiyama/v23/HTxoL2k4N3O9n5I1boGI7abRM4-t-g7y.ttf"}},{family:"Duru Sans",files:{regular:"https://fonts.gstatic.com/s/durusans/v20/xn7iYH8xwmSyTvEV_HOxT_fYdN-WZw.ttf"}},{family:"DynaPuff",files:{500:"https://fonts.gstatic.com/s/dynapuff/v4/z7N5dRvsZDIVHbYPMhZJ3HQ83UaSu4uhr7-ZFeoYkgAr1x8RSyQu6YjrSRs4wn8.ttf",600:"https://fonts.gstatic.com/s/dynapuff/v4/z7N5dRvsZDIVHbYPMhZJ3HQ83UaSu4uhr7-ZFeoYkgAr1x8RS8gp6YjrSRs4wn8.ttf",700:"https://fonts.gstatic.com/s/dynapuff/v4/z7N5dRvsZDIVHbYPMhZJ3HQ83UaSu4uhr7-ZFeoYkgAr1x8RS_Ep6YjrSRs4wn8.ttf",regular:"https://fonts.gstatic.com/s/dynapuff/v4/z7N5dRvsZDIVHbYPMhZJ3HQ83UaSu4uhr7-ZFeoYkgAr1x8RSxYu6YjrSRs4wn8.ttf"}},{family:"Dynalight",files:{regular:"https://fonts.gstatic.com/s/dynalight/v18/1Ptsg8LOU_aOmQvTsF4ISotrDfGGxA.ttf"}},{family:"EB Garamond",files:{500:"https://fonts.gstatic.com/s/ebgaramond/v26/SlGDmQSNjdsmc35JDF1K5E55YMjF_7DPuGi-2fRUA4V-e6yHgQ.ttf",600:"https://fonts.gstatic.com/s/ebgaramond/v26/SlGDmQSNjdsmc35JDF1K5E55YMjF_7DPuGi-NfNUA4V-e6yHgQ.ttf",700:"https://fonts.gstatic.com/s/ebgaramond/v26/SlGDmQSNjdsmc35JDF1K5E55YMjF_7DPuGi-DPNUA4V-e6yHgQ.ttf",800:"https://fonts.gstatic.com/s/ebgaramond/v26/SlGDmQSNjdsmc35JDF1K5E55YMjF_7DPuGi-a_NUA4V-e6yHgQ.ttf",regular:"https://fonts.gstatic.com/s/ebgaramond/v26/SlGDmQSNjdsmc35JDF1K5E55YMjF_7DPuGi-6_RUA4V-e6yHgQ.ttf",italic:"https://fonts.gstatic.com/s/ebgaramond/v26/SlGFmQSNjdsmc35JDF1K5GRwUjcdlttVFm-rI7e8QI96WamXgXFI.ttf","500italic":"https://fonts.gstatic.com/s/ebgaramond/v26/SlGFmQSNjdsmc35JDF1K5GRwUjcdlttVFm-rI7eOQI96WamXgXFI.ttf","600italic":"https://fonts.gstatic.com/s/ebgaramond/v26/SlGFmQSNjdsmc35JDF1K5GRwUjcdlttVFm-rI7diR496WamXgXFI.ttf","700italic":"https://fonts.gstatic.com/s/ebgaramond/v26/SlGFmQSNjdsmc35JDF1K5GRwUjcdlttVFm-rI7dbR496WamXgXFI.ttf","800italic":"https://fonts.gstatic.com/s/ebgaramond/v26/SlGFmQSNjdsmc35JDF1K5GRwUjcdlttVFm-rI7c8R496WamXgXFI.ttf"}},{family:"Eagle Lake",files:{regular:"https://fonts.gstatic.com/s/eaglelake/v20/ptRMTiqbbuNJDOiKj9wG5O7yKQNute8.ttf"}},{family:"East Sea Dokdo",files:{regular:"https://fonts.gstatic.com/s/eastseadokdo/v20/xfuo0Wn2V2_KanASqXSZp22m05_aGavYS18y.ttf"}},{family:"Eater",files:{regular:"https://fonts.gstatic.com/s/eater/v21/mtG04_FCK7bOvpu2u3FwsXsR.ttf"}},{family:"Economica",files:{700:"https://fonts.gstatic.com/s/economica/v13/Qw3aZQZaHCLgIWa29ZBTjeckCnZ5dHw8iw.ttf",regular:"https://fonts.gstatic.com/s/economica/v13/Qw3fZQZaHCLgIWa29ZBrMcgAAl1lfQ.ttf",italic:"https://fonts.gstatic.com/s/economica/v13/Qw3ZZQZaHCLgIWa29ZBbM8IEIFh1fWUl.ttf","700italic":"https://fonts.gstatic.com/s/economica/v13/Qw3EZQZaHCLgIWa29ZBbM_q4D3x9Vnksi4M7.ttf"}},{family:"Eczar",files:{500:"https://fonts.gstatic.com/s/eczar/v22/BXR2vF3Pi-DLmxcpJB-qbNTyTMDXL96WqTIVKWJKWg.ttf",600:"https://fonts.gstatic.com/s/eczar/v22/BXR2vF3Pi-DLmxcpJB-qbNTyTMDXw9mWqTIVKWJKWg.ttf",700:"https://fonts.gstatic.com/s/eczar/v22/BXR2vF3Pi-DLmxcpJB-qbNTyTMDX-tmWqTIVKWJKWg.ttf",800:"https://fonts.gstatic.com/s/eczar/v22/BXR2vF3Pi-DLmxcpJB-qbNTyTMDXndmWqTIVKWJKWg.ttf",regular:"https://fonts.gstatic.com/s/eczar/v22/BXR2vF3Pi-DLmxcpJB-qbNTyTMDXHd6WqTIVKWJKWg.ttf"}},{family:"Edu NSW ACT Foundation",files:{500:"https://fonts.gstatic.com/s/edunswactfoundation/v2/raxRHjqJtsNBFUi8WO0vUBgc9D-2lV_oQdCAYlt_QTQ0vUxJki9fovGLeC-sfguJ.ttf",600:"https://fonts.gstatic.com/s/edunswactfoundation/v2/raxRHjqJtsNBFUi8WO0vUBgc9D-2lV_oQdCAYlt_QTQ0vUxJki-zpfGLeC-sfguJ.ttf",700:"https://fonts.gstatic.com/s/edunswactfoundation/v2/raxRHjqJtsNBFUi8WO0vUBgc9D-2lV_oQdCAYlt_QTQ0vUxJki-KpfGLeC-sfguJ.ttf",regular:"https://fonts.gstatic.com/s/edunswactfoundation/v2/raxRHjqJtsNBFUi8WO0vUBgc9D-2lV_oQdCAYlt_QTQ0vUxJki9tovGLeC-sfguJ.ttf"}},{family:"Edu QLD Beginner",files:{500:"https://fonts.gstatic.com/s/eduqldbeginner/v3/AMOHz5iUuHLEMNXyohhc_Y56PR3A8dNLF_w3Ka4HKE423oebi6vyVWCN.ttf",600:"https://fonts.gstatic.com/s/eduqldbeginner/v3/AMOHz5iUuHLEMNXyohhc_Y56PR3A8dNLF_w3Ka4HKE7a2Yebi6vyVWCN.ttf",700:"https://fonts.gstatic.com/s/eduqldbeginner/v3/AMOHz5iUuHLEMNXyohhc_Y56PR3A8dNLF_w3Ka4HKE7j2Yebi6vyVWCN.ttf",regular:"https://fonts.gstatic.com/s/eduqldbeginner/v3/AMOHz5iUuHLEMNXyohhc_Y56PR3A8dNLF_w3Ka4HKE4E3oebi6vyVWCN.ttf"}},{family:"Edu SA Beginner",files:{500:"https://fonts.gstatic.com/s/edusabeginner/v3/rnC_-xRb1x-1lHXnLaZZ2xOoLIGfU3L82irpr_3C9-09fo1yBydUEDs.ttf",600:"https://fonts.gstatic.com/s/edusabeginner/v3/rnC_-xRb1x-1lHXnLaZZ2xOoLIGfU3L82irpr_3C9wE6fo1yBydUEDs.ttf",700:"https://fonts.gstatic.com/s/edusabeginner/v3/rnC_-xRb1x-1lHXnLaZZ2xOoLIGfU3L82irpr_3C9zg6fo1yBydUEDs.ttf",regular:"https://fonts.gstatic.com/s/edusabeginner/v3/rnC_-xRb1x-1lHXnLaZZ2xOoLIGfU3L82irpr_3C9989fo1yBydUEDs.ttf"}},{family:"Edu TAS Beginner",files:{500:"https://fonts.gstatic.com/s/edutasbeginner/v3/ZXuwe04WubHfGVY-1TcNg7AFUmshg8jIUTzK3r34f_HCemkrBWRhvk02.ttf",600:"https://fonts.gstatic.com/s/edutasbeginner/v3/ZXuwe04WubHfGVY-1TcNg7AFUmshg8jIUTzK3r34f_EufWkrBWRhvk02.ttf",700:"https://fonts.gstatic.com/s/edutasbeginner/v3/ZXuwe04WubHfGVY-1TcNg7AFUmshg8jIUTzK3r34f_EXfWkrBWRhvk02.ttf",regular:"https://fonts.gstatic.com/s/edutasbeginner/v3/ZXuwe04WubHfGVY-1TcNg7AFUmshg8jIUTzK3r34f_HwemkrBWRhvk02.ttf"}},{family:"Edu VIC WA NT Beginner",files:{500:"https://fonts.gstatic.com/s/eduvicwantbeginner/v4/jiz2RF1BuW9OwcnNPxLl4KfZCHd9nFtd5Tu7stCpElYpvPfZZ-OllPmFXwnpkeGR.ttf",600:"https://fonts.gstatic.com/s/eduvicwantbeginner/v4/jiz2RF1BuW9OwcnNPxLl4KfZCHd9nFtd5Tu7stCpElYpvPfZZ-NJk_mFXwnpkeGR.ttf",700:"https://fonts.gstatic.com/s/eduvicwantbeginner/v4/jiz2RF1BuW9OwcnNPxLl4KfZCHd9nFtd5Tu7stCpElYpvPfZZ-Nwk_mFXwnpkeGR.ttf",regular:"https://fonts.gstatic.com/s/eduvicwantbeginner/v4/jiz2RF1BuW9OwcnNPxLl4KfZCHd9nFtd5Tu7stCpElYpvPfZZ-OXlPmFXwnpkeGR.ttf"}},{family:"El Messiri",files:{500:"https://fonts.gstatic.com/s/elmessiri/v22/K2FhfZBRmr9vQ1pHEey6GIGo8_pv3myYjuXCe65ghj3OoapG.ttf",600:"https://fonts.gstatic.com/s/elmessiri/v22/K2FhfZBRmr9vQ1pHEey6GIGo8_pv3myYjuUufK5ghj3OoapG.ttf",700:"https://fonts.gstatic.com/s/elmessiri/v22/K2FhfZBRmr9vQ1pHEey6GIGo8_pv3myYjuUXfK5ghj3OoapG.ttf",regular:"https://fonts.gstatic.com/s/elmessiri/v22/K2FhfZBRmr9vQ1pHEey6GIGo8_pv3myYjuXwe65ghj3OoapG.ttf"}},{family:"Electrolize",files:{regular:"https://fonts.gstatic.com/s/electrolize/v14/cIf5Ma1dtE0zSiGSiED7AUEGso5tQafB.ttf"}},{family:"Elsie",files:{900:"https://fonts.gstatic.com/s/elsie/v13/BCaqqZABrez54x6q2-1IU6QeXSBk.ttf",regular:"https://fonts.gstatic.com/s/elsie/v13/BCanqZABrez54yYu9slAeLgX.ttf"}},{family:"Elsie Swash Caps",files:{900:"https://fonts.gstatic.com/s/elsieswashcaps/v21/845ENN8xGZyVX5MVo_upKf7KnjK0RW74DG2HToawrdU.ttf",regular:"https://fonts.gstatic.com/s/elsieswashcaps/v21/845DNN8xGZyVX5MVo_upKf7KnjK0ferVKGWsUo8.ttf"}},{family:"Emblema One",files:{regular:"https://fonts.gstatic.com/s/emblemaone/v21/nKKT-GQ0F5dSY8vzG0rOEIRBHl57G_f_.ttf"}},{family:"Emilys Candy",files:{regular:"https://fonts.gstatic.com/s/emilyscandy/v14/2EbgL-1mD1Rnb0OGKudbk0y5r9xrX84JjA.ttf"}},{family:"Encode Sans",files:{100:"https://fonts.gstatic.com/s/encodesans/v19/LDIcapOFNxEwR-Bd1O9uYNmnUQomAgE25imKSbHhROjLsZBWTSrQGGHiZtWP7FJCt2c.ttf",200:"https://fonts.gstatic.com/s/encodesans/v19/LDIcapOFNxEwR-Bd1O9uYNmnUQomAgE25imKSbHhROjLsZBWTSrQGOHjZtWP7FJCt2c.ttf",300:"https://fonts.gstatic.com/s/encodesans/v19/LDIcapOFNxEwR-Bd1O9uYNmnUQomAgE25imKSbHhROjLsZBWTSrQGD_jZtWP7FJCt2c.ttf",500:"https://fonts.gstatic.com/s/encodesans/v19/LDIcapOFNxEwR-Bd1O9uYNmnUQomAgE25imKSbHhROjLsZBWTSrQGFPjZtWP7FJCt2c.ttf",600:"https://fonts.gstatic.com/s/encodesans/v19/LDIcapOFNxEwR-Bd1O9uYNmnUQomAgE25imKSbHhROjLsZBWTSrQGL_kZtWP7FJCt2c.ttf",700:"https://fonts.gstatic.com/s/encodesans/v19/LDIcapOFNxEwR-Bd1O9uYNmnUQomAgE25imKSbHhROjLsZBWTSrQGIbkZtWP7FJCt2c.ttf",800:"https://fonts.gstatic.com/s/encodesans/v19/LDIcapOFNxEwR-Bd1O9uYNmnUQomAgE25imKSbHhROjLsZBWTSrQGOHkZtWP7FJCt2c.ttf",900:"https://fonts.gstatic.com/s/encodesans/v19/LDIcapOFNxEwR-Bd1O9uYNmnUQomAgE25imKSbHhROjLsZBWTSrQGMjkZtWP7FJCt2c.ttf",regular:"https://fonts.gstatic.com/s/encodesans/v19/LDIcapOFNxEwR-Bd1O9uYNmnUQomAgE25imKSbHhROjLsZBWTSrQGGHjZtWP7FJCt2c.ttf"}},{family:"Encode Sans Condensed",files:{100:"https://fonts.gstatic.com/s/encodesanscondensed/v10/j8_76_LD37rqfuwxyIuaZhE6cRXOLtm2gfT-5a-JLQoFI2KR.ttf",200:"https://fonts.gstatic.com/s/encodesanscondensed/v10/j8_46_LD37rqfuwxyIuaZhE6cRXOLtm2gfT-SY6pByQJKnuIFA.ttf",300:"https://fonts.gstatic.com/s/encodesanscondensed/v10/j8_46_LD37rqfuwxyIuaZhE6cRXOLtm2gfT-LY2pByQJKnuIFA.ttf",500:"https://fonts.gstatic.com/s/encodesanscondensed/v10/j8_46_LD37rqfuwxyIuaZhE6cRXOLtm2gfT-dYypByQJKnuIFA.ttf",600:"https://fonts.gstatic.com/s/encodesanscondensed/v10/j8_46_LD37rqfuwxyIuaZhE6cRXOLtm2gfT-WYupByQJKnuIFA.ttf",700:"https://fonts.gstatic.com/s/encodesanscondensed/v10/j8_46_LD37rqfuwxyIuaZhE6cRXOLtm2gfT-PYqpByQJKnuIFA.ttf",800:"https://fonts.gstatic.com/s/encodesanscondensed/v10/j8_46_LD37rqfuwxyIuaZhE6cRXOLtm2gfT-IYmpByQJKnuIFA.ttf",900:"https://fonts.gstatic.com/s/encodesanscondensed/v10/j8_46_LD37rqfuwxyIuaZhE6cRXOLtm2gfT-BYipByQJKnuIFA.ttf",regular:"https://fonts.gstatic.com/s/encodesanscondensed/v10/j8_16_LD37rqfuwxyIuaZhE6cRXOLtm2gfTGgaWNDw8VIw.ttf"}},{family:"Encode Sans Expanded",files:{100:"https://fonts.gstatic.com/s/encodesansexpanded/v11/c4mx1mF4GcnstG_Jh1QH6ac4hNLeNyeYUpJGKQNicoAbJlw.ttf",200:"https://fonts.gstatic.com/s/encodesansexpanded/v11/c4mw1mF4GcnstG_Jh1QH6ac4hNLeNyeYUpLqCCNIXIwSP0XD.ttf",300:"https://fonts.gstatic.com/s/encodesansexpanded/v11/c4mw1mF4GcnstG_Jh1QH6ac4hNLeNyeYUpKOCyNIXIwSP0XD.ttf",500:"https://fonts.gstatic.com/s/encodesansexpanded/v11/c4mw1mF4GcnstG_Jh1QH6ac4hNLeNyeYUpLWCiNIXIwSP0XD.ttf",600:"https://fonts.gstatic.com/s/encodesansexpanded/v11/c4mw1mF4GcnstG_Jh1QH6ac4hNLeNyeYUpL6DSNIXIwSP0XD.ttf",700:"https://fonts.gstatic.com/s/encodesansexpanded/v11/c4mw1mF4GcnstG_Jh1QH6ac4hNLeNyeYUpKeDCNIXIwSP0XD.ttf",800:"https://fonts.gstatic.com/s/encodesansexpanded/v11/c4mw1mF4GcnstG_Jh1QH6ac4hNLeNyeYUpKCDyNIXIwSP0XD.ttf",900:"https://fonts.gstatic.com/s/encodesansexpanded/v11/c4mw1mF4GcnstG_Jh1QH6ac4hNLeNyeYUpKmDiNIXIwSP0XD.ttf",regular:"https://fonts.gstatic.com/s/encodesansexpanded/v11/c4m_1mF4GcnstG_Jh1QH6ac4hNLeNyeYUqoiIwdAd5Ab.ttf"}},{family:"Encode Sans SC",files:{100:"https://fonts.gstatic.com/s/encodesanssc/v8/jVyp7nLwCGzQ9zE7ZyRg0QRXHPZc_uUA6Kb3VJWLE_Pdtm7lcD6qvXT1HHhn8c9NOEEClIc.ttf",200:"https://fonts.gstatic.com/s/encodesanssc/v8/jVyp7nLwCGzQ9zE7ZyRg0QRXHPZc_uUA6Kb3VJWLE_Pdtm7lcD6qvXT1HPhm8c9NOEEClIc.ttf",300:"https://fonts.gstatic.com/s/encodesanssc/v8/jVyp7nLwCGzQ9zE7ZyRg0QRXHPZc_uUA6Kb3VJWLE_Pdtm7lcD6qvXT1HCZm8c9NOEEClIc.ttf",500:"https://fonts.gstatic.com/s/encodesanssc/v8/jVyp7nLwCGzQ9zE7ZyRg0QRXHPZc_uUA6Kb3VJWLE_Pdtm7lcD6qvXT1HEpm8c9NOEEClIc.ttf",600:"https://fonts.gstatic.com/s/encodesanssc/v8/jVyp7nLwCGzQ9zE7ZyRg0QRXHPZc_uUA6Kb3VJWLE_Pdtm7lcD6qvXT1HKZh8c9NOEEClIc.ttf",700:"https://fonts.gstatic.com/s/encodesanssc/v8/jVyp7nLwCGzQ9zE7ZyRg0QRXHPZc_uUA6Kb3VJWLE_Pdtm7lcD6qvXT1HJ9h8c9NOEEClIc.ttf",800:"https://fonts.gstatic.com/s/encodesanssc/v8/jVyp7nLwCGzQ9zE7ZyRg0QRXHPZc_uUA6Kb3VJWLE_Pdtm7lcD6qvXT1HPhh8c9NOEEClIc.ttf",900:"https://fonts.gstatic.com/s/encodesanssc/v8/jVyp7nLwCGzQ9zE7ZyRg0QRXHPZc_uUA6Kb3VJWLE_Pdtm7lcD6qvXT1HNFh8c9NOEEClIc.ttf",regular:"https://fonts.gstatic.com/s/encodesanssc/v8/jVyp7nLwCGzQ9zE7ZyRg0QRXHPZc_uUA6Kb3VJWLE_Pdtm7lcD6qvXT1HHhm8c9NOEEClIc.ttf"}},{family:"Encode Sans Semi Condensed",files:{100:"https://fonts.gstatic.com/s/encodesanssemicondensed/v10/3qT6oiKqnDuUtQUEHMoXcmspmy55SFWrXFRp9FTOG1T19MFtQ9jpVUA.ttf",200:"https://fonts.gstatic.com/s/encodesanssemicondensed/v10/3qT7oiKqnDuUtQUEHMoXcmspmy55SFWrXFRp9FTOG1RZ1eFHbdTgTFmr.ttf",300:"https://fonts.gstatic.com/s/encodesanssemicondensed/v10/3qT7oiKqnDuUtQUEHMoXcmspmy55SFWrXFRp9FTOG1Q91uFHbdTgTFmr.ttf",500:"https://fonts.gstatic.com/s/encodesanssemicondensed/v10/3qT7oiKqnDuUtQUEHMoXcmspmy55SFWrXFRp9FTOG1Rl1-FHbdTgTFmr.ttf",600:"https://fonts.gstatic.com/s/encodesanssemicondensed/v10/3qT7oiKqnDuUtQUEHMoXcmspmy55SFWrXFRp9FTOG1RJ0OFHbdTgTFmr.ttf",700:"https://fonts.gstatic.com/s/encodesanssemicondensed/v10/3qT7oiKqnDuUtQUEHMoXcmspmy55SFWrXFRp9FTOG1Qt0eFHbdTgTFmr.ttf",800:"https://fonts.gstatic.com/s/encodesanssemicondensed/v10/3qT7oiKqnDuUtQUEHMoXcmspmy55SFWrXFRp9FTOG1Qx0uFHbdTgTFmr.ttf",900:"https://fonts.gstatic.com/s/encodesanssemicondensed/v10/3qT7oiKqnDuUtQUEHMoXcmspmy55SFWrXFRp9FTOG1QV0-FHbdTgTFmr.ttf",regular:"https://fonts.gstatic.com/s/encodesanssemicondensed/v10/3qT4oiKqnDuUtQUEHMoXcmspmy55SFWrXFRp9FTOG2yR_sVPRsjp.ttf"}},{family:"Encode Sans Semi Expanded",files:{100:"https://fonts.gstatic.com/s/encodesanssemiexpanded/v19/ke8xOhAPMEZs-BDuzwftTNJ85JvwMOzE9d9Cca5TM-41KwrlKXeOEA.ttf",200:"https://fonts.gstatic.com/s/encodesanssemiexpanded/v19/ke8yOhAPMEZs-BDuzwftTNJ85JvwMOzE9d9Cca5TM0IUCyDLJX6XCWU.ttf",300:"https://fonts.gstatic.com/s/encodesanssemiexpanded/v19/ke8yOhAPMEZs-BDuzwftTNJ85JvwMOzE9d9Cca5TMyYXCyDLJX6XCWU.ttf",500:"https://fonts.gstatic.com/s/encodesanssemiexpanded/v19/ke8yOhAPMEZs-BDuzwftTNJ85JvwMOzE9d9Cca5TM34WCyDLJX6XCWU.ttf",600:"https://fonts.gstatic.com/s/encodesanssemiexpanded/v19/ke8yOhAPMEZs-BDuzwftTNJ85JvwMOzE9d9Cca5TM1IRCyDLJX6XCWU.ttf",700:"https://fonts.gstatic.com/s/encodesanssemiexpanded/v19/ke8yOhAPMEZs-BDuzwftTNJ85JvwMOzE9d9Cca5TMzYQCyDLJX6XCWU.ttf",800:"https://fonts.gstatic.com/s/encodesanssemiexpanded/v19/ke8yOhAPMEZs-BDuzwftTNJ85JvwMOzE9d9Cca5TMyoTCyDLJX6XCWU.ttf",900:"https://fonts.gstatic.com/s/encodesanssemiexpanded/v19/ke8yOhAPMEZs-BDuzwftTNJ85JvwMOzE9d9Cca5TMw4SCyDLJX6XCWU.ttf",regular:"https://fonts.gstatic.com/s/encodesanssemiexpanded/v19/ke83OhAPMEZs-BDuzwftTNJ85JvwMOzE9d9Cca5TC4o_LyjgOXc.ttf"}},{family:"Engagement",files:{regular:"https://fonts.gstatic.com/s/engagement/v22/x3dlckLDZbqa7RUs9MFVXNossybsHQI.ttf"}},{family:"Englebert",files:{regular:"https://fonts.gstatic.com/s/englebert/v17/xn7iYH8w2XGrC8AR4HSxT_fYdN-WZw.ttf"}},{family:"Enriqueta",files:{500:"https://fonts.gstatic.com/s/enriqueta/v15/gokpH6L7AUFrRvV44HVrv2mHmNZEq6TTFw.ttf",600:"https://fonts.gstatic.com/s/enriqueta/v15/gokpH6L7AUFrRvV44HVrk26HmNZEq6TTFw.ttf",700:"https://fonts.gstatic.com/s/enriqueta/v15/gokpH6L7AUFrRvV44HVr92-HmNZEq6TTFw.ttf",regular:"https://fonts.gstatic.com/s/enriqueta/v15/goksH6L7AUFrRvV44HVTS0CjkP1Yog.ttf"}},{family:"Ephesis",files:{regular:"https://fonts.gstatic.com/s/ephesis/v7/uU9PCBUS8IerL2VG7xPb3vyHmlI.ttf"}},{family:"Epilogue",files:{100:"https://fonts.gstatic.com/s/epilogue/v17/O4ZMFGj5hxF0EhjimngomvnCCtqb30OXMDLiDJXVigHPVA.ttf",200:"https://fonts.gstatic.com/s/epilogue/v17/O4ZMFGj5hxF0EhjimngomvnCCtqb30OXsDPiDJXVigHPVA.ttf",300:"https://fonts.gstatic.com/s/epilogue/v17/O4ZMFGj5hxF0EhjimngomvnCCtqb30OXbjPiDJXVigHPVA.ttf",500:"https://fonts.gstatic.com/s/epilogue/v17/O4ZMFGj5hxF0EhjimngomvnCCtqb30OXAjPiDJXVigHPVA.ttf",600:"https://fonts.gstatic.com/s/epilogue/v17/O4ZMFGj5hxF0EhjimngomvnCCtqb30OX7jTiDJXVigHPVA.ttf",700:"https://fonts.gstatic.com/s/epilogue/v17/O4ZMFGj5hxF0EhjimngomvnCCtqb30OX1zTiDJXVigHPVA.ttf",800:"https://fonts.gstatic.com/s/epilogue/v17/O4ZMFGj5hxF0EhjimngomvnCCtqb30OXsDTiDJXVigHPVA.ttf",900:"https://fonts.gstatic.com/s/epilogue/v17/O4ZMFGj5hxF0EhjimngomvnCCtqb30OXmTTiDJXVigHPVA.ttf",regular:"https://fonts.gstatic.com/s/epilogue/v17/O4ZMFGj5hxF0EhjimngomvnCCtqb30OXMDPiDJXVigHPVA.ttf","100italic":"https://fonts.gstatic.com/s/epilogue/v17/O4ZCFGj5hxF0EhjimlIhqAYaY7EBcUSC-HAKTp_RqATfVHNU.ttf","200italic":"https://fonts.gstatic.com/s/epilogue/v17/O4ZCFGj5hxF0EhjimlIhqAYaY7EBcUSC-HCKT5_RqATfVHNU.ttf","300italic":"https://fonts.gstatic.com/s/epilogue/v17/O4ZCFGj5hxF0EhjimlIhqAYaY7EBcUSC-HBUT5_RqATfVHNU.ttf",italic:"https://fonts.gstatic.com/s/epilogue/v17/O4ZCFGj5hxF0EhjimlIhqAYaY7EBcUSC-HAKT5_RqATfVHNU.ttf","500italic":"https://fonts.gstatic.com/s/epilogue/v17/O4ZCFGj5hxF0EhjimlIhqAYaY7EBcUSC-HA4T5_RqATfVHNU.ttf","600italic":"https://fonts.gstatic.com/s/epilogue/v17/O4ZCFGj5hxF0EhjimlIhqAYaY7EBcUSC-HDUSJ_RqATfVHNU.ttf","700italic":"https://fonts.gstatic.com/s/epilogue/v17/O4ZCFGj5hxF0EhjimlIhqAYaY7EBcUSC-HDtSJ_RqATfVHNU.ttf","800italic":"https://fonts.gstatic.com/s/epilogue/v17/O4ZCFGj5hxF0EhjimlIhqAYaY7EBcUSC-HCKSJ_RqATfVHNU.ttf","900italic":"https://fonts.gstatic.com/s/epilogue/v17/O4ZCFGj5hxF0EhjimlIhqAYaY7EBcUSC-HCjSJ_RqATfVHNU.ttf"}},{family:"Erica One",files:{regular:"https://fonts.gstatic.com/s/ericaone/v23/WBLnrEXccV9VGrOKmGD1W0_MJMGxiQ.ttf"}},{family:"Esteban",files:{regular:"https://fonts.gstatic.com/s/esteban/v15/r05bGLZE-bdGdN-GdOuD5jokU8E.ttf"}},{family:"Estonia",files:{regular:"https://fonts.gstatic.com/s/estonia/v9/7Au_p_4ijSecA1yHCCL8zkwMIFg.ttf"}},{family:"Euphoria Script",files:{regular:"https://fonts.gstatic.com/s/euphoriascript/v16/mFTpWb0X2bLb_cx6To2B8GpKoD5ak_ZT1D8x7Q.ttf"}},{family:"Ewert",files:{regular:"https://fonts.gstatic.com/s/ewert/v21/va9I4kzO2tFODYBvS-J3kbDP.ttf"}},{family:"Exo",files:{100:"https://fonts.gstatic.com/s/exo/v20/4UaZrEtFpBI4f1ZSIK9d4LjJ4lM2CwNsOl4p5Is.ttf",200:"https://fonts.gstatic.com/s/exo/v20/4UaZrEtFpBI4f1ZSIK9d4LjJ4tM3CwNsOl4p5Is.ttf",300:"https://fonts.gstatic.com/s/exo/v20/4UaZrEtFpBI4f1ZSIK9d4LjJ4g03CwNsOl4p5Is.ttf",500:"https://fonts.gstatic.com/s/exo/v20/4UaZrEtFpBI4f1ZSIK9d4LjJ4mE3CwNsOl4p5Is.ttf",600:"https://fonts.gstatic.com/s/exo/v20/4UaZrEtFpBI4f1ZSIK9d4LjJ4o0wCwNsOl4p5Is.ttf",700:"https://fonts.gstatic.com/s/exo/v20/4UaZrEtFpBI4f1ZSIK9d4LjJ4rQwCwNsOl4p5Is.ttf",800:"https://fonts.gstatic.com/s/exo/v20/4UaZrEtFpBI4f1ZSIK9d4LjJ4tMwCwNsOl4p5Is.ttf",900:"https://fonts.gstatic.com/s/exo/v20/4UaZrEtFpBI4f1ZSIK9d4LjJ4vowCwNsOl4p5Is.ttf",regular:"https://fonts.gstatic.com/s/exo/v20/4UaZrEtFpBI4f1ZSIK9d4LjJ4lM3CwNsOl4p5Is.ttf","100italic":"https://fonts.gstatic.com/s/exo/v20/4UafrEtFpBISdmSt-MY2ehbO95t040FmPnws9Iu-uA.ttf","200italic":"https://fonts.gstatic.com/s/exo/v20/4UafrEtFpBISdmSt-MY2ehbO95t0Y0BmPnws9Iu-uA.ttf","300italic":"https://fonts.gstatic.com/s/exo/v20/4UafrEtFpBISdmSt-MY2ehbO95t0vUBmPnws9Iu-uA.ttf",italic:"https://fonts.gstatic.com/s/exo/v20/4UafrEtFpBISdmSt-MY2ehbO95t040BmPnws9Iu-uA.ttf","500italic":"https://fonts.gstatic.com/s/exo/v20/4UafrEtFpBISdmSt-MY2ehbO95t00UBmPnws9Iu-uA.ttf","600italic":"https://fonts.gstatic.com/s/exo/v20/4UafrEtFpBISdmSt-MY2ehbO95t0PUdmPnws9Iu-uA.ttf","700italic":"https://fonts.gstatic.com/s/exo/v20/4UafrEtFpBISdmSt-MY2ehbO95t0BEdmPnws9Iu-uA.ttf","800italic":"https://fonts.gstatic.com/s/exo/v20/4UafrEtFpBISdmSt-MY2ehbO95t0Y0dmPnws9Iu-uA.ttf","900italic":"https://fonts.gstatic.com/s/exo/v20/4UafrEtFpBISdmSt-MY2ehbO95t0SkdmPnws9Iu-uA.ttf"}},{family:"Exo 2",files:{100:"https://fonts.gstatic.com/s/exo2/v20/7cH1v4okm5zmbvwkAx_sfcEuiD8jvvOcPtq-rpvLpQ.ttf",200:"https://fonts.gstatic.com/s/exo2/v20/7cH1v4okm5zmbvwkAx_sfcEuiD8jPvKcPtq-rpvLpQ.ttf",300:"https://fonts.gstatic.com/s/exo2/v20/7cH1v4okm5zmbvwkAx_sfcEuiD8j4PKcPtq-rpvLpQ.ttf",500:"https://fonts.gstatic.com/s/exo2/v20/7cH1v4okm5zmbvwkAx_sfcEuiD8jjPKcPtq-rpvLpQ.ttf",600:"https://fonts.gstatic.com/s/exo2/v20/7cH1v4okm5zmbvwkAx_sfcEuiD8jYPWcPtq-rpvLpQ.ttf",700:"https://fonts.gstatic.com/s/exo2/v20/7cH1v4okm5zmbvwkAx_sfcEuiD8jWfWcPtq-rpvLpQ.ttf",800:"https://fonts.gstatic.com/s/exo2/v20/7cH1v4okm5zmbvwkAx_sfcEuiD8jPvWcPtq-rpvLpQ.ttf",900:"https://fonts.gstatic.com/s/exo2/v20/7cH1v4okm5zmbvwkAx_sfcEuiD8jF_WcPtq-rpvLpQ.ttf",regular:"https://fonts.gstatic.com/s/exo2/v20/7cH1v4okm5zmbvwkAx_sfcEuiD8jvvKcPtq-rpvLpQ.ttf","100italic":"https://fonts.gstatic.com/s/exo2/v20/7cH3v4okm5zmbtYtMeA0FKq0Jjg2drF0fNC6jJ7bpQBL.ttf","200italic":"https://fonts.gstatic.com/s/exo2/v20/7cH3v4okm5zmbtYtMeA0FKq0Jjg2drH0fdC6jJ7bpQBL.ttf","300italic":"https://fonts.gstatic.com/s/exo2/v20/7cH3v4okm5zmbtYtMeA0FKq0Jjg2drEqfdC6jJ7bpQBL.ttf",italic:"https://fonts.gstatic.com/s/exo2/v20/7cH3v4okm5zmbtYtMeA0FKq0Jjg2drF0fdC6jJ7bpQBL.ttf","500italic":"https://fonts.gstatic.com/s/exo2/v20/7cH3v4okm5zmbtYtMeA0FKq0Jjg2drFGfdC6jJ7bpQBL.ttf","600italic":"https://fonts.gstatic.com/s/exo2/v20/7cH3v4okm5zmbtYtMeA0FKq0Jjg2drGqetC6jJ7bpQBL.ttf","700italic":"https://fonts.gstatic.com/s/exo2/v20/7cH3v4okm5zmbtYtMeA0FKq0Jjg2drGTetC6jJ7bpQBL.ttf","800italic":"https://fonts.gstatic.com/s/exo2/v20/7cH3v4okm5zmbtYtMeA0FKq0Jjg2drH0etC6jJ7bpQBL.ttf","900italic":"https://fonts.gstatic.com/s/exo2/v20/7cH3v4okm5zmbtYtMeA0FKq0Jjg2drHdetC6jJ7bpQBL.ttf"}},{family:"Expletus Sans",files:{500:"https://fonts.gstatic.com/s/expletussans/v24/RLpqK5v5_bqufTYdnhFzDj2dX_IwS3my73zcDaSq2s1oFQTcXfMm.ttf",600:"https://fonts.gstatic.com/s/expletussans/v24/RLpqK5v5_bqufTYdnhFzDj2dX_IwS3my73zcDaRG3c1oFQTcXfMm.ttf",700:"https://fonts.gstatic.com/s/expletussans/v24/RLpqK5v5_bqufTYdnhFzDj2dX_IwS3my73zcDaR_3c1oFQTcXfMm.ttf",regular:"https://fonts.gstatic.com/s/expletussans/v24/RLpqK5v5_bqufTYdnhFzDj2dX_IwS3my73zcDaSY2s1oFQTcXfMm.ttf",italic:"https://fonts.gstatic.com/s/expletussans/v24/RLpoK5v5_bqufTYdnhFzDj2ddfsCtKHbhOZyCrFQmSUrHwD-WOMmKKY.ttf","500italic":"https://fonts.gstatic.com/s/expletussans/v24/RLpoK5v5_bqufTYdnhFzDj2ddfsCtKHbhOZyCrFQmRcrHwD-WOMmKKY.ttf","600italic":"https://fonts.gstatic.com/s/expletussans/v24/RLpoK5v5_bqufTYdnhFzDj2ddfsCtKHbhOZyCrFQmfssHwD-WOMmKKY.ttf","700italic":"https://fonts.gstatic.com/s/expletussans/v24/RLpoK5v5_bqufTYdnhFzDj2ddfsCtKHbhOZyCrFQmcIsHwD-WOMmKKY.ttf"}},{family:"Explora",files:{regular:"https://fonts.gstatic.com/s/explora/v7/tsstApxFfjUH4wrvc1qPonC3vqc.ttf"}},{family:"Fahkwang",files:{200:"https://fonts.gstatic.com/s/fahkwang/v16/Noa26Uj3zpmBOgbNpOJHmZlRFipxkwjx.ttf",300:"https://fonts.gstatic.com/s/fahkwang/v16/Noa26Uj3zpmBOgbNpOIjmplRFipxkwjx.ttf",500:"https://fonts.gstatic.com/s/fahkwang/v16/Noa26Uj3zpmBOgbNpOJ7m5lRFipxkwjx.ttf",600:"https://fonts.gstatic.com/s/fahkwang/v16/Noa26Uj3zpmBOgbNpOJXnJlRFipxkwjx.ttf",700:"https://fonts.gstatic.com/s/fahkwang/v16/Noa26Uj3zpmBOgbNpOIznZlRFipxkwjx.ttf","200italic":"https://fonts.gstatic.com/s/fahkwang/v16/Noa06Uj3zpmBOgbNpOqNgHFQHC5Tlhjxdw4.ttf","300italic":"https://fonts.gstatic.com/s/fahkwang/v16/Noa06Uj3zpmBOgbNpOqNgBVTHC5Tlhjxdw4.ttf",regular:"https://fonts.gstatic.com/s/fahkwang/v16/Noax6Uj3zpmBOgbNpNqPsr1ZPTZ4.ttf",italic:"https://fonts.gstatic.com/s/fahkwang/v16/Noa36Uj3zpmBOgbNpOqNuLl7OCZ4ihE.ttf","500italic":"https://fonts.gstatic.com/s/fahkwang/v16/Noa06Uj3zpmBOgbNpOqNgE1SHC5Tlhjxdw4.ttf","600italic":"https://fonts.gstatic.com/s/fahkwang/v16/Noa06Uj3zpmBOgbNpOqNgGFVHC5Tlhjxdw4.ttf","700italic":"https://fonts.gstatic.com/s/fahkwang/v16/Noa06Uj3zpmBOgbNpOqNgAVUHC5Tlhjxdw4.ttf"}},{family:"Familjen Grotesk",files:{500:"https://fonts.gstatic.com/s/familjengrotesk/v8/Qw3LZR9ZHiDnImG6-NEMQ41wby8WRnYsfkunR_eGfMG7aSztc1jcEYq2.ttf",600:"https://fonts.gstatic.com/s/familjengrotesk/v8/Qw3LZR9ZHiDnImG6-NEMQ41wby8WRnYsfkunR_eGfMFXbiztc1jcEYq2.ttf",700:"https://fonts.gstatic.com/s/familjengrotesk/v8/Qw3LZR9ZHiDnImG6-NEMQ41wby8WRnYsfkunR_eGfMFubiztc1jcEYq2.ttf",regular:"https://fonts.gstatic.com/s/familjengrotesk/v8/Qw3LZR9ZHiDnImG6-NEMQ41wby8WRnYsfkunR_eGfMGJaSztc1jcEYq2.ttf",italic:"https://fonts.gstatic.com/s/familjengrotesk/v8/Qw31ZR9ZHiDnImG6-NEMQ41wby8WbH8egZPOLG0oe9RBKsSueVz-FJq2Rv4.ttf","500italic":"https://fonts.gstatic.com/s/familjengrotesk/v8/Qw31ZR9ZHiDnImG6-NEMQ41wby8WbH8egZPOLG0oe9RBKvaueVz-FJq2Rv4.ttf","600italic":"https://fonts.gstatic.com/s/familjengrotesk/v8/Qw31ZR9ZHiDnImG6-NEMQ41wby8WbH8egZPOLG0oe9RBKhqpeVz-FJq2Rv4.ttf","700italic":"https://fonts.gstatic.com/s/familjengrotesk/v8/Qw31ZR9ZHiDnImG6-NEMQ41wby8WbH8egZPOLG0oe9RBKiOpeVz-FJq2Rv4.ttf"}},{family:"Fanwood Text",files:{regular:"https://fonts.gstatic.com/s/fanwoodtext/v15/3XFtErwl05Ad_vSCF6Fq7xXGRdbY1P1Sbg.ttf",italic:"https://fonts.gstatic.com/s/fanwoodtext/v15/3XFzErwl05Ad_vSCF6Fq7xX2R9zc9vhCblye.ttf"}},{family:"Farro",files:{300:"https://fonts.gstatic.com/s/farro/v14/i7dJIFl3byGNHa3hNJ6-WkJUQUq7.ttf",500:"https://fonts.gstatic.com/s/farro/v14/i7dJIFl3byGNHa25NZ6-WkJUQUq7.ttf",700:"https://fonts.gstatic.com/s/farro/v14/i7dJIFl3byGNHa3xM56-WkJUQUq7.ttf",regular:"https://fonts.gstatic.com/s/farro/v14/i7dEIFl3byGNHZVNHLq2cV5d.ttf"}},{family:"Farsan",files:{regular:"https://fonts.gstatic.com/s/farsan/v19/VEMwRoJ0vY_zsyz62q-pxDX9rQ.ttf"}},{family:"Fascinate",files:{regular:"https://fonts.gstatic.com/s/fascinate/v21/z7NWdRrufC8XJK0IIEli1LbQRPyNrw.ttf"}},{family:"Fascinate Inline",files:{regular:"https://fonts.gstatic.com/s/fascinateinline/v22/jVyR7mzzB3zc-jp6QCAu60poNqIy1g3CfRXxWZQ.ttf"}},{family:"Faster One",files:{regular:"https://fonts.gstatic.com/s/fasterone/v19/H4ciBXCHmdfClFb-vWhfyLuShq63czE.ttf"}},{family:"Fasthand",files:{regular:"https://fonts.gstatic.com/s/fasthand/v26/0yb9GDohyKTYn_ZEESkuYkw2rQg1.ttf"}},{family:"Fauna One",files:{regular:"https://fonts.gstatic.com/s/faunaone/v15/wlpzgwTPBVpjpCuwkuEx2UxLYClOCg.ttf"}},{family:"Faustina",files:{300:"https://fonts.gstatic.com/s/faustina/v20/XLY4IZPxYpJfTbZAFXWzNT2SO8wpWHls3IEvGVWWe8tbEg.ttf",500:"https://fonts.gstatic.com/s/faustina/v20/XLY4IZPxYpJfTbZAFXWzNT2SO8wpWHlssIEvGVWWe8tbEg.ttf",600:"https://fonts.gstatic.com/s/faustina/v20/XLY4IZPxYpJfTbZAFXWzNT2SO8wpWHlsXIYvGVWWe8tbEg.ttf",700:"https://fonts.gstatic.com/s/faustina/v20/XLY4IZPxYpJfTbZAFXWzNT2SO8wpWHlsZYYvGVWWe8tbEg.ttf",800:"https://fonts.gstatic.com/s/faustina/v20/XLY4IZPxYpJfTbZAFXWzNT2SO8wpWHlsAoYvGVWWe8tbEg.ttf",regular:"https://fonts.gstatic.com/s/faustina/v20/XLY4IZPxYpJfTbZAFXWzNT2SO8wpWHlsgoEvGVWWe8tbEg.ttf","300italic":"https://fonts.gstatic.com/s/faustina/v20/XLY2IZPxYpJfTbZAFV-6B8JKUqez9n55SsKZWl-SWc5LEnoF.ttf",italic:"https://fonts.gstatic.com/s/faustina/v20/XLY2IZPxYpJfTbZAFV-6B8JKUqez9n55SsLHWl-SWc5LEnoF.ttf","500italic":"https://fonts.gstatic.com/s/faustina/v20/XLY2IZPxYpJfTbZAFV-6B8JKUqez9n55SsL1Wl-SWc5LEnoF.ttf","600italic":"https://fonts.gstatic.com/s/faustina/v20/XLY2IZPxYpJfTbZAFV-6B8JKUqez9n55SsIZXV-SWc5LEnoF.ttf","700italic":"https://fonts.gstatic.com/s/faustina/v20/XLY2IZPxYpJfTbZAFV-6B8JKUqez9n55SsIgXV-SWc5LEnoF.ttf","800italic":"https://fonts.gstatic.com/s/faustina/v20/XLY2IZPxYpJfTbZAFV-6B8JKUqez9n55SsJHXV-SWc5LEnoF.ttf"}},{family:"Federant",files:{regular:"https://fonts.gstatic.com/s/federant/v25/2sDdZGNfip_eirT0_U0jRUG0AqUc.ttf"}},{family:"Federo",files:{regular:"https://fonts.gstatic.com/s/federo/v19/iJWFBX-cbD_ETsbmjVOe2WTG7Q.ttf"}},{family:"Felipa",files:{regular:"https://fonts.gstatic.com/s/felipa/v20/FwZa7-owz1Eu4F_wSNSEwM2zpA.ttf"}},{family:"Fenix",files:{regular:"https://fonts.gstatic.com/s/fenix/v20/XoHo2YL_S7-g5ostKzAFvs8o.ttf"}},{family:"Festive",files:{regular:"https://fonts.gstatic.com/s/festive/v7/cY9Ffj6KX1xcoDWhFtfgy9HTkak.ttf"}},{family:"Figtree",files:{300:"https://fonts.gstatic.com/s/figtree/v4/_Xmz-HUzqDCFdgfMsYiV_F7wfS-Bs_chQF5ewkEU4HTy.ttf",500:"https://fonts.gstatic.com/s/figtree/v4/_Xmz-HUzqDCFdgfMsYiV_F7wfS-Bs_dNQF5ewkEU4HTy.ttf",600:"https://fonts.gstatic.com/s/figtree/v4/_Xmz-HUzqDCFdgfMsYiV_F7wfS-Bs_ehR15ewkEU4HTy.ttf",700:"https://fonts.gstatic.com/s/figtree/v4/_Xmz-HUzqDCFdgfMsYiV_F7wfS-Bs_eYR15ewkEU4HTy.ttf",800:"https://fonts.gstatic.com/s/figtree/v4/_Xmz-HUzqDCFdgfMsYiV_F7wfS-Bs_f_R15ewkEU4HTy.ttf",900:"https://fonts.gstatic.com/s/figtree/v4/_Xmz-HUzqDCFdgfMsYiV_F7wfS-Bs_fWR15ewkEU4HTy.ttf",regular:"https://fonts.gstatic.com/s/figtree/v4/_Xmz-HUzqDCFdgfMsYiV_F7wfS-Bs_d_QF5ewkEU4HTy.ttf","300italic":"https://fonts.gstatic.com/s/figtree/v4/_Xm9-HUzqDCFdgfMm4GnA4aZFrUvtOK3A-gdyEU25WTybO8.ttf",italic:"https://fonts.gstatic.com/s/figtree/v4/_Xm9-HUzqDCFdgfMm4GnA4aZFrUvtOK3A7YdyEU25WTybO8.ttf","500italic":"https://fonts.gstatic.com/s/figtree/v4/_Xm9-HUzqDCFdgfMm4GnA4aZFrUvtOK3A4QdyEU25WTybO8.ttf","600italic":"https://fonts.gstatic.com/s/figtree/v4/_Xm9-HUzqDCFdgfMm4GnA4aZFrUvtOK3A2gayEU25WTybO8.ttf","700italic":"https://fonts.gstatic.com/s/figtree/v4/_Xm9-HUzqDCFdgfMm4GnA4aZFrUvtOK3A1EayEU25WTybO8.ttf","800italic":"https://fonts.gstatic.com/s/figtree/v4/_Xm9-HUzqDCFdgfMm4GnA4aZFrUvtOK3AzYayEU25WTybO8.ttf","900italic":"https://fonts.gstatic.com/s/figtree/v4/_Xm9-HUzqDCFdgfMm4GnA4aZFrUvtOK3Ax8ayEU25WTybO8.ttf"}},{family:"Finger Paint",files:{regular:"https://fonts.gstatic.com/s/fingerpaint/v15/0QInMXVJ-o-oRn_7dron8YWO85bS8ANesw.ttf"}},{family:"Finlandica",files:{500:"https://fonts.gstatic.com/s/finlandica/v8/-nFsOGk-8vAc7lEtg0aSyZCty9GSsPBE19AJrEjx9i5ss3a3.ttf",600:"https://fonts.gstatic.com/s/finlandica/v8/-nFsOGk-8vAc7lEtg0aSyZCty9GSsPBE19Dlq0jx9i5ss3a3.ttf",700:"https://fonts.gstatic.com/s/finlandica/v8/-nFsOGk-8vAc7lEtg0aSyZCty9GSsPBE19Dcq0jx9i5ss3a3.ttf",regular:"https://fonts.gstatic.com/s/finlandica/v8/-nFsOGk-8vAc7lEtg0aSyZCty9GSsPBE19A7rEjx9i5ss3a3.ttf",italic:"https://fonts.gstatic.com/s/finlandica/v8/-nFuOGk-8vAc7lEtg0aS45mfNAn722rq0MXz76Cy_CpOtma3uNQ.ttf","500italic":"https://fonts.gstatic.com/s/finlandica/v8/-nFuOGk-8vAc7lEtg0aS45mfNAn722rq0MXz75Ky_CpOtma3uNQ.ttf","600italic":"https://fonts.gstatic.com/s/finlandica/v8/-nFuOGk-8vAc7lEtg0aS45mfNAn722rq0MXz7361_CpOtma3uNQ.ttf","700italic":"https://fonts.gstatic.com/s/finlandica/v8/-nFuOGk-8vAc7lEtg0aS45mfNAn722rq0MXz70e1_CpOtma3uNQ.ttf"}},{family:"Fira Code",files:{300:"https://fonts.gstatic.com/s/firacode/v21/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_GNsFVfxN87gsj0.ttf",500:"https://fonts.gstatic.com/s/firacode/v21/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_A9sFVfxN87gsj0.ttf",600:"https://fonts.gstatic.com/s/firacode/v21/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_ONrFVfxN87gsj0.ttf",700:"https://fonts.gstatic.com/s/firacode/v21/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_NprFVfxN87gsj0.ttf",regular:"https://fonts.gstatic.com/s/firacode/v21/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_D1sFVfxN87gsj0.ttf"}},{family:"Fira Mono",files:{500:"https://fonts.gstatic.com/s/firamono/v14/N0bS2SlFPv1weGeLZDto1d33mf3VaZBRBQ.ttf",700:"https://fonts.gstatic.com/s/firamono/v14/N0bS2SlFPv1weGeLZDtondv3mf3VaZBRBQ.ttf",regular:"https://fonts.gstatic.com/s/firamono/v14/N0bX2SlFPv1weGeLZDtQIfTTkdbJYA.ttf"}},{family:"Fira Sans",files:{100:"https://fonts.gstatic.com/s/firasans/v17/va9C4kDNxMZdWfMOD5Vn9IjOazP3dUTP.ttf",200:"https://fonts.gstatic.com/s/firasans/v17/va9B4kDNxMZdWfMOD5VnWKnuQR37fF3Wlg.ttf",300:"https://fonts.gstatic.com/s/firasans/v17/va9B4kDNxMZdWfMOD5VnPKruQR37fF3Wlg.ttf",500:"https://fonts.gstatic.com/s/firasans/v17/va9B4kDNxMZdWfMOD5VnZKvuQR37fF3Wlg.ttf",600:"https://fonts.gstatic.com/s/firasans/v17/va9B4kDNxMZdWfMOD5VnSKzuQR37fF3Wlg.ttf",700:"https://fonts.gstatic.com/s/firasans/v17/va9B4kDNxMZdWfMOD5VnLK3uQR37fF3Wlg.ttf",800:"https://fonts.gstatic.com/s/firasans/v17/va9B4kDNxMZdWfMOD5VnMK7uQR37fF3Wlg.ttf",900:"https://fonts.gstatic.com/s/firasans/v17/va9B4kDNxMZdWfMOD5VnFK_uQR37fF3Wlg.ttf","100italic":"https://fonts.gstatic.com/s/firasans/v17/va9A4kDNxMZdWfMOD5VvkrCqYTfVcFTPj0s.ttf","200italic":"https://fonts.gstatic.com/s/firasans/v17/va9f4kDNxMZdWfMOD5VvkrAGQBf_XljGllLX.ttf","300italic":"https://fonts.gstatic.com/s/firasans/v17/va9f4kDNxMZdWfMOD5VvkrBiQxf_XljGllLX.ttf",regular:"https://fonts.gstatic.com/s/firasans/v17/va9E4kDNxMZdWfMOD5VfkILKSTbndQ.ttf",italic:"https://fonts.gstatic.com/s/firasans/v17/va9C4kDNxMZdWfMOD5VvkojOazP3dUTP.ttf","500italic":"https://fonts.gstatic.com/s/firasans/v17/va9f4kDNxMZdWfMOD5VvkrA6Qhf_XljGllLX.ttf","600italic":"https://fonts.gstatic.com/s/firasans/v17/va9f4kDNxMZdWfMOD5VvkrAWRRf_XljGllLX.ttf","700italic":"https://fonts.gstatic.com/s/firasans/v17/va9f4kDNxMZdWfMOD5VvkrByRBf_XljGllLX.ttf","800italic":"https://fonts.gstatic.com/s/firasans/v17/va9f4kDNxMZdWfMOD5VvkrBuRxf_XljGllLX.ttf","900italic":"https://fonts.gstatic.com/s/firasans/v17/va9f4kDNxMZdWfMOD5VvkrBKRhf_XljGllLX.ttf"}},{family:"Fira Sans Condensed",files:{100:"https://fonts.gstatic.com/s/firasanscondensed/v10/wEOjEADFm8hSaQTFG18FErVhsC9x-tarWZXtqOlQfx9CjA.ttf",200:"https://fonts.gstatic.com/s/firasanscondensed/v10/wEOsEADFm8hSaQTFG18FErVhsC9x-tarWTnMiMN-cxZblY4.ttf",300:"https://fonts.gstatic.com/s/firasanscondensed/v10/wEOsEADFm8hSaQTFG18FErVhsC9x-tarWV3PiMN-cxZblY4.ttf",500:"https://fonts.gstatic.com/s/firasanscondensed/v10/wEOsEADFm8hSaQTFG18FErVhsC9x-tarWQXOiMN-cxZblY4.ttf",600:"https://fonts.gstatic.com/s/firasanscondensed/v10/wEOsEADFm8hSaQTFG18FErVhsC9x-tarWSnJiMN-cxZblY4.ttf",700:"https://fonts.gstatic.com/s/firasanscondensed/v10/wEOsEADFm8hSaQTFG18FErVhsC9x-tarWU3IiMN-cxZblY4.ttf",800:"https://fonts.gstatic.com/s/firasanscondensed/v10/wEOsEADFm8hSaQTFG18FErVhsC9x-tarWVHLiMN-cxZblY4.ttf",900:"https://fonts.gstatic.com/s/firasanscondensed/v10/wEOsEADFm8hSaQTFG18FErVhsC9x-tarWXXKiMN-cxZblY4.ttf","100italic":"https://fonts.gstatic.com/s/firasanscondensed/v10/wEOtEADFm8hSaQTFG18FErVhsC9x-tarUfPVzONUXRpSjJcu.ttf","200italic":"https://fonts.gstatic.com/s/firasanscondensed/v10/wEOuEADFm8hSaQTFG18FErVhsC9x-tarUfPVYMJ0dzRehY43EA.ttf","300italic":"https://fonts.gstatic.com/s/firasanscondensed/v10/wEOuEADFm8hSaQTFG18FErVhsC9x-tarUfPVBMF0dzRehY43EA.ttf",regular:"https://fonts.gstatic.com/s/firasanscondensed/v10/wEOhEADFm8hSaQTFG18FErVhsC9x-tarYfHnrMtVbx8.ttf",italic:"https://fonts.gstatic.com/s/firasanscondensed/v10/wEOjEADFm8hSaQTFG18FErVhsC9x-tarUfPtqOlQfx9CjA.ttf","500italic":"https://fonts.gstatic.com/s/firasanscondensed/v10/wEOuEADFm8hSaQTFG18FErVhsC9x-tarUfPVXMB0dzRehY43EA.ttf","600italic":"https://fonts.gstatic.com/s/firasanscondensed/v10/wEOuEADFm8hSaQTFG18FErVhsC9x-tarUfPVcMd0dzRehY43EA.ttf","700italic":"https://fonts.gstatic.com/s/firasanscondensed/v10/wEOuEADFm8hSaQTFG18FErVhsC9x-tarUfPVFMZ0dzRehY43EA.ttf","800italic":"https://fonts.gstatic.com/s/firasanscondensed/v10/wEOuEADFm8hSaQTFG18FErVhsC9x-tarUfPVCMV0dzRehY43EA.ttf","900italic":"https://fonts.gstatic.com/s/firasanscondensed/v10/wEOuEADFm8hSaQTFG18FErVhsC9x-tarUfPVLMR0dzRehY43EA.ttf"}},{family:"Fira Sans Extra Condensed",files:{100:"https://fonts.gstatic.com/s/firasansextracondensed/v10/NaPMcYDaAO5dirw6IaFn7lPJFqXmS-M9Atn3wgda3Zyuv1WarE9ncg.ttf",200:"https://fonts.gstatic.com/s/firasansextracondensed/v10/NaPPcYDaAO5dirw6IaFn7lPJFqXmS-M9Atn3wgda3TCPn3-0oEZ-a2Q.ttf",300:"https://fonts.gstatic.com/s/firasansextracondensed/v10/NaPPcYDaAO5dirw6IaFn7lPJFqXmS-M9Atn3wgda3VSMn3-0oEZ-a2Q.ttf",500:"https://fonts.gstatic.com/s/firasansextracondensed/v10/NaPPcYDaAO5dirw6IaFn7lPJFqXmS-M9Atn3wgda3QyNn3-0oEZ-a2Q.ttf",600:"https://fonts.gstatic.com/s/firasansextracondensed/v10/NaPPcYDaAO5dirw6IaFn7lPJFqXmS-M9Atn3wgda3SCKn3-0oEZ-a2Q.ttf",700:"https://fonts.gstatic.com/s/firasansextracondensed/v10/NaPPcYDaAO5dirw6IaFn7lPJFqXmS-M9Atn3wgda3USLn3-0oEZ-a2Q.ttf",800:"https://fonts.gstatic.com/s/firasansextracondensed/v10/NaPPcYDaAO5dirw6IaFn7lPJFqXmS-M9Atn3wgda3ViIn3-0oEZ-a2Q.ttf",900:"https://fonts.gstatic.com/s/firasansextracondensed/v10/NaPPcYDaAO5dirw6IaFn7lPJFqXmS-M9Atn3wgda3XyJn3-0oEZ-a2Q.ttf","100italic":"https://fonts.gstatic.com/s/firasansextracondensed/v10/NaPOcYDaAO5dirw6IaFn7lPJFqXmS-M9Atn3wgda1fqW21-ejkp3cn22.ttf","200italic":"https://fonts.gstatic.com/s/firasansextracondensed/v10/NaPxcYDaAO5dirw6IaFn7lPJFqXmS-M9Atn3wgda1fqWd36-pGR7e2SvJQ.ttf","300italic":"https://fonts.gstatic.com/s/firasansextracondensed/v10/NaPxcYDaAO5dirw6IaFn7lPJFqXmS-M9Atn3wgda1fqWE32-pGR7e2SvJQ.ttf",regular:"https://fonts.gstatic.com/s/firasansextracondensed/v10/NaPKcYDaAO5dirw6IaFn7lPJFqXmS-M9Atn3wgda5fiku3efvE8.ttf",italic:"https://fonts.gstatic.com/s/firasansextracondensed/v10/NaPMcYDaAO5dirw6IaFn7lPJFqXmS-M9Atn3wgda1fquv1WarE9ncg.ttf","500italic":"https://fonts.gstatic.com/s/firasansextracondensed/v10/NaPxcYDaAO5dirw6IaFn7lPJFqXmS-M9Atn3wgda1fqWS3y-pGR7e2SvJQ.ttf","600italic":"https://fonts.gstatic.com/s/firasansextracondensed/v10/NaPxcYDaAO5dirw6IaFn7lPJFqXmS-M9Atn3wgda1fqWZ3u-pGR7e2SvJQ.ttf","700italic":"https://fonts.gstatic.com/s/firasansextracondensed/v10/NaPxcYDaAO5dirw6IaFn7lPJFqXmS-M9Atn3wgda1fqWA3q-pGR7e2SvJQ.ttf","800italic":"https://fonts.gstatic.com/s/firasansextracondensed/v10/NaPxcYDaAO5dirw6IaFn7lPJFqXmS-M9Atn3wgda1fqWH3m-pGR7e2SvJQ.ttf","900italic":"https://fonts.gstatic.com/s/firasansextracondensed/v10/NaPxcYDaAO5dirw6IaFn7lPJFqXmS-M9Atn3wgda1fqWO3i-pGR7e2SvJQ.ttf"}},{family:"Fjalla One",files:{regular:"https://fonts.gstatic.com/s/fjallaone/v15/Yq6R-LCAWCX3-6Ky7FAFnOZwkxgtUb8.ttf"}},{family:"Fjord One",files:{regular:"https://fonts.gstatic.com/s/fjordone/v21/zOL-4pbEnKBY_9S1jNKr6e5As-FeiQ.ttf"}},{family:"Flamenco",files:{300:"https://fonts.gstatic.com/s/flamenco/v18/neIPzCehqYguo67ssZ0qNIkyepH9qGsf.ttf",regular:"https://fonts.gstatic.com/s/flamenco/v18/neIIzCehqYguo67ssaWGHK06UY30.ttf"}},{family:"Flavors",files:{regular:"https://fonts.gstatic.com/s/flavors/v22/FBV2dDrhxqmveJTpbkzlNqkG9UY.ttf"}},{family:"Fleur De Leah",files:{regular:"https://fonts.gstatic.com/s/fleurdeleah/v7/AYCNpXX7ftYZWLhv9UmPJTMC5vat4I_Gdq0.ttf"}},{family:"Flow Block",files:{regular:"https://fonts.gstatic.com/s/flowblock/v7/wlp0gwfPCEB65UmTk-d6-WZlbCBXE_I.ttf"}},{family:"Flow Circular",files:{regular:"https://fonts.gstatic.com/s/flowcircular/v7/lJwB-pc4j2F-H8YKuyvfxdZ45ifpWdr2rIg.ttf"}},{family:"Flow Rounded",files:{regular:"https://fonts.gstatic.com/s/flowrounded/v7/-zki91mtwsU9qlLiGwD4oQX3oZX-Xup87g.ttf"}},{family:"Foldit",files:{100:"https://fonts.gstatic.com/s/foldit/v3/aFTI7PF3Y3c9WdjNrRVE0Rk2b7j8XpANmapUYLHkN80.ttf",200:"https://fonts.gstatic.com/s/foldit/v3/aFTI7PF3Y3c9WdjNrRVE0Rk2b7j8XhAMmapUYLHkN80.ttf",300:"https://fonts.gstatic.com/s/foldit/v3/aFTI7PF3Y3c9WdjNrRVE0Rk2b7j8Xs4MmapUYLHkN80.ttf",500:"https://fonts.gstatic.com/s/foldit/v3/aFTI7PF3Y3c9WdjNrRVE0Rk2b7j8XqIMmapUYLHkN80.ttf",600:"https://fonts.gstatic.com/s/foldit/v3/aFTI7PF3Y3c9WdjNrRVE0Rk2b7j8Xk4LmapUYLHkN80.ttf",700:"https://fonts.gstatic.com/s/foldit/v3/aFTI7PF3Y3c9WdjNrRVE0Rk2b7j8XncLmapUYLHkN80.ttf",800:"https://fonts.gstatic.com/s/foldit/v3/aFTI7PF3Y3c9WdjNrRVE0Rk2b7j8XhALmapUYLHkN80.ttf",900:"https://fonts.gstatic.com/s/foldit/v3/aFTI7PF3Y3c9WdjNrRVE0Rk2b7j8XjkLmapUYLHkN80.ttf",regular:"https://fonts.gstatic.com/s/foldit/v3/aFTI7PF3Y3c9WdjNrRVE0Rk2b7j8XpAMmapUYLHkN80.ttf"}},{family:"Fondamento",files:{regular:"https://fonts.gstatic.com/s/fondamento/v17/4UaHrEJGsxNmFTPDnkaJx63j5pN1MwI.ttf",italic:"https://fonts.gstatic.com/s/fondamento/v17/4UaFrEJGsxNmFTPDnkaJ96_p4rFwIwJePw.ttf"}},{family:"Fontdiner Swanky",files:{regular:"https://fonts.gstatic.com/s/fontdinerswanky/v19/ijwOs4XgRNsiaI5-hcVb4hQgMvCD4uEfKiGvxts.ttf"}},{family:"Forum",files:{regular:"https://fonts.gstatic.com/s/forum/v16/6aey4Ky-Vb8Ew_IWMJMa3mnT.ttf"}},{family:"Fragment Mono",files:{regular:"https://fonts.gstatic.com/s/fragmentmono/v1/4iCr6K5wfMRRjxp0DA6-2CLnN4RNh4UI_1U.ttf",italic:"https://fonts.gstatic.com/s/fragmentmono/v1/4iC16K5wfMRRjxp0DA6-2CLnB4ZHg6cN71URtQ.ttf"}},{family:"Francois One",files:{regular:"https://fonts.gstatic.com/s/francoisone/v21/_Xmr-H4zszafZw3A-KPSZutNxgKQu_avAg.ttf"}},{family:"Frank Ruhl Libre",files:{300:"https://fonts.gstatic.com/s/frankruhllibre/v19/j8_96_fAw7jrcalD7oKYNX0QfAnPcbzNEEB7OoicBw6bYVqQPxR2EUR_.ttf",500:"https://fonts.gstatic.com/s/frankruhllibre/v19/j8_96_fAw7jrcalD7oKYNX0QfAnPcbzNEEB7OoicBw73YVqQPxR2EUR_.ttf",600:"https://fonts.gstatic.com/s/frankruhllibre/v19/j8_96_fAw7jrcalD7oKYNX0QfAnPcbzNEEB7OoicBw4bZlqQPxR2EUR_.ttf",700:"https://fonts.gstatic.com/s/frankruhllibre/v19/j8_96_fAw7jrcalD7oKYNX0QfAnPcbzNEEB7OoicBw4iZlqQPxR2EUR_.ttf",800:"https://fonts.gstatic.com/s/frankruhllibre/v19/j8_96_fAw7jrcalD7oKYNX0QfAnPcbzNEEB7OoicBw5FZlqQPxR2EUR_.ttf",900:"https://fonts.gstatic.com/s/frankruhllibre/v19/j8_96_fAw7jrcalD7oKYNX0QfAnPcbzNEEB7OoicBw5sZlqQPxR2EUR_.ttf",regular:"https://fonts.gstatic.com/s/frankruhllibre/v19/j8_96_fAw7jrcalD7oKYNX0QfAnPcbzNEEB7OoicBw7FYVqQPxR2EUR_.ttf"}},{family:"Fraunces",files:{100:"https://fonts.gstatic.com/s/fraunces/v31/6NUh8FyLNQOQZAnv9bYEvDiIdE9Ea92uemAk_WBq8U_9v0c2Wa0K7iN7hzFUPJH58nib1603gg7S2nfgRYIctxqjDvTShUtWNg.ttf",200:"https://fonts.gstatic.com/s/fraunces/v31/6NUh8FyLNQOQZAnv9bYEvDiIdE9Ea92uemAk_WBq8U_9v0c2Wa0K7iN7hzFUPJH58nib1603gg7S2nfgRYIcNxujDvTShUtWNg.ttf",300:"https://fonts.gstatic.com/s/fraunces/v31/6NUh8FyLNQOQZAnv9bYEvDiIdE9Ea92uemAk_WBq8U_9v0c2Wa0K7iN7hzFUPJH58nib1603gg7S2nfgRYIc6RujDvTShUtWNg.ttf",500:"https://fonts.gstatic.com/s/fraunces/v31/6NUh8FyLNQOQZAnv9bYEvDiIdE9Ea92uemAk_WBq8U_9v0c2Wa0K7iN7hzFUPJH58nib1603gg7S2nfgRYIchRujDvTShUtWNg.ttf",600:"https://fonts.gstatic.com/s/fraunces/v31/6NUh8FyLNQOQZAnv9bYEvDiIdE9Ea92uemAk_WBq8U_9v0c2Wa0K7iN7hzFUPJH58nib1603gg7S2nfgRYIcaRyjDvTShUtWNg.ttf",700:"https://fonts.gstatic.com/s/fraunces/v31/6NUh8FyLNQOQZAnv9bYEvDiIdE9Ea92uemAk_WBq8U_9v0c2Wa0K7iN7hzFUPJH58nib1603gg7S2nfgRYIcUByjDvTShUtWNg.ttf",800:"https://fonts.gstatic.com/s/fraunces/v31/6NUh8FyLNQOQZAnv9bYEvDiIdE9Ea92uemAk_WBq8U_9v0c2Wa0K7iN7hzFUPJH58nib1603gg7S2nfgRYIcNxyjDvTShUtWNg.ttf",900:"https://fonts.gstatic.com/s/fraunces/v31/6NUh8FyLNQOQZAnv9bYEvDiIdE9Ea92uemAk_WBq8U_9v0c2Wa0K7iN7hzFUPJH58nib1603gg7S2nfgRYIcHhyjDvTShUtWNg.ttf",regular:"https://fonts.gstatic.com/s/fraunces/v31/6NUh8FyLNQOQZAnv9bYEvDiIdE9Ea92uemAk_WBq8U_9v0c2Wa0K7iN7hzFUPJH58nib1603gg7S2nfgRYIctxujDvTShUtWNg.ttf","100italic":"https://fonts.gstatic.com/s/fraunces/v31/6NVf8FyLNQOQZAnv9ZwNjucMHVn85Ni7emAe9lKqZTnbB-gzTK0K1ChJdt9vIVYX9G37lvd9sPEKsxx664UJf1hLTP7Wp05GNi3k.ttf","200italic":"https://fonts.gstatic.com/s/fraunces/v31/6NVf8FyLNQOQZAnv9ZwNjucMHVn85Ni7emAe9lKqZTnbB-gzTK0K1ChJdt9vIVYX9G37lvd9sPEKsxx664UJf1jLTf7Wp05GNi3k.ttf","300italic":"https://fonts.gstatic.com/s/fraunces/v31/6NVf8FyLNQOQZAnv9ZwNjucMHVn85Ni7emAe9lKqZTnbB-gzTK0K1ChJdt9vIVYX9G37lvd9sPEKsxx664UJf1gVTf7Wp05GNi3k.ttf",italic:"https://fonts.gstatic.com/s/fraunces/v31/6NVf8FyLNQOQZAnv9ZwNjucMHVn85Ni7emAe9lKqZTnbB-gzTK0K1ChJdt9vIVYX9G37lvd9sPEKsxx664UJf1hLTf7Wp05GNi3k.ttf","500italic":"https://fonts.gstatic.com/s/fraunces/v31/6NVf8FyLNQOQZAnv9ZwNjucMHVn85Ni7emAe9lKqZTnbB-gzTK0K1ChJdt9vIVYX9G37lvd9sPEKsxx664UJf1h5Tf7Wp05GNi3k.ttf","600italic":"https://fonts.gstatic.com/s/fraunces/v31/6NVf8FyLNQOQZAnv9ZwNjucMHVn85Ni7emAe9lKqZTnbB-gzTK0K1ChJdt9vIVYX9G37lvd9sPEKsxx664UJf1iVSv7Wp05GNi3k.ttf","700italic":"https://fonts.gstatic.com/s/fraunces/v31/6NVf8FyLNQOQZAnv9ZwNjucMHVn85Ni7emAe9lKqZTnbB-gzTK0K1ChJdt9vIVYX9G37lvd9sPEKsxx664UJf1isSv7Wp05GNi3k.ttf","800italic":"https://fonts.gstatic.com/s/fraunces/v31/6NVf8FyLNQOQZAnv9ZwNjucMHVn85Ni7emAe9lKqZTnbB-gzTK0K1ChJdt9vIVYX9G37lvd9sPEKsxx664UJf1jLSv7Wp05GNi3k.ttf","900italic":"https://fonts.gstatic.com/s/fraunces/v31/6NVf8FyLNQOQZAnv9ZwNjucMHVn85Ni7emAe9lKqZTnbB-gzTK0K1ChJdt9vIVYX9G37lvd9sPEKsxx664UJf1jiSv7Wp05GNi3k.ttf"}},{family:"Freckle Face",files:{regular:"https://fonts.gstatic.com/s/freckleface/v15/AMOWz4SXrmKHCvXTohxY-YI0U1K2w9lb4g.ttf"}},{family:"Fredericka the Great",files:{regular:"https://fonts.gstatic.com/s/frederickathegreat/v16/9Bt33CxNwt7aOctW2xjbCstzwVKsIBVV-9Skz7Ylch2L.ttf"}},{family:"Fredoka",files:{300:"https://fonts.gstatic.com/s/fredoka/v14/X7nP4b87HvSqjb_WIi2yDCRwoQ_k7367_B-i2yQag0-mac3OryLMFuOLlNldbw.ttf",500:"https://fonts.gstatic.com/s/fredoka/v14/X7nP4b87HvSqjb_WIi2yDCRwoQ_k7367_B-i2yQag0-mac3OwyLMFuOLlNldbw.ttf",600:"https://fonts.gstatic.com/s/fredoka/v14/X7nP4b87HvSqjb_WIi2yDCRwoQ_k7367_B-i2yQag0-mac3OLyXMFuOLlNldbw.ttf",700:"https://fonts.gstatic.com/s/fredoka/v14/X7nP4b87HvSqjb_WIi2yDCRwoQ_k7367_B-i2yQag0-mac3OFiXMFuOLlNldbw.ttf",regular:"https://fonts.gstatic.com/s/fredoka/v14/X7nP4b87HvSqjb_WIi2yDCRwoQ_k7367_B-i2yQag0-mac3O8SLMFuOLlNldbw.ttf"}},{family:"Freehand",files:{regular:"https://fonts.gstatic.com/s/freehand/v27/cIf-Ma5eqk01VjKTgAmBTmUOmZJk.ttf"}},{family:"Fresca",files:{regular:"https://fonts.gstatic.com/s/fresca/v18/6ae94K--SKgCzbM2Gr0W13DKPA.ttf"}},{family:"Frijole",files:{regular:"https://fonts.gstatic.com/s/frijole/v14/uU9PCBUR8oakM2BQ7xPb3vyHmlI.ttf"}},{family:"Fruktur",files:{regular:"https://fonts.gstatic.com/s/fruktur/v27/SZc53FHsOru5QYsMfz3GkUrS8DI.ttf",italic:"https://fonts.gstatic.com/s/fruktur/v27/SZc73FHsOru5QYsMTz_MlWjX4DJXgQ.ttf"}},{family:"Fugaz One",files:{regular:"https://fonts.gstatic.com/s/fugazone/v15/rax_HiWKp9EAITukFslMBBJek0vA8A.ttf"}},{family:"Fuggles",files:{regular:"https://fonts.gstatic.com/s/fuggles/v9/k3kQo8UEJOlD1hpOTd7iL0nAMaM.ttf"}},{family:"Fuzzy Bubbles",files:{700:"https://fonts.gstatic.com/s/fuzzybubbles/v5/6qLbKZMbrgv9pwtjPEVNV0F2Ds_WQxMAZkM1pn4.ttf",regular:"https://fonts.gstatic.com/s/fuzzybubbles/v5/6qLGKZMbrgv9pwtjPEVNV0F2NnP5Zxsreko.ttf"}},{family:"GFS Didot",files:{regular:"https://fonts.gstatic.com/s/gfsdidot/v15/Jqzh5TybZ9vZMWFssvwiF-fGFSCGAA.ttf"}},{family:"GFS Neohellenic",files:{700:"https://fonts.gstatic.com/s/gfsneohellenic/v25/8QIUdiDOrfiq0b7R8O1Iw9WLcY5rkYdr644fWsRO9w.ttf",regular:"https://fonts.gstatic.com/s/gfsneohellenic/v25/8QIRdiDOrfiq0b7R8O1Iw9WLcY5TLahP46UDUw.ttf",italic:"https://fonts.gstatic.com/s/gfsneohellenic/v25/8QITdiDOrfiq0b7R8O1Iw9WLcY5jL6JLwaATU91X.ttf","700italic":"https://fonts.gstatic.com/s/gfsneohellenic/v25/8QIWdiDOrfiq0b7R8O1Iw9WLcY5jL5r37oQbeMFe985V.ttf"}},{family:"Gabriela",files:{regular:"https://fonts.gstatic.com/s/gabriela/v17/qkBWXvsO6sreR8E-b_m-zrpHmRzC.ttf"}},{family:"Gaegu",files:{300:"https://fonts.gstatic.com/s/gaegu/v15/TuGSUVB6Up9NU57nifw74sdtBk0x.ttf",700:"https://fonts.gstatic.com/s/gaegu/v15/TuGSUVB6Up9NU573jvw74sdtBk0x.ttf",regular:"https://fonts.gstatic.com/s/gaegu/v15/TuGfUVB6Up9NU6ZLodgzydtk.ttf"}},{family:"Gafata",files:{regular:"https://fonts.gstatic.com/s/gafata/v16/XRXV3I6Cn0VJKon4MuyAbsrVcA.ttf"}},{family:"Gajraj One",files:{regular:"https://fonts.gstatic.com/s/gajrajone/v3/1cX2aUDCDpXsuWVb1jIjr1GqhcitzeM.ttf"}},{family:"Galada",files:{regular:"https://fonts.gstatic.com/s/galada/v14/H4cmBXyGmcjXlUX-8iw-4Lqggw.ttf"}},{family:"Galdeano",files:{regular:"https://fonts.gstatic.com/s/galdeano/v22/uU9MCBoQ4YOqOW1boDPx8PCOg0uX.ttf"}},{family:"Galindo",files:{regular:"https://fonts.gstatic.com/s/galindo/v20/HI_KiYMeLqVKqwyuQ5HiRp-dhpQ.ttf"}},{family:"Gamja Flower",files:{regular:"https://fonts.gstatic.com/s/gamjaflower/v20/6NUR8FiKJg-Pa0rM6uN40Z4kyf9Fdty2ew.ttf"}},{family:"Gantari",files:{100:"https://fonts.gstatic.com/s/gantari/v1/jVyV7nvyB2HL8iZyDk4GVvSZ5MtC9g0gOz3wa5GD2qnm.ttf",200:"https://fonts.gstatic.com/s/gantari/v1/jVyV7nvyB2HL8iZyDk4GVvSZ5MtC9g2gOj3wa5GD2qnm.ttf",300:"https://fonts.gstatic.com/s/gantari/v1/jVyV7nvyB2HL8iZyDk4GVvSZ5MtC9g1-Oj3wa5GD2qnm.ttf",500:"https://fonts.gstatic.com/s/gantari/v1/jVyV7nvyB2HL8iZyDk4GVvSZ5MtC9g0SOj3wa5GD2qnm.ttf",600:"https://fonts.gstatic.com/s/gantari/v1/jVyV7nvyB2HL8iZyDk4GVvSZ5MtC9g3-PT3wa5GD2qnm.ttf",700:"https://fonts.gstatic.com/s/gantari/v1/jVyV7nvyB2HL8iZyDk4GVvSZ5MtC9g3HPT3wa5GD2qnm.ttf",800:"https://fonts.gstatic.com/s/gantari/v1/jVyV7nvyB2HL8iZyDk4GVvSZ5MtC9g2gPT3wa5GD2qnm.ttf",900:"https://fonts.gstatic.com/s/gantari/v1/jVyV7nvyB2HL8iZyDk4GVvSZ5MtC9g2JPT3wa5GD2qnm.ttf",regular:"https://fonts.gstatic.com/s/gantari/v1/jVyV7nvyB2HL8iZyDk4GVvSZ5MtC9g0gOj3wa5GD2qnm.ttf","100italic":"https://fonts.gstatic.com/s/gantari/v1/jVyb7nvyB2HL8iZyJEc0qSzwj1Hs8RjoedWyYZWh37nmpWc.ttf","200italic":"https://fonts.gstatic.com/s/gantari/v1/jVyb7nvyB2HL8iZyJEc0qSzwj1Hs8RjoeVWzYZWh37nmpWc.ttf","300italic":"https://fonts.gstatic.com/s/gantari/v1/jVyb7nvyB2HL8iZyJEc0qSzwj1Hs8RjoeYuzYZWh37nmpWc.ttf",italic:"https://fonts.gstatic.com/s/gantari/v1/jVyb7nvyB2HL8iZyJEc0qSzwj1Hs8RjoedWzYZWh37nmpWc.ttf","500italic":"https://fonts.gstatic.com/s/gantari/v1/jVyb7nvyB2HL8iZyJEc0qSzwj1Hs8RjoeeezYZWh37nmpWc.ttf","600italic":"https://fonts.gstatic.com/s/gantari/v1/jVyb7nvyB2HL8iZyJEc0qSzwj1Hs8RjoeQu0YZWh37nmpWc.ttf","700italic":"https://fonts.gstatic.com/s/gantari/v1/jVyb7nvyB2HL8iZyJEc0qSzwj1Hs8RjoeTK0YZWh37nmpWc.ttf","800italic":"https://fonts.gstatic.com/s/gantari/v1/jVyb7nvyB2HL8iZyJEc0qSzwj1Hs8RjoeVW0YZWh37nmpWc.ttf","900italic":"https://fonts.gstatic.com/s/gantari/v1/jVyb7nvyB2HL8iZyJEc0qSzwj1Hs8RjoeXy0YZWh37nmpWc.ttf"}},{family:"Gayathri",files:{100:"https://fonts.gstatic.com/s/gayathri/v15/MCoWzAb429DbBilWLLhc-pvSA_gA2W8.ttf",700:"https://fonts.gstatic.com/s/gayathri/v15/MCoXzAb429DbBilWLLiE37v4LfQJwHbn.ttf",regular:"https://fonts.gstatic.com/s/gayathri/v15/MCoQzAb429DbBilWLIA48J_wBugA.ttf"}},{family:"Gelasio",files:{500:"https://fonts.gstatic.com/s/gelasio/v10/cIf4MaFfvUQxTTqS_N2CRGEsnIJkWL4.ttf",600:"https://fonts.gstatic.com/s/gelasio/v10/cIf4MaFfvUQxTTqS_PGFRGEsnIJkWL4.ttf",700:"https://fonts.gstatic.com/s/gelasio/v10/cIf4MaFfvUQxTTqS_JWERGEsnIJkWL4.ttf",regular:"https://fonts.gstatic.com/s/gelasio/v10/cIf9MaFfvUQxTTqSxCmrYGkHgIs.ttf",italic:"https://fonts.gstatic.com/s/gelasio/v10/cIf_MaFfvUQxTTqS9CuhZEsCkIt9QQ.ttf","500italic":"https://fonts.gstatic.com/s/gelasio/v10/cIf6MaFfvUQxTTqS9CuZkGImmKBhSL7Y1Q.ttf","600italic":"https://fonts.gstatic.com/s/gelasio/v10/cIf6MaFfvUQxTTqS9CuZvGUmmKBhSL7Y1Q.ttf","700italic":"https://fonts.gstatic.com/s/gelasio/v10/cIf6MaFfvUQxTTqS9CuZ2GQmmKBhSL7Y1Q.ttf"}},{family:"Gemunu Libre",files:{200:"https://fonts.gstatic.com/s/gemunulibre/v12/X7n34bQ6Cfy7jKGXVE_YlqnbEQAFP-PIuTCp05iJPvSLeMXPIWA.ttf",300:"https://fonts.gstatic.com/s/gemunulibre/v12/X7n34bQ6Cfy7jKGXVE_YlqnbEQAFP-PIuTCp00aJPvSLeMXPIWA.ttf",500:"https://fonts.gstatic.com/s/gemunulibre/v12/X7n34bQ6Cfy7jKGXVE_YlqnbEQAFP-PIuTCp0yqJPvSLeMXPIWA.ttf",600:"https://fonts.gstatic.com/s/gemunulibre/v12/X7n34bQ6Cfy7jKGXVE_YlqnbEQAFP-PIuTCp08aOPvSLeMXPIWA.ttf",700:"https://fonts.gstatic.com/s/gemunulibre/v12/X7n34bQ6Cfy7jKGXVE_YlqnbEQAFP-PIuTCp0_-OPvSLeMXPIWA.ttf",800:"https://fonts.gstatic.com/s/gemunulibre/v12/X7n34bQ6Cfy7jKGXVE_YlqnbEQAFP-PIuTCp05iOPvSLeMXPIWA.ttf",regular:"https://fonts.gstatic.com/s/gemunulibre/v12/X7n34bQ6Cfy7jKGXVE_YlqnbEQAFP-PIuTCp0xiJPvSLeMXPIWA.ttf"}},{family:"Genos",files:{100:"https://fonts.gstatic.com/s/genos/v10/SlGNmQqPqpUOYTYjacb0Hc91fTwVqknorUK6K7ZsAg.ttf",200:"https://fonts.gstatic.com/s/genos/v10/SlGNmQqPqpUOYTYjacb0Hc91fTwVKkjorUK6K7ZsAg.ttf",300:"https://fonts.gstatic.com/s/genos/v10/SlGNmQqPqpUOYTYjacb0Hc91fTwV9EjorUK6K7ZsAg.ttf",500:"https://fonts.gstatic.com/s/genos/v10/SlGNmQqPqpUOYTYjacb0Hc91fTwVmEjorUK6K7ZsAg.ttf",600:"https://fonts.gstatic.com/s/genos/v10/SlGNmQqPqpUOYTYjacb0Hc91fTwVdE_orUK6K7ZsAg.ttf",700:"https://fonts.gstatic.com/s/genos/v10/SlGNmQqPqpUOYTYjacb0Hc91fTwVTU_orUK6K7ZsAg.ttf",800:"https://fonts.gstatic.com/s/genos/v10/SlGNmQqPqpUOYTYjacb0Hc91fTwVKk_orUK6K7ZsAg.ttf",900:"https://fonts.gstatic.com/s/genos/v10/SlGNmQqPqpUOYTYjacb0Hc91fTwVA0_orUK6K7ZsAg.ttf",regular:"https://fonts.gstatic.com/s/genos/v10/SlGNmQqPqpUOYTYjacb0Hc91fTwVqkjorUK6K7ZsAg.ttf","100italic":"https://fonts.gstatic.com/s/genos/v10/SlGPmQqPqpUOYRwqWzksdKTv0zsAYgsA70i-CbN8Ard7.ttf","200italic":"https://fonts.gstatic.com/s/genos/v10/SlGPmQqPqpUOYRwqWzksdKTv0zsAYguA7ki-CbN8Ard7.ttf","300italic":"https://fonts.gstatic.com/s/genos/v10/SlGPmQqPqpUOYRwqWzksdKTv0zsAYgte7ki-CbN8Ard7.ttf",italic:"https://fonts.gstatic.com/s/genos/v10/SlGPmQqPqpUOYRwqWzksdKTv0zsAYgsA7ki-CbN8Ard7.ttf","500italic":"https://fonts.gstatic.com/s/genos/v10/SlGPmQqPqpUOYRwqWzksdKTv0zsAYgsy7ki-CbN8Ard7.ttf","600italic":"https://fonts.gstatic.com/s/genos/v10/SlGPmQqPqpUOYRwqWzksdKTv0zsAYgve6Ui-CbN8Ard7.ttf","700italic":"https://fonts.gstatic.com/s/genos/v10/SlGPmQqPqpUOYRwqWzksdKTv0zsAYgvn6Ui-CbN8Ard7.ttf","800italic":"https://fonts.gstatic.com/s/genos/v10/SlGPmQqPqpUOYRwqWzksdKTv0zsAYguA6Ui-CbN8Ard7.ttf","900italic":"https://fonts.gstatic.com/s/genos/v10/SlGPmQqPqpUOYRwqWzksdKTv0zsAYgup6Ui-CbN8Ard7.ttf"}},{family:"Gentium Book Plus",files:{700:"https://fonts.gstatic.com/s/gentiumbookplus/v1/vEFO2-RHBgUK5fbjKxRpbBtJPyRpocojWpbGhs_cfKe1.ttf",regular:"https://fonts.gstatic.com/s/gentiumbookplus/v1/vEFL2-RHBgUK5fbjKxRpbBtJPyRpofKfdbLOrdPV.ttf",italic:"https://fonts.gstatic.com/s/gentiumbookplus/v1/vEFN2-RHBgUK5fbjKxRpbBtJPyRpocKdf7bsqMPVZb4.ttf","700italic":"https://fonts.gstatic.com/s/gentiumbookplus/v1/vEFA2-RHBgUK5fbjKxRpbBtJPyRpocKdRwrDjMv-ebe1Els.ttf"}},{family:"Gentium Plus",files:{700:"https://fonts.gstatic.com/s/gentiumplus/v2/IurC6Ytw-oSPaZ00r2bNe8VRMLRo4EYx_ofHsw.ttf",regular:"https://fonts.gstatic.com/s/gentiumplus/v2/Iurd6Ytw-oSPaZ00r2bNe8VpjJtM6G0t9w.ttf",italic:"https://fonts.gstatic.com/s/gentiumplus/v2/IurD6Ytw-oSPaZ00r2bNe8VZjpFIymg9957e.ttf","700italic":"https://fonts.gstatic.com/s/gentiumplus/v2/IurA6Ytw-oSPaZ00r2bNe8VZjqn05Uw13ILXs-h6.ttf"}},{family:"Geo",files:{regular:"https://fonts.gstatic.com/s/geo/v19/CSRz4zRZlufVL3BmQjlCbQ.ttf",italic:"https://fonts.gstatic.com/s/geo/v19/CSRx4zRZluflLXpiYDxSbf8r.ttf"}},{family:"Georama",files:{100:"https://fonts.gstatic.com/s/georama/v8/MCo5zAn438bIEyxFf6swMnNpvPcUwW4u4yRcDh-ZjxApn9K5GvktmQsL5_tgbg.ttf",200:"https://fonts.gstatic.com/s/georama/v8/MCo5zAn438bIEyxFf6swMnNpvPcUwW4u4yRcDh-ZjxApn9K5mvgtmQsL5_tgbg.ttf",300:"https://fonts.gstatic.com/s/georama/v8/MCo5zAn438bIEyxFf6swMnNpvPcUwW4u4yRcDh-ZjxApn9K5RPgtmQsL5_tgbg.ttf",500:"https://fonts.gstatic.com/s/georama/v8/MCo5zAn438bIEyxFf6swMnNpvPcUwW4u4yRcDh-ZjxApn9K5KPgtmQsL5_tgbg.ttf",600:"https://fonts.gstatic.com/s/georama/v8/MCo5zAn438bIEyxFf6swMnNpvPcUwW4u4yRcDh-ZjxApn9K5xP8tmQsL5_tgbg.ttf",700:"https://fonts.gstatic.com/s/georama/v8/MCo5zAn438bIEyxFf6swMnNpvPcUwW4u4yRcDh-ZjxApn9K5_f8tmQsL5_tgbg.ttf",800:"https://fonts.gstatic.com/s/georama/v8/MCo5zAn438bIEyxFf6swMnNpvPcUwW4u4yRcDh-ZjxApn9K5mv8tmQsL5_tgbg.ttf",900:"https://fonts.gstatic.com/s/georama/v8/MCo5zAn438bIEyxFf6swMnNpvPcUwW4u4yRcDh-ZjxApn9K5s_8tmQsL5_tgbg.ttf",regular:"https://fonts.gstatic.com/s/georama/v8/MCo5zAn438bIEyxFf6swMnNpvPcUwW4u4yRcDh-ZjxApn9K5GvgtmQsL5_tgbg.ttf","100italic":"https://fonts.gstatic.com/s/georama/v8/MCo_zAn438bIEyxFVaIC0ZMQ72G6xnvmodYVPOBB5nuzMdWs0rvF2wEPxf5wbh3T.ttf","200italic":"https://fonts.gstatic.com/s/georama/v8/MCo_zAn438bIEyxFVaIC0ZMQ72G6xnvmodYVPOBB5nuzMdWs0rtF2gEPxf5wbh3T.ttf","300italic":"https://fonts.gstatic.com/s/georama/v8/MCo_zAn438bIEyxFVaIC0ZMQ72G6xnvmodYVPOBB5nuzMdWs0rub2gEPxf5wbh3T.ttf",italic:"https://fonts.gstatic.com/s/georama/v8/MCo_zAn438bIEyxFVaIC0ZMQ72G6xnvmodYVPOBB5nuzMdWs0rvF2gEPxf5wbh3T.ttf","500italic":"https://fonts.gstatic.com/s/georama/v8/MCo_zAn438bIEyxFVaIC0ZMQ72G6xnvmodYVPOBB5nuzMdWs0rv32gEPxf5wbh3T.ttf","600italic":"https://fonts.gstatic.com/s/georama/v8/MCo_zAn438bIEyxFVaIC0ZMQ72G6xnvmodYVPOBB5nuzMdWs0rsb3QEPxf5wbh3T.ttf","700italic":"https://fonts.gstatic.com/s/georama/v8/MCo_zAn438bIEyxFVaIC0ZMQ72G6xnvmodYVPOBB5nuzMdWs0rsi3QEPxf5wbh3T.ttf","800italic":"https://fonts.gstatic.com/s/georama/v8/MCo_zAn438bIEyxFVaIC0ZMQ72G6xnvmodYVPOBB5nuzMdWs0rtF3QEPxf5wbh3T.ttf","900italic":"https://fonts.gstatic.com/s/georama/v8/MCo_zAn438bIEyxFVaIC0ZMQ72G6xnvmodYVPOBB5nuzMdWs0rts3QEPxf5wbh3T.ttf"}},{family:"Geostar",files:{regular:"https://fonts.gstatic.com/s/geostar/v22/sykz-yx4n701VLOftSq9-trEvlQ.ttf"}},{family:"Geostar Fill",files:{regular:"https://fonts.gstatic.com/s/geostarfill/v22/AMOWz4SWuWiXFfjEohxQ9os0U1K2w9lb4g.ttf"}},{family:"Germania One",files:{regular:"https://fonts.gstatic.com/s/germaniaone/v20/Fh4yPjrqIyv2ucM2qzBjeS3ezAJONau6ew.ttf"}},{family:"Gideon Roman",files:{regular:"https://fonts.gstatic.com/s/gideonroman/v8/e3tmeuGrVOys8sxzZgWlmXoge0PWovdU4w.ttf"}},{family:"Gidugu",files:{regular:"https://fonts.gstatic.com/s/gidugu/v21/L0x8DFMkk1Uf6w3RvPCmRSlUig.ttf"}},{family:"Gilda Display",files:{regular:"https://fonts.gstatic.com/s/gildadisplay/v14/t5tmIRoYMoaYG0WEOh7HwMeR7TnFrpOHYh4.ttf"}},{family:"Girassol",files:{regular:"https://fonts.gstatic.com/s/girassol/v17/JTUUjIo_-DK48laaNC9Nz2pJzxbi.ttf"}},{family:"Give You Glory",files:{regular:"https://fonts.gstatic.com/s/giveyouglory/v15/8QIQdiHOgt3vv4LR7ahjw9-XYc1zB4ZD6rwa.ttf"}},{family:"Glass Antiqua",files:{regular:"https://fonts.gstatic.com/s/glassantiqua/v20/xfu30Wr0Wn3NOQM2piC0uXOjnL_wN6fRUkY.ttf"}},{family:"Glegoo",files:{700:"https://fonts.gstatic.com/s/glegoo/v14/_Xmu-HQyrTKWaw2xN4a9CKRpzimMsg.ttf",regular:"https://fonts.gstatic.com/s/glegoo/v14/_Xmt-HQyrTKWaw2Ji6mZAI91xw.ttf"}},{family:"Gloock",files:{regular:"https://fonts.gstatic.com/s/gloock/v2/Iurb6YFw84WUY4N5jxylBrdRjQ.ttf"}},{family:"Gloria Hallelujah",files:{regular:"https://fonts.gstatic.com/s/gloriahallelujah/v17/LYjYdHv3kUk9BMV96EIswT9DIbW-MLSy3TKEvkCF.ttf"}},{family:"Glory",files:{100:"https://fonts.gstatic.com/s/glory/v13/q5uasoi9Lf1w5t3Est24nq9blIRQwIiDpn-dDi9EOQ.ttf",200:"https://fonts.gstatic.com/s/glory/v13/q5uasoi9Lf1w5t3Est24nq9blIRQQImDpn-dDi9EOQ.ttf",300:"https://fonts.gstatic.com/s/glory/v13/q5uasoi9Lf1w5t3Est24nq9blIRQnomDpn-dDi9EOQ.ttf",500:"https://fonts.gstatic.com/s/glory/v13/q5uasoi9Lf1w5t3Est24nq9blIRQ8omDpn-dDi9EOQ.ttf",600:"https://fonts.gstatic.com/s/glory/v13/q5uasoi9Lf1w5t3Est24nq9blIRQHo6Dpn-dDi9EOQ.ttf",700:"https://fonts.gstatic.com/s/glory/v13/q5uasoi9Lf1w5t3Est24nq9blIRQJ46Dpn-dDi9EOQ.ttf",800:"https://fonts.gstatic.com/s/glory/v13/q5uasoi9Lf1w5t3Est24nq9blIRQQI6Dpn-dDi9EOQ.ttf",regular:"https://fonts.gstatic.com/s/glory/v13/q5uasoi9Lf1w5t3Est24nq9blIRQwImDpn-dDi9EOQ.ttf","100italic":"https://fonts.gstatic.com/s/glory/v13/q5uYsoi9Lf1w5vfNgCJg98TBOoNFCMpr5HWZLCpUOaM6.ttf","200italic":"https://fonts.gstatic.com/s/glory/v13/q5uYsoi9Lf1w5vfNgCJg98TBOoNFCMrr5XWZLCpUOaM6.ttf","300italic":"https://fonts.gstatic.com/s/glory/v13/q5uYsoi9Lf1w5vfNgCJg98TBOoNFCMo15XWZLCpUOaM6.ttf",italic:"https://fonts.gstatic.com/s/glory/v13/q5uYsoi9Lf1w5vfNgCJg98TBOoNFCMpr5XWZLCpUOaM6.ttf","500italic":"https://fonts.gstatic.com/s/glory/v13/q5uYsoi9Lf1w5vfNgCJg98TBOoNFCMpZ5XWZLCpUOaM6.ttf","600italic":"https://fonts.gstatic.com/s/glory/v13/q5uYsoi9Lf1w5vfNgCJg98TBOoNFCMq14nWZLCpUOaM6.ttf","700italic":"https://fonts.gstatic.com/s/glory/v13/q5uYsoi9Lf1w5vfNgCJg98TBOoNFCMqM4nWZLCpUOaM6.ttf","800italic":"https://fonts.gstatic.com/s/glory/v13/q5uYsoi9Lf1w5vfNgCJg98TBOoNFCMrr4nWZLCpUOaM6.ttf"}},{family:"Gluten",files:{100:"https://fonts.gstatic.com/s/gluten/v10/Hhy_U5gk9fW7OUdVIPh2zD_RSqQJ__A15jgJsn-Bhb_yI8Vb7B1Luni7ciJh.ttf",200:"https://fonts.gstatic.com/s/gluten/v10/Hhy_U5gk9fW7OUdVIPh2zD_RSqQJ__A15jgJsn-Bhb_yI8Xb7R1Luni7ciJh.ttf",300:"https://fonts.gstatic.com/s/gluten/v10/Hhy_U5gk9fW7OUdVIPh2zD_RSqQJ__A15jgJsn-Bhb_yI8UF7R1Luni7ciJh.ttf",500:"https://fonts.gstatic.com/s/gluten/v10/Hhy_U5gk9fW7OUdVIPh2zD_RSqQJ__A15jgJsn-Bhb_yI8Vp7R1Luni7ciJh.ttf",600:"https://fonts.gstatic.com/s/gluten/v10/Hhy_U5gk9fW7OUdVIPh2zD_RSqQJ__A15jgJsn-Bhb_yI8WF6h1Luni7ciJh.ttf",700:"https://fonts.gstatic.com/s/gluten/v10/Hhy_U5gk9fW7OUdVIPh2zD_RSqQJ__A15jgJsn-Bhb_yI8W86h1Luni7ciJh.ttf",800:"https://fonts.gstatic.com/s/gluten/v10/Hhy_U5gk9fW7OUdVIPh2zD_RSqQJ__A15jgJsn-Bhb_yI8Xb6h1Luni7ciJh.ttf",900:"https://fonts.gstatic.com/s/gluten/v10/Hhy_U5gk9fW7OUdVIPh2zD_RSqQJ__A15jgJsn-Bhb_yI8Xy6h1Luni7ciJh.ttf",regular:"https://fonts.gstatic.com/s/gluten/v10/Hhy_U5gk9fW7OUdVIPh2zD_RSqQJ__A15jgJsn-Bhb_yI8Vb7R1Luni7ciJh.ttf"}},{family:"Goblin One",files:{regular:"https://fonts.gstatic.com/s/goblinone/v22/CSR64z1ZnOqZRjRCBVY_TOcATNt_pOU.ttf"}},{family:"Gochi Hand",files:{regular:"https://fonts.gstatic.com/s/gochihand/v19/hES06XlsOjtJsgCkx1PkTo71-n0nXWA.ttf"}},{family:"Goldman",files:{700:"https://fonts.gstatic.com/s/goldman/v16/pe0rMIWbN4JFplR2FI5XIteQB9Zra1U.ttf",regular:"https://fonts.gstatic.com/s/goldman/v16/pe0uMIWbN4JFplR2LDJ4Bt-7G98.ttf"}},{family:"Golos Text",files:{500:"https://fonts.gstatic.com/s/golostext/v4/q5uXsoe9Lv5t7Meb31EcOR9UdVTNs822plVjRQ5cEr8zXcyx.ttf",600:"https://fonts.gstatic.com/s/golostext/v4/q5uXsoe9Lv5t7Meb31EcOR9UdVTNs822plWPQg5cEr8zXcyx.ttf",700:"https://fonts.gstatic.com/s/golostext/v4/q5uXsoe9Lv5t7Meb31EcOR9UdVTNs822plW2Qg5cEr8zXcyx.ttf",800:"https://fonts.gstatic.com/s/golostext/v4/q5uXsoe9Lv5t7Meb31EcOR9UdVTNs822plXRQg5cEr8zXcyx.ttf",900:"https://fonts.gstatic.com/s/golostext/v4/q5uXsoe9Lv5t7Meb31EcOR9UdVTNs822plX4Qg5cEr8zXcyx.ttf",regular:"https://fonts.gstatic.com/s/golostext/v4/q5uXsoe9Lv5t7Meb31EcOR9UdVTNs822plVRRQ5cEr8zXcyx.ttf"}},{family:"Gorditas",files:{700:"https://fonts.gstatic.com/s/gorditas/v20/ll84K2aTVD26DsPEtThUIooIvAoShA1i.ttf",regular:"https://fonts.gstatic.com/s/gorditas/v20/ll8_K2aTVD26DsPEtQDoDa4AlxYb.ttf"}},{family:"Gothic A1",files:{100:"https://fonts.gstatic.com/s/gothica1/v13/CSR74z5ZnPydRjlCCwlCCMcqYtd2vfwk.ttf",200:"https://fonts.gstatic.com/s/gothica1/v13/CSR44z5ZnPydRjlCCwlCpOYKSPl6tOU9Eg.ttf",300:"https://fonts.gstatic.com/s/gothica1/v13/CSR44z5ZnPydRjlCCwlCwOUKSPl6tOU9Eg.ttf",500:"https://fonts.gstatic.com/s/gothica1/v13/CSR44z5ZnPydRjlCCwlCmOQKSPl6tOU9Eg.ttf",600:"https://fonts.gstatic.com/s/gothica1/v13/CSR44z5ZnPydRjlCCwlCtOMKSPl6tOU9Eg.ttf",700:"https://fonts.gstatic.com/s/gothica1/v13/CSR44z5ZnPydRjlCCwlC0OIKSPl6tOU9Eg.ttf",800:"https://fonts.gstatic.com/s/gothica1/v13/CSR44z5ZnPydRjlCCwlCzOEKSPl6tOU9Eg.ttf",900:"https://fonts.gstatic.com/s/gothica1/v13/CSR44z5ZnPydRjlCCwlC6OAKSPl6tOU9Eg.ttf",regular:"https://fonts.gstatic.com/s/gothica1/v13/CSR94z5ZnPydRjlCCwl6bM0uQNJmvQ.ttf"}},{family:"Gotu",files:{regular:"https://fonts.gstatic.com/s/gotu/v14/o-0FIpksx3QOlH0Lioh6-hU.ttf"}},{family:"Goudy Bookletter 1911",files:{regular:"https://fonts.gstatic.com/s/goudybookletter1911/v15/sykt-z54laciWfKv-kX8krex0jDiD2HbY6I5tRbXZ4IXAA.ttf"}},{family:"Gowun Batang",files:{700:"https://fonts.gstatic.com/s/gowunbatang/v7/ijwNs5nhRMIjYsdSgcMa3wRZ4J7awssxJii23w.ttf",regular:"https://fonts.gstatic.com/s/gowunbatang/v7/ijwSs5nhRMIjYsdSgcMa3wRhXLH-yuAtLw.ttf"}},{family:"Gowun Dodum",files:{regular:"https://fonts.gstatic.com/s/gowundodum/v7/3Jn5SD_00GqwlBnWc1TUJF0FfORL0fNy.ttf"}},{family:"Graduate",files:{regular:"https://fonts.gstatic.com/s/graduate/v13/C8cg4cs3o2n15t_2YxgR6X2NZAn2.ttf"}},{family:"Grand Hotel",files:{regular:"https://fonts.gstatic.com/s/grandhotel/v14/7Au7p_IgjDKdCRWuR1azpmQNEl0O0kEx.ttf"}},{family:"Grandstander",files:{100:"https://fonts.gstatic.com/s/grandstander/v15/ga6fawtA-GpSsTWrnNHPCSIMZhhKpFjyNZIQD1-_D3jWttFGmQk.ttf",200:"https://fonts.gstatic.com/s/grandstander/v15/ga6fawtA-GpSsTWrnNHPCSIMZhhKpFjyNZIQD9--D3jWttFGmQk.ttf",300:"https://fonts.gstatic.com/s/grandstander/v15/ga6fawtA-GpSsTWrnNHPCSIMZhhKpFjyNZIQDwG-D3jWttFGmQk.ttf",500:"https://fonts.gstatic.com/s/grandstander/v15/ga6fawtA-GpSsTWrnNHPCSIMZhhKpFjyNZIQD22-D3jWttFGmQk.ttf",600:"https://fonts.gstatic.com/s/grandstander/v15/ga6fawtA-GpSsTWrnNHPCSIMZhhKpFjyNZIQD4G5D3jWttFGmQk.ttf",700:"https://fonts.gstatic.com/s/grandstander/v15/ga6fawtA-GpSsTWrnNHPCSIMZhhKpFjyNZIQD7i5D3jWttFGmQk.ttf",800:"https://fonts.gstatic.com/s/grandstander/v15/ga6fawtA-GpSsTWrnNHPCSIMZhhKpFjyNZIQD9-5D3jWttFGmQk.ttf",900:"https://fonts.gstatic.com/s/grandstander/v15/ga6fawtA-GpSsTWrnNHPCSIMZhhKpFjyNZIQD_a5D3jWttFGmQk.ttf",regular:"https://fonts.gstatic.com/s/grandstander/v15/ga6fawtA-GpSsTWrnNHPCSIMZhhKpFjyNZIQD1--D3jWttFGmQk.ttf","100italic":"https://fonts.gstatic.com/s/grandstander/v15/ga6ZawtA-GpSsTWrnNHPCSImbyq1fDGZrzwXGpf95zrcsvNDiQlBYQ.ttf","200italic":"https://fonts.gstatic.com/s/grandstander/v15/ga6ZawtA-GpSsTWrnNHPCSImbyq1fDGZrzwXGpf9ZzvcsvNDiQlBYQ.ttf","300italic":"https://fonts.gstatic.com/s/grandstander/v15/ga6ZawtA-GpSsTWrnNHPCSImbyq1fDGZrzwXGpf9uTvcsvNDiQlBYQ.ttf",italic:"https://fonts.gstatic.com/s/grandstander/v15/ga6ZawtA-GpSsTWrnNHPCSImbyq1fDGZrzwXGpf95zvcsvNDiQlBYQ.ttf","500italic":"https://fonts.gstatic.com/s/grandstander/v15/ga6ZawtA-GpSsTWrnNHPCSImbyq1fDGZrzwXGpf91TvcsvNDiQlBYQ.ttf","600italic":"https://fonts.gstatic.com/s/grandstander/v15/ga6ZawtA-GpSsTWrnNHPCSImbyq1fDGZrzwXGpf9OTzcsvNDiQlBYQ.ttf","700italic":"https://fonts.gstatic.com/s/grandstander/v15/ga6ZawtA-GpSsTWrnNHPCSImbyq1fDGZrzwXGpf9ADzcsvNDiQlBYQ.ttf","800italic":"https://fonts.gstatic.com/s/grandstander/v15/ga6ZawtA-GpSsTWrnNHPCSImbyq1fDGZrzwXGpf9ZzzcsvNDiQlBYQ.ttf","900italic":"https://fonts.gstatic.com/s/grandstander/v15/ga6ZawtA-GpSsTWrnNHPCSImbyq1fDGZrzwXGpf9TjzcsvNDiQlBYQ.ttf"}},{family:"Grape Nuts",files:{regular:"https://fonts.gstatic.com/s/grapenuts/v2/syk2-yF4iLM2RfKj4F7k3tLvol2RN1E.ttf"}},{family:"Gravitas One",files:{regular:"https://fonts.gstatic.com/s/gravitasone/v15/5h1diZ4hJ3cblKy3LWakKQmaDWRNr3DzbQ.ttf"}},{family:"Great Vibes",files:{regular:"https://fonts.gstatic.com/s/greatvibes/v15/RWmMoKWR9v4ksMfaWd_JN-XCg6UKDXlq.ttf"}},{family:"Grechen Fuemen",files:{regular:"https://fonts.gstatic.com/s/grechenfuemen/v7/vEFI2_tHEQ4d5ObgKxBzZh0MAWgc-NaXXq7H.ttf"}},{family:"Grenze",files:{100:"https://fonts.gstatic.com/s/grenze/v15/O4ZRFGb7hR12BxqPm2IjuAkalnmd.ttf",200:"https://fonts.gstatic.com/s/grenze/v15/O4ZQFGb7hR12BxqPN0MDkicWn2CEyw.ttf",300:"https://fonts.gstatic.com/s/grenze/v15/O4ZQFGb7hR12BxqPU0ADkicWn2CEyw.ttf",500:"https://fonts.gstatic.com/s/grenze/v15/O4ZQFGb7hR12BxqPC0EDkicWn2CEyw.ttf",600:"https://fonts.gstatic.com/s/grenze/v15/O4ZQFGb7hR12BxqPJ0YDkicWn2CEyw.ttf",700:"https://fonts.gstatic.com/s/grenze/v15/O4ZQFGb7hR12BxqPQ0cDkicWn2CEyw.ttf",800:"https://fonts.gstatic.com/s/grenze/v15/O4ZQFGb7hR12BxqPX0QDkicWn2CEyw.ttf",900:"https://fonts.gstatic.com/s/grenze/v15/O4ZQFGb7hR12BxqPe0UDkicWn2CEyw.ttf","100italic":"https://fonts.gstatic.com/s/grenze/v15/O4ZXFGb7hR12BxqH_VpHsg04k2md0kI.ttf","200italic":"https://fonts.gstatic.com/s/grenze/v15/O4ZWFGb7hR12BxqH_Vrrky0SvWWUy1uW.ttf","300italic":"https://fonts.gstatic.com/s/grenze/v15/O4ZWFGb7hR12BxqH_VqPkC0SvWWUy1uW.ttf",regular:"https://fonts.gstatic.com/s/grenze/v15/O4ZTFGb7hR12Bxq3_2gnmgwKlg.ttf",italic:"https://fonts.gstatic.com/s/grenze/v15/O4ZRFGb7hR12BxqH_WIjuAkalnmd.ttf","500italic":"https://fonts.gstatic.com/s/grenze/v15/O4ZWFGb7hR12BxqH_VrXkS0SvWWUy1uW.ttf","600italic":"https://fonts.gstatic.com/s/grenze/v15/O4ZWFGb7hR12BxqH_Vr7li0SvWWUy1uW.ttf","700italic":"https://fonts.gstatic.com/s/grenze/v15/O4ZWFGb7hR12BxqH_Vqfly0SvWWUy1uW.ttf","800italic":"https://fonts.gstatic.com/s/grenze/v15/O4ZWFGb7hR12BxqH_VqDlC0SvWWUy1uW.ttf","900italic":"https://fonts.gstatic.com/s/grenze/v15/O4ZWFGb7hR12BxqH_VqnlS0SvWWUy1uW.ttf"}},{family:"Grenze Gotisch",files:{100:"https://fonts.gstatic.com/s/grenzegotisch/v16/Fh4hPjjqNDz1osh_jX9YfjudpBJBNV5y5wf_k1i5Lz5UcICdYPSd_w.ttf",200:"https://fonts.gstatic.com/s/grenzegotisch/v16/Fh4hPjjqNDz1osh_jX9YfjudpBJBNV5y5wf_k1i5rz9UcICdYPSd_w.ttf",300:"https://fonts.gstatic.com/s/grenzegotisch/v16/Fh4hPjjqNDz1osh_jX9YfjudpBJBNV5y5wf_k1i5cT9UcICdYPSd_w.ttf",500:"https://fonts.gstatic.com/s/grenzegotisch/v16/Fh4hPjjqNDz1osh_jX9YfjudpBJBNV5y5wf_k1i5HT9UcICdYPSd_w.ttf",600:"https://fonts.gstatic.com/s/grenzegotisch/v16/Fh4hPjjqNDz1osh_jX9YfjudpBJBNV5y5wf_k1i58ThUcICdYPSd_w.ttf",700:"https://fonts.gstatic.com/s/grenzegotisch/v16/Fh4hPjjqNDz1osh_jX9YfjudpBJBNV5y5wf_k1i5yDhUcICdYPSd_w.ttf",800:"https://fonts.gstatic.com/s/grenzegotisch/v16/Fh4hPjjqNDz1osh_jX9YfjudpBJBNV5y5wf_k1i5rzhUcICdYPSd_w.ttf",900:"https://fonts.gstatic.com/s/grenzegotisch/v16/Fh4hPjjqNDz1osh_jX9YfjudpBJBNV5y5wf_k1i5hjhUcICdYPSd_w.ttf",regular:"https://fonts.gstatic.com/s/grenzegotisch/v16/Fh4hPjjqNDz1osh_jX9YfjudpBJBNV5y5wf_k1i5Lz9UcICdYPSd_w.ttf"}},{family:"Grey Qo",files:{regular:"https://fonts.gstatic.com/s/greyqo/v7/BXRrvF_Nmv_TyXxNDOtQ9Wf0QcE.ttf"}},{family:"Griffy",files:{regular:"https://fonts.gstatic.com/s/griffy/v22/FwZa7-ox2FQh9kfwSNSEwM2zpA.ttf"}},{family:"Gruppo",files:{regular:"https://fonts.gstatic.com/s/gruppo/v17/WwkfxPmzE06v_ZWFWXDAOIEQUQ.ttf"}},{family:"Gudea",files:{700:"https://fonts.gstatic.com/s/gudea/v15/neIIzCqgsI0mp9gz26WGHK06UY30.ttf",regular:"https://fonts.gstatic.com/s/gudea/v15/neIFzCqgsI0mp-CP9IGON7Ez.ttf",italic:"https://fonts.gstatic.com/s/gudea/v15/neILzCqgsI0mp9CN_oWsMqEzSJQ.ttf"}},{family:"Gugi",files:{regular:"https://fonts.gstatic.com/s/gugi/v13/A2BVn5dXywshVA6A9DEfgqM.ttf"}},{family:"Gulzar",files:{regular:"https://fonts.gstatic.com/s/gulzar/v6/Wnz6HAc9eB3HB2ILYTwZqg_MPQ.ttf"}},{family:"Gupter",files:{500:"https://fonts.gstatic.com/s/gupter/v14/2-cl9JNmxJqPO1Qslb-bUsT5rZhaZg.ttf",700:"https://fonts.gstatic.com/s/gupter/v14/2-cl9JNmxJqPO1Qs3bmbUsT5rZhaZg.ttf",regular:"https://fonts.gstatic.com/s/gupter/v14/2-cm9JNmxJqPO1QUYZa_Wu_lpA.ttf"}},{family:"Gurajada",files:{regular:"https://fonts.gstatic.com/s/gurajada/v15/FwZY7-Qx308m-l-0Kd6A4sijpFu_.ttf"}},{family:"Gwendolyn",files:{700:"https://fonts.gstatic.com/s/gwendolyn/v5/qkBSXvoO_M3CSss-d7emWLtvmC7HONiSFQ.ttf",regular:"https://fonts.gstatic.com/s/gwendolyn/v5/qkBXXvoO_M3CSss-d7ee5JRLkAXbMQ.ttf"}},{family:"Habibi",files:{regular:"https://fonts.gstatic.com/s/habibi/v21/CSR-4zFWkuqcTTNCShJeZOYySQ.ttf"}},{family:"Hachi Maru Pop",files:{regular:"https://fonts.gstatic.com/s/hachimarupop/v17/HI_TiYoRLqpLrEiMAuO9Ysfz7rW1EM_btd8u.ttf"}},{family:"Hahmlet",files:{100:"https://fonts.gstatic.com/s/hahmlet/v13/BngXUXpCQ3nKpIo0TfPyfCdXfaeU4RhKOdjobsO-aVxn.ttf",200:"https://fonts.gstatic.com/s/hahmlet/v13/BngXUXpCQ3nKpIo0TfPyfCdXfaeU4RjKONjobsO-aVxn.ttf",300:"https://fonts.gstatic.com/s/hahmlet/v13/BngXUXpCQ3nKpIo0TfPyfCdXfaeU4RgUONjobsO-aVxn.ttf",500:"https://fonts.gstatic.com/s/hahmlet/v13/BngXUXpCQ3nKpIo0TfPyfCdXfaeU4Rh4ONjobsO-aVxn.ttf",600:"https://fonts.gstatic.com/s/hahmlet/v13/BngXUXpCQ3nKpIo0TfPyfCdXfaeU4RiUP9jobsO-aVxn.ttf",700:"https://fonts.gstatic.com/s/hahmlet/v13/BngXUXpCQ3nKpIo0TfPyfCdXfaeU4RitP9jobsO-aVxn.ttf",800:"https://fonts.gstatic.com/s/hahmlet/v13/BngXUXpCQ3nKpIo0TfPyfCdXfaeU4RjKP9jobsO-aVxn.ttf",900:"https://fonts.gstatic.com/s/hahmlet/v13/BngXUXpCQ3nKpIo0TfPyfCdXfaeU4RjjP9jobsO-aVxn.ttf",regular:"https://fonts.gstatic.com/s/hahmlet/v13/BngXUXpCQ3nKpIo0TfPyfCdXfaeU4RhKONjobsO-aVxn.ttf"}},{family:"Halant",files:{300:"https://fonts.gstatic.com/s/halant/v14/u-490qaujRI2Pbsvc_pCmwZqcwdRXg.ttf",500:"https://fonts.gstatic.com/s/halant/v14/u-490qaujRI2PbsvK_tCmwZqcwdRXg.ttf",600:"https://fonts.gstatic.com/s/halant/v14/u-490qaujRI2PbsvB_xCmwZqcwdRXg.ttf",700:"https://fonts.gstatic.com/s/halant/v14/u-490qaujRI2PbsvY_1CmwZqcwdRXg.ttf",regular:"https://fonts.gstatic.com/s/halant/v14/u-4-0qaujRI2PbsX39Jmky12eg.ttf"}},{family:"Hammersmith One",files:{regular:"https://fonts.gstatic.com/s/hammersmithone/v17/qWcyB624q4L_C4jGQ9IK0O_dFlnbshsks4MRXw.ttf"}},{family:"Hanalei",files:{regular:"https://fonts.gstatic.com/s/hanalei/v23/E21n_dD8iufIjBRHXzgmVydREus.ttf"}},{family:"Hanalei Fill",files:{regular:"https://fonts.gstatic.com/s/hanaleifill/v22/fC1mPYtObGbfyQznIaQzPQiMVwLBplm9aw.ttf"}},{family:"Handlee",files:{regular:"https://fonts.gstatic.com/s/handlee/v14/-F6xfjBsISg9aMakDmr6oilJ3ik.ttf"}},{family:"Hanken Grotesk",files:{100:"https://fonts.gstatic.com/s/hankengrotesk/v8/ieVq2YZDLWuGJpnzaiwFXS9tYvBRzyFLlZg_f_Ncs2da4fpNzXhRKA.ttf",200:"https://fonts.gstatic.com/s/hankengrotesk/v8/ieVq2YZDLWuGJpnzaiwFXS9tYvBRzyFLlZg_f_NcM2Za4fpNzXhRKA.ttf",300:"https://fonts.gstatic.com/s/hankengrotesk/v8/ieVq2YZDLWuGJpnzaiwFXS9tYvBRzyFLlZg_f_Nc7WZa4fpNzXhRKA.ttf",500:"https://fonts.gstatic.com/s/hankengrotesk/v8/ieVq2YZDLWuGJpnzaiwFXS9tYvBRzyFLlZg_f_NcgWZa4fpNzXhRKA.ttf",600:"https://fonts.gstatic.com/s/hankengrotesk/v8/ieVq2YZDLWuGJpnzaiwFXS9tYvBRzyFLlZg_f_NcbWFa4fpNzXhRKA.ttf",700:"https://fonts.gstatic.com/s/hankengrotesk/v8/ieVq2YZDLWuGJpnzaiwFXS9tYvBRzyFLlZg_f_NcVGFa4fpNzXhRKA.ttf",800:"https://fonts.gstatic.com/s/hankengrotesk/v8/ieVq2YZDLWuGJpnzaiwFXS9tYvBRzyFLlZg_f_NcM2Fa4fpNzXhRKA.ttf",900:"https://fonts.gstatic.com/s/hankengrotesk/v8/ieVq2YZDLWuGJpnzaiwFXS9tYvBRzyFLlZg_f_NcGmFa4fpNzXhRKA.ttf",regular:"https://fonts.gstatic.com/s/hankengrotesk/v8/ieVq2YZDLWuGJpnzaiwFXS9tYvBRzyFLlZg_f_Ncs2Za4fpNzXhRKA.ttf","100italic":"https://fonts.gstatic.com/s/hankengrotesk/v8/ieVo2YZDLWuGJpnzaiwFXS9tYtpY_d6T_POl0fRJeyWyo_BJ731BKMSK.ttf","200italic":"https://fonts.gstatic.com/s/hankengrotesk/v8/ieVo2YZDLWuGJpnzaiwFXS9tYtpY_d6T_POl0fRJeyUyovBJ731BKMSK.ttf","300italic":"https://fonts.gstatic.com/s/hankengrotesk/v8/ieVo2YZDLWuGJpnzaiwFXS9tYtpY_d6T_POl0fRJeyXsovBJ731BKMSK.ttf",italic:"https://fonts.gstatic.com/s/hankengrotesk/v8/ieVo2YZDLWuGJpnzaiwFXS9tYtpY_d6T_POl0fRJeyWyovBJ731BKMSK.ttf","500italic":"https://fonts.gstatic.com/s/hankengrotesk/v8/ieVo2YZDLWuGJpnzaiwFXS9tYtpY_d6T_POl0fRJeyWAovBJ731BKMSK.ttf","600italic":"https://fonts.gstatic.com/s/hankengrotesk/v8/ieVo2YZDLWuGJpnzaiwFXS9tYtpY_d6T_POl0fRJeyVspfBJ731BKMSK.ttf","700italic":"https://fonts.gstatic.com/s/hankengrotesk/v8/ieVo2YZDLWuGJpnzaiwFXS9tYtpY_d6T_POl0fRJeyVVpfBJ731BKMSK.ttf","800italic":"https://fonts.gstatic.com/s/hankengrotesk/v8/ieVo2YZDLWuGJpnzaiwFXS9tYtpY_d6T_POl0fRJeyUypfBJ731BKMSK.ttf","900italic":"https://fonts.gstatic.com/s/hankengrotesk/v8/ieVo2YZDLWuGJpnzaiwFXS9tYtpY_d6T_POl0fRJeyUbpfBJ731BKMSK.ttf"}},{family:"Hanuman",files:{100:"https://fonts.gstatic.com/s/hanuman/v22/VuJzdNvD15HhpJJBQMLdPKNiaRpFvg.ttf",300:"https://fonts.gstatic.com/s/hanuman/v22/VuJ0dNvD15HhpJJBQAr_HIlMZRNcp0o.ttf",700:"https://fonts.gstatic.com/s/hanuman/v22/VuJ0dNvD15HhpJJBQBr4HIlMZRNcp0o.ttf",900:"https://fonts.gstatic.com/s/hanuman/v22/VuJ0dNvD15HhpJJBQCL6HIlMZRNcp0o.ttf",regular:"https://fonts.gstatic.com/s/hanuman/v22/VuJxdNvD15HhpJJBeKbXOIFneRo.ttf"}},{family:"Happy Monkey",files:{regular:"https://fonts.gstatic.com/s/happymonkey/v14/K2F2fZZcl-9SXwl5F_C4R_OABwD2bWqVjw.ttf"}},{family:"Harmattan",files:{500:"https://fonts.gstatic.com/s/harmattan/v19/gokpH6L2DkFvVvRp9Xprv2mHmNZEq6TTFw.ttf",600:"https://fonts.gstatic.com/s/harmattan/v19/gokpH6L2DkFvVvRp9Xprk26HmNZEq6TTFw.ttf",700:"https://fonts.gstatic.com/s/harmattan/v19/gokpH6L2DkFvVvRp9Xpr92-HmNZEq6TTFw.ttf",regular:"https://fonts.gstatic.com/s/harmattan/v19/goksH6L2DkFvVvRp9XpTS0CjkP1Yog.ttf"}},{family:"Headland One",files:{regular:"https://fonts.gstatic.com/s/headlandone/v16/yYLu0hHR2vKnp89Tk1TCq3Tx0PlTeZ3mJA.ttf"}},{family:"Heebo",files:{100:"https://fonts.gstatic.com/s/heebo/v21/NGSpv5_NC0k9P_v6ZUCbLRAHxK1EiS2cckOnz02SXQ.ttf",200:"https://fonts.gstatic.com/s/heebo/v21/NGSpv5_NC0k9P_v6ZUCbLRAHxK1ECSycckOnz02SXQ.ttf",300:"https://fonts.gstatic.com/s/heebo/v21/NGSpv5_NC0k9P_v6ZUCbLRAHxK1E1yycckOnz02SXQ.ttf",500:"https://fonts.gstatic.com/s/heebo/v21/NGSpv5_NC0k9P_v6ZUCbLRAHxK1EuyycckOnz02SXQ.ttf",600:"https://fonts.gstatic.com/s/heebo/v21/NGSpv5_NC0k9P_v6ZUCbLRAHxK1EVyucckOnz02SXQ.ttf",700:"https://fonts.gstatic.com/s/heebo/v21/NGSpv5_NC0k9P_v6ZUCbLRAHxK1EbiucckOnz02SXQ.ttf",800:"https://fonts.gstatic.com/s/heebo/v21/NGSpv5_NC0k9P_v6ZUCbLRAHxK1ECSucckOnz02SXQ.ttf",900:"https://fonts.gstatic.com/s/heebo/v21/NGSpv5_NC0k9P_v6ZUCbLRAHxK1EICucckOnz02SXQ.ttf",regular:"https://fonts.gstatic.com/s/heebo/v21/NGSpv5_NC0k9P_v6ZUCbLRAHxK1EiSycckOnz02SXQ.ttf"}},{family:"Henny Penny",files:{regular:"https://fonts.gstatic.com/s/hennypenny/v17/wXKvE3UZookzsxz_kjGSfMQqt3M7tMDT.ttf"}},{family:"Hepta Slab",files:{100:"https://fonts.gstatic.com/s/heptaslab/v21/ea8JadoyU_jkHdalebHvyWVNdYoIsHe5HvkV5jfbY5B0NBkz.ttf",200:"https://fonts.gstatic.com/s/heptaslab/v21/ea8JadoyU_jkHdalebHvyWVNdYoIsHe5HvmV5zfbY5B0NBkz.ttf",300:"https://fonts.gstatic.com/s/heptaslab/v21/ea8JadoyU_jkHdalebHvyWVNdYoIsHe5HvlL5zfbY5B0NBkz.ttf",500:"https://fonts.gstatic.com/s/heptaslab/v21/ea8JadoyU_jkHdalebHvyWVNdYoIsHe5Hvkn5zfbY5B0NBkz.ttf",600:"https://fonts.gstatic.com/s/heptaslab/v21/ea8JadoyU_jkHdalebHvyWVNdYoIsHe5HvnL4DfbY5B0NBkz.ttf",700:"https://fonts.gstatic.com/s/heptaslab/v21/ea8JadoyU_jkHdalebHvyWVNdYoIsHe5Hvny4DfbY5B0NBkz.ttf",800:"https://fonts.gstatic.com/s/heptaslab/v21/ea8JadoyU_jkHdalebHvyWVNdYoIsHe5HvmV4DfbY5B0NBkz.ttf",900:"https://fonts.gstatic.com/s/heptaslab/v21/ea8JadoyU_jkHdalebHvyWVNdYoIsHe5Hvm84DfbY5B0NBkz.ttf",regular:"https://fonts.gstatic.com/s/heptaslab/v21/ea8JadoyU_jkHdalebHvyWVNdYoIsHe5HvkV5zfbY5B0NBkz.ttf"}},{family:"Herr Von Muellerhoff",files:{regular:"https://fonts.gstatic.com/s/herrvonmuellerhoff/v16/WBL6rFjRZkREW8WqmCWYLgCkQKXb4CAft3c6_qJY3QPQ.ttf"}},{family:"Hi Melody",files:{regular:"https://fonts.gstatic.com/s/himelody/v13/46ktlbP8Vnz0pJcqCTbEf29E31BBGA.ttf"}},{family:"Hina Mincho",files:{regular:"https://fonts.gstatic.com/s/hinamincho/v9/2sDaZGBRhpXa2Jjz5w5LAGW8KbkVZTHR.ttf"}},{family:"Hind",files:{300:"https://fonts.gstatic.com/s/hind/v16/5aU19_a8oxmIfMJaIRuYjDpf5Vw.ttf",500:"https://fonts.gstatic.com/s/hind/v16/5aU19_a8oxmIfJpbIRuYjDpf5Vw.ttf",600:"https://fonts.gstatic.com/s/hind/v16/5aU19_a8oxmIfLZcIRuYjDpf5Vw.ttf",700:"https://fonts.gstatic.com/s/hind/v16/5aU19_a8oxmIfNJdIRuYjDpf5Vw.ttf",regular:"https://fonts.gstatic.com/s/hind/v16/5aU69_a8oxmIRG5yBROzkDM.ttf"}},{family:"Hind Guntur",files:{300:"https://fonts.gstatic.com/s/hindguntur/v12/wXKyE3UZrok56nvamSuJd_yGn1czn9zaj5Ju.ttf",500:"https://fonts.gstatic.com/s/hindguntur/v12/wXKyE3UZrok56nvamSuJd_zenlczn9zaj5Ju.ttf",600:"https://fonts.gstatic.com/s/hindguntur/v12/wXKyE3UZrok56nvamSuJd_zymVczn9zaj5Ju.ttf",700:"https://fonts.gstatic.com/s/hindguntur/v12/wXKyE3UZrok56nvamSuJd_yWmFczn9zaj5Ju.ttf",regular:"https://fonts.gstatic.com/s/hindguntur/v12/wXKvE3UZrok56nvamSuJd8Qqt3M7tMDT.ttf"}},{family:"Hind Madurai",files:{300:"https://fonts.gstatic.com/s/hindmadurai/v11/f0Xu0e2p98ZvDXdZQIOcpqjfXaUnecsoMJ0b_g.ttf",500:"https://fonts.gstatic.com/s/hindmadurai/v11/f0Xu0e2p98ZvDXdZQIOcpqjfBaQnecsoMJ0b_g.ttf",600:"https://fonts.gstatic.com/s/hindmadurai/v11/f0Xu0e2p98ZvDXdZQIOcpqjfKaMnecsoMJ0b_g.ttf",700:"https://fonts.gstatic.com/s/hindmadurai/v11/f0Xu0e2p98ZvDXdZQIOcpqjfTaInecsoMJ0b_g.ttf",regular:"https://fonts.gstatic.com/s/hindmadurai/v11/f0Xx0e2p98ZvDXdZQIOcpqjn8Y0DceA0OQ.ttf"}},{family:"Hind Siliguri",files:{300:"https://fonts.gstatic.com/s/hindsiliguri/v12/ijwOs5juQtsyLLR5jN4cxBEoRDf44uEfKiGvxts.ttf",500:"https://fonts.gstatic.com/s/hindsiliguri/v12/ijwOs5juQtsyLLR5jN4cxBEoRG_54uEfKiGvxts.ttf",600:"https://fonts.gstatic.com/s/hindsiliguri/v12/ijwOs5juQtsyLLR5jN4cxBEoREP-4uEfKiGvxts.ttf",700:"https://fonts.gstatic.com/s/hindsiliguri/v12/ijwOs5juQtsyLLR5jN4cxBEoRCf_4uEfKiGvxts.ttf",regular:"https://fonts.gstatic.com/s/hindsiliguri/v12/ijwTs5juQtsyLLR5jN4cxBEofJvQxuk0Nig.ttf"}},{family:"Hind Vadodara",files:{300:"https://fonts.gstatic.com/s/hindvadodara/v13/neIQzCKvrIcn5pbuuuriV9tTSDn3iXM0oSOL2Yw.ttf",500:"https://fonts.gstatic.com/s/hindvadodara/v13/neIQzCKvrIcn5pbuuuriV9tTSGH2iXM0oSOL2Yw.ttf",600:"https://fonts.gstatic.com/s/hindvadodara/v13/neIQzCKvrIcn5pbuuuriV9tTSE3xiXM0oSOL2Yw.ttf",700:"https://fonts.gstatic.com/s/hindvadodara/v13/neIQzCKvrIcn5pbuuuriV9tTSCnwiXM0oSOL2Yw.ttf",regular:"https://fonts.gstatic.com/s/hindvadodara/v13/neINzCKvrIcn5pbuuuriV9tTcJXfrXsfvSo.ttf"}},{family:"Holtwood One SC",files:{regular:"https://fonts.gstatic.com/s/holtwoodonesc/v16/yYLx0hLR0P-3vMFSk1TCq3Txg5B3cbb6LZttyg.ttf"}},{family:"Homemade Apple",files:{regular:"https://fonts.gstatic.com/s/homemadeapple/v18/Qw3EZQFXECDrI2q789EKQZJob3x9Vnksi4M7.ttf"}},{family:"Homenaje",files:{regular:"https://fonts.gstatic.com/s/homenaje/v16/FwZY7-Q-xVAi_l-6Ld6A4sijpFu_.ttf"}},{family:"Hubballi",files:{regular:"https://fonts.gstatic.com/s/hubballi/v4/o-0JIpUj3WIZ1RFN56B7yBBNYuSF.ttf"}},{family:"Hurricane",files:{regular:"https://fonts.gstatic.com/s/hurricane/v5/pe0sMIuULZxTolZ5YldyAv2-C99ycg.ttf"}},{family:"IBM Plex Mono",files:{100:"https://fonts.gstatic.com/s/ibmplexmono/v19/-F6pfjptAgt5VM-kVkqdyU8n3kwq0n1hj-sNFQ.ttf",200:"https://fonts.gstatic.com/s/ibmplexmono/v19/-F6qfjptAgt5VM-kVkqdyU8n3uAL8ldPg-IUDNg.ttf",300:"https://fonts.gstatic.com/s/ibmplexmono/v19/-F6qfjptAgt5VM-kVkqdyU8n3oQI8ldPg-IUDNg.ttf",500:"https://fonts.gstatic.com/s/ibmplexmono/v19/-F6qfjptAgt5VM-kVkqdyU8n3twJ8ldPg-IUDNg.ttf",600:"https://fonts.gstatic.com/s/ibmplexmono/v19/-F6qfjptAgt5VM-kVkqdyU8n3vAO8ldPg-IUDNg.ttf",700:"https://fonts.gstatic.com/s/ibmplexmono/v19/-F6qfjptAgt5VM-kVkqdyU8n3pQP8ldPg-IUDNg.ttf","100italic":"https://fonts.gstatic.com/s/ibmplexmono/v19/-F6rfjptAgt5VM-kVkqdyU8n1ioStndlre4dFcFh.ttf","200italic":"https://fonts.gstatic.com/s/ibmplexmono/v19/-F6sfjptAgt5VM-kVkqdyU8n1ioSGlZFh8ARHNh4zg.ttf","300italic":"https://fonts.gstatic.com/s/ibmplexmono/v19/-F6sfjptAgt5VM-kVkqdyU8n1ioSflVFh8ARHNh4zg.ttf",regular:"https://fonts.gstatic.com/s/ibmplexmono/v19/-F63fjptAgt5VM-kVkqdyU8n5igg1l9kn-s.ttf",italic:"https://fonts.gstatic.com/s/ibmplexmono/v19/-F6pfjptAgt5VM-kVkqdyU8n1ioq0n1hj-sNFQ.ttf","500italic":"https://fonts.gstatic.com/s/ibmplexmono/v19/-F6sfjptAgt5VM-kVkqdyU8n1ioSJlRFh8ARHNh4zg.ttf","600italic":"https://fonts.gstatic.com/s/ibmplexmono/v19/-F6sfjptAgt5VM-kVkqdyU8n1ioSClNFh8ARHNh4zg.ttf","700italic":"https://fonts.gstatic.com/s/ibmplexmono/v19/-F6sfjptAgt5VM-kVkqdyU8n1ioSblJFh8ARHNh4zg.ttf"}},{family:"IBM Plex Sans",files:{100:"https://fonts.gstatic.com/s/ibmplexsans/v19/zYX-KVElMYYaJe8bpLHnCwDKjbLeEKxIedbzDw.ttf",200:"https://fonts.gstatic.com/s/ibmplexsans/v19/zYX9KVElMYYaJe8bpLHnCwDKjR7_MIZmdd_qFmo.ttf",300:"https://fonts.gstatic.com/s/ibmplexsans/v19/zYX9KVElMYYaJe8bpLHnCwDKjXr8MIZmdd_qFmo.ttf",500:"https://fonts.gstatic.com/s/ibmplexsans/v19/zYX9KVElMYYaJe8bpLHnCwDKjSL9MIZmdd_qFmo.ttf",600:"https://fonts.gstatic.com/s/ibmplexsans/v19/zYX9KVElMYYaJe8bpLHnCwDKjQ76MIZmdd_qFmo.ttf",700:"https://fonts.gstatic.com/s/ibmplexsans/v19/zYX9KVElMYYaJe8bpLHnCwDKjWr7MIZmdd_qFmo.ttf","100italic":"https://fonts.gstatic.com/s/ibmplexsans/v19/zYX8KVElMYYaJe8bpLHnCwDKhdTmdKZMW9PjD3N8.ttf","200italic":"https://fonts.gstatic.com/s/ibmplexsans/v19/zYX7KVElMYYaJe8bpLHnCwDKhdTm2Idscf3vBmpl8A.ttf","300italic":"https://fonts.gstatic.com/s/ibmplexsans/v19/zYX7KVElMYYaJe8bpLHnCwDKhdTmvIRscf3vBmpl8A.ttf",regular:"https://fonts.gstatic.com/s/ibmplexsans/v19/zYXgKVElMYYaJe8bpLHnCwDKtdbUFI5NadY.ttf",italic:"https://fonts.gstatic.com/s/ibmplexsans/v19/zYX-KVElMYYaJe8bpLHnCwDKhdTeEKxIedbzDw.ttf","500italic":"https://fonts.gstatic.com/s/ibmplexsans/v19/zYX7KVElMYYaJe8bpLHnCwDKhdTm5IVscf3vBmpl8A.ttf","600italic":"https://fonts.gstatic.com/s/ibmplexsans/v19/zYX7KVElMYYaJe8bpLHnCwDKhdTmyIJscf3vBmpl8A.ttf","700italic":"https://fonts.gstatic.com/s/ibmplexsans/v19/zYX7KVElMYYaJe8bpLHnCwDKhdTmrINscf3vBmpl8A.ttf"}},{family:"IBM Plex Sans Arabic",files:{100:"https://fonts.gstatic.com/s/ibmplexsansarabic/v12/Qw3MZRtWPQCuHme67tEYUIx3Kh0PHR9N6YNe3PC5eMlAMg0.ttf",200:"https://fonts.gstatic.com/s/ibmplexsansarabic/v12/Qw3NZRtWPQCuHme67tEYUIx3Kh0PHR9N6YPy_dCTVsVJKxTs.ttf",300:"https://fonts.gstatic.com/s/ibmplexsansarabic/v12/Qw3NZRtWPQCuHme67tEYUIx3Kh0PHR9N6YOW_tCTVsVJKxTs.ttf",500:"https://fonts.gstatic.com/s/ibmplexsansarabic/v12/Qw3NZRtWPQCuHme67tEYUIx3Kh0PHR9N6YPO_9CTVsVJKxTs.ttf",600:"https://fonts.gstatic.com/s/ibmplexsansarabic/v12/Qw3NZRtWPQCuHme67tEYUIx3Kh0PHR9N6YPi-NCTVsVJKxTs.ttf",700:"https://fonts.gstatic.com/s/ibmplexsansarabic/v12/Qw3NZRtWPQCuHme67tEYUIx3Kh0PHR9N6YOG-dCTVsVJKxTs.ttf",regular:"https://fonts.gstatic.com/s/ibmplexsansarabic/v12/Qw3CZRtWPQCuHme67tEYUIx3Kh0PHR9N6bs61vSbfdlA.ttf"}},{family:"IBM Plex Sans Condensed",files:{100:"https://fonts.gstatic.com/s/ibmplexsanscondensed/v14/Gg8nN4UfRSqiPg7Jn2ZI12V4DCEwkj1E4LVeHY7KyKvBgYsMDhM.ttf",200:"https://fonts.gstatic.com/s/ibmplexsanscondensed/v14/Gg8gN4UfRSqiPg7Jn2ZI12V4DCEwkj1E4LVeHY5m6Yvrr4cFFwq5.ttf",300:"https://fonts.gstatic.com/s/ibmplexsanscondensed/v14/Gg8gN4UfRSqiPg7Jn2ZI12V4DCEwkj1E4LVeHY4C6ovrr4cFFwq5.ttf",500:"https://fonts.gstatic.com/s/ibmplexsanscondensed/v14/Gg8gN4UfRSqiPg7Jn2ZI12V4DCEwkj1E4LVeHY5a64vrr4cFFwq5.ttf",600:"https://fonts.gstatic.com/s/ibmplexsanscondensed/v14/Gg8gN4UfRSqiPg7Jn2ZI12V4DCEwkj1E4LVeHY527Ivrr4cFFwq5.ttf",700:"https://fonts.gstatic.com/s/ibmplexsanscondensed/v14/Gg8gN4UfRSqiPg7Jn2ZI12V4DCEwkj1E4LVeHY4S7Yvrr4cFFwq5.ttf","100italic":"https://fonts.gstatic.com/s/ibmplexsanscondensed/v14/Gg8hN4UfRSqiPg7Jn2ZI12V4DCEwkj1E4LVeHYas8M_LhakJHhOgBg.ttf","200italic":"https://fonts.gstatic.com/s/ibmplexsanscondensed/v14/Gg8iN4UfRSqiPg7Jn2ZI12V4DCEwkj1E4LVeHYas8GPqpYMnEhq5H1w.ttf","300italic":"https://fonts.gstatic.com/s/ibmplexsanscondensed/v14/Gg8iN4UfRSqiPg7Jn2ZI12V4DCEwkj1E4LVeHYas8AfppYMnEhq5H1w.ttf",regular:"https://fonts.gstatic.com/s/ibmplexsanscondensed/v14/Gg8lN4UfRSqiPg7Jn2ZI12V4DCEwkj1E4LVeHbauwq_jhJsM.ttf",italic:"https://fonts.gstatic.com/s/ibmplexsanscondensed/v14/Gg8nN4UfRSqiPg7Jn2ZI12V4DCEwkj1E4LVeHYasyKvBgYsMDhM.ttf","500italic":"https://fonts.gstatic.com/s/ibmplexsanscondensed/v14/Gg8iN4UfRSqiPg7Jn2ZI12V4DCEwkj1E4LVeHYas8F_opYMnEhq5H1w.ttf","600italic":"https://fonts.gstatic.com/s/ibmplexsanscondensed/v14/Gg8iN4UfRSqiPg7Jn2ZI12V4DCEwkj1E4LVeHYas8HPvpYMnEhq5H1w.ttf","700italic":"https://fonts.gstatic.com/s/ibmplexsanscondensed/v14/Gg8iN4UfRSqiPg7Jn2ZI12V4DCEwkj1E4LVeHYas8BfupYMnEhq5H1w.ttf"}},{family:"IBM Plex Sans Devanagari",files:{100:"https://fonts.gstatic.com/s/ibmplexsansdevanagari/v11/XRXB3JCMvG4IDoS9SubXB6W-UX5iehIMBFR2-O_HMUjwUcjwCEQq.ttf",200:"https://fonts.gstatic.com/s/ibmplexsansdevanagari/v11/XRXA3JCMvG4IDoS9SubXB6W-UX5iehIMBFR2-O_HnWnQe-b8AV0z0w.ttf",300:"https://fonts.gstatic.com/s/ibmplexsansdevanagari/v11/XRXA3JCMvG4IDoS9SubXB6W-UX5iehIMBFR2-O_H-WrQe-b8AV0z0w.ttf",500:"https://fonts.gstatic.com/s/ibmplexsansdevanagari/v11/XRXA3JCMvG4IDoS9SubXB6W-UX5iehIMBFR2-O_HoWvQe-b8AV0z0w.ttf",600:"https://fonts.gstatic.com/s/ibmplexsansdevanagari/v11/XRXA3JCMvG4IDoS9SubXB6W-UX5iehIMBFR2-O_HjWzQe-b8AV0z0w.ttf",700:"https://fonts.gstatic.com/s/ibmplexsansdevanagari/v11/XRXA3JCMvG4IDoS9SubXB6W-UX5iehIMBFR2-O_H6W3Qe-b8AV0z0w.ttf",regular:"https://fonts.gstatic.com/s/ibmplexsansdevanagari/v11/XRXH3JCMvG4IDoS9SubXB6W-UX5iehIMBFR2-O__VUL0c83gCA.ttf"}},{family:"IBM Plex Sans Hebrew",files:{100:"https://fonts.gstatic.com/s/ibmplexsanshebrew/v11/BCa4qYENg9Kw1mpLpO0bGM5lfHAAZHhDXEXB-l0VqDaM7C4.ttf",200:"https://fonts.gstatic.com/s/ibmplexsanshebrew/v11/BCa5qYENg9Kw1mpLpO0bGM5lfHAAZHhDXEVt230_hjqF9Tc2.ttf",300:"https://fonts.gstatic.com/s/ibmplexsanshebrew/v11/BCa5qYENg9Kw1mpLpO0bGM5lfHAAZHhDXEUJ2H0_hjqF9Tc2.ttf",500:"https://fonts.gstatic.com/s/ibmplexsanshebrew/v11/BCa5qYENg9Kw1mpLpO0bGM5lfHAAZHhDXEVR2X0_hjqF9Tc2.ttf",600:"https://fonts.gstatic.com/s/ibmplexsanshebrew/v11/BCa5qYENg9Kw1mpLpO0bGM5lfHAAZHhDXEV93n0_hjqF9Tc2.ttf",700:"https://fonts.gstatic.com/s/ibmplexsanshebrew/v11/BCa5qYENg9Kw1mpLpO0bGM5lfHAAZHhDXEUZ330_hjqF9Tc2.ttf",regular:"https://fonts.gstatic.com/s/ibmplexsanshebrew/v11/BCa2qYENg9Kw1mpLpO0bGM5lfHAAZHhDXH2l8Fk3rSaM.ttf"}},{family:"IBM Plex Sans JP",files:{100:"https://fonts.gstatic.com/s/ibmplexsansjp/v5/Z9XLDn9KbTDf6_f7dISNqYf_tvPT7E7yjPB7twdmHQ.ttf",200:"https://fonts.gstatic.com/s/ibmplexsansjp/v5/Z9XKDn9KbTDf6_f7dISNqYf_tvPT7OLTrNpVuw5_BAM.ttf",300:"https://fonts.gstatic.com/s/ibmplexsansjp/v5/Z9XKDn9KbTDf6_f7dISNqYf_tvPT7IbQrNpVuw5_BAM.ttf",500:"https://fonts.gstatic.com/s/ibmplexsansjp/v5/Z9XKDn9KbTDf6_f7dISNqYf_tvPT7N7RrNpVuw5_BAM.ttf",600:"https://fonts.gstatic.com/s/ibmplexsansjp/v5/Z9XKDn9KbTDf6_f7dISNqYf_tvPT7PLWrNpVuw5_BAM.ttf",700:"https://fonts.gstatic.com/s/ibmplexsansjp/v5/Z9XKDn9KbTDf6_f7dISNqYf_tvPT7JbXrNpVuw5_BAM.ttf",regular:"https://fonts.gstatic.com/s/ibmplexsansjp/v5/Z9XNDn9KbTDf6_f7dISNqYf_tvPT1Cr4iNJ-pwc.ttf"}},{family:"IBM Plex Sans KR",files:{100:"https://fonts.gstatic.com/s/ibmplexsanskr/v10/vEFM2-VJISZe3O_rc3ZVYh4aTwNOyra_X5zCpMrMfA.ttf",200:"https://fonts.gstatic.com/s/ibmplexsanskr/v10/vEFN2-VJISZe3O_rc3ZVYh4aTwNOyhqef7bsqMPVZb4.ttf",300:"https://fonts.gstatic.com/s/ibmplexsanskr/v10/vEFN2-VJISZe3O_rc3ZVYh4aTwNOyn6df7bsqMPVZb4.ttf",500:"https://fonts.gstatic.com/s/ibmplexsanskr/v10/vEFN2-VJISZe3O_rc3ZVYh4aTwNOyiacf7bsqMPVZb4.ttf",600:"https://fonts.gstatic.com/s/ibmplexsanskr/v10/vEFN2-VJISZe3O_rc3ZVYh4aTwNOygqbf7bsqMPVZb4.ttf",700:"https://fonts.gstatic.com/s/ibmplexsanskr/v10/vEFN2-VJISZe3O_rc3ZVYh4aTwNOym6af7bsqMPVZb4.ttf",regular:"https://fonts.gstatic.com/s/ibmplexsanskr/v10/vEFK2-VJISZe3O_rc3ZVYh4aTwNO8tK1W77HtMo.ttf"}},{family:"IBM Plex Sans Thai",files:{100:"https://fonts.gstatic.com/s/ibmplexsansthai/v10/m8JNje1VVIzcq1HzJq2AEdo2Tj_qvLqEatYlR8ZKUqcX.ttf",200:"https://fonts.gstatic.com/s/ibmplexsansthai/v10/m8JMje1VVIzcq1HzJq2AEdo2Tj_qvLqExvcFbehGW74OXw.ttf",300:"https://fonts.gstatic.com/s/ibmplexsansthai/v10/m8JMje1VVIzcq1HzJq2AEdo2Tj_qvLqEovQFbehGW74OXw.ttf",500:"https://fonts.gstatic.com/s/ibmplexsansthai/v10/m8JMje1VVIzcq1HzJq2AEdo2Tj_qvLqE-vUFbehGW74OXw.ttf",600:"https://fonts.gstatic.com/s/ibmplexsansthai/v10/m8JMje1VVIzcq1HzJq2AEdo2Tj_qvLqE1vIFbehGW74OXw.ttf",700:"https://fonts.gstatic.com/s/ibmplexsansthai/v10/m8JMje1VVIzcq1HzJq2AEdo2Tj_qvLqEsvMFbehGW74OXw.ttf",regular:"https://fonts.gstatic.com/s/ibmplexsansthai/v10/m8JPje1VVIzcq1HzJq2AEdo2Tj_qvLq8DtwhZcNaUg.ttf"}},{family:"IBM Plex Sans Thai Looped",files:{100:"https://fonts.gstatic.com/s/ibmplexsansthailooped/v11/tss5AoJJRAhL3BTrK3r2xxbFhvKfyBB6l7hHT30L_HaKpHOtFCQ76Q.ttf",200:"https://fonts.gstatic.com/s/ibmplexsansthailooped/v11/tss6AoJJRAhL3BTrK3r2xxbFhvKfyBB6l7hHT30L_NqrhFmDGC0i8Cc.ttf",300:"https://fonts.gstatic.com/s/ibmplexsansthailooped/v11/tss6AoJJRAhL3BTrK3r2xxbFhvKfyBB6l7hHT30L_L6ohFmDGC0i8Cc.ttf",500:"https://fonts.gstatic.com/s/ibmplexsansthailooped/v11/tss6AoJJRAhL3BTrK3r2xxbFhvKfyBB6l7hHT30L_OaphFmDGC0i8Cc.ttf",600:"https://fonts.gstatic.com/s/ibmplexsansthailooped/v11/tss6AoJJRAhL3BTrK3r2xxbFhvKfyBB6l7hHT30L_MquhFmDGC0i8Cc.ttf",700:"https://fonts.gstatic.com/s/ibmplexsansthailooped/v11/tss6AoJJRAhL3BTrK3r2xxbFhvKfyBB6l7hHT30L_K6vhFmDGC0i8Cc.ttf",regular:"https://fonts.gstatic.com/s/ibmplexsansthailooped/v11/tss_AoJJRAhL3BTrK3r2xxbFhvKfyBB6l7hHT30LxBKAoFGoBCQ.ttf"}},{family:"IBM Plex Serif",files:{100:"https://fonts.gstatic.com/s/ibmplexserif/v19/jizBREVNn1dOx-zrZ2X3pZvkTi182zIZj1bIkNo.ttf",200:"https://fonts.gstatic.com/s/ibmplexserif/v19/jizAREVNn1dOx-zrZ2X3pZvkTi3Q-hIzoVrBicOg.ttf",300:"https://fonts.gstatic.com/s/ibmplexserif/v19/jizAREVNn1dOx-zrZ2X3pZvkTi20-RIzoVrBicOg.ttf",500:"https://fonts.gstatic.com/s/ibmplexserif/v19/jizAREVNn1dOx-zrZ2X3pZvkTi3s-BIzoVrBicOg.ttf",600:"https://fonts.gstatic.com/s/ibmplexserif/v19/jizAREVNn1dOx-zrZ2X3pZvkTi3A_xIzoVrBicOg.ttf",700:"https://fonts.gstatic.com/s/ibmplexserif/v19/jizAREVNn1dOx-zrZ2X3pZvkTi2k_hIzoVrBicOg.ttf","100italic":"https://fonts.gstatic.com/s/ibmplexserif/v19/jizHREVNn1dOx-zrZ2X3pZvkTiUa41YTi3TNgNq55w.ttf","200italic":"https://fonts.gstatic.com/s/ibmplexserif/v19/jizGREVNn1dOx-zrZ2X3pZvkTiUa4_oyq17jjNOg_oc.ttf","300italic":"https://fonts.gstatic.com/s/ibmplexserif/v19/jizGREVNn1dOx-zrZ2X3pZvkTiUa454xq17jjNOg_oc.ttf",regular:"https://fonts.gstatic.com/s/ibmplexserif/v19/jizDREVNn1dOx-zrZ2X3pZvkThUY0TY7ikbI.ttf",italic:"https://fonts.gstatic.com/s/ibmplexserif/v19/jizBREVNn1dOx-zrZ2X3pZvkTiUa2zIZj1bIkNo.ttf","500italic":"https://fonts.gstatic.com/s/ibmplexserif/v19/jizGREVNn1dOx-zrZ2X3pZvkTiUa48Ywq17jjNOg_oc.ttf","600italic":"https://fonts.gstatic.com/s/ibmplexserif/v19/jizGREVNn1dOx-zrZ2X3pZvkTiUa4-o3q17jjNOg_oc.ttf","700italic":"https://fonts.gstatic.com/s/ibmplexserif/v19/jizGREVNn1dOx-zrZ2X3pZvkTiUa4442q17jjNOg_oc.ttf"}},{family:"IM Fell DW Pica",files:{regular:"https://fonts.gstatic.com/s/imfelldwpica/v16/2sDGZGRQotv9nbn2qSl0TxXVYNw9ZAPUvi88MQ.ttf",italic:"https://fonts.gstatic.com/s/imfelldwpica/v16/2sDEZGRQotv9nbn2qSl0TxXVYNwNZgnQnCosMXm0.ttf"}},{family:"IM Fell DW Pica SC",files:{regular:"https://fonts.gstatic.com/s/imfelldwpicasc/v21/0ybjGCAu5PfqkvtGVU15aBhXz3EUrnTW-BiKEUiBGA.ttf"}},{family:"IM Fell Double Pica",files:{regular:"https://fonts.gstatic.com/s/imfelldoublepica/v14/3XF2EqMq_94s9PeKF7Fg4gOKINyMtZ8rT0S1UL5Ayp0.ttf",italic:"https://fonts.gstatic.com/s/imfelldoublepica/v14/3XF0EqMq_94s9PeKF7Fg4gOKINyMtZ8rf0a_VJxF2p2G8g.ttf"}},{family:"IM Fell Double Pica SC",files:{regular:"https://fonts.gstatic.com/s/imfelldoublepicasc/v21/neIazDmuiMkFo6zj_sHpQ8teNbWlwBB_hXjJ4Y0Eeru2dGg.ttf"}},{family:"IM Fell English",files:{regular:"https://fonts.gstatic.com/s/imfellenglish/v14/Ktk1ALSLW8zDe0rthJysWrnLsAz3F6mZVY9Y5w.ttf",italic:"https://fonts.gstatic.com/s/imfellenglish/v14/Ktk3ALSLW8zDe0rthJysWrnLsAzHFaOdd4pI59zg.ttf"}},{family:"IM Fell English SC",files:{regular:"https://fonts.gstatic.com/s/imfellenglishsc/v16/a8IENpD3CDX-4zrWfr1VY879qFF05pZLO4gOg0shzA.ttf"}},{family:"IM Fell French Canon",files:{regular:"https://fonts.gstatic.com/s/imfellfrenchcanon/v21/-F6ufiNtDWYfYc-tDiyiw08rrghJszkK6coVPt1ozoPz.ttf",italic:"https://fonts.gstatic.com/s/imfellfrenchcanon/v21/-F6gfiNtDWYfYc-tDiyiw08rrghJszkK6foXNNlKy5PzzrU.ttf"}},{family:"IM Fell French Canon SC",files:{regular:"https://fonts.gstatic.com/s/imfellfrenchcanonsc/v22/FBVmdCru5-ifcor2bgq9V89khWcmQghEURY7H3c0UBCVIVqH.ttf"}},{family:"IM Fell Great Primer",files:{regular:"https://fonts.gstatic.com/s/imfellgreatprimer/v21/bx6aNwSJtayYxOkbYFsT6hMsLzX7u85rJorXvDo3SQY1.ttf",italic:"https://fonts.gstatic.com/s/imfellgreatprimer/v21/bx6UNwSJtayYxOkbYFsT6hMsLzX7u85rJrrVtj4VTBY1N6U.ttf"}},{family:"IM Fell Great Primer SC",files:{regular:"https://fonts.gstatic.com/s/imfellgreatprimersc/v21/ga6daxBOxyt6sCqz3fjZCTFCTUDMHagsQKdDTLf9BXz0s8FG.ttf"}},{family:"Ibarra Real Nova",files:{500:"https://fonts.gstatic.com/s/ibarrarealnova/v25/sZlSdQiA-DBIDCcaWtQzL4BZHoiDundw4ATyjed3EXdS5MDtVT9TWIvS.ttf",600:"https://fonts.gstatic.com/s/ibarrarealnova/v25/sZlSdQiA-DBIDCcaWtQzL4BZHoiDundw4ATyjed3EXe-48DtVT9TWIvS.ttf",700:"https://fonts.gstatic.com/s/ibarrarealnova/v25/sZlSdQiA-DBIDCcaWtQzL4BZHoiDundw4ATyjed3EXeH48DtVT9TWIvS.ttf",regular:"https://fonts.gstatic.com/s/ibarrarealnova/v25/sZlSdQiA-DBIDCcaWtQzL4BZHoiDundw4ATyjed3EXdg5MDtVT9TWIvS.ttf",italic:"https://fonts.gstatic.com/s/ibarrarealnova/v25/sZlsdQiA-DBIDCcaWtQzL4BZHoiDkH5CH9yb5n3ZFmKopyiuXztxXZvSkTo.ttf","500italic":"https://fonts.gstatic.com/s/ibarrarealnova/v25/sZlsdQiA-DBIDCcaWtQzL4BZHoiDkH5CH9yb5n3ZFmKopxquXztxXZvSkTo.ttf","600italic":"https://fonts.gstatic.com/s/ibarrarealnova/v25/sZlsdQiA-DBIDCcaWtQzL4BZHoiDkH5CH9yb5n3ZFmKop_apXztxXZvSkTo.ttf","700italic":"https://fonts.gstatic.com/s/ibarrarealnova/v25/sZlsdQiA-DBIDCcaWtQzL4BZHoiDkH5CH9yb5n3ZFmKop8-pXztxXZvSkTo.ttf"}},{family:"Iceberg",files:{regular:"https://fonts.gstatic.com/s/iceberg/v20/8QIJdijAiM7o-qnZuIgOq7jkAOw.ttf"}},{family:"Iceland",files:{regular:"https://fonts.gstatic.com/s/iceland/v16/rax9HiuFsdMNOnWPWKxGADBbg0s.ttf"}},{family:"Imbue",files:{100:"https://fonts.gstatic.com/s/imbue/v21/RLpXK5P16Ki3fXhj5cvGrqjocPk4n-gVX3M93TnrnvhoP8iWfOsNNK-Q4xY.ttf",200:"https://fonts.gstatic.com/s/imbue/v21/RLpXK5P16Ki3fXhj5cvGrqjocPk4n-gVX3M93TnrnvhoP0iXfOsNNK-Q4xY.ttf",300:"https://fonts.gstatic.com/s/imbue/v21/RLpXK5P16Ki3fXhj5cvGrqjocPk4n-gVX3M93TnrnvhoP5aXfOsNNK-Q4xY.ttf",500:"https://fonts.gstatic.com/s/imbue/v21/RLpXK5P16Ki3fXhj5cvGrqjocPk4n-gVX3M93TnrnvhoP_qXfOsNNK-Q4xY.ttf",600:"https://fonts.gstatic.com/s/imbue/v21/RLpXK5P16Ki3fXhj5cvGrqjocPk4n-gVX3M93TnrnvhoPxaQfOsNNK-Q4xY.ttf",700:"https://fonts.gstatic.com/s/imbue/v21/RLpXK5P16Ki3fXhj5cvGrqjocPk4n-gVX3M93TnrnvhoPy-QfOsNNK-Q4xY.ttf",800:"https://fonts.gstatic.com/s/imbue/v21/RLpXK5P16Ki3fXhj5cvGrqjocPk4n-gVX3M93TnrnvhoP0iQfOsNNK-Q4xY.ttf",900:"https://fonts.gstatic.com/s/imbue/v21/RLpXK5P16Ki3fXhj5cvGrqjocPk4n-gVX3M93TnrnvhoP2GQfOsNNK-Q4xY.ttf",regular:"https://fonts.gstatic.com/s/imbue/v21/RLpXK5P16Ki3fXhj5cvGrqjocPk4n-gVX3M93TnrnvhoP8iXfOsNNK-Q4xY.ttf"}},{family:"Imperial Script",files:{regular:"https://fonts.gstatic.com/s/imperialscript/v3/5DCPAKrpzy_H98IV2ISnZBbGrVNvPenlvttWNg.ttf"}},{family:"Imprima",files:{regular:"https://fonts.gstatic.com/s/imprima/v18/VEMxRoN7sY3yuy-7-oWHyDzktPo.ttf"}},{family:"Inconsolata",files:{200:"https://fonts.gstatic.com/s/inconsolata/v31/QldgNThLqRwH-OJ1UHjlKENVzkWGVkL3GZQmAwLYxYWI2qfdm7LppwU8aRr8lleY2co.ttf",300:"https://fonts.gstatic.com/s/inconsolata/v31/QldgNThLqRwH-OJ1UHjlKENVzkWGVkL3GZQmAwLYxYWI2qfdm7Lpp9s8aRr8lleY2co.ttf",500:"https://fonts.gstatic.com/s/inconsolata/v31/QldgNThLqRwH-OJ1UHjlKENVzkWGVkL3GZQmAwLYxYWI2qfdm7Lpp7c8aRr8lleY2co.ttf",600:"https://fonts.gstatic.com/s/inconsolata/v31/QldgNThLqRwH-OJ1UHjlKENVzkWGVkL3GZQmAwLYxYWI2qfdm7Lpp1s7aRr8lleY2co.ttf",700:"https://fonts.gstatic.com/s/inconsolata/v31/QldgNThLqRwH-OJ1UHjlKENVzkWGVkL3GZQmAwLYxYWI2qfdm7Lpp2I7aRr8lleY2co.ttf",800:"https://fonts.gstatic.com/s/inconsolata/v31/QldgNThLqRwH-OJ1UHjlKENVzkWGVkL3GZQmAwLYxYWI2qfdm7LppwU7aRr8lleY2co.ttf",900:"https://fonts.gstatic.com/s/inconsolata/v31/QldgNThLqRwH-OJ1UHjlKENVzkWGVkL3GZQmAwLYxYWI2qfdm7Lppyw7aRr8lleY2co.ttf",regular:"https://fonts.gstatic.com/s/inconsolata/v31/QldgNThLqRwH-OJ1UHjlKENVzkWGVkL3GZQmAwLYxYWI2qfdm7Lpp4U8aRr8lleY2co.ttf"}},{family:"Inder",files:{regular:"https://fonts.gstatic.com/s/inder/v14/w8gUH2YoQe8_4vq6pw-P3U4O.ttf"}},{family:"Indie Flower",files:{regular:"https://fonts.gstatic.com/s/indieflower/v17/m8JVjfNVeKWVnh3QMuKkFcZlbkGG1dKEDw.ttf"}},{family:"Ingrid Darling",files:{regular:"https://fonts.gstatic.com/s/ingriddarling/v2/LDIrapaJNxUtSuFdw-9yf4rCPsLOub458jGL.ttf"}},{family:"Inika",files:{700:"https://fonts.gstatic.com/s/inika/v21/rnCr-x5X3QP-pix7auM-mHnOSOuk.ttf",regular:"https://fonts.gstatic.com/s/inika/v21/rnCm-x5X3QP-phTHRcc2s2XH.ttf"}},{family:"Inknut Antiqua",files:{300:"https://fonts.gstatic.com/s/inknutantiqua/v14/Y4GRYax7VC4ot_qNB4nYpBdaKU2vwrj5bBoIYJNf.ttf",500:"https://fonts.gstatic.com/s/inknutantiqua/v14/Y4GRYax7VC4ot_qNB4nYpBdaKU33w7j5bBoIYJNf.ttf",600:"https://fonts.gstatic.com/s/inknutantiqua/v14/Y4GRYax7VC4ot_qNB4nYpBdaKU3bxLj5bBoIYJNf.ttf",700:"https://fonts.gstatic.com/s/inknutantiqua/v14/Y4GRYax7VC4ot_qNB4nYpBdaKU2_xbj5bBoIYJNf.ttf",800:"https://fonts.gstatic.com/s/inknutantiqua/v14/Y4GRYax7VC4ot_qNB4nYpBdaKU2jxrj5bBoIYJNf.ttf",900:"https://fonts.gstatic.com/s/inknutantiqua/v14/Y4GRYax7VC4ot_qNB4nYpBdaKU2Hx7j5bBoIYJNf.ttf",regular:"https://fonts.gstatic.com/s/inknutantiqua/v14/Y4GSYax7VC4ot_qNB4nYpBdaKXUD6pzxRwYB.ttf"}},{family:"Inria Sans",files:{300:"https://fonts.gstatic.com/s/inriasans/v14/ptRPTiqXYfZMCOiVj9kQ3ELaDQtFqeY3fX4.ttf",700:"https://fonts.gstatic.com/s/inriasans/v14/ptRPTiqXYfZMCOiVj9kQ3FLdDQtFqeY3fX4.ttf","300italic":"https://fonts.gstatic.com/s/inriasans/v14/ptRRTiqXYfZMCOiVj9kQ1OzAgQlPrcQybX4pQA.ttf",regular:"https://fonts.gstatic.com/s/inriasans/v14/ptRMTiqXYfZMCOiVj9kQ5O7yKQNute8.ttf",italic:"https://fonts.gstatic.com/s/inriasans/v14/ptROTiqXYfZMCOiVj9kQ1Oz4LSFrpe8uZA.ttf","700italic":"https://fonts.gstatic.com/s/inriasans/v14/ptRRTiqXYfZMCOiVj9kQ1OzAkQ5PrcQybX4pQA.ttf"}},{family:"Inria Serif",files:{300:"https://fonts.gstatic.com/s/inriaserif/v14/fC14PYxPY3rXxEndZJAzN3wAVQjFhFyta3xN.ttf",700:"https://fonts.gstatic.com/s/inriaserif/v14/fC14PYxPY3rXxEndZJAzN3wQUgjFhFyta3xN.ttf","300italic":"https://fonts.gstatic.com/s/inriaserif/v14/fC16PYxPY3rXxEndZJAzN3SuT4THjliPbmxN0_E.ttf",regular:"https://fonts.gstatic.com/s/inriaserif/v14/fC1lPYxPY3rXxEndZJAzN0SsfSzNr0Ck.ttf",italic:"https://fonts.gstatic.com/s/inriaserif/v14/fC1nPYxPY3rXxEndZJAzN3SudyjvqlCkcmU.ttf","700italic":"https://fonts.gstatic.com/s/inriaserif/v14/fC16PYxPY3rXxEndZJAzN3SuT5TAjliPbmxN0_E.ttf"}},{family:"Inspiration",files:{regular:"https://fonts.gstatic.com/s/inspiration/v3/x3dkckPPZa6L4wIg5cZOEvoGnSrlBBsy.ttf"}},{family:"Instrument Sans",files:{500:"https://fonts.gstatic.com/s/instrumentsans/v1/pximypc9vsFDm051Uf6KVwgkfoSxQ0GsQv8ToedPibnr-yp2JGEJOH9npST3-Qf1mS0v3_7Y.ttf",600:"https://fonts.gstatic.com/s/instrumentsans/v1/pximypc9vsFDm051Uf6KVwgkfoSxQ0GsQv8ToedPibnr-yp2JGEJOH9npSQb_gf1mS0v3_7Y.ttf",700:"https://fonts.gstatic.com/s/instrumentsans/v1/pximypc9vsFDm051Uf6KVwgkfoSxQ0GsQv8ToedPibnr-yp2JGEJOH9npSQi_gf1mS0v3_7Y.ttf",regular:"https://fonts.gstatic.com/s/instrumentsans/v1/pximypc9vsFDm051Uf6KVwgkfoSxQ0GsQv8ToedPibnr-yp2JGEJOH9npSTF-Qf1mS0v3_7Y.ttf",italic:"https://fonts.gstatic.com/s/instrumentsans/v1/pxigypc9vsFDm051Uf6KVwgkfoSbSnNPooZAN0lInHGpCWNE27lgU-XJojENuu-2kykN2u7YUwU.ttf","500italic":"https://fonts.gstatic.com/s/instrumentsans/v1/pxigypc9vsFDm051Uf6KVwgkfoSbSnNPooZAN0lInHGpCWNE27lgU-XJojENut22kykN2u7YUwU.ttf","600italic":"https://fonts.gstatic.com/s/instrumentsans/v1/pxigypc9vsFDm051Uf6KVwgkfoSbSnNPooZAN0lInHGpCWNE27lgU-XJojENujGxkykN2u7YUwU.ttf","700italic":"https://fonts.gstatic.com/s/instrumentsans/v1/pxigypc9vsFDm051Uf6KVwgkfoSbSnNPooZAN0lInHGpCWNE27lgU-XJojENugixkykN2u7YUwU.ttf"}},{family:"Instrument Serif",files:{regular:"https://fonts.gstatic.com/s/instrumentserif/v4/jizBRFtNs2ka5fXjeivQ4LroWlx-2zIZj1bIkNo.ttf",italic:"https://fonts.gstatic.com/s/instrumentserif/v4/jizHRFtNs2ka5fXjeivQ4LroWlx-6zATi3TNgNq55w.ttf"}},{family:"Inter",files:{100:"https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyeMZhrib2Bg-4.ttf",200:"https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuDyfMZhrib2Bg-4.ttf",300:"https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuOKfMZhrib2Bg-4.ttf",500:"https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuI6fMZhrib2Bg-4.ttf",600:"https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuGKYMZhrib2Bg-4.ttf",700:"https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuFuYMZhrib2Bg-4.ttf",800:"https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuDyYMZhrib2Bg-4.ttf",900:"https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuBWYMZhrib2Bg-4.ttf",regular:"https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfMZhrib2Bg-4.ttf"}},{family:"Inter Tight",files:{100:"https://fonts.gstatic.com/s/intertight/v3/NGSnv5HMAFg6IuGlBNMjxJEL2VmU3NS7Z2mjDw6qXCRToK8EPg.ttf",200:"https://fonts.gstatic.com/s/intertight/v3/NGSnv5HMAFg6IuGlBNMjxJEL2VmU3NS7Z2mjjw-qXCRToK8EPg.ttf",300:"https://fonts.gstatic.com/s/intertight/v3/NGSnv5HMAFg6IuGlBNMjxJEL2VmU3NS7Z2mjUQ-qXCRToK8EPg.ttf",500:"https://fonts.gstatic.com/s/intertight/v3/NGSnv5HMAFg6IuGlBNMjxJEL2VmU3NS7Z2mjPQ-qXCRToK8EPg.ttf",600:"https://fonts.gstatic.com/s/intertight/v3/NGSnv5HMAFg6IuGlBNMjxJEL2VmU3NS7Z2mj0QiqXCRToK8EPg.ttf",700:"https://fonts.gstatic.com/s/intertight/v3/NGSnv5HMAFg6IuGlBNMjxJEL2VmU3NS7Z2mj6AiqXCRToK8EPg.ttf",800:"https://fonts.gstatic.com/s/intertight/v3/NGSnv5HMAFg6IuGlBNMjxJEL2VmU3NS7Z2mjjwiqXCRToK8EPg.ttf",900:"https://fonts.gstatic.com/s/intertight/v3/NGSnv5HMAFg6IuGlBNMjxJEL2VmU3NS7Z2mjpgiqXCRToK8EPg.ttf",regular:"https://fonts.gstatic.com/s/intertight/v3/NGSnv5HMAFg6IuGlBNMjxJEL2VmU3NS7Z2mjDw-qXCRToK8EPg.ttf","100italic":"https://fonts.gstatic.com/s/intertight/v3/NGShv5HMAFg6IuGlBNMjxLsC66ZMtb8hyW62x0xCHi5XgqoUPvi5.ttf","200italic":"https://fonts.gstatic.com/s/intertight/v3/NGShv5HMAFg6IuGlBNMjxLsC66ZMtb8hyW62x0zCHy5XgqoUPvi5.ttf","300italic":"https://fonts.gstatic.com/s/intertight/v3/NGShv5HMAFg6IuGlBNMjxLsC66ZMtb8hyW62x0wcHy5XgqoUPvi5.ttf",italic:"https://fonts.gstatic.com/s/intertight/v3/NGShv5HMAFg6IuGlBNMjxLsC66ZMtb8hyW62x0xCHy5XgqoUPvi5.ttf","500italic":"https://fonts.gstatic.com/s/intertight/v3/NGShv5HMAFg6IuGlBNMjxLsC66ZMtb8hyW62x0xwHy5XgqoUPvi5.ttf","600italic":"https://fonts.gstatic.com/s/intertight/v3/NGShv5HMAFg6IuGlBNMjxLsC66ZMtb8hyW62x0ycGC5XgqoUPvi5.ttf","700italic":"https://fonts.gstatic.com/s/intertight/v3/NGShv5HMAFg6IuGlBNMjxLsC66ZMtb8hyW62x0ylGC5XgqoUPvi5.ttf","800italic":"https://fonts.gstatic.com/s/intertight/v3/NGShv5HMAFg6IuGlBNMjxLsC66ZMtb8hyW62x0zCGC5XgqoUPvi5.ttf","900italic":"https://fonts.gstatic.com/s/intertight/v3/NGShv5HMAFg6IuGlBNMjxLsC66ZMtb8hyW62x0zrGC5XgqoUPvi5.ttf"}},{family:"Irish Grover",files:{regular:"https://fonts.gstatic.com/s/irishgrover/v23/buExpoi6YtLz2QW7LA4flVgf-P5Oaiw4cw.ttf"}},{family:"Island Moments",files:{regular:"https://fonts.gstatic.com/s/islandmoments/v3/NaPBcZfVGvBdxIt7Ar0qzkXJF-TGIohbZ6SY.ttf"}},{family:"Istok Web",files:{700:"https://fonts.gstatic.com/s/istokweb/v21/3qTqojGmgSyUukBzKslhvU5a_mkUYBfcMw.ttf",regular:"https://fonts.gstatic.com/s/istokweb/v21/3qTvojGmgSyUukBzKslZAWF-9kIIaQ.ttf",italic:"https://fonts.gstatic.com/s/istokweb/v21/3qTpojGmgSyUukBzKslpA2t61EcYaQ7F.ttf","700italic":"https://fonts.gstatic.com/s/istokweb/v21/3qT0ojGmgSyUukBzKslpA1PG-2MQQhLMMygN.ttf"}},{family:"Italiana",files:{regular:"https://fonts.gstatic.com/s/italiana/v16/QldNNTtLsx4E__B0XTmRY31Wx7Vv.ttf"}},{family:"Italianno",files:{regular:"https://fonts.gstatic.com/s/italianno/v17/dg4n_p3sv6gCJkwzT6Rnj5YpQwM-gg.ttf"}},{family:"Itim",files:{regular:"https://fonts.gstatic.com/s/itim/v11/0nknC9ziJOYewARKkc7ZdwU.ttf"}},{family:"Jacques Francois",files:{regular:"https://fonts.gstatic.com/s/jacquesfrancois/v20/ZXu9e04ZvKeOOHIe1TMahbcIU2cgmcPqoeRWfbs.ttf"}},{family:"Jacques Francois Shadow",files:{regular:"https://fonts.gstatic.com/s/jacquesfrancoisshadow/v21/KR1FBtOz8PKTMk-kqdkLVrvR0ECFrB6Pin-2_q8VsHuV5ULS.ttf"}},{family:"Jaldi",files:{700:"https://fonts.gstatic.com/s/jaldi/v12/or3hQ67z0_CI33voSbT3LLQ1niPn.ttf",regular:"https://fonts.gstatic.com/s/jaldi/v12/or3sQ67z0_CI30NUZpD_B6g8.ttf"}},{family:"JetBrains Mono",files:{100:"https://fonts.gstatic.com/s/jetbrainsmono/v18/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yK1jPVmUsaaDhw.ttf",200:"https://fonts.gstatic.com/s/jetbrainsmono/v18/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8SKxjPVmUsaaDhw.ttf",300:"https://fonts.gstatic.com/s/jetbrainsmono/v18/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8lqxjPVmUsaaDhw.ttf",500:"https://fonts.gstatic.com/s/jetbrainsmono/v18/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8-qxjPVmUsaaDhw.ttf",600:"https://fonts.gstatic.com/s/jetbrainsmono/v18/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8FqtjPVmUsaaDhw.ttf",700:"https://fonts.gstatic.com/s/jetbrainsmono/v18/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8L6tjPVmUsaaDhw.ttf",800:"https://fonts.gstatic.com/s/jetbrainsmono/v18/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8SKtjPVmUsaaDhw.ttf",regular:"https://fonts.gstatic.com/s/jetbrainsmono/v18/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxjPVmUsaaDhw.ttf","100italic":"https://fonts.gstatic.com/s/jetbrainsmono/v18/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO-Lf1OQk6OThxPA.ttf","200italic":"https://fonts.gstatic.com/s/jetbrainsmono/v18/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO8LflOQk6OThxPA.ttf","300italic":"https://fonts.gstatic.com/s/jetbrainsmono/v18/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO_VflOQk6OThxPA.ttf",italic:"https://fonts.gstatic.com/s/jetbrainsmono/v18/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO-LflOQk6OThxPA.ttf","500italic":"https://fonts.gstatic.com/s/jetbrainsmono/v18/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO-5flOQk6OThxPA.ttf","600italic":"https://fonts.gstatic.com/s/jetbrainsmono/v18/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO9VeVOQk6OThxPA.ttf","700italic":"https://fonts.gstatic.com/s/jetbrainsmono/v18/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO9seVOQk6OThxPA.ttf","800italic":"https://fonts.gstatic.com/s/jetbrainsmono/v18/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO8LeVOQk6OThxPA.ttf"}},{family:"Jim Nightshade",files:{regular:"https://fonts.gstatic.com/s/jimnightshade/v20/PlIkFlu9Pb08Q8HLM1PxmB0g-OS4V3qKaMxD.ttf"}},{family:"Joan",files:{regular:"https://fonts.gstatic.com/s/joan/v2/ZXupe1oZsqWRbRdH8X1p_Ng.ttf"}},{family:"Jockey One",files:{regular:"https://fonts.gstatic.com/s/jockeyone/v16/HTxpL2g2KjCFj4x8WI6ArIb7HYOk4xc.ttf"}},{family:"Jolly Lodger",files:{regular:"https://fonts.gstatic.com/s/jollylodger/v20/BXRsvFTAh_bGkA1uQ48dlB3VWerT3ZyuqA.ttf"}},{family:"Jomhuria",files:{regular:"https://fonts.gstatic.com/s/jomhuria/v18/Dxxp8j-TMXf-llKur2b1MOGbC3Dh.ttf"}},{family:"Jomolhari",files:{regular:"https://fonts.gstatic.com/s/jomolhari/v14/EvONzA1M1Iw_CBd2hsQCF1IZKq5INg.ttf"}},{family:"Josefin Sans",files:{100:"https://fonts.gstatic.com/s/josefinsans/v26/Qw3PZQNVED7rKGKxtqIqX5E-AVSJrOCfjY46_DjRXMFrLgTsQV0.ttf",200:"https://fonts.gstatic.com/s/josefinsans/v26/Qw3PZQNVED7rKGKxtqIqX5E-AVSJrOCfjY46_LjQXMFrLgTsQV0.ttf",300:"https://fonts.gstatic.com/s/josefinsans/v26/Qw3PZQNVED7rKGKxtqIqX5E-AVSJrOCfjY46_GbQXMFrLgTsQV0.ttf",500:"https://fonts.gstatic.com/s/josefinsans/v26/Qw3PZQNVED7rKGKxtqIqX5E-AVSJrOCfjY46_ArQXMFrLgTsQV0.ttf",600:"https://fonts.gstatic.com/s/josefinsans/v26/Qw3PZQNVED7rKGKxtqIqX5E-AVSJrOCfjY46_ObXXMFrLgTsQV0.ttf",700:"https://fonts.gstatic.com/s/josefinsans/v26/Qw3PZQNVED7rKGKxtqIqX5E-AVSJrOCfjY46_N_XXMFrLgTsQV0.ttf",regular:"https://fonts.gstatic.com/s/josefinsans/v26/Qw3PZQNVED7rKGKxtqIqX5E-AVSJrOCfjY46_DjQXMFrLgTsQV0.ttf","100italic":"https://fonts.gstatic.com/s/josefinsans/v26/Qw3JZQNVED7rKGKxtqIqX5EUCGZ2dIn0FyA96fCTtINhKibpUV3MEQ.ttf","200italic":"https://fonts.gstatic.com/s/josefinsans/v26/Qw3JZQNVED7rKGKxtqIqX5EUCGZ2dIn0FyA96fCTNIJhKibpUV3MEQ.ttf","300italic":"https://fonts.gstatic.com/s/josefinsans/v26/Qw3JZQNVED7rKGKxtqIqX5EUCGZ2dIn0FyA96fCT6oJhKibpUV3MEQ.ttf",italic:"https://fonts.gstatic.com/s/josefinsans/v26/Qw3JZQNVED7rKGKxtqIqX5EUCGZ2dIn0FyA96fCTtIJhKibpUV3MEQ.ttf","500italic":"https://fonts.gstatic.com/s/josefinsans/v26/Qw3JZQNVED7rKGKxtqIqX5EUCGZ2dIn0FyA96fCThoJhKibpUV3MEQ.ttf","600italic":"https://fonts.gstatic.com/s/josefinsans/v26/Qw3JZQNVED7rKGKxtqIqX5EUCGZ2dIn0FyA96fCTaoVhKibpUV3MEQ.ttf","700italic":"https://fonts.gstatic.com/s/josefinsans/v26/Qw3JZQNVED7rKGKxtqIqX5EUCGZ2dIn0FyA96fCTU4VhKibpUV3MEQ.ttf"}},{family:"Josefin Slab",files:{100:"https://fonts.gstatic.com/s/josefinslab/v24/lW-swjwOK3Ps5GSJlNNkMalNpiZe_ldbOR4W71mtd3k3K6CcEyI.ttf",200:"https://fonts.gstatic.com/s/josefinslab/v24/lW-swjwOK3Ps5GSJlNNkMalNpiZe_ldbOR4W79msd3k3K6CcEyI.ttf",300:"https://fonts.gstatic.com/s/josefinslab/v24/lW-swjwOK3Ps5GSJlNNkMalNpiZe_ldbOR4W7wesd3k3K6CcEyI.ttf",500:"https://fonts.gstatic.com/s/josefinslab/v24/lW-swjwOK3Ps5GSJlNNkMalNpiZe_ldbOR4W72usd3k3K6CcEyI.ttf",600:"https://fonts.gstatic.com/s/josefinslab/v24/lW-swjwOK3Ps5GSJlNNkMalNpiZe_ldbOR4W74erd3k3K6CcEyI.ttf",700:"https://fonts.gstatic.com/s/josefinslab/v24/lW-swjwOK3Ps5GSJlNNkMalNpiZe_ldbOR4W776rd3k3K6CcEyI.ttf",regular:"https://fonts.gstatic.com/s/josefinslab/v24/lW-swjwOK3Ps5GSJlNNkMalNpiZe_ldbOR4W71msd3k3K6CcEyI.ttf","100italic":"https://fonts.gstatic.com/s/josefinslab/v24/lW-qwjwOK3Ps5GSJlNNkMalnrxShJj4wo7AR-pHvnzs9L4KZAyK43w.ttf","200italic":"https://fonts.gstatic.com/s/josefinslab/v24/lW-qwjwOK3Ps5GSJlNNkMalnrxShJj4wo7AR-pHvHzo9L4KZAyK43w.ttf","300italic":"https://fonts.gstatic.com/s/josefinslab/v24/lW-qwjwOK3Ps5GSJlNNkMalnrxShJj4wo7AR-pHvwTo9L4KZAyK43w.ttf",italic:"https://fonts.gstatic.com/s/josefinslab/v24/lW-qwjwOK3Ps5GSJlNNkMalnrxShJj4wo7AR-pHvnzo9L4KZAyK43w.ttf","500italic":"https://fonts.gstatic.com/s/josefinslab/v24/lW-qwjwOK3Ps5GSJlNNkMalnrxShJj4wo7AR-pHvrTo9L4KZAyK43w.ttf","600italic":"https://fonts.gstatic.com/s/josefinslab/v24/lW-qwjwOK3Ps5GSJlNNkMalnrxShJj4wo7AR-pHvQT09L4KZAyK43w.ttf","700italic":"https://fonts.gstatic.com/s/josefinslab/v24/lW-qwjwOK3Ps5GSJlNNkMalnrxShJj4wo7AR-pHveD09L4KZAyK43w.ttf"}},{family:"Jost",files:{100:"https://fonts.gstatic.com/s/jost/v14/92zPtBhPNqw79Ij1E865zBUv7myjJAVGPokMmuHL.ttf",200:"https://fonts.gstatic.com/s/jost/v14/92zPtBhPNqw79Ij1E865zBUv7mwjJQVGPokMmuHL.ttf",300:"https://fonts.gstatic.com/s/jost/v14/92zPtBhPNqw79Ij1E865zBUv7mz9JQVGPokMmuHL.ttf",500:"https://fonts.gstatic.com/s/jost/v14/92zPtBhPNqw79Ij1E865zBUv7myRJQVGPokMmuHL.ttf",600:"https://fonts.gstatic.com/s/jost/v14/92zPtBhPNqw79Ij1E865zBUv7mx9IgVGPokMmuHL.ttf",700:"https://fonts.gstatic.com/s/jost/v14/92zPtBhPNqw79Ij1E865zBUv7mxEIgVGPokMmuHL.ttf",800:"https://fonts.gstatic.com/s/jost/v14/92zPtBhPNqw79Ij1E865zBUv7mwjIgVGPokMmuHL.ttf",900:"https://fonts.gstatic.com/s/jost/v14/92zPtBhPNqw79Ij1E865zBUv7mwKIgVGPokMmuHL.ttf",regular:"https://fonts.gstatic.com/s/jost/v14/92zPtBhPNqw79Ij1E865zBUv7myjJQVGPokMmuHL.ttf","100italic":"https://fonts.gstatic.com/s/jost/v14/92zJtBhPNqw73oHH7BbQp4-B6XlrZu0ENI0un_HLMEo.ttf","200italic":"https://fonts.gstatic.com/s/jost/v14/92zJtBhPNqw73oHH7BbQp4-B6XlrZm0FNI0un_HLMEo.ttf","300italic":"https://fonts.gstatic.com/s/jost/v14/92zJtBhPNqw73oHH7BbQp4-B6XlrZrMFNI0un_HLMEo.ttf",italic:"https://fonts.gstatic.com/s/jost/v14/92zJtBhPNqw73oHH7BbQp4-B6XlrZu0FNI0un_HLMEo.ttf","500italic":"https://fonts.gstatic.com/s/jost/v14/92zJtBhPNqw73oHH7BbQp4-B6XlrZt8FNI0un_HLMEo.ttf","600italic":"https://fonts.gstatic.com/s/jost/v14/92zJtBhPNqw73oHH7BbQp4-B6XlrZjMCNI0un_HLMEo.ttf","700italic":"https://fonts.gstatic.com/s/jost/v14/92zJtBhPNqw73oHH7BbQp4-B6XlrZgoCNI0un_HLMEo.ttf","800italic":"https://fonts.gstatic.com/s/jost/v14/92zJtBhPNqw73oHH7BbQp4-B6XlrZm0CNI0un_HLMEo.ttf","900italic":"https://fonts.gstatic.com/s/jost/v14/92zJtBhPNqw73oHH7BbQp4-B6XlrZkQCNI0un_HLMEo.ttf"}},{family:"Joti One",files:{regular:"https://fonts.gstatic.com/s/jotione/v22/Z9XVDmdJQAmWm9TwaYTe4u2El6GC.ttf"}},{family:"Jua",files:{regular:"https://fonts.gstatic.com/s/jua/v13/co3KmW9ljjAjc-DZCsKgsg.ttf"}},{family:"Judson",files:{700:"https://fonts.gstatic.com/s/judson/v19/FeVSS0Fbvbc14Vxps5xQ3Z5nm29Gww.ttf",regular:"https://fonts.gstatic.com/s/judson/v19/FeVRS0Fbvbc14VxRD7N01bV7kg.ttf",italic:"https://fonts.gstatic.com/s/judson/v19/FeVTS0Fbvbc14VxhDblw97BrknZf.ttf"}},{family:"Julee",files:{regular:"https://fonts.gstatic.com/s/julee/v25/TuGfUVB3RpZPQ6ZLodgzydtk.ttf"}},{family:"Julius Sans One",files:{regular:"https://fonts.gstatic.com/s/juliussansone/v14/1Pt2g8TAX_SGgBGUi0tGOYEga5W-xXEW6aGXHw.ttf"}},{family:"Junge",files:{regular:"https://fonts.gstatic.com/s/junge/v20/gokgH670Gl1lUqAdvhB7SnKm.ttf"}},{family:"Jura",files:{300:"https://fonts.gstatic.com/s/jura/v29/z7NOdRfiaC4Vd8hhoPzfb5vBTP0D7auhTfmrH_rt.ttf",500:"https://fonts.gstatic.com/s/jura/v29/z7NOdRfiaC4Vd8hhoPzfb5vBTP1v7auhTfmrH_rt.ttf",600:"https://fonts.gstatic.com/s/jura/v29/z7NOdRfiaC4Vd8hhoPzfb5vBTP2D6quhTfmrH_rt.ttf",700:"https://fonts.gstatic.com/s/jura/v29/z7NOdRfiaC4Vd8hhoPzfb5vBTP266quhTfmrH_rt.ttf",regular:"https://fonts.gstatic.com/s/jura/v29/z7NOdRfiaC4Vd8hhoPzfb5vBTP1d7auhTfmrH_rt.ttf"}},{family:"Just Another Hand",files:{regular:"https://fonts.gstatic.com/s/justanotherhand/v19/845CNN4-AJyIGvIou-6yJKyptyOpOcr_BmmlS5aw.ttf"}},{family:"Just Me Again Down Here",files:{regular:"https://fonts.gstatic.com/s/justmeagaindownhere/v24/MwQmbgXtz-Wc6RUEGNMc0QpRrfUh2hSdBBMoAuwHvqDwc_fg.ttf"}},{family:"K2D",files:{100:"https://fonts.gstatic.com/s/k2d/v9/J7aRnpF2V0ErE6UpvrIw74NL.ttf",200:"https://fonts.gstatic.com/s/k2d/v9/J7aenpF2V0Erv4QJlJw85ppSGw.ttf",300:"https://fonts.gstatic.com/s/k2d/v9/J7aenpF2V0Er24cJlJw85ppSGw.ttf",500:"https://fonts.gstatic.com/s/k2d/v9/J7aenpF2V0Erg4YJlJw85ppSGw.ttf",600:"https://fonts.gstatic.com/s/k2d/v9/J7aenpF2V0Err4EJlJw85ppSGw.ttf",700:"https://fonts.gstatic.com/s/k2d/v9/J7aenpF2V0Ery4AJlJw85ppSGw.ttf",800:"https://fonts.gstatic.com/s/k2d/v9/J7aenpF2V0Er14MJlJw85ppSGw.ttf","100italic":"https://fonts.gstatic.com/s/k2d/v9/J7afnpF2V0EjdZ1NtLYS6pNLAjk.ttf","200italic":"https://fonts.gstatic.com/s/k2d/v9/J7acnpF2V0EjdZ3hlZY4xJ9CGyAa.ttf","300italic":"https://fonts.gstatic.com/s/k2d/v9/J7acnpF2V0EjdZ2FlpY4xJ9CGyAa.ttf",regular:"https://fonts.gstatic.com/s/k2d/v9/J7aTnpF2V0ETd68tnLcg7w.ttf",italic:"https://fonts.gstatic.com/s/k2d/v9/J7aRnpF2V0EjdaUpvrIw74NL.ttf","500italic":"https://fonts.gstatic.com/s/k2d/v9/J7acnpF2V0EjdZ3dl5Y4xJ9CGyAa.ttf","600italic":"https://fonts.gstatic.com/s/k2d/v9/J7acnpF2V0EjdZ3xkJY4xJ9CGyAa.ttf","700italic":"https://fonts.gstatic.com/s/k2d/v9/J7acnpF2V0EjdZ2VkZY4xJ9CGyAa.ttf","800italic":"https://fonts.gstatic.com/s/k2d/v9/J7acnpF2V0EjdZ2JkpY4xJ9CGyAa.ttf"}},{family:"Kadwa",files:{700:"https://fonts.gstatic.com/s/kadwa/v10/rnCr-x5V0g7ipix7auM-mHnOSOuk.ttf",regular:"https://fonts.gstatic.com/s/kadwa/v10/rnCm-x5V0g7iphTHRcc2s2XH.ttf"}},{family:"Kaisei Decol",files:{500:"https://fonts.gstatic.com/s/kaiseidecol/v8/bMrvmSqP45sidWf3QmfFW6iKr3gr00i_qb57kA.ttf",700:"https://fonts.gstatic.com/s/kaiseidecol/v8/bMrvmSqP45sidWf3QmfFW6iK534r00i_qb57kA.ttf",regular:"https://fonts.gstatic.com/s/kaiseidecol/v8/bMrwmSqP45sidWf3QmfFW6iyW1EP22OjoA.ttf"}},{family:"Kaisei HarunoUmi",files:{500:"https://fonts.gstatic.com/s/kaiseiharunoumi/v8/HI_WiZQSLqBQoAHhK_C6N_nzy_jcIj_QlMcFwmC9FAU.ttf",700:"https://fonts.gstatic.com/s/kaiseiharunoumi/v8/HI_WiZQSLqBQoAHhK_C6N_nzy_jcInfWlMcFwmC9FAU.ttf",regular:"https://fonts.gstatic.com/s/kaiseiharunoumi/v8/HI_RiZQSLqBQoAHhK_C6N_nzy_jcGsv5sM8u3mk.ttf"}},{family:"Kaisei Opti",files:{500:"https://fonts.gstatic.com/s/kaiseiopti/v8/QldXNThJphYb8_g6c2nlIGGqxY1u7f34DYwn.ttf",700:"https://fonts.gstatic.com/s/kaiseiopti/v8/QldXNThJphYb8_g6c2nlIGHiw41u7f34DYwn.ttf",regular:"https://fonts.gstatic.com/s/kaiseiopti/v8/QldKNThJphYb8_g6c2nlIFle7KlmxuHx.ttf"}},{family:"Kaisei Tokumin",files:{500:"https://fonts.gstatic.com/s/kaiseitokumin/v8/Gg8vN5wdZg7xCwuMsylww2ZiQnqr_3khpMIzeI6v.ttf",700:"https://fonts.gstatic.com/s/kaiseitokumin/v8/Gg8vN5wdZg7xCwuMsylww2ZiQnrj-XkhpMIzeI6v.ttf",800:"https://fonts.gstatic.com/s/kaiseitokumin/v8/Gg8vN5wdZg7xCwuMsylww2ZiQnr_-nkhpMIzeI6v.ttf",regular:"https://fonts.gstatic.com/s/kaiseitokumin/v8/Gg8sN5wdZg7xCwuMsylww2ZiQkJf1l0pj946.ttf"}},{family:"Kalam",files:{300:"https://fonts.gstatic.com/s/kalam/v16/YA9Qr0Wd4kDdMtD6GgLLmCUItqGt.ttf",700:"https://fonts.gstatic.com/s/kalam/v16/YA9Qr0Wd4kDdMtDqHQLLmCUItqGt.ttf",regular:"https://fonts.gstatic.com/s/kalam/v16/YA9dr0Wd4kDdMuhWMibDszkB.ttf"}},{family:"Kameron",files:{700:"https://fonts.gstatic.com/s/kameron/v15/vm8zdR7vXErQxuzniAIfC-3jfHb--NY.ttf",regular:"https://fonts.gstatic.com/s/kameron/v15/vm82dR7vXErQxuznsL4wL-XIYH8.ttf"}},{family:"Kanit",files:{100:"https://fonts.gstatic.com/s/kanit/v13/nKKX-Go6G5tXcr72GwWKcaxALFs.ttf",200:"https://fonts.gstatic.com/s/kanit/v13/nKKU-Go6G5tXcr5aOiWgX6BJNUJy.ttf",300:"https://fonts.gstatic.com/s/kanit/v13/nKKU-Go6G5tXcr4-OSWgX6BJNUJy.ttf",500:"https://fonts.gstatic.com/s/kanit/v13/nKKU-Go6G5tXcr5mOCWgX6BJNUJy.ttf",600:"https://fonts.gstatic.com/s/kanit/v13/nKKU-Go6G5tXcr5KPyWgX6BJNUJy.ttf",700:"https://fonts.gstatic.com/s/kanit/v13/nKKU-Go6G5tXcr4uPiWgX6BJNUJy.ttf",800:"https://fonts.gstatic.com/s/kanit/v13/nKKU-Go6G5tXcr4yPSWgX6BJNUJy.ttf",900:"https://fonts.gstatic.com/s/kanit/v13/nKKU-Go6G5tXcr4WPCWgX6BJNUJy.ttf","100italic":"https://fonts.gstatic.com/s/kanit/v13/nKKV-Go6G5tXcraQI2GAdY5FPFtrGw.ttf","200italic":"https://fonts.gstatic.com/s/kanit/v13/nKKS-Go6G5tXcraQI82hVaRrMFJyAu4.ttf","300italic":"https://fonts.gstatic.com/s/kanit/v13/nKKS-Go6G5tXcraQI6miVaRrMFJyAu4.ttf",regular:"https://fonts.gstatic.com/s/kanit/v13/nKKZ-Go6G5tXcoaSEQGodLxA.ttf",italic:"https://fonts.gstatic.com/s/kanit/v13/nKKX-Go6G5tXcraQGwWKcaxALFs.ttf","500italic":"https://fonts.gstatic.com/s/kanit/v13/nKKS-Go6G5tXcraQI_GjVaRrMFJyAu4.ttf","600italic":"https://fonts.gstatic.com/s/kanit/v13/nKKS-Go6G5tXcraQI92kVaRrMFJyAu4.ttf","700italic":"https://fonts.gstatic.com/s/kanit/v13/nKKS-Go6G5tXcraQI7mlVaRrMFJyAu4.ttf","800italic":"https://fonts.gstatic.com/s/kanit/v13/nKKS-Go6G5tXcraQI6WmVaRrMFJyAu4.ttf","900italic":"https://fonts.gstatic.com/s/kanit/v13/nKKS-Go6G5tXcraQI4GnVaRrMFJyAu4.ttf"}},{family:"Kantumruy Pro",files:{100:"https://fonts.gstatic.com/s/kantumruypro/v8/1q2TY5aECkp34vEBSPFOmJxwvk_pilU8OGNfyg1urUs0M34dR6dW.ttf",200:"https://fonts.gstatic.com/s/kantumruypro/v8/1q2TY5aECkp34vEBSPFOmJxwvk_pilU8OGNfyg3urEs0M34dR6dW.ttf",300:"https://fonts.gstatic.com/s/kantumruypro/v8/1q2TY5aECkp34vEBSPFOmJxwvk_pilU8OGNfyg0wrEs0M34dR6dW.ttf",500:"https://fonts.gstatic.com/s/kantumruypro/v8/1q2TY5aECkp34vEBSPFOmJxwvk_pilU8OGNfyg1crEs0M34dR6dW.ttf",600:"https://fonts.gstatic.com/s/kantumruypro/v8/1q2TY5aECkp34vEBSPFOmJxwvk_pilU8OGNfyg2wq0s0M34dR6dW.ttf",700:"https://fonts.gstatic.com/s/kantumruypro/v8/1q2TY5aECkp34vEBSPFOmJxwvk_pilU8OGNfyg2Jq0s0M34dR6dW.ttf",regular:"https://fonts.gstatic.com/s/kantumruypro/v8/1q2TY5aECkp34vEBSPFOmJxwvk_pilU8OGNfyg1urEs0M34dR6dW.ttf","100italic":"https://fonts.gstatic.com/s/kantumruypro/v8/1q2RY5aECkp34vEBSPFOmJxwlEbbdY1VU_nxzRim76N2OXo_QrdWlcU.ttf","200italic":"https://fonts.gstatic.com/s/kantumruypro/v8/1q2RY5aECkp34vEBSPFOmJxwlEbbdY1VU_nxzRim7yN3OXo_QrdWlcU.ttf","300italic":"https://fonts.gstatic.com/s/kantumruypro/v8/1q2RY5aECkp34vEBSPFOmJxwlEbbdY1VU_nxzRim7_13OXo_QrdWlcU.ttf",italic:"https://fonts.gstatic.com/s/kantumruypro/v8/1q2RY5aECkp34vEBSPFOmJxwlEbbdY1VU_nxzRim76N3OXo_QrdWlcU.ttf","500italic":"https://fonts.gstatic.com/s/kantumruypro/v8/1q2RY5aECkp34vEBSPFOmJxwlEbbdY1VU_nxzRim75F3OXo_QrdWlcU.ttf","600italic":"https://fonts.gstatic.com/s/kantumruypro/v8/1q2RY5aECkp34vEBSPFOmJxwlEbbdY1VU_nxzRim731wOXo_QrdWlcU.ttf","700italic":"https://fonts.gstatic.com/s/kantumruypro/v8/1q2RY5aECkp34vEBSPFOmJxwlEbbdY1VU_nxzRim70RwOXo_QrdWlcU.ttf"}},{family:"Karantina",files:{300:"https://fonts.gstatic.com/s/karantina/v11/buExpo24ccnh31GVMABxXCgf-P5Oaiw4cw.ttf",700:"https://fonts.gstatic.com/s/karantina/v11/buExpo24ccnh31GVMABxTC8f-P5Oaiw4cw.ttf",regular:"https://fonts.gstatic.com/s/karantina/v11/buE0po24ccnh31GVMABJ8AA78NVSYw.ttf"}},{family:"Karla",files:{200:"https://fonts.gstatic.com/s/karla/v30/qkBIXvYC6trAT55ZBi1ueQVIjQTDeJqqFENLR7fHGw.ttf",300:"https://fonts.gstatic.com/s/karla/v30/qkBIXvYC6trAT55ZBi1ueQVIjQTDppqqFENLR7fHGw.ttf",500:"https://fonts.gstatic.com/s/karla/v30/qkBIXvYC6trAT55ZBi1ueQVIjQTDypqqFENLR7fHGw.ttf",600:"https://fonts.gstatic.com/s/karla/v30/qkBIXvYC6trAT55ZBi1ueQVIjQTDJp2qFENLR7fHGw.ttf",700:"https://fonts.gstatic.com/s/karla/v30/qkBIXvYC6trAT55ZBi1ueQVIjQTDH52qFENLR7fHGw.ttf",800:"https://fonts.gstatic.com/s/karla/v30/qkBIXvYC6trAT55ZBi1ueQVIjQTDeJ2qFENLR7fHGw.ttf",regular:"https://fonts.gstatic.com/s/karla/v30/qkBIXvYC6trAT55ZBi1ueQVIjQTD-JqqFENLR7fHGw.ttf","200italic":"https://fonts.gstatic.com/s/karla/v30/qkBKXvYC6trAT7RQNNK2EG7SIwPWMNnCV0lPZbLXGxGR.ttf","300italic":"https://fonts.gstatic.com/s/karla/v30/qkBKXvYC6trAT7RQNNK2EG7SIwPWMNkcV0lPZbLXGxGR.ttf",italic:"https://fonts.gstatic.com/s/karla/v30/qkBKXvYC6trAT7RQNNK2EG7SIwPWMNlCV0lPZbLXGxGR.ttf","500italic":"https://fonts.gstatic.com/s/karla/v30/qkBKXvYC6trAT7RQNNK2EG7SIwPWMNlwV0lPZbLXGxGR.ttf","600italic":"https://fonts.gstatic.com/s/karla/v30/qkBKXvYC6trAT7RQNNK2EG7SIwPWMNmcUElPZbLXGxGR.ttf","700italic":"https://fonts.gstatic.com/s/karla/v30/qkBKXvYC6trAT7RQNNK2EG7SIwPWMNmlUElPZbLXGxGR.ttf","800italic":"https://fonts.gstatic.com/s/karla/v30/qkBKXvYC6trAT7RQNNK2EG7SIwPWMNnCUElPZbLXGxGR.ttf"}},{family:"Karma",files:{300:"https://fonts.gstatic.com/s/karma/v16/va9F4kzAzMZRGLjDY8Z_uqzGQC_-.ttf",500:"https://fonts.gstatic.com/s/karma/v16/va9F4kzAzMZRGLibYsZ_uqzGQC_-.ttf",600:"https://fonts.gstatic.com/s/karma/v16/va9F4kzAzMZRGLi3ZcZ_uqzGQC_-.ttf",700:"https://fonts.gstatic.com/s/karma/v16/va9F4kzAzMZRGLjTZMZ_uqzGQC_-.ttf",regular:"https://fonts.gstatic.com/s/karma/v16/va9I4kzAzMZRGIBvS-J3kbDP.ttf"}},{family:"Katibeh",files:{regular:"https://fonts.gstatic.com/s/katibeh/v17/ZGjXol5MQJog4bxDaC1RVDNdGDs.ttf"}},{family:"Kaushan Script",files:{regular:"https://fonts.gstatic.com/s/kaushanscript/v14/vm8vdRfvXFLG3OLnsO15WYS5DF7_ytN3M48a.ttf"}},{family:"Kavivanar",files:{regular:"https://fonts.gstatic.com/s/kavivanar/v18/o-0IIpQgyXYSwhxP7_Jb4j5Ba_2c7A.ttf"}},{family:"Kavoon",files:{regular:"https://fonts.gstatic.com/s/kavoon/v21/pxiFyp4_scRYhlU4NLr6f1pdEQ.ttf"}},{family:"Kdam Thmor Pro",files:{regular:"https://fonts.gstatic.com/s/kdamthmorpro/v1/EJRPQgAzVdcI-Qdvt34jzurnGA7_j89I8ZWb.ttf"}},{family:"Keania One",files:{regular:"https://fonts.gstatic.com/s/keaniaone/v21/zOL54pXJk65E8pXardnuycRuv-hHkOs.ttf"}},{family:"Kelly Slab",files:{regular:"https://fonts.gstatic.com/s/kellyslab/v15/-W_7XJX0Rz3cxUnJC5t6TkMBf50kbiM.ttf"}},{family:"Kenia",files:{regular:"https://fonts.gstatic.com/s/kenia/v24/jizURE5PuHQH9qCONUGswfGM.ttf"}},{family:"Khand",files:{300:"https://fonts.gstatic.com/s/khand/v17/TwMN-IINQlQQ0bL5cFE3ZwaH__-C.ttf",500:"https://fonts.gstatic.com/s/khand/v17/TwMN-IINQlQQ0bKhcVE3ZwaH__-C.ttf",600:"https://fonts.gstatic.com/s/khand/v17/TwMN-IINQlQQ0bKNdlE3ZwaH__-C.ttf",700:"https://fonts.gstatic.com/s/khand/v17/TwMN-IINQlQQ0bLpd1E3ZwaH__-C.ttf",regular:"https://fonts.gstatic.com/s/khand/v17/TwMA-IINQlQQ0YpVWHU_TBqO.ttf"}},{family:"Khmer",files:{regular:"https://fonts.gstatic.com/s/khmer/v25/MjQImit_vPPwpF-BpN2EeYmD.ttf"}},{family:"Khula",files:{300:"https://fonts.gstatic.com/s/khula/v12/OpNPnoEOns3V7G-ljCvUrC59XwXD.ttf",600:"https://fonts.gstatic.com/s/khula/v12/OpNPnoEOns3V7G_RiivUrC59XwXD.ttf",700:"https://fonts.gstatic.com/s/khula/v12/OpNPnoEOns3V7G-1iyvUrC59XwXD.ttf",800:"https://fonts.gstatic.com/s/khula/v12/OpNPnoEOns3V7G-piCvUrC59XwXD.ttf",regular:"https://fonts.gstatic.com/s/khula/v12/OpNCnoEOns3V7FcJpA_chzJ0.ttf"}},{family:"Kings",files:{regular:"https://fonts.gstatic.com/s/kings/v5/8AtnGsK4O5CYXU_Iq6GSPaHS.ttf"}},{family:"Kirang Haerang",files:{regular:"https://fonts.gstatic.com/s/kiranghaerang/v20/E21-_dn_gvvIjhYON1lpIU4-bcqvWPaJq4no.ttf"}},{family:"Kite One",files:{regular:"https://fonts.gstatic.com/s/kiteone/v22/70lQu7shLnA_E02vyq1b6HnGO4uA.ttf"}},{family:"Kiwi Maru",files:{300:"https://fonts.gstatic.com/s/kiwimaru/v14/R70djykGkuuDep-hRg6gNCi0Vxn9R5ShnA.ttf",500:"https://fonts.gstatic.com/s/kiwimaru/v14/R70djykGkuuDep-hRg6gbCm0Vxn9R5ShnA.ttf",regular:"https://fonts.gstatic.com/s/kiwimaru/v14/R70YjykGkuuDep-hRg6YmACQXzLhTg.ttf"}},{family:"Klee One",files:{600:"https://fonts.gstatic.com/s/kleeone/v7/LDI2apCLNRc6A8oT4pbYF8Osc-bGkqIw.ttf",regular:"https://fonts.gstatic.com/s/kleeone/v7/LDIxapCLNRc6A8oT4q4AOeekWPrP.ttf"}},{family:"Knewave",files:{regular:"https://fonts.gstatic.com/s/knewave/v14/sykz-yx0lLcxQaSItSq9-trEvlQ.ttf"}},{family:"KoHo",files:{200:"https://fonts.gstatic.com/s/koho/v16/K2FxfZ5fmddNPuE1WJ75JoKhHys.ttf",300:"https://fonts.gstatic.com/s/koho/v16/K2FxfZ5fmddNPoU2WJ75JoKhHys.ttf",500:"https://fonts.gstatic.com/s/koho/v16/K2FxfZ5fmddNPt03WJ75JoKhHys.ttf",600:"https://fonts.gstatic.com/s/koho/v16/K2FxfZ5fmddNPvEwWJ75JoKhHys.ttf",700:"https://fonts.gstatic.com/s/koho/v16/K2FxfZ5fmddNPpUxWJ75JoKhHys.ttf","200italic":"https://fonts.gstatic.com/s/koho/v16/K2FzfZ5fmddNNisssJ_zIqCkDyvqZA.ttf","300italic":"https://fonts.gstatic.com/s/koho/v16/K2FzfZ5fmddNNiss1JzzIqCkDyvqZA.ttf",regular:"https://fonts.gstatic.com/s/koho/v16/K2F-fZ5fmddNBikefJbSOos.ttf",italic:"https://fonts.gstatic.com/s/koho/v16/K2FwfZ5fmddNNisUeLTXKou4Bg.ttf","500italic":"https://fonts.gstatic.com/s/koho/v16/K2FzfZ5fmddNNissjJ3zIqCkDyvqZA.ttf","600italic":"https://fonts.gstatic.com/s/koho/v16/K2FzfZ5fmddNNissoJrzIqCkDyvqZA.ttf","700italic":"https://fonts.gstatic.com/s/koho/v16/K2FzfZ5fmddNNissxJvzIqCkDyvqZA.ttf"}},{family:"Kodchasan",files:{200:"https://fonts.gstatic.com/s/kodchasan/v17/1cX0aUPOAJv9sG4I-DJeR1Cggeqo3eMeoA.ttf",300:"https://fonts.gstatic.com/s/kodchasan/v17/1cX0aUPOAJv9sG4I-DJeI1Oggeqo3eMeoA.ttf",500:"https://fonts.gstatic.com/s/kodchasan/v17/1cX0aUPOAJv9sG4I-DJee1Kggeqo3eMeoA.ttf",600:"https://fonts.gstatic.com/s/kodchasan/v17/1cX0aUPOAJv9sG4I-DJeV1Wggeqo3eMeoA.ttf",700:"https://fonts.gstatic.com/s/kodchasan/v17/1cX0aUPOAJv9sG4I-DJeM1Sggeqo3eMeoA.ttf","200italic":"https://fonts.gstatic.com/s/kodchasan/v17/1cXqaUPOAJv9sG4I-DJWjUlIgOCs_-YOoIgN.ttf","300italic":"https://fonts.gstatic.com/s/kodchasan/v17/1cXqaUPOAJv9sG4I-DJWjUksg-Cs_-YOoIgN.ttf",regular:"https://fonts.gstatic.com/s/kodchasan/v17/1cXxaUPOAJv9sG4I-DJmj3uEicG01A.ttf",italic:"https://fonts.gstatic.com/s/kodchasan/v17/1cX3aUPOAJv9sG4I-DJWjXGAq8Sk1PoH.ttf","500italic":"https://fonts.gstatic.com/s/kodchasan/v17/1cXqaUPOAJv9sG4I-DJWjUl0guCs_-YOoIgN.ttf","600italic":"https://fonts.gstatic.com/s/kodchasan/v17/1cXqaUPOAJv9sG4I-DJWjUlYheCs_-YOoIgN.ttf","700italic":"https://fonts.gstatic.com/s/kodchasan/v17/1cXqaUPOAJv9sG4I-DJWjUk8hOCs_-YOoIgN.ttf"}},{family:"Koh Santepheap",files:{100:"https://fonts.gstatic.com/s/kohsantepheap/v9/gNMfW3p6SJbwyGj2rBZyeOrTjNuFHVyTtjNJUWU.ttf",300:"https://fonts.gstatic.com/s/kohsantepheap/v9/gNMeW3p6SJbwyGj2rBZyeOrTjNtNP3y5mD9ASHz5.ttf",700:"https://fonts.gstatic.com/s/kohsantepheap/v9/gNMeW3p6SJbwyGj2rBZyeOrTjNtdOHy5mD9ASHz5.ttf",900:"https://fonts.gstatic.com/s/kohsantepheap/v9/gNMeW3p6SJbwyGj2rBZyeOrTjNtlOny5mD9ASHz5.ttf",regular:"https://fonts.gstatic.com/s/kohsantepheap/v9/gNMdW3p6SJbwyGj2rBZyeOrTjOPhF1ixsyNJ.ttf"}},{family:"Kolker Brush",files:{regular:"https://fonts.gstatic.com/s/kolkerbrush/v3/iJWDBXWRZjfKWdvmzwvvog3-7KJ6x8qNUQ.ttf"}},{family:"Konkhmer Sleokchher",files:{regular:"https://fonts.gstatic.com/s/konkhmersleokchher/v2/_Xmw-GE-rjmabA_M-aPOZOsCrUv825LFI3507E0d-W0.ttf"}},{family:"Kosugi",files:{regular:"https://fonts.gstatic.com/s/kosugi/v15/pxiFyp4_v8FCjlI4NLr6f1pdEQ.ttf"}},{family:"Kosugi Maru",files:{regular:"https://fonts.gstatic.com/s/kosugimaru/v14/0nksC9PgP_wGh21A2KeqGiTqivr9iBq_.ttf"}},{family:"Kotta One",files:{regular:"https://fonts.gstatic.com/s/kottaone/v20/S6u_w41LXzPc_jlfNWqPHA3s5dwt7w.ttf"}},{family:"Koulen",files:{regular:"https://fonts.gstatic.com/s/koulen/v25/AMOQz46as3KIBPeWgnA9kuYMUg.ttf"}},{family:"Kranky",files:{regular:"https://fonts.gstatic.com/s/kranky/v24/hESw6XVgJzlPsFnMpheEZo_H_w.ttf"}},{family:"Kreon",files:{300:"https://fonts.gstatic.com/s/kreon/v37/t5t9IRIUKY-TFF_LW5lnMR3v2DnvPNimejUfp2dWNg.ttf",500:"https://fonts.gstatic.com/s/kreon/v37/t5t9IRIUKY-TFF_LW5lnMR3v2DnvUNimejUfp2dWNg.ttf",600:"https://fonts.gstatic.com/s/kreon/v37/t5t9IRIUKY-TFF_LW5lnMR3v2DnvvN-mejUfp2dWNg.ttf",700:"https://fonts.gstatic.com/s/kreon/v37/t5t9IRIUKY-TFF_LW5lnMR3v2Dnvhd-mejUfp2dWNg.ttf",regular:"https://fonts.gstatic.com/s/kreon/v37/t5t9IRIUKY-TFF_LW5lnMR3v2DnvYtimejUfp2dWNg.ttf"}},{family:"Kristi",files:{regular:"https://fonts.gstatic.com/s/kristi/v17/uK_y4ricdeU6zwdRCh0TMv6EXw.ttf"}},{family:"Krona One",files:{regular:"https://fonts.gstatic.com/s/kronaone/v14/jAnEgHdjHcjgfIb1ZcUCMY-h3cWkWg.ttf"}},{family:"Krub",files:{200:"https://fonts.gstatic.com/s/krub/v9/sZlEdRyC6CRYZo47KLF4R6gWaf8.ttf",300:"https://fonts.gstatic.com/s/krub/v9/sZlEdRyC6CRYZuo4KLF4R6gWaf8.ttf",500:"https://fonts.gstatic.com/s/krub/v9/sZlEdRyC6CRYZrI5KLF4R6gWaf8.ttf",600:"https://fonts.gstatic.com/s/krub/v9/sZlEdRyC6CRYZp4-KLF4R6gWaf8.ttf",700:"https://fonts.gstatic.com/s/krub/v9/sZlEdRyC6CRYZvo_KLF4R6gWaf8.ttf","200italic":"https://fonts.gstatic.com/s/krub/v9/sZlGdRyC6CRYbkQiwLByQ4oTef_6gQ.ttf","300italic":"https://fonts.gstatic.com/s/krub/v9/sZlGdRyC6CRYbkQipLNyQ4oTef_6gQ.ttf",regular:"https://fonts.gstatic.com/s/krub/v9/sZlLdRyC6CRYXkYQDLlTW6E.ttf",italic:"https://fonts.gstatic.com/s/krub/v9/sZlFdRyC6CRYbkQaCJtWS6EPcA.ttf","500italic":"https://fonts.gstatic.com/s/krub/v9/sZlGdRyC6CRYbkQi_LJyQ4oTef_6gQ.ttf","600italic":"https://fonts.gstatic.com/s/krub/v9/sZlGdRyC6CRYbkQi0LVyQ4oTef_6gQ.ttf","700italic":"https://fonts.gstatic.com/s/krub/v9/sZlGdRyC6CRYbkQitLRyQ4oTef_6gQ.ttf"}},{family:"Kufam",files:{500:"https://fonts.gstatic.com/s/kufam/v20/C8c-4cY7pG7w_oSJDszBXsKCcBH3pKk7qQCJHvIwYg.ttf",600:"https://fonts.gstatic.com/s/kufam/v20/C8c-4cY7pG7w_oSJDszBXsKCcBH3SK47qQCJHvIwYg.ttf",700:"https://fonts.gstatic.com/s/kufam/v20/C8c-4cY7pG7w_oSJDszBXsKCcBH3ca47qQCJHvIwYg.ttf",800:"https://fonts.gstatic.com/s/kufam/v20/C8c-4cY7pG7w_oSJDszBXsKCcBH3Fq47qQCJHvIwYg.ttf",900:"https://fonts.gstatic.com/s/kufam/v20/C8c-4cY7pG7w_oSJDszBXsKCcBH3P647qQCJHvIwYg.ttf",regular:"https://fonts.gstatic.com/s/kufam/v20/C8c-4cY7pG7w_oSJDszBXsKCcBH3lqk7qQCJHvIwYg.ttf",italic:"https://fonts.gstatic.com/s/kufam/v20/C8c84cY7pG7w_q6APDMZN6kY3hbiXurT6gqNPPcgYp0i.ttf","500italic":"https://fonts.gstatic.com/s/kufam/v20/C8c84cY7pG7w_q6APDMZN6kY3hbiXurh6gqNPPcgYp0i.ttf","600italic":"https://fonts.gstatic.com/s/kufam/v20/C8c84cY7pG7w_q6APDMZN6kY3hbiXuoN7QqNPPcgYp0i.ttf","700italic":"https://fonts.gstatic.com/s/kufam/v20/C8c84cY7pG7w_q6APDMZN6kY3hbiXuo07QqNPPcgYp0i.ttf","800italic":"https://fonts.gstatic.com/s/kufam/v20/C8c84cY7pG7w_q6APDMZN6kY3hbiXupT7QqNPPcgYp0i.ttf","900italic":"https://fonts.gstatic.com/s/kufam/v20/C8c84cY7pG7w_q6APDMZN6kY3hbiXup67QqNPPcgYp0i.ttf"}},{family:"Kulim Park",files:{200:"https://fonts.gstatic.com/s/kulimpark/v14/fdN49secq3hflz1Uu3IwjJYNwa5aZbUvGjU.ttf",300:"https://fonts.gstatic.com/s/kulimpark/v14/fdN49secq3hflz1Uu3IwjPIOwa5aZbUvGjU.ttf",600:"https://fonts.gstatic.com/s/kulimpark/v14/fdN49secq3hflz1Uu3IwjIYIwa5aZbUvGjU.ttf",700:"https://fonts.gstatic.com/s/kulimpark/v14/fdN49secq3hflz1Uu3IwjOIJwa5aZbUvGjU.ttf","200italic":"https://fonts.gstatic.com/s/kulimpark/v14/fdNm9secq3hflz1Uu3IwhFwUKa9QYZcqCjVVUA.ttf","300italic":"https://fonts.gstatic.com/s/kulimpark/v14/fdNm9secq3hflz1Uu3IwhFwUTaxQYZcqCjVVUA.ttf",regular:"https://fonts.gstatic.com/s/kulimpark/v14/fdN79secq3hflz1Uu3IwtF4m5aZxebw.ttf",italic:"https://fonts.gstatic.com/s/kulimpark/v14/fdN59secq3hflz1Uu3IwhFws4YR0abw2Aw.ttf","600italic":"https://fonts.gstatic.com/s/kulimpark/v14/fdNm9secq3hflz1Uu3IwhFwUOapQYZcqCjVVUA.ttf","700italic":"https://fonts.gstatic.com/s/kulimpark/v14/fdNm9secq3hflz1Uu3IwhFwUXatQYZcqCjVVUA.ttf"}},{family:"Kumar One",files:{regular:"https://fonts.gstatic.com/s/kumarone/v18/bMr1mS-P958wYi6YaGeGNO6WU3oT0g.ttf"}},{family:"Kumar One Outline",files:{regular:"https://fonts.gstatic.com/s/kumaroneoutline/v17/Noao6VH62pyLP0fsrZ-v18wlUEcX9zDwRQu8EGKF.ttf"}},{family:"Kumbh Sans",files:{100:"https://fonts.gstatic.com/s/kumbhsans/v20/c4mP1n92AsfhuCq6tVsaoIx1LQICk0boNoq0SjlDfnzKo-bF3mdQkZcA8bTuUkqaLg.ttf",200:"https://fonts.gstatic.com/s/kumbhsans/v20/c4mP1n92AsfhuCq6tVsaoIx1LQICk0boNoq0SjlDfnzKo-bF3mdQEZYA8bTuUkqaLg.ttf",300:"https://fonts.gstatic.com/s/kumbhsans/v20/c4mP1n92AsfhuCq6tVsaoIx1LQICk0boNoq0SjlDfnzKo-bF3mdQz5YA8bTuUkqaLg.ttf",500:"https://fonts.gstatic.com/s/kumbhsans/v20/c4mP1n92AsfhuCq6tVsaoIx1LQICk0boNoq0SjlDfnzKo-bF3mdQo5YA8bTuUkqaLg.ttf",600:"https://fonts.gstatic.com/s/kumbhsans/v20/c4mP1n92AsfhuCq6tVsaoIx1LQICk0boNoq0SjlDfnzKo-bF3mdQT5EA8bTuUkqaLg.ttf",700:"https://fonts.gstatic.com/s/kumbhsans/v20/c4mP1n92AsfhuCq6tVsaoIx1LQICk0boNoq0SjlDfnzKo-bF3mdQdpEA8bTuUkqaLg.ttf",800:"https://fonts.gstatic.com/s/kumbhsans/v20/c4mP1n92AsfhuCq6tVsaoIx1LQICk0boNoq0SjlDfnzKo-bF3mdQEZEA8bTuUkqaLg.ttf",900:"https://fonts.gstatic.com/s/kumbhsans/v20/c4mP1n92AsfhuCq6tVsaoIx1LQICk0boNoq0SjlDfnzKo-bF3mdQOJEA8bTuUkqaLg.ttf",regular:"https://fonts.gstatic.com/s/kumbhsans/v20/c4mP1n92AsfhuCq6tVsaoIx1LQICk0boNoq0SjlDfnzKo-bF3mdQkZYA8bTuUkqaLg.ttf"}},{family:"Kurale",files:{regular:"https://fonts.gstatic.com/s/kurale/v11/4iCs6KV9e9dXjho6eAT3v02QFg.ttf"}},{family:"La Belle Aurore",files:{regular:"https://fonts.gstatic.com/s/labelleaurore/v16/RrQIbot8-mNYKnGNDkWlocovHeIIG-eFNVmULg.ttf"}},{family:"Labrada",files:{100:"https://fonts.gstatic.com/s/labrada/v2/ieVh2Y9HLWefIpOyF1Vi3ZqDss1Px9VTSgM4QPdUej17.ttf",200:"https://fonts.gstatic.com/s/labrada/v2/ieVh2Y9HLWefIpOyF1Vi3ZqDss1Px9XTSwM4QPdUej17.ttf",300:"https://fonts.gstatic.com/s/labrada/v2/ieVh2Y9HLWefIpOyF1Vi3ZqDss1Px9UNSwM4QPdUej17.ttf",500:"https://fonts.gstatic.com/s/labrada/v2/ieVh2Y9HLWefIpOyF1Vi3ZqDss1Px9VhSwM4QPdUej17.ttf",600:"https://fonts.gstatic.com/s/labrada/v2/ieVh2Y9HLWefIpOyF1Vi3ZqDss1Px9WNTAM4QPdUej17.ttf",700:"https://fonts.gstatic.com/s/labrada/v2/ieVh2Y9HLWefIpOyF1Vi3ZqDss1Px9W0TAM4QPdUej17.ttf",800:"https://fonts.gstatic.com/s/labrada/v2/ieVh2Y9HLWefIpOyF1Vi3ZqDss1Px9XTTAM4QPdUej17.ttf",900:"https://fonts.gstatic.com/s/labrada/v2/ieVh2Y9HLWefIpOyF1Vi3ZqDss1Px9X6TAM4QPdUej17.ttf",regular:"https://fonts.gstatic.com/s/labrada/v2/ieVh2Y9HLWefIpOyF1Vi3ZqDss1Px9VTSwM4QPdUej17.ttf","100italic":"https://fonts.gstatic.com/s/labrada/v2/ieVv2Y9HLWefIpOyPVxQIkLq2VfhwMCbCOt6SvN2fy17-dE.ttf","200italic":"https://fonts.gstatic.com/s/labrada/v2/ieVv2Y9HLWefIpOyPVxQIkLq2VfhwMCbCGt7SvN2fy17-dE.ttf","300italic":"https://fonts.gstatic.com/s/labrada/v2/ieVv2Y9HLWefIpOyPVxQIkLq2VfhwMCbCLV7SvN2fy17-dE.ttf",italic:"https://fonts.gstatic.com/s/labrada/v2/ieVv2Y9HLWefIpOyPVxQIkLq2VfhwMCbCOt7SvN2fy17-dE.ttf","500italic":"https://fonts.gstatic.com/s/labrada/v2/ieVv2Y9HLWefIpOyPVxQIkLq2VfhwMCbCNl7SvN2fy17-dE.ttf","600italic":"https://fonts.gstatic.com/s/labrada/v2/ieVv2Y9HLWefIpOyPVxQIkLq2VfhwMCbCDV8SvN2fy17-dE.ttf","700italic":"https://fonts.gstatic.com/s/labrada/v2/ieVv2Y9HLWefIpOyPVxQIkLq2VfhwMCbCAx8SvN2fy17-dE.ttf","800italic":"https://fonts.gstatic.com/s/labrada/v2/ieVv2Y9HLWefIpOyPVxQIkLq2VfhwMCbCGt8SvN2fy17-dE.ttf","900italic":"https://fonts.gstatic.com/s/labrada/v2/ieVv2Y9HLWefIpOyPVxQIkLq2VfhwMCbCEJ8SvN2fy17-dE.ttf"}},{family:"Lacquer",files:{regular:"https://fonts.gstatic.com/s/lacquer/v15/EYqzma1QwqpG4_BBB7-AXhttQ5I.ttf"}},{family:"Laila",files:{300:"https://fonts.gstatic.com/s/laila/v13/LYjBdG_8nE8jDLzxogNAh14nVcfe.ttf",500:"https://fonts.gstatic.com/s/laila/v13/LYjBdG_8nE8jDLypowNAh14nVcfe.ttf",600:"https://fonts.gstatic.com/s/laila/v13/LYjBdG_8nE8jDLyFpANAh14nVcfe.ttf",700:"https://fonts.gstatic.com/s/laila/v13/LYjBdG_8nE8jDLzhpQNAh14nVcfe.ttf",regular:"https://fonts.gstatic.com/s/laila/v13/LYjMdG_8nE8jDIRdiidIrEIu.ttf"}},{family:"Lakki Reddy",files:{regular:"https://fonts.gstatic.com/s/lakkireddy/v19/S6u5w49MUSzD9jlCPmvLZQfox9k97-xZ.ttf"}},{family:"Lalezar",files:{regular:"https://fonts.gstatic.com/s/lalezar/v14/zrfl0HLVx-HwTP82UaDyIiL0RCg.ttf"}},{family:"Lancelot",files:{regular:"https://fonts.gstatic.com/s/lancelot/v23/J7acnppxBGtQEulG4JY4xJ9CGyAa.ttf"}},{family:"Langar",files:{regular:"https://fonts.gstatic.com/s/langar/v27/kJEyBukW7AIlgjGVrTVZ99sqrQ.ttf"}},{family:"Lateef",files:{200:"https://fonts.gstatic.com/s/lateef/v29/hESz6XVnNCxEvkb0bjygbqTb9nQ-RA.ttf",300:"https://fonts.gstatic.com/s/lateef/v29/hESz6XVnNCxEvkb0Cj-gbqTb9nQ-RA.ttf",500:"https://fonts.gstatic.com/s/lateef/v29/hESz6XVnNCxEvkb0Uj6gbqTb9nQ-RA.ttf",600:"https://fonts.gstatic.com/s/lateef/v29/hESz6XVnNCxEvkb0fjmgbqTb9nQ-RA.ttf",700:"https://fonts.gstatic.com/s/lateef/v29/hESz6XVnNCxEvkb0GjigbqTb9nQ-RA.ttf",800:"https://fonts.gstatic.com/s/lateef/v29/hESz6XVnNCxEvkb0BjugbqTb9nQ-RA.ttf",regular:"https://fonts.gstatic.com/s/lateef/v29/hESw6XVnNCxEvkbMpheEZo_H_w.ttf"}},{family:"Lato",files:{100:"https://fonts.gstatic.com/s/lato/v24/S6u8w4BMUTPHh30wWyWrFCbw7A.ttf",300:"https://fonts.gstatic.com/s/lato/v24/S6u9w4BMUTPHh7USew-FGC_p9dw.ttf",700:"https://fonts.gstatic.com/s/lato/v24/S6u9w4BMUTPHh6UVew-FGC_p9dw.ttf",900:"https://fonts.gstatic.com/s/lato/v24/S6u9w4BMUTPHh50Xew-FGC_p9dw.ttf","100italic":"https://fonts.gstatic.com/s/lato/v24/S6u-w4BMUTPHjxsIPy-vNiPg7MU0.ttf","300italic":"https://fonts.gstatic.com/s/lato/v24/S6u_w4BMUTPHjxsI9w2PHA3s5dwt7w.ttf",regular:"https://fonts.gstatic.com/s/lato/v24/S6uyw4BMUTPHvxk6XweuBCY.ttf",italic:"https://fonts.gstatic.com/s/lato/v24/S6u8w4BMUTPHjxswWyWrFCbw7A.ttf","700italic":"https://fonts.gstatic.com/s/lato/v24/S6u_w4BMUTPHjxsI5wqPHA3s5dwt7w.ttf","900italic":"https://fonts.gstatic.com/s/lato/v24/S6u_w4BMUTPHjxsI3wiPHA3s5dwt7w.ttf"}},{family:"Lavishly Yours",files:{regular:"https://fonts.gstatic.com/s/lavishlyyours/v2/jizDREVIvGwH5OjiZmX9r5z_WxUY0TY7ikbI.ttf"}},{family:"League Gothic",files:{regular:"https://fonts.gstatic.com/s/leaguegothic/v6/qFdR35CBi4tvBz81xy7WG7ep-BQAY7Krj7feObpH_-amidQ6Q9hn.ttf"}},{family:"League Script",files:{regular:"https://fonts.gstatic.com/s/leaguescript/v24/CSR54zpSlumSWj9CGVsoBZdeaNNUuOwkC2s.ttf"}},{family:"League Spartan",files:{100:"https://fonts.gstatic.com/s/leaguespartan/v11/kJEnBuEW6A0lliaV_m88ja5Twtx8BWhtkDVmjZvM_oXpBMdcFguczA.ttf",200:"https://fonts.gstatic.com/s/leaguespartan/v11/kJEnBuEW6A0lliaV_m88ja5Twtx8BWhtkDVmjZvMfoTpBMdcFguczA.ttf",300:"https://fonts.gstatic.com/s/leaguespartan/v11/kJEnBuEW6A0lliaV_m88ja5Twtx8BWhtkDVmjZvMoITpBMdcFguczA.ttf",500:"https://fonts.gstatic.com/s/leaguespartan/v11/kJEnBuEW6A0lliaV_m88ja5Twtx8BWhtkDVmjZvMzITpBMdcFguczA.ttf",600:"https://fonts.gstatic.com/s/leaguespartan/v11/kJEnBuEW6A0lliaV_m88ja5Twtx8BWhtkDVmjZvMIIPpBMdcFguczA.ttf",700:"https://fonts.gstatic.com/s/leaguespartan/v11/kJEnBuEW6A0lliaV_m88ja5Twtx8BWhtkDVmjZvMGYPpBMdcFguczA.ttf",800:"https://fonts.gstatic.com/s/leaguespartan/v11/kJEnBuEW6A0lliaV_m88ja5Twtx8BWhtkDVmjZvMfoPpBMdcFguczA.ttf",900:"https://fonts.gstatic.com/s/leaguespartan/v11/kJEnBuEW6A0lliaV_m88ja5Twtx8BWhtkDVmjZvMV4PpBMdcFguczA.ttf",regular:"https://fonts.gstatic.com/s/leaguespartan/v11/kJEnBuEW6A0lliaV_m88ja5Twtx8BWhtkDVmjZvM_oTpBMdcFguczA.ttf"}},{family:"Leckerli One",files:{regular:"https://fonts.gstatic.com/s/leckerlione/v16/V8mCoQH8VCsNttEnxnGQ-1itLZxcBtItFw.ttf"}},{family:"Ledger",files:{regular:"https://fonts.gstatic.com/s/ledger/v16/j8_q6-HK1L3if_sxm8DwHTBhHw.ttf"}},{family:"Lekton",files:{700:"https://fonts.gstatic.com/s/lekton/v17/SZc73FDmLaWmWpBm4zjMlWjX4DJXgQ.ttf",regular:"https://fonts.gstatic.com/s/lekton/v17/SZc43FDmLaWmWpBeXxfonUPL6Q.ttf",italic:"https://fonts.gstatic.com/s/lekton/v17/SZc63FDmLaWmWpBuXR3sv0bb6StO.ttf"}},{family:"Lemon",files:{regular:"https://fonts.gstatic.com/s/lemon/v15/HI_EiYEVKqRMq0jBSZXAQ4-d.ttf"}},{family:"Lemonada",files:{300:"https://fonts.gstatic.com/s/lemonada/v26/0QI-MXFD9oygTWy_R-FFlwV-bgfR7QJGJOt2mfWc3Z2pTg.ttf",500:"https://fonts.gstatic.com/s/lemonada/v26/0QI-MXFD9oygTWy_R-FFlwV-bgfR7QJGSOt2mfWc3Z2pTg.ttf",600:"https://fonts.gstatic.com/s/lemonada/v26/0QI-MXFD9oygTWy_R-FFlwV-bgfR7QJGpOx2mfWc3Z2pTg.ttf",700:"https://fonts.gstatic.com/s/lemonada/v26/0QI-MXFD9oygTWy_R-FFlwV-bgfR7QJGnex2mfWc3Z2pTg.ttf",regular:"https://fonts.gstatic.com/s/lemonada/v26/0QI-MXFD9oygTWy_R-FFlwV-bgfR7QJGeut2mfWc3Z2pTg.ttf"}},{family:"Lexend",files:{100:"https://fonts.gstatic.com/s/lexend/v18/wlptgwvFAVdoq2_F94zlCfv0bz1WCzsX_LBte6KuGEo.ttf",200:"https://fonts.gstatic.com/s/lexend/v18/wlptgwvFAVdoq2_F94zlCfv0bz1WC7sW_LBte6KuGEo.ttf",300:"https://fonts.gstatic.com/s/lexend/v18/wlptgwvFAVdoq2_F94zlCfv0bz1WC2UW_LBte6KuGEo.ttf",500:"https://fonts.gstatic.com/s/lexend/v18/wlptgwvFAVdoq2_F94zlCfv0bz1WCwkW_LBte6KuGEo.ttf",600:"https://fonts.gstatic.com/s/lexend/v18/wlptgwvFAVdoq2_F94zlCfv0bz1WC-UR_LBte6KuGEo.ttf",700:"https://fonts.gstatic.com/s/lexend/v18/wlptgwvFAVdoq2_F94zlCfv0bz1WC9wR_LBte6KuGEo.ttf",800:"https://fonts.gstatic.com/s/lexend/v18/wlptgwvFAVdoq2_F94zlCfv0bz1WC7sR_LBte6KuGEo.ttf",900:"https://fonts.gstatic.com/s/lexend/v18/wlptgwvFAVdoq2_F94zlCfv0bz1WC5IR_LBte6KuGEo.ttf",regular:"https://fonts.gstatic.com/s/lexend/v18/wlptgwvFAVdoq2_F94zlCfv0bz1WCzsW_LBte6KuGEo.ttf"}},{family:"Lexend Deca",files:{100:"https://fonts.gstatic.com/s/lexenddeca/v21/K2FifZFYk-dHSE0UPPuwQ7CrD94i-NCKm-U48MxArBPCqLNflg.ttf",200:"https://fonts.gstatic.com/s/lexenddeca/v21/K2FifZFYk-dHSE0UPPuwQ7CrD94i-NCKm-U4cM1ArBPCqLNflg.ttf",300:"https://fonts.gstatic.com/s/lexenddeca/v21/K2FifZFYk-dHSE0UPPuwQ7CrD94i-NCKm-U4rs1ArBPCqLNflg.ttf",500:"https://fonts.gstatic.com/s/lexenddeca/v21/K2FifZFYk-dHSE0UPPuwQ7CrD94i-NCKm-U4ws1ArBPCqLNflg.ttf",600:"https://fonts.gstatic.com/s/lexenddeca/v21/K2FifZFYk-dHSE0UPPuwQ7CrD94i-NCKm-U4LspArBPCqLNflg.ttf",700:"https://fonts.gstatic.com/s/lexenddeca/v21/K2FifZFYk-dHSE0UPPuwQ7CrD94i-NCKm-U4F8pArBPCqLNflg.ttf",800:"https://fonts.gstatic.com/s/lexenddeca/v21/K2FifZFYk-dHSE0UPPuwQ7CrD94i-NCKm-U4cMpArBPCqLNflg.ttf",900:"https://fonts.gstatic.com/s/lexenddeca/v21/K2FifZFYk-dHSE0UPPuwQ7CrD94i-NCKm-U4WcpArBPCqLNflg.ttf",regular:"https://fonts.gstatic.com/s/lexenddeca/v21/K2FifZFYk-dHSE0UPPuwQ7CrD94i-NCKm-U48M1ArBPCqLNflg.ttf"}},{family:"Lexend Exa",files:{100:"https://fonts.gstatic.com/s/lexendexa/v30/UMBCrPdOoHOnxExyjdBeQCH18mulUxBvI9r7T6bHHJ8BRq0b.ttf",200:"https://fonts.gstatic.com/s/lexendexa/v30/UMBCrPdOoHOnxExyjdBeQCH18mulUxBvI9p7TqbHHJ8BRq0b.ttf",300:"https://fonts.gstatic.com/s/lexendexa/v30/UMBCrPdOoHOnxExyjdBeQCH18mulUxBvI9qlTqbHHJ8BRq0b.ttf",500:"https://fonts.gstatic.com/s/lexendexa/v30/UMBCrPdOoHOnxExyjdBeQCH18mulUxBvI9rJTqbHHJ8BRq0b.ttf",600:"https://fonts.gstatic.com/s/lexendexa/v30/UMBCrPdOoHOnxExyjdBeQCH18mulUxBvI9olSabHHJ8BRq0b.ttf",700:"https://fonts.gstatic.com/s/lexendexa/v30/UMBCrPdOoHOnxExyjdBeQCH18mulUxBvI9ocSabHHJ8BRq0b.ttf",800:"https://fonts.gstatic.com/s/lexendexa/v30/UMBCrPdOoHOnxExyjdBeQCH18mulUxBvI9p7SabHHJ8BRq0b.ttf",900:"https://fonts.gstatic.com/s/lexendexa/v30/UMBCrPdOoHOnxExyjdBeQCH18mulUxBvI9pSSabHHJ8BRq0b.ttf",regular:"https://fonts.gstatic.com/s/lexendexa/v30/UMBCrPdOoHOnxExyjdBeQCH18mulUxBvI9r7TqbHHJ8BRq0b.ttf"}},{family:"Lexend Giga",files:{100:"https://fonts.gstatic.com/s/lexendgiga/v24/PlIuFl67Mah5Y8yMHE7lkUZPlTBo4MWFfNRC2LmE68oo6eepYQ.ttf",200:"https://fonts.gstatic.com/s/lexendgiga/v24/PlIuFl67Mah5Y8yMHE7lkUZPlTBo4MWFfNRCWLiE68oo6eepYQ.ttf",300:"https://fonts.gstatic.com/s/lexendgiga/v24/PlIuFl67Mah5Y8yMHE7lkUZPlTBo4MWFfNRChriE68oo6eepYQ.ttf",500:"https://fonts.gstatic.com/s/lexendgiga/v24/PlIuFl67Mah5Y8yMHE7lkUZPlTBo4MWFfNRC6riE68oo6eepYQ.ttf",600:"https://fonts.gstatic.com/s/lexendgiga/v24/PlIuFl67Mah5Y8yMHE7lkUZPlTBo4MWFfNRCBr-E68oo6eepYQ.ttf",700:"https://fonts.gstatic.com/s/lexendgiga/v24/PlIuFl67Mah5Y8yMHE7lkUZPlTBo4MWFfNRCP7-E68oo6eepYQ.ttf",800:"https://fonts.gstatic.com/s/lexendgiga/v24/PlIuFl67Mah5Y8yMHE7lkUZPlTBo4MWFfNRCWL-E68oo6eepYQ.ttf",900:"https://fonts.gstatic.com/s/lexendgiga/v24/PlIuFl67Mah5Y8yMHE7lkUZPlTBo4MWFfNRCcb-E68oo6eepYQ.ttf",regular:"https://fonts.gstatic.com/s/lexendgiga/v24/PlIuFl67Mah5Y8yMHE7lkUZPlTBo4MWFfNRC2LiE68oo6eepYQ.ttf"}},{family:"Lexend Mega",files:{100:"https://fonts.gstatic.com/s/lexendmega/v24/qFdX35aBi5JtHD41zSTFEuTByuvYFuE9IbDL8fivveyiq9EqQw.ttf",200:"https://fonts.gstatic.com/s/lexendmega/v24/qFdX35aBi5JtHD41zSTFEuTByuvYFuE9IbDLcfmvveyiq9EqQw.ttf",300:"https://fonts.gstatic.com/s/lexendmega/v24/qFdX35aBi5JtHD41zSTFEuTByuvYFuE9IbDLr_mvveyiq9EqQw.ttf",500:"https://fonts.gstatic.com/s/lexendmega/v24/qFdX35aBi5JtHD41zSTFEuTByuvYFuE9IbDLw_mvveyiq9EqQw.ttf",600:"https://fonts.gstatic.com/s/lexendmega/v24/qFdX35aBi5JtHD41zSTFEuTByuvYFuE9IbDLL_6vveyiq9EqQw.ttf",700:"https://fonts.gstatic.com/s/lexendmega/v24/qFdX35aBi5JtHD41zSTFEuTByuvYFuE9IbDLFv6vveyiq9EqQw.ttf",800:"https://fonts.gstatic.com/s/lexendmega/v24/qFdX35aBi5JtHD41zSTFEuTByuvYFuE9IbDLcf6vveyiq9EqQw.ttf",900:"https://fonts.gstatic.com/s/lexendmega/v24/qFdX35aBi5JtHD41zSTFEuTByuvYFuE9IbDLWP6vveyiq9EqQw.ttf",regular:"https://fonts.gstatic.com/s/lexendmega/v24/qFdX35aBi5JtHD41zSTFEuTByuvYFuE9IbDL8fmvveyiq9EqQw.ttf"}},{family:"Lexend Peta",files:{100:"https://fonts.gstatic.com/s/lexendpeta/v27/BXR4vFPGjeLPh0kCfI4OkFX-UTQHSCaxvBgR6SFyW1YuRTsnfw.ttf",200:"https://fonts.gstatic.com/s/lexendpeta/v27/BXR4vFPGjeLPh0kCfI4OkFX-UTQHSCaxvBgRaSByW1YuRTsnfw.ttf",300:"https://fonts.gstatic.com/s/lexendpeta/v27/BXR4vFPGjeLPh0kCfI4OkFX-UTQHSCaxvBgRtyByW1YuRTsnfw.ttf",500:"https://fonts.gstatic.com/s/lexendpeta/v27/BXR4vFPGjeLPh0kCfI4OkFX-UTQHSCaxvBgR2yByW1YuRTsnfw.ttf",600:"https://fonts.gstatic.com/s/lexendpeta/v27/BXR4vFPGjeLPh0kCfI4OkFX-UTQHSCaxvBgRNydyW1YuRTsnfw.ttf",700:"https://fonts.gstatic.com/s/lexendpeta/v27/BXR4vFPGjeLPh0kCfI4OkFX-UTQHSCaxvBgRDidyW1YuRTsnfw.ttf",800:"https://fonts.gstatic.com/s/lexendpeta/v27/BXR4vFPGjeLPh0kCfI4OkFX-UTQHSCaxvBgRaSdyW1YuRTsnfw.ttf",900:"https://fonts.gstatic.com/s/lexendpeta/v27/BXR4vFPGjeLPh0kCfI4OkFX-UTQHSCaxvBgRQCdyW1YuRTsnfw.ttf",regular:"https://fonts.gstatic.com/s/lexendpeta/v27/BXR4vFPGjeLPh0kCfI4OkFX-UTQHSCaxvBgR6SByW1YuRTsnfw.ttf"}},{family:"Lexend Tera",files:{100:"https://fonts.gstatic.com/s/lexendtera/v27/RrQDbo98_jt_IXnBPwCWtYJLZ3P4hnaGKFiM5zITdpz0fYxcrQ.ttf",200:"https://fonts.gstatic.com/s/lexendtera/v27/RrQDbo98_jt_IXnBPwCWtYJLZ3P4hnaGKFiMZzMTdpz0fYxcrQ.ttf",300:"https://fonts.gstatic.com/s/lexendtera/v27/RrQDbo98_jt_IXnBPwCWtYJLZ3P4hnaGKFiMuTMTdpz0fYxcrQ.ttf",500:"https://fonts.gstatic.com/s/lexendtera/v27/RrQDbo98_jt_IXnBPwCWtYJLZ3P4hnaGKFiM1TMTdpz0fYxcrQ.ttf",600:"https://fonts.gstatic.com/s/lexendtera/v27/RrQDbo98_jt_IXnBPwCWtYJLZ3P4hnaGKFiMOTQTdpz0fYxcrQ.ttf",700:"https://fonts.gstatic.com/s/lexendtera/v27/RrQDbo98_jt_IXnBPwCWtYJLZ3P4hnaGKFiMADQTdpz0fYxcrQ.ttf",800:"https://fonts.gstatic.com/s/lexendtera/v27/RrQDbo98_jt_IXnBPwCWtYJLZ3P4hnaGKFiMZzQTdpz0fYxcrQ.ttf",900:"https://fonts.gstatic.com/s/lexendtera/v27/RrQDbo98_jt_IXnBPwCWtYJLZ3P4hnaGKFiMTjQTdpz0fYxcrQ.ttf",regular:"https://fonts.gstatic.com/s/lexendtera/v27/RrQDbo98_jt_IXnBPwCWtYJLZ3P4hnaGKFiM5zMTdpz0fYxcrQ.ttf"}},{family:"Lexend Zetta",files:{100:"https://fonts.gstatic.com/s/lexendzetta/v28/ll8uK2KYXje7CdOFnEWcU8synQbuVYjYB3BCy9bH0z5jbs8qbts.ttf",200:"https://fonts.gstatic.com/s/lexendzetta/v28/ll8uK2KYXje7CdOFnEWcU8synQbuVYjYB3BCy1bG0z5jbs8qbts.ttf",300:"https://fonts.gstatic.com/s/lexendzetta/v28/ll8uK2KYXje7CdOFnEWcU8synQbuVYjYB3BCy4jG0z5jbs8qbts.ttf",500:"https://fonts.gstatic.com/s/lexendzetta/v28/ll8uK2KYXje7CdOFnEWcU8synQbuVYjYB3BCy-TG0z5jbs8qbts.ttf",600:"https://fonts.gstatic.com/s/lexendzetta/v28/ll8uK2KYXje7CdOFnEWcU8synQbuVYjYB3BCywjB0z5jbs8qbts.ttf",700:"https://fonts.gstatic.com/s/lexendzetta/v28/ll8uK2KYXje7CdOFnEWcU8synQbuVYjYB3BCyzHB0z5jbs8qbts.ttf",800:"https://fonts.gstatic.com/s/lexendzetta/v28/ll8uK2KYXje7CdOFnEWcU8synQbuVYjYB3BCy1bB0z5jbs8qbts.ttf",900:"https://fonts.gstatic.com/s/lexendzetta/v28/ll8uK2KYXje7CdOFnEWcU8synQbuVYjYB3BCy3_B0z5jbs8qbts.ttf",regular:"https://fonts.gstatic.com/s/lexendzetta/v28/ll8uK2KYXje7CdOFnEWcU8synQbuVYjYB3BCy9bG0z5jbs8qbts.ttf"}},{family:"Libre Barcode 128",files:{regular:"https://fonts.gstatic.com/s/librebarcode128/v26/cIfnMbdUsUoiW3O_hVviCwVjuLtXeJ_A_gMk0izH.ttf"}},{family:"Libre Barcode 128 Text",files:{regular:"https://fonts.gstatic.com/s/librebarcode128text/v26/fdNv9tubt3ZEnz1Gu3I4-zppwZ9CWZ16Z0w5cV3Y6M90w4k.ttf"}},{family:"Libre Barcode 39",files:{regular:"https://fonts.gstatic.com/s/librebarcode39/v19/-nFnOHM08vwC6h8Li1eQnP_AHzI2K_d709jy92k.ttf"}},{family:"Libre Barcode 39 Extended",files:{regular:"https://fonts.gstatic.com/s/librebarcode39extended/v25/8At7Gt6_O5yNS0-K4Nf5U922qSzhJ3dUdfJpwNUgfNRCOZ1GOBw.ttf"}},{family:"Libre Barcode 39 Extended Text",files:{regular:"https://fonts.gstatic.com/s/librebarcode39extendedtext/v25/eLG1P_rwIgOiDA7yrs9LoKaYRVLQ1YldrrOnnL7xPO4jNP68fLIiPopNNA.ttf"}},{family:"Libre Barcode 39 Text",files:{regular:"https://fonts.gstatic.com/s/librebarcode39text/v26/sJoa3KhViNKANw_E3LwoDXvs5Un0HQ1vT-031RRL-9rYaw.ttf"}},{family:"Libre Barcode EAN13 Text",files:{regular:"https://fonts.gstatic.com/s/librebarcodeean13text/v19/wlpigxXFDU1_oCu9nfZytgIqSG0XRcJm_OQiB96PAGEki52WfA.ttf"}},{family:"Libre Baskerville",files:{700:"https://fonts.gstatic.com/s/librebaskerville/v14/kmKiZrc3Hgbbcjq75U4uslyuy4kn0qviTjYwI8Gcw6Oi.ttf",regular:"https://fonts.gstatic.com/s/librebaskerville/v14/kmKnZrc3Hgbbcjq75U4uslyuy4kn0pNeYRI4CN2V.ttf",italic:"https://fonts.gstatic.com/s/librebaskerville/v14/kmKhZrc3Hgbbcjq75U4uslyuy4kn0qNcaxYaDc2V2ro.ttf"}},{family:"Libre Bodoni",files:{500:"https://fonts.gstatic.com/s/librebodoni/v5/_Xm--H45qDWDYULr5OfyZudXzSBgY2oMBGte6L9fwWzZcOb3U3s.ttf",600:"https://fonts.gstatic.com/s/librebodoni/v5/_Xm--H45qDWDYULr5OfyZudXzSBgY2oMBGte6FNYwWzZcOb3U3s.ttf",700:"https://fonts.gstatic.com/s/librebodoni/v5/_Xm--H45qDWDYULr5OfyZudXzSBgY2oMBGte6GpYwWzZcOb3U3s.ttf",regular:"https://fonts.gstatic.com/s/librebodoni/v5/_Xm--H45qDWDYULr5OfyZudXzSBgY2oMBGte6I1fwWzZcOb3U3s.ttf",italic:"https://fonts.gstatic.com/s/librebodoni/v5/_Xm4-H45qDWDYULr5OfyZud9xBKfuwNnnsVZ_UUcKS_TdMTyQ3syLg.ttf","500italic":"https://fonts.gstatic.com/s/librebodoni/v5/_Xm4-H45qDWDYULr5OfyZud9xBKfuwNnnsVZ_UUcGy_TdMTyQ3syLg.ttf","600italic":"https://fonts.gstatic.com/s/librebodoni/v5/_Xm4-H45qDWDYULr5OfyZud9xBKfuwNnnsVZ_UUc9yjTdMTyQ3syLg.ttf","700italic":"https://fonts.gstatic.com/s/librebodoni/v5/_Xm4-H45qDWDYULr5OfyZud9xBKfuwNnnsVZ_UUczijTdMTyQ3syLg.ttf"}},{family:"Libre Caslon Display",files:{regular:"https://fonts.gstatic.com/s/librecaslondisplay/v14/TuGOUUFxWphYQ6YI6q9Xp61FQzxDRKmzr2lRdRhtCC4d.ttf"}},{family:"Libre Caslon Text",files:{700:"https://fonts.gstatic.com/s/librecaslontext/v5/DdT578IGsGw1aF1JU10PUbTvNNaDMfID8sdjNR-8ssPt.ttf",regular:"https://fonts.gstatic.com/s/librecaslontext/v5/DdT878IGsGw1aF1JU10PUbTvNNaDMcq_3eNrHgO1.ttf",italic:"https://fonts.gstatic.com/s/librecaslontext/v5/DdT678IGsGw1aF1JU10PUbTvNNaDMfq91-dJGxO1q9o.ttf"}},{family:"Libre Franklin",files:{100:"https://fonts.gstatic.com/s/librefranklin/v13/jizOREVItHgc8qDIbSTKq4XkRg8T88bjFuXOnduhLsSUB9rIb-JH1g.ttf",200:"https://fonts.gstatic.com/s/librefranklin/v13/jizOREVItHgc8qDIbSTKq4XkRg8T88bjFuXOnduhrsWUB9rIb-JH1g.ttf",300:"https://fonts.gstatic.com/s/librefranklin/v13/jizOREVItHgc8qDIbSTKq4XkRg8T88bjFuXOnduhcMWUB9rIb-JH1g.ttf",500:"https://fonts.gstatic.com/s/librefranklin/v13/jizOREVItHgc8qDIbSTKq4XkRg8T88bjFuXOnduhHMWUB9rIb-JH1g.ttf",600:"https://fonts.gstatic.com/s/librefranklin/v13/jizOREVItHgc8qDIbSTKq4XkRg8T88bjFuXOnduh8MKUB9rIb-JH1g.ttf",700:"https://fonts.gstatic.com/s/librefranklin/v13/jizOREVItHgc8qDIbSTKq4XkRg8T88bjFuXOnduhycKUB9rIb-JH1g.ttf",800:"https://fonts.gstatic.com/s/librefranklin/v13/jizOREVItHgc8qDIbSTKq4XkRg8T88bjFuXOnduhrsKUB9rIb-JH1g.ttf",900:"https://fonts.gstatic.com/s/librefranklin/v13/jizOREVItHgc8qDIbSTKq4XkRg8T88bjFuXOnduhh8KUB9rIb-JH1g.ttf",regular:"https://fonts.gstatic.com/s/librefranklin/v13/jizOREVItHgc8qDIbSTKq4XkRg8T88bjFuXOnduhLsWUB9rIb-JH1g.ttf","100italic":"https://fonts.gstatic.com/s/librefranklin/v13/jizMREVItHgc8qDIbSTKq4XkRiUawTk7f45UM9y05oZ8RdDMTedX1sGE.ttf","200italic":"https://fonts.gstatic.com/s/librefranklin/v13/jizMREVItHgc8qDIbSTKq4XkRiUawTk7f45UM9y05ob8RNDMTedX1sGE.ttf","300italic":"https://fonts.gstatic.com/s/librefranklin/v13/jizMREVItHgc8qDIbSTKq4XkRiUawTk7f45UM9y05oYiRNDMTedX1sGE.ttf",italic:"https://fonts.gstatic.com/s/librefranklin/v13/jizMREVItHgc8qDIbSTKq4XkRiUawTk7f45UM9y05oZ8RNDMTedX1sGE.ttf","500italic":"https://fonts.gstatic.com/s/librefranklin/v13/jizMREVItHgc8qDIbSTKq4XkRiUawTk7f45UM9y05oZORNDMTedX1sGE.ttf","600italic":"https://fonts.gstatic.com/s/librefranklin/v13/jizMREVItHgc8qDIbSTKq4XkRiUawTk7f45UM9y05oaiQ9DMTedX1sGE.ttf","700italic":"https://fonts.gstatic.com/s/librefranklin/v13/jizMREVItHgc8qDIbSTKq4XkRiUawTk7f45UM9y05oabQ9DMTedX1sGE.ttf","800italic":"https://fonts.gstatic.com/s/librefranklin/v13/jizMREVItHgc8qDIbSTKq4XkRiUawTk7f45UM9y05ob8Q9DMTedX1sGE.ttf","900italic":"https://fonts.gstatic.com/s/librefranklin/v13/jizMREVItHgc8qDIbSTKq4XkRiUawTk7f45UM9y05obVQ9DMTedX1sGE.ttf"}},{family:"Licorice",files:{regular:"https://fonts.gstatic.com/s/licorice/v3/t5tjIR8TMomTCAyjNk23hqLgzCHu.ttf"}},{family:"Life Savers",files:{700:"https://fonts.gstatic.com/s/lifesavers/v18/ZXu_e1UftKKabUQMgxAal8HXOS5Tk8fIpPRW.ttf",800:"https://fonts.gstatic.com/s/lifesavers/v18/ZXu_e1UftKKabUQMgxAal8HLOi5Tk8fIpPRW.ttf",regular:"https://fonts.gstatic.com/s/lifesavers/v18/ZXuie1UftKKabUQMgxAal_lrFgpbuNvB.ttf"}},{family:"Lilita One",files:{regular:"https://fonts.gstatic.com/s/lilitaone/v13/i7dPIFZ9Zz-WBtRtedDbUEZ2RFq7AwU.ttf"}},{family:"Lily Script One",files:{regular:"https://fonts.gstatic.com/s/lilyscriptone/v15/LhW9MV7ZMfIPdMxeBjBvFN8SXLS4gsSjQNsRMg.ttf"}},{family:"Limelight",files:{regular:"https://fonts.gstatic.com/s/limelight/v17/XLYkIZL7aopJVbZJHDuYPeNGrnY2TA.ttf"}},{family:"Linden Hill",files:{regular:"https://fonts.gstatic.com/s/lindenhill/v22/-F61fjxoKSg9Yc3hZgO8ygFI7CwC009k.ttf",italic:"https://fonts.gstatic.com/s/lindenhill/v22/-F63fjxoKSg9Yc3hZgO8yjFK5igg1l9kn-s.ttf"}},{family:"Literata",files:{200:"https://fonts.gstatic.com/s/literata/v34/or3PQ6P12-iJxAIgLa78DkrbXsDgk0oVDaDPYLanFLHpPf2TbJG_F_bcTWCWp8g.ttf",300:"https://fonts.gstatic.com/s/literata/v34/or3PQ6P12-iJxAIgLa78DkrbXsDgk0oVDaDPYLanFLHpPf2TbE-_F_bcTWCWp8g.ttf",500:"https://fonts.gstatic.com/s/literata/v34/or3PQ6P12-iJxAIgLa78DkrbXsDgk0oVDaDPYLanFLHpPf2TbCO_F_bcTWCWp8g.ttf",600:"https://fonts.gstatic.com/s/literata/v34/or3PQ6P12-iJxAIgLa78DkrbXsDgk0oVDaDPYLanFLHpPf2TbM-4F_bcTWCWp8g.ttf",700:"https://fonts.gstatic.com/s/literata/v34/or3PQ6P12-iJxAIgLa78DkrbXsDgk0oVDaDPYLanFLHpPf2TbPa4F_bcTWCWp8g.ttf",800:"https://fonts.gstatic.com/s/literata/v34/or3PQ6P12-iJxAIgLa78DkrbXsDgk0oVDaDPYLanFLHpPf2TbJG4F_bcTWCWp8g.ttf",900:"https://fonts.gstatic.com/s/literata/v34/or3PQ6P12-iJxAIgLa78DkrbXsDgk0oVDaDPYLanFLHpPf2TbLi4F_bcTWCWp8g.ttf",regular:"https://fonts.gstatic.com/s/literata/v34/or3PQ6P12-iJxAIgLa78DkrbXsDgk0oVDaDPYLanFLHpPf2TbBG_F_bcTWCWp8g.ttf","200italic":"https://fonts.gstatic.com/s/literata/v34/or3NQ6P12-iJxAIgLYT1PLs1Zd0nfUwAbeGVKoRYzNiCp1OUedn8f7XWSUKTt8iVow.ttf","300italic":"https://fonts.gstatic.com/s/literata/v34/or3NQ6P12-iJxAIgLYT1PLs1Zd0nfUwAbeGVKoRYzNiCp1OUedn8obXWSUKTt8iVow.ttf",italic:"https://fonts.gstatic.com/s/literata/v34/or3NQ6P12-iJxAIgLYT1PLs1Zd0nfUwAbeGVKoRYzNiCp1OUedn8_7XWSUKTt8iVow.ttf","500italic":"https://fonts.gstatic.com/s/literata/v34/or3NQ6P12-iJxAIgLYT1PLs1Zd0nfUwAbeGVKoRYzNiCp1OUedn8zbXWSUKTt8iVow.ttf","600italic":"https://fonts.gstatic.com/s/literata/v34/or3NQ6P12-iJxAIgLYT1PLs1Zd0nfUwAbeGVKoRYzNiCp1OUedn8IbLWSUKTt8iVow.ttf","700italic":"https://fonts.gstatic.com/s/literata/v34/or3NQ6P12-iJxAIgLYT1PLs1Zd0nfUwAbeGVKoRYzNiCp1OUedn8GLLWSUKTt8iVow.ttf","800italic":"https://fonts.gstatic.com/s/literata/v34/or3NQ6P12-iJxAIgLYT1PLs1Zd0nfUwAbeGVKoRYzNiCp1OUedn8f7LWSUKTt8iVow.ttf","900italic":"https://fonts.gstatic.com/s/literata/v34/or3NQ6P12-iJxAIgLYT1PLs1Zd0nfUwAbeGVKoRYzNiCp1OUedn8VrLWSUKTt8iVow.ttf"}},{family:"Liu Jian Mao Cao",files:{regular:"https://fonts.gstatic.com/s/liujianmaocao/v15/~ChIKEExpdSBKaWFuIE1hbyBDYW8gACoECAEYAQ==.ttf"}},{family:"Livvic",files:{100:"https://fonts.gstatic.com/s/livvic/v14/rnCr-x1S2hzjrlffC-M-mHnOSOuk.ttf",200:"https://fonts.gstatic.com/s/livvic/v14/rnCq-x1S2hzjrlffp8IeslfCQfK9WQ.ttf",300:"https://fonts.gstatic.com/s/livvic/v14/rnCq-x1S2hzjrlffw8EeslfCQfK9WQ.ttf",500:"https://fonts.gstatic.com/s/livvic/v14/rnCq-x1S2hzjrlffm8AeslfCQfK9WQ.ttf",600:"https://fonts.gstatic.com/s/livvic/v14/rnCq-x1S2hzjrlfft8ceslfCQfK9WQ.ttf",700:"https://fonts.gstatic.com/s/livvic/v14/rnCq-x1S2hzjrlff08YeslfCQfK9WQ.ttf",900:"https://fonts.gstatic.com/s/livvic/v14/rnCq-x1S2hzjrlff68QeslfCQfK9WQ.ttf","100italic":"https://fonts.gstatic.com/s/livvic/v14/rnCt-x1S2hzjrlfXbdtakn3sTfukQHs.ttf","200italic":"https://fonts.gstatic.com/s/livvic/v14/rnCs-x1S2hzjrlfXbdv2s13GY_etWWIJ.ttf","300italic":"https://fonts.gstatic.com/s/livvic/v14/rnCs-x1S2hzjrlfXbduSsF3GY_etWWIJ.ttf",regular:"https://fonts.gstatic.com/s/livvic/v14/rnCp-x1S2hzjrlfnb-k6unzeSA.ttf",italic:"https://fonts.gstatic.com/s/livvic/v14/rnCr-x1S2hzjrlfXbeM-mHnOSOuk.ttf","500italic":"https://fonts.gstatic.com/s/livvic/v14/rnCs-x1S2hzjrlfXbdvKsV3GY_etWWIJ.ttf","600italic":"https://fonts.gstatic.com/s/livvic/v14/rnCs-x1S2hzjrlfXbdvmtl3GY_etWWIJ.ttf","700italic":"https://fonts.gstatic.com/s/livvic/v14/rnCs-x1S2hzjrlfXbduCt13GY_etWWIJ.ttf","900italic":"https://fonts.gstatic.com/s/livvic/v14/rnCs-x1S2hzjrlfXbdu6tV3GY_etWWIJ.ttf"}},{family:"Lobster",files:{regular:"https://fonts.gstatic.com/s/lobster/v28/neILzCirqoswsqX9_oWsMqEzSJQ.ttf"}},{family:"Lobster Two",files:{700:"https://fonts.gstatic.com/s/lobstertwo/v18/BngRUXZGTXPUvIoyV6yN5-92w4CByxyKeuDp.ttf",regular:"https://fonts.gstatic.com/s/lobstertwo/v18/BngMUXZGTXPUvIoyV6yN59fK7KSJ4ACD.ttf",italic:"https://fonts.gstatic.com/s/lobstertwo/v18/BngOUXZGTXPUvIoyV6yN5-fI5qCr5RCDY_k.ttf","700italic":"https://fonts.gstatic.com/s/lobstertwo/v18/BngTUXZGTXPUvIoyV6yN5-fI3hyEwRiof_DpXMY.ttf"}},{family:"Londrina Outline",files:{regular:"https://fonts.gstatic.com/s/londrinaoutline/v23/C8c44dM8vmb14dfsZxhetg3pDH-SfuoxrSKMDvI.ttf"}},{family:"Londrina Shadow",files:{regular:"https://fonts.gstatic.com/s/londrinashadow/v22/oPWX_kB4kOQoWNJmjxLV5JuoCUlXRlaSxkrMCQ.ttf"}},{family:"Londrina Sketch",files:{regular:"https://fonts.gstatic.com/s/londrinasketch/v21/c4m41npxGMTnomOHtRU68eIJn8qfWWn5Pos6CA.ttf"}},{family:"Londrina Solid",files:{100:"https://fonts.gstatic.com/s/londrinasolid/v15/flUjRq6sw40kQEJxWNgkLuudGfs9KBYesZHhV64.ttf",300:"https://fonts.gstatic.com/s/londrinasolid/v15/flUiRq6sw40kQEJxWNgkLuudGfv1CjY0n53oTrcL.ttf",900:"https://fonts.gstatic.com/s/londrinasolid/v15/flUiRq6sw40kQEJxWNgkLuudGfvdDzY0n53oTrcL.ttf",regular:"https://fonts.gstatic.com/s/londrinasolid/v15/flUhRq6sw40kQEJxWNgkLuudGcNZIhI8tIHh.ttf"}},{family:"Long Cang",files:{regular:"https://fonts.gstatic.com/s/longcang/v17/LYjAdGP8kkgoTec8zkRgrXArXN7HWQ.ttf"}},{family:"Lora",files:{500:"https://fonts.gstatic.com/s/lora/v32/0QI6MX1D_JOuGQbT0gvTJPa787wsuyJGmKxemMeZ.ttf",600:"https://fonts.gstatic.com/s/lora/v32/0QI6MX1D_JOuGQbT0gvTJPa787zAvCJGmKxemMeZ.ttf",700:"https://fonts.gstatic.com/s/lora/v32/0QI6MX1D_JOuGQbT0gvTJPa787z5vCJGmKxemMeZ.ttf",regular:"https://fonts.gstatic.com/s/lora/v32/0QI6MX1D_JOuGQbT0gvTJPa787weuyJGmKxemMeZ.ttf",italic:"https://fonts.gstatic.com/s/lora/v32/0QI8MX1D_JOuMw_hLdO6T2wV9KnW-MoFkqh8ndeZzZ0.ttf","500italic":"https://fonts.gstatic.com/s/lora/v32/0QI8MX1D_JOuMw_hLdO6T2wV9KnW-PgFkqh8ndeZzZ0.ttf","600italic":"https://fonts.gstatic.com/s/lora/v32/0QI8MX1D_JOuMw_hLdO6T2wV9KnW-BQCkqh8ndeZzZ0.ttf","700italic":"https://fonts.gstatic.com/s/lora/v32/0QI8MX1D_JOuMw_hLdO6T2wV9KnW-C0Ckqh8ndeZzZ0.ttf"}},{family:"Love Light",files:{regular:"https://fonts.gstatic.com/s/lovelight/v3/t5tlIR0TNJyZWimpNAXDjKbCyTHuspo.ttf"}},{family:"Love Ya Like A Sister",files:{regular:"https://fonts.gstatic.com/s/loveyalikeasister/v16/R70EjzUBlOqPeouhFDfR80-0FhOqJubN-Be78nZcsGGycA.ttf"}},{family:"Loved by the King",files:{regular:"https://fonts.gstatic.com/s/lovedbytheking/v17/Gw6gwdP76VDVJNXerebZxUMeRXUF2PiNlXFu2R64.ttf"}},{family:"Lovers Quarrel",files:{regular:"https://fonts.gstatic.com/s/loversquarrel/v21/Yq6N-LSKXTL-5bCy8ksBzpQ_-zAsY7pO6siz.ttf"}},{family:"Luckiest Guy",files:{regular:"https://fonts.gstatic.com/s/luckiestguy/v18/_gP_1RrxsjcxVyin9l9n_j2RStR3qDpraA.ttf"}},{family:"Lusitana",files:{700:"https://fonts.gstatic.com/s/lusitana/v13/CSR74z9ShvucWzsMKyDmaccqYtd2vfwk.ttf",regular:"https://fonts.gstatic.com/s/lusitana/v13/CSR84z9ShvucWzsMKxhaRuMiSct_.ttf"}},{family:"Lustria",files:{regular:"https://fonts.gstatic.com/s/lustria/v13/9oRONYodvDEyjuhOrCg5MtPyAcg.ttf"}},{family:"Luxurious Roman",files:{regular:"https://fonts.gstatic.com/s/luxuriousroman/v4/buEupou_ZcP1w0yTKxJJokVSmbpqYgckeo9RMw.ttf"}},{family:"Luxurious Script",files:{regular:"https://fonts.gstatic.com/s/luxuriousscript/v5/ahcCv9e7yydulT32KZ0rBIoD7DzMg0rOby1JtYk.ttf"}},{family:"M PLUS 1",files:{100:"https://fonts.gstatic.com/s/mplus1/v6/R70EjygA28ymD4HgBUGzkN5Eyoj-WpW5VSe78nZcsGGycA.ttf",200:"https://fonts.gstatic.com/s/mplus1/v6/R70EjygA28ymD4HgBUGzkN5Eyoj-WpW51Sa78nZcsGGycA.ttf",300:"https://fonts.gstatic.com/s/mplus1/v6/R70EjygA28ymD4HgBUGzkN5Eyoj-WpW5Cya78nZcsGGycA.ttf",500:"https://fonts.gstatic.com/s/mplus1/v6/R70EjygA28ymD4HgBUGzkN5Eyoj-WpW5Zya78nZcsGGycA.ttf",600:"https://fonts.gstatic.com/s/mplus1/v6/R70EjygA28ymD4HgBUGzkN5Eyoj-WpW5iyG78nZcsGGycA.ttf",700:"https://fonts.gstatic.com/s/mplus1/v6/R70EjygA28ymD4HgBUGzkN5Eyoj-WpW5siG78nZcsGGycA.ttf",800:"https://fonts.gstatic.com/s/mplus1/v6/R70EjygA28ymD4HgBUGzkN5Eyoj-WpW51SG78nZcsGGycA.ttf",900:"https://fonts.gstatic.com/s/mplus1/v6/R70EjygA28ymD4HgBUGzkN5Eyoj-WpW5_CG78nZcsGGycA.ttf",regular:"https://fonts.gstatic.com/s/mplus1/v6/R70EjygA28ymD4HgBUGzkN5Eyoj-WpW5VSa78nZcsGGycA.ttf"}},{family:"M PLUS 1 Code",files:{100:"https://fonts.gstatic.com/s/mplus1code/v7/ypvMbXOOx2xFpzmYJS3N2_J2hBN6RZ5oIp8m_7iN0XHpapwmdZhY.ttf",200:"https://fonts.gstatic.com/s/mplus1code/v7/ypvMbXOOx2xFpzmYJS3N2_J2hBN6RZ5oIp8m_7gN0HHpapwmdZhY.ttf",300:"https://fonts.gstatic.com/s/mplus1code/v7/ypvMbXOOx2xFpzmYJS3N2_J2hBN6RZ5oIp8m_7jT0HHpapwmdZhY.ttf",500:"https://fonts.gstatic.com/s/mplus1code/v7/ypvMbXOOx2xFpzmYJS3N2_J2hBN6RZ5oIp8m_7i_0HHpapwmdZhY.ttf",600:"https://fonts.gstatic.com/s/mplus1code/v7/ypvMbXOOx2xFpzmYJS3N2_J2hBN6RZ5oIp8m_7hT13HpapwmdZhY.ttf",700:"https://fonts.gstatic.com/s/mplus1code/v7/ypvMbXOOx2xFpzmYJS3N2_J2hBN6RZ5oIp8m_7hq13HpapwmdZhY.ttf",regular:"https://fonts.gstatic.com/s/mplus1code/v7/ypvMbXOOx2xFpzmYJS3N2_J2hBN6RZ5oIp8m_7iN0HHpapwmdZhY.ttf"}},{family:"M PLUS 1p",files:{100:"https://fonts.gstatic.com/s/mplus1p/v28/e3tleuShHdiFyPFzBRrQnDQAUW3aq-5N.ttf",300:"https://fonts.gstatic.com/s/mplus1p/v28/e3tmeuShHdiFyPFzBRrQVBYge0PWovdU4w.ttf",500:"https://fonts.gstatic.com/s/mplus1p/v28/e3tmeuShHdiFyPFzBRrQDBcge0PWovdU4w.ttf",700:"https://fonts.gstatic.com/s/mplus1p/v28/e3tmeuShHdiFyPFzBRrQRBEge0PWovdU4w.ttf",800:"https://fonts.gstatic.com/s/mplus1p/v28/e3tmeuShHdiFyPFzBRrQWBIge0PWovdU4w.ttf",900:"https://fonts.gstatic.com/s/mplus1p/v28/e3tmeuShHdiFyPFzBRrQfBMge0PWovdU4w.ttf",regular:"https://fonts.gstatic.com/s/mplus1p/v28/e3tjeuShHdiFyPFzBRro-D4Ec2jKqw.ttf"}},{family:"M PLUS 2",files:{100:"https://fonts.gstatic.com/s/mplus2/v6/7Auhp_Eq3gO_OGbGGhjdwrDdpeIBxlkwOa-VxlqHrzNgAw.ttf",200:"https://fonts.gstatic.com/s/mplus2/v6/7Auhp_Eq3gO_OGbGGhjdwrDdpeIBxlkwua6VxlqHrzNgAw.ttf",300:"https://fonts.gstatic.com/s/mplus2/v6/7Auhp_Eq3gO_OGbGGhjdwrDdpeIBxlkwZ66VxlqHrzNgAw.ttf",500:"https://fonts.gstatic.com/s/mplus2/v6/7Auhp_Eq3gO_OGbGGhjdwrDdpeIBxlkwC66VxlqHrzNgAw.ttf",600:"https://fonts.gstatic.com/s/mplus2/v6/7Auhp_Eq3gO_OGbGGhjdwrDdpeIBxlkw56mVxlqHrzNgAw.ttf",700:"https://fonts.gstatic.com/s/mplus2/v6/7Auhp_Eq3gO_OGbGGhjdwrDdpeIBxlkw3qmVxlqHrzNgAw.ttf",800:"https://fonts.gstatic.com/s/mplus2/v6/7Auhp_Eq3gO_OGbGGhjdwrDdpeIBxlkwuamVxlqHrzNgAw.ttf",900:"https://fonts.gstatic.com/s/mplus2/v6/7Auhp_Eq3gO_OGbGGhjdwrDdpeIBxlkwkKmVxlqHrzNgAw.ttf",regular:"https://fonts.gstatic.com/s/mplus2/v6/7Auhp_Eq3gO_OGbGGhjdwrDdpeIBxlkwOa6VxlqHrzNgAw.ttf"}},{family:"M PLUS Code Latin",files:{100:"https://fonts.gstatic.com/s/mpluscodelatin/v11/hv-ylyV-aXg7x7tULiNXXBA0Np4WMS8fDIymHY8fy8wn4_ifLAtrObKDO0Xf1EbB6i5MqF9TRwg.ttf",200:"https://fonts.gstatic.com/s/mpluscodelatin/v11/hv-ylyV-aXg7x7tULiNXXBA0Np4WMS8fDIymHY8fy8wn4_ifLAtrObKDO0Xf1MbA6i5MqF9TRwg.ttf",300:"https://fonts.gstatic.com/s/mpluscodelatin/v11/hv-ylyV-aXg7x7tULiNXXBA0Np4WMS8fDIymHY8fy8wn4_ifLAtrObKDO0Xf1BjA6i5MqF9TRwg.ttf",500:"https://fonts.gstatic.com/s/mpluscodelatin/v11/hv-ylyV-aXg7x7tULiNXXBA0Np4WMS8fDIymHY8fy8wn4_ifLAtrObKDO0Xf1HTA6i5MqF9TRwg.ttf",600:"https://fonts.gstatic.com/s/mpluscodelatin/v11/hv-ylyV-aXg7x7tULiNXXBA0Np4WMS8fDIymHY8fy8wn4_ifLAtrObKDO0Xf1JjH6i5MqF9TRwg.ttf",700:"https://fonts.gstatic.com/s/mpluscodelatin/v11/hv-ylyV-aXg7x7tULiNXXBA0Np4WMS8fDIymHY8fy8wn4_ifLAtrObKDO0Xf1KHH6i5MqF9TRwg.ttf",regular:"https://fonts.gstatic.com/s/mpluscodelatin/v11/hv-ylyV-aXg7x7tULiNXXBA0Np4WMS8fDIymHY8fy8wn4_ifLAtrObKDO0Xf1EbA6i5MqF9TRwg.ttf"}},{family:"M PLUS Rounded 1c",files:{100:"https://fonts.gstatic.com/s/mplusrounded1c/v15/VdGCAYIAV6gnpUpoWwNkYvrugw9RuM3ixLsg6-av1x0.ttf",300:"https://fonts.gstatic.com/s/mplusrounded1c/v15/VdGBAYIAV6gnpUpoWwNkYvrugw9RuM0q5psKxeqmzgRK.ttf",500:"https://fonts.gstatic.com/s/mplusrounded1c/v15/VdGBAYIAV6gnpUpoWwNkYvrugw9RuM1y55sKxeqmzgRK.ttf",700:"https://fonts.gstatic.com/s/mplusrounded1c/v15/VdGBAYIAV6gnpUpoWwNkYvrugw9RuM064ZsKxeqmzgRK.ttf",800:"https://fonts.gstatic.com/s/mplusrounded1c/v15/VdGBAYIAV6gnpUpoWwNkYvrugw9RuM0m4psKxeqmzgRK.ttf",900:"https://fonts.gstatic.com/s/mplusrounded1c/v15/VdGBAYIAV6gnpUpoWwNkYvrugw9RuM0C45sKxeqmzgRK.ttf",regular:"https://fonts.gstatic.com/s/mplusrounded1c/v15/VdGEAYIAV6gnpUpoWwNkYvrugw9RuPWGzr8C7vav.ttf"}},{family:"Ma Shan Zheng",files:{regular:"https://fonts.gstatic.com/s/mashanzheng/v10/NaPecZTRCLxvwo41b4gvzkXaRMTsDIRSfr0.ttf"}},{family:"Macondo",files:{regular:"https://fonts.gstatic.com/s/macondo/v21/RrQQboN9-iB1IXmOS2XO0LBBd4Y.ttf"}},{family:"Macondo Swash Caps",files:{regular:"https://fonts.gstatic.com/s/macondoswashcaps/v20/6NUL8EaAJgGKZA7lpt941Z9s6ZYgDq6Oekoa_mm5bA.ttf"}},{family:"Mada",files:{200:"https://fonts.gstatic.com/s/mada/v19/7Aulp_0qnzeSVz7u3PJLcUMYOFlOkHkw2-m9x2iC.ttf",300:"https://fonts.gstatic.com/s/mada/v19/7Aulp_0qnzeSVz7u3PJLcUMYOFmQkHkw2-m9x2iC.ttf",500:"https://fonts.gstatic.com/s/mada/v19/7Aulp_0qnzeSVz7u3PJLcUMYOFn8kHkw2-m9x2iC.ttf",600:"https://fonts.gstatic.com/s/mada/v19/7Aulp_0qnzeSVz7u3PJLcUMYOFkQl3kw2-m9x2iC.ttf",700:"https://fonts.gstatic.com/s/mada/v19/7Aulp_0qnzeSVz7u3PJLcUMYOFkpl3kw2-m9x2iC.ttf",800:"https://fonts.gstatic.com/s/mada/v19/7Aulp_0qnzeSVz7u3PJLcUMYOFlOl3kw2-m9x2iC.ttf",900:"https://fonts.gstatic.com/s/mada/v19/7Aulp_0qnzeSVz7u3PJLcUMYOFlnl3kw2-m9x2iC.ttf",regular:"https://fonts.gstatic.com/s/mada/v19/7Aulp_0qnzeSVz7u3PJLcUMYOFnOkHkw2-m9x2iC.ttf"}},{family:"Magra",files:{700:"https://fonts.gstatic.com/s/magra/v14/uK_w4ruaZus72nbNDxcXEPuUX1ow.ttf",regular:"https://fonts.gstatic.com/s/magra/v14/uK_94ruaZus72k5xIDMfO-ed.ttf"}},{family:"Maiden Orange",files:{regular:"https://fonts.gstatic.com/s/maidenorange/v25/kJE1BuIX7AUmhi2V4m08kb1XjOZdCZS8FY8.ttf"}},{family:"Maitree",files:{200:"https://fonts.gstatic.com/s/maitree/v10/MjQDmil5tffhpBrklhGNWJGovLdh6OE.ttf",300:"https://fonts.gstatic.com/s/maitree/v10/MjQDmil5tffhpBrklnWOWJGovLdh6OE.ttf",500:"https://fonts.gstatic.com/s/maitree/v10/MjQDmil5tffhpBrkli2PWJGovLdh6OE.ttf",600:"https://fonts.gstatic.com/s/maitree/v10/MjQDmil5tffhpBrklgGIWJGovLdh6OE.ttf",700:"https://fonts.gstatic.com/s/maitree/v10/MjQDmil5tffhpBrklmWJWJGovLdh6OE.ttf",regular:"https://fonts.gstatic.com/s/maitree/v10/MjQGmil5tffhpBrkrtmmfJmDoL4.ttf"}},{family:"Major Mono Display",files:{regular:"https://fonts.gstatic.com/s/majormonodisplay/v13/RWmVoLyb5fEqtsfBX9PDZIGr2tFubRhLCn2QIndPww.ttf"}},{family:"Mako",files:{regular:"https://fonts.gstatic.com/s/mako/v18/H4coBX6Mmc_Z0ST09g478Lo.ttf"}},{family:"Mali",files:{200:"https://fonts.gstatic.com/s/mali/v10/N0bV2SRONuN4QOLlKlRaJdbWgdY.ttf",300:"https://fonts.gstatic.com/s/mali/v10/N0bV2SRONuN4QIbmKlRaJdbWgdY.ttf",500:"https://fonts.gstatic.com/s/mali/v10/N0bV2SRONuN4QN7nKlRaJdbWgdY.ttf",600:"https://fonts.gstatic.com/s/mali/v10/N0bV2SRONuN4QPLgKlRaJdbWgdY.ttf",700:"https://fonts.gstatic.com/s/mali/v10/N0bV2SRONuN4QJbhKlRaJdbWgdY.ttf","200italic":"https://fonts.gstatic.com/s/mali/v10/N0bX2SRONuN4SCj8wlVQIfTTkdbJYA.ttf","300italic":"https://fonts.gstatic.com/s/mali/v10/N0bX2SRONuN4SCj8plZQIfTTkdbJYA.ttf",regular:"https://fonts.gstatic.com/s/mali/v10/N0ba2SRONuN4eCrODlxxOd8.ttf",italic:"https://fonts.gstatic.com/s/mali/v10/N0bU2SRONuN4SCjECn50Kd_PmA.ttf","500italic":"https://fonts.gstatic.com/s/mali/v10/N0bX2SRONuN4SCj8_ldQIfTTkdbJYA.ttf","600italic":"https://fonts.gstatic.com/s/mali/v10/N0bX2SRONuN4SCj80lBQIfTTkdbJYA.ttf","700italic":"https://fonts.gstatic.com/s/mali/v10/N0bX2SRONuN4SCj8tlFQIfTTkdbJYA.ttf"}},{family:"Mallanna",files:{regular:"https://fonts.gstatic.com/s/mallanna/v13/hv-Vlzx-KEQb84YaDGwzEzRwVvJ-.ttf"}},{family:"Mandali",files:{regular:"https://fonts.gstatic.com/s/mandali/v14/LhWlMVbYOfASNfNUVFk1ZPdcKtA.ttf"}},{family:"Manjari",files:{100:"https://fonts.gstatic.com/s/manjari/v9/k3kSo8UPMOBO2w1UdbroK2vFIaOV8A.ttf",700:"https://fonts.gstatic.com/s/manjari/v9/k3kVo8UPMOBO2w1UdWLNC0HrLaqM6Q4.ttf",regular:"https://fonts.gstatic.com/s/manjari/v9/k3kQo8UPMOBO2w1UTd7iL0nAMaM.ttf"}},{family:"Manrope",files:{200:"https://fonts.gstatic.com/s/manrope/v14/xn7_YHE41ni1AdIRqAuZuw1Bx9mbZk59FO_F87jxeN7B.ttf",300:"https://fonts.gstatic.com/s/manrope/v14/xn7_YHE41ni1AdIRqAuZuw1Bx9mbZk6jFO_F87jxeN7B.ttf",500:"https://fonts.gstatic.com/s/manrope/v14/xn7_YHE41ni1AdIRqAuZuw1Bx9mbZk7PFO_F87jxeN7B.ttf",600:"https://fonts.gstatic.com/s/manrope/v14/xn7_YHE41ni1AdIRqAuZuw1Bx9mbZk4jE-_F87jxeN7B.ttf",700:"https://fonts.gstatic.com/s/manrope/v14/xn7_YHE41ni1AdIRqAuZuw1Bx9mbZk4aE-_F87jxeN7B.ttf",800:"https://fonts.gstatic.com/s/manrope/v14/xn7_YHE41ni1AdIRqAuZuw1Bx9mbZk59E-_F87jxeN7B.ttf",regular:"https://fonts.gstatic.com/s/manrope/v14/xn7_YHE41ni1AdIRqAuZuw1Bx9mbZk79FO_F87jxeN7B.ttf"}},{family:"Mansalva",files:{regular:"https://fonts.gstatic.com/s/mansalva/v12/aWB4m0aacbtDfvq5NJllI47vdyBg.ttf"}},{family:"Manuale",files:{300:"https://fonts.gstatic.com/s/manuale/v28/f0Xp0eas_8Z-TFZdHv3mMxFaSqASeeG6e7wD1TB_JHHY.ttf",500:"https://fonts.gstatic.com/s/manuale/v28/f0Xp0eas_8Z-TFZdHv3mMxFaSqASeeHWe7wD1TB_JHHY.ttf",600:"https://fonts.gstatic.com/s/manuale/v28/f0Xp0eas_8Z-TFZdHv3mMxFaSqASeeE6fLwD1TB_JHHY.ttf",700:"https://fonts.gstatic.com/s/manuale/v28/f0Xp0eas_8Z-TFZdHv3mMxFaSqASeeEDfLwD1TB_JHHY.ttf",800:"https://fonts.gstatic.com/s/manuale/v28/f0Xp0eas_8Z-TFZdHv3mMxFaSqASeeFkfLwD1TB_JHHY.ttf",regular:"https://fonts.gstatic.com/s/manuale/v28/f0Xp0eas_8Z-TFZdHv3mMxFaSqASeeHke7wD1TB_JHHY.ttf","300italic":"https://fonts.gstatic.com/s/manuale/v28/f0Xn0eas_8Z-TFZdNPTUzMkzITq8fvQsOApA3zRdIWHYr8M.ttf",italic:"https://fonts.gstatic.com/s/manuale/v28/f0Xn0eas_8Z-TFZdNPTUzMkzITq8fvQsOFRA3zRdIWHYr8M.ttf","500italic":"https://fonts.gstatic.com/s/manuale/v28/f0Xn0eas_8Z-TFZdNPTUzMkzITq8fvQsOGZA3zRdIWHYr8M.ttf","600italic":"https://fonts.gstatic.com/s/manuale/v28/f0Xn0eas_8Z-TFZdNPTUzMkzITq8fvQsOIpH3zRdIWHYr8M.ttf","700italic":"https://fonts.gstatic.com/s/manuale/v28/f0Xn0eas_8Z-TFZdNPTUzMkzITq8fvQsOLNH3zRdIWHYr8M.ttf","800italic":"https://fonts.gstatic.com/s/manuale/v28/f0Xn0eas_8Z-TFZdNPTUzMkzITq8fvQsONRH3zRdIWHYr8M.ttf"}},{family:"Marcellus",files:{regular:"https://fonts.gstatic.com/s/marcellus/v13/wEO_EBrOk8hQLDvIAF8FUfAL3EsHiA.ttf"}},{family:"Marcellus SC",files:{regular:"https://fonts.gstatic.com/s/marcellussc/v13/ke8iOgUHP1dg-Rmi6RWjbLEPgdydGKikhA.ttf"}},{family:"Marck Script",files:{regular:"https://fonts.gstatic.com/s/marckscript/v17/nwpTtK2oNgBA3Or78gapdwuCzyI-aMPF7Q.ttf"}},{family:"Margarine",files:{regular:"https://fonts.gstatic.com/s/margarine/v22/qkBXXvoE6trLT9Y7YLye5JRLkAXbMQ.ttf"}},{family:"Marhey",files:{300:"https://fonts.gstatic.com/s/marhey/v4/x3d8ck7Laq-T7wl7mqfVrEe9sDvtBZVwO2cXiGevOMw.ttf",500:"https://fonts.gstatic.com/s/marhey/v4/x3d8ck7Laq-T7wl7mqfVrEe9sDvtBflwO2cXiGevOMw.ttf",600:"https://fonts.gstatic.com/s/marhey/v4/x3d8ck7Laq-T7wl7mqfVrEe9sDvtBRV3O2cXiGevOMw.ttf",700:"https://fonts.gstatic.com/s/marhey/v4/x3d8ck7Laq-T7wl7mqfVrEe9sDvtBSx3O2cXiGevOMw.ttf",regular:"https://fonts.gstatic.com/s/marhey/v4/x3d8ck7Laq-T7wl7mqfVrEe9sDvtBctwO2cXiGevOMw.ttf"}},{family:"Markazi Text",files:{500:"https://fonts.gstatic.com/s/markazitext/v22/sykh-ydym6AtQaiEtX7yhqb_rV1k_81ZVYYZtcaQT4MlBekmJLo.ttf",600:"https://fonts.gstatic.com/s/markazitext/v22/sykh-ydym6AtQaiEtX7yhqb_rV1k_81ZVYYZtSqXT4MlBekmJLo.ttf",700:"https://fonts.gstatic.com/s/markazitext/v22/sykh-ydym6AtQaiEtX7yhqb_rV1k_81ZVYYZtROXT4MlBekmJLo.ttf",regular:"https://fonts.gstatic.com/s/markazitext/v22/sykh-ydym6AtQaiEtX7yhqb_rV1k_81ZVYYZtfSQT4MlBekmJLo.ttf"}},{family:"Marko One",files:{regular:"https://fonts.gstatic.com/s/markoone/v22/9Btq3DFG0cnVM5lw1haaKpUfrHPzUw.ttf"}},{family:"Marmelad",files:{regular:"https://fonts.gstatic.com/s/marmelad/v18/Qw3eZQdSHj_jK2e-8tFLG-YMC0R8.ttf"}},{family:"Martel",files:{200:"https://fonts.gstatic.com/s/martel/v10/PN_yRfK9oXHga0XVqekahRbX9vnDzw.ttf",300:"https://fonts.gstatic.com/s/martel/v10/PN_yRfK9oXHga0XVzeoahRbX9vnDzw.ttf",600:"https://fonts.gstatic.com/s/martel/v10/PN_yRfK9oXHga0XVuewahRbX9vnDzw.ttf",700:"https://fonts.gstatic.com/s/martel/v10/PN_yRfK9oXHga0XV3e0ahRbX9vnDzw.ttf",800:"https://fonts.gstatic.com/s/martel/v10/PN_yRfK9oXHga0XVwe4ahRbX9vnDzw.ttf",900:"https://fonts.gstatic.com/s/martel/v10/PN_yRfK9oXHga0XV5e8ahRbX9vnDzw.ttf",regular:"https://fonts.gstatic.com/s/martel/v10/PN_xRfK9oXHga0XtYcI-jT3L_w.ttf"}},{family:"Martel Sans",files:{200:"https://fonts.gstatic.com/s/martelsans/v12/h0GxssGi7VdzDgKjM-4d8hAX5suHFUknqMxQ.ttf",300:"https://fonts.gstatic.com/s/martelsans/v12/h0GxssGi7VdzDgKjM-4d8hBz5cuHFUknqMxQ.ttf",600:"https://fonts.gstatic.com/s/martelsans/v12/h0GxssGi7VdzDgKjM-4d8hAH48uHFUknqMxQ.ttf",700:"https://fonts.gstatic.com/s/martelsans/v12/h0GxssGi7VdzDgKjM-4d8hBj4suHFUknqMxQ.ttf",800:"https://fonts.gstatic.com/s/martelsans/v12/h0GxssGi7VdzDgKjM-4d8hB_4cuHFUknqMxQ.ttf",900:"https://fonts.gstatic.com/s/martelsans/v12/h0GxssGi7VdzDgKjM-4d8hBb4MuHFUknqMxQ.ttf",regular:"https://fonts.gstatic.com/s/martelsans/v12/h0GsssGi7VdzDgKjM-4d8ijfze-PPlUu.ttf"}},{family:"Martian Mono",files:{100:"https://fonts.gstatic.com/s/martianmono/v3/2V08KIcADoYhV6w87xrTKjs4CYElh_VS9YA4TlTnQzaVMIE6j15dYY1qus6WD75kdpF2.ttf",200:"https://fonts.gstatic.com/s/martianmono/v3/2V08KIcADoYhV6w87xrTKjs4CYElh_VS9YA4TlTnQzaVMIE6j15dYY3qu86WD75kdpF2.ttf",300:"https://fonts.gstatic.com/s/martianmono/v3/2V08KIcADoYhV6w87xrTKjs4CYElh_VS9YA4TlTnQzaVMIE6j15dYY00u86WD75kdpF2.ttf",500:"https://fonts.gstatic.com/s/martianmono/v3/2V08KIcADoYhV6w87xrTKjs4CYElh_VS9YA4TlTnQzaVMIE6j15dYY1Yu86WD75kdpF2.ttf",600:"https://fonts.gstatic.com/s/martianmono/v3/2V08KIcADoYhV6w87xrTKjs4CYElh_VS9YA4TlTnQzaVMIE6j15dYY20vM6WD75kdpF2.ttf",700:"https://fonts.gstatic.com/s/martianmono/v3/2V08KIcADoYhV6w87xrTKjs4CYElh_VS9YA4TlTnQzaVMIE6j15dYY2NvM6WD75kdpF2.ttf",800:"https://fonts.gstatic.com/s/martianmono/v3/2V08KIcADoYhV6w87xrTKjs4CYElh_VS9YA4TlTnQzaVMIE6j15dYY3qvM6WD75kdpF2.ttf",regular:"https://fonts.gstatic.com/s/martianmono/v3/2V08KIcADoYhV6w87xrTKjs4CYElh_VS9YA4TlTnQzaVMIE6j15dYY1qu86WD75kdpF2.ttf"}},{family:"Marvel",files:{700:"https://fonts.gstatic.com/s/marvel/v14/nwpWtKeoNgBV0qawLXHgB1WmxwkiYQ.ttf",regular:"https://fonts.gstatic.com/s/marvel/v14/nwpVtKeoNgBV0qaIkV7ED366zg.ttf",italic:"https://fonts.gstatic.com/s/marvel/v14/nwpXtKeoNgBV0qa4k1TALXuqzhA7.ttf","700italic":"https://fonts.gstatic.com/s/marvel/v14/nwpQtKeoNgBV0qa4k2x8Al-i5QwyYdrc.ttf"}},{family:"Mate",files:{regular:"https://fonts.gstatic.com/s/mate/v15/m8JdjftRd7WZ2z28WoXSaLU.ttf",italic:"https://fonts.gstatic.com/s/mate/v15/m8JTjftRd7WZ6z-2XqfXeLVdbw.ttf"}},{family:"Mate SC",files:{regular:"https://fonts.gstatic.com/s/matesc/v22/-nF8OGQ1-uoVr2wKyiXZ95OkJwA.ttf"}},{family:"Material Icons",files:{regular:"https://fonts.gstatic.com/s/materialicons/v140/flUhRq6tzZclQEJ-Vdg-IuiaDsNZIhI8tIHh.ttf"}},{family:"Material Icons Outlined",files:{regular:"https://fonts.gstatic.com/s/materialiconsoutlined/v109/gok-H7zzDkdnRel8-DQ6KAXJ69wP1tGnf4ZGhUcdl5GuI2Ze.otf"}},{family:"Material Icons Round",files:{regular:"https://fonts.gstatic.com/s/materialiconsround/v108/LDItaoyNOAY6Uewc665JcIzCKsKc_M9flwmMq_fTTvg-.otf"}},{family:"Material Icons Sharp",files:{regular:"https://fonts.gstatic.com/s/materialiconssharp/v109/oPWQ_lt5nv4pWNJpghLP75WiFR4kLh3kvmvSImEyc0vd.otf"}},{family:"Material Icons Two Tone",files:{regular:"https://fonts.gstatic.com/s/materialiconstwotone/v112/hESh6WRmNCxEqUmNyh3JDeGxjVVyMg4tHGctNCu3NjDrH_77.otf"}},{family:"Material Symbols Outlined",files:{100:"https://fonts.gstatic.com/s/materialsymbolsoutlined/v114/kJF1BvYX7BgnkSrUwT8OhrdQw4oELdPIeeII9v6oDMzByHX9rA6RzaxHMPdY43zj-jCxv3fzvRNU22ZXGJpEpjC_1v-p_4MrImHCIJIZrDCvHeembd5zrTgt.ttf",200:"https://fonts.gstatic.com/s/materialsymbolsoutlined/v114/kJF1BvYX7BgnkSrUwT8OhrdQw4oELdPIeeII9v6oDMzByHX9rA6RzaxHMPdY43zj-jCxv3fzvRNU22ZXGJpEpjC_1v-p_4MrImHCIJIZrDAvHOembd5zrTgt.ttf",300:"https://fonts.gstatic.com/s/materialsymbolsoutlined/v114/kJF1BvYX7BgnkSrUwT8OhrdQw4oELdPIeeII9v6oDMzByHX9rA6RzaxHMPdY43zj-jCxv3fzvRNU22ZXGJpEpjC_1v-p_4MrImHCIJIZrDDxHOembd5zrTgt.ttf",500:"https://fonts.gstatic.com/s/materialsymbolsoutlined/v114/kJF1BvYX7BgnkSrUwT8OhrdQw4oELdPIeeII9v6oDMzByHX9rA6RzaxHMPdY43zj-jCxv3fzvRNU22ZXGJpEpjC_1v-p_4MrImHCIJIZrDCdHOembd5zrTgt.ttf",600:"https://fonts.gstatic.com/s/materialsymbolsoutlined/v114/kJF1BvYX7BgnkSrUwT8OhrdQw4oELdPIeeII9v6oDMzByHX9rA6RzaxHMPdY43zj-jCxv3fzvRNU22ZXGJpEpjC_1v-p_4MrImHCIJIZrDBxG-embd5zrTgt.ttf",700:"https://fonts.gstatic.com/s/materialsymbolsoutlined/v114/kJF1BvYX7BgnkSrUwT8OhrdQw4oELdPIeeII9v6oDMzByHX9rA6RzaxHMPdY43zj-jCxv3fzvRNU22ZXGJpEpjC_1v-p_4MrImHCIJIZrDBIG-embd5zrTgt.ttf",regular:"https://fonts.gstatic.com/s/materialsymbolsoutlined/v114/kJF1BvYX7BgnkSrUwT8OhrdQw4oELdPIeeII9v6oDMzByHX9rA6RzaxHMPdY43zj-jCxv3fzvRNU22ZXGJpEpjC_1v-p_4MrImHCIJIZrDCvHOembd5zrTgt.ttf"}},{family:"Material Symbols Rounded",files:{100:"https://fonts.gstatic.com/s/materialsymbolsrounded/v113/syl0-zNym6YjUruM-QrEh7-nyTnjDwKNJ_190FjpZIvDmUSVOK7BDB_Qb9vUSzq3wzLK-P0J-V_Zs-QtQth3-jOcbTCVpeRL2w5rwZu2rIekXxKJKJBjAa8.ttf",200:"https://fonts.gstatic.com/s/materialsymbolsrounded/v113/syl0-zNym6YjUruM-QrEh7-nyTnjDwKNJ_190FjpZIvDmUSVOK7BDB_Qb9vUSzq3wzLK-P0J-V_Zs-QtQth3-jOcbTCVpeRL2w5rwZu2rAelXxKJKJBjAa8.ttf",300:"https://fonts.gstatic.com/s/materialsymbolsrounded/v113/syl0-zNym6YjUruM-QrEh7-nyTnjDwKNJ_190FjpZIvDmUSVOK7BDB_Qb9vUSzq3wzLK-P0J-V_Zs-QtQth3-jOcbTCVpeRL2w5rwZu2rNmlXxKJKJBjAa8.ttf",500:"https://fonts.gstatic.com/s/materialsymbolsrounded/v113/syl0-zNym6YjUruM-QrEh7-nyTnjDwKNJ_190FjpZIvDmUSVOK7BDB_Qb9vUSzq3wzLK-P0J-V_Zs-QtQth3-jOcbTCVpeRL2w5rwZu2rLWlXxKJKJBjAa8.ttf",600:"https://fonts.gstatic.com/s/materialsymbolsrounded/v113/syl0-zNym6YjUruM-QrEh7-nyTnjDwKNJ_190FjpZIvDmUSVOK7BDB_Qb9vUSzq3wzLK-P0J-V_Zs-QtQth3-jOcbTCVpeRL2w5rwZu2rFmiXxKJKJBjAa8.ttf",700:"https://fonts.gstatic.com/s/materialsymbolsrounded/v113/syl0-zNym6YjUruM-QrEh7-nyTnjDwKNJ_190FjpZIvDmUSVOK7BDB_Qb9vUSzq3wzLK-P0J-V_Zs-QtQth3-jOcbTCVpeRL2w5rwZu2rGCiXxKJKJBjAa8.ttf",regular:"https://fonts.gstatic.com/s/materialsymbolsrounded/v113/syl0-zNym6YjUruM-QrEh7-nyTnjDwKNJ_190FjpZIvDmUSVOK7BDB_Qb9vUSzq3wzLK-P0J-V_Zs-QtQth3-jOcbTCVpeRL2w5rwZu2rIelXxKJKJBjAa8.ttf"}},{family:"Material Symbols Sharp",files:{100:"https://fonts.gstatic.com/s/materialsymbolssharp/v110/gNNBW2J8Roq16WD5tFNRaeLQk6-SHQ_R00k4c2_whPnoY9ruReaU4bHmz74m0ZkGH-VBYe1x0TV6x4yFH8F-H5OdzEL3sVTgJtfbYxOLozCOJ1H7-knk.ttf",200:"https://fonts.gstatic.com/s/materialsymbolssharp/v110/gNNBW2J8Roq16WD5tFNRaeLQk6-SHQ_R00k4c2_whPnoY9ruReaU4bHmz74m0ZkGH-VBYe1x0TV6x4yFH8F-H5OdzEL3sVTgJtfbYxMLojCOJ1H7-knk.ttf",300:"https://fonts.gstatic.com/s/materialsymbolssharp/v110/gNNBW2J8Roq16WD5tFNRaeLQk6-SHQ_R00k4c2_whPnoY9ruReaU4bHmz74m0ZkGH-VBYe1x0TV6x4yFH8F-H5OdzEL3sVTgJtfbYxPVojCOJ1H7-knk.ttf",500:"https://fonts.gstatic.com/s/materialsymbolssharp/v110/gNNBW2J8Roq16WD5tFNRaeLQk6-SHQ_R00k4c2_whPnoY9ruReaU4bHmz74m0ZkGH-VBYe1x0TV6x4yFH8F-H5OdzEL3sVTgJtfbYxO5ojCOJ1H7-knk.ttf",600:"https://fonts.gstatic.com/s/materialsymbolssharp/v110/gNNBW2J8Roq16WD5tFNRaeLQk6-SHQ_R00k4c2_whPnoY9ruReaU4bHmz74m0ZkGH-VBYe1x0TV6x4yFH8F-H5OdzEL3sVTgJtfbYxNVpTCOJ1H7-knk.ttf",700:"https://fonts.gstatic.com/s/materialsymbolssharp/v110/gNNBW2J8Roq16WD5tFNRaeLQk6-SHQ_R00k4c2_whPnoY9ruReaU4bHmz74m0ZkGH-VBYe1x0TV6x4yFH8F-H5OdzEL3sVTgJtfbYxNspTCOJ1H7-knk.ttf",regular:"https://fonts.gstatic.com/s/materialsymbolssharp/v110/gNNBW2J8Roq16WD5tFNRaeLQk6-SHQ_R00k4c2_whPnoY9ruReaU4bHmz74m0ZkGH-VBYe1x0TV6x4yFH8F-H5OdzEL3sVTgJtfbYxOLojCOJ1H7-knk.ttf"}},{family:"Maven Pro",files:{500:"https://fonts.gstatic.com/s/mavenpro/v32/7Auup_AqnyWWAxW2Wk3swUz56MS91Eww8Rf25nCpozp5GvU.ttf",600:"https://fonts.gstatic.com/s/mavenpro/v32/7Auup_AqnyWWAxW2Wk3swUz56MS91Eww8fvx5nCpozp5GvU.ttf",700:"https://fonts.gstatic.com/s/mavenpro/v32/7Auup_AqnyWWAxW2Wk3swUz56MS91Eww8cLx5nCpozp5GvU.ttf",800:"https://fonts.gstatic.com/s/mavenpro/v32/7Auup_AqnyWWAxW2Wk3swUz56MS91Eww8aXx5nCpozp5GvU.ttf",900:"https://fonts.gstatic.com/s/mavenpro/v32/7Auup_AqnyWWAxW2Wk3swUz56MS91Eww8Yzx5nCpozp5GvU.ttf",regular:"https://fonts.gstatic.com/s/mavenpro/v32/7Auup_AqnyWWAxW2Wk3swUz56MS91Eww8SX25nCpozp5GvU.ttf"}},{family:"McLaren",files:{regular:"https://fonts.gstatic.com/s/mclaren/v14/2EbnL-ZuAXFqZFXISYYf8z2Yt_c.ttf"}},{family:"Mea Culpa",files:{regular:"https://fonts.gstatic.com/s/meaculpa/v3/AMOTz4GcuWbEIuza8jsZms0QW3mqyg.ttf"}},{family:"Meddon",files:{regular:"https://fonts.gstatic.com/s/meddon/v20/kmK8ZqA2EgDNeHTZhBdB3y_Aow.ttf"}},{family:"MedievalSharp",files:{regular:"https://fonts.gstatic.com/s/medievalsharp/v24/EvOJzAlL3oU5AQl2mP5KdgptAq96MwvXLDk.ttf"}},{family:"Medula One",files:{regular:"https://fonts.gstatic.com/s/medulaone/v19/YA9Wr0qb5kjJM6l2V0yukiEqs7GtlvY.ttf"}},{family:"Meera Inimai",files:{regular:"https://fonts.gstatic.com/s/meerainimai/v12/845fNMM5EIqOW5MPuvO3ILep_2jDVevnLQ.ttf"}},{family:"Megrim",files:{regular:"https://fonts.gstatic.com/s/megrim/v16/46kulbz5WjvLqJZlbWXgd0RY1g.ttf"}},{family:"Meie Script",files:{regular:"https://fonts.gstatic.com/s/meiescript/v21/_LOImzDK7erRjhunIspaMjxn5IXg0WDz.ttf"}},{family:"Meow Script",files:{regular:"https://fonts.gstatic.com/s/meowscript/v5/0FlQVPqanlaJrtr8AnJ0ESch0_0CfDf1.ttf"}},{family:"Merienda",files:{300:"https://fonts.gstatic.com/s/merienda/v19/gNMaW3x8Qoy5_mf8uUkJGHtiYXjmKFy5JHhoSU78QGBV0A.ttf",500:"https://fonts.gstatic.com/s/merienda/v19/gNMaW3x8Qoy5_mf8uUkJGHtiYXjmKFy5SHhoSU78QGBV0A.ttf",600:"https://fonts.gstatic.com/s/merienda/v19/gNMaW3x8Qoy5_mf8uUkJGHtiYXjmKFy5pH9oSU78QGBV0A.ttf",700:"https://fonts.gstatic.com/s/merienda/v19/gNMaW3x8Qoy5_mf8uUkJGHtiYXjmKFy5nX9oSU78QGBV0A.ttf",800:"https://fonts.gstatic.com/s/merienda/v19/gNMaW3x8Qoy5_mf8uUkJGHtiYXjmKFy5-n9oSU78QGBV0A.ttf",900:"https://fonts.gstatic.com/s/merienda/v19/gNMaW3x8Qoy5_mf8uUkJGHtiYXjmKFy5039oSU78QGBV0A.ttf",regular:"https://fonts.gstatic.com/s/merienda/v19/gNMaW3x8Qoy5_mf8uUkJGHtiYXjmKFy5enhoSU78QGBV0A.ttf"}},{family:"Merriweather",files:{300:"https://fonts.gstatic.com/s/merriweather/v30/u-4n0qyriQwlOrhSvowK_l521wRpX837pvjxPA.ttf",700:"https://fonts.gstatic.com/s/merriweather/v30/u-4n0qyriQwlOrhSvowK_l52xwNpX837pvjxPA.ttf",900:"https://fonts.gstatic.com/s/merriweather/v30/u-4n0qyriQwlOrhSvowK_l52_wFpX837pvjxPA.ttf","300italic":"https://fonts.gstatic.com/s/merriweather/v30/u-4l0qyriQwlOrhSvowK_l5-eR7lXcf_hP3hPGWH.ttf",regular:"https://fonts.gstatic.com/s/merriweather/v30/u-440qyriQwlOrhSvowK_l5OeyxNV-bnrw.ttf",italic:"https://fonts.gstatic.com/s/merriweather/v30/u-4m0qyriQwlOrhSvowK_l5-eSZJdeP3r-Ho.ttf","700italic":"https://fonts.gstatic.com/s/merriweather/v30/u-4l0qyriQwlOrhSvowK_l5-eR71Wsf_hP3hPGWH.ttf","900italic":"https://fonts.gstatic.com/s/merriweather/v30/u-4l0qyriQwlOrhSvowK_l5-eR7NWMf_hP3hPGWH.ttf"}},{family:"Merriweather Sans",files:{300:"https://fonts.gstatic.com/s/merriweathersans/v26/2-cO9IRs1JiJN1FRAMjTN5zd9vgsFF_5asQTb6hZ2JKZ_O4ljuEG7xFHnQ.ttf",500:"https://fonts.gstatic.com/s/merriweathersans/v26/2-cO9IRs1JiJN1FRAMjTN5zd9vgsFF_5asQTb6hZ2JKZkO4ljuEG7xFHnQ.ttf",600:"https://fonts.gstatic.com/s/merriweathersans/v26/2-cO9IRs1JiJN1FRAMjTN5zd9vgsFF_5asQTb6hZ2JKZfOkljuEG7xFHnQ.ttf",700:"https://fonts.gstatic.com/s/merriweathersans/v26/2-cO9IRs1JiJN1FRAMjTN5zd9vgsFF_5asQTb6hZ2JKZRekljuEG7xFHnQ.ttf",800:"https://fonts.gstatic.com/s/merriweathersans/v26/2-cO9IRs1JiJN1FRAMjTN5zd9vgsFF_5asQTb6hZ2JKZIukljuEG7xFHnQ.ttf",regular:"https://fonts.gstatic.com/s/merriweathersans/v26/2-cO9IRs1JiJN1FRAMjTN5zd9vgsFF_5asQTb6hZ2JKZou4ljuEG7xFHnQ.ttf","300italic":"https://fonts.gstatic.com/s/merriweathersans/v26/2-cM9IRs1JiJN1FRAMjTN5zd9vgsFHXwWDvLBsPDdpWMaq2TzesCzRRXnaur.ttf",italic:"https://fonts.gstatic.com/s/merriweathersans/v26/2-cM9IRs1JiJN1FRAMjTN5zd9vgsFHXwWDvLBsPDdpWMaq3NzesCzRRXnaur.ttf","500italic":"https://fonts.gstatic.com/s/merriweathersans/v26/2-cM9IRs1JiJN1FRAMjTN5zd9vgsFHXwWDvLBsPDdpWMaq3_zesCzRRXnaur.ttf","600italic":"https://fonts.gstatic.com/s/merriweathersans/v26/2-cM9IRs1JiJN1FRAMjTN5zd9vgsFHXwWDvLBsPDdpWMaq0TyusCzRRXnaur.ttf","700italic":"https://fonts.gstatic.com/s/merriweathersans/v26/2-cM9IRs1JiJN1FRAMjTN5zd9vgsFHXwWDvLBsPDdpWMaq0qyusCzRRXnaur.ttf","800italic":"https://fonts.gstatic.com/s/merriweathersans/v26/2-cM9IRs1JiJN1FRAMjTN5zd9vgsFHXwWDvLBsPDdpWMaq1NyusCzRRXnaur.ttf"}},{family:"Metal",files:{regular:"https://fonts.gstatic.com/s/metal/v28/lW-wwjUJIXTo7i3nnoQAUdN2.ttf"}},{family:"Metal Mania",files:{regular:"https://fonts.gstatic.com/s/metalmania/v22/RWmMoKWb4e8kqMfBUdPFJeXCg6UKDXlq.ttf"}},{family:"Metamorphous",files:{regular:"https://fonts.gstatic.com/s/metamorphous/v18/Wnz8HA03aAXcC39ZEX5y1330PCCthTsmaQ.ttf"}},{family:"Metrophobic",files:{regular:"https://fonts.gstatic.com/s/metrophobic/v23/sJoA3LZUhMSAPV_u0qwiAT-J737FPEEL.ttf"}},{family:"Michroma",files:{regular:"https://fonts.gstatic.com/s/michroma/v16/PN_zRfy9qWD8fEagAMg6rzjb_-Da.ttf"}},{family:"Milonga",files:{regular:"https://fonts.gstatic.com/s/milonga/v20/SZc53FHnIaK9W5kffz3GkUrS8DI.ttf"}},{family:"Miltonian",files:{regular:"https://fonts.gstatic.com/s/miltonian/v26/zOL-4pbPn6Ne9JqTg9mr6e5As-FeiQ.ttf"}},{family:"Miltonian Tattoo",files:{regular:"https://fonts.gstatic.com/s/miltoniantattoo/v28/EvOUzBRL0o0kCxF-lcMCQxlpVsA_FwP8MDBku-s.ttf"}},{family:"Mina",files:{700:"https://fonts.gstatic.com/s/mina/v11/-nF8OGc18vARl4NMyiXZ95OkJwA.ttf",regular:"https://fonts.gstatic.com/s/mina/v11/-nFzOGc18vARrz9j7i3y65o.ttf"}},{family:"Mingzat",files:{regular:"https://fonts.gstatic.com/s/mingzat/v5/0QIgMX5C-o-oWWyvBttkm_mv670.ttf"}},{family:"Miniver",files:{regular:"https://fonts.gstatic.com/s/miniver/v21/eLGcP-PxIg-5H0vC770Cy8r8fWA.ttf"}},{family:"Miriam Libre",files:{700:"https://fonts.gstatic.com/s/miriamlibre/v14/DdT-798HsHwubBAqfkcBTL_X3LbbRcC7_-Z7Hg.ttf",regular:"https://fonts.gstatic.com/s/miriamlibre/v14/DdTh798HsHwubBAqfkcBTL_vYJn_Teun9g.ttf"}},{family:"Mirza",files:{500:"https://fonts.gstatic.com/s/mirza/v15/co3FmWlikiN5EtIpAeO4mafBomDi.ttf",600:"https://fonts.gstatic.com/s/mirza/v15/co3FmWlikiN5EtIFBuO4mafBomDi.ttf",700:"https://fonts.gstatic.com/s/mirza/v15/co3FmWlikiN5EtJhB-O4mafBomDi.ttf",regular:"https://fonts.gstatic.com/s/mirza/v15/co3ImWlikiN5EurdKMewsrvI.ttf"}},{family:"Miss Fajardose",files:{regular:"https://fonts.gstatic.com/s/missfajardose/v22/E21-_dn5gvrawDdPFVl-N0Ajb8qvWPaJq4no.ttf"}},{family:"Mitr",files:{200:"https://fonts.gstatic.com/s/mitr/v11/pxiEypw5ucZF8fMZFJDUc1NECPY.ttf",300:"https://fonts.gstatic.com/s/mitr/v11/pxiEypw5ucZF8ZcaFJDUc1NECPY.ttf",500:"https://fonts.gstatic.com/s/mitr/v11/pxiEypw5ucZF8c8bFJDUc1NECPY.ttf",600:"https://fonts.gstatic.com/s/mitr/v11/pxiEypw5ucZF8eMcFJDUc1NECPY.ttf",700:"https://fonts.gstatic.com/s/mitr/v11/pxiEypw5ucZF8YcdFJDUc1NECPY.ttf",regular:"https://fonts.gstatic.com/s/mitr/v11/pxiLypw5ucZFyTsyMJj_b1o.ttf"}},{family:"Mochiy Pop One",files:{regular:"https://fonts.gstatic.com/s/mochiypopone/v7/QdVPSTA9Jh-gg-5XZP2UmU4O9kwwD3s6ZKAi.ttf"}},{family:"Mochiy Pop P One",files:{regular:"https://fonts.gstatic.com/s/mochiypoppone/v7/Ktk2AKuPeY_td1-h9LayHYWCjAqyN4O3WYZB_sU.ttf"}},{family:"Modak",files:{regular:"https://fonts.gstatic.com/s/modak/v18/EJRYQgs1XtIEsnMH8BVZ76KU.ttf"}},{family:"Modern Antiqua",files:{regular:"https://fonts.gstatic.com/s/modernantiqua/v22/NGStv5TIAUg6Iq_RLNo_2dp1sI1Ea2u0c3Gi.ttf"}},{family:"Mogra",files:{regular:"https://fonts.gstatic.com/s/mogra/v19/f0X40eSs8c95TBo4DvLmxtnG.ttf"}},{family:"Mohave",files:{300:"https://fonts.gstatic.com/s/mohave/v8/7cH0v4ksjJunKqMVAOPIMOeSmiojdif_HvCQopLSvBk.ttf",500:"https://fonts.gstatic.com/s/mohave/v8/7cH0v4ksjJunKqMVAOPIMOeSmiojdkv_HvCQopLSvBk.ttf",600:"https://fonts.gstatic.com/s/mohave/v8/7cH0v4ksjJunKqMVAOPIMOeSmiojdqf4HvCQopLSvBk.ttf",700:"https://fonts.gstatic.com/s/mohave/v8/7cH0v4ksjJunKqMVAOPIMOeSmiojdp74HvCQopLSvBk.ttf",regular:"https://fonts.gstatic.com/s/mohave/v8/7cH0v4ksjJunKqMVAOPIMOeSmiojdnn_HvCQopLSvBk.ttf","300italic":"https://fonts.gstatic.com/s/mohave/v8/7cH2v4ksjJunKqM_CdE36I75AIQkY7G8qLOaprDXrBlSVw.ttf",italic:"https://fonts.gstatic.com/s/mohave/v8/7cH2v4ksjJunKqM_CdE36I75AIQkY7G89rOaprDXrBlSVw.ttf","500italic":"https://fonts.gstatic.com/s/mohave/v8/7cH2v4ksjJunKqM_CdE36I75AIQkY7G8xLOaprDXrBlSVw.ttf","600italic":"https://fonts.gstatic.com/s/mohave/v8/7cH2v4ksjJunKqM_CdE36I75AIQkY7G8KLSaprDXrBlSVw.ttf","700italic":"https://fonts.gstatic.com/s/mohave/v8/7cH2v4ksjJunKqM_CdE36I75AIQkY7G8EbSaprDXrBlSVw.ttf"}},{family:"Molengo",files:{regular:"https://fonts.gstatic.com/s/molengo/v16/I_uuMpWeuBzZNBtQbbRQkiCvs5Y.ttf"}},{family:"Molle",files:{italic:"https://fonts.gstatic.com/s/molle/v21/E21n_dL5hOXFhWEsXzgmVydREus.ttf"}},{family:"Monda",files:{700:"https://fonts.gstatic.com/s/monda/v16/TK3gWkYFABsmjsLaGz8Dl-tPKo2t.ttf",regular:"https://fonts.gstatic.com/s/monda/v16/TK3tWkYFABsmjvpmNBsLvPdG.ttf"}},{family:"Monofett",files:{regular:"https://fonts.gstatic.com/s/monofett/v23/mFTyWbofw6zc9NtnW43SuRwr0VJ7.ttf"}},{family:"Monomaniac One",files:{regular:"https://fonts.gstatic.com/s/monomaniacone/v9/4iC06K17YctZjx50EU-QlwPmcqRnqYkB5kwI.ttf"}},{family:"Monoton",files:{regular:"https://fonts.gstatic.com/s/monoton/v15/5h1aiZUrOngCibe4fkbBQ2S7FU8.ttf"}},{family:"Monsieur La Doulaise",files:{regular:"https://fonts.gstatic.com/s/monsieurladoulaise/v15/_Xmz-GY4rjmCbQfc-aPRaa4pqV340p7EZl5ewkEU4HTy.ttf"}},{family:"Montaga",files:{regular:"https://fonts.gstatic.com/s/montaga/v13/H4cnBX2Ml8rCkEO_0gYQ7LO5mqc.ttf"}},{family:"Montagu Slab",files:{100:"https://fonts.gstatic.com/s/montaguslab/v6/6qLhKZIQtB_zv0xUaXRDWkY_HXsphdLRZF40vm_jzR2jhk_n3T6ACkDbE3P9Fs7bOSO7.ttf",200:"https://fonts.gstatic.com/s/montaguslab/v6/6qLhKZIQtB_zv0xUaXRDWkY_HXsphdLRZF40vm_jzR2jhk_n3T6ACkBbEnP9Fs7bOSO7.ttf",300:"https://fonts.gstatic.com/s/montaguslab/v6/6qLhKZIQtB_zv0xUaXRDWkY_HXsphdLRZF40vm_jzR2jhk_n3T6ACkCFEnP9Fs7bOSO7.ttf",500:"https://fonts.gstatic.com/s/montaguslab/v6/6qLhKZIQtB_zv0xUaXRDWkY_HXsphdLRZF40vm_jzR2jhk_n3T6ACkDpEnP9Fs7bOSO7.ttf",600:"https://fonts.gstatic.com/s/montaguslab/v6/6qLhKZIQtB_zv0xUaXRDWkY_HXsphdLRZF40vm_jzR2jhk_n3T6ACkAFFXP9Fs7bOSO7.ttf",700:"https://fonts.gstatic.com/s/montaguslab/v6/6qLhKZIQtB_zv0xUaXRDWkY_HXsphdLRZF40vm_jzR2jhk_n3T6ACkA8FXP9Fs7bOSO7.ttf",regular:"https://fonts.gstatic.com/s/montaguslab/v6/6qLhKZIQtB_zv0xUaXRDWkY_HXsphdLRZF40vm_jzR2jhk_n3T6ACkDbEnP9Fs7bOSO7.ttf"}},{family:"MonteCarlo",files:{regular:"https://fonts.gstatic.com/s/montecarlo/v8/buEzpo6-f9X01GadLA0G0CoV_NxLeiw.ttf"}},{family:"Montez",files:{regular:"https://fonts.gstatic.com/s/montez/v18/845ZNMk5GoGIX8lm1LDeSd-R_g.ttf"}},{family:"Montserrat",files:{100:"https://fonts.gstatic.com/s/montserrat/v25/JTUHjIg1_i6t8kCHKm4532VJOt5-QNFgpCtr6Uw-Y3tcoqK5.ttf",200:"https://fonts.gstatic.com/s/montserrat/v25/JTUHjIg1_i6t8kCHKm4532VJOt5-QNFgpCvr6Ew-Y3tcoqK5.ttf",300:"https://fonts.gstatic.com/s/montserrat/v25/JTUHjIg1_i6t8kCHKm4532VJOt5-QNFgpCs16Ew-Y3tcoqK5.ttf",500:"https://fonts.gstatic.com/s/montserrat/v25/JTUHjIg1_i6t8kCHKm4532VJOt5-QNFgpCtZ6Ew-Y3tcoqK5.ttf",600:"https://fonts.gstatic.com/s/montserrat/v25/JTUHjIg1_i6t8kCHKm4532VJOt5-QNFgpCu170w-Y3tcoqK5.ttf",700:"https://fonts.gstatic.com/s/montserrat/v25/JTUHjIg1_i6t8kCHKm4532VJOt5-QNFgpCuM70w-Y3tcoqK5.ttf",800:"https://fonts.gstatic.com/s/montserrat/v25/JTUHjIg1_i6t8kCHKm4532VJOt5-QNFgpCvr70w-Y3tcoqK5.ttf",900:"https://fonts.gstatic.com/s/montserrat/v25/JTUHjIg1_i6t8kCHKm4532VJOt5-QNFgpCvC70w-Y3tcoqK5.ttf",regular:"https://fonts.gstatic.com/s/montserrat/v25/JTUHjIg1_i6t8kCHKm4532VJOt5-QNFgpCtr6Ew-Y3tcoqK5.ttf","100italic":"https://fonts.gstatic.com/s/montserrat/v25/JTUFjIg1_i6t8kCHKm459Wx7xQYXK0vOoz6jq6R8aX9-p7K5ILg.ttf","200italic":"https://fonts.gstatic.com/s/montserrat/v25/JTUFjIg1_i6t8kCHKm459Wx7xQYXK0vOoz6jqyR9aX9-p7K5ILg.ttf","300italic":"https://fonts.gstatic.com/s/montserrat/v25/JTUFjIg1_i6t8kCHKm459Wx7xQYXK0vOoz6jq_p9aX9-p7K5ILg.ttf",italic:"https://fonts.gstatic.com/s/montserrat/v25/JTUFjIg1_i6t8kCHKm459Wx7xQYXK0vOoz6jq6R9aX9-p7K5ILg.ttf","500italic":"https://fonts.gstatic.com/s/montserrat/v25/JTUFjIg1_i6t8kCHKm459Wx7xQYXK0vOoz6jq5Z9aX9-p7K5ILg.ttf","600italic":"https://fonts.gstatic.com/s/montserrat/v25/JTUFjIg1_i6t8kCHKm459Wx7xQYXK0vOoz6jq3p6aX9-p7K5ILg.ttf","700italic":"https://fonts.gstatic.com/s/montserrat/v25/JTUFjIg1_i6t8kCHKm459Wx7xQYXK0vOoz6jq0N6aX9-p7K5ILg.ttf","800italic":"https://fonts.gstatic.com/s/montserrat/v25/JTUFjIg1_i6t8kCHKm459Wx7xQYXK0vOoz6jqyR6aX9-p7K5ILg.ttf","900italic":"https://fonts.gstatic.com/s/montserrat/v25/JTUFjIg1_i6t8kCHKm459Wx7xQYXK0vOoz6jqw16aX9-p7K5ILg.ttf"}},{family:"Montserrat Alternates",files:{100:"https://fonts.gstatic.com/s/montserratalternates/v17/mFThWacfw6zH4dthXcyms1lPpC8I_b0juU0xiKfVKphL03l4.ttf",200:"https://fonts.gstatic.com/s/montserratalternates/v17/mFTiWacfw6zH4dthXcyms1lPpC8I_b0juU0xJIb1ALZH2mBhkw.ttf",300:"https://fonts.gstatic.com/s/montserratalternates/v17/mFTiWacfw6zH4dthXcyms1lPpC8I_b0juU0xQIX1ALZH2mBhkw.ttf",500:"https://fonts.gstatic.com/s/montserratalternates/v17/mFTiWacfw6zH4dthXcyms1lPpC8I_b0juU0xGIT1ALZH2mBhkw.ttf",600:"https://fonts.gstatic.com/s/montserratalternates/v17/mFTiWacfw6zH4dthXcyms1lPpC8I_b0juU0xNIP1ALZH2mBhkw.ttf",700:"https://fonts.gstatic.com/s/montserratalternates/v17/mFTiWacfw6zH4dthXcyms1lPpC8I_b0juU0xUIL1ALZH2mBhkw.ttf",800:"https://fonts.gstatic.com/s/montserratalternates/v17/mFTiWacfw6zH4dthXcyms1lPpC8I_b0juU0xTIH1ALZH2mBhkw.ttf",900:"https://fonts.gstatic.com/s/montserratalternates/v17/mFTiWacfw6zH4dthXcyms1lPpC8I_b0juU0xaID1ALZH2mBhkw.ttf","100italic":"https://fonts.gstatic.com/s/montserratalternates/v17/mFTjWacfw6zH4dthXcyms1lPpC8I_b0juU057p-xIJxp1ml4imo.ttf","200italic":"https://fonts.gstatic.com/s/montserratalternates/v17/mFTkWacfw6zH4dthXcyms1lPpC8I_b0juU057p8dAbxD-GVxk3Nd.ttf","300italic":"https://fonts.gstatic.com/s/montserratalternates/v17/mFTkWacfw6zH4dthXcyms1lPpC8I_b0juU057p95ArxD-GVxk3Nd.ttf",regular:"https://fonts.gstatic.com/s/montserratalternates/v17/mFTvWacfw6zH4dthXcyms1lPpC8I_b0juU0J7K3RCJ1b0w.ttf",italic:"https://fonts.gstatic.com/s/montserratalternates/v17/mFThWacfw6zH4dthXcyms1lPpC8I_b0juU057qfVKphL03l4.ttf","500italic":"https://fonts.gstatic.com/s/montserratalternates/v17/mFTkWacfw6zH4dthXcyms1lPpC8I_b0juU057p8hA7xD-GVxk3Nd.ttf","600italic":"https://fonts.gstatic.com/s/montserratalternates/v17/mFTkWacfw6zH4dthXcyms1lPpC8I_b0juU057p8NBLxD-GVxk3Nd.ttf","700italic":"https://fonts.gstatic.com/s/montserratalternates/v17/mFTkWacfw6zH4dthXcyms1lPpC8I_b0juU057p9pBbxD-GVxk3Nd.ttf","800italic":"https://fonts.gstatic.com/s/montserratalternates/v17/mFTkWacfw6zH4dthXcyms1lPpC8I_b0juU057p91BrxD-GVxk3Nd.ttf","900italic":"https://fonts.gstatic.com/s/montserratalternates/v17/mFTkWacfw6zH4dthXcyms1lPpC8I_b0juU057p9RB7xD-GVxk3Nd.ttf"}},{family:"Montserrat Subrayada",files:{700:"https://fonts.gstatic.com/s/montserratsubrayada/v17/U9MM6c-o9H7PgjlTHThBnNHGVUORwteQQHe3TcMWg3j36Ebz.ttf",regular:"https://fonts.gstatic.com/s/montserratsubrayada/v17/U9MD6c-o9H7PgjlTHThBnNHGVUORwteQQE8LYuceqGT-.ttf"}},{family:"Moo Lah Lah",files:{regular:"https://fonts.gstatic.com/s/moolahlah/v3/dg4h_p_opKZOA0w1AYcm55wtYQYugjW4.ttf"}},{family:"Moon Dance",files:{regular:"https://fonts.gstatic.com/s/moondance/v3/WBLgrEbUbFlYW9ekmGawe2XiKMiokE4.ttf"}},{family:"Moul",files:{regular:"https://fonts.gstatic.com/s/moul/v25/nuF2D__FSo_3E-RYiJCy-00.ttf"}},{family:"Moulpali",files:{regular:"https://fonts.gstatic.com/s/moulpali/v28/H4ckBXKMl9HagUWymyY6wr-wg763.ttf"}},{family:"Mountains of Christmas",files:{700:"https://fonts.gstatic.com/s/mountainsofchristmas/v20/3y9z6a4zcCnn5X0FDyrKi2ZRUBIy8uxoUo7eBGqJFPtCOp6IaEA.ttf",regular:"https://fonts.gstatic.com/s/mountainsofchristmas/v20/3y9w6a4zcCnn5X0FDyrKi2ZRUBIy8uxoUo7ePNamMPNpJpc.ttf"}},{family:"Mouse Memoirs",files:{regular:"https://fonts.gstatic.com/s/mousememoirs/v14/t5tmIRoSNJ-PH0WNNgDYxdSb7TnFrpOHYh4.ttf"}},{family:"Mr Bedfort",files:{regular:"https://fonts.gstatic.com/s/mrbedfort/v22/MQpR-WCtNZSWAdTMwBicliq0XZe_Iy8.ttf"}},{family:"Mr Dafoe",files:{regular:"https://fonts.gstatic.com/s/mrdafoe/v14/lJwE-pIzkS5NXuMMrGiqg7MCxz_C.ttf"}},{family:"Mr De Haviland",files:{regular:"https://fonts.gstatic.com/s/mrdehaviland/v14/OpNVnooIhJj96FdB73296ksbOj3C4ULVNTlB.ttf"}},{family:"Mrs Saint Delafield",files:{regular:"https://fonts.gstatic.com/s/mrssaintdelafield/v13/v6-IGZDIOVXH9xtmTZfRagunqBw5WC62cK4tLsubB2w.ttf"}},{family:"Mrs Sheppards",files:{regular:"https://fonts.gstatic.com/s/mrssheppards/v21/PN_2Rfm9snC0XUGoEZhb91ig3vjxynMix4Y.ttf"}},{family:"Ms Madi",files:{regular:"https://fonts.gstatic.com/s/msmadi/v2/HTxsL2UxNnOji5E1N-DPiI7QAYo.ttf"}},{family:"Mukta",files:{200:"https://fonts.gstatic.com/s/mukta/v14/iJWHBXyXfDDVXbEOjFma-2HW7ZB_.ttf",300:"https://fonts.gstatic.com/s/mukta/v14/iJWHBXyXfDDVXbFqj1ma-2HW7ZB_.ttf",500:"https://fonts.gstatic.com/s/mukta/v14/iJWHBXyXfDDVXbEyjlma-2HW7ZB_.ttf",600:"https://fonts.gstatic.com/s/mukta/v14/iJWHBXyXfDDVXbEeiVma-2HW7ZB_.ttf",700:"https://fonts.gstatic.com/s/mukta/v14/iJWHBXyXfDDVXbF6iFma-2HW7ZB_.ttf",800:"https://fonts.gstatic.com/s/mukta/v14/iJWHBXyXfDDVXbFmi1ma-2HW7ZB_.ttf",regular:"https://fonts.gstatic.com/s/mukta/v14/iJWKBXyXfDDVXYnGp32S0H3f.ttf"}},{family:"Mukta Mahee",files:{200:"https://fonts.gstatic.com/s/muktamahee/v16/XRXN3IOIi0hcP8iVU67hA9MFcBoHJndqZCsW.ttf",300:"https://fonts.gstatic.com/s/muktamahee/v16/XRXN3IOIi0hcP8iVU67hA9NhcxoHJndqZCsW.ttf",500:"https://fonts.gstatic.com/s/muktamahee/v16/XRXN3IOIi0hcP8iVU67hA9M5choHJndqZCsW.ttf",600:"https://fonts.gstatic.com/s/muktamahee/v16/XRXN3IOIi0hcP8iVU67hA9MVdRoHJndqZCsW.ttf",700:"https://fonts.gstatic.com/s/muktamahee/v16/XRXN3IOIi0hcP8iVU67hA9NxdBoHJndqZCsW.ttf",800:"https://fonts.gstatic.com/s/muktamahee/v16/XRXN3IOIi0hcP8iVU67hA9NtdxoHJndqZCsW.ttf",regular:"https://fonts.gstatic.com/s/muktamahee/v16/XRXQ3IOIi0hcP8iVU67hA-vNWz4PDWtj.ttf"}},{family:"Mukta Malar",files:{200:"https://fonts.gstatic.com/s/muktamalar/v12/MCoKzAXyz8LOE2FpJMxZqIMwBtAB62ruoAZW.ttf",300:"https://fonts.gstatic.com/s/muktamalar/v12/MCoKzAXyz8LOE2FpJMxZqINUBdAB62ruoAZW.ttf",500:"https://fonts.gstatic.com/s/muktamalar/v12/MCoKzAXyz8LOE2FpJMxZqIMMBNAB62ruoAZW.ttf",600:"https://fonts.gstatic.com/s/muktamalar/v12/MCoKzAXyz8LOE2FpJMxZqIMgA9AB62ruoAZW.ttf",700:"https://fonts.gstatic.com/s/muktamalar/v12/MCoKzAXyz8LOE2FpJMxZqINEAtAB62ruoAZW.ttf",800:"https://fonts.gstatic.com/s/muktamalar/v12/MCoKzAXyz8LOE2FpJMxZqINYAdAB62ruoAZW.ttf",regular:"https://fonts.gstatic.com/s/muktamalar/v12/MCoXzAXyz8LOE2FpJMxZqLv4LfQJwHbn.ttf"}},{family:"Mukta Vaani",files:{200:"https://fonts.gstatic.com/s/muktavaani/v13/3JnkSD_-ynaxmxnEfVHPIGXNV8BD-u97MW1a.ttf",300:"https://fonts.gstatic.com/s/muktavaani/v13/3JnkSD_-ynaxmxnEfVHPIGWpVMBD-u97MW1a.ttf",500:"https://fonts.gstatic.com/s/muktavaani/v13/3JnkSD_-ynaxmxnEfVHPIGXxVcBD-u97MW1a.ttf",600:"https://fonts.gstatic.com/s/muktavaani/v13/3JnkSD_-ynaxmxnEfVHPIGXdUsBD-u97MW1a.ttf",700:"https://fonts.gstatic.com/s/muktavaani/v13/3JnkSD_-ynaxmxnEfVHPIGW5U8BD-u97MW1a.ttf",800:"https://fonts.gstatic.com/s/muktavaani/v13/3JnkSD_-ynaxmxnEfVHPIGWlUMBD-u97MW1a.ttf",regular:"https://fonts.gstatic.com/s/muktavaani/v13/3Jn5SD_-ynaxmxnEfVHPIF0FfORL0fNy.ttf"}},{family:"Mulish",files:{200:"https://fonts.gstatic.com/s/mulish/v12/1Ptyg83HX_SGhgqO0yLcmjzUAuWexRNRwaClGrw-PTY.ttf",300:"https://fonts.gstatic.com/s/mulish/v12/1Ptyg83HX_SGhgqO0yLcmjzUAuWexc1RwaClGrw-PTY.ttf",500:"https://fonts.gstatic.com/s/mulish/v12/1Ptyg83HX_SGhgqO0yLcmjzUAuWexaFRwaClGrw-PTY.ttf",600:"https://fonts.gstatic.com/s/mulish/v12/1Ptyg83HX_SGhgqO0yLcmjzUAuWexU1WwaClGrw-PTY.ttf",700:"https://fonts.gstatic.com/s/mulish/v12/1Ptyg83HX_SGhgqO0yLcmjzUAuWexXRWwaClGrw-PTY.ttf",800:"https://fonts.gstatic.com/s/mulish/v12/1Ptyg83HX_SGhgqO0yLcmjzUAuWexRNWwaClGrw-PTY.ttf",900:"https://fonts.gstatic.com/s/mulish/v12/1Ptyg83HX_SGhgqO0yLcmjzUAuWexTpWwaClGrw-PTY.ttf",regular:"https://fonts.gstatic.com/s/mulish/v12/1Ptyg83HX_SGhgqO0yLcmjzUAuWexZNRwaClGrw-PTY.ttf","200italic":"https://fonts.gstatic.com/s/mulish/v12/1Ptwg83HX_SGhgqk2hAjQlW_mEuZ0FsSqeOvHp47LTZFwA.ttf","300italic":"https://fonts.gstatic.com/s/mulish/v12/1Ptwg83HX_SGhgqk2hAjQlW_mEuZ0FsSd-OvHp47LTZFwA.ttf",italic:"https://fonts.gstatic.com/s/mulish/v12/1Ptwg83HX_SGhgqk2hAjQlW_mEuZ0FsSKeOvHp47LTZFwA.ttf","500italic":"https://fonts.gstatic.com/s/mulish/v12/1Ptwg83HX_SGhgqk2hAjQlW_mEuZ0FsSG-OvHp47LTZFwA.ttf","600italic":"https://fonts.gstatic.com/s/mulish/v12/1Ptwg83HX_SGhgqk2hAjQlW_mEuZ0FsS9-SvHp47LTZFwA.ttf","700italic":"https://fonts.gstatic.com/s/mulish/v12/1Ptwg83HX_SGhgqk2hAjQlW_mEuZ0FsSzuSvHp47LTZFwA.ttf","800italic":"https://fonts.gstatic.com/s/mulish/v12/1Ptwg83HX_SGhgqk2hAjQlW_mEuZ0FsSqeSvHp47LTZFwA.ttf","900italic":"https://fonts.gstatic.com/s/mulish/v12/1Ptwg83HX_SGhgqk2hAjQlW_mEuZ0FsSgOSvHp47LTZFwA.ttf"}},{family:"Murecho",files:{100:"https://fonts.gstatic.com/s/murecho/v10/q5uYsoq3NOBn_I-ggCJg98TBOoNFCMpr5HWZLCpUOaM6.ttf",200:"https://fonts.gstatic.com/s/murecho/v10/q5uYsoq3NOBn_I-ggCJg98TBOoNFCMrr5XWZLCpUOaM6.ttf",300:"https://fonts.gstatic.com/s/murecho/v10/q5uYsoq3NOBn_I-ggCJg98TBOoNFCMo15XWZLCpUOaM6.ttf",500:"https://fonts.gstatic.com/s/murecho/v10/q5uYsoq3NOBn_I-ggCJg98TBOoNFCMpZ5XWZLCpUOaM6.ttf",600:"https://fonts.gstatic.com/s/murecho/v10/q5uYsoq3NOBn_I-ggCJg98TBOoNFCMq14nWZLCpUOaM6.ttf",700:"https://fonts.gstatic.com/s/murecho/v10/q5uYsoq3NOBn_I-ggCJg98TBOoNFCMqM4nWZLCpUOaM6.ttf",800:"https://fonts.gstatic.com/s/murecho/v10/q5uYsoq3NOBn_I-ggCJg98TBOoNFCMrr4nWZLCpUOaM6.ttf",900:"https://fonts.gstatic.com/s/murecho/v10/q5uYsoq3NOBn_I-ggCJg98TBOoNFCMrC4nWZLCpUOaM6.ttf",regular:"https://fonts.gstatic.com/s/murecho/v10/q5uYsoq3NOBn_I-ggCJg98TBOoNFCMpr5XWZLCpUOaM6.ttf"}},{family:"MuseoModerno",files:{100:"https://fonts.gstatic.com/s/museomoderno/v22/zrf30HnU0_7wWdMrFcWqSEXPVyEaWJ55pTleMlZFuewajeKlCdo.ttf",200:"https://fonts.gstatic.com/s/museomoderno/v22/zrf30HnU0_7wWdMrFcWqSEXPVyEaWJ55pTleMtZEuewajeKlCdo.ttf",300:"https://fonts.gstatic.com/s/museomoderno/v22/zrf30HnU0_7wWdMrFcWqSEXPVyEaWJ55pTleMghEuewajeKlCdo.ttf",500:"https://fonts.gstatic.com/s/museomoderno/v22/zrf30HnU0_7wWdMrFcWqSEXPVyEaWJ55pTleMmREuewajeKlCdo.ttf",600:"https://fonts.gstatic.com/s/museomoderno/v22/zrf30HnU0_7wWdMrFcWqSEXPVyEaWJ55pTleMohDuewajeKlCdo.ttf",700:"https://fonts.gstatic.com/s/museomoderno/v22/zrf30HnU0_7wWdMrFcWqSEXPVyEaWJ55pTleMrFDuewajeKlCdo.ttf",800:"https://fonts.gstatic.com/s/museomoderno/v22/zrf30HnU0_7wWdMrFcWqSEXPVyEaWJ55pTleMtZDuewajeKlCdo.ttf",900:"https://fonts.gstatic.com/s/museomoderno/v22/zrf30HnU0_7wWdMrFcWqSEXPVyEaWJ55pTleMv9DuewajeKlCdo.ttf",regular:"https://fonts.gstatic.com/s/museomoderno/v22/zrf30HnU0_7wWdMrFcWqSEXPVyEaWJ55pTleMlZEuewajeKlCdo.ttf","100italic":"https://fonts.gstatic.com/s/museomoderno/v22/zrfx0HnU0_7wWdMrFcWqSEXlXhPlgPcSP5dZJ54HUa4QicCgGdrS3g.ttf","200italic":"https://fonts.gstatic.com/s/museomoderno/v22/zrfx0HnU0_7wWdMrFcWqSEXlXhPlgPcSP5dZJ54H0a8QicCgGdrS3g.ttf","300italic":"https://fonts.gstatic.com/s/museomoderno/v22/zrfx0HnU0_7wWdMrFcWqSEXlXhPlgPcSP5dZJ54HD68QicCgGdrS3g.ttf",italic:"https://fonts.gstatic.com/s/museomoderno/v22/zrfx0HnU0_7wWdMrFcWqSEXlXhPlgPcSP5dZJ54HUa8QicCgGdrS3g.ttf","500italic":"https://fonts.gstatic.com/s/museomoderno/v22/zrfx0HnU0_7wWdMrFcWqSEXlXhPlgPcSP5dZJ54HY68QicCgGdrS3g.ttf","600italic":"https://fonts.gstatic.com/s/museomoderno/v22/zrfx0HnU0_7wWdMrFcWqSEXlXhPlgPcSP5dZJ54Hj6gQicCgGdrS3g.ttf","700italic":"https://fonts.gstatic.com/s/museomoderno/v22/zrfx0HnU0_7wWdMrFcWqSEXlXhPlgPcSP5dZJ54HtqgQicCgGdrS3g.ttf","800italic":"https://fonts.gstatic.com/s/museomoderno/v22/zrfx0HnU0_7wWdMrFcWqSEXlXhPlgPcSP5dZJ54H0agQicCgGdrS3g.ttf","900italic":"https://fonts.gstatic.com/s/museomoderno/v22/zrfx0HnU0_7wWdMrFcWqSEXlXhPlgPcSP5dZJ54H-KgQicCgGdrS3g.ttf"}},{family:"My Soul",files:{regular:"https://fonts.gstatic.com/s/mysoul/v2/3XFqErcuy945_u6KF_Ulk2nnXf0.ttf"}},{family:"Mynerve",files:{regular:"https://fonts.gstatic.com/s/mynerve/v2/P5sCzZKPdNjb4jt7xCRuiZ-uydg.ttf"}},{family:"Mystery Quest",files:{regular:"https://fonts.gstatic.com/s/mysteryquest/v20/-nF6OG414u0E6k0wynSGlujRHwElD_9Qz9E.ttf"}},{family:"NTR",files:{regular:"https://fonts.gstatic.com/s/ntr/v15/RLpzK5Xy0ZjiGGhs5TA4bg.ttf"}},{family:"Nabla",files:{regular:"https://fonts.gstatic.com/s/nabla/v9/j8_D6-LI0Lvpe7Makz5UhJt9C3uqg_X_75gyGS4jAxsNIjrRNRBUFFR_198.ttf"}},{family:"Nanum Brush Script",files:{regular:"https://fonts.gstatic.com/s/nanumbrushscript/v22/wXK2E2wfpokopxzthSqPbcR5_gVaxazyjqBr1lO97Q.ttf"}},{family:"Nanum Gothic",files:{700:"https://fonts.gstatic.com/s/nanumgothic/v21/PN_oRfi-oW3hYwmKDpxS7F_LQv37zlEn14YEUQ.ttf",800:"https://fonts.gstatic.com/s/nanumgothic/v21/PN_oRfi-oW3hYwmKDpxS7F_LXv77zlEn14YEUQ.ttf",regular:"https://fonts.gstatic.com/s/nanumgothic/v21/PN_3Rfi-oW3hYwmKDpxS7F_z_tLfxno73g.ttf"}},{family:"Nanum Gothic Coding",files:{700:"https://fonts.gstatic.com/s/nanumgothiccoding/v19/8QIYdjzHisX_8vv59_xMxtPFW4IXROws8xgecsV88t5V9r4.ttf",regular:"https://fonts.gstatic.com/s/nanumgothiccoding/v19/8QIVdjzHisX_8vv59_xMxtPFW4IXROwsy6QxVs1X7tc.ttf"}},{family:"Nanum Myeongjo",files:{700:"https://fonts.gstatic.com/s/nanummyeongjo/v20/9Bty3DZF0dXLMZlywRbVRNhxy2pXV1A0pfCs5Kos.ttf",800:"https://fonts.gstatic.com/s/nanummyeongjo/v20/9Bty3DZF0dXLMZlywRbVRNhxy2pLVFA0pfCs5Kos.ttf",regular:"https://fonts.gstatic.com/s/nanummyeongjo/v20/9Btx3DZF0dXLMZlywRbVRNhxy1LreHQ8juyl.ttf"}},{family:"Nanum Pen Script",files:{regular:"https://fonts.gstatic.com/s/nanumpenscript/v19/daaDSSYiLGqEal3MvdA_FOL_3FkN2z7-aMFCcTU.ttf"}},{family:"Neonderthaw",files:{regular:"https://fonts.gstatic.com/s/neonderthaw/v3/Iure6Yx5-oWVZI0r-17AeZZJprVA4XQ0.ttf"}},{family:"Nerko One",files:{regular:"https://fonts.gstatic.com/s/nerkoone/v16/m8JQjfZSc7OXlB3ZMOjzcJ5BZmqa3A.ttf"}},{family:"Neucha",files:{regular:"https://fonts.gstatic.com/s/neucha/v17/q5uGsou0JOdh94bvugNsCxVEgA.ttf"}},{family:"Neuton",files:{200:"https://fonts.gstatic.com/s/neuton/v19/UMBQrPtMoH62xUZKAKkfegD5Drog6Q.ttf",300:"https://fonts.gstatic.com/s/neuton/v19/UMBQrPtMoH62xUZKZKofegD5Drog6Q.ttf",700:"https://fonts.gstatic.com/s/neuton/v19/UMBQrPtMoH62xUZKdK0fegD5Drog6Q.ttf",800:"https://fonts.gstatic.com/s/neuton/v19/UMBQrPtMoH62xUZKaK4fegD5Drog6Q.ttf",regular:"https://fonts.gstatic.com/s/neuton/v19/UMBTrPtMoH62xUZyyII7civlBw.ttf",italic:"https://fonts.gstatic.com/s/neuton/v19/UMBRrPtMoH62xUZCyog_UC71B6M5.ttf"}},{family:"New Rocker",files:{regular:"https://fonts.gstatic.com/s/newrocker/v16/MwQzbhjp3-HImzcCU_cJkGMViblPtXs.ttf"}},{family:"New Tegomin",files:{regular:"https://fonts.gstatic.com/s/newtegomin/v10/SLXMc1fV7Gd9USdBAfPlqfN0Q3ptkDMN.ttf"}},{family:"News Cycle",files:{700:"https://fonts.gstatic.com/s/newscycle/v23/CSR54z1Qlv-GDxkbKVQ_dFsvaNNUuOwkC2s.ttf",regular:"https://fonts.gstatic.com/s/newscycle/v23/CSR64z1Qlv-GDxkbKVQ_TOcATNt_pOU.ttf"}},{family:"Newsreader",files:{200:"https://fonts.gstatic.com/s/newsreader/v19/cY9qfjOCX1hbuyalUrK49dLac06G1ZGsZBtoBCzBDXXD9JVF438w-I_ADOxEPjCggA.ttf",300:"https://fonts.gstatic.com/s/newsreader/v19/cY9qfjOCX1hbuyalUrK49dLac06G1ZGsZBtoBCzBDXXD9JVF438wJo_ADOxEPjCggA.ttf",500:"https://fonts.gstatic.com/s/newsreader/v19/cY9qfjOCX1hbuyalUrK49dLac06G1ZGsZBtoBCzBDXXD9JVF438wSo_ADOxEPjCggA.ttf",600:"https://fonts.gstatic.com/s/newsreader/v19/cY9qfjOCX1hbuyalUrK49dLac06G1ZGsZBtoBCzBDXXD9JVF438wpojADOxEPjCggA.ttf",700:"https://fonts.gstatic.com/s/newsreader/v19/cY9qfjOCX1hbuyalUrK49dLac06G1ZGsZBtoBCzBDXXD9JVF438wn4jADOxEPjCggA.ttf",800:"https://fonts.gstatic.com/s/newsreader/v19/cY9qfjOCX1hbuyalUrK49dLac06G1ZGsZBtoBCzBDXXD9JVF438w-IjADOxEPjCggA.ttf",regular:"https://fonts.gstatic.com/s/newsreader/v19/cY9qfjOCX1hbuyalUrK49dLac06G1ZGsZBtoBCzBDXXD9JVF438weI_ADOxEPjCggA.ttf","200italic":"https://fonts.gstatic.com/s/newsreader/v19/cY9kfjOCX1hbuyalUrK439vogqC9yFZCYg7oRZaLP4obnf7fTXglsMyoT-ZAHDWwgECi.ttf","300italic":"https://fonts.gstatic.com/s/newsreader/v19/cY9kfjOCX1hbuyalUrK439vogqC9yFZCYg7oRZaLP4obnf7fTXglsMx2T-ZAHDWwgECi.ttf",italic:"https://fonts.gstatic.com/s/newsreader/v19/cY9kfjOCX1hbuyalUrK439vogqC9yFZCYg7oRZaLP4obnf7fTXglsMwoT-ZAHDWwgECi.ttf","500italic":"https://fonts.gstatic.com/s/newsreader/v19/cY9kfjOCX1hbuyalUrK439vogqC9yFZCYg7oRZaLP4obnf7fTXglsMwaT-ZAHDWwgECi.ttf","600italic":"https://fonts.gstatic.com/s/newsreader/v19/cY9kfjOCX1hbuyalUrK439vogqC9yFZCYg7oRZaLP4obnf7fTXglsMz2SOZAHDWwgECi.ttf","700italic":"https://fonts.gstatic.com/s/newsreader/v19/cY9kfjOCX1hbuyalUrK439vogqC9yFZCYg7oRZaLP4obnf7fTXglsMzPSOZAHDWwgECi.ttf","800italic":"https://fonts.gstatic.com/s/newsreader/v19/cY9kfjOCX1hbuyalUrK439vogqC9yFZCYg7oRZaLP4obnf7fTXglsMyoSOZAHDWwgECi.ttf"}},{family:"Niconne",files:{regular:"https://fonts.gstatic.com/s/niconne/v15/w8gaH2QvRug1_rTfrQut2F4OuOo.ttf"}},{family:"Niramit",files:{200:"https://fonts.gstatic.com/s/niramit/v10/I_urMpWdvgLdNxVLVXx7tiiEr5_BdZ8.ttf",300:"https://fonts.gstatic.com/s/niramit/v10/I_urMpWdvgLdNxVLVRh4tiiEr5_BdZ8.ttf",500:"https://fonts.gstatic.com/s/niramit/v10/I_urMpWdvgLdNxVLVUB5tiiEr5_BdZ8.ttf",600:"https://fonts.gstatic.com/s/niramit/v10/I_urMpWdvgLdNxVLVWx-tiiEr5_BdZ8.ttf",700:"https://fonts.gstatic.com/s/niramit/v10/I_urMpWdvgLdNxVLVQh_tiiEr5_BdZ8.ttf","200italic":"https://fonts.gstatic.com/s/niramit/v10/I_upMpWdvgLdNxVLXbZiXimOq73EZZ_f6w.ttf","300italic":"https://fonts.gstatic.com/s/niramit/v10/I_upMpWdvgLdNxVLXbZiOiqOq73EZZ_f6w.ttf",regular:"https://fonts.gstatic.com/s/niramit/v10/I_uuMpWdvgLdNxVLbbRQkiCvs5Y.ttf",italic:"https://fonts.gstatic.com/s/niramit/v10/I_usMpWdvgLdNxVLXbZalgKqo5bYbA.ttf","500italic":"https://fonts.gstatic.com/s/niramit/v10/I_upMpWdvgLdNxVLXbZiYiuOq73EZZ_f6w.ttf","600italic":"https://fonts.gstatic.com/s/niramit/v10/I_upMpWdvgLdNxVLXbZiTiyOq73EZZ_f6w.ttf","700italic":"https://fonts.gstatic.com/s/niramit/v10/I_upMpWdvgLdNxVLXbZiKi2Oq73EZZ_f6w.ttf"}},{family:"Nixie One",files:{regular:"https://fonts.gstatic.com/s/nixieone/v16/lW-8wjkKLXjg5y2o2uUoUOFzpS-yLw.ttf"}},{family:"Nobile",files:{500:"https://fonts.gstatic.com/s/nobile/v17/m8JQjflSeaOVl1iOqo7zcJ5BZmqa3A.ttf",700:"https://fonts.gstatic.com/s/nobile/v17/m8JQjflSeaOVl1iO4ojzcJ5BZmqa3A.ttf",regular:"https://fonts.gstatic.com/s/nobile/v17/m8JTjflSeaOVl1i2XqfXeLVdbw.ttf",italic:"https://fonts.gstatic.com/s/nobile/v17/m8JRjflSeaOVl1iGXK3TWrBNb3OD.ttf","500italic":"https://fonts.gstatic.com/s/nobile/v17/m8JWjflSeaOVl1iGXJUnc5RFRG-K3Mud.ttf","700italic":"https://fonts.gstatic.com/s/nobile/v17/m8JWjflSeaOVl1iGXJVvdZRFRG-K3Mud.ttf"}},{family:"Nokora",files:{100:"https://fonts.gstatic.com/s/nokora/v30/~CgoKBk5va29yYRhkIAAqBAgBGAE=.ttf",300:"https://fonts.gstatic.com/s/nokora/v30/~CgsKBk5va29yYRisAiAAKgQIARgB.ttf",700:"https://fonts.gstatic.com/s/nokora/v30/~CgsKBk5va29yYRi8BSAAKgQIARgB.ttf",900:"https://fonts.gstatic.com/s/nokora/v30/~CgsKBk5va29yYRiEByAAKgQIARgB.ttf",regular:"https://fonts.gstatic.com/s/nokora/v30/~CggKBk5va29yYSAAKgQIARgB.ttf"}},{family:"Norican",files:{regular:"https://fonts.gstatic.com/s/norican/v14/MwQ2bhXp1eSBqjkPGJJRtGs-lbA.ttf"}},{family:"Nosifer",files:{regular:"https://fonts.gstatic.com/s/nosifer/v20/ZGjXol5JTp0g5bxZaC1RVDNdGDs.ttf"}},{family:"Notable",files:{regular:"https://fonts.gstatic.com/s/notable/v14/gNMEW3N_SIqx-WX9-HMoFIez5MI.ttf"}},{family:"Nothing You Could Do",files:{regular:"https://fonts.gstatic.com/s/nothingyoucoulddo/v15/oY1B8fbBpaP5OX3DtrRYf_Q2BPB1SnfZb0OJl1ol2Ymo.ttf"}},{family:"Noticia Text",files:{700:"https://fonts.gstatic.com/s/noticiatext/v15/VuJpdNDF2Yv9qppOePKYRP1-3R59v2HRrDH0eA.ttf",regular:"https://fonts.gstatic.com/s/noticiatext/v15/VuJ2dNDF2Yv9qppOePKYRP1GYTFZt0rNpQ.ttf",italic:"https://fonts.gstatic.com/s/noticiatext/v15/VuJodNDF2Yv9qppOePKYRP12YztdlU_dpSjt.ttf","700italic":"https://fonts.gstatic.com/s/noticiatext/v15/VuJrdNDF2Yv9qppOePKYRP12YwPhumvVjjTkeMnz.ttf"}},{family:"Noto Color Emoji",files:{regular:"https://fonts.gstatic.com/s/notocoloremoji/v24/Yq6P-KqIXTD0t4D9z1ESnKM3-HpFab5s79iz64w.ttf"}},{family:"Noto Emoji",files:{300:"https://fonts.gstatic.com/s/notoemoji/v39/bMrnmSyK7YY-MEu6aWjPDs-ar6uWaGWuob_10jwvS-FGJCMY.ttf",500:"https://fonts.gstatic.com/s/notoemoji/v39/bMrnmSyK7YY-MEu6aWjPDs-ar6uWaGWuob-Z0jwvS-FGJCMY.ttf",600:"https://fonts.gstatic.com/s/notoemoji/v39/bMrnmSyK7YY-MEu6aWjPDs-ar6uWaGWuob911TwvS-FGJCMY.ttf",700:"https://fonts.gstatic.com/s/notoemoji/v39/bMrnmSyK7YY-MEu6aWjPDs-ar6uWaGWuob9M1TwvS-FGJCMY.ttf",regular:"https://fonts.gstatic.com/s/notoemoji/v39/bMrnmSyK7YY-MEu6aWjPDs-ar6uWaGWuob-r0jwvS-FGJCMY.ttf"}},{family:"Noto Kufi Arabic",files:{100:"https://fonts.gstatic.com/s/notokufiarabic/v16/CSRp4ydQnPyaDxEXLFF6LZVLKrodhu8t57o1kDc5Wh5v3obPnLSmf5yD.ttf",200:"https://fonts.gstatic.com/s/notokufiarabic/v16/CSRp4ydQnPyaDxEXLFF6LZVLKrodhu8t57o1kDc5Wh7v34bPnLSmf5yD.ttf",300:"https://fonts.gstatic.com/s/notokufiarabic/v16/CSRp4ydQnPyaDxEXLFF6LZVLKrodhu8t57o1kDc5Wh4x34bPnLSmf5yD.ttf",500:"https://fonts.gstatic.com/s/notokufiarabic/v16/CSRp4ydQnPyaDxEXLFF6LZVLKrodhu8t57o1kDc5Wh5d34bPnLSmf5yD.ttf",600:"https://fonts.gstatic.com/s/notokufiarabic/v16/CSRp4ydQnPyaDxEXLFF6LZVLKrodhu8t57o1kDc5Wh6x2IbPnLSmf5yD.ttf",700:"https://fonts.gstatic.com/s/notokufiarabic/v16/CSRp4ydQnPyaDxEXLFF6LZVLKrodhu8t57o1kDc5Wh6I2IbPnLSmf5yD.ttf",800:"https://fonts.gstatic.com/s/notokufiarabic/v16/CSRp4ydQnPyaDxEXLFF6LZVLKrodhu8t57o1kDc5Wh7v2IbPnLSmf5yD.ttf",900:"https://fonts.gstatic.com/s/notokufiarabic/v16/CSRp4ydQnPyaDxEXLFF6LZVLKrodhu8t57o1kDc5Wh7G2IbPnLSmf5yD.ttf",regular:"https://fonts.gstatic.com/s/notokufiarabic/v16/CSRp4ydQnPyaDxEXLFF6LZVLKrodhu8t57o1kDc5Wh5v34bPnLSmf5yD.ttf"}},{family:"Noto Music",files:{regular:"https://fonts.gstatic.com/s/notomusic/v17/pe0rMIiSN5pO63htf1sxIteQB9Zra1U.ttf"}},{family:"Noto Naskh Arabic",files:{500:"https://fonts.gstatic.com/s/notonaskharabic/v33/RrQ5bpV-9Dd1b1OAGA6M9PkyDuVBePeKNaxcsss0Y7bwj85krK0z9_Mnuw.ttf",600:"https://fonts.gstatic.com/s/notonaskharabic/v33/RrQ5bpV-9Dd1b1OAGA6M9PkyDuVBePeKNaxcsss0Y7bwY8lkrK0z9_Mnuw.ttf",700:"https://fonts.gstatic.com/s/notonaskharabic/v33/RrQ5bpV-9Dd1b1OAGA6M9PkyDuVBePeKNaxcsss0Y7bwWslkrK0z9_Mnuw.ttf",regular:"https://fonts.gstatic.com/s/notonaskharabic/v33/RrQ5bpV-9Dd1b1OAGA6M9PkyDuVBePeKNaxcsss0Y7bwvc5krK0z9_Mnuw.ttf"}},{family:"Noto Nastaliq Urdu",files:{500:"https://fonts.gstatic.com/s/notonastaliqurdu/v20/LhWNMUPbN-oZdNFcBy1-DJYsEoTq5pudQ9L940pGPkB3Qu3-DK2f2-_8mEw.ttf",600:"https://fonts.gstatic.com/s/notonastaliqurdu/v20/LhWNMUPbN-oZdNFcBy1-DJYsEoTq5pudQ9L940pGPkB3QgH5DK2f2-_8mEw.ttf",700:"https://fonts.gstatic.com/s/notonastaliqurdu/v20/LhWNMUPbN-oZdNFcBy1-DJYsEoTq5pudQ9L940pGPkB3Qjj5DK2f2-_8mEw.ttf",regular:"https://fonts.gstatic.com/s/notonastaliqurdu/v20/LhWNMUPbN-oZdNFcBy1-DJYsEoTq5pudQ9L940pGPkB3Qt_-DK2f2-_8mEw.ttf"}},{family:"Noto Rashi Hebrew",files:{100:"https://fonts.gstatic.com/s/notorashihebrew/v25/EJR_Qh82XsIK-QFmqXk4zvLwFVya0vFL-HlKM5e6C6HZB-DkRyq6Nf2pfA.ttf",200:"https://fonts.gstatic.com/s/notorashihebrew/v25/EJR_Qh82XsIK-QFmqXk4zvLwFVya0vFL-HlKM5e6C6HZh-HkRyq6Nf2pfA.ttf",300:"https://fonts.gstatic.com/s/notorashihebrew/v25/EJR_Qh82XsIK-QFmqXk4zvLwFVya0vFL-HlKM5e6C6HZWeHkRyq6Nf2pfA.ttf",500:"https://fonts.gstatic.com/s/notorashihebrew/v25/EJR_Qh82XsIK-QFmqXk4zvLwFVya0vFL-HlKM5e6C6HZNeHkRyq6Nf2pfA.ttf",600:"https://fonts.gstatic.com/s/notorashihebrew/v25/EJR_Qh82XsIK-QFmqXk4zvLwFVya0vFL-HlKM5e6C6HZ2ebkRyq6Nf2pfA.ttf",700:"https://fonts.gstatic.com/s/notorashihebrew/v25/EJR_Qh82XsIK-QFmqXk4zvLwFVya0vFL-HlKM5e6C6HZ4ObkRyq6Nf2pfA.ttf",800:"https://fonts.gstatic.com/s/notorashihebrew/v25/EJR_Qh82XsIK-QFmqXk4zvLwFVya0vFL-HlKM5e6C6HZh-bkRyq6Nf2pfA.ttf",900:"https://fonts.gstatic.com/s/notorashihebrew/v25/EJR_Qh82XsIK-QFmqXk4zvLwFVya0vFL-HlKM5e6C6HZrubkRyq6Nf2pfA.ttf",regular:"https://fonts.gstatic.com/s/notorashihebrew/v25/EJR_Qh82XsIK-QFmqXk4zvLwFVya0vFL-HlKM5e6C6HZB-HkRyq6Nf2pfA.ttf"}},{family:"Noto Sans",files:{100:"https://fonts.gstatic.com/s/notosans/v28/o-0OIpQlx3QUlC5A4PNjhjRFSfiM7HBj.ttf",200:"https://fonts.gstatic.com/s/notosans/v28/o-0NIpQlx3QUlC5A4PNjKhVlY9aA5Wl6PQ.ttf",300:"https://fonts.gstatic.com/s/notosans/v28/o-0NIpQlx3QUlC5A4PNjThZlY9aA5Wl6PQ.ttf",500:"https://fonts.gstatic.com/s/notosans/v28/o-0NIpQlx3QUlC5A4PNjFhdlY9aA5Wl6PQ.ttf",600:"https://fonts.gstatic.com/s/notosans/v28/o-0NIpQlx3QUlC5A4PNjOhBlY9aA5Wl6PQ.ttf",700:"https://fonts.gstatic.com/s/notosans/v28/o-0NIpQlx3QUlC5A4PNjXhFlY9aA5Wl6PQ.ttf",800:"https://fonts.gstatic.com/s/notosans/v28/o-0NIpQlx3QUlC5A4PNjQhJlY9aA5Wl6PQ.ttf",900:"https://fonts.gstatic.com/s/notosans/v28/o-0NIpQlx3QUlC5A4PNjZhNlY9aA5Wl6PQ.ttf","100italic":"https://fonts.gstatic.com/s/notosans/v28/o-0MIpQlx3QUlC5A4PNr4AwhQ_yu6WBjJLE.ttf","200italic":"https://fonts.gstatic.com/s/notosans/v28/o-0TIpQlx3QUlC5A4PNr4AyNYtyEx2xqPaif.ttf","300italic":"https://fonts.gstatic.com/s/notosans/v28/o-0TIpQlx3QUlC5A4PNr4AzpYdyEx2xqPaif.ttf",regular:"https://fonts.gstatic.com/s/notosans/v28/o-0IIpQlx3QUlC5A4PNb4j5Ba_2c7A.ttf",italic:"https://fonts.gstatic.com/s/notosans/v28/o-0OIpQlx3QUlC5A4PNr4DRFSfiM7HBj.ttf","500italic":"https://fonts.gstatic.com/s/notosans/v28/o-0TIpQlx3QUlC5A4PNr4AyxYNyEx2xqPaif.ttf","600italic":"https://fonts.gstatic.com/s/notosans/v28/o-0TIpQlx3QUlC5A4PNr4AydZ9yEx2xqPaif.ttf","700italic":"https://fonts.gstatic.com/s/notosans/v28/o-0TIpQlx3QUlC5A4PNr4Az5ZtyEx2xqPaif.ttf","800italic":"https://fonts.gstatic.com/s/notosans/v28/o-0TIpQlx3QUlC5A4PNr4AzlZdyEx2xqPaif.ttf","900italic":"https://fonts.gstatic.com/s/notosans/v28/o-0TIpQlx3QUlC5A4PNr4AzBZNyEx2xqPaif.ttf"}},{family:"Noto Sans Adlam",files:{500:"https://fonts.gstatic.com/s/notosansadlam/v21/neIczCCpqp0s5pPusPamd81eMfjPonvqdbYxxpgufkn0TGnBZLwhuvk.ttf",600:"https://fonts.gstatic.com/s/notosansadlam/v21/neIczCCpqp0s5pPusPamd81eMfjPonvqdbYxxpgufqXzTGnBZLwhuvk.ttf",700:"https://fonts.gstatic.com/s/notosansadlam/v21/neIczCCpqp0s5pPusPamd81eMfjPonvqdbYxxpgufpzzTGnBZLwhuvk.ttf",regular:"https://fonts.gstatic.com/s/notosansadlam/v21/neIczCCpqp0s5pPusPamd81eMfjPonvqdbYxxpgufnv0TGnBZLwhuvk.ttf"}},{family:"Noto Sans Adlam Unjoined",files:{500:"https://fonts.gstatic.com/s/notosansadlamunjoined/v25/P5sszY2MYsLRsB5_ildkzPPDsLQXcOEmaFOqOGcaYrzFTIjsPam_Yd_5PMEe-E3slUg.ttf",600:"https://fonts.gstatic.com/s/notosansadlamunjoined/v25/P5sszY2MYsLRsB5_ildkzPPDsLQXcOEmaFOqOGcaYrzFTIjsPam_YTP-PMEe-E3slUg.ttf",700:"https://fonts.gstatic.com/s/notosansadlamunjoined/v25/P5sszY2MYsLRsB5_ildkzPPDsLQXcOEmaFOqOGcaYrzFTIjsPam_YQr-PMEe-E3slUg.ttf",regular:"https://fonts.gstatic.com/s/notosansadlamunjoined/v25/P5sszY2MYsLRsB5_ildkzPPDsLQXcOEmaFOqOGcaYrzFTIjsPam_Ye35PMEe-E3slUg.ttf"}},{family:"Noto Sans Anatolian Hieroglyphs",files:{regular:"https://fonts.gstatic.com/s/notosansanatolianhieroglyphs/v14/ijw9s4roRME5LLRxjsRb8A0gKPSWq4BbDmHHu6j2pEtUJzZWXybIymc5QYo.ttf"}},{family:"Noto Sans Arabic",files:{100:"https://fonts.gstatic.com/s/notosansarabic/v18/nwpxtLGrOAZMl5nJ_wfgRg3DrWFZWsnVBJ_sS6tlqHHFlhQ5l3sQWIHPqzCfyG2vu3CBFQLaig.ttf",200:"https://fonts.gstatic.com/s/notosansarabic/v18/nwpxtLGrOAZMl5nJ_wfgRg3DrWFZWsnVBJ_sS6tlqHHFlhQ5l3sQWIHPqzCfSGyvu3CBFQLaig.ttf",300:"https://fonts.gstatic.com/s/notosansarabic/v18/nwpxtLGrOAZMl5nJ_wfgRg3DrWFZWsnVBJ_sS6tlqHHFlhQ5l3sQWIHPqzCflmyvu3CBFQLaig.ttf",500:"https://fonts.gstatic.com/s/notosansarabic/v18/nwpxtLGrOAZMl5nJ_wfgRg3DrWFZWsnVBJ_sS6tlqHHFlhQ5l3sQWIHPqzCf-myvu3CBFQLaig.ttf",600:"https://fonts.gstatic.com/s/notosansarabic/v18/nwpxtLGrOAZMl5nJ_wfgRg3DrWFZWsnVBJ_sS6tlqHHFlhQ5l3sQWIHPqzCfFmuvu3CBFQLaig.ttf",700:"https://fonts.gstatic.com/s/notosansarabic/v18/nwpxtLGrOAZMl5nJ_wfgRg3DrWFZWsnVBJ_sS6tlqHHFlhQ5l3sQWIHPqzCfL2uvu3CBFQLaig.ttf",800:"https://fonts.gstatic.com/s/notosansarabic/v18/nwpxtLGrOAZMl5nJ_wfgRg3DrWFZWsnVBJ_sS6tlqHHFlhQ5l3sQWIHPqzCfSGuvu3CBFQLaig.ttf",900:"https://fonts.gstatic.com/s/notosansarabic/v18/nwpxtLGrOAZMl5nJ_wfgRg3DrWFZWsnVBJ_sS6tlqHHFlhQ5l3sQWIHPqzCfYWuvu3CBFQLaig.ttf",regular:"https://fonts.gstatic.com/s/notosansarabic/v18/nwpxtLGrOAZMl5nJ_wfgRg3DrWFZWsnVBJ_sS6tlqHHFlhQ5l3sQWIHPqzCfyGyvu3CBFQLaig.ttf"}},{family:"Noto Sans Armenian",files:{100:"https://fonts.gstatic.com/s/notosansarmenian/v42/ZgN0jOZKPa7CHqq0h37c7ReDUubm2SEdFXp7ig73qtTY5idb74R9UdM3y2nZLorxbq0iYy6zF3Eg.ttf",200:"https://fonts.gstatic.com/s/notosansarmenian/v42/ZgN0jOZKPa7CHqq0h37c7ReDUubm2SEdFXp7ig73qtTY5idb74R9UdM3y2nZLopxb60iYy6zF3Eg.ttf",300:"https://fonts.gstatic.com/s/notosansarmenian/v42/ZgN0jOZKPa7CHqq0h37c7ReDUubm2SEdFXp7ig73qtTY5idb74R9UdM3y2nZLoqvb60iYy6zF3Eg.ttf",500:"https://fonts.gstatic.com/s/notosansarmenian/v42/ZgN0jOZKPa7CHqq0h37c7ReDUubm2SEdFXp7ig73qtTY5idb74R9UdM3y2nZLorDb60iYy6zF3Eg.ttf",600:"https://fonts.gstatic.com/s/notosansarmenian/v42/ZgN0jOZKPa7CHqq0h37c7ReDUubm2SEdFXp7ig73qtTY5idb74R9UdM3y2nZLoovaK0iYy6zF3Eg.ttf",700:"https://fonts.gstatic.com/s/notosansarmenian/v42/ZgN0jOZKPa7CHqq0h37c7ReDUubm2SEdFXp7ig73qtTY5idb74R9UdM3y2nZLooWaK0iYy6zF3Eg.ttf",800:"https://fonts.gstatic.com/s/notosansarmenian/v42/ZgN0jOZKPa7CHqq0h37c7ReDUubm2SEdFXp7ig73qtTY5idb74R9UdM3y2nZLopxaK0iYy6zF3Eg.ttf",900:"https://fonts.gstatic.com/s/notosansarmenian/v42/ZgN0jOZKPa7CHqq0h37c7ReDUubm2SEdFXp7ig73qtTY5idb74R9UdM3y2nZLopYaK0iYy6zF3Eg.ttf",regular:"https://fonts.gstatic.com/s/notosansarmenian/v42/ZgN0jOZKPa7CHqq0h37c7ReDUubm2SEdFXp7ig73qtTY5idb74R9UdM3y2nZLorxb60iYy6zF3Eg.ttf"}},{family:"Noto Sans Avestan",files:{regular:"https://fonts.gstatic.com/s/notosansavestan/v20/bWti7ejKfBziStx7lIzKOLQZKhIJkyu9SASLji8U.ttf"}},{family:"Noto Sans Balinese",files:{500:"https://fonts.gstatic.com/s/notosansbalinese/v24/NaPwcYvSBuhTirw6IaFn6UrRDaqje-lpbbRtYf-Fwu2Ov4XdhE5Vd222PPY.ttf",600:"https://fonts.gstatic.com/s/notosansbalinese/v24/NaPwcYvSBuhTirw6IaFn6UrRDaqje-lpbbRtYf-Fwu2Ov2nahE5Vd222PPY.ttf",700:"https://fonts.gstatic.com/s/notosansbalinese/v24/NaPwcYvSBuhTirw6IaFn6UrRDaqje-lpbbRtYf-Fwu2Ov1DahE5Vd222PPY.ttf",regular:"https://fonts.gstatic.com/s/notosansbalinese/v24/NaPwcYvSBuhTirw6IaFn6UrRDaqje-lpbbRtYf-Fwu2Ov7fdhE5Vd222PPY.ttf"}},{family:"Noto Sans Bamum",files:{500:"https://fonts.gstatic.com/s/notosansbamum/v26/uk-0EGK3o6EruUbnwovcbBTkkklK_Ya_PBHfNGTPEeVO-_gLykxEkxA.ttf",600:"https://fonts.gstatic.com/s/notosansbamum/v26/uk-0EGK3o6EruUbnwovcbBTkkklK_Ya_PBHfNGTPEQlJ-_gLykxEkxA.ttf",700:"https://fonts.gstatic.com/s/notosansbamum/v26/uk-0EGK3o6EruUbnwovcbBTkkklK_Ya_PBHfNGTPETBJ-_gLykxEkxA.ttf",regular:"https://fonts.gstatic.com/s/notosansbamum/v26/uk-0EGK3o6EruUbnwovcbBTkkklK_Ya_PBHfNGTPEddO-_gLykxEkxA.ttf"}},{family:"Noto Sans Bassa Vah",files:{500:"https://fonts.gstatic.com/s/notosansbassavah/v17/PN_bRee-r3f7LnqsD5sax12gjZn7mBpL5YwUpA2MBdcFn4MoAc6p34gH-GD7.ttf",600:"https://fonts.gstatic.com/s/notosansbassavah/v17/PN_bRee-r3f7LnqsD5sax12gjZn7mBpL5YwUpA2MBdcFn4PEBs6p34gH-GD7.ttf",700:"https://fonts.gstatic.com/s/notosansbassavah/v17/PN_bRee-r3f7LnqsD5sax12gjZn7mBpL5YwUpA2MBdcFn4P9Bs6p34gH-GD7.ttf",regular:"https://fonts.gstatic.com/s/notosansbassavah/v17/PN_bRee-r3f7LnqsD5sax12gjZn7mBpL5YwUpA2MBdcFn4MaAc6p34gH-GD7.ttf"}},{family:"Noto Sans Batak",files:{regular:"https://fonts.gstatic.com/s/notosansbatak/v16/gok2H6TwAEdtF9N8-mdTCQvT-Zdgo4_PHuk74A.ttf"}},{family:"Noto Sans Bengali",files:{100:"https://fonts.gstatic.com/s/notosansbengali/v20/Cn-SJsCGWQxOjaGwMQ6fIiMywrNJIky6nvd8BjzVMvJx2mcSPVFpVEqE-6KmsolKudCk8izI0lc.ttf",200:"https://fonts.gstatic.com/s/notosansbengali/v20/Cn-SJsCGWQxOjaGwMQ6fIiMywrNJIky6nvd8BjzVMvJx2mcSPVFpVEqE-6KmsglLudCk8izI0lc.ttf",300:"https://fonts.gstatic.com/s/notosansbengali/v20/Cn-SJsCGWQxOjaGwMQ6fIiMywrNJIky6nvd8BjzVMvJx2mcSPVFpVEqE-6KmstdLudCk8izI0lc.ttf",500:"https://fonts.gstatic.com/s/notosansbengali/v20/Cn-SJsCGWQxOjaGwMQ6fIiMywrNJIky6nvd8BjzVMvJx2mcSPVFpVEqE-6KmsrtLudCk8izI0lc.ttf",600:"https://fonts.gstatic.com/s/notosansbengali/v20/Cn-SJsCGWQxOjaGwMQ6fIiMywrNJIky6nvd8BjzVMvJx2mcSPVFpVEqE-6KmsldMudCk8izI0lc.ttf",700:"https://fonts.gstatic.com/s/notosansbengali/v20/Cn-SJsCGWQxOjaGwMQ6fIiMywrNJIky6nvd8BjzVMvJx2mcSPVFpVEqE-6Kmsm5MudCk8izI0lc.ttf",800:"https://fonts.gstatic.com/s/notosansbengali/v20/Cn-SJsCGWQxOjaGwMQ6fIiMywrNJIky6nvd8BjzVMvJx2mcSPVFpVEqE-6KmsglMudCk8izI0lc.ttf",900:"https://fonts.gstatic.com/s/notosansbengali/v20/Cn-SJsCGWQxOjaGwMQ6fIiMywrNJIky6nvd8BjzVMvJx2mcSPVFpVEqE-6KmsiBMudCk8izI0lc.ttf",regular:"https://fonts.gstatic.com/s/notosansbengali/v20/Cn-SJsCGWQxOjaGwMQ6fIiMywrNJIky6nvd8BjzVMvJx2mcSPVFpVEqE-6KmsolLudCk8izI0lc.ttf"}},{family:"Noto Sans Bhaiksuki",files:{regular:"https://fonts.gstatic.com/s/notosansbhaiksuki/v15/UcC63EosKniBH4iELXATsSBWdvUHXxhj8rLUdU4wh9U.ttf"}},{family:"Noto Sans Brahmi",files:{regular:"https://fonts.gstatic.com/s/notosansbrahmi/v15/vEFK2-VODB8RrNDvZSUmQQIIByV18tK1W77HtMo.ttf"}},{family:"Noto Sans Buginese",files:{regular:"https://fonts.gstatic.com/s/notosansbuginese/v18/esDM30ldNv-KYGGJpKGk18phe_7Da6_gtfuEXLmNtw.ttf"}},{family:"Noto Sans Buhid",files:{regular:"https://fonts.gstatic.com/s/notosansbuhid/v18/Dxxy8jiXMW75w3OmoDXVWJD7YwzAe6tgnaFoGA.ttf"}},{family:"Noto Sans Canadian Aboriginal",files:{100:"https://fonts.gstatic.com/s/notosanscanadianaboriginal/v21/4C_TLjTuEqPj-8J01CwaGkiZ9os0iGVkezM1mUT-j_Lmlzda6uH_nnX1bzigWLj_yAsg0q0uhQ.ttf",200:"https://fonts.gstatic.com/s/notosanscanadianaboriginal/v21/4C_TLjTuEqPj-8J01CwaGkiZ9os0iGVkezM1mUT-j_Lmlzda6uH_nnX1bzig2Ln_yAsg0q0uhQ.ttf",300:"https://fonts.gstatic.com/s/notosanscanadianaboriginal/v21/4C_TLjTuEqPj-8J01CwaGkiZ9os0iGVkezM1mUT-j_Lmlzda6uH_nnX1bzigBrn_yAsg0q0uhQ.ttf",500:"https://fonts.gstatic.com/s/notosanscanadianaboriginal/v21/4C_TLjTuEqPj-8J01CwaGkiZ9os0iGVkezM1mUT-j_Lmlzda6uH_nnX1bzigarn_yAsg0q0uhQ.ttf",600:"https://fonts.gstatic.com/s/notosanscanadianaboriginal/v21/4C_TLjTuEqPj-8J01CwaGkiZ9os0iGVkezM1mUT-j_Lmlzda6uH_nnX1bzighr7_yAsg0q0uhQ.ttf",700:"https://fonts.gstatic.com/s/notosanscanadianaboriginal/v21/4C_TLjTuEqPj-8J01CwaGkiZ9os0iGVkezM1mUT-j_Lmlzda6uH_nnX1bzigv77_yAsg0q0uhQ.ttf",800:"https://fonts.gstatic.com/s/notosanscanadianaboriginal/v21/4C_TLjTuEqPj-8J01CwaGkiZ9os0iGVkezM1mUT-j_Lmlzda6uH_nnX1bzig2L7_yAsg0q0uhQ.ttf",900:"https://fonts.gstatic.com/s/notosanscanadianaboriginal/v21/4C_TLjTuEqPj-8J01CwaGkiZ9os0iGVkezM1mUT-j_Lmlzda6uH_nnX1bzig8b7_yAsg0q0uhQ.ttf",regular:"https://fonts.gstatic.com/s/notosanscanadianaboriginal/v21/4C_TLjTuEqPj-8J01CwaGkiZ9os0iGVkezM1mUT-j_Lmlzda6uH_nnX1bzigWLn_yAsg0q0uhQ.ttf"}},{family:"Noto Sans Carian",files:{regular:"https://fonts.gstatic.com/s/notosanscarian/v15/LDIpaoiONgYwA9Yc6f0gUILeMIOgs7ob9yGLmfI.ttf"}},{family:"Noto Sans Caucasian Albanian",files:{regular:"https://fonts.gstatic.com/s/notosanscaucasianalbanian/v16/nKKA-HM_FYFRJvXzVXaANsU0VzsAc46QGOkWytlTs-TXrYDmoVmRSZo.ttf"}},{family:"Noto Sans Chakma",files:{regular:"https://fonts.gstatic.com/s/notosanschakma/v17/Y4GQYbJ8VTEp4t3MKJSMjg5OIzhi4JjTQhYBeYo.ttf"}},{family:"Noto Sans Cham",files:{100:"https://fonts.gstatic.com/s/notosanscham/v27/pe06MIySN5pO62Z5YkFyQb_bbuRhe6D4yip43qfcER0cv7GykboaLg.ttf",200:"https://fonts.gstatic.com/s/notosanscham/v27/pe06MIySN5pO62Z5YkFyQb_bbuRhe6D4yip43qfckRwcv7GykboaLg.ttf",300:"https://fonts.gstatic.com/s/notosanscham/v27/pe06MIySN5pO62Z5YkFyQb_bbuRhe6D4yip43qfcTxwcv7GykboaLg.ttf",500:"https://fonts.gstatic.com/s/notosanscham/v27/pe06MIySN5pO62Z5YkFyQb_bbuRhe6D4yip43qfcIxwcv7GykboaLg.ttf",600:"https://fonts.gstatic.com/s/notosanscham/v27/pe06MIySN5pO62Z5YkFyQb_bbuRhe6D4yip43qfczxscv7GykboaLg.ttf",700:"https://fonts.gstatic.com/s/notosanscham/v27/pe06MIySN5pO62Z5YkFyQb_bbuRhe6D4yip43qfc9hscv7GykboaLg.ttf",800:"https://fonts.gstatic.com/s/notosanscham/v27/pe06MIySN5pO62Z5YkFyQb_bbuRhe6D4yip43qfckRscv7GykboaLg.ttf",900:"https://fonts.gstatic.com/s/notosanscham/v27/pe06MIySN5pO62Z5YkFyQb_bbuRhe6D4yip43qfcuBscv7GykboaLg.ttf",regular:"https://fonts.gstatic.com/s/notosanscham/v27/pe06MIySN5pO62Z5YkFyQb_bbuRhe6D4yip43qfcERwcv7GykboaLg.ttf"}},{family:"Noto Sans Cherokee",files:{100:"https://fonts.gstatic.com/s/notosanscherokee/v19/KFOPCm6Yu8uF-29fiz9vQF9YWK6Z8O10cHNA0cSkZCHYWi5ODkm5rAffjl0.ttf",200:"https://fonts.gstatic.com/s/notosanscherokee/v19/KFOPCm6Yu8uF-29fiz9vQF9YWK6Z8O10cHNA0cSkZCHYWq5PDkm5rAffjl0.ttf",300:"https://fonts.gstatic.com/s/notosanscherokee/v19/KFOPCm6Yu8uF-29fiz9vQF9YWK6Z8O10cHNA0cSkZCHYWnBPDkm5rAffjl0.ttf",500:"https://fonts.gstatic.com/s/notosanscherokee/v19/KFOPCm6Yu8uF-29fiz9vQF9YWK6Z8O10cHNA0cSkZCHYWhxPDkm5rAffjl0.ttf",600:"https://fonts.gstatic.com/s/notosanscherokee/v19/KFOPCm6Yu8uF-29fiz9vQF9YWK6Z8O10cHNA0cSkZCHYWvBIDkm5rAffjl0.ttf",700:"https://fonts.gstatic.com/s/notosanscherokee/v19/KFOPCm6Yu8uF-29fiz9vQF9YWK6Z8O10cHNA0cSkZCHYWslIDkm5rAffjl0.ttf",800:"https://fonts.gstatic.com/s/notosanscherokee/v19/KFOPCm6Yu8uF-29fiz9vQF9YWK6Z8O10cHNA0cSkZCHYWq5IDkm5rAffjl0.ttf",900:"https://fonts.gstatic.com/s/notosanscherokee/v19/KFOPCm6Yu8uF-29fiz9vQF9YWK6Z8O10cHNA0cSkZCHYWodIDkm5rAffjl0.ttf",regular:"https://fonts.gstatic.com/s/notosanscherokee/v19/KFOPCm6Yu8uF-29fiz9vQF9YWK6Z8O10cHNA0cSkZCHYWi5PDkm5rAffjl0.ttf"}},{family:"Noto Sans Chorasmian",files:{regular:"https://fonts.gstatic.com/s/notosanschorasmian/v1/MQpL-X6uKMC7ROPLwRnI9ULxK_7NVkf8S5vyoH7w4g9b.ttf"}},{family:"Noto Sans Coptic",files:{regular:"https://fonts.gstatic.com/s/notosanscoptic/v17/iJWfBWmUZi_OHPqn4wq6kgqumOEd78u_VG0xR4Y.ttf"}},{family:"Noto Sans Cuneiform",files:{regular:"https://fonts.gstatic.com/s/notosanscuneiform/v15/bMrrmTWK7YY-MF22aHGGd7H8PhJtvBDWgb9JlRQueeQ.ttf"}},{family:"Noto Sans Cypriot",files:{regular:"https://fonts.gstatic.com/s/notosanscypriot/v15/8AtzGta9PYqQDjyp79a6f8Cj-3a3cxIsK5MPpahF.ttf"}},{family:"Noto Sans Deseret",files:{regular:"https://fonts.gstatic.com/s/notosansdeseret/v15/MwQsbgPp1eKH6QsAVuFb9AZM6MMr2Vq9ZnJSZtQG.ttf"}},{family:"Noto Sans Devanagari",files:{100:"https://fonts.gstatic.com/s/notosansdevanagari/v25/TuGoUUFzXI5FBtUq5a8bjKYTZjtRU6Sgv3NaV_SNmI0b8QQCQmHn6B2OHjbL_08AlXQky-AzoFoW4Ow.ttf",200:"https://fonts.gstatic.com/s/notosansdevanagari/v25/TuGoUUFzXI5FBtUq5a8bjKYTZjtRU6Sgv3NaV_SNmI0b8QQCQmHn6B2OHjbL_08AlfQly-AzoFoW4Ow.ttf",300:"https://fonts.gstatic.com/s/notosansdevanagari/v25/TuGoUUFzXI5FBtUq5a8bjKYTZjtRU6Sgv3NaV_SNmI0b8QQCQmHn6B2OHjbL_08AlSoly-AzoFoW4Ow.ttf",500:"https://fonts.gstatic.com/s/notosansdevanagari/v25/TuGoUUFzXI5FBtUq5a8bjKYTZjtRU6Sgv3NaV_SNmI0b8QQCQmHn6B2OHjbL_08AlUYly-AzoFoW4Ow.ttf",600:"https://fonts.gstatic.com/s/notosansdevanagari/v25/TuGoUUFzXI5FBtUq5a8bjKYTZjtRU6Sgv3NaV_SNmI0b8QQCQmHn6B2OHjbL_08Alaoiy-AzoFoW4Ow.ttf",700:"https://fonts.gstatic.com/s/notosansdevanagari/v25/TuGoUUFzXI5FBtUq5a8bjKYTZjtRU6Sgv3NaV_SNmI0b8QQCQmHn6B2OHjbL_08AlZMiy-AzoFoW4Ow.ttf",800:"https://fonts.gstatic.com/s/notosansdevanagari/v25/TuGoUUFzXI5FBtUq5a8bjKYTZjtRU6Sgv3NaV_SNmI0b8QQCQmHn6B2OHjbL_08AlfQiy-AzoFoW4Ow.ttf",900:"https://fonts.gstatic.com/s/notosansdevanagari/v25/TuGoUUFzXI5FBtUq5a8bjKYTZjtRU6Sgv3NaV_SNmI0b8QQCQmHn6B2OHjbL_08Ald0iy-AzoFoW4Ow.ttf",regular:"https://fonts.gstatic.com/s/notosansdevanagari/v25/TuGoUUFzXI5FBtUq5a8bjKYTZjtRU6Sgv3NaV_SNmI0b8QQCQmHn6B2OHjbL_08AlXQly-AzoFoW4Ow.ttf"}},{family:"Noto Sans Display",files:{100:"https://fonts.gstatic.com/s/notosansdisplay/v20/RLpbK4fy6r6tOBEJg0IAKzqdFZVZxpMkXJMhnB9XjO1o90LuV-PT4Doq_AKp_3cLVTGQ2iHrvWM.ttf",200:"https://fonts.gstatic.com/s/notosansdisplay/v20/RLpbK4fy6r6tOBEJg0IAKzqdFZVZxpMkXJMhnB9XjO1o90LuV-PT4Doq_AKp__cKVTGQ2iHrvWM.ttf",300:"https://fonts.gstatic.com/s/notosansdisplay/v20/RLpbK4fy6r6tOBEJg0IAKzqdFZVZxpMkXJMhnB9XjO1o90LuV-PT4Doq_AKp_ykKVTGQ2iHrvWM.ttf",500:"https://fonts.gstatic.com/s/notosansdisplay/v20/RLpbK4fy6r6tOBEJg0IAKzqdFZVZxpMkXJMhnB9XjO1o90LuV-PT4Doq_AKp_0UKVTGQ2iHrvWM.ttf",600:"https://fonts.gstatic.com/s/notosansdisplay/v20/RLpbK4fy6r6tOBEJg0IAKzqdFZVZxpMkXJMhnB9XjO1o90LuV-PT4Doq_AKp_6kNVTGQ2iHrvWM.ttf",700:"https://fonts.gstatic.com/s/notosansdisplay/v20/RLpbK4fy6r6tOBEJg0IAKzqdFZVZxpMkXJMhnB9XjO1o90LuV-PT4Doq_AKp_5ANVTGQ2iHrvWM.ttf",800:"https://fonts.gstatic.com/s/notosansdisplay/v20/RLpbK4fy6r6tOBEJg0IAKzqdFZVZxpMkXJMhnB9XjO1o90LuV-PT4Doq_AKp__cNVTGQ2iHrvWM.ttf",900:"https://fonts.gstatic.com/s/notosansdisplay/v20/RLpbK4fy6r6tOBEJg0IAKzqdFZVZxpMkXJMhnB9XjO1o90LuV-PT4Doq_AKp_94NVTGQ2iHrvWM.ttf",regular:"https://fonts.gstatic.com/s/notosansdisplay/v20/RLpbK4fy6r6tOBEJg0IAKzqdFZVZxpMkXJMhnB9XjO1o90LuV-PT4Doq_AKp_3cKVTGQ2iHrvWM.ttf","100italic":"https://fonts.gstatic.com/s/notosansdisplay/v20/RLpZK4fy6r6tOBEJg0IAKzqdFZVZxrktbnDB5UzBIup9PwAcHtEsOFNBZqyu6r9JvXOa3gPurWM9uQ.ttf","200italic":"https://fonts.gstatic.com/s/notosansdisplay/v20/RLpZK4fy6r6tOBEJg0IAKzqdFZVZxrktbnDB5UzBIup9PwAcHtEsOFNBZqyu6r9JPXKa3gPurWM9uQ.ttf","300italic":"https://fonts.gstatic.com/s/notosansdisplay/v20/RLpZK4fy6r6tOBEJg0IAKzqdFZVZxrktbnDB5UzBIup9PwAcHtEsOFNBZqyu6r9J43Ka3gPurWM9uQ.ttf",italic:"https://fonts.gstatic.com/s/notosansdisplay/v20/RLpZK4fy6r6tOBEJg0IAKzqdFZVZxrktbnDB5UzBIup9PwAcHtEsOFNBZqyu6r9JvXKa3gPurWM9uQ.ttf","500italic":"https://fonts.gstatic.com/s/notosansdisplay/v20/RLpZK4fy6r6tOBEJg0IAKzqdFZVZxrktbnDB5UzBIup9PwAcHtEsOFNBZqyu6r9Jj3Ka3gPurWM9uQ.ttf","600italic":"https://fonts.gstatic.com/s/notosansdisplay/v20/RLpZK4fy6r6tOBEJg0IAKzqdFZVZxrktbnDB5UzBIup9PwAcHtEsOFNBZqyu6r9JY3Wa3gPurWM9uQ.ttf","700italic":"https://fonts.gstatic.com/s/notosansdisplay/v20/RLpZK4fy6r6tOBEJg0IAKzqdFZVZxrktbnDB5UzBIup9PwAcHtEsOFNBZqyu6r9JWnWa3gPurWM9uQ.ttf","800italic":"https://fonts.gstatic.com/s/notosansdisplay/v20/RLpZK4fy6r6tOBEJg0IAKzqdFZVZxrktbnDB5UzBIup9PwAcHtEsOFNBZqyu6r9JPXWa3gPurWM9uQ.ttf","900italic":"https://fonts.gstatic.com/s/notosansdisplay/v20/RLpZK4fy6r6tOBEJg0IAKzqdFZVZxrktbnDB5UzBIup9PwAcHtEsOFNBZqyu6r9JFHWa3gPurWM9uQ.ttf"}},{family:"Noto Sans Duployan",files:{regular:"https://fonts.gstatic.com/s/notosansduployan/v16/gokzH7nwAEdtF9N8-mdTDx_X9JM5wsvrFsIn6WYDvA.ttf"}},{family:"Noto Sans Egyptian Hieroglyphs",files:{regular:"https://fonts.gstatic.com/s/notosansegyptianhieroglyphs/v26/vEF42-tODB8RrNDvZSUmRhcQHzx1s7y_F9-j3qSzEcbEYindSVK8xRg7iw.ttf"}},{family:"Noto Sans Elbasan",files:{regular:"https://fonts.gstatic.com/s/notosanselbasan/v16/-F6rfiZqLzI2JPCgQBnw400qp1trvHdlre4dFcFh.ttf"}},{family:"Noto Sans Elymaic",files:{regular:"https://fonts.gstatic.com/s/notosanselymaic/v15/UqyKK9YTJW5liNMhTMqe9vUFP65ZD4AjWOT0zi2V.ttf"}},{family:"Noto Sans Ethiopic",files:{100:"https://fonts.gstatic.com/s/notosansethiopic/v46/7cHPv50vjIepfJVOZZgcpQ5B9FBTH9KGNfhSTgtoow1KVnIvyBoMSzUMacb-T35OKqDjwmfeaY9u.ttf",200:"https://fonts.gstatic.com/s/notosansethiopic/v46/7cHPv50vjIepfJVOZZgcpQ5B9FBTH9KGNfhSTgtoow1KVnIvyBoMSzUMacb-T37OK6DjwmfeaY9u.ttf",300:"https://fonts.gstatic.com/s/notosansethiopic/v46/7cHPv50vjIepfJVOZZgcpQ5B9FBTH9KGNfhSTgtoow1KVnIvyBoMSzUMacb-T34QK6DjwmfeaY9u.ttf",500:"https://fonts.gstatic.com/s/notosansethiopic/v46/7cHPv50vjIepfJVOZZgcpQ5B9FBTH9KGNfhSTgtoow1KVnIvyBoMSzUMacb-T358K6DjwmfeaY9u.ttf",600:"https://fonts.gstatic.com/s/notosansethiopic/v46/7cHPv50vjIepfJVOZZgcpQ5B9FBTH9KGNfhSTgtoow1KVnIvyBoMSzUMacb-T36QLKDjwmfeaY9u.ttf",700:"https://fonts.gstatic.com/s/notosansethiopic/v46/7cHPv50vjIepfJVOZZgcpQ5B9FBTH9KGNfhSTgtoow1KVnIvyBoMSzUMacb-T36pLKDjwmfeaY9u.ttf",800:"https://fonts.gstatic.com/s/notosansethiopic/v46/7cHPv50vjIepfJVOZZgcpQ5B9FBTH9KGNfhSTgtoow1KVnIvyBoMSzUMacb-T37OLKDjwmfeaY9u.ttf",900:"https://fonts.gstatic.com/s/notosansethiopic/v46/7cHPv50vjIepfJVOZZgcpQ5B9FBTH9KGNfhSTgtoow1KVnIvyBoMSzUMacb-T37nLKDjwmfeaY9u.ttf",regular:"https://fonts.gstatic.com/s/notosansethiopic/v46/7cHPv50vjIepfJVOZZgcpQ5B9FBTH9KGNfhSTgtoow1KVnIvyBoMSzUMacb-T35OK6DjwmfeaY9u.ttf"}},{family:"Noto Sans Georgian",files:{100:"https://fonts.gstatic.com/s/notosansgeorgian/v42/PlIaFke5O6RzLfvNNVSitxkr76PRHBC4Ytyq-Gof7PUs4S7zWn-8YDB09HFNdpvnzVj-f5WK0OQV.ttf",200:"https://fonts.gstatic.com/s/notosansgeorgian/v42/PlIaFke5O6RzLfvNNVSitxkr76PRHBC4Ytyq-Gof7PUs4S7zWn-8YDB09HFNdptnzFj-f5WK0OQV.ttf",300:"https://fonts.gstatic.com/s/notosansgeorgian/v42/PlIaFke5O6RzLfvNNVSitxkr76PRHBC4Ytyq-Gof7PUs4S7zWn-8YDB09HFNdpu5zFj-f5WK0OQV.ttf",500:"https://fonts.gstatic.com/s/notosansgeorgian/v42/PlIaFke5O6RzLfvNNVSitxkr76PRHBC4Ytyq-Gof7PUs4S7zWn-8YDB09HFNdpvVzFj-f5WK0OQV.ttf",600:"https://fonts.gstatic.com/s/notosansgeorgian/v42/PlIaFke5O6RzLfvNNVSitxkr76PRHBC4Ytyq-Gof7PUs4S7zWn-8YDB09HFNdps5y1j-f5WK0OQV.ttf",700:"https://fonts.gstatic.com/s/notosansgeorgian/v42/PlIaFke5O6RzLfvNNVSitxkr76PRHBC4Ytyq-Gof7PUs4S7zWn-8YDB09HFNdpsAy1j-f5WK0OQV.ttf",800:"https://fonts.gstatic.com/s/notosansgeorgian/v42/PlIaFke5O6RzLfvNNVSitxkr76PRHBC4Ytyq-Gof7PUs4S7zWn-8YDB09HFNdptny1j-f5WK0OQV.ttf",900:"https://fonts.gstatic.com/s/notosansgeorgian/v42/PlIaFke5O6RzLfvNNVSitxkr76PRHBC4Ytyq-Gof7PUs4S7zWn-8YDB09HFNdptOy1j-f5WK0OQV.ttf",regular:"https://fonts.gstatic.com/s/notosansgeorgian/v42/PlIaFke5O6RzLfvNNVSitxkr76PRHBC4Ytyq-Gof7PUs4S7zWn-8YDB09HFNdpvnzFj-f5WK0OQV.ttf"}},{family:"Noto Sans Glagolitic",files:{regular:"https://fonts.gstatic.com/s/notosansglagolitic/v15/1q2ZY4-BBFBst88SU_tOj4J-4yuNF_HI4ERK4Amu7nM1.ttf"}},{family:"Noto Sans Gothic",files:{regular:"https://fonts.gstatic.com/s/notosansgothic/v15/TuGKUUVzXI5FBtUq5a8bj6wRbzxTFMX40kFQRx0.ttf"}},{family:"Noto Sans Grantha",files:{regular:"https://fonts.gstatic.com/s/notosansgrantha/v17/3y976akwcCjmsU8NDyrKo3IQfQ4o-r8cFeulHc6N.ttf"}},{family:"Noto Sans Gujarati",files:{100:"https://fonts.gstatic.com/s/notosansgujarati/v23/wlpWgx_HC1ti5ViekvcxnhMlCVo3f5pv17ivlzsUB14gg1TMR2Gw4VceEl7MA_ypFgPM_OdiEH0s.ttf",200:"https://fonts.gstatic.com/s/notosansgujarati/v23/wlpWgx_HC1ti5ViekvcxnhMlCVo3f5pv17ivlzsUB14gg1TMR2Gw4VceEl7MA_wpFwPM_OdiEH0s.ttf",300:"https://fonts.gstatic.com/s/notosansgujarati/v23/wlpWgx_HC1ti5ViekvcxnhMlCVo3f5pv17ivlzsUB14gg1TMR2Gw4VceEl7MA_z3FwPM_OdiEH0s.ttf",500:"https://fonts.gstatic.com/s/notosansgujarati/v23/wlpWgx_HC1ti5ViekvcxnhMlCVo3f5pv17ivlzsUB14gg1TMR2Gw4VceEl7MA_ybFwPM_OdiEH0s.ttf",600:"https://fonts.gstatic.com/s/notosansgujarati/v23/wlpWgx_HC1ti5ViekvcxnhMlCVo3f5pv17ivlzsUB14gg1TMR2Gw4VceEl7MA_x3EAPM_OdiEH0s.ttf",700:"https://fonts.gstatic.com/s/notosansgujarati/v23/wlpWgx_HC1ti5ViekvcxnhMlCVo3f5pv17ivlzsUB14gg1TMR2Gw4VceEl7MA_xOEAPM_OdiEH0s.ttf",800:"https://fonts.gstatic.com/s/notosansgujarati/v23/wlpWgx_HC1ti5ViekvcxnhMlCVo3f5pv17ivlzsUB14gg1TMR2Gw4VceEl7MA_wpEAPM_OdiEH0s.ttf",900:"https://fonts.gstatic.com/s/notosansgujarati/v23/wlpWgx_HC1ti5ViekvcxnhMlCVo3f5pv17ivlzsUB14gg1TMR2Gw4VceEl7MA_wAEAPM_OdiEH0s.ttf",regular:"https://fonts.gstatic.com/s/notosansgujarati/v23/wlpWgx_HC1ti5ViekvcxnhMlCVo3f5pv17ivlzsUB14gg1TMR2Gw4VceEl7MA_ypFwPM_OdiEH0s.ttf"}},{family:"Noto Sans Gunjala Gondi",files:{regular:"https://fonts.gstatic.com/s/notosansgunjalagondi/v15/bWto7e7KfBziStx7lIzKPrcSMwcEnCv6DW7n5hcVXYMTK4q1.ttf"}},{family:"Noto Sans Gurmukhi",files:{100:"https://fonts.gstatic.com/s/notosansgurmukhi/v26/w8g9H3EvQP81sInb43inmyN9zZ7hb7ATbSWo4q8dJ74a3cVrYFQ_bogT0-gPeG1Oe3bxZ_trdp7h.ttf",200:"https://fonts.gstatic.com/s/notosansgurmukhi/v26/w8g9H3EvQP81sInb43inmyN9zZ7hb7ATbSWo4q8dJ74a3cVrYFQ_bogT0-gPeG3OenbxZ_trdp7h.ttf",300:"https://fonts.gstatic.com/s/notosansgurmukhi/v26/w8g9H3EvQP81sInb43inmyN9zZ7hb7ATbSWo4q8dJ74a3cVrYFQ_bogT0-gPeG0QenbxZ_trdp7h.ttf",500:"https://fonts.gstatic.com/s/notosansgurmukhi/v26/w8g9H3EvQP81sInb43inmyN9zZ7hb7ATbSWo4q8dJ74a3cVrYFQ_bogT0-gPeG18enbxZ_trdp7h.ttf",600:"https://fonts.gstatic.com/s/notosansgurmukhi/v26/w8g9H3EvQP81sInb43inmyN9zZ7hb7ATbSWo4q8dJ74a3cVrYFQ_bogT0-gPeG2QfXbxZ_trdp7h.ttf",700:"https://fonts.gstatic.com/s/notosansgurmukhi/v26/w8g9H3EvQP81sInb43inmyN9zZ7hb7ATbSWo4q8dJ74a3cVrYFQ_bogT0-gPeG2pfXbxZ_trdp7h.ttf",800:"https://fonts.gstatic.com/s/notosansgurmukhi/v26/w8g9H3EvQP81sInb43inmyN9zZ7hb7ATbSWo4q8dJ74a3cVrYFQ_bogT0-gPeG3OfXbxZ_trdp7h.ttf",900:"https://fonts.gstatic.com/s/notosansgurmukhi/v26/w8g9H3EvQP81sInb43inmyN9zZ7hb7ATbSWo4q8dJ74a3cVrYFQ_bogT0-gPeG3nfXbxZ_trdp7h.ttf",regular:"https://fonts.gstatic.com/s/notosansgurmukhi/v26/w8g9H3EvQP81sInb43inmyN9zZ7hb7ATbSWo4q8dJ74a3cVrYFQ_bogT0-gPeG1OenbxZ_trdp7h.ttf"}},{family:"Noto Sans HK",files:{100:"https://fonts.gstatic.com/s/notosanshk/v21/nKKO-GM_FYFRJvXzVXaAPe9ZUHp1MOv2ObB7.otf",300:"https://fonts.gstatic.com/s/notosanshk/v21/nKKP-GM_FYFRJvXzVXaAPe9ZmFhTHMX6MKliqQ.otf",500:"https://fonts.gstatic.com/s/notosanshk/v21/nKKP-GM_FYFRJvXzVXaAPe9ZwFlTHMX6MKliqQ.otf",700:"https://fonts.gstatic.com/s/notosanshk/v21/nKKP-GM_FYFRJvXzVXaAPe9ZiF9THMX6MKliqQ.otf",900:"https://fonts.gstatic.com/s/notosanshk/v21/nKKP-GM_FYFRJvXzVXaAPe9ZsF1THMX6MKliqQ.otf",regular:"https://fonts.gstatic.com/s/notosanshk/v21/nKKQ-GM_FYFRJvXzVXaAPe9hMnB3Eu7mOQ.otf"}},{family:"Noto Sans Hanifi Rohingya",files:{500:"https://fonts.gstatic.com/s/notosanshanifirohingya/v26/5h17iYsoOmIC3Yu3MDXLDw3UZCgghyOEBBY7hhLNyo3tiaiuSIAqrIYq4j6vvcudK8rN.ttf",600:"https://fonts.gstatic.com/s/notosanshanifirohingya/v26/5h17iYsoOmIC3Yu3MDXLDw3UZCgghyOEBBY7hhLNyo3tiaiuSIAqrIbG5T6vvcudK8rN.ttf",700:"https://fonts.gstatic.com/s/notosanshanifirohingya/v26/5h17iYsoOmIC3Yu3MDXLDw3UZCgghyOEBBY7hhLNyo3tiaiuSIAqrIb_5T6vvcudK8rN.ttf",regular:"https://fonts.gstatic.com/s/notosanshanifirohingya/v26/5h17iYsoOmIC3Yu3MDXLDw3UZCgghyOEBBY7hhLNyo3tiaiuSIAqrIYY4j6vvcudK8rN.ttf"}},{family:"Noto Sans Hanunoo",files:{regular:"https://fonts.gstatic.com/s/notosanshanunoo/v17/f0Xs0fCv8dxkDWlZSoXOj6CphMloFsEsEpgL_ix2.ttf"}},{family:"Noto Sans Hatran",files:{regular:"https://fonts.gstatic.com/s/notosanshatran/v15/A2BBn4Ne0RgnVF3Lnko-0sOBIfL_mM83r1nwzDs.ttf"}},{family:"Noto Sans Hebrew",files:{100:"https://fonts.gstatic.com/s/notosanshebrew/v43/or3HQ7v33eiDljA1IufXTtVf7V6RvEEdhQlk0LlGxCyaeNKYZC0sqk3xXGiXd4utoiJltutR2g.ttf",200:"https://fonts.gstatic.com/s/notosanshebrew/v43/or3HQ7v33eiDljA1IufXTtVf7V6RvEEdhQlk0LlGxCyaeNKYZC0sqk3xXGiX94qtoiJltutR2g.ttf",300:"https://fonts.gstatic.com/s/notosanshebrew/v43/or3HQ7v33eiDljA1IufXTtVf7V6RvEEdhQlk0LlGxCyaeNKYZC0sqk3xXGiXKYqtoiJltutR2g.ttf",500:"https://fonts.gstatic.com/s/notosanshebrew/v43/or3HQ7v33eiDljA1IufXTtVf7V6RvEEdhQlk0LlGxCyaeNKYZC0sqk3xXGiXRYqtoiJltutR2g.ttf",600:"https://fonts.gstatic.com/s/notosanshebrew/v43/or3HQ7v33eiDljA1IufXTtVf7V6RvEEdhQlk0LlGxCyaeNKYZC0sqk3xXGiXqY2toiJltutR2g.ttf",700:"https://fonts.gstatic.com/s/notosanshebrew/v43/or3HQ7v33eiDljA1IufXTtVf7V6RvEEdhQlk0LlGxCyaeNKYZC0sqk3xXGiXkI2toiJltutR2g.ttf",800:"https://fonts.gstatic.com/s/notosanshebrew/v43/or3HQ7v33eiDljA1IufXTtVf7V6RvEEdhQlk0LlGxCyaeNKYZC0sqk3xXGiX942toiJltutR2g.ttf",900:"https://fonts.gstatic.com/s/notosanshebrew/v43/or3HQ7v33eiDljA1IufXTtVf7V6RvEEdhQlk0LlGxCyaeNKYZC0sqk3xXGiX3o2toiJltutR2g.ttf",regular:"https://fonts.gstatic.com/s/notosanshebrew/v43/or3HQ7v33eiDljA1IufXTtVf7V6RvEEdhQlk0LlGxCyaeNKYZC0sqk3xXGiXd4qtoiJltutR2g.ttf"}},{family:"Noto Sans Imperial Aramaic",files:{regular:"https://fonts.gstatic.com/s/notosansimperialaramaic/v15/a8IMNpjwKmHXpgXbMIsbTc_kvks91LlLetBr5itQrtdml3YfPNno.ttf"}},{family:"Noto Sans Indic Siyaq Numbers",files:{regular:"https://fonts.gstatic.com/s/notosansindicsiyaqnumbers/v15/6xK5dTJFKcWIu4bpRBjRZRpsIYHabOeZ8UZLubTzpXNHKx2WPOpVd5Iu.ttf"}},{family:"Noto Sans Inscriptional Pahlavi",files:{regular:"https://fonts.gstatic.com/s/notosansinscriptionalpahlavi/v15/ll8UK3GaVDuxR-TEqFPIbsR79Xxz9WEKbwsjpz7VklYlC7FCVtqVOAYK0QA.ttf"}},{family:"Noto Sans Inscriptional Parthian",files:{regular:"https://fonts.gstatic.com/s/notosansinscriptionalparthian/v16/k3k7o-IMPvpLmixcA63oYi-yStDkgXuXncL7dzfW3P4TAJ2yklBJ2jNkLlLr.ttf"}},{family:"Noto Sans JP",files:{100:"https://fonts.gstatic.com/s/notosansjp/v52/-F6jfjtqLzI2JPCgQBnw7HFyzSD-AsregP8VFBEi75vY0rw-oME.ttf",200:"https://fonts.gstatic.com/s/notosansjp/v52/-F6jfjtqLzI2JPCgQBnw7HFyzSD-AsregP8VFJEj75vY0rw-oME.ttf",300:"https://fonts.gstatic.com/s/notosansjp/v52/-F6jfjtqLzI2JPCgQBnw7HFyzSD-AsregP8VFE8j75vY0rw-oME.ttf",500:"https://fonts.gstatic.com/s/notosansjp/v52/-F6jfjtqLzI2JPCgQBnw7HFyzSD-AsregP8VFCMj75vY0rw-oME.ttf",600:"https://fonts.gstatic.com/s/notosansjp/v52/-F6jfjtqLzI2JPCgQBnw7HFyzSD-AsregP8VFM8k75vY0rw-oME.ttf",700:"https://fonts.gstatic.com/s/notosansjp/v52/-F6jfjtqLzI2JPCgQBnw7HFyzSD-AsregP8VFPYk75vY0rw-oME.ttf",800:"https://fonts.gstatic.com/s/notosansjp/v52/-F6jfjtqLzI2JPCgQBnw7HFyzSD-AsregP8VFJEk75vY0rw-oME.ttf",900:"https://fonts.gstatic.com/s/notosansjp/v52/-F6jfjtqLzI2JPCgQBnw7HFyzSD-AsregP8VFLgk75vY0rw-oME.ttf",regular:"https://fonts.gstatic.com/s/notosansjp/v52/-F6jfjtqLzI2JPCgQBnw7HFyzSD-AsregP8VFBEj75vY0rw-oME.ttf"}},{family:"Noto Sans Javanese",files:{500:"https://fonts.gstatic.com/s/notosansjavanese/v21/2V01KJkDAIA6Hp4zoSScDjV0Y-eoHAHT-Z3MngEefiidxKvkFFliZYWj4O8.ttf",600:"https://fonts.gstatic.com/s/notosansjavanese/v21/2V01KJkDAIA6Hp4zoSScDjV0Y-eoHAHT-Z3MngEefiidxEfjFFliZYWj4O8.ttf",700:"https://fonts.gstatic.com/s/notosansjavanese/v21/2V01KJkDAIA6Hp4zoSScDjV0Y-eoHAHT-Z3MngEefiidxH7jFFliZYWj4O8.ttf",regular:"https://fonts.gstatic.com/s/notosansjavanese/v21/2V01KJkDAIA6Hp4zoSScDjV0Y-eoHAHT-Z3MngEefiidxJnkFFliZYWj4O8.ttf"}},{family:"Noto Sans KR",files:{100:"https://fonts.gstatic.com/s/notosanskr/v27/Pby6FmXiEBPT4ITbgNA5CgmOsn7uwpYcuH8y.otf",300:"https://fonts.gstatic.com/s/notosanskr/v27/Pby7FmXiEBPT4ITbgNA5CgmOelzI7rgQsWYrzw.otf",500:"https://fonts.gstatic.com/s/notosanskr/v27/Pby7FmXiEBPT4ITbgNA5CgmOIl3I7rgQsWYrzw.otf",700:"https://fonts.gstatic.com/s/notosanskr/v27/Pby7FmXiEBPT4ITbgNA5CgmOalvI7rgQsWYrzw.otf",900:"https://fonts.gstatic.com/s/notosanskr/v27/Pby7FmXiEBPT4ITbgNA5CgmOUlnI7rgQsWYrzw.otf",regular:"https://fonts.gstatic.com/s/notosanskr/v27/PbykFmXiEBPT4ITbgNA5Cgm20HTs4JMMuA.otf"}},{family:"Noto Sans Kaithi",files:{regular:"https://fonts.gstatic.com/s/notosanskaithi/v16/buEtppS9f8_vkXadMBJJu0tWjLwjQi0KdoZIKlo.ttf"}},{family:"Noto Sans Kannada",files:{100:"https://fonts.gstatic.com/s/notosanskannada/v26/8vIs7xs32H97qzQKnzfeXycxXZyUmySvZWItmf1fe6TVmgop9ndpS-BqHEyGrDvMzSIMLsPKrkY.ttf",200:"https://fonts.gstatic.com/s/notosanskannada/v26/8vIs7xs32H97qzQKnzfeXycxXZyUmySvZWItmf1fe6TVmgop9ndpS-BqHEyGrLvNzSIMLsPKrkY.ttf",300:"https://fonts.gstatic.com/s/notosanskannada/v26/8vIs7xs32H97qzQKnzfeXycxXZyUmySvZWItmf1fe6TVmgop9ndpS-BqHEyGrGXNzSIMLsPKrkY.ttf",500:"https://fonts.gstatic.com/s/notosanskannada/v26/8vIs7xs32H97qzQKnzfeXycxXZyUmySvZWItmf1fe6TVmgop9ndpS-BqHEyGrAnNzSIMLsPKrkY.ttf",600:"https://fonts.gstatic.com/s/notosanskannada/v26/8vIs7xs32H97qzQKnzfeXycxXZyUmySvZWItmf1fe6TVmgop9ndpS-BqHEyGrOXKzSIMLsPKrkY.ttf",700:"https://fonts.gstatic.com/s/notosanskannada/v26/8vIs7xs32H97qzQKnzfeXycxXZyUmySvZWItmf1fe6TVmgop9ndpS-BqHEyGrNzKzSIMLsPKrkY.ttf",800:"https://fonts.gstatic.com/s/notosanskannada/v26/8vIs7xs32H97qzQKnzfeXycxXZyUmySvZWItmf1fe6TVmgop9ndpS-BqHEyGrLvKzSIMLsPKrkY.ttf",900:"https://fonts.gstatic.com/s/notosanskannada/v26/8vIs7xs32H97qzQKnzfeXycxXZyUmySvZWItmf1fe6TVmgop9ndpS-BqHEyGrJLKzSIMLsPKrkY.ttf",regular:"https://fonts.gstatic.com/s/notosanskannada/v26/8vIs7xs32H97qzQKnzfeXycxXZyUmySvZWItmf1fe6TVmgop9ndpS-BqHEyGrDvNzSIMLsPKrkY.ttf"}},{family:"Noto Sans Kayah Li",files:{500:"https://fonts.gstatic.com/s/notosanskayahli/v20/B50nF61OpWTRcGrhOVJJwOMXdca6Yecki3E06x2jVTX3WBU3CZH4EXLuKVM.ttf",600:"https://fonts.gstatic.com/s/notosanskayahli/v20/B50nF61OpWTRcGrhOVJJwOMXdca6Yecki3E06x2jVTX3WPkwCZH4EXLuKVM.ttf",700:"https://fonts.gstatic.com/s/notosanskayahli/v20/B50nF61OpWTRcGrhOVJJwOMXdca6Yecki3E06x2jVTX3WMAwCZH4EXLuKVM.ttf",regular:"https://fonts.gstatic.com/s/notosanskayahli/v20/B50nF61OpWTRcGrhOVJJwOMXdca6Yecki3E06x2jVTX3WCc3CZH4EXLuKVM.ttf"}},{family:"Noto Sans Kharoshthi",files:{regular:"https://fonts.gstatic.com/s/notosanskharoshthi/v16/Fh4qPiLjKS30-P4-pGMMXCCfvkc5Vd7KE5z4rFyx5mR1.ttf"}},{family:"Noto Sans Khmer",files:{100:"https://fonts.gstatic.com/s/notosanskhmer/v23/ijw3s5roRME5LLRxjsRb-gssOenAyendxrgV2c-Zw-9vbVUti_Z_dWgtWYuNAZz4kAbrddiA.ttf",200:"https://fonts.gstatic.com/s/notosanskhmer/v23/ijw3s5roRME5LLRxjsRb-gssOenAyendxrgV2c-Zw-9vbVUti_Z_dWgtWYsNAJz4kAbrddiA.ttf",300:"https://fonts.gstatic.com/s/notosanskhmer/v23/ijw3s5roRME5LLRxjsRb-gssOenAyendxrgV2c-Zw-9vbVUti_Z_dWgtWYvTAJz4kAbrddiA.ttf",500:"https://fonts.gstatic.com/s/notosanskhmer/v23/ijw3s5roRME5LLRxjsRb-gssOenAyendxrgV2c-Zw-9vbVUti_Z_dWgtWYu_AJz4kAbrddiA.ttf",600:"https://fonts.gstatic.com/s/notosanskhmer/v23/ijw3s5roRME5LLRxjsRb-gssOenAyendxrgV2c-Zw-9vbVUti_Z_dWgtWYtTB5z4kAbrddiA.ttf",700:"https://fonts.gstatic.com/s/notosanskhmer/v23/ijw3s5roRME5LLRxjsRb-gssOenAyendxrgV2c-Zw-9vbVUti_Z_dWgtWYtqB5z4kAbrddiA.ttf",800:"https://fonts.gstatic.com/s/notosanskhmer/v23/ijw3s5roRME5LLRxjsRb-gssOenAyendxrgV2c-Zw-9vbVUti_Z_dWgtWYsNB5z4kAbrddiA.ttf",900:"https://fonts.gstatic.com/s/notosanskhmer/v23/ijw3s5roRME5LLRxjsRb-gssOenAyendxrgV2c-Zw-9vbVUti_Z_dWgtWYskB5z4kAbrddiA.ttf",regular:"https://fonts.gstatic.com/s/notosanskhmer/v23/ijw3s5roRME5LLRxjsRb-gssOenAyendxrgV2c-Zw-9vbVUti_Z_dWgtWYuNAJz4kAbrddiA.ttf"}},{family:"Noto Sans Khojki",files:{regular:"https://fonts.gstatic.com/s/notosanskhojki/v16/-nFnOHM29Oofr2wohFbTuPPKVWpmK_d709jy92k.ttf"}},{family:"Noto Sans Khudawadi",files:{regular:"https://fonts.gstatic.com/s/notosanskhudawadi/v16/fdNi9t6ZsWBZ2k5ltHN73zZ5hc8HANlHIjRnVVXz9MY.ttf"}},{family:"Noto Sans Lao",files:{100:"https://fonts.gstatic.com/s/notosanslao/v24/bx6lNx2Ol_ixgdYWLm9BwxM3NW6BOkuf763Clj73CiQ_J1Djx9pidOt4ccfdf5MK3riB2w.ttf",200:"https://fonts.gstatic.com/s/notosanslao/v24/bx6lNx2Ol_ixgdYWLm9BwxM3NW6BOkuf763Clj73CiQ_J1Djx9pidOt48cbdf5MK3riB2w.ttf",300:"https://fonts.gstatic.com/s/notosanslao/v24/bx6lNx2Ol_ixgdYWLm9BwxM3NW6BOkuf763Clj73CiQ_J1Djx9pidOt4L8bdf5MK3riB2w.ttf",500:"https://fonts.gstatic.com/s/notosanslao/v24/bx6lNx2Ol_ixgdYWLm9BwxM3NW6BOkuf763Clj73CiQ_J1Djx9pidOt4Q8bdf5MK3riB2w.ttf",600:"https://fonts.gstatic.com/s/notosanslao/v24/bx6lNx2Ol_ixgdYWLm9BwxM3NW6BOkuf763Clj73CiQ_J1Djx9pidOt4r8Hdf5MK3riB2w.ttf",700:"https://fonts.gstatic.com/s/notosanslao/v24/bx6lNx2Ol_ixgdYWLm9BwxM3NW6BOkuf763Clj73CiQ_J1Djx9pidOt4lsHdf5MK3riB2w.ttf",800:"https://fonts.gstatic.com/s/notosanslao/v24/bx6lNx2Ol_ixgdYWLm9BwxM3NW6BOkuf763Clj73CiQ_J1Djx9pidOt48cHdf5MK3riB2w.ttf",900:"https://fonts.gstatic.com/s/notosanslao/v24/bx6lNx2Ol_ixgdYWLm9BwxM3NW6BOkuf763Clj73CiQ_J1Djx9pidOt42MHdf5MK3riB2w.ttf",regular:"https://fonts.gstatic.com/s/notosanslao/v24/bx6lNx2Ol_ixgdYWLm9BwxM3NW6BOkuf763Clj73CiQ_J1Djx9pidOt4ccbdf5MK3riB2w.ttf"}},{family:"Noto Sans Lao Looped",files:{100:"https://fonts.gstatic.com/s/notosanslaolooped/v5/a8IgNpbwKmHXpgXbMIsbSMP7-3U72qUOX5gBg6LRXExhqHIX9YPTpvqkW4UthhjomPr2M-Zw5V_T71k.ttf",200:"https://fonts.gstatic.com/s/notosanslaolooped/v5/a8IgNpbwKmHXpgXbMIsbSMP7-3U72qUOX5gBg6LRXExhqHIX9YPTpvqkW4UthhjomHr3M-Zw5V_T71k.ttf",300:"https://fonts.gstatic.com/s/notosanslaolooped/v5/a8IgNpbwKmHXpgXbMIsbSMP7-3U72qUOX5gBg6LRXExhqHIX9YPTpvqkW4UthhjomKT3M-Zw5V_T71k.ttf",500:"https://fonts.gstatic.com/s/notosanslaolooped/v5/a8IgNpbwKmHXpgXbMIsbSMP7-3U72qUOX5gBg6LRXExhqHIX9YPTpvqkW4UthhjomMj3M-Zw5V_T71k.ttf",600:"https://fonts.gstatic.com/s/notosanslaolooped/v5/a8IgNpbwKmHXpgXbMIsbSMP7-3U72qUOX5gBg6LRXExhqHIX9YPTpvqkW4UthhjomCTwM-Zw5V_T71k.ttf",700:"https://fonts.gstatic.com/s/notosanslaolooped/v5/a8IgNpbwKmHXpgXbMIsbSMP7-3U72qUOX5gBg6LRXExhqHIX9YPTpvqkW4UthhjomB3wM-Zw5V_T71k.ttf",800:"https://fonts.gstatic.com/s/notosanslaolooped/v5/a8IgNpbwKmHXpgXbMIsbSMP7-3U72qUOX5gBg6LRXExhqHIX9YPTpvqkW4UthhjomHrwM-Zw5V_T71k.ttf",900:"https://fonts.gstatic.com/s/notosanslaolooped/v5/a8IgNpbwKmHXpgXbMIsbSMP7-3U72qUOX5gBg6LRXExhqHIX9YPTpvqkW4UthhjomFPwM-Zw5V_T71k.ttf",regular:"https://fonts.gstatic.com/s/notosanslaolooped/v5/a8IgNpbwKmHXpgXbMIsbSMP7-3U72qUOX5gBg6LRXExhqHIX9YPTpvqkW4UthhjomPr3M-Zw5V_T71k.ttf"}},{family:"Noto Sans Lepcha",files:{regular:"https://fonts.gstatic.com/s/notosanslepcha/v16/0QI7MWlB_JWgA166SKhu05TekNS32AJstqBXgd4.ttf"}},{family:"Noto Sans Limbu",files:{regular:"https://fonts.gstatic.com/s/notosanslimbu/v22/3JnlSDv90Gmq2mrzckOBBRRoNJVj0MF3OHRDnA.ttf"}},{family:"Noto Sans Linear A",files:{regular:"https://fonts.gstatic.com/s/notosanslineara/v16/oPWS_l16kP4jCuhpgEGmwJOiA18FZj22zmHQAGQicw.ttf"}},{family:"Noto Sans Linear B",files:{regular:"https://fonts.gstatic.com/s/notosanslinearb/v15/HhyJU4wt9vSgfHoORYOiXOckKNB737IV3BkFTq4EPw.ttf"}},{family:"Noto Sans Lisu",files:{500:"https://fonts.gstatic.com/s/notosanslisu/v25/uk-3EGO3o6EruUbnwovcYhz6kh57_nqbcTdjJnHP61wt29IlxkVdig.ttf",600:"https://fonts.gstatic.com/s/notosanslisu/v25/uk-3EGO3o6EruUbnwovcYhz6kh57_nqbcTdjJnHPB1st29IlxkVdig.ttf",700:"https://fonts.gstatic.com/s/notosanslisu/v25/uk-3EGO3o6EruUbnwovcYhz6kh57_nqbcTdjJnHPPlst29IlxkVdig.ttf",regular:"https://fonts.gstatic.com/s/notosanslisu/v25/uk-3EGO3o6EruUbnwovcYhz6kh57_nqbcTdjJnHP2Vwt29IlxkVdig.ttf"}},{family:"Noto Sans Lycian",files:{regular:"https://fonts.gstatic.com/s/notosanslycian/v15/QldVNSNMqAsHtsJ7UmqxBQA9r8wA5_naCJwn00E.ttf"}},{family:"Noto Sans Lydian",files:{regular:"https://fonts.gstatic.com/s/notosanslydian/v15/c4m71mVzGN7s8FmIukZJ1v4ZlcPReUPXMoIjEQI.ttf"}},{family:"Noto Sans Mahajani",files:{regular:"https://fonts.gstatic.com/s/notosansmahajani/v15/-F6sfiVqLzI2JPCgQBnw60Agp0JrvD5Fh8ARHNh4zg.ttf"}},{family:"Noto Sans Malayalam",files:{100:"https://fonts.gstatic.com/s/notosansmalayalam/v26/sJoi3K5XjsSdcnzn071rL37lpAOsUThnDZIfPdbeSNzVakglNM-Qw8EaeB8Nss-_RuH9BFzEr6HxEA.ttf",200:"https://fonts.gstatic.com/s/notosansmalayalam/v26/sJoi3K5XjsSdcnzn071rL37lpAOsUThnDZIfPdbeSNzVakglNM-Qw8EaeB8Nss-_xuD9BFzEr6HxEA.ttf",300:"https://fonts.gstatic.com/s/notosansmalayalam/v26/sJoi3K5XjsSdcnzn071rL37lpAOsUThnDZIfPdbeSNzVakglNM-Qw8EaeB8Nss-_GOD9BFzEr6HxEA.ttf",500:"https://fonts.gstatic.com/s/notosansmalayalam/v26/sJoi3K5XjsSdcnzn071rL37lpAOsUThnDZIfPdbeSNzVakglNM-Qw8EaeB8Nss-_dOD9BFzEr6HxEA.ttf",600:"https://fonts.gstatic.com/s/notosansmalayalam/v26/sJoi3K5XjsSdcnzn071rL37lpAOsUThnDZIfPdbeSNzVakglNM-Qw8EaeB8Nss-_mOf9BFzEr6HxEA.ttf",700:"https://fonts.gstatic.com/s/notosansmalayalam/v26/sJoi3K5XjsSdcnzn071rL37lpAOsUThnDZIfPdbeSNzVakglNM-Qw8EaeB8Nss-_oef9BFzEr6HxEA.ttf",800:"https://fonts.gstatic.com/s/notosansmalayalam/v26/sJoi3K5XjsSdcnzn071rL37lpAOsUThnDZIfPdbeSNzVakglNM-Qw8EaeB8Nss-_xuf9BFzEr6HxEA.ttf",900:"https://fonts.gstatic.com/s/notosansmalayalam/v26/sJoi3K5XjsSdcnzn071rL37lpAOsUThnDZIfPdbeSNzVakglNM-Qw8EaeB8Nss-_7-f9BFzEr6HxEA.ttf",regular:"https://fonts.gstatic.com/s/notosansmalayalam/v26/sJoi3K5XjsSdcnzn071rL37lpAOsUThnDZIfPdbeSNzVakglNM-Qw8EaeB8Nss-_RuD9BFzEr6HxEA.ttf"}},{family:"Noto Sans Mandaic",files:{regular:"https://fonts.gstatic.com/s/notosansmandaic/v15/cIfnMbdWt1w_HgCcilqhKQBo_OsMI5_A_gMk0izH.ttf"}},{family:"Noto Sans Manichaean",files:{regular:"https://fonts.gstatic.com/s/notosansmanichaean/v15/taiVGntiC4--qtsfi4Jp9-_GkPZZCcrfekqCNTtFCtdX.ttf"}},{family:"Noto Sans Marchen",files:{regular:"https://fonts.gstatic.com/s/notosansmarchen/v17/aFTO7OZ_Y282EP-WyG6QTOX_C8WZMHhPk652ZaHk.ttf"}},{family:"Noto Sans Masaram Gondi",files:{regular:"https://fonts.gstatic.com/s/notosansmasaramgondi/v17/6xK_dThFKcWIu4bpRBjRYRV7KZCbUq6n_1kPnuGe7RI9WSWX.ttf"}},{family:"Noto Sans Math",files:{regular:"https://fonts.gstatic.com/s/notosansmath/v15/7Aump_cpkSecTWaHRlH2hyV5UHkG-V048PW0.ttf"}},{family:"Noto Sans Mayan Numerals",files:{regular:"https://fonts.gstatic.com/s/notosansmayannumerals/v15/PlIuFk25O6RzLfvNNVSivR09_KqYMwvvDKYjfIiE68oo6eepYQ.ttf"}},{family:"Noto Sans Medefaidrin",files:{500:"https://fonts.gstatic.com/s/notosansmedefaidrin/v22/WwkzxOq6Dk-wranENynkfeVsNbRZtbOIdLb1exeM4ZeuabBfmHjWlT318e5A3rw.ttf",600:"https://fonts.gstatic.com/s/notosansmedefaidrin/v22/WwkzxOq6Dk-wranENynkfeVsNbRZtbOIdLb1exeM4ZeuabBfmJTRlT318e5A3rw.ttf",700:"https://fonts.gstatic.com/s/notosansmedefaidrin/v22/WwkzxOq6Dk-wranENynkfeVsNbRZtbOIdLb1exeM4ZeuabBfmK3RlT318e5A3rw.ttf",regular:"https://fonts.gstatic.com/s/notosansmedefaidrin/v22/WwkzxOq6Dk-wranENynkfeVsNbRZtbOIdLb1exeM4ZeuabBfmErWlT318e5A3rw.ttf"}},{family:"Noto Sans Meetei Mayek",files:{100:"https://fonts.gstatic.com/s/notosansmeeteimayek/v14/HTxAL3QyKieByqY9eZPFweO0be7M21uSphSdhqILnmrRfJ8t_1TJ__TW5PgeFYVa.ttf",200:"https://fonts.gstatic.com/s/notosansmeeteimayek/v14/HTxAL3QyKieByqY9eZPFweO0be7M21uSphSdhqILnmrRfJ8t_1RJ_vTW5PgeFYVa.ttf",300:"https://fonts.gstatic.com/s/notosansmeeteimayek/v14/HTxAL3QyKieByqY9eZPFweO0be7M21uSphSdhqILnmrRfJ8t_1SX_vTW5PgeFYVa.ttf",500:"https://fonts.gstatic.com/s/notosansmeeteimayek/v14/HTxAL3QyKieByqY9eZPFweO0be7M21uSphSdhqILnmrRfJ8t_1T7_vTW5PgeFYVa.ttf",600:"https://fonts.gstatic.com/s/notosansmeeteimayek/v14/HTxAL3QyKieByqY9eZPFweO0be7M21uSphSdhqILnmrRfJ8t_1QX-fTW5PgeFYVa.ttf",700:"https://fonts.gstatic.com/s/notosansmeeteimayek/v14/HTxAL3QyKieByqY9eZPFweO0be7M21uSphSdhqILnmrRfJ8t_1Qu-fTW5PgeFYVa.ttf",800:"https://fonts.gstatic.com/s/notosansmeeteimayek/v14/HTxAL3QyKieByqY9eZPFweO0be7M21uSphSdhqILnmrRfJ8t_1RJ-fTW5PgeFYVa.ttf",900:"https://fonts.gstatic.com/s/notosansmeeteimayek/v14/HTxAL3QyKieByqY9eZPFweO0be7M21uSphSdhqILnmrRfJ8t_1Rg-fTW5PgeFYVa.ttf",regular:"https://fonts.gstatic.com/s/notosansmeeteimayek/v14/HTxAL3QyKieByqY9eZPFweO0be7M21uSphSdhqILnmrRfJ8t_1TJ_vTW5PgeFYVa.ttf"}},{family:"Noto Sans Mende Kikakui",files:{regular:"https://fonts.gstatic.com/s/notosansmendekikakui/v28/11hRGoLHz17aKjQCWj-JHcLvu2Q5zZrnkbNCLUx_aDJLAHer.ttf"}},{family:"Noto Sans Meroitic",files:{regular:"https://fonts.gstatic.com/s/notosansmeroitic/v16/IFS5HfRJndhE3P4b5jnZ3ITPvC6i00UDgDhTiKY9KQ.ttf"}},{family:"Noto Sans Miao",files:{regular:"https://fonts.gstatic.com/s/notosansmiao/v17/Dxxz8jmXMW75w3OmoDXVV4zyZUjgUYVslLhx.ttf"}},{family:"Noto Sans Modi",files:{regular:"https://fonts.gstatic.com/s/notosansmodi/v20/pe03MIySN5pO62Z5YkFyT7jeav5qWVAgVol-.ttf"}},{family:"Noto Sans Mongolian",files:{regular:"https://fonts.gstatic.com/s/notosansmongolian/v17/VdGCAYADGIwE0EopZx8xQfHlgEAMsrToxLsg6-av1x0.ttf"}},{family:"Noto Sans Mono",files:{100:"https://fonts.gstatic.com/s/notosansmono/v27/BngrUXNETWXI6LwhGYvaxZikqZqK6fBq6kPvUce2oAZcdthSBUsYck4-_FNI49rXVEQQL8Y.ttf",200:"https://fonts.gstatic.com/s/notosansmono/v27/BngrUXNETWXI6LwhGYvaxZikqZqK6fBq6kPvUce2oAZcdthSBUsYck4-_NNJ49rXVEQQL8Y.ttf",300:"https://fonts.gstatic.com/s/notosansmono/v27/BngrUXNETWXI6LwhGYvaxZikqZqK6fBq6kPvUce2oAZcdthSBUsYck4-_A1J49rXVEQQL8Y.ttf",500:"https://fonts.gstatic.com/s/notosansmono/v27/BngrUXNETWXI6LwhGYvaxZikqZqK6fBq6kPvUce2oAZcdthSBUsYck4-_GFJ49rXVEQQL8Y.ttf",600:"https://fonts.gstatic.com/s/notosansmono/v27/BngrUXNETWXI6LwhGYvaxZikqZqK6fBq6kPvUce2oAZcdthSBUsYck4-_I1O49rXVEQQL8Y.ttf",700:"https://fonts.gstatic.com/s/notosansmono/v27/BngrUXNETWXI6LwhGYvaxZikqZqK6fBq6kPvUce2oAZcdthSBUsYck4-_LRO49rXVEQQL8Y.ttf",800:"https://fonts.gstatic.com/s/notosansmono/v27/BngrUXNETWXI6LwhGYvaxZikqZqK6fBq6kPvUce2oAZcdthSBUsYck4-_NNO49rXVEQQL8Y.ttf",900:"https://fonts.gstatic.com/s/notosansmono/v27/BngrUXNETWXI6LwhGYvaxZikqZqK6fBq6kPvUce2oAZcdthSBUsYck4-_PpO49rXVEQQL8Y.ttf",regular:"https://fonts.gstatic.com/s/notosansmono/v27/BngrUXNETWXI6LwhGYvaxZikqZqK6fBq6kPvUce2oAZcdthSBUsYck4-_FNJ49rXVEQQL8Y.ttf"}},{family:"Noto Sans Mro",files:{regular:"https://fonts.gstatic.com/s/notosansmro/v18/qWcsB6--pZv9TqnUQMhe9b39WDzRtjkho4M.ttf"}},{family:"Noto Sans Multani",files:{regular:"https://fonts.gstatic.com/s/notosansmultani/v20/9Bty3ClF38_RfOpe1gCaZ8p30BOFO1A0pfCs5Kos.ttf"}},{family:"Noto Sans Myanmar",files:{100:"https://fonts.gstatic.com/s/notosansmyanmar/v20/AlZs_y1ZtY3ymOryg38hOCSdOnFq0HGS1uEapkAC3AY.ttf",200:"https://fonts.gstatic.com/s/notosansmyanmar/v20/AlZv_y1ZtY3ymOryg38hOCSdOnFq0HE-98EwiEwLxR-r.ttf",300:"https://fonts.gstatic.com/s/notosansmyanmar/v20/AlZv_y1ZtY3ymOryg38hOCSdOnFq0HFa9MEwiEwLxR-r.ttf",500:"https://fonts.gstatic.com/s/notosansmyanmar/v20/AlZv_y1ZtY3ymOryg38hOCSdOnFq0HEC9cEwiEwLxR-r.ttf",600:"https://fonts.gstatic.com/s/notosansmyanmar/v20/AlZv_y1ZtY3ymOryg38hOCSdOnFq0HEu8sEwiEwLxR-r.ttf",700:"https://fonts.gstatic.com/s/notosansmyanmar/v20/AlZv_y1ZtY3ymOryg38hOCSdOnFq0HFK88EwiEwLxR-r.ttf",800:"https://fonts.gstatic.com/s/notosansmyanmar/v20/AlZv_y1ZtY3ymOryg38hOCSdOnFq0HFW8MEwiEwLxR-r.ttf",900:"https://fonts.gstatic.com/s/notosansmyanmar/v20/AlZv_y1ZtY3ymOryg38hOCSdOnFq0HFy8cEwiEwLxR-r.ttf",regular:"https://fonts.gstatic.com/s/notosansmyanmar/v20/AlZq_y1ZtY3ymOryg38hOCSdOnFq0En23OU4o1AC.ttf"}},{family:"Noto Sans NKo",files:{regular:"https://fonts.gstatic.com/s/notosansnko/v2/esDX31ZdNv-KYGGJpKGk2_RpMpCMHMLBrdA.ttf"}},{family:"Noto Sans Nabataean",files:{regular:"https://fonts.gstatic.com/s/notosansnabataean/v15/IFS4HfVJndhE3P4b5jnZ34DfsjO330dNoBJ9hK8kMK4.ttf"}},{family:"Noto Sans Nag Mundari",files:{500:"https://fonts.gstatic.com/s/notosansnagmundari/v1/3qTAoi2hnSyU8TNFIdhZTyod3g5lBnKlQFk2kS9fr9Eq09RHRyqrbUGA0whP19M.ttf",600:"https://fonts.gstatic.com/s/notosansnagmundari/v1/3qTAoi2hnSyU8TNFIdhZTyod3g5lBnKlQFk2kS9fr9Eq09RHR8asbUGA0whP19M.ttf",700:"https://fonts.gstatic.com/s/notosansnagmundari/v1/3qTAoi2hnSyU8TNFIdhZTyod3g5lBnKlQFk2kS9fr9Eq09RHR_-sbUGA0whP19M.ttf",regular:"https://fonts.gstatic.com/s/notosansnagmundari/v1/3qTAoi2hnSyU8TNFIdhZTyod3g5lBnKlQFk2kS9fr9Eq09RHRxirbUGA0whP19M.ttf"}},{family:"Noto Sans Nandinagari",files:{regular:"https://fonts.gstatic.com/s/notosansnandinagari/v3/or38Q7733eiDljA1IufXSNFT-1KI5y10H4jVa5RXzC1KOw.ttf"}},{family:"Noto Sans New Tai Lue",files:{500:"https://fonts.gstatic.com/s/notosansnewtailue/v20/H4cKBW-Pl9DZ0Xe_nHUapt7PovLXAhAnY7wqaLy-OJgU3p_pddfAYUbghFPKzeY.ttf",600:"https://fonts.gstatic.com/s/notosansnewtailue/v20/H4cKBW-Pl9DZ0Xe_nHUapt7PovLXAhAnY7wqaLy-OJgU3p_pdTvHYUbghFPKzeY.ttf",700:"https://fonts.gstatic.com/s/notosansnewtailue/v20/H4cKBW-Pl9DZ0Xe_nHUapt7PovLXAhAnY7wqaLy-OJgU3p_pdQLHYUbghFPKzeY.ttf",regular:"https://fonts.gstatic.com/s/notosansnewtailue/v20/H4cKBW-Pl9DZ0Xe_nHUapt7PovLXAhAnY7wqaLy-OJgU3p_pdeXAYUbghFPKzeY.ttf"}},{family:"Noto Sans Newa",files:{regular:"https://fonts.gstatic.com/s/notosansnewa/v16/7r3fqXp6utEsO9pI4f8ok8sWg8n_qN4R5lNU.ttf"}},{family:"Noto Sans Nushu",files:{regular:"https://fonts.gstatic.com/s/notosansnushu/v19/rnCw-xRQ3B7652emAbAe_Ai1IYaFWFAMArZKqQ.ttf"}},{family:"Noto Sans Ogham",files:{regular:"https://fonts.gstatic.com/s/notosansogham/v15/kmKlZqk1GBDGN0mY6k5lmEmww4hrt5laQxcoCA.ttf"}},{family:"Noto Sans Ol Chiki",files:{500:"https://fonts.gstatic.com/s/notosansolchiki/v21/N0b92TJNOPt-eHmFZCdQbrL32r-4CvhzDzRwlxOQYuVALVs267I6gVrz5gQ.ttf",600:"https://fonts.gstatic.com/s/notosansolchiki/v21/N0b92TJNOPt-eHmFZCdQbrL32r-4CvhzDzRwlxOQYuVALbcx67I6gVrz5gQ.ttf",700:"https://fonts.gstatic.com/s/notosansolchiki/v21/N0b92TJNOPt-eHmFZCdQbrL32r-4CvhzDzRwlxOQYuVALY4x67I6gVrz5gQ.ttf",regular:"https://fonts.gstatic.com/s/notosansolchiki/v21/N0b92TJNOPt-eHmFZCdQbrL32r-4CvhzDzRwlxOQYuVALWk267I6gVrz5gQ.ttf"}},{family:"Noto Sans Old Hungarian",files:{regular:"https://fonts.gstatic.com/s/notosansoldhungarian/v15/E213_cD6hP3GwCJPEUssHEM0KqLaHJXg2PiIgRfjbg5nCYXt.ttf"}},{family:"Noto Sans Old Italic",files:{regular:"https://fonts.gstatic.com/s/notosansolditalic/v15/TuGOUUFzXI5FBtUq5a8bh68BJxxEVam7tWlRdRhtCC4d.ttf"}},{family:"Noto Sans Old North Arabian",files:{regular:"https://fonts.gstatic.com/s/notosansoldnortharabian/v15/esDF30BdNv-KYGGJpKGk2tNiMt7Jar6olZDyNdr81zBQmUo_xw4ABw.ttf"}},{family:"Noto Sans Old Permic",files:{regular:"https://fonts.gstatic.com/s/notosansoldpermic/v16/snf1s1q1-dF8pli1TesqcbUY4Mr-ElrwKLdXgv_dKYB5.ttf"}},{family:"Noto Sans Old Persian",files:{regular:"https://fonts.gstatic.com/s/notosansoldpersian/v15/wEOjEAbNnc5caQTFG18FHrZr9Bp6-8CmIJ_tqOlQfx9CjA.ttf"}},{family:"Noto Sans Old Sogdian",files:{regular:"https://fonts.gstatic.com/s/notosansoldsogdian/v15/3JnjSCH90Gmq2mrzckOBBhFhdrMst48aURt7neIqM-9uyg.ttf"}},{family:"Noto Sans Old South Arabian",files:{regular:"https://fonts.gstatic.com/s/notosansoldsoutharabian/v15/3qT5oiOhnSyU8TNFIdhZTice3hB_HWKsEnF--0XCHiKx1OtDT9HwTA.ttf"}},{family:"Noto Sans Old Turkic",files:{regular:"https://fonts.gstatic.com/s/notosansoldturkic/v15/yMJNMJVya43H0SUF_WmcGEQVqoEMKDKbsE2RjEw-Vyws.ttf"}},{family:"Noto Sans Oriya",files:{100:"https://fonts.gstatic.com/s/notosansoriya/v27/AYCppXfzfccDCstK_hrjDyADv5e9748vhj3CJBLHIARtgD6TJQS0dJT5Ivj0fq_c6LhHBRe-.ttf",200:"https://fonts.gstatic.com/s/notosansoriya/v27/AYCppXfzfccDCstK_hrjDyADv5e9748vhj3CJBLHIARtgD6TJQS0dJT5Ivh0f6_c6LhHBRe-.ttf",300:"https://fonts.gstatic.com/s/notosansoriya/v27/AYCppXfzfccDCstK_hrjDyADv5e9748vhj3CJBLHIARtgD6TJQS0dJT5Iviqf6_c6LhHBRe-.ttf",500:"https://fonts.gstatic.com/s/notosansoriya/v27/AYCppXfzfccDCstK_hrjDyADv5e9748vhj3CJBLHIARtgD6TJQS0dJT5IvjGf6_c6LhHBRe-.ttf",600:"https://fonts.gstatic.com/s/notosansoriya/v27/AYCppXfzfccDCstK_hrjDyADv5e9748vhj3CJBLHIARtgD6TJQS0dJT5IvgqeK_c6LhHBRe-.ttf",700:"https://fonts.gstatic.com/s/notosansoriya/v27/AYCppXfzfccDCstK_hrjDyADv5e9748vhj3CJBLHIARtgD6TJQS0dJT5IvgTeK_c6LhHBRe-.ttf",800:"https://fonts.gstatic.com/s/notosansoriya/v27/AYCppXfzfccDCstK_hrjDyADv5e9748vhj3CJBLHIARtgD6TJQS0dJT5Ivh0eK_c6LhHBRe-.ttf",900:"https://fonts.gstatic.com/s/notosansoriya/v27/AYCppXfzfccDCstK_hrjDyADv5e9748vhj3CJBLHIARtgD6TJQS0dJT5IvhdeK_c6LhHBRe-.ttf",regular:"https://fonts.gstatic.com/s/notosansoriya/v27/AYCppXfzfccDCstK_hrjDyADv5e9748vhj3CJBLHIARtgD6TJQS0dJT5Ivj0f6_c6LhHBRe-.ttf"}},{family:"Noto Sans Osage",files:{regular:"https://fonts.gstatic.com/s/notosansosage/v18/oPWX_kB6kP4jCuhpgEGmw4mtAVtXRlaSxkrMCQ.ttf"}},{family:"Noto Sans Osmanya",files:{regular:"https://fonts.gstatic.com/s/notosansosmanya/v18/8vIS7xs32H97qzQKnzfeWzUyUpOJmz6kR47NCV5Z.ttf"}},{family:"Noto Sans Pahawh Hmong",files:{regular:"https://fonts.gstatic.com/s/notosanspahawhhmong/v18/bWtp7e_KfBziStx7lIzKKaMUOBEA3UPQDW7krzc_c48aMpM.ttf"}},{family:"Noto Sans Palmyrene",files:{regular:"https://fonts.gstatic.com/s/notosanspalmyrene/v15/ZgNPjOdKPa7CHqq0h37c_ASCWvH93SFCPnK5ZpdNtcA.ttf"}},{family:"Noto Sans Pau Cin Hau",files:{regular:"https://fonts.gstatic.com/s/notosanspaucinhau/v20/x3d-cl3IZKmUqiMg_9wBLLtzl22EayN7ehIdjEWqKMxsKw.ttf"}},{family:"Noto Sans Phags Pa",files:{regular:"https://fonts.gstatic.com/s/notosansphagspa/v15/pxiZyoo6v8ZYyWh5WuPeJzMkd4SrGChkqkSsrvNXiA.ttf"}},{family:"Noto Sans Phoenician",files:{regular:"https://fonts.gstatic.com/s/notosansphoenician/v15/jizFRF9Ksm4Bt9PvcTaEkIHiTVtxmFtS5X7Jot-p5561.ttf"}},{family:"Noto Sans Psalter Pahlavi",files:{regular:"https://fonts.gstatic.com/s/notosanspsalterpahlavi/v15/rP2Vp3K65FkAtHfwd-eISGznYihzggmsicPfud3w1G3KsUQBct4.ttf"}},{family:"Noto Sans Rejang",files:{regular:"https://fonts.gstatic.com/s/notosansrejang/v18/Ktk2AKuMeZjqPnXgyqrib7DIogqwN4O3WYZB_sU.ttf"}},{family:"Noto Sans Runic",files:{regular:"https://fonts.gstatic.com/s/notosansrunic/v15/H4c_BXWPl9DZ0Xe_nHUaus7W68WWaxpvHtgIYg.ttf"}},{family:"Noto Sans SC",files:{100:"https://fonts.gstatic.com/s/notosanssc/v26/k3kJo84MPvpLmixcA63oeALZTYKL2wv287Sb.otf",300:"https://fonts.gstatic.com/s/notosanssc/v26/k3kIo84MPvpLmixcA63oeALZhaCt9yX6-q2CGg.otf",500:"https://fonts.gstatic.com/s/notosanssc/v26/k3kIo84MPvpLmixcA63oeALZ3aGt9yX6-q2CGg.otf",700:"https://fonts.gstatic.com/s/notosanssc/v26/k3kIo84MPvpLmixcA63oeALZlaet9yX6-q2CGg.otf",900:"https://fonts.gstatic.com/s/notosanssc/v26/k3kIo84MPvpLmixcA63oeALZraWt9yX6-q2CGg.otf",regular:"https://fonts.gstatic.com/s/notosanssc/v26/k3kXo84MPvpLmixcA63oeALhL4iJ-Q7m8w.otf"}},{family:"Noto Sans Samaritan",files:{regular:"https://fonts.gstatic.com/s/notosanssamaritan/v15/buEqppe9f8_vkXadMBJJo0tSmaYjFkxOUo5jNlOVMzQ.ttf"}},{family:"Noto Sans Saurashtra",files:{regular:"https://fonts.gstatic.com/s/notosanssaurashtra/v19/ea8GacQ0Wfz_XKWXe6OtoA8w8zvmYwTef9ndjhPTSIx9.ttf"}},{family:"Noto Sans Sharada",files:{regular:"https://fonts.gstatic.com/s/notosanssharada/v16/gok0H7rwAEdtF9N8-mdTGALG6p0kwoXLPOwr4H8a.ttf"}},{family:"Noto Sans Shavian",files:{regular:"https://fonts.gstatic.com/s/notosansshavian/v15/CHy5V_HZE0jxJBQlqAeCKjJvQBNF4EFQSplv2Cwg.ttf"}},{family:"Noto Sans Siddham",files:{regular:"https://fonts.gstatic.com/s/notosanssiddham/v17/OZpZg-FwqiNLe9PELUikxTWDoCCeGqndk3Ic92ZH.ttf"}},{family:"Noto Sans SignWriting",files:{regular:"https://fonts.gstatic.com/s/notosanssignwriting/v1/Noas6VX_wIWFbTTCrYmvy9A2UnkL-2SZAWiUEVCARYQemg.ttf"}},{family:"Noto Sans Sinhala",files:{100:"https://fonts.gstatic.com/s/notosanssinhala/v26/yMJ2MJBya43H0SUF_WmcBEEf4rQVO2P524V5N_MxQzQtb-tf5dJbC30Fu9zUwg2b5lgLpJwbQRM.ttf",200:"https://fonts.gstatic.com/s/notosanssinhala/v26/yMJ2MJBya43H0SUF_WmcBEEf4rQVO2P524V5N_MxQzQtb-tf5dJbC30Fu9zUwo2a5lgLpJwbQRM.ttf",300:"https://fonts.gstatic.com/s/notosanssinhala/v26/yMJ2MJBya43H0SUF_WmcBEEf4rQVO2P524V5N_MxQzQtb-tf5dJbC30Fu9zUwlOa5lgLpJwbQRM.ttf",500:"https://fonts.gstatic.com/s/notosanssinhala/v26/yMJ2MJBya43H0SUF_WmcBEEf4rQVO2P524V5N_MxQzQtb-tf5dJbC30Fu9zUwj-a5lgLpJwbQRM.ttf",600:"https://fonts.gstatic.com/s/notosanssinhala/v26/yMJ2MJBya43H0SUF_WmcBEEf4rQVO2P524V5N_MxQzQtb-tf5dJbC30Fu9zUwtOd5lgLpJwbQRM.ttf",700:"https://fonts.gstatic.com/s/notosanssinhala/v26/yMJ2MJBya43H0SUF_WmcBEEf4rQVO2P524V5N_MxQzQtb-tf5dJbC30Fu9zUwuqd5lgLpJwbQRM.ttf",800:"https://fonts.gstatic.com/s/notosanssinhala/v26/yMJ2MJBya43H0SUF_WmcBEEf4rQVO2P524V5N_MxQzQtb-tf5dJbC30Fu9zUwo2d5lgLpJwbQRM.ttf",900:"https://fonts.gstatic.com/s/notosanssinhala/v26/yMJ2MJBya43H0SUF_WmcBEEf4rQVO2P524V5N_MxQzQtb-tf5dJbC30Fu9zUwqSd5lgLpJwbQRM.ttf",regular:"https://fonts.gstatic.com/s/notosanssinhala/v26/yMJ2MJBya43H0SUF_WmcBEEf4rQVO2P524V5N_MxQzQtb-tf5dJbC30Fu9zUwg2a5lgLpJwbQRM.ttf"}},{family:"Noto Sans Sogdian",files:{regular:"https://fonts.gstatic.com/s/notosanssogdian/v15/taiQGn5iC4--qtsfi4Jp6eHPnfxQBo--Pm6KHidM.ttf"}},{family:"Noto Sans Sora Sompeng",files:{500:"https://fonts.gstatic.com/s/notosanssorasompeng/v24/PlIRFkO5O6RzLfvNNVSioxM2_OTrEhPyDLolKvCsHzCxWuGkYHRO18DpZXJQd4Mu.ttf",600:"https://fonts.gstatic.com/s/notosanssorasompeng/v24/PlIRFkO5O6RzLfvNNVSioxM2_OTrEhPyDLolKvCsHzCxWuGkYHSi0MDpZXJQd4Mu.ttf",700:"https://fonts.gstatic.com/s/notosanssorasompeng/v24/PlIRFkO5O6RzLfvNNVSioxM2_OTrEhPyDLolKvCsHzCxWuGkYHSb0MDpZXJQd4Mu.ttf",regular:"https://fonts.gstatic.com/s/notosanssorasompeng/v24/PlIRFkO5O6RzLfvNNVSioxM2_OTrEhPyDLolKvCsHzCxWuGkYHR818DpZXJQd4Mu.ttf"}},{family:"Noto Sans Soyombo",files:{regular:"https://fonts.gstatic.com/s/notosanssoyombo/v15/RWmSoL-Y6-8q5LTtXs6MF6q7xsxgY0FrIFOcK25W.ttf"}},{family:"Noto Sans Sundanese",files:{500:"https://fonts.gstatic.com/s/notosanssundanese/v24/FwZw7_84xUkosG2xJo2gm7nFwSLQkdymq2mkz3Gz1_b6ctxbNNHCizv7fQES.ttf",600:"https://fonts.gstatic.com/s/notosanssundanese/v24/FwZw7_84xUkosG2xJo2gm7nFwSLQkdymq2mkz3Gz1_b6cty3M9HCizv7fQES.ttf",700:"https://fonts.gstatic.com/s/notosanssundanese/v24/FwZw7_84xUkosG2xJo2gm7nFwSLQkdymq2mkz3Gz1_b6ctyOM9HCizv7fQES.ttf",regular:"https://fonts.gstatic.com/s/notosanssundanese/v24/FwZw7_84xUkosG2xJo2gm7nFwSLQkdymq2mkz3Gz1_b6ctxpNNHCizv7fQES.ttf"}},{family:"Noto Sans Syloti Nagri",files:{regular:"https://fonts.gstatic.com/s/notosanssylotinagri/v20/uU9eCAQZ75uhfF9UoWDRiY3q7Sf_VFV3m4dGFVfxN87gsj0.ttf"}},{family:"Noto Sans Symbols",files:{100:"https://fonts.gstatic.com/s/notosanssymbols/v40/rP2up3q65FkAtHfwd-eIS2brbDN6gxP34F9jRRCe4W3gfQ4gavVFRkzrbQ.ttf",200:"https://fonts.gstatic.com/s/notosanssymbols/v40/rP2up3q65FkAtHfwd-eIS2brbDN6gxP34F9jRRCe4W3g_Q8gavVFRkzrbQ.ttf",300:"https://fonts.gstatic.com/s/notosanssymbols/v40/rP2up3q65FkAtHfwd-eIS2brbDN6gxP34F9jRRCe4W3gIw8gavVFRkzrbQ.ttf",500:"https://fonts.gstatic.com/s/notosanssymbols/v40/rP2up3q65FkAtHfwd-eIS2brbDN6gxP34F9jRRCe4W3gTw8gavVFRkzrbQ.ttf",600:"https://fonts.gstatic.com/s/notosanssymbols/v40/rP2up3q65FkAtHfwd-eIS2brbDN6gxP34F9jRRCe4W3gowggavVFRkzrbQ.ttf",700:"https://fonts.gstatic.com/s/notosanssymbols/v40/rP2up3q65FkAtHfwd-eIS2brbDN6gxP34F9jRRCe4W3gmgggavVFRkzrbQ.ttf",800:"https://fonts.gstatic.com/s/notosanssymbols/v40/rP2up3q65FkAtHfwd-eIS2brbDN6gxP34F9jRRCe4W3g_QggavVFRkzrbQ.ttf",900:"https://fonts.gstatic.com/s/notosanssymbols/v40/rP2up3q65FkAtHfwd-eIS2brbDN6gxP34F9jRRCe4W3g1AggavVFRkzrbQ.ttf",regular:"https://fonts.gstatic.com/s/notosanssymbols/v40/rP2up3q65FkAtHfwd-eIS2brbDN6gxP34F9jRRCe4W3gfQ8gavVFRkzrbQ.ttf"}},{family:"Noto Sans Symbols 2",files:{regular:"https://fonts.gstatic.com/s/notosanssymbols2/v19/I_uyMoGduATTei9eI8daxVHDyfisHr71ypPqfX71-AI.ttf"}},{family:"Noto Sans Syriac",files:{100:"https://fonts.gstatic.com/s/notosanssyriac/v16/Ktk7AKuMeZjqPnXgyqribqzQqgW0LYiVqV7dXcP0C-VD9caJyZfUL_FC.ttf",200:"https://fonts.gstatic.com/s/notosanssyriac/v16/Ktk7AKuMeZjqPnXgyqribqzQqgW0LYiVqV7dXcP0C-XD9MaJyZfUL_FC.ttf",300:"https://fonts.gstatic.com/s/notosanssyriac/v16/Ktk7AKuMeZjqPnXgyqribqzQqgW0LYiVqV7dXcP0C-Ud9MaJyZfUL_FC.ttf",500:"https://fonts.gstatic.com/s/notosanssyriac/v16/Ktk7AKuMeZjqPnXgyqribqzQqgW0LYiVqV7dXcP0C-Vx9MaJyZfUL_FC.ttf",600:"https://fonts.gstatic.com/s/notosanssyriac/v16/Ktk7AKuMeZjqPnXgyqribqzQqgW0LYiVqV7dXcP0C-Wd88aJyZfUL_FC.ttf",700:"https://fonts.gstatic.com/s/notosanssyriac/v16/Ktk7AKuMeZjqPnXgyqribqzQqgW0LYiVqV7dXcP0C-Wk88aJyZfUL_FC.ttf",800:"https://fonts.gstatic.com/s/notosanssyriac/v16/Ktk7AKuMeZjqPnXgyqribqzQqgW0LYiVqV7dXcP0C-XD88aJyZfUL_FC.ttf",900:"https://fonts.gstatic.com/s/notosanssyriac/v16/Ktk7AKuMeZjqPnXgyqribqzQqgW0LYiVqV7dXcP0C-Xq88aJyZfUL_FC.ttf",regular:"https://fonts.gstatic.com/s/notosanssyriac/v16/Ktk7AKuMeZjqPnXgyqribqzQqgW0LYiVqV7dXcP0C-VD9MaJyZfUL_FC.ttf"}},{family:"Noto Sans TC",files:{100:"https://fonts.gstatic.com/s/notosanstc/v26/-nFlOG829Oofr2wohFbTp9i9WyEJIfNZ1sjy.otf",300:"https://fonts.gstatic.com/s/notosanstc/v26/-nFkOG829Oofr2wohFbTp9i9kwMvDd1V39Hr7g.otf",500:"https://fonts.gstatic.com/s/notosanstc/v26/-nFkOG829Oofr2wohFbTp9i9ywIvDd1V39Hr7g.otf",700:"https://fonts.gstatic.com/s/notosanstc/v26/-nFkOG829Oofr2wohFbTp9i9gwQvDd1V39Hr7g.otf",900:"https://fonts.gstatic.com/s/notosanstc/v26/-nFkOG829Oofr2wohFbTp9i9uwYvDd1V39Hr7g.otf",regular:"https://fonts.gstatic.com/s/notosanstc/v26/-nF7OG829Oofr2wohFbTp9iFOSsLA_ZJ1g.otf"}},{family:"Noto Sans Tagalog",files:{regular:"https://fonts.gstatic.com/s/notosanstagalog/v18/J7aFnoNzCnFcV9ZI-sUYuvote1R0wwEAA8jHexnL.ttf"}},{family:"Noto Sans Tagbanwa",files:{regular:"https://fonts.gstatic.com/s/notosanstagbanwa/v18/Y4GWYbB8VTEp4t3MKJSMmQdIKjRtt_nZRjQEaYpGoQ.ttf"}},{family:"Noto Sans Tai Le",files:{regular:"https://fonts.gstatic.com/s/notosanstaile/v17/vEFK2-VODB8RrNDvZSUmVxEATwR58tK1W77HtMo.ttf"}},{family:"Noto Sans Tai Tham",files:{500:"https://fonts.gstatic.com/s/notosanstaitham/v19/kJEbBv0U4hgtwxDUw2x9q7tbjLIfbPGHBoaVSAZ3MdLJBBcbPgquyaRGKMw.ttf",600:"https://fonts.gstatic.com/s/notosanstaitham/v19/kJEbBv0U4hgtwxDUw2x9q7tbjLIfbPGHBoaVSAZ3MdLJBPscPgquyaRGKMw.ttf",700:"https://fonts.gstatic.com/s/notosanstaitham/v19/kJEbBv0U4hgtwxDUw2x9q7tbjLIfbPGHBoaVSAZ3MdLJBMIcPgquyaRGKMw.ttf",regular:"https://fonts.gstatic.com/s/notosanstaitham/v19/kJEbBv0U4hgtwxDUw2x9q7tbjLIfbPGHBoaVSAZ3MdLJBCUbPgquyaRGKMw.ttf"}},{family:"Noto Sans Tai Viet",files:{regular:"https://fonts.gstatic.com/s/notosanstaiviet/v16/8QIUdj3HhN_lv4jf9vsE-9GMOLsaSPZr644fWsRO9w.ttf"}},{family:"Noto Sans Takri",files:{regular:"https://fonts.gstatic.com/s/notosanstakri/v21/TuGJUVpzXI5FBtUq5a8bnKIOdTwQNO_W3khJXg.ttf"}},{family:"Noto Sans Tamil",files:{100:"https://fonts.gstatic.com/s/notosanstamil/v27/ieVc2YdFI3GCY6SyQy1KfStzYKZgzN1z4LKDbeZce-0429tBManUktuex7vGor0RqKDt_EvT.ttf",200:"https://fonts.gstatic.com/s/notosanstamil/v27/ieVc2YdFI3GCY6SyQy1KfStzYKZgzN1z4LKDbeZce-0429tBManUktuex7tGo70RqKDt_EvT.ttf",300:"https://fonts.gstatic.com/s/notosanstamil/v27/ieVc2YdFI3GCY6SyQy1KfStzYKZgzN1z4LKDbeZce-0429tBManUktuex7uYo70RqKDt_EvT.ttf",500:"https://fonts.gstatic.com/s/notosanstamil/v27/ieVc2YdFI3GCY6SyQy1KfStzYKZgzN1z4LKDbeZce-0429tBManUktuex7v0o70RqKDt_EvT.ttf",600:"https://fonts.gstatic.com/s/notosanstamil/v27/ieVc2YdFI3GCY6SyQy1KfStzYKZgzN1z4LKDbeZce-0429tBManUktuex7sYpL0RqKDt_EvT.ttf",700:"https://fonts.gstatic.com/s/notosanstamil/v27/ieVc2YdFI3GCY6SyQy1KfStzYKZgzN1z4LKDbeZce-0429tBManUktuex7shpL0RqKDt_EvT.ttf",800:"https://fonts.gstatic.com/s/notosanstamil/v27/ieVc2YdFI3GCY6SyQy1KfStzYKZgzN1z4LKDbeZce-0429tBManUktuex7tGpL0RqKDt_EvT.ttf",900:"https://fonts.gstatic.com/s/notosanstamil/v27/ieVc2YdFI3GCY6SyQy1KfStzYKZgzN1z4LKDbeZce-0429tBManUktuex7tvpL0RqKDt_EvT.ttf",regular:"https://fonts.gstatic.com/s/notosanstamil/v27/ieVc2YdFI3GCY6SyQy1KfStzYKZgzN1z4LKDbeZce-0429tBManUktuex7vGo70RqKDt_EvT.ttf"}},{family:"Noto Sans Tamil Supplement",files:{regular:"https://fonts.gstatic.com/s/notosanstamilsupplement/v19/DdTz78kEtnooLS5rXF1DaruiCd_bFp_Ph4sGcn7ax_vsAeMkeq1x.ttf"}},{family:"Noto Sans Tangsa",files:{500:"https://fonts.gstatic.com/s/notosanstangsa/v3/z7NCdQPmcigbbZAIOl9igP26K470lICpky0-peX5Qp1qkyoRYdplyJDA.ttf",600:"https://fonts.gstatic.com/s/notosanstangsa/v3/z7NCdQPmcigbbZAIOl9igP26K470lICpky0-peX5Qp2GlCoRYdplyJDA.ttf",700:"https://fonts.gstatic.com/s/notosanstangsa/v3/z7NCdQPmcigbbZAIOl9igP26K470lICpky0-peX5Qp2_lCoRYdplyJDA.ttf",regular:"https://fonts.gstatic.com/s/notosanstangsa/v3/z7NCdQPmcigbbZAIOl9igP26K470lICpky0-peX5Qp1YkyoRYdplyJDA.ttf"}},{family:"Noto Sans Telugu",files:{100:"https://fonts.gstatic.com/s/notosanstelugu/v25/0FlxVOGZlE2Rrtr-HmgkMWJNjJ5_RyT8o8c7fHkeg-esVC5dzHkHIJQqrEntezfqQUbf-3v37w.ttf",200:"https://fonts.gstatic.com/s/notosanstelugu/v25/0FlxVOGZlE2Rrtr-HmgkMWJNjJ5_RyT8o8c7fHkeg-esVC5dzHkHIJQqrEnt-zbqQUbf-3v37w.ttf",300:"https://fonts.gstatic.com/s/notosanstelugu/v25/0FlxVOGZlE2Rrtr-HmgkMWJNjJ5_RyT8o8c7fHkeg-esVC5dzHkHIJQqrEntJTbqQUbf-3v37w.ttf",500:"https://fonts.gstatic.com/s/notosanstelugu/v25/0FlxVOGZlE2Rrtr-HmgkMWJNjJ5_RyT8o8c7fHkeg-esVC5dzHkHIJQqrEntSTbqQUbf-3v37w.ttf",600:"https://fonts.gstatic.com/s/notosanstelugu/v25/0FlxVOGZlE2Rrtr-HmgkMWJNjJ5_RyT8o8c7fHkeg-esVC5dzHkHIJQqrEntpTHqQUbf-3v37w.ttf",700:"https://fonts.gstatic.com/s/notosanstelugu/v25/0FlxVOGZlE2Rrtr-HmgkMWJNjJ5_RyT8o8c7fHkeg-esVC5dzHkHIJQqrEntnDHqQUbf-3v37w.ttf",800:"https://fonts.gstatic.com/s/notosanstelugu/v25/0FlxVOGZlE2Rrtr-HmgkMWJNjJ5_RyT8o8c7fHkeg-esVC5dzHkHIJQqrEnt-zHqQUbf-3v37w.ttf",900:"https://fonts.gstatic.com/s/notosanstelugu/v25/0FlxVOGZlE2Rrtr-HmgkMWJNjJ5_RyT8o8c7fHkeg-esVC5dzHkHIJQqrEnt0jHqQUbf-3v37w.ttf",regular:"https://fonts.gstatic.com/s/notosanstelugu/v25/0FlxVOGZlE2Rrtr-HmgkMWJNjJ5_RyT8o8c7fHkeg-esVC5dzHkHIJQqrEntezbqQUbf-3v37w.ttf"}},{family:"Noto Sans Thaana",files:{100:"https://fonts.gstatic.com/s/notosansthaana/v23/C8c14dM-vnz-s-3jaEsxlxHkBH-WZOETXfoQrfQ9Y4XrbxLhnu4-tbNu.ttf",200:"https://fonts.gstatic.com/s/notosansthaana/v23/C8c14dM-vnz-s-3jaEsxlxHkBH-WZOETXfoQrfQ9Y4VrbhLhnu4-tbNu.ttf",300:"https://fonts.gstatic.com/s/notosansthaana/v23/C8c14dM-vnz-s-3jaEsxlxHkBH-WZOETXfoQrfQ9Y4W1bhLhnu4-tbNu.ttf",500:"https://fonts.gstatic.com/s/notosansthaana/v23/C8c14dM-vnz-s-3jaEsxlxHkBH-WZOETXfoQrfQ9Y4XZbhLhnu4-tbNu.ttf",600:"https://fonts.gstatic.com/s/notosansthaana/v23/C8c14dM-vnz-s-3jaEsxlxHkBH-WZOETXfoQrfQ9Y4U1aRLhnu4-tbNu.ttf",700:"https://fonts.gstatic.com/s/notosansthaana/v23/C8c14dM-vnz-s-3jaEsxlxHkBH-WZOETXfoQrfQ9Y4UMaRLhnu4-tbNu.ttf",800:"https://fonts.gstatic.com/s/notosansthaana/v23/C8c14dM-vnz-s-3jaEsxlxHkBH-WZOETXfoQrfQ9Y4VraRLhnu4-tbNu.ttf",900:"https://fonts.gstatic.com/s/notosansthaana/v23/C8c14dM-vnz-s-3jaEsxlxHkBH-WZOETXfoQrfQ9Y4VCaRLhnu4-tbNu.ttf",regular:"https://fonts.gstatic.com/s/notosansthaana/v23/C8c14dM-vnz-s-3jaEsxlxHkBH-WZOETXfoQrfQ9Y4XrbhLhnu4-tbNu.ttf"}},{family:"Noto Sans Thai",files:{100:"https://fonts.gstatic.com/s/notosansthai/v20/iJWnBXeUZi_OHPqn4wq6hQ2_hbJ1xyN9wd43SofNWcd1MKVQt_So_9CdU5RspzF-QRvzzXg.ttf",200:"https://fonts.gstatic.com/s/notosansthai/v20/iJWnBXeUZi_OHPqn4wq6hQ2_hbJ1xyN9wd43SofNWcd1MKVQt_So_9CdUxRtpzF-QRvzzXg.ttf",300:"https://fonts.gstatic.com/s/notosansthai/v20/iJWnBXeUZi_OHPqn4wq6hQ2_hbJ1xyN9wd43SofNWcd1MKVQt_So_9CdU8ptpzF-QRvzzXg.ttf",500:"https://fonts.gstatic.com/s/notosansthai/v20/iJWnBXeUZi_OHPqn4wq6hQ2_hbJ1xyN9wd43SofNWcd1MKVQt_So_9CdU6ZtpzF-QRvzzXg.ttf",600:"https://fonts.gstatic.com/s/notosansthai/v20/iJWnBXeUZi_OHPqn4wq6hQ2_hbJ1xyN9wd43SofNWcd1MKVQt_So_9CdU0pqpzF-QRvzzXg.ttf",700:"https://fonts.gstatic.com/s/notosansthai/v20/iJWnBXeUZi_OHPqn4wq6hQ2_hbJ1xyN9wd43SofNWcd1MKVQt_So_9CdU3NqpzF-QRvzzXg.ttf",800:"https://fonts.gstatic.com/s/notosansthai/v20/iJWnBXeUZi_OHPqn4wq6hQ2_hbJ1xyN9wd43SofNWcd1MKVQt_So_9CdUxRqpzF-QRvzzXg.ttf",900:"https://fonts.gstatic.com/s/notosansthai/v20/iJWnBXeUZi_OHPqn4wq6hQ2_hbJ1xyN9wd43SofNWcd1MKVQt_So_9CdUz1qpzF-QRvzzXg.ttf",regular:"https://fonts.gstatic.com/s/notosansthai/v20/iJWnBXeUZi_OHPqn4wq6hQ2_hbJ1xyN9wd43SofNWcd1MKVQt_So_9CdU5RtpzF-QRvzzXg.ttf"}},{family:"Noto Sans Thai Looped",files:{100:"https://fonts.gstatic.com/s/notosansthailooped/v14/B50fF6pOpWTRcGrhOVJJ3-oPfY7WQuFu5R3YX6AYeCT_Wfd1.ttf",200:"https://fonts.gstatic.com/s/notosansthailooped/v14/B50cF6pOpWTRcGrhOVJJ3-oPfY7WQuFu5R3Y84E4UgrzUO5sKA.ttf",300:"https://fonts.gstatic.com/s/notosansthailooped/v14/B50cF6pOpWTRcGrhOVJJ3-oPfY7WQuFu5R3Yl4I4UgrzUO5sKA.ttf",500:"https://fonts.gstatic.com/s/notosansthailooped/v14/B50cF6pOpWTRcGrhOVJJ3-oPfY7WQuFu5R3Yz4M4UgrzUO5sKA.ttf",600:"https://fonts.gstatic.com/s/notosansthailooped/v14/B50cF6pOpWTRcGrhOVJJ3-oPfY7WQuFu5R3Y44Q4UgrzUO5sKA.ttf",700:"https://fonts.gstatic.com/s/notosansthailooped/v14/B50cF6pOpWTRcGrhOVJJ3-oPfY7WQuFu5R3Yh4U4UgrzUO5sKA.ttf",800:"https://fonts.gstatic.com/s/notosansthailooped/v14/B50cF6pOpWTRcGrhOVJJ3-oPfY7WQuFu5R3Ym4Y4UgrzUO5sKA.ttf",900:"https://fonts.gstatic.com/s/notosansthailooped/v14/B50cF6pOpWTRcGrhOVJJ3-oPfY7WQuFu5R3Yv4c4UgrzUO5sKA.ttf",regular:"https://fonts.gstatic.com/s/notosansthailooped/v14/B50RF6pOpWTRcGrhOVJJ3-oPfY7WQuFu5R3gO6ocWiHvWQ.ttf"}},{family:"Noto Sans Tifinagh",files:{regular:"https://fonts.gstatic.com/s/notosanstifinagh/v17/I_uzMoCduATTei9eI8dawkHIwvmhCvbn6rnEcXfs4Q.ttf"}},{family:"Noto Sans Tirhuta",files:{regular:"https://fonts.gstatic.com/s/notosanstirhuta/v15/t5t6IQYRNJ6TWjahPR6X-M-apUyby7uGUBsTrn5P.ttf"}},{family:"Noto Sans Ugaritic",files:{regular:"https://fonts.gstatic.com/s/notosansugaritic/v16/3qTwoiqhnSyU8TNFIdhZVCwbjCpkAXXkMhoIkiazfg.ttf"}},{family:"Noto Sans Vai",files:{regular:"https://fonts.gstatic.com/s/notosansvai/v17/NaPecZTSBuhTirw6IaFn_UrURMTsDIRSfr0.ttf"}},{family:"Noto Sans Wancho",files:{regular:"https://fonts.gstatic.com/s/notosanswancho/v17/zrf-0GXXyfn6Fs0lH9P4cUubP0GBqAPopiRfKp8.ttf"}},{family:"Noto Sans Warang Citi",files:{regular:"https://fonts.gstatic.com/s/notosanswarangciti/v17/EYqtmb9SzL1YtsZSScyKDXIeOv3w-zgsNvKRpeVCCXzdgA.ttf"}},{family:"Noto Sans Yi",files:{regular:"https://fonts.gstatic.com/s/notosansyi/v19/sJoD3LFXjsSdcnzn071rO3apxVDJNVgSNg.ttf"}},{family:"Noto Sans Zanabazar Square",files:{regular:"https://fonts.gstatic.com/s/notosanszanabazarsquare/v16/Cn-jJsuGWQxOjaGwMQ6fOicyxLBEMRfDtkzl4uagQtJxOCEgN0Gc.ttf"}},{family:"Noto Serif",files:{700:"https://fonts.gstatic.com/s/notoserif/v21/ga6Law1J5X9T9RW6j9bNdOwzTRCUcM1IKoY.ttf",regular:"https://fonts.gstatic.com/s/notoserif/v21/ga6Iaw1J5X9T9RW6j9bNTFAcaRi_bMQ.ttf",italic:"https://fonts.gstatic.com/s/notoserif/v21/ga6Kaw1J5X9T9RW6j9bNfFIWbTq6fMRRMw.ttf","700italic":"https://fonts.gstatic.com/s/notoserif/v21/ga6Vaw1J5X9T9RW6j9bNfFIu0RWedO9NOoYIDg.ttf"}},{family:"Noto Serif Ahom",files:{regular:"https://fonts.gstatic.com/s/notoserifahom/v19/FeVIS0hfp6cprmEUffAW_fUL_AN-wuYrPFiwaw.ttf"}},{family:"Noto Serif Armenian",files:{100:"https://fonts.gstatic.com/s/notoserifarmenian/v25/3XFMEqMt3YoFsciDRZxptyCUKJmytZ0kVU-XvF7QaZuL85rnQ_zDNzDe5xNnKxyZi8ObxvXagGdkbg.ttf",200:"https://fonts.gstatic.com/s/notoserifarmenian/v25/3XFMEqMt3YoFsciDRZxptyCUKJmytZ0kVU-XvF7QaZuL85rnQ_zDNzDe5xNnKxyZC8KbxvXagGdkbg.ttf",300:"https://fonts.gstatic.com/s/notoserifarmenian/v25/3XFMEqMt3YoFsciDRZxptyCUKJmytZ0kVU-XvF7QaZuL85rnQ_zDNzDe5xNnKxyZ1cKbxvXagGdkbg.ttf",500:"https://fonts.gstatic.com/s/notoserifarmenian/v25/3XFMEqMt3YoFsciDRZxptyCUKJmytZ0kVU-XvF7QaZuL85rnQ_zDNzDe5xNnKxyZucKbxvXagGdkbg.ttf",600:"https://fonts.gstatic.com/s/notoserifarmenian/v25/3XFMEqMt3YoFsciDRZxptyCUKJmytZ0kVU-XvF7QaZuL85rnQ_zDNzDe5xNnKxyZVcWbxvXagGdkbg.ttf",700:"https://fonts.gstatic.com/s/notoserifarmenian/v25/3XFMEqMt3YoFsciDRZxptyCUKJmytZ0kVU-XvF7QaZuL85rnQ_zDNzDe5xNnKxyZbMWbxvXagGdkbg.ttf",800:"https://fonts.gstatic.com/s/notoserifarmenian/v25/3XFMEqMt3YoFsciDRZxptyCUKJmytZ0kVU-XvF7QaZuL85rnQ_zDNzDe5xNnKxyZC8WbxvXagGdkbg.ttf",900:"https://fonts.gstatic.com/s/notoserifarmenian/v25/3XFMEqMt3YoFsciDRZxptyCUKJmytZ0kVU-XvF7QaZuL85rnQ_zDNzDe5xNnKxyZIsWbxvXagGdkbg.ttf",regular:"https://fonts.gstatic.com/s/notoserifarmenian/v25/3XFMEqMt3YoFsciDRZxptyCUKJmytZ0kVU-XvF7QaZuL85rnQ_zDNzDe5xNnKxyZi8KbxvXagGdkbg.ttf"}},{family:"Noto Serif Balinese",files:{regular:"https://fonts.gstatic.com/s/notoserifbalinese/v18/QdVKSS0-JginysQSRvuCmUMB_wVeQAxXRbgJdhapcUU.ttf"}},{family:"Noto Serif Bengali",files:{100:"https://fonts.gstatic.com/s/notoserifbengali/v19/hYkuPvggTvnzO14VSXltirUdnnkt1pwmWrprmO7RjE0a5BtdATYU1crFaM_5JfcAH3qn4LjQH8yD.ttf",200:"https://fonts.gstatic.com/s/notoserifbengali/v19/hYkuPvggTvnzO14VSXltirUdnnkt1pwmWrprmO7RjE0a5BtdATYU1crFaM_5JfeAHnqn4LjQH8yD.ttf",300:"https://fonts.gstatic.com/s/notoserifbengali/v19/hYkuPvggTvnzO14VSXltirUdnnkt1pwmWrprmO7RjE0a5BtdATYU1crFaM_5JfdeHnqn4LjQH8yD.ttf",500:"https://fonts.gstatic.com/s/notoserifbengali/v19/hYkuPvggTvnzO14VSXltirUdnnkt1pwmWrprmO7RjE0a5BtdATYU1crFaM_5JfcyHnqn4LjQH8yD.ttf",600:"https://fonts.gstatic.com/s/notoserifbengali/v19/hYkuPvggTvnzO14VSXltirUdnnkt1pwmWrprmO7RjE0a5BtdATYU1crFaM_5JffeGXqn4LjQH8yD.ttf",700:"https://fonts.gstatic.com/s/notoserifbengali/v19/hYkuPvggTvnzO14VSXltirUdnnkt1pwmWrprmO7RjE0a5BtdATYU1crFaM_5JffnGXqn4LjQH8yD.ttf",800:"https://fonts.gstatic.com/s/notoserifbengali/v19/hYkuPvggTvnzO14VSXltirUdnnkt1pwmWrprmO7RjE0a5BtdATYU1crFaM_5JfeAGXqn4LjQH8yD.ttf",900:"https://fonts.gstatic.com/s/notoserifbengali/v19/hYkuPvggTvnzO14VSXltirUdnnkt1pwmWrprmO7RjE0a5BtdATYU1crFaM_5JfepGXqn4LjQH8yD.ttf",regular:"https://fonts.gstatic.com/s/notoserifbengali/v19/hYkuPvggTvnzO14VSXltirUdnnkt1pwmWrprmO7RjE0a5BtdATYU1crFaM_5JfcAHnqn4LjQH8yD.ttf"}},{family:"Noto Serif Devanagari",files:{100:"https://fonts.gstatic.com/s/notoserifdevanagari/v28/x3dYcl3IZKmUqiMk48ZHXJ5jwU-DZGRSaQ4Hh2dGyFzPLcQPVbnRNeFsw0xRWb6uxTA-og-HMUe1u_dv.ttf",200:"https://fonts.gstatic.com/s/notoserifdevanagari/v28/x3dYcl3IZKmUqiMk48ZHXJ5jwU-DZGRSaQ4Hh2dGyFzPLcQPVbnRNeFsw0xRWb6uxTC-ow-HMUe1u_dv.ttf",300:"https://fonts.gstatic.com/s/notoserifdevanagari/v28/x3dYcl3IZKmUqiMk48ZHXJ5jwU-DZGRSaQ4Hh2dGyFzPLcQPVbnRNeFsw0xRWb6uxTBgow-HMUe1u_dv.ttf",500:"https://fonts.gstatic.com/s/notoserifdevanagari/v28/x3dYcl3IZKmUqiMk48ZHXJ5jwU-DZGRSaQ4Hh2dGyFzPLcQPVbnRNeFsw0xRWb6uxTAMow-HMUe1u_dv.ttf",600:"https://fonts.gstatic.com/s/notoserifdevanagari/v28/x3dYcl3IZKmUqiMk48ZHXJ5jwU-DZGRSaQ4Hh2dGyFzPLcQPVbnRNeFsw0xRWb6uxTDgpA-HMUe1u_dv.ttf",700:"https://fonts.gstatic.com/s/notoserifdevanagari/v28/x3dYcl3IZKmUqiMk48ZHXJ5jwU-DZGRSaQ4Hh2dGyFzPLcQPVbnRNeFsw0xRWb6uxTDZpA-HMUe1u_dv.ttf",800:"https://fonts.gstatic.com/s/notoserifdevanagari/v28/x3dYcl3IZKmUqiMk48ZHXJ5jwU-DZGRSaQ4Hh2dGyFzPLcQPVbnRNeFsw0xRWb6uxTC-pA-HMUe1u_dv.ttf",900:"https://fonts.gstatic.com/s/notoserifdevanagari/v28/x3dYcl3IZKmUqiMk48ZHXJ5jwU-DZGRSaQ4Hh2dGyFzPLcQPVbnRNeFsw0xRWb6uxTCXpA-HMUe1u_dv.ttf",regular:"https://fonts.gstatic.com/s/notoserifdevanagari/v28/x3dYcl3IZKmUqiMk48ZHXJ5jwU-DZGRSaQ4Hh2dGyFzPLcQPVbnRNeFsw0xRWb6uxTA-ow-HMUe1u_dv.ttf"}},{family:"Noto Serif Display",files:{100:"https://fonts.gstatic.com/s/notoserifdisplay/v18/buERppa9f8_vkXaZLAgP0G5Wi6QmA1QaeYah2sovLCDq_ZgLyt3idQfktOG-PVpd49gKaDU9hvzC.ttf",200:"https://fonts.gstatic.com/s/notoserifdisplay/v18/buERppa9f8_vkXaZLAgP0G5Wi6QmA1QaeYah2sovLCDq_ZgLyt3idQfktOG-PVrd4tgKaDU9hvzC.ttf",300:"https://fonts.gstatic.com/s/notoserifdisplay/v18/buERppa9f8_vkXaZLAgP0G5Wi6QmA1QaeYah2sovLCDq_ZgLyt3idQfktOG-PVoD4tgKaDU9hvzC.ttf",500:"https://fonts.gstatic.com/s/notoserifdisplay/v18/buERppa9f8_vkXaZLAgP0G5Wi6QmA1QaeYah2sovLCDq_ZgLyt3idQfktOG-PVpv4tgKaDU9hvzC.ttf",600:"https://fonts.gstatic.com/s/notoserifdisplay/v18/buERppa9f8_vkXaZLAgP0G5Wi6QmA1QaeYah2sovLCDq_ZgLyt3idQfktOG-PVqD5dgKaDU9hvzC.ttf",700:"https://fonts.gstatic.com/s/notoserifdisplay/v18/buERppa9f8_vkXaZLAgP0G5Wi6QmA1QaeYah2sovLCDq_ZgLyt3idQfktOG-PVq65dgKaDU9hvzC.ttf",800:"https://fonts.gstatic.com/s/notoserifdisplay/v18/buERppa9f8_vkXaZLAgP0G5Wi6QmA1QaeYah2sovLCDq_ZgLyt3idQfktOG-PVrd5dgKaDU9hvzC.ttf",900:"https://fonts.gstatic.com/s/notoserifdisplay/v18/buERppa9f8_vkXaZLAgP0G5Wi6QmA1QaeYah2sovLCDq_ZgLyt3idQfktOG-PVr05dgKaDU9hvzC.ttf",regular:"https://fonts.gstatic.com/s/notoserifdisplay/v18/buERppa9f8_vkXaZLAgP0G5Wi6QmA1QaeYah2sovLCDq_ZgLyt3idQfktOG-PVpd4tgKaDU9hvzC.ttf","100italic":"https://fonts.gstatic.com/s/notoserifdisplay/v18/buEPppa9f8_vkXaZLAgP0G5Wi6QmA1QwcLRCOrN8uo7t6FBJOJTQit-N33sQOk-VoTBIYjEfg-zCmf4.ttf","200italic":"https://fonts.gstatic.com/s/notoserifdisplay/v18/buEPppa9f8_vkXaZLAgP0G5Wi6QmA1QwcLRCOrN8uo7t6FBJOJTQit-N33sQOk-VobBJYjEfg-zCmf4.ttf","300italic":"https://fonts.gstatic.com/s/notoserifdisplay/v18/buEPppa9f8_vkXaZLAgP0G5Wi6QmA1QwcLRCOrN8uo7t6FBJOJTQit-N33sQOk-VoW5JYjEfg-zCmf4.ttf",italic:"https://fonts.gstatic.com/s/notoserifdisplay/v18/buEPppa9f8_vkXaZLAgP0G5Wi6QmA1QwcLRCOrN8uo7t6FBJOJTQit-N33sQOk-VoTBJYjEfg-zCmf4.ttf","500italic":"https://fonts.gstatic.com/s/notoserifdisplay/v18/buEPppa9f8_vkXaZLAgP0G5Wi6QmA1QwcLRCOrN8uo7t6FBJOJTQit-N33sQOk-VoQJJYjEfg-zCmf4.ttf","600italic":"https://fonts.gstatic.com/s/notoserifdisplay/v18/buEPppa9f8_vkXaZLAgP0G5Wi6QmA1QwcLRCOrN8uo7t6FBJOJTQit-N33sQOk-Voe5OYjEfg-zCmf4.ttf","700italic":"https://fonts.gstatic.com/s/notoserifdisplay/v18/buEPppa9f8_vkXaZLAgP0G5Wi6QmA1QwcLRCOrN8uo7t6FBJOJTQit-N33sQOk-VoddOYjEfg-zCmf4.ttf","800italic":"https://fonts.gstatic.com/s/notoserifdisplay/v18/buEPppa9f8_vkXaZLAgP0G5Wi6QmA1QwcLRCOrN8uo7t6FBJOJTQit-N33sQOk-VobBOYjEfg-zCmf4.ttf","900italic":"https://fonts.gstatic.com/s/notoserifdisplay/v18/buEPppa9f8_vkXaZLAgP0G5Wi6QmA1QwcLRCOrN8uo7t6FBJOJTQit-N33sQOk-VoZlOYjEfg-zCmf4.ttf"}},{family:"Noto Serif Dogra",files:{regular:"https://fonts.gstatic.com/s/notoserifdogra/v16/MQpP-XquKMC7ROPP3QOOlm7xPu3fGy63IbPzkns.ttf"}},{family:"Noto Serif Ethiopic",files:{100:"https://fonts.gstatic.com/s/notoserifethiopic/v23/V8mjoR7-XjwJ8_Au3Ti5tXj5Rd83frpWLK4d-taxqWw2HMWjDxBAg5S_0QsrggxCzSQjkaO9UVLyiw.ttf",200:"https://fonts.gstatic.com/s/notoserifethiopic/v23/V8mjoR7-XjwJ8_Au3Ti5tXj5Rd83frpWLK4d-taxqWw2HMWjDxBAg5S_0QsrggxCTSUjkaO9UVLyiw.ttf",300:"https://fonts.gstatic.com/s/notoserifethiopic/v23/V8mjoR7-XjwJ8_Au3Ti5tXj5Rd83frpWLK4d-taxqWw2HMWjDxBAg5S_0QsrggxCkyUjkaO9UVLyiw.ttf",500:"https://fonts.gstatic.com/s/notoserifethiopic/v23/V8mjoR7-XjwJ8_Au3Ti5tXj5Rd83frpWLK4d-taxqWw2HMWjDxBAg5S_0QsrggxC_yUjkaO9UVLyiw.ttf",600:"https://fonts.gstatic.com/s/notoserifethiopic/v23/V8mjoR7-XjwJ8_Au3Ti5tXj5Rd83frpWLK4d-taxqWw2HMWjDxBAg5S_0QsrggxCEyIjkaO9UVLyiw.ttf",700:"https://fonts.gstatic.com/s/notoserifethiopic/v23/V8mjoR7-XjwJ8_Au3Ti5tXj5Rd83frpWLK4d-taxqWw2HMWjDxBAg5S_0QsrggxCKiIjkaO9UVLyiw.ttf",800:"https://fonts.gstatic.com/s/notoserifethiopic/v23/V8mjoR7-XjwJ8_Au3Ti5tXj5Rd83frpWLK4d-taxqWw2HMWjDxBAg5S_0QsrggxCTSIjkaO9UVLyiw.ttf",900:"https://fonts.gstatic.com/s/notoserifethiopic/v23/V8mjoR7-XjwJ8_Au3Ti5tXj5Rd83frpWLK4d-taxqWw2HMWjDxBAg5S_0QsrggxCZCIjkaO9UVLyiw.ttf",regular:"https://fonts.gstatic.com/s/notoserifethiopic/v23/V8mjoR7-XjwJ8_Au3Ti5tXj5Rd83frpWLK4d-taxqWw2HMWjDxBAg5S_0QsrggxCzSUjkaO9UVLyiw.ttf"}},{family:"Noto Serif Georgian",files:{100:"https://fonts.gstatic.com/s/notoserifgeorgian/v24/VEMXRpd8s4nv8hG_qOzL7HOAw4nt0Sl_XxyaEduNMvi7T6Y4etRnmGhyLop-R3aSTvsfdzTw-FgZxQ.ttf",200:"https://fonts.gstatic.com/s/notoserifgeorgian/v24/VEMXRpd8s4nv8hG_qOzL7HOAw4nt0Sl_XxyaEduNMvi7T6Y4etRnmGhyLop-R3aSzvofdzTw-FgZxQ.ttf",300:"https://fonts.gstatic.com/s/notoserifgeorgian/v24/VEMXRpd8s4nv8hG_qOzL7HOAw4nt0Sl_XxyaEduNMvi7T6Y4etRnmGhyLop-R3aSEPofdzTw-FgZxQ.ttf",500:"https://fonts.gstatic.com/s/notoserifgeorgian/v24/VEMXRpd8s4nv8hG_qOzL7HOAw4nt0Sl_XxyaEduNMvi7T6Y4etRnmGhyLop-R3aSfPofdzTw-FgZxQ.ttf",600:"https://fonts.gstatic.com/s/notoserifgeorgian/v24/VEMXRpd8s4nv8hG_qOzL7HOAw4nt0Sl_XxyaEduNMvi7T6Y4etRnmGhyLop-R3aSkP0fdzTw-FgZxQ.ttf",700:"https://fonts.gstatic.com/s/notoserifgeorgian/v24/VEMXRpd8s4nv8hG_qOzL7HOAw4nt0Sl_XxyaEduNMvi7T6Y4etRnmGhyLop-R3aSqf0fdzTw-FgZxQ.ttf",800:"https://fonts.gstatic.com/s/notoserifgeorgian/v24/VEMXRpd8s4nv8hG_qOzL7HOAw4nt0Sl_XxyaEduNMvi7T6Y4etRnmGhyLop-R3aSzv0fdzTw-FgZxQ.ttf",900:"https://fonts.gstatic.com/s/notoserifgeorgian/v24/VEMXRpd8s4nv8hG_qOzL7HOAw4nt0Sl_XxyaEduNMvi7T6Y4etRnmGhyLop-R3aS5_0fdzTw-FgZxQ.ttf",regular:"https://fonts.gstatic.com/s/notoserifgeorgian/v24/VEMXRpd8s4nv8hG_qOzL7HOAw4nt0Sl_XxyaEduNMvi7T6Y4etRnmGhyLop-R3aSTvofdzTw-FgZxQ.ttf"}},{family:"Noto Serif Grantha",files:{regular:"https://fonts.gstatic.com/s/notoserifgrantha/v19/qkBIXuEH5NzDDvc3fLDYxPk9-Wq3WLiqFENLR7fHGw.ttf"}},{family:"Noto Serif Gujarati",files:{100:"https://fonts.gstatic.com/s/notoserifgujarati/v26/hESa6WBlOixO-3OJ1FTmTsmqlBRUJBVkcgNLpdsspzP2HuYycYzuM1Kf-OJu.ttf",200:"https://fonts.gstatic.com/s/notoserifgujarati/v26/hESa6WBlOixO-3OJ1FTmTsmqlBRUJBVkcgNLpdsspzP2HuaycIzuM1Kf-OJu.ttf",300:"https://fonts.gstatic.com/s/notoserifgujarati/v26/hESa6WBlOixO-3OJ1FTmTsmqlBRUJBVkcgNLpdsspzP2HuZscIzuM1Kf-OJu.ttf",500:"https://fonts.gstatic.com/s/notoserifgujarati/v26/hESa6WBlOixO-3OJ1FTmTsmqlBRUJBVkcgNLpdsspzP2HuYAcIzuM1Kf-OJu.ttf",600:"https://fonts.gstatic.com/s/notoserifgujarati/v26/hESa6WBlOixO-3OJ1FTmTsmqlBRUJBVkcgNLpdsspzP2Hubsd4zuM1Kf-OJu.ttf",700:"https://fonts.gstatic.com/s/notoserifgujarati/v26/hESa6WBlOixO-3OJ1FTmTsmqlBRUJBVkcgNLpdsspzP2HubVd4zuM1Kf-OJu.ttf",800:"https://fonts.gstatic.com/s/notoserifgujarati/v26/hESa6WBlOixO-3OJ1FTmTsmqlBRUJBVkcgNLpdsspzP2Huayd4zuM1Kf-OJu.ttf",900:"https://fonts.gstatic.com/s/notoserifgujarati/v26/hESa6WBlOixO-3OJ1FTmTsmqlBRUJBVkcgNLpdsspzP2Huabd4zuM1Kf-OJu.ttf",regular:"https://fonts.gstatic.com/s/notoserifgujarati/v26/hESa6WBlOixO-3OJ1FTmTsmqlBRUJBVkcgNLpdsspzP2HuYycIzuM1Kf-OJu.ttf"}},{family:"Noto Serif Gurmukhi",files:{100:"https://fonts.gstatic.com/s/notoserifgurmukhi/v20/92z-tA9LNqsg7tCYlXdCV1VPnAEeDU0vLoYMbylXk0xTCr6-eBTNmqVU7y6l.ttf",200:"https://fonts.gstatic.com/s/notoserifgurmukhi/v20/92z-tA9LNqsg7tCYlXdCV1VPnAEeDU0vLoYMbylXk0xTCr4-eRTNmqVU7y6l.ttf",300:"https://fonts.gstatic.com/s/notoserifgurmukhi/v20/92z-tA9LNqsg7tCYlXdCV1VPnAEeDU0vLoYMbylXk0xTCr7geRTNmqVU7y6l.ttf",500:"https://fonts.gstatic.com/s/notoserifgurmukhi/v20/92z-tA9LNqsg7tCYlXdCV1VPnAEeDU0vLoYMbylXk0xTCr6MeRTNmqVU7y6l.ttf",600:"https://fonts.gstatic.com/s/notoserifgurmukhi/v20/92z-tA9LNqsg7tCYlXdCV1VPnAEeDU0vLoYMbylXk0xTCr5gfhTNmqVU7y6l.ttf",700:"https://fonts.gstatic.com/s/notoserifgurmukhi/v20/92z-tA9LNqsg7tCYlXdCV1VPnAEeDU0vLoYMbylXk0xTCr5ZfhTNmqVU7y6l.ttf",800:"https://fonts.gstatic.com/s/notoserifgurmukhi/v20/92z-tA9LNqsg7tCYlXdCV1VPnAEeDU0vLoYMbylXk0xTCr4-fhTNmqVU7y6l.ttf",900:"https://fonts.gstatic.com/s/notoserifgurmukhi/v20/92z-tA9LNqsg7tCYlXdCV1VPnAEeDU0vLoYMbylXk0xTCr4XfhTNmqVU7y6l.ttf",regular:"https://fonts.gstatic.com/s/notoserifgurmukhi/v20/92z-tA9LNqsg7tCYlXdCV1VPnAEeDU0vLoYMbylXk0xTCr6-eRTNmqVU7y6l.ttf"}},{family:"Noto Serif HK",files:{200:"https://fonts.gstatic.com/s/notoserifhk/v2/BngdUXBETWXI6LwlBZGcqL-B_KuJFcgfwP_9RMf-K2RmV9Su1M6i.ttf",300:"https://fonts.gstatic.com/s/notoserifhk/v2/BngdUXBETWXI6LwlBZGcqL-B_KuJFcgfwP_9RMcgK2RmV9Su1M6i.ttf",500:"https://fonts.gstatic.com/s/notoserifhk/v2/BngdUXBETWXI6LwlBZGcqL-B_KuJFcgfwP_9RMdMK2RmV9Su1M6i.ttf",600:"https://fonts.gstatic.com/s/notoserifhk/v2/BngdUXBETWXI6LwlBZGcqL-B_KuJFcgfwP_9RMegLGRmV9Su1M6i.ttf",700:"https://fonts.gstatic.com/s/notoserifhk/v2/BngdUXBETWXI6LwlBZGcqL-B_KuJFcgfwP_9RMeZLGRmV9Su1M6i.ttf",800:"https://fonts.gstatic.com/s/notoserifhk/v2/BngdUXBETWXI6LwlBZGcqL-B_KuJFcgfwP_9RMf-LGRmV9Su1M6i.ttf",900:"https://fonts.gstatic.com/s/notoserifhk/v2/BngdUXBETWXI6LwlBZGcqL-B_KuJFcgfwP_9RMfXLGRmV9Su1M6i.ttf",regular:"https://fonts.gstatic.com/s/notoserifhk/v2/BngdUXBETWXI6LwlBZGcqL-B_KuJFcgfwP_9RMd-K2RmV9Su1M6i.ttf"}},{family:"Noto Serif Hebrew",files:{100:"https://fonts.gstatic.com/s/notoserifhebrew/v25/k3k0o9MMPvpLmixYH7euCwmkS9DohjX1-kRyiqyBqIxnoLbp93i9IKrXKF_qVAwTAG8_vlQxz24.ttf",200:"https://fonts.gstatic.com/s/notoserifhebrew/v25/k3k0o9MMPvpLmixYH7euCwmkS9DohjX1-kRyiqyBqIxnoLbp93i9IKrXKF_qVIwSAG8_vlQxz24.ttf",300:"https://fonts.gstatic.com/s/notoserifhebrew/v25/k3k0o9MMPvpLmixYH7euCwmkS9DohjX1-kRyiqyBqIxnoLbp93i9IKrXKF_qVFISAG8_vlQxz24.ttf",500:"https://fonts.gstatic.com/s/notoserifhebrew/v25/k3k0o9MMPvpLmixYH7euCwmkS9DohjX1-kRyiqyBqIxnoLbp93i9IKrXKF_qVD4SAG8_vlQxz24.ttf",600:"https://fonts.gstatic.com/s/notoserifhebrew/v25/k3k0o9MMPvpLmixYH7euCwmkS9DohjX1-kRyiqyBqIxnoLbp93i9IKrXKF_qVNIVAG8_vlQxz24.ttf",700:"https://fonts.gstatic.com/s/notoserifhebrew/v25/k3k0o9MMPvpLmixYH7euCwmkS9DohjX1-kRyiqyBqIxnoLbp93i9IKrXKF_qVOsVAG8_vlQxz24.ttf",800:"https://fonts.gstatic.com/s/notoserifhebrew/v25/k3k0o9MMPvpLmixYH7euCwmkS9DohjX1-kRyiqyBqIxnoLbp93i9IKrXKF_qVIwVAG8_vlQxz24.ttf",900:"https://fonts.gstatic.com/s/notoserifhebrew/v25/k3k0o9MMPvpLmixYH7euCwmkS9DohjX1-kRyiqyBqIxnoLbp93i9IKrXKF_qVKUVAG8_vlQxz24.ttf",regular:"https://fonts.gstatic.com/s/notoserifhebrew/v25/k3k0o9MMPvpLmixYH7euCwmkS9DohjX1-kRyiqyBqIxnoLbp93i9IKrXKF_qVAwSAG8_vlQxz24.ttf"}},{family:"Noto Serif JP",files:{200:"https://fonts.gstatic.com/s/notoserifjp/v21/xn77YHs72GKoTvER4Gn3b5eMZBaPRkgfU8fEwb0.otf",300:"https://fonts.gstatic.com/s/notoserifjp/v21/xn77YHs72GKoTvER4Gn3b5eMZHKMRkgfU8fEwb0.otf",500:"https://fonts.gstatic.com/s/notoserifjp/v21/xn77YHs72GKoTvER4Gn3b5eMZCqNRkgfU8fEwb0.otf",600:"https://fonts.gstatic.com/s/notoserifjp/v21/xn77YHs72GKoTvER4Gn3b5eMZAaKRkgfU8fEwb0.otf",700:"https://fonts.gstatic.com/s/notoserifjp/v21/xn77YHs72GKoTvER4Gn3b5eMZGKLRkgfU8fEwb0.otf",900:"https://fonts.gstatic.com/s/notoserifjp/v21/xn77YHs72GKoTvER4Gn3b5eMZFqJRkgfU8fEwb0.otf",regular:"https://fonts.gstatic.com/s/notoserifjp/v21/xn7mYHs72GKoTvER4Gn3b5eMXNikYkY0T84.otf"}},{family:"Noto Serif KR",files:{200:"https://fonts.gstatic.com/s/notoserifkr/v20/3JnmSDn90Gmq2mr3blnHaTZXTihC8O1ZNH1ahck.otf",300:"https://fonts.gstatic.com/s/notoserifkr/v20/3JnmSDn90Gmq2mr3blnHaTZXTkxB8O1ZNH1ahck.otf",500:"https://fonts.gstatic.com/s/notoserifkr/v20/3JnmSDn90Gmq2mr3blnHaTZXThRA8O1ZNH1ahck.otf",600:"https://fonts.gstatic.com/s/notoserifkr/v20/3JnmSDn90Gmq2mr3blnHaTZXTjhH8O1ZNH1ahck.otf",700:"https://fonts.gstatic.com/s/notoserifkr/v20/3JnmSDn90Gmq2mr3blnHaTZXTlxG8O1ZNH1ahck.otf",900:"https://fonts.gstatic.com/s/notoserifkr/v20/3JnmSDn90Gmq2mr3blnHaTZXTmRE8O1ZNH1ahck.otf",regular:"https://fonts.gstatic.com/s/notoserifkr/v20/3Jn7SDn90Gmq2mr3blnHaTZXduZp1ONyKHQ.otf"}},{family:"Noto Serif Kannada",files:{100:"https://fonts.gstatic.com/s/notoserifkannada/v26/v6-8GZHLJFKIhClqUYqXDiWqpxQxWSPoW6bz-l4hGHiNgcYCceRJ71svgcI.ttf",200:"https://fonts.gstatic.com/s/notoserifkannada/v26/v6-8GZHLJFKIhClqUYqXDiWqpxQxWSPoW6bz-l4hGHiNgUYDceRJ71svgcI.ttf",300:"https://fonts.gstatic.com/s/notoserifkannada/v26/v6-8GZHLJFKIhClqUYqXDiWqpxQxWSPoW6bz-l4hGHiNgZgDceRJ71svgcI.ttf",500:"https://fonts.gstatic.com/s/notoserifkannada/v26/v6-8GZHLJFKIhClqUYqXDiWqpxQxWSPoW6bz-l4hGHiNgfQDceRJ71svgcI.ttf",600:"https://fonts.gstatic.com/s/notoserifkannada/v26/v6-8GZHLJFKIhClqUYqXDiWqpxQxWSPoW6bz-l4hGHiNgRgEceRJ71svgcI.ttf",700:"https://fonts.gstatic.com/s/notoserifkannada/v26/v6-8GZHLJFKIhClqUYqXDiWqpxQxWSPoW6bz-l4hGHiNgSEEceRJ71svgcI.ttf",800:"https://fonts.gstatic.com/s/notoserifkannada/v26/v6-8GZHLJFKIhClqUYqXDiWqpxQxWSPoW6bz-l4hGHiNgUYEceRJ71svgcI.ttf",900:"https://fonts.gstatic.com/s/notoserifkannada/v26/v6-8GZHLJFKIhClqUYqXDiWqpxQxWSPoW6bz-l4hGHiNgW8EceRJ71svgcI.ttf",regular:"https://fonts.gstatic.com/s/notoserifkannada/v26/v6-8GZHLJFKIhClqUYqXDiWqpxQxWSPoW6bz-l4hGHiNgcYDceRJ71svgcI.ttf"}},{family:"Noto Serif Khmer",files:{100:"https://fonts.gstatic.com/s/notoserifkhmer/v23/-F6UfidqLzI2JPCkXAO2hmogq0146FxtbwKEr951z5s6lI40sDRH_AVhUKdN6B4wXEZK9Xo4xg.ttf",200:"https://fonts.gstatic.com/s/notoserifkhmer/v23/-F6UfidqLzI2JPCkXAO2hmogq0146FxtbwKEr951z5s6lI40sDRH_AVhUKdNaB8wXEZK9Xo4xg.ttf",300:"https://fonts.gstatic.com/s/notoserifkhmer/v23/-F6UfidqLzI2JPCkXAO2hmogq0146FxtbwKEr951z5s6lI40sDRH_AVhUKdNth8wXEZK9Xo4xg.ttf",500:"https://fonts.gstatic.com/s/notoserifkhmer/v23/-F6UfidqLzI2JPCkXAO2hmogq0146FxtbwKEr951z5s6lI40sDRH_AVhUKdN2h8wXEZK9Xo4xg.ttf",600:"https://fonts.gstatic.com/s/notoserifkhmer/v23/-F6UfidqLzI2JPCkXAO2hmogq0146FxtbwKEr951z5s6lI40sDRH_AVhUKdNNhgwXEZK9Xo4xg.ttf",700:"https://fonts.gstatic.com/s/notoserifkhmer/v23/-F6UfidqLzI2JPCkXAO2hmogq0146FxtbwKEr951z5s6lI40sDRH_AVhUKdNDxgwXEZK9Xo4xg.ttf",800:"https://fonts.gstatic.com/s/notoserifkhmer/v23/-F6UfidqLzI2JPCkXAO2hmogq0146FxtbwKEr951z5s6lI40sDRH_AVhUKdNaBgwXEZK9Xo4xg.ttf",900:"https://fonts.gstatic.com/s/notoserifkhmer/v23/-F6UfidqLzI2JPCkXAO2hmogq0146FxtbwKEr951z5s6lI40sDRH_AVhUKdNQRgwXEZK9Xo4xg.ttf",regular:"https://fonts.gstatic.com/s/notoserifkhmer/v23/-F6UfidqLzI2JPCkXAO2hmogq0146FxtbwKEr951z5s6lI40sDRH_AVhUKdN6B8wXEZK9Xo4xg.ttf"}},{family:"Noto Serif Khojki",files:{500:"https://fonts.gstatic.com/s/notoserifkhojki/v8/I_uHMoOduATTei9aP90ctmPGxP2rBKTM4mcQ5M3z9QMY4AhvyZ0Qtc5HAQ.ttf",600:"https://fonts.gstatic.com/s/notoserifkhojki/v8/I_uHMoOduATTei9aP90ctmPGxP2rBKTM4mcQ5M3z9QMYDA9vyZ0Qtc5HAQ.ttf",700:"https://fonts.gstatic.com/s/notoserifkhojki/v8/I_uHMoOduATTei9aP90ctmPGxP2rBKTM4mcQ5M3z9QMYNQ9vyZ0Qtc5HAQ.ttf",regular:"https://fonts.gstatic.com/s/notoserifkhojki/v8/I_uHMoOduATTei9aP90ctmPGxP2rBKTM4mcQ5M3z9QMY0ghvyZ0Qtc5HAQ.ttf"}},{family:"Noto Serif Lao",files:{100:"https://fonts.gstatic.com/s/notoseriflao/v23/3y9C6bYwcCjmsU8JEzCMxEwQfEBLk3f0rlSqCdaM_LlSNZ59oNw0BWH8VeMLrvOjlmyhHHQ.ttf",200:"https://fonts.gstatic.com/s/notoseriflao/v23/3y9C6bYwcCjmsU8JEzCMxEwQfEBLk3f0rlSqCdaM_LlSNZ59oNw0BWH8VWMKrvOjlmyhHHQ.ttf",300:"https://fonts.gstatic.com/s/notoseriflao/v23/3y9C6bYwcCjmsU8JEzCMxEwQfEBLk3f0rlSqCdaM_LlSNZ59oNw0BWH8Vb0KrvOjlmyhHHQ.ttf",500:"https://fonts.gstatic.com/s/notoseriflao/v23/3y9C6bYwcCjmsU8JEzCMxEwQfEBLk3f0rlSqCdaM_LlSNZ59oNw0BWH8VdEKrvOjlmyhHHQ.ttf",600:"https://fonts.gstatic.com/s/notoseriflao/v23/3y9C6bYwcCjmsU8JEzCMxEwQfEBLk3f0rlSqCdaM_LlSNZ59oNw0BWH8VT0NrvOjlmyhHHQ.ttf",700:"https://fonts.gstatic.com/s/notoseriflao/v23/3y9C6bYwcCjmsU8JEzCMxEwQfEBLk3f0rlSqCdaM_LlSNZ59oNw0BWH8VQQNrvOjlmyhHHQ.ttf",800:"https://fonts.gstatic.com/s/notoseriflao/v23/3y9C6bYwcCjmsU8JEzCMxEwQfEBLk3f0rlSqCdaM_LlSNZ59oNw0BWH8VWMNrvOjlmyhHHQ.ttf",900:"https://fonts.gstatic.com/s/notoseriflao/v23/3y9C6bYwcCjmsU8JEzCMxEwQfEBLk3f0rlSqCdaM_LlSNZ59oNw0BWH8VUoNrvOjlmyhHHQ.ttf",regular:"https://fonts.gstatic.com/s/notoseriflao/v23/3y9C6bYwcCjmsU8JEzCMxEwQfEBLk3f0rlSqCdaM_LlSNZ59oNw0BWH8VeMKrvOjlmyhHHQ.ttf"}},{family:"Noto Serif Malayalam",files:{100:"https://fonts.gstatic.com/s/notoserifmalayalam/v28/JIAZUU5sdmdP_HMcVcZFcH7DeVBeGVgSMEk2cmVDq1ihUXL1t-1fnVwHpQVySg.ttf",200:"https://fonts.gstatic.com/s/notoserifmalayalam/v28/JIAZUU5sdmdP_HMcVcZFcH7DeVBeGVgSMEk2cmVDq1ihUXL1N-xfnVwHpQVySg.ttf",300:"https://fonts.gstatic.com/s/notoserifmalayalam/v28/JIAZUU5sdmdP_HMcVcZFcH7DeVBeGVgSMEk2cmVDq1ihUXL16exfnVwHpQVySg.ttf",500:"https://fonts.gstatic.com/s/notoserifmalayalam/v28/JIAZUU5sdmdP_HMcVcZFcH7DeVBeGVgSMEk2cmVDq1ihUXL1hexfnVwHpQVySg.ttf",600:"https://fonts.gstatic.com/s/notoserifmalayalam/v28/JIAZUU5sdmdP_HMcVcZFcH7DeVBeGVgSMEk2cmVDq1ihUXL1aetfnVwHpQVySg.ttf",700:"https://fonts.gstatic.com/s/notoserifmalayalam/v28/JIAZUU5sdmdP_HMcVcZFcH7DeVBeGVgSMEk2cmVDq1ihUXL1UOtfnVwHpQVySg.ttf",800:"https://fonts.gstatic.com/s/notoserifmalayalam/v28/JIAZUU5sdmdP_HMcVcZFcH7DeVBeGVgSMEk2cmVDq1ihUXL1N-tfnVwHpQVySg.ttf",900:"https://fonts.gstatic.com/s/notoserifmalayalam/v28/JIAZUU5sdmdP_HMcVcZFcH7DeVBeGVgSMEk2cmVDq1ihUXL1HutfnVwHpQVySg.ttf",regular:"https://fonts.gstatic.com/s/notoserifmalayalam/v28/JIAZUU5sdmdP_HMcVcZFcH7DeVBeGVgSMEk2cmVDq1ihUXL1t-xfnVwHpQVySg.ttf"}},{family:"Noto Serif Myanmar",files:{100:"https://fonts.gstatic.com/s/notoserifmyanmar/v13/VuJudM7F2Yv76aBKKs-bHMQfAHUw3jnNwBDsU9X6RPzQ.ttf",200:"https://fonts.gstatic.com/s/notoserifmyanmar/v13/VuJvdM7F2Yv76aBKKs-bHMQfAHUw3jnNbDHMefv2TeXJng.ttf",300:"https://fonts.gstatic.com/s/notoserifmyanmar/v13/VuJvdM7F2Yv76aBKKs-bHMQfAHUw3jnNCDLMefv2TeXJng.ttf",500:"https://fonts.gstatic.com/s/notoserifmyanmar/v13/VuJvdM7F2Yv76aBKKs-bHMQfAHUw3jnNUDPMefv2TeXJng.ttf",600:"https://fonts.gstatic.com/s/notoserifmyanmar/v13/VuJvdM7F2Yv76aBKKs-bHMQfAHUw3jnNfDTMefv2TeXJng.ttf",700:"https://fonts.gstatic.com/s/notoserifmyanmar/v13/VuJvdM7F2Yv76aBKKs-bHMQfAHUw3jnNGDXMefv2TeXJng.ttf",800:"https://fonts.gstatic.com/s/notoserifmyanmar/v13/VuJvdM7F2Yv76aBKKs-bHMQfAHUw3jnNBDbMefv2TeXJng.ttf",900:"https://fonts.gstatic.com/s/notoserifmyanmar/v13/VuJvdM7F2Yv76aBKKs-bHMQfAHUw3jnNIDfMefv2TeXJng.ttf",regular:"https://fonts.gstatic.com/s/notoserifmyanmar/v13/VuJsdM7F2Yv76aBKKs-bHMQfAHUw3jn1pBrocdDqRA.ttf"}},{family:"Noto Serif NP Hmong",files:{500:"https://fonts.gstatic.com/s/notoserifnphmong/v1/pONN1gItFMO79E4L1GPUi-2sixKHZyFj9Jy6_KhXPwzdvbj9hFLp3u0rVO-d.ttf",600:"https://fonts.gstatic.com/s/notoserifnphmong/v1/pONN1gItFMO79E4L1GPUi-2sixKHZyFj9Jy6_KhXPwzdvbgRg1Lp3u0rVO-d.ttf",700:"https://fonts.gstatic.com/s/notoserifnphmong/v1/pONN1gItFMO79E4L1GPUi-2sixKHZyFj9Jy6_KhXPwzdvbgog1Lp3u0rVO-d.ttf",regular:"https://fonts.gstatic.com/s/notoserifnphmong/v1/pONN1gItFMO79E4L1GPUi-2sixKHZyFj9Jy6_KhXPwzdvbjPhFLp3u0rVO-d.ttf"}},{family:"Noto Serif Oriya",files:{500:"https://fonts.gstatic.com/s/notoseriforiya/v4/MjQQmj56u-r69izk_LDqWN7w0cYByutv9qeWYrvLaxru_Hy-v039MF1j.ttf",600:"https://fonts.gstatic.com/s/notoseriforiya/v4/MjQQmj56u-r69izk_LDqWN7w0cYByutv9qeWYrvLaxoC-3y-v039MF1j.ttf",700:"https://fonts.gstatic.com/s/notoseriforiya/v4/MjQQmj56u-r69izk_LDqWN7w0cYByutv9qeWYrvLaxo7-3y-v039MF1j.ttf",regular:"https://fonts.gstatic.com/s/notoseriforiya/v4/MjQQmj56u-r69izk_LDqWN7w0cYByutv9qeWYrvLaxrc_Hy-v039MF1j.ttf"}},{family:"Noto Serif SC",files:{200:"https://fonts.gstatic.com/s/notoserifsc/v22/H4c8BXePl9DZ0Xe7gG9cyOj7mm63SzZBEtERe7U.otf",300:"https://fonts.gstatic.com/s/notoserifsc/v22/H4c8BXePl9DZ0Xe7gG9cyOj7mgq0SzZBEtERe7U.otf",500:"https://fonts.gstatic.com/s/notoserifsc/v22/H4c8BXePl9DZ0Xe7gG9cyOj7mlK1SzZBEtERe7U.otf",600:"https://fonts.gstatic.com/s/notoserifsc/v22/H4c8BXePl9DZ0Xe7gG9cyOj7mn6ySzZBEtERe7U.otf",700:"https://fonts.gstatic.com/s/notoserifsc/v22/H4c8BXePl9DZ0Xe7gG9cyOj7mhqzSzZBEtERe7U.otf",900:"https://fonts.gstatic.com/s/notoserifsc/v22/H4c8BXePl9DZ0Xe7gG9cyOj7miKxSzZBEtERe7U.otf",regular:"https://fonts.gstatic.com/s/notoserifsc/v22/H4chBXePl9DZ0Xe7gG9cyOj7oqCcbzhqDtg.otf"}},{family:"Noto Serif Sinhala",files:{100:"https://fonts.gstatic.com/s/notoserifsinhala/v26/DtVEJwinQqclnZE2CnsPug9lgGC3y2F2nehQ7Eg4EdBKWxPiDxMivFLgRXs_-pGxRlMsxaLRn3W-.ttf",200:"https://fonts.gstatic.com/s/notoserifsinhala/v26/DtVEJwinQqclnZE2CnsPug9lgGC3y2F2nehQ7Eg4EdBKWxPiDxMivFLgRXs_-pExR1MsxaLRn3W-.ttf",300:"https://fonts.gstatic.com/s/notoserifsinhala/v26/DtVEJwinQqclnZE2CnsPug9lgGC3y2F2nehQ7Eg4EdBKWxPiDxMivFLgRXs_-pHvR1MsxaLRn3W-.ttf",500:"https://fonts.gstatic.com/s/notoserifsinhala/v26/DtVEJwinQqclnZE2CnsPug9lgGC3y2F2nehQ7Eg4EdBKWxPiDxMivFLgRXs_-pGDR1MsxaLRn3W-.ttf",600:"https://fonts.gstatic.com/s/notoserifsinhala/v26/DtVEJwinQqclnZE2CnsPug9lgGC3y2F2nehQ7Eg4EdBKWxPiDxMivFLgRXs_-pFvQFMsxaLRn3W-.ttf",700:"https://fonts.gstatic.com/s/notoserifsinhala/v26/DtVEJwinQqclnZE2CnsPug9lgGC3y2F2nehQ7Eg4EdBKWxPiDxMivFLgRXs_-pFWQFMsxaLRn3W-.ttf",800:"https://fonts.gstatic.com/s/notoserifsinhala/v26/DtVEJwinQqclnZE2CnsPug9lgGC3y2F2nehQ7Eg4EdBKWxPiDxMivFLgRXs_-pExQFMsxaLRn3W-.ttf",900:"https://fonts.gstatic.com/s/notoserifsinhala/v26/DtVEJwinQqclnZE2CnsPug9lgGC3y2F2nehQ7Eg4EdBKWxPiDxMivFLgRXs_-pEYQFMsxaLRn3W-.ttf",regular:"https://fonts.gstatic.com/s/notoserifsinhala/v26/DtVEJwinQqclnZE2CnsPug9lgGC3y2F2nehQ7Eg4EdBKWxPiDxMivFLgRXs_-pGxR1MsxaLRn3W-.ttf"}},{family:"Noto Serif TC",files:{200:"https://fonts.gstatic.com/s/notoseriftc/v23/XLY9IZb5bJNDGYxLBibeHZ0Bvr8vbX9GTsoOAX4.otf",300:"https://fonts.gstatic.com/s/notoseriftc/v23/XLY9IZb5bJNDGYxLBibeHZ0BvtssbX9GTsoOAX4.otf",500:"https://fonts.gstatic.com/s/notoseriftc/v23/XLY9IZb5bJNDGYxLBibeHZ0BvoMtbX9GTsoOAX4.otf",600:"https://fonts.gstatic.com/s/notoseriftc/v23/XLY9IZb5bJNDGYxLBibeHZ0Bvq8qbX9GTsoOAX4.otf",700:"https://fonts.gstatic.com/s/notoseriftc/v23/XLY9IZb5bJNDGYxLBibeHZ0BvssrbX9GTsoOAX4.otf",900:"https://fonts.gstatic.com/s/notoseriftc/v23/XLY9IZb5bJNDGYxLBibeHZ0BvvMpbX9GTsoOAX4.otf",regular:"https://fonts.gstatic.com/s/notoseriftc/v23/XLYgIZb5bJNDGYxLBibeHZ0BhnEESXFtUsM.otf"}},{family:"Noto Serif Tamil",files:{100:"https://fonts.gstatic.com/s/notoseriftamil/v28/LYjndHr-klIgTfc40komjQ5OObazYp-6H94dBF-RX6nNRJfi-Gf55IgAecattN6R8Pz3v8Etew.ttf",200:"https://fonts.gstatic.com/s/notoseriftamil/v28/LYjndHr-klIgTfc40komjQ5OObazYp-6H94dBF-RX6nNRJfi-Gf55IgAecatNN-R8Pz3v8Etew.ttf",300:"https://fonts.gstatic.com/s/notoseriftamil/v28/LYjndHr-klIgTfc40komjQ5OObazYp-6H94dBF-RX6nNRJfi-Gf55IgAecat6t-R8Pz3v8Etew.ttf",500:"https://fonts.gstatic.com/s/notoseriftamil/v28/LYjndHr-klIgTfc40komjQ5OObazYp-6H94dBF-RX6nNRJfi-Gf55IgAecatht-R8Pz3v8Etew.ttf",600:"https://fonts.gstatic.com/s/notoseriftamil/v28/LYjndHr-klIgTfc40komjQ5OObazYp-6H94dBF-RX6nNRJfi-Gf55IgAecatatiR8Pz3v8Etew.ttf",700:"https://fonts.gstatic.com/s/notoseriftamil/v28/LYjndHr-klIgTfc40komjQ5OObazYp-6H94dBF-RX6nNRJfi-Gf55IgAecatU9iR8Pz3v8Etew.ttf",800:"https://fonts.gstatic.com/s/notoseriftamil/v28/LYjndHr-klIgTfc40komjQ5OObazYp-6H94dBF-RX6nNRJfi-Gf55IgAecatNNiR8Pz3v8Etew.ttf",900:"https://fonts.gstatic.com/s/notoseriftamil/v28/LYjndHr-klIgTfc40komjQ5OObazYp-6H94dBF-RX6nNRJfi-Gf55IgAecatHdiR8Pz3v8Etew.ttf",regular:"https://fonts.gstatic.com/s/notoseriftamil/v28/LYjndHr-klIgTfc40komjQ5OObazYp-6H94dBF-RX6nNRJfi-Gf55IgAecattN-R8Pz3v8Etew.ttf","100italic":"https://fonts.gstatic.com/s/notoseriftamil/v28/LYjldHr-klIgTfc40komjQ5OObazSJaI_D5kV8k_WLwFBmWrypghjeOa18G4fJx5svbzncQ9e3wx.ttf","200italic":"https://fonts.gstatic.com/s/notoseriftamil/v28/LYjldHr-klIgTfc40komjQ5OObazSJaI_D5kV8k_WLwFBmWrypghjeOa18G4fJz5s_bzncQ9e3wx.ttf","300italic":"https://fonts.gstatic.com/s/notoseriftamil/v28/LYjldHr-klIgTfc40komjQ5OObazSJaI_D5kV8k_WLwFBmWrypghjeOa18G4fJwns_bzncQ9e3wx.ttf",italic:"https://fonts.gstatic.com/s/notoseriftamil/v28/LYjldHr-klIgTfc40komjQ5OObazSJaI_D5kV8k_WLwFBmWrypghjeOa18G4fJx5s_bzncQ9e3wx.ttf","500italic":"https://fonts.gstatic.com/s/notoseriftamil/v28/LYjldHr-klIgTfc40komjQ5OObazSJaI_D5kV8k_WLwFBmWrypghjeOa18G4fJxLs_bzncQ9e3wx.ttf","600italic":"https://fonts.gstatic.com/s/notoseriftamil/v28/LYjldHr-klIgTfc40komjQ5OObazSJaI_D5kV8k_WLwFBmWrypghjeOa18G4fJyntPbzncQ9e3wx.ttf","700italic":"https://fonts.gstatic.com/s/notoseriftamil/v28/LYjldHr-klIgTfc40komjQ5OObazSJaI_D5kV8k_WLwFBmWrypghjeOa18G4fJyetPbzncQ9e3wx.ttf","800italic":"https://fonts.gstatic.com/s/notoseriftamil/v28/LYjldHr-klIgTfc40komjQ5OObazSJaI_D5kV8k_WLwFBmWrypghjeOa18G4fJz5tPbzncQ9e3wx.ttf","900italic":"https://fonts.gstatic.com/s/notoseriftamil/v28/LYjldHr-klIgTfc40komjQ5OObazSJaI_D5kV8k_WLwFBmWrypghjeOa18G4fJzQtPbzncQ9e3wx.ttf"}},{family:"Noto Serif Tangut",files:{regular:"https://fonts.gstatic.com/s/notoseriftangut/v16/xn76YGc72GKoTvER4Gn3b4m9Ern7Em41fcvN2KT4.ttf"}},{family:"Noto Serif Telugu",files:{100:"https://fonts.gstatic.com/s/notoseriftelugu/v25/tDbl2pCbnkEKmXNVmt2M1q6f4HWbbj6MRbYEeav7Fe9D9TGwuY2fjgrZYA.ttf",200:"https://fonts.gstatic.com/s/notoseriftelugu/v25/tDbl2pCbnkEKmXNVmt2M1q6f4HWbbj6MRbYEeav7Fe9DdTCwuY2fjgrZYA.ttf",300:"https://fonts.gstatic.com/s/notoseriftelugu/v25/tDbl2pCbnkEKmXNVmt2M1q6f4HWbbj6MRbYEeav7Fe9DqzCwuY2fjgrZYA.ttf",500:"https://fonts.gstatic.com/s/notoseriftelugu/v25/tDbl2pCbnkEKmXNVmt2M1q6f4HWbbj6MRbYEeav7Fe9DxzCwuY2fjgrZYA.ttf",600:"https://fonts.gstatic.com/s/notoseriftelugu/v25/tDbl2pCbnkEKmXNVmt2M1q6f4HWbbj6MRbYEeav7Fe9DKzewuY2fjgrZYA.ttf",700:"https://fonts.gstatic.com/s/notoseriftelugu/v25/tDbl2pCbnkEKmXNVmt2M1q6f4HWbbj6MRbYEeav7Fe9DEjewuY2fjgrZYA.ttf",800:"https://fonts.gstatic.com/s/notoseriftelugu/v25/tDbl2pCbnkEKmXNVmt2M1q6f4HWbbj6MRbYEeav7Fe9DdTewuY2fjgrZYA.ttf",900:"https://fonts.gstatic.com/s/notoseriftelugu/v25/tDbl2pCbnkEKmXNVmt2M1q6f4HWbbj6MRbYEeav7Fe9DXDewuY2fjgrZYA.ttf",regular:"https://fonts.gstatic.com/s/notoseriftelugu/v25/tDbl2pCbnkEKmXNVmt2M1q6f4HWbbj6MRbYEeav7Fe9D9TCwuY2fjgrZYA.ttf"}},{family:"Noto Serif Thai",files:{100:"https://fonts.gstatic.com/s/notoserifthai/v19/k3kyo80MPvpLmixYH7euCxWpSMu3-gcWGj0hHAKGvUQlUv_bCKDUSzB5L0oiFuRRCmsdu0Qx.ttf",200:"https://fonts.gstatic.com/s/notoserifthai/v19/k3kyo80MPvpLmixYH7euCxWpSMu3-gcWGj0hHAKGvUQlUv_bCKDUSzB5L0qiF-RRCmsdu0Qx.ttf",300:"https://fonts.gstatic.com/s/notoserifthai/v19/k3kyo80MPvpLmixYH7euCxWpSMu3-gcWGj0hHAKGvUQlUv_bCKDUSzB5L0p8F-RRCmsdu0Qx.ttf",500:"https://fonts.gstatic.com/s/notoserifthai/v19/k3kyo80MPvpLmixYH7euCxWpSMu3-gcWGj0hHAKGvUQlUv_bCKDUSzB5L0oQF-RRCmsdu0Qx.ttf",600:"https://fonts.gstatic.com/s/notoserifthai/v19/k3kyo80MPvpLmixYH7euCxWpSMu3-gcWGj0hHAKGvUQlUv_bCKDUSzB5L0r8EORRCmsdu0Qx.ttf",700:"https://fonts.gstatic.com/s/notoserifthai/v19/k3kyo80MPvpLmixYH7euCxWpSMu3-gcWGj0hHAKGvUQlUv_bCKDUSzB5L0rFEORRCmsdu0Qx.ttf",800:"https://fonts.gstatic.com/s/notoserifthai/v19/k3kyo80MPvpLmixYH7euCxWpSMu3-gcWGj0hHAKGvUQlUv_bCKDUSzB5L0qiEORRCmsdu0Qx.ttf",900:"https://fonts.gstatic.com/s/notoserifthai/v19/k3kyo80MPvpLmixYH7euCxWpSMu3-gcWGj0hHAKGvUQlUv_bCKDUSzB5L0qLEORRCmsdu0Qx.ttf",regular:"https://fonts.gstatic.com/s/notoserifthai/v19/k3kyo80MPvpLmixYH7euCxWpSMu3-gcWGj0hHAKGvUQlUv_bCKDUSzB5L0oiF-RRCmsdu0Qx.ttf"}},{family:"Noto Serif Tibetan",files:{100:"https://fonts.gstatic.com/s/notoseriftibetan/v22/gokGH7nwAEdtF9N45n0Vaz7O-pk0wsvxHeDXMfqguoCmIrYdPS7rdSy_32c.ttf",200:"https://fonts.gstatic.com/s/notoseriftibetan/v22/gokGH7nwAEdtF9N45n0Vaz7O-pk0wsvxHeDXMfqguoCmIjYcPS7rdSy_32c.ttf",300:"https://fonts.gstatic.com/s/notoseriftibetan/v22/gokGH7nwAEdtF9N45n0Vaz7O-pk0wsvxHeDXMfqguoCmIugcPS7rdSy_32c.ttf",500:"https://fonts.gstatic.com/s/notoseriftibetan/v22/gokGH7nwAEdtF9N45n0Vaz7O-pk0wsvxHeDXMfqguoCmIoQcPS7rdSy_32c.ttf",600:"https://fonts.gstatic.com/s/notoseriftibetan/v22/gokGH7nwAEdtF9N45n0Vaz7O-pk0wsvxHeDXMfqguoCmImgbPS7rdSy_32c.ttf",700:"https://fonts.gstatic.com/s/notoseriftibetan/v22/gokGH7nwAEdtF9N45n0Vaz7O-pk0wsvxHeDXMfqguoCmIlEbPS7rdSy_32c.ttf",800:"https://fonts.gstatic.com/s/notoseriftibetan/v22/gokGH7nwAEdtF9N45n0Vaz7O-pk0wsvxHeDXMfqguoCmIjYbPS7rdSy_32c.ttf",900:"https://fonts.gstatic.com/s/notoseriftibetan/v22/gokGH7nwAEdtF9N45n0Vaz7O-pk0wsvxHeDXMfqguoCmIh8bPS7rdSy_32c.ttf",regular:"https://fonts.gstatic.com/s/notoseriftibetan/v22/gokGH7nwAEdtF9N45n0Vaz7O-pk0wsvxHeDXMfqguoCmIrYcPS7rdSy_32c.ttf"}},{family:"Noto Serif Toto",files:{500:"https://fonts.gstatic.com/s/notoseriftoto/v4/Ktk6ALSMeZjqPnXk1rCkHYHNtwvtHItpjRP74dHhCx_Il-aj55vdNug.ttf",600:"https://fonts.gstatic.com/s/notoseriftoto/v4/Ktk6ALSMeZjqPnXk1rCkHYHNtwvtHItpjRP74dHhC_PPl-aj55vdNug.ttf",700:"https://fonts.gstatic.com/s/notoseriftoto/v4/Ktk6ALSMeZjqPnXk1rCkHYHNtwvtHItpjRP74dHhC8rPl-aj55vdNug.ttf",regular:"https://fonts.gstatic.com/s/notoseriftoto/v4/Ktk6ALSMeZjqPnXk1rCkHYHNtwvtHItpjRP74dHhCy3Il-aj55vdNug.ttf"}},{family:"Noto Serif Yezidi",files:{500:"https://fonts.gstatic.com/s/notoserifyezidi/v16/XLYPIYr5bJNDGYxLBibeHZAn3B5KJENnQjbfhMSVZspD6SEkrlGJgmVCqg.ttf",600:"https://fonts.gstatic.com/s/notoserifyezidi/v16/XLYPIYr5bJNDGYxLBibeHZAn3B5KJENnQjbfhMSVZspDBSYkrlGJgmVCqg.ttf",700:"https://fonts.gstatic.com/s/notoserifyezidi/v16/XLYPIYr5bJNDGYxLBibeHZAn3B5KJENnQjbfhMSVZspDPCYkrlGJgmVCqg.ttf",regular:"https://fonts.gstatic.com/s/notoserifyezidi/v16/XLYPIYr5bJNDGYxLBibeHZAn3B5KJENnQjbfhMSVZspD2yEkrlGJgmVCqg.ttf"}},{family:"Noto Traditional Nushu",files:{300:"https://fonts.gstatic.com/s/nototraditionalnushu/v17/SZcV3EDkJ7q9FaoMPlmF4Su8hlIjoGh5aj67PUZX6ADm6oa8IXvy1tnPa7QoqirI.ttf",500:"https://fonts.gstatic.com/s/nototraditionalnushu/v17/SZcV3EDkJ7q9FaoMPlmF4Su8hlIjoGh5aj67PUZX6ADm6oa8IXue1tnPa7QoqirI.ttf",600:"https://fonts.gstatic.com/s/nototraditionalnushu/v17/SZcV3EDkJ7q9FaoMPlmF4Su8hlIjoGh5aj67PUZX6ADm6oa8IXty0dnPa7QoqirI.ttf",700:"https://fonts.gstatic.com/s/nototraditionalnushu/v17/SZcV3EDkJ7q9FaoMPlmF4Su8hlIjoGh5aj67PUZX6ADm6oa8IXtL0dnPa7QoqirI.ttf",regular:"https://fonts.gstatic.com/s/nototraditionalnushu/v17/SZcV3EDkJ7q9FaoMPlmF4Su8hlIjoGh5aj67PUZX6ADm6oa8IXus1tnPa7QoqirI.ttf"}},{family:"Nova Cut",files:{regular:"https://fonts.gstatic.com/s/novacut/v24/KFOkCnSYu8mL-39LkWxPKTM1K9nz.ttf"}},{family:"Nova Flat",files:{regular:"https://fonts.gstatic.com/s/novaflat/v24/QdVUSTc-JgqpytEbVebEuStkm20oJA.ttf"}},{family:"Nova Mono",files:{regular:"https://fonts.gstatic.com/s/novamono/v18/Cn-0JtiGWQ5Ajb--MRKfYGxYrdM9Sg.ttf"}},{family:"Nova Oval",files:{regular:"https://fonts.gstatic.com/s/novaoval/v24/jAnEgHdmANHvPenMaswCMY-h3cWkWg.ttf"}},{family:"Nova Round",files:{regular:"https://fonts.gstatic.com/s/novaround/v21/flU9Rqquw5UhEnlwTJYTYYfeeetYEBc.ttf"}},{family:"Nova Script",files:{regular:"https://fonts.gstatic.com/s/novascript/v25/7Au7p_IpkSWSTWaFWkumvmQNEl0O0kEx.ttf"}},{family:"Nova Slim",files:{regular:"https://fonts.gstatic.com/s/novaslim/v24/Z9XUDmZNQAuem8jyZcn-yMOInrib9Q.ttf"}},{family:"Nova Square",files:{regular:"https://fonts.gstatic.com/s/novasquare/v20/RrQUbo9-9DV7b06QHgSWsZhARYMgGtWA.ttf"}},{family:"Numans",files:{regular:"https://fonts.gstatic.com/s/numans/v15/SlGRmQmGupYAfH8IYRggiHVqaQ.ttf"}},{family:"Nunito",files:{200:"https://fonts.gstatic.com/s/nunito/v25/XRXI3I6Li01BKofiOc5wtlZ2di8HDDshRTM9jo7eTWk.ttf",300:"https://fonts.gstatic.com/s/nunito/v25/XRXI3I6Li01BKofiOc5wtlZ2di8HDOUhRTM9jo7eTWk.ttf",500:"https://fonts.gstatic.com/s/nunito/v25/XRXI3I6Li01BKofiOc5wtlZ2di8HDIkhRTM9jo7eTWk.ttf",600:"https://fonts.gstatic.com/s/nunito/v25/XRXI3I6Li01BKofiOc5wtlZ2di8HDGUmRTM9jo7eTWk.ttf",700:"https://fonts.gstatic.com/s/nunito/v25/XRXI3I6Li01BKofiOc5wtlZ2di8HDFwmRTM9jo7eTWk.ttf",800:"https://fonts.gstatic.com/s/nunito/v25/XRXI3I6Li01BKofiOc5wtlZ2di8HDDsmRTM9jo7eTWk.ttf",900:"https://fonts.gstatic.com/s/nunito/v25/XRXI3I6Li01BKofiOc5wtlZ2di8HDBImRTM9jo7eTWk.ttf",regular:"https://fonts.gstatic.com/s/nunito/v25/XRXI3I6Li01BKofiOc5wtlZ2di8HDLshRTM9jo7eTWk.ttf","200italic":"https://fonts.gstatic.com/s/nunito/v25/XRXK3I6Li01BKofIMPyPbj8d7IEAGXNiLXA3iqzbXWnoeg.ttf","300italic":"https://fonts.gstatic.com/s/nunito/v25/XRXK3I6Li01BKofIMPyPbj8d7IEAGXNi83A3iqzbXWnoeg.ttf",italic:"https://fonts.gstatic.com/s/nunito/v25/XRXK3I6Li01BKofIMPyPbj8d7IEAGXNirXA3iqzbXWnoeg.ttf","500italic":"https://fonts.gstatic.com/s/nunito/v25/XRXK3I6Li01BKofIMPyPbj8d7IEAGXNin3A3iqzbXWnoeg.ttf","600italic":"https://fonts.gstatic.com/s/nunito/v25/XRXK3I6Li01BKofIMPyPbj8d7IEAGXNic3c3iqzbXWnoeg.ttf","700italic":"https://fonts.gstatic.com/s/nunito/v25/XRXK3I6Li01BKofIMPyPbj8d7IEAGXNiSnc3iqzbXWnoeg.ttf","800italic":"https://fonts.gstatic.com/s/nunito/v25/XRXK3I6Li01BKofIMPyPbj8d7IEAGXNiLXc3iqzbXWnoeg.ttf","900italic":"https://fonts.gstatic.com/s/nunito/v25/XRXK3I6Li01BKofIMPyPbj8d7IEAGXNiBHc3iqzbXWnoeg.ttf"}},{family:"Nunito Sans",files:{200:"https://fonts.gstatic.com/s/nunitosans/v15/pe1mMImSLYBIv1o4X1M8ce2xCx3yop4tQpF_MeTm0lfGWVpNn64CL7U8upHZIbMV51Q42ptCp5F5bxqqtQ1yiU4GVilntF8kA_Ykqw.ttf",300:"https://fonts.gstatic.com/s/nunitosans/v15/pe1mMImSLYBIv1o4X1M8ce2xCx3yop4tQpF_MeTm0lfGWVpNn64CL7U8upHZIbMV51Q42ptCp5F5bxqqtQ1yiU4GiClntF8kA_Ykqw.ttf",500:"https://fonts.gstatic.com/s/nunitosans/v15/pe1mMImSLYBIv1o4X1M8ce2xCx3yop4tQpF_MeTm0lfGWVpNn64CL7U8upHZIbMV51Q42ptCp5F5bxqqtQ1yiU4G5ClntF8kA_Ykqw.ttf",600:"https://fonts.gstatic.com/s/nunitosans/v15/pe1mMImSLYBIv1o4X1M8ce2xCx3yop4tQpF_MeTm0lfGWVpNn64CL7U8upHZIbMV51Q42ptCp5F5bxqqtQ1yiU4GCC5ntF8kA_Ykqw.ttf",700:"https://fonts.gstatic.com/s/nunitosans/v15/pe1mMImSLYBIv1o4X1M8ce2xCx3yop4tQpF_MeTm0lfGWVpNn64CL7U8upHZIbMV51Q42ptCp5F5bxqqtQ1yiU4GMS5ntF8kA_Ykqw.ttf",800:"https://fonts.gstatic.com/s/nunitosans/v15/pe1mMImSLYBIv1o4X1M8ce2xCx3yop4tQpF_MeTm0lfGWVpNn64CL7U8upHZIbMV51Q42ptCp5F5bxqqtQ1yiU4GVi5ntF8kA_Ykqw.ttf",900:"https://fonts.gstatic.com/s/nunitosans/v15/pe1mMImSLYBIv1o4X1M8ce2xCx3yop4tQpF_MeTm0lfGWVpNn64CL7U8upHZIbMV51Q42ptCp5F5bxqqtQ1yiU4Gfy5ntF8kA_Ykqw.ttf",regular:"https://fonts.gstatic.com/s/nunitosans/v15/pe1mMImSLYBIv1o4X1M8ce2xCx3yop4tQpF_MeTm0lfGWVpNn64CL7U8upHZIbMV51Q42ptCp5F5bxqqtQ1yiU4G1ilntF8kA_Ykqw.ttf","200italic":"https://fonts.gstatic.com/s/nunitosans/v15/pe1kMImSLYBIv1o4X1M8cce4OdVisMz5nZRqy6cmmmU3t2FQWEAEOvV9wNvrwlNstMKW3Y6K5WMwXeVy3GboJ0kTHmoP91UgIfM0qxVd.ttf","300italic":"https://fonts.gstatic.com/s/nunitosans/v15/pe1kMImSLYBIv1o4X1M8cce4OdVisMz5nZRqy6cmmmU3t2FQWEAEOvV9wNvrwlNstMKW3Y6K5WMwXeVy3GboJ0kTHmrR91UgIfM0qxVd.ttf",italic:"https://fonts.gstatic.com/s/nunitosans/v15/pe1kMImSLYBIv1o4X1M8cce4OdVisMz5nZRqy6cmmmU3t2FQWEAEOvV9wNvrwlNstMKW3Y6K5WMwXeVy3GboJ0kTHmqP91UgIfM0qxVd.ttf","500italic":"https://fonts.gstatic.com/s/nunitosans/v15/pe1kMImSLYBIv1o4X1M8cce4OdVisMz5nZRqy6cmmmU3t2FQWEAEOvV9wNvrwlNstMKW3Y6K5WMwXeVy3GboJ0kTHmq991UgIfM0qxVd.ttf","600italic":"https://fonts.gstatic.com/s/nunitosans/v15/pe1kMImSLYBIv1o4X1M8cce4OdVisMz5nZRqy6cmmmU3t2FQWEAEOvV9wNvrwlNstMKW3Y6K5WMwXeVy3GboJ0kTHmpR8FUgIfM0qxVd.ttf","700italic":"https://fonts.gstatic.com/s/nunitosans/v15/pe1kMImSLYBIv1o4X1M8cce4OdVisMz5nZRqy6cmmmU3t2FQWEAEOvV9wNvrwlNstMKW3Y6K5WMwXeVy3GboJ0kTHmpo8FUgIfM0qxVd.ttf","800italic":"https://fonts.gstatic.com/s/nunitosans/v15/pe1kMImSLYBIv1o4X1M8cce4OdVisMz5nZRqy6cmmmU3t2FQWEAEOvV9wNvrwlNstMKW3Y6K5WMwXeVy3GboJ0kTHmoP8FUgIfM0qxVd.ttf","900italic":"https://fonts.gstatic.com/s/nunitosans/v15/pe1kMImSLYBIv1o4X1M8cce4OdVisMz5nZRqy6cmmmU3t2FQWEAEOvV9wNvrwlNstMKW3Y6K5WMwXeVy3GboJ0kTHmom8FUgIfM0qxVd.ttf"}},{family:"Nuosu SIL",files:{regular:"https://fonts.gstatic.com/s/nuosusil/v5/8vIK7wM3wmRn_kc4uAjeFGxbO_zo-w.ttf"}},{family:"Odibee Sans",files:{regular:"https://fonts.gstatic.com/s/odibeesans/v14/neIPzCSooYAho6WvjeToRYkyepH9qGsf.ttf"}},{family:"Odor Mean Chey",files:{regular:"https://fonts.gstatic.com/s/odormeanchey/v27/raxkHiKDttkTe1aOGcJMR1A_4mrY2zqUKafv.ttf"}},{family:"Offside",files:{regular:"https://fonts.gstatic.com/s/offside/v22/HI_KiYMWKa9QrAykQ5HiRp-dhpQ.ttf"}},{family:"Oi",files:{regular:"https://fonts.gstatic.com/s/oi/v16/w8gXH2EuRqtaut6yjBOG.ttf"}},{family:"Old Standard TT",files:{700:"https://fonts.gstatic.com/s/oldstandardtt/v18/MwQrbh3o1vLImiwAVvYawgcf2eVWEX-dTFxeb80flQ.ttf",regular:"https://fonts.gstatic.com/s/oldstandardtt/v18/MwQubh3o1vLImiwAVvYawgcf2eVurVC5RHdCZg.ttf",italic:"https://fonts.gstatic.com/s/oldstandardtt/v18/MwQsbh3o1vLImiwAVvYawgcf2eVer1q9ZnJSZtQG.ttf"}},{family:"Oldenburg",files:{regular:"https://fonts.gstatic.com/s/oldenburg/v20/fC1jPY5JYWzbywv7c4V6UU6oXyndrw.ttf"}},{family:"Ole",files:{regular:"https://fonts.gstatic.com/s/ole/v3/dFazZf6Z-rd89fw69qJ_ew.ttf"}},{family:"Oleo Script",files:{700:"https://fonts.gstatic.com/s/oleoscript/v14/raxkHieDvtMOe0iICsUccCDmnmrY2zqUKafv.ttf",regular:"https://fonts.gstatic.com/s/oleoscript/v14/rax5HieDvtMOe0iICsUccBhasU7Q8Cad.ttf"}},{family:"Oleo Script Swash Caps",files:{700:"https://fonts.gstatic.com/s/oleoscriptswashcaps/v13/Noag6Vb-w5SFbTTAsZP_7JkCS08K-jCzDn_HCcaBbYUsn9T5dt0.ttf",regular:"https://fonts.gstatic.com/s/oleoscriptswashcaps/v13/Noaj6Vb-w5SFbTTAsZP_7JkCS08K-jCzDn_HMXquSY0Hg90.ttf"}},{family:"Oooh Baby",files:{regular:"https://fonts.gstatic.com/s/ooohbaby/v4/2sDcZGJWgJTT2Jf76xQDb2-4C7wFZQ.ttf"}},{family:"Open Sans",files:{300:"https://fonts.gstatic.com/s/opensans/v35/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsiH0C4nY1M2xLER.ttf",500:"https://fonts.gstatic.com/s/opensans/v35/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjr0C4nY1M2xLER.ttf",600:"https://fonts.gstatic.com/s/opensans/v35/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsgH1y4nY1M2xLER.ttf",700:"https://fonts.gstatic.com/s/opensans/v35/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsg-1y4nY1M2xLER.ttf",800:"https://fonts.gstatic.com/s/opensans/v35/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgshZ1y4nY1M2xLER.ttf",regular:"https://fonts.gstatic.com/s/opensans/v35/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0C4nY1M2xLER.ttf","300italic":"https://fonts.gstatic.com/s/opensans/v35/memQYaGs126MiZpBA-UFUIcVXSCEkx2cmqvXlWq8tWZ0Pw86hd0Rk5hkaVcUwaERZjA.ttf",italic:"https://fonts.gstatic.com/s/opensans/v35/memQYaGs126MiZpBA-UFUIcVXSCEkx2cmqvXlWq8tWZ0Pw86hd0Rk8ZkaVcUwaERZjA.ttf","500italic":"https://fonts.gstatic.com/s/opensans/v35/memQYaGs126MiZpBA-UFUIcVXSCEkx2cmqvXlWq8tWZ0Pw86hd0Rk_RkaVcUwaERZjA.ttf","600italic":"https://fonts.gstatic.com/s/opensans/v35/memQYaGs126MiZpBA-UFUIcVXSCEkx2cmqvXlWq8tWZ0Pw86hd0RkxhjaVcUwaERZjA.ttf","700italic":"https://fonts.gstatic.com/s/opensans/v35/memQYaGs126MiZpBA-UFUIcVXSCEkx2cmqvXlWq8tWZ0Pw86hd0RkyFjaVcUwaERZjA.ttf","800italic":"https://fonts.gstatic.com/s/opensans/v35/memQYaGs126MiZpBA-UFUIcVXSCEkx2cmqvXlWq8tWZ0Pw86hd0Rk0ZjaVcUwaERZjA.ttf"}},{family:"Oranienbaum",files:{regular:"https://fonts.gstatic.com/s/oranienbaum/v15/OZpHg_txtzZKMuXLIVrx-3zn7kz3dpHc.ttf"}},{family:"Orbitron",files:{500:"https://fonts.gstatic.com/s/orbitron/v29/yMJMMIlzdpvBhQQL_SC3X9yhF25-T1nyKS6xpmIyXjU1pg.ttf",600:"https://fonts.gstatic.com/s/orbitron/v29/yMJMMIlzdpvBhQQL_SC3X9yhF25-T1nyxSmxpmIyXjU1pg.ttf",700:"https://fonts.gstatic.com/s/orbitron/v29/yMJMMIlzdpvBhQQL_SC3X9yhF25-T1ny_CmxpmIyXjU1pg.ttf",800:"https://fonts.gstatic.com/s/orbitron/v29/yMJMMIlzdpvBhQQL_SC3X9yhF25-T1nymymxpmIyXjU1pg.ttf",900:"https://fonts.gstatic.com/s/orbitron/v29/yMJMMIlzdpvBhQQL_SC3X9yhF25-T1nysimxpmIyXjU1pg.ttf",regular:"https://fonts.gstatic.com/s/orbitron/v29/yMJMMIlzdpvBhQQL_SC3X9yhF25-T1nyGy6xpmIyXjU1pg.ttf"}},{family:"Oregano",files:{regular:"https://fonts.gstatic.com/s/oregano/v13/If2IXTPxciS3H4S2kZffPznO3yM.ttf",italic:"https://fonts.gstatic.com/s/oregano/v13/If2KXTPxciS3H4S2oZXVOxvLzyP_qw.ttf"}},{family:"Orelega One",files:{regular:"https://fonts.gstatic.com/s/orelegaone/v10/3qTpojOggD2XtAdFb-QXZGt61EcYaQ7F.ttf"}},{family:"Orienta",files:{regular:"https://fonts.gstatic.com/s/orienta/v15/PlI9FlK4Jrl5Y9zNeyeo9HRFhcU.ttf"}},{family:"Original Surfer",files:{regular:"https://fonts.gstatic.com/s/originalsurfer/v18/RWmQoKGZ9vIirYntXJ3_MbekzNMiDEtvAlaMKw.ttf"}},{family:"Oswald",files:{200:"https://fonts.gstatic.com/s/oswald/v49/TK3_WkUHHAIjg75cFRf3bXL8LICs13FvgUFoZAaRliE.ttf",300:"https://fonts.gstatic.com/s/oswald/v49/TK3_WkUHHAIjg75cFRf3bXL8LICs169vgUFoZAaRliE.ttf",500:"https://fonts.gstatic.com/s/oswald/v49/TK3_WkUHHAIjg75cFRf3bXL8LICs18NvgUFoZAaRliE.ttf",600:"https://fonts.gstatic.com/s/oswald/v49/TK3_WkUHHAIjg75cFRf3bXL8LICs1y9ogUFoZAaRliE.ttf",700:"https://fonts.gstatic.com/s/oswald/v49/TK3_WkUHHAIjg75cFRf3bXL8LICs1xZogUFoZAaRliE.ttf",regular:"https://fonts.gstatic.com/s/oswald/v49/TK3_WkUHHAIjg75cFRf3bXL8LICs1_FvgUFoZAaRliE.ttf"}},{family:"Outfit",files:{100:"https://fonts.gstatic.com/s/outfit/v11/QGYyz_MVcBeNP4NjuGObqx1XmO1I4TC0C4G-EiAou6Y.ttf",200:"https://fonts.gstatic.com/s/outfit/v11/QGYyz_MVcBeNP4NjuGObqx1XmO1I4bC1C4G-EiAou6Y.ttf",300:"https://fonts.gstatic.com/s/outfit/v11/QGYyz_MVcBeNP4NjuGObqx1XmO1I4W61C4G-EiAou6Y.ttf",500:"https://fonts.gstatic.com/s/outfit/v11/QGYyz_MVcBeNP4NjuGObqx1XmO1I4QK1C4G-EiAou6Y.ttf",600:"https://fonts.gstatic.com/s/outfit/v11/QGYyz_MVcBeNP4NjuGObqx1XmO1I4e6yC4G-EiAou6Y.ttf",700:"https://fonts.gstatic.com/s/outfit/v11/QGYyz_MVcBeNP4NjuGObqx1XmO1I4deyC4G-EiAou6Y.ttf",800:"https://fonts.gstatic.com/s/outfit/v11/QGYyz_MVcBeNP4NjuGObqx1XmO1I4bCyC4G-EiAou6Y.ttf",900:"https://fonts.gstatic.com/s/outfit/v11/QGYyz_MVcBeNP4NjuGObqx1XmO1I4ZmyC4G-EiAou6Y.ttf",regular:"https://fonts.gstatic.com/s/outfit/v11/QGYyz_MVcBeNP4NjuGObqx1XmO1I4TC1C4G-EiAou6Y.ttf"}},{family:"Over the Rainbow",files:{regular:"https://fonts.gstatic.com/s/overtherainbow/v16/11haGoXG1k_HKhMLUWz7Mc7vvW5upvOm9NA2XG0.ttf"}},{family:"Overlock",files:{700:"https://fonts.gstatic.com/s/overlock/v15/Z9XSDmdMWRiN1_T9Z7xizcmMvL2L9TLT.ttf",900:"https://fonts.gstatic.com/s/overlock/v15/Z9XSDmdMWRiN1_T9Z7xaz8mMvL2L9TLT.ttf",regular:"https://fonts.gstatic.com/s/overlock/v15/Z9XVDmdMWRiN1_T9Z4Te4u2El6GC.ttf",italic:"https://fonts.gstatic.com/s/overlock/v15/Z9XTDmdMWRiN1_T9Z7Tc6OmmkrGC7Cs.ttf","700italic":"https://fonts.gstatic.com/s/overlock/v15/Z9XQDmdMWRiN1_T9Z7Tc0FWJtrmp8CLTlNs.ttf","900italic":"https://fonts.gstatic.com/s/overlock/v15/Z9XQDmdMWRiN1_T9Z7Tc0G2Ltrmp8CLTlNs.ttf"}},{family:"Overlock SC",files:{regular:"https://fonts.gstatic.com/s/overlocksc/v21/1cX3aUHKGZrstGAY8nwVzHGAq8Sk1PoH.ttf"}},{family:"Overpass",files:{100:"https://fonts.gstatic.com/s/overpass/v12/qFda35WCmI96Ajtm83upeyoaX6QPnlo6_PLrOZCLtce-og.ttf",200:"https://fonts.gstatic.com/s/overpass/v12/qFda35WCmI96Ajtm83upeyoaX6QPnlo6fPPrOZCLtce-og.ttf",300:"https://fonts.gstatic.com/s/overpass/v12/qFda35WCmI96Ajtm83upeyoaX6QPnlo6ovPrOZCLtce-og.ttf",500:"https://fonts.gstatic.com/s/overpass/v12/qFda35WCmI96Ajtm83upeyoaX6QPnlo6zvPrOZCLtce-og.ttf",600:"https://fonts.gstatic.com/s/overpass/v12/qFda35WCmI96Ajtm83upeyoaX6QPnlo6IvTrOZCLtce-og.ttf",700:"https://fonts.gstatic.com/s/overpass/v12/qFda35WCmI96Ajtm83upeyoaX6QPnlo6G_TrOZCLtce-og.ttf",800:"https://fonts.gstatic.com/s/overpass/v12/qFda35WCmI96Ajtm83upeyoaX6QPnlo6fPTrOZCLtce-og.ttf",900:"https://fonts.gstatic.com/s/overpass/v12/qFda35WCmI96Ajtm83upeyoaX6QPnlo6VfTrOZCLtce-og.ttf",regular:"https://fonts.gstatic.com/s/overpass/v12/qFda35WCmI96Ajtm83upeyoaX6QPnlo6_PPrOZCLtce-og.ttf","100italic":"https://fonts.gstatic.com/s/overpass/v12/qFdU35WCmI96Ajtm81GgSdXCNs-VMF0vNLADe5qPl8Kuosgz.ttf","200italic":"https://fonts.gstatic.com/s/overpass/v12/qFdU35WCmI96Ajtm81GgSdXCNs-VMF0vNLCDepqPl8Kuosgz.ttf","300italic":"https://fonts.gstatic.com/s/overpass/v12/qFdU35WCmI96Ajtm81GgSdXCNs-VMF0vNLBdepqPl8Kuosgz.ttf",italic:"https://fonts.gstatic.com/s/overpass/v12/qFdU35WCmI96Ajtm81GgSdXCNs-VMF0vNLADepqPl8Kuosgz.ttf","500italic":"https://fonts.gstatic.com/s/overpass/v12/qFdU35WCmI96Ajtm81GgSdXCNs-VMF0vNLAxepqPl8Kuosgz.ttf","600italic":"https://fonts.gstatic.com/s/overpass/v12/qFdU35WCmI96Ajtm81GgSdXCNs-VMF0vNLDdfZqPl8Kuosgz.ttf","700italic":"https://fonts.gstatic.com/s/overpass/v12/qFdU35WCmI96Ajtm81GgSdXCNs-VMF0vNLDkfZqPl8Kuosgz.ttf","800italic":"https://fonts.gstatic.com/s/overpass/v12/qFdU35WCmI96Ajtm81GgSdXCNs-VMF0vNLCDfZqPl8Kuosgz.ttf","900italic":"https://fonts.gstatic.com/s/overpass/v12/qFdU35WCmI96Ajtm81GgSdXCNs-VMF0vNLCqfZqPl8Kuosgz.ttf"}},{family:"Overpass Mono",files:{300:"https://fonts.gstatic.com/s/overpassmono/v15/_Xm5-H86tzKDdAPa-KPQZ-AC_COcRycquHlL6EWKokzzXur-SmIr.ttf",500:"https://fonts.gstatic.com/s/overpassmono/v15/_Xm5-H86tzKDdAPa-KPQZ-AC_COcRycquHlL6EXmokzzXur-SmIr.ttf",600:"https://fonts.gstatic.com/s/overpassmono/v15/_Xm5-H86tzKDdAPa-KPQZ-AC_COcRycquHlL6EUKpUzzXur-SmIr.ttf",700:"https://fonts.gstatic.com/s/overpassmono/v15/_Xm5-H86tzKDdAPa-KPQZ-AC_COcRycquHlL6EUzpUzzXur-SmIr.ttf",regular:"https://fonts.gstatic.com/s/overpassmono/v15/_Xm5-H86tzKDdAPa-KPQZ-AC_COcRycquHlL6EXUokzzXur-SmIr.ttf"}},{family:"Ovo",files:{regular:"https://fonts.gstatic.com/s/ovo/v17/yYLl0h7Wyfzjy4Q5_3WVxA.ttf"}},{family:"Oxanium",files:{200:"https://fonts.gstatic.com/s/oxanium/v14/RrQPboN_4yJ0JmiMUW7sIGjd1IA9G83JfniMBXQ7d67x.ttf",300:"https://fonts.gstatic.com/s/oxanium/v14/RrQPboN_4yJ0JmiMUW7sIGjd1IA9G80XfniMBXQ7d67x.ttf",500:"https://fonts.gstatic.com/s/oxanium/v14/RrQPboN_4yJ0JmiMUW7sIGjd1IA9G817fniMBXQ7d67x.ttf",600:"https://fonts.gstatic.com/s/oxanium/v14/RrQPboN_4yJ0JmiMUW7sIGjd1IA9G82XeXiMBXQ7d67x.ttf",700:"https://fonts.gstatic.com/s/oxanium/v14/RrQPboN_4yJ0JmiMUW7sIGjd1IA9G82ueXiMBXQ7d67x.ttf",800:"https://fonts.gstatic.com/s/oxanium/v14/RrQPboN_4yJ0JmiMUW7sIGjd1IA9G83JeXiMBXQ7d67x.ttf",regular:"https://fonts.gstatic.com/s/oxanium/v14/RrQPboN_4yJ0JmiMUW7sIGjd1IA9G81JfniMBXQ7d67x.ttf"}},{family:"Oxygen",files:{300:"https://fonts.gstatic.com/s/oxygen/v15/2sDcZG1Wl4LcnbuCJW8Db2-4C7wFZQ.ttf",700:"https://fonts.gstatic.com/s/oxygen/v15/2sDcZG1Wl4LcnbuCNWgDb2-4C7wFZQ.ttf",regular:"https://fonts.gstatic.com/s/oxygen/v15/2sDfZG1Wl4Lcnbu6iUcnZ0SkAg.ttf"}},{family:"Oxygen Mono",files:{regular:"https://fonts.gstatic.com/s/oxygenmono/v14/h0GsssGg9FxgDgCjLeAd7ijfze-PPlUu.ttf"}},{family:"PT Mono",files:{regular:"https://fonts.gstatic.com/s/ptmono/v13/9oRONYoBnWILk-9ArCg5MtPyAcg.ttf"}},{family:"PT Sans",files:{700:"https://fonts.gstatic.com/s/ptsans/v17/jizfRExUiTo99u79B_mh4OmnLD0Z4zM.ttf",regular:"https://fonts.gstatic.com/s/ptsans/v17/jizaRExUiTo99u79P0WOxOGMMDQ.ttf",italic:"https://fonts.gstatic.com/s/ptsans/v17/jizYRExUiTo99u79D0eEwMOJIDQA-g.ttf","700italic":"https://fonts.gstatic.com/s/ptsans/v17/jizdRExUiTo99u79D0e8fOytKB8c8zMrig.ttf"}},{family:"PT Sans Caption",files:{700:"https://fonts.gstatic.com/s/ptsanscaption/v19/0FlJVP6Hrxmt7-fsUFhlFXNIlpcSwSrUSwWuz38Tgg.ttf",regular:"https://fonts.gstatic.com/s/ptsanscaption/v19/0FlMVP6Hrxmt7-fsUFhlFXNIlpcqfQXwQy6yxg.ttf"}},{family:"PT Sans Narrow",files:{700:"https://fonts.gstatic.com/s/ptsansnarrow/v18/BngSUXNadjH0qYEzV7ab-oWlsbg95DiCUfzgRd-3.ttf",regular:"https://fonts.gstatic.com/s/ptsansnarrow/v18/BngRUXNadjH0qYEzV7ab-oWlsYCByxyKeuDp.ttf"}},{family:"PT Serif",files:{700:"https://fonts.gstatic.com/s/ptserif/v18/EJRSQgYoZZY2vCFuvAnt65qVXSr3pNNB.ttf",regular:"https://fonts.gstatic.com/s/ptserif/v18/EJRVQgYoZZY2vCFuvDFRxL6ddjb-.ttf",italic:"https://fonts.gstatic.com/s/ptserif/v18/EJRTQgYoZZY2vCFuvAFTzrq_cyb-vco.ttf","700italic":"https://fonts.gstatic.com/s/ptserif/v18/EJRQQgYoZZY2vCFuvAFT9gaQVy7VocNB6Iw.ttf"}},{family:"PT Serif Caption",files:{regular:"https://fonts.gstatic.com/s/ptserifcaption/v17/ieVl2ZhbGCW-JoW6S34pSDpqYKU059WxDCs5cvI.ttf",italic:"https://fonts.gstatic.com/s/ptserifcaption/v17/ieVj2ZhbGCW-JoW6S34pSDpqYKU019e7CAk8YvJEeg.ttf"}},{family:"Pacifico",files:{regular:"https://fonts.gstatic.com/s/pacifico/v22/FwZY7-Qmy14u9lezJ96A4sijpFu_.ttf"}},{family:"Padauk",files:{700:"https://fonts.gstatic.com/s/padauk/v16/RrQSboJg-id7Onb512DE1JJEZ4YwGg.ttf",regular:"https://fonts.gstatic.com/s/padauk/v16/RrQRboJg-id7OnbBa0_g3LlYbg.ttf"}},{family:"Padyakke Expanded One",files:{regular:"https://fonts.gstatic.com/s/padyakkeexpandedone/v2/K2FvfY9El_tbR0JfHb6WWvrBaU6XAUvC4IAYOKRkpDjeoQ.ttf"}},{family:"Palanquin",files:{100:"https://fonts.gstatic.com/s/palanquin/v13/9XUhlJ90n1fBFg7ceXwUEltI7rWmZzTH.ttf",200:"https://fonts.gstatic.com/s/palanquin/v13/9XUilJ90n1fBFg7ceXwUvnpoxJuqbi3ezg.ttf",300:"https://fonts.gstatic.com/s/palanquin/v13/9XUilJ90n1fBFg7ceXwU2nloxJuqbi3ezg.ttf",500:"https://fonts.gstatic.com/s/palanquin/v13/9XUilJ90n1fBFg7ceXwUgnhoxJuqbi3ezg.ttf",600:"https://fonts.gstatic.com/s/palanquin/v13/9XUilJ90n1fBFg7ceXwUrn9oxJuqbi3ezg.ttf",700:"https://fonts.gstatic.com/s/palanquin/v13/9XUilJ90n1fBFg7ceXwUyn5oxJuqbi3ezg.ttf",regular:"https://fonts.gstatic.com/s/palanquin/v13/9XUnlJ90n1fBFg7ceXwsdlFMzLC2Zw.ttf"}},{family:"Palanquin Dark",files:{500:"https://fonts.gstatic.com/s/palanquindark/v12/xn76YHgl1nqmANMB-26xC7yuF8Z6ZW41fcvN2KT4.ttf",600:"https://fonts.gstatic.com/s/palanquindark/v12/xn76YHgl1nqmANMB-26xC7yuF8ZWYm41fcvN2KT4.ttf",700:"https://fonts.gstatic.com/s/palanquindark/v12/xn76YHgl1nqmANMB-26xC7yuF8YyY241fcvN2KT4.ttf",regular:"https://fonts.gstatic.com/s/palanquindark/v12/xn75YHgl1nqmANMB-26xC7yuF_6OTEo9VtfE.ttf"}},{family:"Pangolin",files:{regular:"https://fonts.gstatic.com/s/pangolin/v11/cY9GfjGcW0FPpi-tWPfK5d3aiLBG.ttf"}},{family:"Paprika",files:{regular:"https://fonts.gstatic.com/s/paprika/v21/8QIJdijZitv49rDfuIgOq7jkAOw.ttf"}},{family:"Parisienne",files:{regular:"https://fonts.gstatic.com/s/parisienne/v13/E21i_d3kivvAkxhLEVZpcy96DuKuavM.ttf"}},{family:"Passero One",files:{regular:"https://fonts.gstatic.com/s/passeroone/v24/JTUTjIko8DOq5FeaeEAjgE5B5Arr-s50.ttf"}},{family:"Passion One",files:{700:"https://fonts.gstatic.com/s/passionone/v16/Pby6FmL8HhTPqbjUzux3JEMq037owpYcuH8y.ttf",900:"https://fonts.gstatic.com/s/passionone/v16/Pby6FmL8HhTPqbjUzux3JEMS0X7owpYcuH8y.ttf",regular:"https://fonts.gstatic.com/s/passionone/v16/PbynFmL8HhTPqbjUzux3JHuW_Frg6YoV.ttf"}},{family:"Passions Conflict",files:{regular:"https://fonts.gstatic.com/s/passionsconflict/v5/kmKnZrcrFhfafnWX9x0GuEC-zowow5NeYRI4CN2V.ttf"}},{family:"Pathway Extreme",files:{100:"https://fonts.gstatic.com/s/pathwayextreme/v3/neI6zCC3pJ0rsaH2_sD-QttXPfDPonvkQ-pxx5gufvP2VmLjiFyxGf8BLymNjYv2Oy6vkLmw4xak2Nx1Kyw3igP5eg.ttf",200:"https://fonts.gstatic.com/s/pathwayextreme/v3/neI6zCC3pJ0rsaH2_sD-QttXPfDPonvkQ-pxx5gufvP2VmLjiFyxGf8BLymNjYv2Oy6vkLmw4xakWN11Kyw3igP5eg.ttf",300:"https://fonts.gstatic.com/s/pathwayextreme/v3/neI6zCC3pJ0rsaH2_sD-QttXPfDPonvkQ-pxx5gufvP2VmLjiFyxGf8BLymNjYv2Oy6vkLmw4xakht11Kyw3igP5eg.ttf",500:"https://fonts.gstatic.com/s/pathwayextreme/v3/neI6zCC3pJ0rsaH2_sD-QttXPfDPonvkQ-pxx5gufvP2VmLjiFyxGf8BLymNjYv2Oy6vkLmw4xak6t11Kyw3igP5eg.ttf",600:"https://fonts.gstatic.com/s/pathwayextreme/v3/neI6zCC3pJ0rsaH2_sD-QttXPfDPonvkQ-pxx5gufvP2VmLjiFyxGf8BLymNjYv2Oy6vkLmw4xakBtp1Kyw3igP5eg.ttf",700:"https://fonts.gstatic.com/s/pathwayextreme/v3/neI6zCC3pJ0rsaH2_sD-QttXPfDPonvkQ-pxx5gufvP2VmLjiFyxGf8BLymNjYv2Oy6vkLmw4xakP9p1Kyw3igP5eg.ttf",800:"https://fonts.gstatic.com/s/pathwayextreme/v3/neI6zCC3pJ0rsaH2_sD-QttXPfDPonvkQ-pxx5gufvP2VmLjiFyxGf8BLymNjYv2Oy6vkLmw4xakWNp1Kyw3igP5eg.ttf",900:"https://fonts.gstatic.com/s/pathwayextreme/v3/neI6zCC3pJ0rsaH2_sD-QttXPfDPonvkQ-pxx5gufvP2VmLjiFyxGf8BLymNjYv2Oy6vkLmw4xakcdp1Kyw3igP5eg.ttf",regular:"https://fonts.gstatic.com/s/pathwayextreme/v3/neI6zCC3pJ0rsaH2_sD-QttXPfDPonvkQ-pxx5gufvP2VmLjiFyxGf8BLymNjYv2Oy6vkLmw4xak2N11Kyw3igP5eg.ttf","100italic":"https://fonts.gstatic.com/s/pathwayextreme/v3/neI4zCC3pJ0rsaH2_sD-QttXPfDlq0kVrdFsAHYoa7O3LCjRa7zISmmvKDxFz3m_CdF3-dIqTRGxEJ6daSYzqAbpepnF.ttf","200italic":"https://fonts.gstatic.com/s/pathwayextreme/v3/neI4zCC3pJ0rsaH2_sD-QttXPfDlq0kVrdFsAHYoa7O3LCjRa7zISmmvKDxFz3m_CdF3-dIqTRGxEJ4daCYzqAbpepnF.ttf","300italic":"https://fonts.gstatic.com/s/pathwayextreme/v3/neI4zCC3pJ0rsaH2_sD-QttXPfDlq0kVrdFsAHYoa7O3LCjRa7zISmmvKDxFz3m_CdF3-dIqTRGxEJ7DaCYzqAbpepnF.ttf",italic:"https://fonts.gstatic.com/s/pathwayextreme/v3/neI4zCC3pJ0rsaH2_sD-QttXPfDlq0kVrdFsAHYoa7O3LCjRa7zISmmvKDxFz3m_CdF3-dIqTRGxEJ6daCYzqAbpepnF.ttf","500italic":"https://fonts.gstatic.com/s/pathwayextreme/v3/neI4zCC3pJ0rsaH2_sD-QttXPfDlq0kVrdFsAHYoa7O3LCjRa7zISmmvKDxFz3m_CdF3-dIqTRGxEJ6vaCYzqAbpepnF.ttf","600italic":"https://fonts.gstatic.com/s/pathwayextreme/v3/neI4zCC3pJ0rsaH2_sD-QttXPfDlq0kVrdFsAHYoa7O3LCjRa7zISmmvKDxFz3m_CdF3-dIqTRGxEJ5DbyYzqAbpepnF.ttf","700italic":"https://fonts.gstatic.com/s/pathwayextreme/v3/neI4zCC3pJ0rsaH2_sD-QttXPfDlq0kVrdFsAHYoa7O3LCjRa7zISmmvKDxFz3m_CdF3-dIqTRGxEJ56byYzqAbpepnF.ttf","800italic":"https://fonts.gstatic.com/s/pathwayextreme/v3/neI4zCC3pJ0rsaH2_sD-QttXPfDlq0kVrdFsAHYoa7O3LCjRa7zISmmvKDxFz3m_CdF3-dIqTRGxEJ4dbyYzqAbpepnF.ttf","900italic":"https://fonts.gstatic.com/s/pathwayextreme/v3/neI4zCC3pJ0rsaH2_sD-QttXPfDlq0kVrdFsAHYoa7O3LCjRa7zISmmvKDxFz3m_CdF3-dIqTRGxEJ40byYzqAbpepnF.ttf"}},{family:"Pathway Gothic One",files:{regular:"https://fonts.gstatic.com/s/pathwaygothicone/v15/MwQrbgD32-KAvjkYGNUUxAtW7pEBwx-dTFxeb80flQ.ttf"}},{family:"Patrick Hand",files:{regular:"https://fonts.gstatic.com/s/patrickhand/v20/LDI1apSQOAYtSuYWp8ZhfYeMWcjKm7sp8g.ttf"}},{family:"Patrick Hand SC",files:{regular:"https://fonts.gstatic.com/s/patrickhandsc/v13/0nkwC9f7MfsBiWcLtY65AWDK873ViSi6JQc7Vg.ttf"}},{family:"Pattaya",files:{regular:"https://fonts.gstatic.com/s/pattaya/v13/ea8ZadcqV_zkHY-XNdCn92ZEmVs.ttf"}},{family:"Patua One",files:{regular:"https://fonts.gstatic.com/s/patuaone/v16/ZXuke1cDvLCKLDcimxBI5PNvNA9LuA.ttf"}},{family:"Pavanam",files:{regular:"https://fonts.gstatic.com/s/pavanam/v11/BXRrvF_aiezLh0xPDOtQ9Wf0QcE.ttf"}},{family:"Paytone One",files:{regular:"https://fonts.gstatic.com/s/paytoneone/v21/0nksC9P7MfYHj2oFtYm2CiTqivr9iBq_.ttf"}},{family:"Peddana",files:{regular:"https://fonts.gstatic.com/s/peddana/v20/aFTU7PBhaX89UcKWhh2aBYyMcKw.ttf"}},{family:"Peralta",files:{regular:"https://fonts.gstatic.com/s/peralta/v17/hYkJPu0-RP_9d3kRGxAhrv956B8.ttf"}},{family:"Permanent Marker",files:{regular:"https://fonts.gstatic.com/s/permanentmarker/v16/Fh4uPib9Iyv2ucM6pGQMWimMp004HaqIfrT5nlk.ttf"}},{family:"Petemoss",files:{regular:"https://fonts.gstatic.com/s/petemoss/v5/A2BZn5tA2xgtGWHZgxkesKb9UouQ.ttf"}},{family:"Petit Formal Script",files:{regular:"https://fonts.gstatic.com/s/petitformalscript/v14/B50TF6xQr2TXJBnGOFME6u5OR83oRP5qoHnqP4gZSiE.ttf"}},{family:"Petrona",files:{100:"https://fonts.gstatic.com/s/petrona/v32/mtGl4_NXL7bZo9XXq35wRLONYyOjFk6NsARBH452Mvds.ttf",200:"https://fonts.gstatic.com/s/petrona/v32/mtGl4_NXL7bZo9XXq35wRLONYyOjFk4NsQRBH452Mvds.ttf",300:"https://fonts.gstatic.com/s/petrona/v32/mtGl4_NXL7bZo9XXq35wRLONYyOjFk7TsQRBH452Mvds.ttf",500:"https://fonts.gstatic.com/s/petrona/v32/mtGl4_NXL7bZo9XXq35wRLONYyOjFk6_sQRBH452Mvds.ttf",600:"https://fonts.gstatic.com/s/petrona/v32/mtGl4_NXL7bZo9XXq35wRLONYyOjFk5TtgRBH452Mvds.ttf",700:"https://fonts.gstatic.com/s/petrona/v32/mtGl4_NXL7bZo9XXq35wRLONYyOjFk5qtgRBH452Mvds.ttf",800:"https://fonts.gstatic.com/s/petrona/v32/mtGl4_NXL7bZo9XXq35wRLONYyOjFk4NtgRBH452Mvds.ttf",900:"https://fonts.gstatic.com/s/petrona/v32/mtGl4_NXL7bZo9XXq35wRLONYyOjFk4ktgRBH452Mvds.ttf",regular:"https://fonts.gstatic.com/s/petrona/v32/mtGl4_NXL7bZo9XXq35wRLONYyOjFk6NsQRBH452Mvds.ttf","100italic":"https://fonts.gstatic.com/s/petrona/v32/mtGr4_NXL7bZo9XXgXdCu2vkCLkNEVtF8uwDFYpUN-dsIWs.ttf","200italic":"https://fonts.gstatic.com/s/petrona/v32/mtGr4_NXL7bZo9XXgXdCu2vkCLkNEVtF8mwCFYpUN-dsIWs.ttf","300italic":"https://fonts.gstatic.com/s/petrona/v32/mtGr4_NXL7bZo9XXgXdCu2vkCLkNEVtF8rICFYpUN-dsIWs.ttf",italic:"https://fonts.gstatic.com/s/petrona/v32/mtGr4_NXL7bZo9XXgXdCu2vkCLkNEVtF8uwCFYpUN-dsIWs.ttf","500italic":"https://fonts.gstatic.com/s/petrona/v32/mtGr4_NXL7bZo9XXgXdCu2vkCLkNEVtF8t4CFYpUN-dsIWs.ttf","600italic":"https://fonts.gstatic.com/s/petrona/v32/mtGr4_NXL7bZo9XXgXdCu2vkCLkNEVtF8jIFFYpUN-dsIWs.ttf","700italic":"https://fonts.gstatic.com/s/petrona/v32/mtGr4_NXL7bZo9XXgXdCu2vkCLkNEVtF8gsFFYpUN-dsIWs.ttf","800italic":"https://fonts.gstatic.com/s/petrona/v32/mtGr4_NXL7bZo9XXgXdCu2vkCLkNEVtF8mwFFYpUN-dsIWs.ttf","900italic":"https://fonts.gstatic.com/s/petrona/v32/mtGr4_NXL7bZo9XXgXdCu2vkCLkNEVtF8kUFFYpUN-dsIWs.ttf"}},{family:"Philosopher",files:{700:"https://fonts.gstatic.com/s/philosopher/v19/vEFI2_5QCwIS4_Dhez5jcWjVamgc-NaXXq7H.ttf",regular:"https://fonts.gstatic.com/s/philosopher/v19/vEFV2_5QCwIS4_Dhez5jcVBpRUwU08qe.ttf",italic:"https://fonts.gstatic.com/s/philosopher/v19/vEFX2_5QCwIS4_Dhez5jcWBrT0g21tqeR7c.ttf","700italic":"https://fonts.gstatic.com/s/philosopher/v19/vEFK2_5QCwIS4_Dhez5jcWBrd_QZ8tK1W77HtMo.ttf"}},{family:"Phudu",files:{300:"https://fonts.gstatic.com/s/phudu/v1/0FlJVPSHk0ya-7OUeO_U-Lwm7PkK62zUSwWuz38Tgg.ttf",500:"https://fonts.gstatic.com/s/phudu/v1/0FlJVPSHk0ya-7OUeO_U-Lwm7PkKh2zUSwWuz38Tgg.ttf",600:"https://fonts.gstatic.com/s/phudu/v1/0FlJVPSHk0ya-7OUeO_U-Lwm7PkKa2vUSwWuz38Tgg.ttf",700:"https://fonts.gstatic.com/s/phudu/v1/0FlJVPSHk0ya-7OUeO_U-Lwm7PkKUmvUSwWuz38Tgg.ttf",800:"https://fonts.gstatic.com/s/phudu/v1/0FlJVPSHk0ya-7OUeO_U-Lwm7PkKNWvUSwWuz38Tgg.ttf",900:"https://fonts.gstatic.com/s/phudu/v1/0FlJVPSHk0ya-7OUeO_U-Lwm7PkKHGvUSwWuz38Tgg.ttf",regular:"https://fonts.gstatic.com/s/phudu/v1/0FlJVPSHk0ya-7OUeO_U-Lwm7PkKtWzUSwWuz38Tgg.ttf"}},{family:"Piazzolla",files:{100:"https://fonts.gstatic.com/s/piazzolla/v33/N0b52SlTPu5rIkWIZjVKKtYtfxYqZ4RJBFzFfYUjkSDdlqZgy7LYx3Ly1AHfAAy5.ttf",200:"https://fonts.gstatic.com/s/piazzolla/v33/N0b52SlTPu5rIkWIZjVKKtYtfxYqZ4RJBFzFfYUjkSDdlqZgy7JYxnLy1AHfAAy5.ttf",300:"https://fonts.gstatic.com/s/piazzolla/v33/N0b52SlTPu5rIkWIZjVKKtYtfxYqZ4RJBFzFfYUjkSDdlqZgy7KGxnLy1AHfAAy5.ttf",500:"https://fonts.gstatic.com/s/piazzolla/v33/N0b52SlTPu5rIkWIZjVKKtYtfxYqZ4RJBFzFfYUjkSDdlqZgy7LqxnLy1AHfAAy5.ttf",600:"https://fonts.gstatic.com/s/piazzolla/v33/N0b52SlTPu5rIkWIZjVKKtYtfxYqZ4RJBFzFfYUjkSDdlqZgy7IGwXLy1AHfAAy5.ttf",700:"https://fonts.gstatic.com/s/piazzolla/v33/N0b52SlTPu5rIkWIZjVKKtYtfxYqZ4RJBFzFfYUjkSDdlqZgy7I_wXLy1AHfAAy5.ttf",800:"https://fonts.gstatic.com/s/piazzolla/v33/N0b52SlTPu5rIkWIZjVKKtYtfxYqZ4RJBFzFfYUjkSDdlqZgy7JYwXLy1AHfAAy5.ttf",900:"https://fonts.gstatic.com/s/piazzolla/v33/N0b52SlTPu5rIkWIZjVKKtYtfxYqZ4RJBFzFfYUjkSDdlqZgy7JxwXLy1AHfAAy5.ttf",regular:"https://fonts.gstatic.com/s/piazzolla/v33/N0b52SlTPu5rIkWIZjVKKtYtfxYqZ4RJBFzFfYUjkSDdlqZgy7LYxnLy1AHfAAy5.ttf","100italic":"https://fonts.gstatic.com/s/piazzolla/v33/N0b72SlTPu5rIkWIZjVgI-TckS03oGpPETyEJ88Rbvi0_TzOzKcQhZqw3gX9BRy5m5M.ttf","200italic":"https://fonts.gstatic.com/s/piazzolla/v33/N0b72SlTPu5rIkWIZjVgI-TckS03oGpPETyEJ88Rbvi0_TzOzKcQhRqx3gX9BRy5m5M.ttf","300italic":"https://fonts.gstatic.com/s/piazzolla/v33/N0b72SlTPu5rIkWIZjVgI-TckS03oGpPETyEJ88Rbvi0_TzOzKcQhcSx3gX9BRy5m5M.ttf",italic:"https://fonts.gstatic.com/s/piazzolla/v33/N0b72SlTPu5rIkWIZjVgI-TckS03oGpPETyEJ88Rbvi0_TzOzKcQhZqx3gX9BRy5m5M.ttf","500italic":"https://fonts.gstatic.com/s/piazzolla/v33/N0b72SlTPu5rIkWIZjVgI-TckS03oGpPETyEJ88Rbvi0_TzOzKcQhaix3gX9BRy5m5M.ttf","600italic":"https://fonts.gstatic.com/s/piazzolla/v33/N0b72SlTPu5rIkWIZjVgI-TckS03oGpPETyEJ88Rbvi0_TzOzKcQhUS23gX9BRy5m5M.ttf","700italic":"https://fonts.gstatic.com/s/piazzolla/v33/N0b72SlTPu5rIkWIZjVgI-TckS03oGpPETyEJ88Rbvi0_TzOzKcQhX223gX9BRy5m5M.ttf","800italic":"https://fonts.gstatic.com/s/piazzolla/v33/N0b72SlTPu5rIkWIZjVgI-TckS03oGpPETyEJ88Rbvi0_TzOzKcQhRq23gX9BRy5m5M.ttf","900italic":"https://fonts.gstatic.com/s/piazzolla/v33/N0b72SlTPu5rIkWIZjVgI-TckS03oGpPETyEJ88Rbvi0_TzOzKcQhTO23gX9BRy5m5M.ttf"}},{family:"Piedra",files:{regular:"https://fonts.gstatic.com/s/piedra/v22/ke8kOg8aN0Bn7hTunEyHN_M3gA.ttf"}},{family:"Pinyon Script",files:{regular:"https://fonts.gstatic.com/s/pinyonscript/v18/6xKpdSJbL9-e9LuoeQiDRQR8aOLQO4bhiDY.ttf"}},{family:"Pirata One",files:{regular:"https://fonts.gstatic.com/s/pirataone/v22/I_urMpiDvgLdLh0fAtoftiiEr5_BdZ8.ttf"}},{family:"Plaster",files:{regular:"https://fonts.gstatic.com/s/plaster/v24/DdTm79QatW80eRh4Ei5JOtLOeLI.ttf"}},{family:"Play",files:{700:"https://fonts.gstatic.com/s/play/v17/6ae84K2oVqwItm4TOpc423nTJTM.ttf",regular:"https://fonts.gstatic.com/s/play/v17/6aez4K2oVqwIjtI8Hp8Tx3A.ttf"}},{family:"Playball",files:{regular:"https://fonts.gstatic.com/s/playball/v17/TK3gWksYAxQ7jbsKcj8Dl-tPKo2t.ttf"}},{family:"Playfair",files:{300:"https://fonts.gstatic.com/s/playfair/v1/0nkQC9D7PO4KhmUJ5_zTZ_4MYQXznAK-bUcZXKO3UMnW6VNpe4-SiiZ4b8h5G3GutPlKetgdoSMw5ifm.ttf",500:"https://fonts.gstatic.com/s/playfair/v1/0nkQC9D7PO4KhmUJ5_zTZ_4MYQXznAK-bUcZXKO3UMnW6VNpe4-SiiZ4b8h5G3GutPkmetgdoSMw5ifm.ttf",600:"https://fonts.gstatic.com/s/playfair/v1/0nkQC9D7PO4KhmUJ5_zTZ_4MYQXznAK-bUcZXKO3UMnW6VNpe4-SiiZ4b8h5G3GutPnKfdgdoSMw5ifm.ttf",700:"https://fonts.gstatic.com/s/playfair/v1/0nkQC9D7PO4KhmUJ5_zTZ_4MYQXznAK-bUcZXKO3UMnW6VNpe4-SiiZ4b8h5G3GutPnzfdgdoSMw5ifm.ttf",800:"https://fonts.gstatic.com/s/playfair/v1/0nkQC9D7PO4KhmUJ5_zTZ_4MYQXznAK-bUcZXKO3UMnW6VNpe4-SiiZ4b8h5G3GutPmUfdgdoSMw5ifm.ttf",900:"https://fonts.gstatic.com/s/playfair/v1/0nkQC9D7PO4KhmUJ5_zTZ_4MYQXznAK-bUcZXKO3UMnW6VNpe4-SiiZ4b8h5G3GutPm9fdgdoSMw5ifm.ttf",regular:"https://fonts.gstatic.com/s/playfair/v1/0nkQC9D7PO4KhmUJ5_zTZ_4MYQXznAK-bUcZXKO3UMnW6VNpe4-SiiZ4b8h5G3GutPkUetgdoSMw5ifm.ttf","300italic":"https://fonts.gstatic.com/s/playfair/v1/0nkSC9D7PO4KhmUJ59baVQ_iWhg0cgSrLQZjFpFUsLCFf_1ubkfQeG9KkBAQcOsAs-zcOW5eqycS4zfmNrE.ttf",italic:"https://fonts.gstatic.com/s/playfair/v1/0nkSC9D7PO4KhmUJ59baVQ_iWhg0cgSrLQZjFpFUsLCFf_1ubkfQeG9KkBAQcOsAs-zcOTBeqycS4zfmNrE.ttf","500italic":"https://fonts.gstatic.com/s/playfair/v1/0nkSC9D7PO4KhmUJ59baVQ_iWhg0cgSrLQZjFpFUsLCFf_1ubkfQeG9KkBAQcOsAs-zcOQJeqycS4zfmNrE.ttf","600italic":"https://fonts.gstatic.com/s/playfair/v1/0nkSC9D7PO4KhmUJ59baVQ_iWhg0cgSrLQZjFpFUsLCFf_1ubkfQeG9KkBAQcOsAs-zcOe5ZqycS4zfmNrE.ttf","700italic":"https://fonts.gstatic.com/s/playfair/v1/0nkSC9D7PO4KhmUJ59baVQ_iWhg0cgSrLQZjFpFUsLCFf_1ubkfQeG9KkBAQcOsAs-zcOddZqycS4zfmNrE.ttf","800italic":"https://fonts.gstatic.com/s/playfair/v1/0nkSC9D7PO4KhmUJ59baVQ_iWhg0cgSrLQZjFpFUsLCFf_1ubkfQeG9KkBAQcOsAs-zcObBZqycS4zfmNrE.ttf","900italic":"https://fonts.gstatic.com/s/playfair/v1/0nkSC9D7PO4KhmUJ59baVQ_iWhg0cgSrLQZjFpFUsLCFf_1ubkfQeG9KkBAQcOsAs-zcOZlZqycS4zfmNrE.ttf"}},{family:"Playfair Display",files:{500:"https://fonts.gstatic.com/s/playfairdisplay/v30/nuFvD-vYSZviVYUb_rj3ij__anPXJzDwcbmjWBN2PKd3vUDQZNLo_U2r.ttf",600:"https://fonts.gstatic.com/s/playfairdisplay/v30/nuFvD-vYSZviVYUb_rj3ij__anPXJzDwcbmjWBN2PKebukDQZNLo_U2r.ttf",700:"https://fonts.gstatic.com/s/playfairdisplay/v30/nuFvD-vYSZviVYUb_rj3ij__anPXJzDwcbmjWBN2PKeiukDQZNLo_U2r.ttf",800:"https://fonts.gstatic.com/s/playfairdisplay/v30/nuFvD-vYSZviVYUb_rj3ij__anPXJzDwcbmjWBN2PKfFukDQZNLo_U2r.ttf",900:"https://fonts.gstatic.com/s/playfairdisplay/v30/nuFvD-vYSZviVYUb_rj3ij__anPXJzDwcbmjWBN2PKfsukDQZNLo_U2r.ttf",regular:"https://fonts.gstatic.com/s/playfairdisplay/v30/nuFvD-vYSZviVYUb_rj3ij__anPXJzDwcbmjWBN2PKdFvUDQZNLo_U2r.ttf",italic:"https://fonts.gstatic.com/s/playfairdisplay/v30/nuFRD-vYSZviVYUb_rj3ij__anPXDTnCjmHKM4nYO7KN_qiTbtbK-F2rA0s.ttf","500italic":"https://fonts.gstatic.com/s/playfairdisplay/v30/nuFRD-vYSZviVYUb_rj3ij__anPXDTnCjmHKM4nYO7KN_pqTbtbK-F2rA0s.ttf","600italic":"https://fonts.gstatic.com/s/playfairdisplay/v30/nuFRD-vYSZviVYUb_rj3ij__anPXDTnCjmHKM4nYO7KN_naUbtbK-F2rA0s.ttf","700italic":"https://fonts.gstatic.com/s/playfairdisplay/v30/nuFRD-vYSZviVYUb_rj3ij__anPXDTnCjmHKM4nYO7KN_k-UbtbK-F2rA0s.ttf","800italic":"https://fonts.gstatic.com/s/playfairdisplay/v30/nuFRD-vYSZviVYUb_rj3ij__anPXDTnCjmHKM4nYO7KN_iiUbtbK-F2rA0s.ttf","900italic":"https://fonts.gstatic.com/s/playfairdisplay/v30/nuFRD-vYSZviVYUb_rj3ij__anPXDTnCjmHKM4nYO7KN_gGUbtbK-F2rA0s.ttf"}},{family:"Playfair Display SC",files:{700:"https://fonts.gstatic.com/s/playfairdisplaysc/v15/ke80OhoaMkR6-hSn7kbHVoFf7ZfgMPr_nQIpNcsdL4IUMyE.ttf",900:"https://fonts.gstatic.com/s/playfairdisplaysc/v15/ke80OhoaMkR6-hSn7kbHVoFf7ZfgMPr_nTorNcsdL4IUMyE.ttf",regular:"https://fonts.gstatic.com/s/playfairdisplaysc/v15/ke85OhoaMkR6-hSn7kbHVoFf7ZfgMPr_pb4GEcM2M4s.ttf",italic:"https://fonts.gstatic.com/s/playfairdisplaysc/v15/ke87OhoaMkR6-hSn7kbHVoFf7ZfgMPr_lbwMFeEzI4sNKg.ttf","700italic":"https://fonts.gstatic.com/s/playfairdisplaysc/v15/ke82OhoaMkR6-hSn7kbHVoFf7ZfgMPr_lbw0qc4XK6ARIyH5IA.ttf","900italic":"https://fonts.gstatic.com/s/playfairdisplaysc/v15/ke82OhoaMkR6-hSn7kbHVoFf7ZfgMPr_lbw0kcwXK6ARIyH5IA.ttf"}},{family:"Plus Jakarta Sans",files:{200:"https://fonts.gstatic.com/s/plusjakartasans/v7/LDIbaomQNQcsA88c7O9yZ4KMCoOg4IA6-91aHEjcWuA_KU7NShXUEKi4Rw.ttf",300:"https://fonts.gstatic.com/s/plusjakartasans/v7/LDIbaomQNQcsA88c7O9yZ4KMCoOg4IA6-91aHEjcWuA_907NShXUEKi4Rw.ttf",500:"https://fonts.gstatic.com/s/plusjakartasans/v7/LDIbaomQNQcsA88c7O9yZ4KMCoOg4IA6-91aHEjcWuA_m07NShXUEKi4Rw.ttf",600:"https://fonts.gstatic.com/s/plusjakartasans/v7/LDIbaomQNQcsA88c7O9yZ4KMCoOg4IA6-91aHEjcWuA_d0nNShXUEKi4Rw.ttf",700:"https://fonts.gstatic.com/s/plusjakartasans/v7/LDIbaomQNQcsA88c7O9yZ4KMCoOg4IA6-91aHEjcWuA_TknNShXUEKi4Rw.ttf",800:"https://fonts.gstatic.com/s/plusjakartasans/v7/LDIbaomQNQcsA88c7O9yZ4KMCoOg4IA6-91aHEjcWuA_KUnNShXUEKi4Rw.ttf",regular:"https://fonts.gstatic.com/s/plusjakartasans/v7/LDIbaomQNQcsA88c7O9yZ4KMCoOg4IA6-91aHEjcWuA_qU7NShXUEKi4Rw.ttf","200italic":"https://fonts.gstatic.com/s/plusjakartasans/v7/LDIZaomQNQcsA88c7O9yZ4KMCoOg4KozySKCdSNG9OcqYQ2lCR_QMq2oR82k.ttf","300italic":"https://fonts.gstatic.com/s/plusjakartasans/v7/LDIZaomQNQcsA88c7O9yZ4KMCoOg4KozySKCdSNG9OcqYQ17CR_QMq2oR82k.ttf",italic:"https://fonts.gstatic.com/s/plusjakartasans/v7/LDIZaomQNQcsA88c7O9yZ4KMCoOg4KozySKCdSNG9OcqYQ0lCR_QMq2oR82k.ttf","500italic":"https://fonts.gstatic.com/s/plusjakartasans/v7/LDIZaomQNQcsA88c7O9yZ4KMCoOg4KozySKCdSNG9OcqYQ0XCR_QMq2oR82k.ttf","600italic":"https://fonts.gstatic.com/s/plusjakartasans/v7/LDIZaomQNQcsA88c7O9yZ4KMCoOg4KozySKCdSNG9OcqYQ37Dh_QMq2oR82k.ttf","700italic":"https://fonts.gstatic.com/s/plusjakartasans/v7/LDIZaomQNQcsA88c7O9yZ4KMCoOg4KozySKCdSNG9OcqYQ3CDh_QMq2oR82k.ttf","800italic":"https://fonts.gstatic.com/s/plusjakartasans/v7/LDIZaomQNQcsA88c7O9yZ4KMCoOg4KozySKCdSNG9OcqYQ2lDh_QMq2oR82k.ttf"}},{family:"Podkova",files:{500:"https://fonts.gstatic.com/s/podkova/v26/K2FufZ1EmftJSV9VQpXb1lo9vC3nZWt3zcU4EoporSHH.ttf",600:"https://fonts.gstatic.com/s/podkova/v26/K2FufZ1EmftJSV9VQpXb1lo9vC3nZWubysU4EoporSHH.ttf",700:"https://fonts.gstatic.com/s/podkova/v26/K2FufZ1EmftJSV9VQpXb1lo9vC3nZWuiysU4EoporSHH.ttf",800:"https://fonts.gstatic.com/s/podkova/v26/K2FufZ1EmftJSV9VQpXb1lo9vC3nZWvFysU4EoporSHH.ttf",regular:"https://fonts.gstatic.com/s/podkova/v26/K2FufZ1EmftJSV9VQpXb1lo9vC3nZWtFzcU4EoporSHH.ttf"}},{family:"Poiret One",files:{regular:"https://fonts.gstatic.com/s/poiretone/v14/UqyVK80NJXN4zfRgbdfbk5lWVscxdKE.ttf"}},{family:"Poller One",files:{regular:"https://fonts.gstatic.com/s/pollerone/v19/ahccv82n0TN3gia5E4Bud-lbgUS5u0s.ttf"}},{family:"Poltawski Nowy",files:{500:"https://fonts.gstatic.com/s/poltawskinowy/v1/flUsRq6ww480U1xsUpFXD-iDBNlSAOLkKCLnWq8KmiWnDS6V5CzCoQ.ttf",600:"https://fonts.gstatic.com/s/poltawskinowy/v1/flUsRq6ww480U1xsUpFXD-iDBNlSAOLkKCLnWq8KdiKnDS6V5CzCoQ.ttf",700:"https://fonts.gstatic.com/s/poltawskinowy/v1/flUsRq6ww480U1xsUpFXD-iDBNlSAOLkKCLnWq8KTyKnDS6V5CzCoQ.ttf",regular:"https://fonts.gstatic.com/s/poltawskinowy/v1/flUsRq6ww480U1xsUpFXD-iDBNlSAOLkKCLnWq8KqCWnDS6V5CzCoQ.ttf",italic:"https://fonts.gstatic.com/s/poltawskinowy/v1/flUuRq6ww480U1xsUpFXD-iDBPNbMh08QUl99KgfYGZPTiSRxinSoROp.ttf","500italic":"https://fonts.gstatic.com/s/poltawskinowy/v1/flUuRq6ww480U1xsUpFXD-iDBPNbMh08QUl99KgfYGZ9TiSRxinSoROp.ttf","600italic":"https://fonts.gstatic.com/s/poltawskinowy/v1/flUuRq6ww480U1xsUpFXD-iDBPNbMh08QUl99KgfYGaRSSSRxinSoROp.ttf","700italic":"https://fonts.gstatic.com/s/poltawskinowy/v1/flUuRq6ww480U1xsUpFXD-iDBPNbMh08QUl99KgfYGaoSSSRxinSoROp.ttf"}},{family:"Poly",files:{regular:"https://fonts.gstatic.com/s/poly/v16/MQpb-W6wKNitRLCAq2Lpris.ttf",italic:"https://fonts.gstatic.com/s/poly/v16/MQpV-W6wKNitdLKKr0DsviuGWA.ttf"}},{family:"Pompiere",files:{regular:"https://fonts.gstatic.com/s/pompiere/v15/VEMyRoxis5Dwuyeov6Wt5jDtreOL.ttf"}},{family:"Pontano Sans",files:{300:"https://fonts.gstatic.com/s/pontanosans/v16/qFdW35GdgYR8EzR6oBLDHa3wyRf8W8eBM6XLOSzMncaMp9gzWsE.ttf",500:"https://fonts.gstatic.com/s/pontanosans/v16/qFdW35GdgYR8EzR6oBLDHa3wyRf8W8eBM6XLOUDMncaMp9gzWsE.ttf",600:"https://fonts.gstatic.com/s/pontanosans/v16/qFdW35GdgYR8EzR6oBLDHa3wyRf8W8eBM6XLOazLncaMp9gzWsE.ttf",700:"https://fonts.gstatic.com/s/pontanosans/v16/qFdW35GdgYR8EzR6oBLDHa3wyRf8W8eBM6XLOZXLncaMp9gzWsE.ttf",regular:"https://fonts.gstatic.com/s/pontanosans/v16/qFdW35GdgYR8EzR6oBLDHa3wyRf8W8eBM6XLOXLMncaMp9gzWsE.ttf"}},{family:"Poor Story",files:{regular:"https://fonts.gstatic.com/s/poorstory/v20/jizfREFUsnUct9P6cDfd4OmnLD0Z4zM.ttf"}},{family:"Poppins",files:{100:"https://fonts.gstatic.com/s/poppins/v20/pxiGyp8kv8JHgFVrLPTed3FBGPaTSQ.ttf",200:"https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLFj_V1tvFP-KUEg.ttf",300:"https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLDz8V1tvFP-KUEg.ttf",500:"https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLGT9V1tvFP-KUEg.ttf",600:"https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLEj6V1tvFP-KUEg.ttf",700:"https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLCz7V1tvFP-KUEg.ttf",800:"https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLDD4V1tvFP-KUEg.ttf",900:"https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLBT5V1tvFP-KUEg.ttf","100italic":"https://fonts.gstatic.com/s/poppins/v20/pxiAyp8kv8JHgFVrJJLmE3tFOvODSVFF.ttf","200italic":"https://fonts.gstatic.com/s/poppins/v20/pxiDyp8kv8JHgFVrJJLmv1plEN2PQEhcqw.ttf","300italic":"https://fonts.gstatic.com/s/poppins/v20/pxiDyp8kv8JHgFVrJJLm21llEN2PQEhcqw.ttf",regular:"https://fonts.gstatic.com/s/poppins/v20/pxiEyp8kv8JHgFVrFJDUc1NECPY.ttf",italic:"https://fonts.gstatic.com/s/poppins/v20/pxiGyp8kv8JHgFVrJJLed3FBGPaTSQ.ttf","500italic":"https://fonts.gstatic.com/s/poppins/v20/pxiDyp8kv8JHgFVrJJLmg1hlEN2PQEhcqw.ttf","600italic":"https://fonts.gstatic.com/s/poppins/v20/pxiDyp8kv8JHgFVrJJLmr19lEN2PQEhcqw.ttf","700italic":"https://fonts.gstatic.com/s/poppins/v20/pxiDyp8kv8JHgFVrJJLmy15lEN2PQEhcqw.ttf","800italic":"https://fonts.gstatic.com/s/poppins/v20/pxiDyp8kv8JHgFVrJJLm111lEN2PQEhcqw.ttf","900italic":"https://fonts.gstatic.com/s/poppins/v20/pxiDyp8kv8JHgFVrJJLm81xlEN2PQEhcqw.ttf"}},{family:"Port Lligat Sans",files:{regular:"https://fonts.gstatic.com/s/portlligatsans/v18/kmKmZrYrGBbdN1aV7Vokow6Lw4s4l7N0Tx4xEcQ.ttf"}},{family:"Port Lligat Slab",files:{regular:"https://fonts.gstatic.com/s/portlligatslab/v21/LDIpaoiQNgArA8kR7ulhZ8P_NYOss7ob9yGLmfI.ttf"}},{family:"Potta One",files:{regular:"https://fonts.gstatic.com/s/pottaone/v16/FeVSS05Bp6cy7xI-YfxQ3Z5nm29Gww.ttf"}},{family:"Pragati Narrow",files:{700:"https://fonts.gstatic.com/s/pragatinarrow/v13/vm8sdRf0T0bS1ffgsPB7WZ-mD2ZD5fd_GJMTlo_4.ttf",regular:"https://fonts.gstatic.com/s/pragatinarrow/v13/vm8vdRf0T0bS1ffgsPB7WZ-mD17_ytN3M48a.ttf"}},{family:"Praise",files:{regular:"https://fonts.gstatic.com/s/praise/v5/qkBUXvUZ-cnFXcFyDvO67L9XmQ.ttf"}},{family:"Prata",files:{regular:"https://fonts.gstatic.com/s/prata/v18/6xKhdSpbNNCT-vWIAG_5LWwJ.ttf"}},{family:"Preahvihear",files:{regular:"https://fonts.gstatic.com/s/preahvihear/v27/6NUS8F-dNQeEYhzj7uluxswE49FJf8Wv.ttf"}},{family:"Press Start 2P",files:{regular:"https://fonts.gstatic.com/s/pressstart2p/v15/e3t4euO8T-267oIAQAu6jDQyK0nSgPJE4580.ttf"}},{family:"Pridi",files:{200:"https://fonts.gstatic.com/s/pridi/v11/2sDdZG5JnZLfkc1SiE0jRUG0AqUc.ttf",300:"https://fonts.gstatic.com/s/pridi/v11/2sDdZG5JnZLfkc02i00jRUG0AqUc.ttf",500:"https://fonts.gstatic.com/s/pridi/v11/2sDdZG5JnZLfkc1uik0jRUG0AqUc.ttf",600:"https://fonts.gstatic.com/s/pridi/v11/2sDdZG5JnZLfkc1CjU0jRUG0AqUc.ttf",700:"https://fonts.gstatic.com/s/pridi/v11/2sDdZG5JnZLfkc0mjE0jRUG0AqUc.ttf",regular:"https://fonts.gstatic.com/s/pridi/v11/2sDQZG5JnZLfkfWao2krbl29.ttf"}},{family:"Princess Sofia",files:{regular:"https://fonts.gstatic.com/s/princesssofia/v22/qWczB6yguIb8DZ_GXZst16n7GRz7mDUoupoI.ttf"}},{family:"Prociono",files:{regular:"https://fonts.gstatic.com/s/prociono/v22/r05YGLlR-KxAf9GGO8upyDYtStiJ.ttf"}},{family:"Prompt",files:{100:"https://fonts.gstatic.com/s/prompt/v10/-W_9XJnvUD7dzB2CA9oYREcjeo0k.ttf",200:"https://fonts.gstatic.com/s/prompt/v10/-W_8XJnvUD7dzB2Cr_s4bmkvc5Q9dw.ttf",300:"https://fonts.gstatic.com/s/prompt/v10/-W_8XJnvUD7dzB2Cy_g4bmkvc5Q9dw.ttf",500:"https://fonts.gstatic.com/s/prompt/v10/-W_8XJnvUD7dzB2Ck_k4bmkvc5Q9dw.ttf",600:"https://fonts.gstatic.com/s/prompt/v10/-W_8XJnvUD7dzB2Cv_44bmkvc5Q9dw.ttf",700:"https://fonts.gstatic.com/s/prompt/v10/-W_8XJnvUD7dzB2C2_84bmkvc5Q9dw.ttf",800:"https://fonts.gstatic.com/s/prompt/v10/-W_8XJnvUD7dzB2Cx_w4bmkvc5Q9dw.ttf",900:"https://fonts.gstatic.com/s/prompt/v10/-W_8XJnvUD7dzB2C4_04bmkvc5Q9dw.ttf","100italic":"https://fonts.gstatic.com/s/prompt/v10/-W_7XJnvUD7dzB2KZeJ8TkMBf50kbiM.ttf","200italic":"https://fonts.gstatic.com/s/prompt/v10/-W_6XJnvUD7dzB2KZeLQb2MrUZEtdzow.ttf","300italic":"https://fonts.gstatic.com/s/prompt/v10/-W_6XJnvUD7dzB2KZeK0bGMrUZEtdzow.ttf",regular:"https://fonts.gstatic.com/s/prompt/v10/-W__XJnvUD7dzB26Z9AcZkIzeg.ttf",italic:"https://fonts.gstatic.com/s/prompt/v10/-W_9XJnvUD7dzB2KZdoYREcjeo0k.ttf","500italic":"https://fonts.gstatic.com/s/prompt/v10/-W_6XJnvUD7dzB2KZeLsbWMrUZEtdzow.ttf","600italic":"https://fonts.gstatic.com/s/prompt/v10/-W_6XJnvUD7dzB2KZeLAamMrUZEtdzow.ttf","700italic":"https://fonts.gstatic.com/s/prompt/v10/-W_6XJnvUD7dzB2KZeKka2MrUZEtdzow.ttf","800italic":"https://fonts.gstatic.com/s/prompt/v10/-W_6XJnvUD7dzB2KZeK4aGMrUZEtdzow.ttf","900italic":"https://fonts.gstatic.com/s/prompt/v10/-W_6XJnvUD7dzB2KZeKcaWMrUZEtdzow.ttf"}},{family:"Prosto One",files:{regular:"https://fonts.gstatic.com/s/prostoone/v17/OpNJno4VhNfK-RgpwWWxpipfWhXD00c.ttf"}},{family:"Proza Libre",files:{500:"https://fonts.gstatic.com/s/prozalibre/v9/LYjbdGHgj0k1DIQRyUEyyELbV__fcpC69i6N.ttf",600:"https://fonts.gstatic.com/s/prozalibre/v9/LYjbdGHgj0k1DIQRyUEyyEL3UP_fcpC69i6N.ttf",700:"https://fonts.gstatic.com/s/prozalibre/v9/LYjbdGHgj0k1DIQRyUEyyEKTUf_fcpC69i6N.ttf",800:"https://fonts.gstatic.com/s/prozalibre/v9/LYjbdGHgj0k1DIQRyUEyyEKPUv_fcpC69i6N.ttf",regular:"https://fonts.gstatic.com/s/prozalibre/v9/LYjGdGHgj0k1DIQRyUEyyHovftvXWYyz.ttf",italic:"https://fonts.gstatic.com/s/prozalibre/v9/LYjEdGHgj0k1DIQRyUEyyEotdN_1XJyz7zc.ttf","500italic":"https://fonts.gstatic.com/s/prozalibre/v9/LYjZdGHgj0k1DIQRyUEyyEotTCvceJSY8z6Np1k.ttf","600italic":"https://fonts.gstatic.com/s/prozalibre/v9/LYjZdGHgj0k1DIQRyUEyyEotTAfbeJSY8z6Np1k.ttf","700italic":"https://fonts.gstatic.com/s/prozalibre/v9/LYjZdGHgj0k1DIQRyUEyyEotTGPaeJSY8z6Np1k.ttf","800italic":"https://fonts.gstatic.com/s/prozalibre/v9/LYjZdGHgj0k1DIQRyUEyyEotTH_ZeJSY8z6Np1k.ttf"}},{family:"Public Sans",files:{100:"https://fonts.gstatic.com/s/publicsans/v14/ijwGs572Xtc6ZYQws9YVwllKVG8qX1oyOymuFpi5ww0pX189fg.ttf",200:"https://fonts.gstatic.com/s/publicsans/v14/ijwGs572Xtc6ZYQws9YVwllKVG8qX1oyOymulpm5ww0pX189fg.ttf",300:"https://fonts.gstatic.com/s/publicsans/v14/ijwGs572Xtc6ZYQws9YVwllKVG8qX1oyOymuSJm5ww0pX189fg.ttf",500:"https://fonts.gstatic.com/s/publicsans/v14/ijwGs572Xtc6ZYQws9YVwllKVG8qX1oyOymuJJm5ww0pX189fg.ttf",600:"https://fonts.gstatic.com/s/publicsans/v14/ijwGs572Xtc6ZYQws9YVwllKVG8qX1oyOymuyJ65ww0pX189fg.ttf",700:"https://fonts.gstatic.com/s/publicsans/v14/ijwGs572Xtc6ZYQws9YVwllKVG8qX1oyOymu8Z65ww0pX189fg.ttf",800:"https://fonts.gstatic.com/s/publicsans/v14/ijwGs572Xtc6ZYQws9YVwllKVG8qX1oyOymulp65ww0pX189fg.ttf",900:"https://fonts.gstatic.com/s/publicsans/v14/ijwGs572Xtc6ZYQws9YVwllKVG8qX1oyOymuv565ww0pX189fg.ttf",regular:"https://fonts.gstatic.com/s/publicsans/v14/ijwGs572Xtc6ZYQws9YVwllKVG8qX1oyOymuFpm5ww0pX189fg.ttf","100italic":"https://fonts.gstatic.com/s/publicsans/v14/ijwAs572Xtc6ZYQws9YVwnNDZpDyNjGolS673tpRgQctfVotfj7j.ttf","200italic":"https://fonts.gstatic.com/s/publicsans/v14/ijwAs572Xtc6ZYQws9YVwnNDZpDyNjGolS673trRgActfVotfj7j.ttf","300italic":"https://fonts.gstatic.com/s/publicsans/v14/ijwAs572Xtc6ZYQws9YVwnNDZpDyNjGolS673toPgActfVotfj7j.ttf",italic:"https://fonts.gstatic.com/s/publicsans/v14/ijwAs572Xtc6ZYQws9YVwnNDZpDyNjGolS673tpRgActfVotfj7j.ttf","500italic":"https://fonts.gstatic.com/s/publicsans/v14/ijwAs572Xtc6ZYQws9YVwnNDZpDyNjGolS673tpjgActfVotfj7j.ttf","600italic":"https://fonts.gstatic.com/s/publicsans/v14/ijwAs572Xtc6ZYQws9YVwnNDZpDyNjGolS673tqPhwctfVotfj7j.ttf","700italic":"https://fonts.gstatic.com/s/publicsans/v14/ijwAs572Xtc6ZYQws9YVwnNDZpDyNjGolS673tq2hwctfVotfj7j.ttf","800italic":"https://fonts.gstatic.com/s/publicsans/v14/ijwAs572Xtc6ZYQws9YVwnNDZpDyNjGolS673trRhwctfVotfj7j.ttf","900italic":"https://fonts.gstatic.com/s/publicsans/v14/ijwAs572Xtc6ZYQws9YVwnNDZpDyNjGolS673tr4hwctfVotfj7j.ttf"}},{family:"Puppies Play",files:{regular:"https://fonts.gstatic.com/s/puppiesplay/v6/wlp2gwHZEV99rG6M3NR9uB9vaAJSA_JN3Q.ttf"}},{family:"Puritan",files:{700:"https://fonts.gstatic.com/s/puritan/v24/845dNMgkAJ2VTtIozCbfYd6j-0rGRes.ttf",regular:"https://fonts.gstatic.com/s/puritan/v24/845YNMgkAJ2VTtIo9JrwRdaI50M.ttf",italic:"https://fonts.gstatic.com/s/puritan/v24/845aNMgkAJ2VTtIoxJj6QfSN90PfXA.ttf","700italic":"https://fonts.gstatic.com/s/puritan/v24/845fNMgkAJ2VTtIoxJjC_dup_2jDVevnLQ.ttf"}},{family:"Purple Purse",files:{regular:"https://fonts.gstatic.com/s/purplepurse/v21/qWctB66gv53iAp-Vfs4My6qyeBb_ujA4ug.ttf"}},{family:"Qahiri",files:{regular:"https://fonts.gstatic.com/s/qahiri/v9/tsssAp1RZy0C_hGuU3Chrnmupw.ttf"}},{family:"Quando",files:{regular:"https://fonts.gstatic.com/s/quando/v14/xMQVuFNaVa6YuW0pC6WzKX_QmA.ttf"}},{family:"Quantico",files:{700:"https://fonts.gstatic.com/s/quantico/v15/rax5HiSdp9cPL3KIF7TQARhasU7Q8Cad.ttf",regular:"https://fonts.gstatic.com/s/quantico/v15/rax-HiSdp9cPL3KIF4xsLjxSmlLZ.ttf",italic:"https://fonts.gstatic.com/s/quantico/v15/rax4HiSdp9cPL3KIF7xuJDhwn0LZ6T8.ttf","700italic":"https://fonts.gstatic.com/s/quantico/v15/rax7HiSdp9cPL3KIF7xuHIRfu0ry9TadML4.ttf"}},{family:"Quattrocento",files:{700:"https://fonts.gstatic.com/s/quattrocento/v18/OZpbg_xvsDZQL_LKIF7q4jP_eE3fd6PZsXcM9w.ttf",regular:"https://fonts.gstatic.com/s/quattrocento/v18/OZpEg_xvsDZQL_LKIF7q4jPHxGL7f4jFuA.ttf"}},{family:"Quattrocento Sans",files:{700:"https://fonts.gstatic.com/s/quattrocentosans/v18/va9Z4lja2NVIDdIAAoMR5MfuElaRB0RykmrWN33AiasJ.ttf",regular:"https://fonts.gstatic.com/s/quattrocentosans/v18/va9c4lja2NVIDdIAAoMR5MfuElaRB3zOvU7eHGHJ.ttf",italic:"https://fonts.gstatic.com/s/quattrocentosans/v18/va9a4lja2NVIDdIAAoMR5MfuElaRB0zMt0r8GXHJkLI.ttf","700italic":"https://fonts.gstatic.com/s/quattrocentosans/v18/va9X4lja2NVIDdIAAoMR5MfuElaRB0zMj_bTPXnijLsJV7E.ttf"}},{family:"Questrial",files:{regular:"https://fonts.gstatic.com/s/questrial/v18/QdVUSTchPBm7nuUeVf7EuStkm20oJA.ttf"}},{family:"Quicksand",files:{300:"https://fonts.gstatic.com/s/quicksand/v30/6xK-dSZaM9iE8KbpRA_LJ3z8mH9BOJvgkKEo18G0wx40QDw.ttf",500:"https://fonts.gstatic.com/s/quicksand/v30/6xK-dSZaM9iE8KbpRA_LJ3z8mH9BOJvgkM0o18G0wx40QDw.ttf",600:"https://fonts.gstatic.com/s/quicksand/v30/6xK-dSZaM9iE8KbpRA_LJ3z8mH9BOJvgkCEv18G0wx40QDw.ttf",700:"https://fonts.gstatic.com/s/quicksand/v30/6xK-dSZaM9iE8KbpRA_LJ3z8mH9BOJvgkBgv18G0wx40QDw.ttf",regular:"https://fonts.gstatic.com/s/quicksand/v30/6xK-dSZaM9iE8KbpRA_LJ3z8mH9BOJvgkP8o18G0wx40QDw.ttf"}},{family:"Quintessential",files:{regular:"https://fonts.gstatic.com/s/quintessential/v20/fdNn9sOGq31Yjnh3qWU14DdtjY5wS7kmAyxM.ttf"}},{family:"Qwigley",files:{regular:"https://fonts.gstatic.com/s/qwigley/v16/1cXzaU3UGJb5tGoCuVxsi1mBmcE.ttf"}},{family:"Qwitcher Grypen",files:{700:"https://fonts.gstatic.com/s/qwitchergrypen/v3/pxiZypclp9tDilN9RrC5BSI1dZmT9ExkqkSsrvNXiA.ttf",regular:"https://fonts.gstatic.com/s/qwitchergrypen/v3/pxicypclp9tDilN9RrC5BSI1dZmrSGNAom-wpw.ttf"}},{family:"Racing Sans One",files:{regular:"https://fonts.gstatic.com/s/racingsansone/v13/sykr-yRtm7EvTrXNxkv5jfKKyDCwL3rmWpIBtA.ttf"}},{family:"Radio Canada",files:{300:"https://fonts.gstatic.com/s/radiocanada/v21/XRX13ISXn0dBMcibU6jlAqr3ejLv5OLZYiYXik6db2P4jxxlsls-0nESkQPIJOdSSfOT.ttf",500:"https://fonts.gstatic.com/s/radiocanada/v21/XRX13ISXn0dBMcibU6jlAqr3ejLv5OLZYiYXik6db2P4jxxlsls-0nF-kQPIJOdSSfOT.ttf",600:"https://fonts.gstatic.com/s/radiocanada/v21/XRX13ISXn0dBMcibU6jlAqr3ejLv5OLZYiYXik6db2P4jxxlsls-0nGSlgPIJOdSSfOT.ttf",700:"https://fonts.gstatic.com/s/radiocanada/v21/XRX13ISXn0dBMcibU6jlAqr3ejLv5OLZYiYXik6db2P4jxxlsls-0nGrlgPIJOdSSfOT.ttf",regular:"https://fonts.gstatic.com/s/radiocanada/v21/XRX13ISXn0dBMcibU6jlAqr3ejLv5OLZYiYXik6db2P4jxxlsls-0nFMkQPIJOdSSfOT.ttf","300italic":"https://fonts.gstatic.com/s/radiocanada/v21/XRX33ISXn0dBMcibU6jlAqrdcwAMBJuK9IgQn4bfnSrKcMQM2cGQ1WSE0rWLLuNwTOOTa9k.ttf",italic:"https://fonts.gstatic.com/s/radiocanada/v21/XRX33ISXn0dBMcibU6jlAqrdcwAMBJuK9IgQn4bfnSrKcMQM2cGQ1WSE0uuLLuNwTOOTa9k.ttf","500italic":"https://fonts.gstatic.com/s/radiocanada/v21/XRX33ISXn0dBMcibU6jlAqrdcwAMBJuK9IgQn4bfnSrKcMQM2cGQ1WSE0tmLLuNwTOOTa9k.ttf","600italic":"https://fonts.gstatic.com/s/radiocanada/v21/XRX33ISXn0dBMcibU6jlAqrdcwAMBJuK9IgQn4bfnSrKcMQM2cGQ1WSE0jWMLuNwTOOTa9k.ttf","700italic":"https://fonts.gstatic.com/s/radiocanada/v21/XRX33ISXn0dBMcibU6jlAqrdcwAMBJuK9IgQn4bfnSrKcMQM2cGQ1WSE0gyMLuNwTOOTa9k.ttf"}},{family:"Radley",files:{regular:"https://fonts.gstatic.com/s/radley/v20/LYjDdGzinEIjCN19oAlEpVs3VQ.ttf",italic:"https://fonts.gstatic.com/s/radley/v20/LYjBdGzinEIjCN1NogNAh14nVcfe.ttf"}},{family:"Rajdhani",files:{300:"https://fonts.gstatic.com/s/rajdhani/v15/LDI2apCSOBg7S-QT7pasEcOsc-bGkqIw.ttf",500:"https://fonts.gstatic.com/s/rajdhani/v15/LDI2apCSOBg7S-QT7pb0EMOsc-bGkqIw.ttf",600:"https://fonts.gstatic.com/s/rajdhani/v15/LDI2apCSOBg7S-QT7pbYF8Osc-bGkqIw.ttf",700:"https://fonts.gstatic.com/s/rajdhani/v15/LDI2apCSOBg7S-QT7pa8FsOsc-bGkqIw.ttf",regular:"https://fonts.gstatic.com/s/rajdhani/v15/LDIxapCSOBg7S-QT7q4AOeekWPrP.ttf"}},{family:"Rakkas",files:{regular:"https://fonts.gstatic.com/s/rakkas/v17/Qw3cZQlNHiblL3j_lttPOeMcCw.ttf"}},{family:"Raleway",files:{100:"https://fonts.gstatic.com/s/raleway/v28/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVvao4CPNLA3JC9c.ttf",200:"https://fonts.gstatic.com/s/raleway/v28/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVtaooCPNLA3JC9c.ttf",300:"https://fonts.gstatic.com/s/raleway/v28/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVuEooCPNLA3JC9c.ttf",500:"https://fonts.gstatic.com/s/raleway/v28/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVvoooCPNLA3JC9c.ttf",600:"https://fonts.gstatic.com/s/raleway/v28/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVsEpYCPNLA3JC9c.ttf",700:"https://fonts.gstatic.com/s/raleway/v28/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVs9pYCPNLA3JC9c.ttf",800:"https://fonts.gstatic.com/s/raleway/v28/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVtapYCPNLA3JC9c.ttf",900:"https://fonts.gstatic.com/s/raleway/v28/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVtzpYCPNLA3JC9c.ttf",regular:"https://fonts.gstatic.com/s/raleway/v28/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVvaooCPNLA3JC9c.ttf","100italic":"https://fonts.gstatic.com/s/raleway/v28/1Pt_g8zYS_SKggPNyCgSQamb1W0lwk4S4WjNPrQVIT9c2c8.ttf","200italic":"https://fonts.gstatic.com/s/raleway/v28/1Pt_g8zYS_SKggPNyCgSQamb1W0lwk4S4ejMPrQVIT9c2c8.ttf","300italic":"https://fonts.gstatic.com/s/raleway/v28/1Pt_g8zYS_SKggPNyCgSQamb1W0lwk4S4TbMPrQVIT9c2c8.ttf",italic:"https://fonts.gstatic.com/s/raleway/v28/1Pt_g8zYS_SKggPNyCgSQamb1W0lwk4S4WjMPrQVIT9c2c8.ttf","500italic":"https://fonts.gstatic.com/s/raleway/v28/1Pt_g8zYS_SKggPNyCgSQamb1W0lwk4S4VrMPrQVIT9c2c8.ttf","600italic":"https://fonts.gstatic.com/s/raleway/v28/1Pt_g8zYS_SKggPNyCgSQamb1W0lwk4S4bbLPrQVIT9c2c8.ttf","700italic":"https://fonts.gstatic.com/s/raleway/v28/1Pt_g8zYS_SKggPNyCgSQamb1W0lwk4S4Y_LPrQVIT9c2c8.ttf","800italic":"https://fonts.gstatic.com/s/raleway/v28/1Pt_g8zYS_SKggPNyCgSQamb1W0lwk4S4ejLPrQVIT9c2c8.ttf","900italic":"https://fonts.gstatic.com/s/raleway/v28/1Pt_g8zYS_SKggPNyCgSQamb1W0lwk4S4cHLPrQVIT9c2c8.ttf"}},{family:"Raleway Dots",files:{regular:"https://fonts.gstatic.com/s/ralewaydots/v14/6NUR8FifJg6AfQvzpshgwJ8kyf9Fdty2ew.ttf"}},{family:"Ramabhadra",files:{regular:"https://fonts.gstatic.com/s/ramabhadra/v15/EYq2maBOwqRW9P1SQ83LehNGX5uWw3o.ttf"}},{family:"Ramaraja",files:{regular:"https://fonts.gstatic.com/s/ramaraja/v15/SlGTmQearpYAYG1CABIkqnB6aSQU.ttf"}},{family:"Rambla",files:{700:"https://fonts.gstatic.com/s/rambla/v13/snfos0ip98hx6mrMn50qPvN4yJuDYQ.ttf",regular:"https://fonts.gstatic.com/s/rambla/v13/snfrs0ip98hx6mr0I7IONthkwQ.ttf",italic:"https://fonts.gstatic.com/s/rambla/v13/snfps0ip98hx6mrEIbgKFN10wYKa.ttf","700italic":"https://fonts.gstatic.com/s/rambla/v13/snfus0ip98hx6mrEIYC2O_l86p6TYS-Y.ttf"}},{family:"Rammetto One",files:{regular:"https://fonts.gstatic.com/s/rammettoone/v15/LhWiMV3HOfMbMetJG3lQDpp9Mvuciu-_SQ.ttf"}},{family:"Rampart One",files:{regular:"https://fonts.gstatic.com/s/rampartone/v7/K2F1fZFGl_JSR1tAWNG9R6qgLS76ZHOM.ttf"}},{family:"Ranchers",files:{regular:"https://fonts.gstatic.com/s/ranchers/v14/zrfm0H3Lx-P2Xvs2AoDYDC79XTHv.ttf"}},{family:"Rancho",files:{regular:"https://fonts.gstatic.com/s/rancho/v17/46kulbzmXjLaqZRlbWXgd0RY1g.ttf"}},{family:"Ranga",files:{700:"https://fonts.gstatic.com/s/ranga/v18/C8cg4cYisGb28qY-AxgR6X2NZAn2.ttf",regular:"https://fonts.gstatic.com/s/ranga/v18/C8ct4cYisGb28p6CLDwZwmGE.ttf"}},{family:"Rasa",files:{300:"https://fonts.gstatic.com/s/rasa/v20/xn76YHIn1mWmVKl8ZtAM9NrJfN4YJW41fcvN2KT4.ttf",500:"https://fonts.gstatic.com/s/rasa/v20/xn76YHIn1mWmVKl8ZtAM9NrJfN50JW41fcvN2KT4.ttf",600:"https://fonts.gstatic.com/s/rasa/v20/xn76YHIn1mWmVKl8ZtAM9NrJfN6YIm41fcvN2KT4.ttf",700:"https://fonts.gstatic.com/s/rasa/v20/xn76YHIn1mWmVKl8ZtAM9NrJfN6hIm41fcvN2KT4.ttf",regular:"https://fonts.gstatic.com/s/rasa/v20/xn76YHIn1mWmVKl8ZtAM9NrJfN5GJW41fcvN2KT4.ttf","300italic":"https://fonts.gstatic.com/s/rasa/v20/xn78YHIn1mWmfqBOmQhln0Bne8uOZth2d8_v3bT4Ycc.ttf",italic:"https://fonts.gstatic.com/s/rasa/v20/xn78YHIn1mWmfqBOmQhln0Bne8uOZoZ2d8_v3bT4Ycc.ttf","500italic":"https://fonts.gstatic.com/s/rasa/v20/xn78YHIn1mWmfqBOmQhln0Bne8uOZrR2d8_v3bT4Ycc.ttf","600italic":"https://fonts.gstatic.com/s/rasa/v20/xn78YHIn1mWmfqBOmQhln0Bne8uOZlhxd8_v3bT4Ycc.ttf","700italic":"https://fonts.gstatic.com/s/rasa/v20/xn78YHIn1mWmfqBOmQhln0Bne8uOZmFxd8_v3bT4Ycc.ttf"}},{family:"Rationale",files:{regular:"https://fonts.gstatic.com/s/rationale/v24/9XUnlJ92n0_JFxHIfHcsdlFMzLC2Zw.ttf"}},{family:"Ravi Prakash",files:{regular:"https://fonts.gstatic.com/s/raviprakash/v19/gokpH6fsDkVrF9Bv9X8SOAKHmNZEq6TTFw.ttf"}},{family:"Readex Pro",files:{200:"https://fonts.gstatic.com/s/readexpro/v21/SLXnc1bJ7HE5YDoGPuzj_dh8uc7wUy8ZQQyX2KY8TL0kGZN6blTCYUSmgmsglvjkag.ttf",300:"https://fonts.gstatic.com/s/readexpro/v21/SLXnc1bJ7HE5YDoGPuzj_dh8uc7wUy8ZQQyX2KY8TL0kGZN6blTCv0Smgmsglvjkag.ttf",500:"https://fonts.gstatic.com/s/readexpro/v21/SLXnc1bJ7HE5YDoGPuzj_dh8uc7wUy8ZQQyX2KY8TL0kGZN6blTC00Smgmsglvjkag.ttf",600:"https://fonts.gstatic.com/s/readexpro/v21/SLXnc1bJ7HE5YDoGPuzj_dh8uc7wUy8ZQQyX2KY8TL0kGZN6blTCP0Omgmsglvjkag.ttf",700:"https://fonts.gstatic.com/s/readexpro/v21/SLXnc1bJ7HE5YDoGPuzj_dh8uc7wUy8ZQQyX2KY8TL0kGZN6blTCBkOmgmsglvjkag.ttf",regular:"https://fonts.gstatic.com/s/readexpro/v21/SLXnc1bJ7HE5YDoGPuzj_dh8uc7wUy8ZQQyX2KY8TL0kGZN6blTC4USmgmsglvjkag.ttf"}},{family:"Recursive",files:{300:"https://fonts.gstatic.com/s/recursive/v37/8vJN7wMr0mhh-RQChyHEH06TlXhq_gukbYrFMk1QuAIcyEwG_X-dpEfaE5YaERmK-CImKsvxvU-MXGX2fSqasNfUvz2xbXfn1uEQadDck018vwxjDJCL.ttf",500:"https://fonts.gstatic.com/s/recursive/v37/8vJN7wMr0mhh-RQChyHEH06TlXhq_gukbYrFMk1QuAIcyEwG_X-dpEfaE5YaERmK-CImKsvxvU-MXGX2fSqasNfUvz2xbXfn1uEQadCwk018vwxjDJCL.ttf",600:"https://fonts.gstatic.com/s/recursive/v37/8vJN7wMr0mhh-RQChyHEH06TlXhq_gukbYrFMk1QuAIcyEwG_X-dpEfaE5YaERmK-CImKsvxvU-MXGX2fSqasNfUvz2xbXfn1uEQadBclE18vwxjDJCL.ttf",700:"https://fonts.gstatic.com/s/recursive/v37/8vJN7wMr0mhh-RQChyHEH06TlXhq_gukbYrFMk1QuAIcyEwG_X-dpEfaE5YaERmK-CImKsvxvU-MXGX2fSqasNfUvz2xbXfn1uEQadBllE18vwxjDJCL.ttf",800:"https://fonts.gstatic.com/s/recursive/v37/8vJN7wMr0mhh-RQChyHEH06TlXhq_gukbYrFMk1QuAIcyEwG_X-dpEfaE5YaERmK-CImKsvxvU-MXGX2fSqasNfUvz2xbXfn1uEQadAClE18vwxjDJCL.ttf",900:"https://fonts.gstatic.com/s/recursive/v37/8vJN7wMr0mhh-RQChyHEH06TlXhq_gukbYrFMk1QuAIcyEwG_X-dpEfaE5YaERmK-CImKsvxvU-MXGX2fSqasNfUvz2xbXfn1uEQadArlE18vwxjDJCL.ttf",regular:"https://fonts.gstatic.com/s/recursive/v37/8vJN7wMr0mhh-RQChyHEH06TlXhq_gukbYrFMk1QuAIcyEwG_X-dpEfaE5YaERmK-CImKsvxvU-MXGX2fSqasNfUvz2xbXfn1uEQadCCk018vwxjDJCL.ttf"}},{family:"Red Hat Display",files:{300:"https://fonts.gstatic.com/s/redhatdisplay/v14/8vIf7wUr0m80wwYf0QCXZzYzUoTK8RZQvRd-D1NYbjKWckg5-Xecg3w.ttf",500:"https://fonts.gstatic.com/s/redhatdisplay/v14/8vIf7wUr0m80wwYf0QCXZzYzUoTK8RZQvRd-D1NYbl6Wckg5-Xecg3w.ttf",600:"https://fonts.gstatic.com/s/redhatdisplay/v14/8vIf7wUr0m80wwYf0QCXZzYzUoTK8RZQvRd-D1NYbrKRckg5-Xecg3w.ttf",700:"https://fonts.gstatic.com/s/redhatdisplay/v14/8vIf7wUr0m80wwYf0QCXZzYzUoTK8RZQvRd-D1NYbouRckg5-Xecg3w.ttf",800:"https://fonts.gstatic.com/s/redhatdisplay/v14/8vIf7wUr0m80wwYf0QCXZzYzUoTK8RZQvRd-D1NYbuyRckg5-Xecg3w.ttf",900:"https://fonts.gstatic.com/s/redhatdisplay/v14/8vIf7wUr0m80wwYf0QCXZzYzUoTK8RZQvRd-D1NYbsWRckg5-Xecg3w.ttf",regular:"https://fonts.gstatic.com/s/redhatdisplay/v14/8vIf7wUr0m80wwYf0QCXZzYzUoTK8RZQvRd-D1NYbmyWckg5-Xecg3w.ttf","300italic":"https://fonts.gstatic.com/s/redhatdisplay/v14/8vIh7wUr0m80wwYf0QCXZzYzUoTg-CSvZX4Vlf1fe6TVxAsz_VWZk3zJGg.ttf",italic:"https://fonts.gstatic.com/s/redhatdisplay/v14/8vIh7wUr0m80wwYf0QCXZzYzUoTg-CSvZX4Vlf1fe6TVmgsz_VWZk3zJGg.ttf","500italic":"https://fonts.gstatic.com/s/redhatdisplay/v14/8vIh7wUr0m80wwYf0QCXZzYzUoTg-CSvZX4Vlf1fe6TVqAsz_VWZk3zJGg.ttf","600italic":"https://fonts.gstatic.com/s/redhatdisplay/v14/8vIh7wUr0m80wwYf0QCXZzYzUoTg-CSvZX4Vlf1fe6TVRAwz_VWZk3zJGg.ttf","700italic":"https://fonts.gstatic.com/s/redhatdisplay/v14/8vIh7wUr0m80wwYf0QCXZzYzUoTg-CSvZX4Vlf1fe6TVfQwz_VWZk3zJGg.ttf","800italic":"https://fonts.gstatic.com/s/redhatdisplay/v14/8vIh7wUr0m80wwYf0QCXZzYzUoTg-CSvZX4Vlf1fe6TVGgwz_VWZk3zJGg.ttf","900italic":"https://fonts.gstatic.com/s/redhatdisplay/v14/8vIh7wUr0m80wwYf0QCXZzYzUoTg-CSvZX4Vlf1fe6TVMwwz_VWZk3zJGg.ttf"}},{family:"Red Hat Mono",files:{300:"https://fonts.gstatic.com/s/redhatmono/v10/jVyY7nDnA2uf2zVvFAhhzEs-VMSjJpBTfgjwQQPI-7HNuW4QuKI.ttf",500:"https://fonts.gstatic.com/s/redhatmono/v10/jVyY7nDnA2uf2zVvFAhhzEs-VMSjJpBTfgjwQW_I-7HNuW4QuKI.ttf",600:"https://fonts.gstatic.com/s/redhatmono/v10/jVyY7nDnA2uf2zVvFAhhzEs-VMSjJpBTfgjwQYPP-7HNuW4QuKI.ttf",700:"https://fonts.gstatic.com/s/redhatmono/v10/jVyY7nDnA2uf2zVvFAhhzEs-VMSjJpBTfgjwQbrP-7HNuW4QuKI.ttf",regular:"https://fonts.gstatic.com/s/redhatmono/v10/jVyY7nDnA2uf2zVvFAhhzEs-VMSjJpBTfgjwQV3I-7HNuW4QuKI.ttf","300italic":"https://fonts.gstatic.com/s/redhatmono/v10/jVye7nDnA2uf2zVvFAhhzEsUXfZc_vk45Kb3VJWLTfLHvUwVqKIJuw.ttf",italic:"https://fonts.gstatic.com/s/redhatmono/v10/jVye7nDnA2uf2zVvFAhhzEsUXfZc_vk45Kb3VJWLE_LHvUwVqKIJuw.ttf","500italic":"https://fonts.gstatic.com/s/redhatmono/v10/jVye7nDnA2uf2zVvFAhhzEsUXfZc_vk45Kb3VJWLIfLHvUwVqKIJuw.ttf","600italic":"https://fonts.gstatic.com/s/redhatmono/v10/jVye7nDnA2uf2zVvFAhhzEsUXfZc_vk45Kb3VJWLzfXHvUwVqKIJuw.ttf","700italic":"https://fonts.gstatic.com/s/redhatmono/v10/jVye7nDnA2uf2zVvFAhhzEsUXfZc_vk45Kb3VJWL9PXHvUwVqKIJuw.ttf"}},{family:"Red Hat Text",files:{300:"https://fonts.gstatic.com/s/redhattext/v13/RrQCbohi_ic6B3yVSzGBrMx6ZI_cy1A6Ok2ML-ZwVrbacYVFtIY.ttf",500:"https://fonts.gstatic.com/s/redhattext/v13/RrQCbohi_ic6B3yVSzGBrMx6ZI_cy1A6Ok2ML4pwVrbacYVFtIY.ttf",600:"https://fonts.gstatic.com/s/redhattext/v13/RrQCbohi_ic6B3yVSzGBrMx6ZI_cy1A6Ok2ML2Z3VrbacYVFtIY.ttf",700:"https://fonts.gstatic.com/s/redhattext/v13/RrQCbohi_ic6B3yVSzGBrMx6ZI_cy1A6Ok2ML193VrbacYVFtIY.ttf",regular:"https://fonts.gstatic.com/s/redhattext/v13/RrQCbohi_ic6B3yVSzGBrMx6ZI_cy1A6Ok2ML7hwVrbacYVFtIY.ttf","300italic":"https://fonts.gstatic.com/s/redhattext/v13/RrQEbohi_ic6B3yVSzGBrMxQbb0jEzlRoOOLOnAz4PXQdadApIYv_g.ttf",italic:"https://fonts.gstatic.com/s/redhattext/v13/RrQEbohi_ic6B3yVSzGBrMxQbb0jEzlRoOOLOnAzvvXQdadApIYv_g.ttf","500italic":"https://fonts.gstatic.com/s/redhattext/v13/RrQEbohi_ic6B3yVSzGBrMxQbb0jEzlRoOOLOnAzjPXQdadApIYv_g.ttf","600italic":"https://fonts.gstatic.com/s/redhattext/v13/RrQEbohi_ic6B3yVSzGBrMxQbb0jEzlRoOOLOnAzYPLQdadApIYv_g.ttf","700italic":"https://fonts.gstatic.com/s/redhattext/v13/RrQEbohi_ic6B3yVSzGBrMxQbb0jEzlRoOOLOnAzWfLQdadApIYv_g.ttf"}},{family:"Red Rose",files:{300:"https://fonts.gstatic.com/s/redrose/v18/QdVISTYiLBjouPgEUajvsfWwDtc3MH8y8_sDcjSsYUVUjg.ttf",500:"https://fonts.gstatic.com/s/redrose/v18/QdVISTYiLBjouPgEUajvsfWwDtc3MH8yn_sDcjSsYUVUjg.ttf",600:"https://fonts.gstatic.com/s/redrose/v18/QdVISTYiLBjouPgEUajvsfWwDtc3MH8yc_wDcjSsYUVUjg.ttf",700:"https://fonts.gstatic.com/s/redrose/v18/QdVISTYiLBjouPgEUajvsfWwDtc3MH8ySvwDcjSsYUVUjg.ttf",regular:"https://fonts.gstatic.com/s/redrose/v18/QdVISTYiLBjouPgEUajvsfWwDtc3MH8yrfsDcjSsYUVUjg.ttf"}},{family:"Redacted",files:{regular:"https://fonts.gstatic.com/s/redacted/v6/Z9XVDmdRShme2O_7aITe4u2El6GC.ttf"}},{family:"Redacted Script",files:{300:"https://fonts.gstatic.com/s/redactedscript/v7/ypvEbXGRglhokR7dcC3d1-R6zmxqHUzVmbI397ldkg.ttf",700:"https://fonts.gstatic.com/s/redactedscript/v7/ypvEbXGRglhokR7dcC3d1-R6zmxqDUvVmbI397ldkg.ttf",regular:"https://fonts.gstatic.com/s/redactedscript/v7/ypvBbXGRglhokR7dcC3d1-R6zmxSsWTxkZkr_g.ttf"}},{family:"Redressed",files:{regular:"https://fonts.gstatic.com/s/redressed/v25/x3dickHUbrmJ7wMy9MsBfPACvy_1BA.ttf"}},{family:"Reem Kufi",files:{500:"https://fonts.gstatic.com/s/reemkufi/v20/2sDPZGJLip7W2J7v7wQZZE1I0yCmYzzQttRnEGGf3qGuvM4.ttf",600:"https://fonts.gstatic.com/s/reemkufi/v20/2sDPZGJLip7W2J7v7wQZZE1I0yCmYzzQtjhgEGGf3qGuvM4.ttf",700:"https://fonts.gstatic.com/s/reemkufi/v20/2sDPZGJLip7W2J7v7wQZZE1I0yCmYzzQtgFgEGGf3qGuvM4.ttf",regular:"https://fonts.gstatic.com/s/reemkufi/v20/2sDPZGJLip7W2J7v7wQZZE1I0yCmYzzQtuZnEGGf3qGuvM4.ttf"}},{family:"Reem Kufi Fun",files:{500:"https://fonts.gstatic.com/s/reemkufifun/v7/uK_m4rOFYukkmyUEbF43fIryZEk5qRZ8nrKChoYR3nCgrvqZzZXq.ttf",600:"https://fonts.gstatic.com/s/reemkufifun/v7/uK_m4rOFYukkmyUEbF43fIryZEk5qRZ8nrKChob92XCgrvqZzZXq.ttf",700:"https://fonts.gstatic.com/s/reemkufifun/v7/uK_m4rOFYukkmyUEbF43fIryZEk5qRZ8nrKChobE2XCgrvqZzZXq.ttf",regular:"https://fonts.gstatic.com/s/reemkufifun/v7/uK_m4rOFYukkmyUEbF43fIryZEk5qRZ8nrKChoYj3nCgrvqZzZXq.ttf"}},{family:"Reem Kufi Ink",files:{regular:"https://fonts.gstatic.com/s/reemkufiink/v8/oPWJ_kJmmu8hCvB9iFumxZSnRj5dQnSX1ko.ttf"}},{family:"Reenie Beanie",files:{regular:"https://fonts.gstatic.com/s/reeniebeanie/v16/z7NSdR76eDkaJKZJFkkjuvWxbP2_qoOgf_w.ttf"}},{family:"Reggae One",files:{regular:"https://fonts.gstatic.com/s/reggaeone/v15/~CgwKClJlZ2dhZSBPbmUgACoECAEYAQ==.ttf"}},{family:"Revalia",files:{regular:"https://fonts.gstatic.com/s/revalia/v20/WwkexPimBE2-4ZPEeVruNIgJSNM.ttf"}},{family:"Rhodium Libre",files:{regular:"https://fonts.gstatic.com/s/rhodiumlibre/v17/1q2AY5adA0tn_ukeHcQHqpx6pETLeo2gm2U.ttf"}},{family:"Ribeye",files:{regular:"https://fonts.gstatic.com/s/ribeye/v22/L0x8DFMxk1MP9R3RvPCmRSlUig.ttf"}},{family:"Ribeye Marrow",files:{regular:"https://fonts.gstatic.com/s/ribeyemarrow/v22/GFDsWApshnqMRO2JdtRZ2d0vEAwTVWgKdtw.ttf"}},{family:"Righteous",files:{regular:"https://fonts.gstatic.com/s/righteous/v14/1cXxaUPXBpj2rGoU7C9mj3uEicG01A.ttf"}},{family:"Risque",files:{regular:"https://fonts.gstatic.com/s/risque/v20/VdGfAZUfHosahXxoCUYVBJ-T5g.ttf"}},{family:"Road Rage",files:{regular:"https://fonts.gstatic.com/s/roadrage/v5/6NUU8F2fKAOBKjjr4ekvtMYAwdRZfw.ttf"}},{family:"Roboto",files:{100:"https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1MmgWxPKTM1K9nz.ttf",300:"https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5vAx05IsDqlA.ttf",500:"https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9vAx05IsDqlA.ttf",700:"https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlvAx05IsDqlA.ttf",900:"https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmYUtvAx05IsDqlA.ttf","100italic":"https://fonts.gstatic.com/s/roboto/v30/KFOiCnqEu92Fr1Mu51QrIzcXLsnzjYk.ttf","300italic":"https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TjARc9AMX6lJBP.ttf",regular:"https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Me5WZLCzYlKw.ttf",italic:"https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1Mu52xPKTM1K9nz.ttf","500italic":"https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51S7ABc9AMX6lJBP.ttf","700italic":"https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TzBhc9AMX6lJBP.ttf","900italic":"https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TLBBc9AMX6lJBP.ttf"}},{family:"Roboto Condensed",files:{300:"https://fonts.gstatic.com/s/robotocondensed/v25/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZKCMSbvtdYyQ.ttf",700:"https://fonts.gstatic.com/s/robotocondensed/v25/ieVi2ZhZI2eCN5jzbjEETS9weq8-32meKCMSbvtdYyQ.ttf","300italic":"https://fonts.gstatic.com/s/robotocondensed/v25/ieVg2ZhZI2eCN5jzbjEETS9weq8-19eDpCEYatlYcyRi4A.ttf",regular:"https://fonts.gstatic.com/s/robotocondensed/v25/ieVl2ZhZI2eCN5jzbjEETS9weq8-59WxDCs5cvI.ttf",italic:"https://fonts.gstatic.com/s/robotocondensed/v25/ieVj2ZhZI2eCN5jzbjEETS9weq8-19e7CAk8YvJEeg.ttf","700italic":"https://fonts.gstatic.com/s/robotocondensed/v25/ieVg2ZhZI2eCN5jzbjEETS9weq8-19eDtCYYatlYcyRi4A.ttf"}},{family:"Roboto Flex",files:{regular:"https://fonts.gstatic.com/s/robotoflex/v9/NaN4epOXO_NexZs0b5QrzlOHb8wCikXpYqmZsWI-__OGfttPZktqc2VdZ80KvCLZaPcSBZtOx2MifRuWR28sPJtUMbsFEK6cRrleUx9Xgbm3WLHa_F4Ep4Fm0PN19Ik5Dntczx0wZGzhPlL1YNMYKbv9_1IQXOw7AiUJVXpRJ6cXW4O8TNGoXjC79QRyaLshNDUf3e0O-gn5rrZCu20YNYG0EACUTNK-QKavMlxGIY8dxef0jQ.ttf"}},{family:"Roboto Mono",files:{100:"https://fonts.gstatic.com/s/robotomono/v22/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vuPQ--5Ip2sSQ.ttf",200:"https://fonts.gstatic.com/s/robotomono/v22/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_XvqPQ--5Ip2sSQ.ttf",300:"https://fonts.gstatic.com/s/robotomono/v22/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_gPqPQ--5Ip2sSQ.ttf",500:"https://fonts.gstatic.com/s/robotomono/v22/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_7PqPQ--5Ip2sSQ.ttf",600:"https://fonts.gstatic.com/s/robotomono/v22/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_AP2PQ--5Ip2sSQ.ttf",700:"https://fonts.gstatic.com/s/robotomono/v22/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_Of2PQ--5Ip2sSQ.ttf",regular:"https://fonts.gstatic.com/s/robotomono/v22/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vqPQ--5Ip2sSQ.ttf","100italic":"https://fonts.gstatic.com/s/robotomono/v22/L0xoDF4xlVMF-BfR8bXMIjhOsXG-q2oeuFoqFrlnAeW9AJi8SZwt.ttf","200italic":"https://fonts.gstatic.com/s/robotomono/v22/L0xoDF4xlVMF-BfR8bXMIjhOsXG-q2oeuFoqFrnnAOW9AJi8SZwt.ttf","300italic":"https://fonts.gstatic.com/s/robotomono/v22/L0xoDF4xlVMF-BfR8bXMIjhOsXG-q2oeuFoqFrk5AOW9AJi8SZwt.ttf",italic:"https://fonts.gstatic.com/s/robotomono/v22/L0xoDF4xlVMF-BfR8bXMIjhOsXG-q2oeuFoqFrlnAOW9AJi8SZwt.ttf","500italic":"https://fonts.gstatic.com/s/robotomono/v22/L0xoDF4xlVMF-BfR8bXMIjhOsXG-q2oeuFoqFrlVAOW9AJi8SZwt.ttf","600italic":"https://fonts.gstatic.com/s/robotomono/v22/L0xoDF4xlVMF-BfR8bXMIjhOsXG-q2oeuFoqFrm5B-W9AJi8SZwt.ttf","700italic":"https://fonts.gstatic.com/s/robotomono/v22/L0xoDF4xlVMF-BfR8bXMIjhOsXG-q2oeuFoqFrmAB-W9AJi8SZwt.ttf"}},{family:"Roboto Serif",files:{100:"https://fonts.gstatic.com/s/robotoserif/v13/R71RjywflP6FLr3gZx7K8UyuXDs9zVwDmXCb8lxYgmuii32UGoVldX6UgfjL4-3sMM_kB_qXSEXTJQCFLH5-_bcEliosp6d2Af5fR4k.ttf",200:"https://fonts.gstatic.com/s/robotoserif/v13/R71RjywflP6FLr3gZx7K8UyuXDs9zVwDmXCb8lxYgmuii32UGoVldX6UgfjL4-3sMM_kB_qXSEXTJQCFLH5-_bcElqotp6d2Af5fR4k.ttf",300:"https://fonts.gstatic.com/s/robotoserif/v13/R71RjywflP6FLr3gZx7K8UyuXDs9zVwDmXCb8lxYgmuii32UGoVldX6UgfjL4-3sMM_kB_qXSEXTJQCFLH5-_bcElnQtp6d2Af5fR4k.ttf",500:"https://fonts.gstatic.com/s/robotoserif/v13/R71RjywflP6FLr3gZx7K8UyuXDs9zVwDmXCb8lxYgmuii32UGoVldX6UgfjL4-3sMM_kB_qXSEXTJQCFLH5-_bcElhgtp6d2Af5fR4k.ttf",600:"https://fonts.gstatic.com/s/robotoserif/v13/R71RjywflP6FLr3gZx7K8UyuXDs9zVwDmXCb8lxYgmuii32UGoVldX6UgfjL4-3sMM_kB_qXSEXTJQCFLH5-_bcElvQqp6d2Af5fR4k.ttf",700:"https://fonts.gstatic.com/s/robotoserif/v13/R71RjywflP6FLr3gZx7K8UyuXDs9zVwDmXCb8lxYgmuii32UGoVldX6UgfjL4-3sMM_kB_qXSEXTJQCFLH5-_bcEls0qp6d2Af5fR4k.ttf",800:"https://fonts.gstatic.com/s/robotoserif/v13/R71RjywflP6FLr3gZx7K8UyuXDs9zVwDmXCb8lxYgmuii32UGoVldX6UgfjL4-3sMM_kB_qXSEXTJQCFLH5-_bcElqoqp6d2Af5fR4k.ttf",900:"https://fonts.gstatic.com/s/robotoserif/v13/R71RjywflP6FLr3gZx7K8UyuXDs9zVwDmXCb8lxYgmuii32UGoVldX6UgfjL4-3sMM_kB_qXSEXTJQCFLH5-_bcEloMqp6d2Af5fR4k.ttf",regular:"https://fonts.gstatic.com/s/robotoserif/v13/R71RjywflP6FLr3gZx7K8UyuXDs9zVwDmXCb8lxYgmuii32UGoVldX6UgfjL4-3sMM_kB_qXSEXTJQCFLH5-_bcEliotp6d2Af5fR4k.ttf","100italic":"https://fonts.gstatic.com/s/robotoserif/v13/R71XjywflP6FLr3gZx7K8UyEVQnyR1E7VN-f51xYuGCQepOvB0KLc2v0wKKB0Q4MSZxyqf2CgAchbDJ69BcVZxkDg-JuT-V8BdxaV4nUFw.ttf","200italic":"https://fonts.gstatic.com/s/robotoserif/v13/R71XjywflP6FLr3gZx7K8UyEVQnyR1E7VN-f51xYuGCQepOvB0KLc2v0wKKB0Q4MSZxyqf2CgAchbDJ69BcVZxkDg-Juz-R8BdxaV4nUFw.ttf","300italic":"https://fonts.gstatic.com/s/robotoserif/v13/R71XjywflP6FLr3gZx7K8UyEVQnyR1E7VN-f51xYuGCQepOvB0KLc2v0wKKB0Q4MSZxyqf2CgAchbDJ69BcVZxkDg-JuEeR8BdxaV4nUFw.ttf",italic:"https://fonts.gstatic.com/s/robotoserif/v13/R71XjywflP6FLr3gZx7K8UyEVQnyR1E7VN-f51xYuGCQepOvB0KLc2v0wKKB0Q4MSZxyqf2CgAchbDJ69BcVZxkDg-JuT-R8BdxaV4nUFw.ttf","500italic":"https://fonts.gstatic.com/s/robotoserif/v13/R71XjywflP6FLr3gZx7K8UyEVQnyR1E7VN-f51xYuGCQepOvB0KLc2v0wKKB0Q4MSZxyqf2CgAchbDJ69BcVZxkDg-JufeR8BdxaV4nUFw.ttf","600italic":"https://fonts.gstatic.com/s/robotoserif/v13/R71XjywflP6FLr3gZx7K8UyEVQnyR1E7VN-f51xYuGCQepOvB0KLc2v0wKKB0Q4MSZxyqf2CgAchbDJ69BcVZxkDg-JukeN8BdxaV4nUFw.ttf","700italic":"https://fonts.gstatic.com/s/robotoserif/v13/R71XjywflP6FLr3gZx7K8UyEVQnyR1E7VN-f51xYuGCQepOvB0KLc2v0wKKB0Q4MSZxyqf2CgAchbDJ69BcVZxkDg-JuqON8BdxaV4nUFw.ttf","800italic":"https://fonts.gstatic.com/s/robotoserif/v13/R71XjywflP6FLr3gZx7K8UyEVQnyR1E7VN-f51xYuGCQepOvB0KLc2v0wKKB0Q4MSZxyqf2CgAchbDJ69BcVZxkDg-Juz-N8BdxaV4nUFw.ttf","900italic":"https://fonts.gstatic.com/s/robotoserif/v13/R71XjywflP6FLr3gZx7K8UyEVQnyR1E7VN-f51xYuGCQepOvB0KLc2v0wKKB0Q4MSZxyqf2CgAchbDJ69BcVZxkDg-Ju5uN8BdxaV4nUFw.ttf"}},{family:"Roboto Slab",files:{100:"https://fonts.gstatic.com/s/robotoslab/v25/BngbUXZYTXPIvIBgJJSb6s3BzlRRfKOFbvjojIWWaG5iddG-1A.ttf",200:"https://fonts.gstatic.com/s/robotoslab/v25/BngbUXZYTXPIvIBgJJSb6s3BzlRRfKOFbvjoDISWaG5iddG-1A.ttf",300:"https://fonts.gstatic.com/s/robotoslab/v25/BngbUXZYTXPIvIBgJJSb6s3BzlRRfKOFbvjo0oSWaG5iddG-1A.ttf",500:"https://fonts.gstatic.com/s/robotoslab/v25/BngbUXZYTXPIvIBgJJSb6s3BzlRRfKOFbvjovoSWaG5iddG-1A.ttf",600:"https://fonts.gstatic.com/s/robotoslab/v25/BngbUXZYTXPIvIBgJJSb6s3BzlRRfKOFbvjoUoOWaG5iddG-1A.ttf",700:"https://fonts.gstatic.com/s/robotoslab/v25/BngbUXZYTXPIvIBgJJSb6s3BzlRRfKOFbvjoa4OWaG5iddG-1A.ttf",800:"https://fonts.gstatic.com/s/robotoslab/v25/BngbUXZYTXPIvIBgJJSb6s3BzlRRfKOFbvjoDIOWaG5iddG-1A.ttf",900:"https://fonts.gstatic.com/s/robotoslab/v25/BngbUXZYTXPIvIBgJJSb6s3BzlRRfKOFbvjoJYOWaG5iddG-1A.ttf",regular:"https://fonts.gstatic.com/s/robotoslab/v25/BngbUXZYTXPIvIBgJJSb6s3BzlRRfKOFbvjojISWaG5iddG-1A.ttf"}},{family:"Rochester",files:{regular:"https://fonts.gstatic.com/s/rochester/v18/6ae-4KCqVa4Zy6Fif-Uy31vWNTMwoQ.ttf"}},{family:"Rock Salt",files:{regular:"https://fonts.gstatic.com/s/rocksalt/v18/MwQ0bhv11fWD6QsAVOZbsEk7hbBWrA.ttf"}},{family:"RocknRoll One",files:{regular:"https://fonts.gstatic.com/s/rocknrollone/v10/kmK7ZqspGAfCeUiW6FFlmEC9guVhs7tfUxc.ttf"}},{family:"Rokkitt",files:{100:"https://fonts.gstatic.com/s/rokkitt/v34/qFdb35qfgYFjGy5hukqqhw5XeRgdi1rydpDLE76HvN6n.ttf",200:"https://fonts.gstatic.com/s/rokkitt/v34/qFdb35qfgYFjGy5hukqqhw5XeRgdi1pyd5DLE76HvN6n.ttf",300:"https://fonts.gstatic.com/s/rokkitt/v34/qFdb35qfgYFjGy5hukqqhw5XeRgdi1qsd5DLE76HvN6n.ttf",500:"https://fonts.gstatic.com/s/rokkitt/v34/qFdb35qfgYFjGy5hukqqhw5XeRgdi1rAd5DLE76HvN6n.ttf",600:"https://fonts.gstatic.com/s/rokkitt/v34/qFdb35qfgYFjGy5hukqqhw5XeRgdi1oscJDLE76HvN6n.ttf",700:"https://fonts.gstatic.com/s/rokkitt/v34/qFdb35qfgYFjGy5hukqqhw5XeRgdi1oVcJDLE76HvN6n.ttf",800:"https://fonts.gstatic.com/s/rokkitt/v34/qFdb35qfgYFjGy5hukqqhw5XeRgdi1pycJDLE76HvN6n.ttf",900:"https://fonts.gstatic.com/s/rokkitt/v34/qFdb35qfgYFjGy5hukqqhw5XeRgdi1pbcJDLE76HvN6n.ttf",regular:"https://fonts.gstatic.com/s/rokkitt/v34/qFdb35qfgYFjGy5hukqqhw5XeRgdi1ryd5DLE76HvN6n.ttf","100italic":"https://fonts.gstatic.com/s/rokkitt/v34/qFdV35qfgYFjGy5hkEOYeNY-EoKzjE86NHiJGbqluc6nu9E.ttf","200italic":"https://fonts.gstatic.com/s/rokkitt/v34/qFdV35qfgYFjGy5hkEOYeNY-EoKzjE86NPiIGbqluc6nu9E.ttf","300italic":"https://fonts.gstatic.com/s/rokkitt/v34/qFdV35qfgYFjGy5hkEOYeNY-EoKzjE86NCaIGbqluc6nu9E.ttf",italic:"https://fonts.gstatic.com/s/rokkitt/v34/qFdV35qfgYFjGy5hkEOYeNY-EoKzjE86NHiIGbqluc6nu9E.ttf","500italic":"https://fonts.gstatic.com/s/rokkitt/v34/qFdV35qfgYFjGy5hkEOYeNY-EoKzjE86NEqIGbqluc6nu9E.ttf","600italic":"https://fonts.gstatic.com/s/rokkitt/v34/qFdV35qfgYFjGy5hkEOYeNY-EoKzjE86NKaPGbqluc6nu9E.ttf","700italic":"https://fonts.gstatic.com/s/rokkitt/v34/qFdV35qfgYFjGy5hkEOYeNY-EoKzjE86NJ-PGbqluc6nu9E.ttf","800italic":"https://fonts.gstatic.com/s/rokkitt/v34/qFdV35qfgYFjGy5hkEOYeNY-EoKzjE86NPiPGbqluc6nu9E.ttf","900italic":"https://fonts.gstatic.com/s/rokkitt/v34/qFdV35qfgYFjGy5hkEOYeNY-EoKzjE86NNGPGbqluc6nu9E.ttf"}},{family:"Romanesco",files:{regular:"https://fonts.gstatic.com/s/romanesco/v21/w8gYH2ozQOY7_r_J7mSn3HwLqOqSBg.ttf"}},{family:"Ropa Sans",files:{regular:"https://fonts.gstatic.com/s/ropasans/v15/EYqxmaNOzLlWtsZSScyKWjloU5KP2g.ttf",italic:"https://fonts.gstatic.com/s/ropasans/v15/EYq3maNOzLlWtsZSScy6WDNscZef2mNE.ttf"}},{family:"Rosario",files:{300:"https://fonts.gstatic.com/s/rosario/v31/xfuu0WDhWW_fOEoY8l_VPNZfB7jPM69GCWczd-YnOzUD.ttf",500:"https://fonts.gstatic.com/s/rosario/v31/xfuu0WDhWW_fOEoY8l_VPNZfB7jPM68qCWczd-YnOzUD.ttf",600:"https://fonts.gstatic.com/s/rosario/v31/xfuu0WDhWW_fOEoY8l_VPNZfB7jPM6_GDmczd-YnOzUD.ttf",700:"https://fonts.gstatic.com/s/rosario/v31/xfuu0WDhWW_fOEoY8l_VPNZfB7jPM6__Dmczd-YnOzUD.ttf",regular:"https://fonts.gstatic.com/s/rosario/v31/xfuu0WDhWW_fOEoY8l_VPNZfB7jPM68YCWczd-YnOzUD.ttf","300italic":"https://fonts.gstatic.com/s/rosario/v31/xfug0WDhWW_fOEoY2Fbnww42bCJhNLrQStFwfeIFPiUDn08.ttf",italic:"https://fonts.gstatic.com/s/rosario/v31/xfug0WDhWW_fOEoY2Fbnww42bCJhNLrQSo9wfeIFPiUDn08.ttf","500italic":"https://fonts.gstatic.com/s/rosario/v31/xfug0WDhWW_fOEoY2Fbnww42bCJhNLrQSr1wfeIFPiUDn08.ttf","600italic":"https://fonts.gstatic.com/s/rosario/v31/xfug0WDhWW_fOEoY2Fbnww42bCJhNLrQSlF3feIFPiUDn08.ttf","700italic":"https://fonts.gstatic.com/s/rosario/v31/xfug0WDhWW_fOEoY2Fbnww42bCJhNLrQSmh3feIFPiUDn08.ttf"}},{family:"Rosarivo",files:{regular:"https://fonts.gstatic.com/s/rosarivo/v20/PlI-Fl2lO6N9f8HaNAeC2nhMnNy5.ttf",italic:"https://fonts.gstatic.com/s/rosarivo/v20/PlI4Fl2lO6N9f8HaNDeA0Hxumcy5ZX8.ttf"}},{family:"Rouge Script",files:{regular:"https://fonts.gstatic.com/s/rougescript/v14/LYjFdGbiklMoCIQOw1Ep3S4PVPXbUJWq9g.ttf"}},{family:"Rowdies",files:{300:"https://fonts.gstatic.com/s/rowdies/v15/ptRMTieMYPNBAK219hth5O7yKQNute8.ttf",700:"https://fonts.gstatic.com/s/rowdies/v15/ptRMTieMYPNBAK219gtm5O7yKQNute8.ttf",regular:"https://fonts.gstatic.com/s/rowdies/v15/ptRJTieMYPNBAK21zrdJwObZNQo.ttf"}},{family:"Rozha One",files:{regular:"https://fonts.gstatic.com/s/rozhaone/v13/AlZy_zVFtYP12Zncg2khdXf4XB0Tow.ttf"}},{family:"Rubik",files:{300:"https://fonts.gstatic.com/s/rubik/v26/iJWZBXyIfDnIV5PNhY1KTN7Z-Yh-WYi1UE80V4bVkA.ttf",500:"https://fonts.gstatic.com/s/rubik/v26/iJWZBXyIfDnIV5PNhY1KTN7Z-Yh-NYi1UE80V4bVkA.ttf",600:"https://fonts.gstatic.com/s/rubik/v26/iJWZBXyIfDnIV5PNhY1KTN7Z-Yh-2Y-1UE80V4bVkA.ttf",700:"https://fonts.gstatic.com/s/rubik/v26/iJWZBXyIfDnIV5PNhY1KTN7Z-Yh-4I-1UE80V4bVkA.ttf",800:"https://fonts.gstatic.com/s/rubik/v26/iJWZBXyIfDnIV5PNhY1KTN7Z-Yh-h4-1UE80V4bVkA.ttf",900:"https://fonts.gstatic.com/s/rubik/v26/iJWZBXyIfDnIV5PNhY1KTN7Z-Yh-ro-1UE80V4bVkA.ttf",regular:"https://fonts.gstatic.com/s/rubik/v26/iJWZBXyIfDnIV5PNhY1KTN7Z-Yh-B4i1UE80V4bVkA.ttf","300italic":"https://fonts.gstatic.com/s/rubik/v26/iJWbBXyIfDnIV7nEt3KSJbVDV49rz8sDE0UwdYPFkJ1O.ttf",italic:"https://fonts.gstatic.com/s/rubik/v26/iJWbBXyIfDnIV7nEt3KSJbVDV49rz8tdE0UwdYPFkJ1O.ttf","500italic":"https://fonts.gstatic.com/s/rubik/v26/iJWbBXyIfDnIV7nEt3KSJbVDV49rz8tvE0UwdYPFkJ1O.ttf","600italic":"https://fonts.gstatic.com/s/rubik/v26/iJWbBXyIfDnIV7nEt3KSJbVDV49rz8uDFEUwdYPFkJ1O.ttf","700italic":"https://fonts.gstatic.com/s/rubik/v26/iJWbBXyIfDnIV7nEt3KSJbVDV49rz8u6FEUwdYPFkJ1O.ttf","800italic":"https://fonts.gstatic.com/s/rubik/v26/iJWbBXyIfDnIV7nEt3KSJbVDV49rz8vdFEUwdYPFkJ1O.ttf","900italic":"https://fonts.gstatic.com/s/rubik/v26/iJWbBXyIfDnIV7nEt3KSJbVDV49rz8v0FEUwdYPFkJ1O.ttf"}},{family:"Rubik 80s Fade",files:{regular:"https://fonts.gstatic.com/s/rubik80sfade/v2/U9MF6dW37nLSmnwZXyoV-uPXUhHwkbL8IHcK.ttf"}},{family:"Rubik Beastly",files:{regular:"https://fonts.gstatic.com/s/rubikbeastly/v10/0QImMXRd5oOmSC2ZQ7o9653X07z8_ApHqqk.ttf"}},{family:"Rubik Bubbles",files:{regular:"https://fonts.gstatic.com/s/rubikbubbles/v3/JIA1UVdwbHFJtwA7Us1BPFbRNTENfDxyRXI.ttf"}},{family:"Rubik Burned",files:{regular:"https://fonts.gstatic.com/s/rubikburned/v1/Jqzk5TmOVOqQHihKqPpscqniHQuaCY5ZSg.ttf"}},{family:"Rubik Dirt",files:{regular:"https://fonts.gstatic.com/s/rubikdirt/v2/DtVmJxC7WLEj1uIXEWAdulwm6gDXvwE.ttf"}},{family:"Rubik Distressed",files:{regular:"https://fonts.gstatic.com/s/rubikdistressed/v1/GFDxWBdsmnqAVqjtUsZf2dcrQ2ldcWAhatVBaGM.ttf"}},{family:"Rubik Gemstones",files:{regular:"https://fonts.gstatic.com/s/rubikgemstones/v1/zrf90HrL0-_8Xb4DFM2rUkWbOVrOiCnGqi1GMw.ttf"}},{family:"Rubik Glitch",files:{regular:"https://fonts.gstatic.com/s/rubikglitch/v2/qkBSXv8b_srFRYQVYrDKh9ZvmC7HONiSFQ.ttf"}},{family:"Rubik Iso",files:{regular:"https://fonts.gstatic.com/s/rubikiso/v2/x3dickHUfr-S4VAI4sABfPACvy_1BA.ttf"}},{family:"Rubik Marker Hatch",files:{regular:"https://fonts.gstatic.com/s/rubikmarkerhatch/v1/QldTNSFQsh0B_bFXXWv6LAt-jswapJHQDL4iw0H6zw.ttf"}},{family:"Rubik Maze",files:{regular:"https://fonts.gstatic.com/s/rubikmaze/v2/xMQRuF9ZVa2ftiJEavXSAX7inS-bxV4.ttf"}},{family:"Rubik Microbe",files:{regular:"https://fonts.gstatic.com/s/rubikmicrobe/v2/UqyWK8oPP3hjw6ANS9rM3PsZcs8aaKgiauE.ttf"}},{family:"Rubik Mono One",files:{regular:"https://fonts.gstatic.com/s/rubikmonoone/v15/UqyJK8kPP3hjw6ANTdfRk9YSN-8wRqQrc_j9.ttf"}},{family:"Rubik Moonrocks",files:{regular:"https://fonts.gstatic.com/s/rubikmoonrocks/v2/845ANMAmAI2VUZMLu_W0M7HqlDHnXcD7JGy1Sw.ttf"}},{family:"Rubik Pixels",files:{regular:"https://fonts.gstatic.com/s/rubikpixels/v2/SlGXmQOaupkIeSx4CEpB7AdSaBYRagrQrA.ttf"}},{family:"Rubik Puddles",files:{regular:"https://fonts.gstatic.com/s/rubikpuddles/v2/1Ptog8bYX_qGnkLkrU5MJsQcJfC0wVMT-aE.ttf"}},{family:"Rubik Spray Paint",files:{regular:"https://fonts.gstatic.com/s/rubikspraypaint/v1/WnzhHBAoeBPUDTB4EWR82y6EXWPH-Ro-QoaBZQxP.ttf"}},{family:"Rubik Storm",files:{regular:"https://fonts.gstatic.com/s/rubikstorm/v1/eLGYP-_uPgO5Ag7ju9JaouL9T2Xh9NQk.ttf"}},{family:"Rubik Vinyl",files:{regular:"https://fonts.gstatic.com/s/rubikvinyl/v1/iJWABXKIfDnIV4mQ5BfjvUXexox2ztOU.ttf"}},{family:"Rubik Wet Paint",files:{regular:"https://fonts.gstatic.com/s/rubikwetpaint/v2/HTx0L20uMDGHgdULcpTF3Oe4d_-F-zz313DuvQ.ttf"}},{family:"Ruda",files:{500:"https://fonts.gstatic.com/s/ruda/v23/k3kKo8YQJOpFgHQ1mQ5VkEbUKaJ3si_-2KiSGg-H.ttf",600:"https://fonts.gstatic.com/s/ruda/v23/k3kKo8YQJOpFgHQ1mQ5VkEbUKaKbtS_-2KiSGg-H.ttf",700:"https://fonts.gstatic.com/s/ruda/v23/k3kKo8YQJOpFgHQ1mQ5VkEbUKaKitS_-2KiSGg-H.ttf",800:"https://fonts.gstatic.com/s/ruda/v23/k3kKo8YQJOpFgHQ1mQ5VkEbUKaLFtS_-2KiSGg-H.ttf",900:"https://fonts.gstatic.com/s/ruda/v23/k3kKo8YQJOpFgHQ1mQ5VkEbUKaLstS_-2KiSGg-H.ttf",regular:"https://fonts.gstatic.com/s/ruda/v23/k3kKo8YQJOpFgHQ1mQ5VkEbUKaJFsi_-2KiSGg-H.ttf"}},{family:"Rufina",files:{700:"https://fonts.gstatic.com/s/rufina/v13/Yq6W-LyURyLy-aKKHztAvMxenxE0SA.ttf",regular:"https://fonts.gstatic.com/s/rufina/v13/Yq6V-LyURyLy-aKyoxRktOdClg.ttf"}},{family:"Ruge Boogie",files:{regular:"https://fonts.gstatic.com/s/rugeboogie/v25/JIA3UVFwbHRF_GIWSMhKNROiPzUveSxy.ttf"}},{family:"Ruluko",files:{regular:"https://fonts.gstatic.com/s/ruluko/v21/xMQVuFNZVaODtm0pC6WzKX_QmA.ttf"}},{family:"Rum Raisin",files:{regular:"https://fonts.gstatic.com/s/rumraisin/v20/nwpRtKu3Ih8D5avB4h2uJ3-IywA7eMM.ttf"}},{family:"Ruslan Display",files:{regular:"https://fonts.gstatic.com/s/ruslandisplay/v22/Gw6jwczl81XcIZuckK_e3UpfdzxrldyFvm1n.ttf"}},{family:"Russo One",files:{regular:"https://fonts.gstatic.com/s/russoone/v14/Z9XUDmZRWg6M1LvRYsH-yMOInrib9Q.ttf"}},{family:"Ruthie",files:{regular:"https://fonts.gstatic.com/s/ruthie/v24/gokvH63sGkdqXuU9lD53Q2u_mQ.ttf"}},{family:"Rye",files:{regular:"https://fonts.gstatic.com/s/rye/v13/r05XGLJT86YDFpTsXOqx4w.ttf"}},{family:"STIX Two Text",files:{500:"https://fonts.gstatic.com/s/stixtwotext/v11/YA9Gr02F12Xkf5whdwKf11l0jbKkeidMTtZ5YihS2SOYWxFMN1WD.ttf",600:"https://fonts.gstatic.com/s/stixtwotext/v11/YA9Gr02F12Xkf5whdwKf11l0jbKkeidMTtZ5Yii-3iOYWxFMN1WD.ttf",700:"https://fonts.gstatic.com/s/stixtwotext/v11/YA9Gr02F12Xkf5whdwKf11l0jbKkeidMTtZ5YiiH3iOYWxFMN1WD.ttf",regular:"https://fonts.gstatic.com/s/stixtwotext/v11/YA9Gr02F12Xkf5whdwKf11l0jbKkeidMTtZ5Yihg2SOYWxFMN1WD.ttf",italic:"https://fonts.gstatic.com/s/stixtwotext/v11/YA9Er02F12Xkf5whdwKf11l0p7uWhf8lJUzXZT2omsvbURVuMkWDmSo.ttf","500italic":"https://fonts.gstatic.com/s/stixtwotext/v11/YA9Er02F12Xkf5whdwKf11l0p7uWhf8lJUzXZT2omvnbURVuMkWDmSo.ttf","600italic":"https://fonts.gstatic.com/s/stixtwotext/v11/YA9Er02F12Xkf5whdwKf11l0p7uWhf8lJUzXZT2omhXcURVuMkWDmSo.ttf","700italic":"https://fonts.gstatic.com/s/stixtwotext/v11/YA9Er02F12Xkf5whdwKf11l0p7uWhf8lJUzXZT2omizcURVuMkWDmSo.ttf"}},{family:"Sacramento",files:{regular:"https://fonts.gstatic.com/s/sacramento/v13/buEzpo6gcdjy0EiZMBUG0CoV_NxLeiw.ttf"}},{family:"Sahitya",files:{700:"https://fonts.gstatic.com/s/sahitya/v17/6qLFKZkOuhnuqlJAUZsqGyQvEnvSexI.ttf",regular:"https://fonts.gstatic.com/s/sahitya/v17/6qLAKZkOuhnuqlJAaScFPywEDnI.ttf"}},{family:"Sail",files:{regular:"https://fonts.gstatic.com/s/sail/v16/DPEjYwiBxwYJFBTDADYAbvw.ttf"}},{family:"Saira",files:{100:"https://fonts.gstatic.com/s/saira/v14/memWYa2wxmKQyPMrZX79wwYZQMhsyuShhKMjjbU9uXuA71rDosg7lwYmUVY.ttf",200:"https://fonts.gstatic.com/s/saira/v14/memWYa2wxmKQyPMrZX79wwYZQMhsyuShhKMjjbU9uXuA79rCosg7lwYmUVY.ttf",300:"https://fonts.gstatic.com/s/saira/v14/memWYa2wxmKQyPMrZX79wwYZQMhsyuShhKMjjbU9uXuA7wTCosg7lwYmUVY.ttf",500:"https://fonts.gstatic.com/s/saira/v14/memWYa2wxmKQyPMrZX79wwYZQMhsyuShhKMjjbU9uXuA72jCosg7lwYmUVY.ttf",600:"https://fonts.gstatic.com/s/saira/v14/memWYa2wxmKQyPMrZX79wwYZQMhsyuShhKMjjbU9uXuA74TFosg7lwYmUVY.ttf",700:"https://fonts.gstatic.com/s/saira/v14/memWYa2wxmKQyPMrZX79wwYZQMhsyuShhKMjjbU9uXuA773Fosg7lwYmUVY.ttf",800:"https://fonts.gstatic.com/s/saira/v14/memWYa2wxmKQyPMrZX79wwYZQMhsyuShhKMjjbU9uXuA79rFosg7lwYmUVY.ttf",900:"https://fonts.gstatic.com/s/saira/v14/memWYa2wxmKQyPMrZX79wwYZQMhsyuShhKMjjbU9uXuA7_PFosg7lwYmUVY.ttf",regular:"https://fonts.gstatic.com/s/saira/v14/memWYa2wxmKQyPMrZX79wwYZQMhsyuShhKMjjbU9uXuA71rCosg7lwYmUVY.ttf","100italic":"https://fonts.gstatic.com/s/saira/v14/memUYa2wxmKQyNkiV50dulWP7s95AqZTzZHcVdxWI9WH-pKBSooxkyQjQVYmxA.ttf","200italic":"https://fonts.gstatic.com/s/saira/v14/memUYa2wxmKQyNkiV50dulWP7s95AqZTzZHcVdxWI9WH-pKByosxkyQjQVYmxA.ttf","300italic":"https://fonts.gstatic.com/s/saira/v14/memUYa2wxmKQyNkiV50dulWP7s95AqZTzZHcVdxWI9WH-pKBFIsxkyQjQVYmxA.ttf",italic:"https://fonts.gstatic.com/s/saira/v14/memUYa2wxmKQyNkiV50dulWP7s95AqZTzZHcVdxWI9WH-pKBSosxkyQjQVYmxA.ttf","500italic":"https://fonts.gstatic.com/s/saira/v14/memUYa2wxmKQyNkiV50dulWP7s95AqZTzZHcVdxWI9WH-pKBeIsxkyQjQVYmxA.ttf","600italic":"https://fonts.gstatic.com/s/saira/v14/memUYa2wxmKQyNkiV50dulWP7s95AqZTzZHcVdxWI9WH-pKBlIwxkyQjQVYmxA.ttf","700italic":"https://fonts.gstatic.com/s/saira/v14/memUYa2wxmKQyNkiV50dulWP7s95AqZTzZHcVdxWI9WH-pKBrYwxkyQjQVYmxA.ttf","800italic":"https://fonts.gstatic.com/s/saira/v14/memUYa2wxmKQyNkiV50dulWP7s95AqZTzZHcVdxWI9WH-pKByowxkyQjQVYmxA.ttf","900italic":"https://fonts.gstatic.com/s/saira/v14/memUYa2wxmKQyNkiV50dulWP7s95AqZTzZHcVdxWI9WH-pKB44wxkyQjQVYmxA.ttf"}},{family:"Saira Condensed",files:{100:"https://fonts.gstatic.com/s/sairacondensed/v11/EJRMQgErUN8XuHNEtX81i9TmEkrnwetA2omSrzS8.ttf",200:"https://fonts.gstatic.com/s/sairacondensed/v11/EJRLQgErUN8XuHNEtX81i9TmEkrnbcpg8Keepi2lHw.ttf",300:"https://fonts.gstatic.com/s/sairacondensed/v11/EJRLQgErUN8XuHNEtX81i9TmEkrnCclg8Keepi2lHw.ttf",500:"https://fonts.gstatic.com/s/sairacondensed/v11/EJRLQgErUN8XuHNEtX81i9TmEkrnUchg8Keepi2lHw.ttf",600:"https://fonts.gstatic.com/s/sairacondensed/v11/EJRLQgErUN8XuHNEtX81i9TmEkrnfc9g8Keepi2lHw.ttf",700:"https://fonts.gstatic.com/s/sairacondensed/v11/EJRLQgErUN8XuHNEtX81i9TmEkrnGc5g8Keepi2lHw.ttf",800:"https://fonts.gstatic.com/s/sairacondensed/v11/EJRLQgErUN8XuHNEtX81i9TmEkrnBc1g8Keepi2lHw.ttf",900:"https://fonts.gstatic.com/s/sairacondensed/v11/EJRLQgErUN8XuHNEtX81i9TmEkrnIcxg8Keepi2lHw.ttf",regular:"https://fonts.gstatic.com/s/sairacondensed/v11/EJROQgErUN8XuHNEtX81i9TmEkrfpeFE-IyCrw.ttf"}},{family:"Saira Extra Condensed",files:{100:"https://fonts.gstatic.com/s/sairaextracondensed/v11/-nFsOHYr-vcC7h8MklGBkrvmUG9rbpkisrTri0jx9i5ss3a3.ttf",200:"https://fonts.gstatic.com/s/sairaextracondensed/v11/-nFvOHYr-vcC7h8MklGBkrvmUG9rbpkisrTrJ2nR3ABgum-uoQ.ttf",300:"https://fonts.gstatic.com/s/sairaextracondensed/v11/-nFvOHYr-vcC7h8MklGBkrvmUG9rbpkisrTrQ2rR3ABgum-uoQ.ttf",500:"https://fonts.gstatic.com/s/sairaextracondensed/v11/-nFvOHYr-vcC7h8MklGBkrvmUG9rbpkisrTrG2vR3ABgum-uoQ.ttf",600:"https://fonts.gstatic.com/s/sairaextracondensed/v11/-nFvOHYr-vcC7h8MklGBkrvmUG9rbpkisrTrN2zR3ABgum-uoQ.ttf",700:"https://fonts.gstatic.com/s/sairaextracondensed/v11/-nFvOHYr-vcC7h8MklGBkrvmUG9rbpkisrTrU23R3ABgum-uoQ.ttf",800:"https://fonts.gstatic.com/s/sairaextracondensed/v11/-nFvOHYr-vcC7h8MklGBkrvmUG9rbpkisrTrT27R3ABgum-uoQ.ttf",900:"https://fonts.gstatic.com/s/sairaextracondensed/v11/-nFvOHYr-vcC7h8MklGBkrvmUG9rbpkisrTra2_R3ABgum-uoQ.ttf",regular:"https://fonts.gstatic.com/s/sairaextracondensed/v11/-nFiOHYr-vcC7h8MklGBkrvmUG9rbpkisrTT70L11Ct8sw.ttf"}},{family:"Saira Semi Condensed",files:{100:"https://fonts.gstatic.com/s/sairasemicondensed/v11/U9MN6c-2-nnJkHxyCjRcnMHcWVWV1cWRRXdvaOM8rXT-8V8.ttf",200:"https://fonts.gstatic.com/s/sairasemicondensed/v11/U9MM6c-2-nnJkHxyCjRcnMHcWVWV1cWRRXfDScMWg3j36Ebz.ttf",300:"https://fonts.gstatic.com/s/sairasemicondensed/v11/U9MM6c-2-nnJkHxyCjRcnMHcWVWV1cWRRXenSsMWg3j36Ebz.ttf",500:"https://fonts.gstatic.com/s/sairasemicondensed/v11/U9MM6c-2-nnJkHxyCjRcnMHcWVWV1cWRRXf_S8MWg3j36Ebz.ttf",600:"https://fonts.gstatic.com/s/sairasemicondensed/v11/U9MM6c-2-nnJkHxyCjRcnMHcWVWV1cWRRXfTTMMWg3j36Ebz.ttf",700:"https://fonts.gstatic.com/s/sairasemicondensed/v11/U9MM6c-2-nnJkHxyCjRcnMHcWVWV1cWRRXe3TcMWg3j36Ebz.ttf",800:"https://fonts.gstatic.com/s/sairasemicondensed/v11/U9MM6c-2-nnJkHxyCjRcnMHcWVWV1cWRRXerTsMWg3j36Ebz.ttf",900:"https://fonts.gstatic.com/s/sairasemicondensed/v11/U9MM6c-2-nnJkHxyCjRcnMHcWVWV1cWRRXePT8MWg3j36Ebz.ttf",regular:"https://fonts.gstatic.com/s/sairasemicondensed/v11/U9MD6c-2-nnJkHxyCjRcnMHcWVWV1cWRRU8LYuceqGT-.ttf"}},{family:"Saira Stencil One",files:{regular:"https://fonts.gstatic.com/s/sairastencilone/v14/SLXSc03I6HkvZGJ1GvvipLoYSTEL9AsMawif2YQ2.ttf"}},{family:"Salsa",files:{regular:"https://fonts.gstatic.com/s/salsa/v17/gNMKW3FiRpKj-imY8ncKEZez.ttf"}},{family:"Sanchez",files:{regular:"https://fonts.gstatic.com/s/sanchez/v13/Ycm2sZJORluHnXbITm5b_BwE1l0.ttf",italic:"https://fonts.gstatic.com/s/sanchez/v13/Ycm0sZJORluHnXbIfmxR-D4Bxl3gkw.ttf"}},{family:"Sancreek",files:{regular:"https://fonts.gstatic.com/s/sancreek/v23/pxiHypAnsdxUm159X7D-XV9NEe-K.ttf"}},{family:"Sansita",files:{700:"https://fonts.gstatic.com/s/sansita/v11/QldLNTRRphEb_-V7JKWUaXl0wqVv3_g.ttf",800:"https://fonts.gstatic.com/s/sansita/v11/QldLNTRRphEb_-V7JLmXaXl0wqVv3_g.ttf",900:"https://fonts.gstatic.com/s/sansita/v11/QldLNTRRphEb_-V7JJ2WaXl0wqVv3_g.ttf",regular:"https://fonts.gstatic.com/s/sansita/v11/QldONTRRphEb_-V7HBm7TXFf3qw.ttf",italic:"https://fonts.gstatic.com/s/sansita/v11/QldMNTRRphEb_-V7LBuxSVNazqx2xg.ttf","700italic":"https://fonts.gstatic.com/s/sansita/v11/QldJNTRRphEb_-V7LBuJ9Xx-xodqz_joDQ.ttf","800italic":"https://fonts.gstatic.com/s/sansita/v11/QldJNTRRphEb_-V7LBuJ6X9-xodqz_joDQ.ttf","900italic":"https://fonts.gstatic.com/s/sansita/v11/QldJNTRRphEb_-V7LBuJzX5-xodqz_joDQ.ttf"}},{family:"Sansita Swashed",files:{300:"https://fonts.gstatic.com/s/sansitaswashed/v17/BXR8vFfZifTZgFlDDLgNkBydPKTt3pVCeYWqJnZSW-ppbToVehmEa4Q.ttf",500:"https://fonts.gstatic.com/s/sansitaswashed/v17/BXR8vFfZifTZgFlDDLgNkBydPKTt3pVCeYWqJnZSW4ZpbToVehmEa4Q.ttf",600:"https://fonts.gstatic.com/s/sansitaswashed/v17/BXR8vFfZifTZgFlDDLgNkBydPKTt3pVCeYWqJnZSW2pubToVehmEa4Q.ttf",700:"https://fonts.gstatic.com/s/sansitaswashed/v17/BXR8vFfZifTZgFlDDLgNkBydPKTt3pVCeYWqJnZSW1NubToVehmEa4Q.ttf",800:"https://fonts.gstatic.com/s/sansitaswashed/v17/BXR8vFfZifTZgFlDDLgNkBydPKTt3pVCeYWqJnZSWzRubToVehmEa4Q.ttf",900:"https://fonts.gstatic.com/s/sansitaswashed/v17/BXR8vFfZifTZgFlDDLgNkBydPKTt3pVCeYWqJnZSWx1ubToVehmEa4Q.ttf",regular:"https://fonts.gstatic.com/s/sansitaswashed/v17/BXR8vFfZifTZgFlDDLgNkBydPKTt3pVCeYWqJnZSW7RpbToVehmEa4Q.ttf"}},{family:"Sarabun",files:{100:"https://fonts.gstatic.com/s/sarabun/v13/DtVhJx26TKEr37c9YHZJmnYI5gnOpg.ttf",200:"https://fonts.gstatic.com/s/sarabun/v13/DtVmJx26TKEr37c9YNpoulwm6gDXvwE.ttf",300:"https://fonts.gstatic.com/s/sarabun/v13/DtVmJx26TKEr37c9YL5rulwm6gDXvwE.ttf",500:"https://fonts.gstatic.com/s/sarabun/v13/DtVmJx26TKEr37c9YOZqulwm6gDXvwE.ttf",600:"https://fonts.gstatic.com/s/sarabun/v13/DtVmJx26TKEr37c9YMptulwm6gDXvwE.ttf",700:"https://fonts.gstatic.com/s/sarabun/v13/DtVmJx26TKEr37c9YK5sulwm6gDXvwE.ttf",800:"https://fonts.gstatic.com/s/sarabun/v13/DtVmJx26TKEr37c9YLJvulwm6gDXvwE.ttf","100italic":"https://fonts.gstatic.com/s/sarabun/v13/DtVnJx26TKEr37c9aBBx_nwMxAzephhN.ttf","200italic":"https://fonts.gstatic.com/s/sarabun/v13/DtVkJx26TKEr37c9aBBxUl0s7iLSrwFUlw.ttf","300italic":"https://fonts.gstatic.com/s/sarabun/v13/DtVkJx26TKEr37c9aBBxNl4s7iLSrwFUlw.ttf",regular:"https://fonts.gstatic.com/s/sarabun/v13/DtVjJx26TKEr37c9WBJDnlQN9gk.ttf",italic:"https://fonts.gstatic.com/s/sarabun/v13/DtVhJx26TKEr37c9aBBJmnYI5gnOpg.ttf","500italic":"https://fonts.gstatic.com/s/sarabun/v13/DtVkJx26TKEr37c9aBBxbl8s7iLSrwFUlw.ttf","600italic":"https://fonts.gstatic.com/s/sarabun/v13/DtVkJx26TKEr37c9aBBxQlgs7iLSrwFUlw.ttf","700italic":"https://fonts.gstatic.com/s/sarabun/v13/DtVkJx26TKEr37c9aBBxJlks7iLSrwFUlw.ttf","800italic":"https://fonts.gstatic.com/s/sarabun/v13/DtVkJx26TKEr37c9aBBxOlos7iLSrwFUlw.ttf"}},{family:"Sarala",files:{700:"https://fonts.gstatic.com/s/sarala/v10/uK_x4riEZv4o1w9ptjI3OtWYVkMpXA.ttf",regular:"https://fonts.gstatic.com/s/sarala/v10/uK_y4riEZv4o1w9RCh0TMv6EXw.ttf"}},{family:"Sarina",files:{regular:"https://fonts.gstatic.com/s/sarina/v21/-F6wfjF3ITQwasLhLkDUriBQxw.ttf"}},{family:"Sarpanch",files:{500:"https://fonts.gstatic.com/s/sarpanch/v11/hES16Xt4NCpRuk6PziV0ba7f1HEuRHkM.ttf",600:"https://fonts.gstatic.com/s/sarpanch/v11/hES16Xt4NCpRuk6PziVYaq7f1HEuRHkM.ttf",700:"https://fonts.gstatic.com/s/sarpanch/v11/hES16Xt4NCpRuk6PziU8a67f1HEuRHkM.ttf",800:"https://fonts.gstatic.com/s/sarpanch/v11/hES16Xt4NCpRuk6PziUgaK7f1HEuRHkM.ttf",900:"https://fonts.gstatic.com/s/sarpanch/v11/hES16Xt4NCpRuk6PziUEaa7f1HEuRHkM.ttf",regular:"https://fonts.gstatic.com/s/sarpanch/v11/hESy6Xt4NCpRuk6Pzh2ARIrX_20n.ttf"}},{family:"Sassy Frass",files:{regular:"https://fonts.gstatic.com/s/sassyfrass/v5/LhWhMVrGOe0FLb97BjhsE99dGNWQg_am.ttf"}},{family:"Satisfy",files:{regular:"https://fonts.gstatic.com/s/satisfy/v17/rP2Hp2yn6lkG50LoOZSCHBeHFl0.ttf"}},{family:"Sawarabi Gothic",files:{regular:"https://fonts.gstatic.com/s/sawarabigothic/v12/x3d4ckfVaqqa-BEj-I9mE65u3k3NBSk3E2YljQ.ttf"}},{family:"Sawarabi Mincho",files:{regular:"https://fonts.gstatic.com/s/sawarabimincho/v17/8QIRdiDaitzr7brc8ahpxt6GcIJTLahP46UDUw.ttf"}},{family:"Scada",files:{700:"https://fonts.gstatic.com/s/scada/v15/RLp8K5Pv5qumeVrU6BEgRVfmZOE5.ttf",regular:"https://fonts.gstatic.com/s/scada/v15/RLpxK5Pv5qumeWJoxzUobkvv.ttf",italic:"https://fonts.gstatic.com/s/scada/v15/RLp_K5Pv5qumeVJqzTEKa1vvffg.ttf","700italic":"https://fonts.gstatic.com/s/scada/v15/RLp6K5Pv5qumeVJq9Y0lT1PEYfE5p6g.ttf"}},{family:"Scheherazade New",files:{500:"https://fonts.gstatic.com/s/scheherazadenew/v15/4UaerFhTvxVnHDvUkUiHg8jprP4DM_dFHlYC-IKnoSE.ttf",600:"https://fonts.gstatic.com/s/scheherazadenew/v15/4UaerFhTvxVnHDvUkUiHg8jprP4DM9tCHlYC-IKnoSE.ttf",700:"https://fonts.gstatic.com/s/scheherazadenew/v15/4UaerFhTvxVnHDvUkUiHg8jprP4DM79DHlYC-IKnoSE.ttf",regular:"https://fonts.gstatic.com/s/scheherazadenew/v15/4UaZrFhTvxVnHDvUkUiHg8jprP4DCwNsOl4p5Is.ttf"}},{family:"Schibsted Grotesk",files:{500:"https://fonts.gstatic.com/s/schibstedgrotesk/v3/JqzK5SSPQuCQF3t8uOwiUL-taUTtarVKQ9vZ6pJJWlMNEMEAT8JuXFGVOQ.ttf",600:"https://fonts.gstatic.com/s/schibstedgrotesk/v3/JqzK5SSPQuCQF3t8uOwiUL-taUTtarVKQ9vZ6pJJWlMN_MYAT8JuXFGVOQ.ttf",700:"https://fonts.gstatic.com/s/schibstedgrotesk/v3/JqzK5SSPQuCQF3t8uOwiUL-taUTtarVKQ9vZ6pJJWlMNxcYAT8JuXFGVOQ.ttf",800:"https://fonts.gstatic.com/s/schibstedgrotesk/v3/JqzK5SSPQuCQF3t8uOwiUL-taUTtarVKQ9vZ6pJJWlMNosYAT8JuXFGVOQ.ttf",900:"https://fonts.gstatic.com/s/schibstedgrotesk/v3/JqzK5SSPQuCQF3t8uOwiUL-taUTtarVKQ9vZ6pJJWlMNi8YAT8JuXFGVOQ.ttf",regular:"https://fonts.gstatic.com/s/schibstedgrotesk/v3/JqzK5SSPQuCQF3t8uOwiUL-taUTtarVKQ9vZ6pJJWlMNIsEAT8JuXFGVOQ.ttf",italic:"https://fonts.gstatic.com/s/schibstedgrotesk/v3/JqzI5SSPQuCQF3t8uOwiUL-taUTtap9DcSQBg_nT9FQY6oLoDMhqflSFOTXs.ttf","500italic":"https://fonts.gstatic.com/s/schibstedgrotesk/v3/JqzI5SSPQuCQF3t8uOwiUL-taUTtap9DcSQBg_nT9FQY6oLaDMhqflSFOTXs.ttf","600italic":"https://fonts.gstatic.com/s/schibstedgrotesk/v3/JqzI5SSPQuCQF3t8uOwiUL-taUTtap9DcSQBg_nT9FQY6oI2C8hqflSFOTXs.ttf","700italic":"https://fonts.gstatic.com/s/schibstedgrotesk/v3/JqzI5SSPQuCQF3t8uOwiUL-taUTtap9DcSQBg_nT9FQY6oIPC8hqflSFOTXs.ttf","800italic":"https://fonts.gstatic.com/s/schibstedgrotesk/v3/JqzI5SSPQuCQF3t8uOwiUL-taUTtap9DcSQBg_nT9FQY6oJoC8hqflSFOTXs.ttf","900italic":"https://fonts.gstatic.com/s/schibstedgrotesk/v3/JqzI5SSPQuCQF3t8uOwiUL-taUTtap9DcSQBg_nT9FQY6oJBC8hqflSFOTXs.ttf"}},{family:"Schoolbell",files:{regular:"https://fonts.gstatic.com/s/schoolbell/v18/92zQtBZWOrcgoe-fgnJIVxIQ6mRqfiQ.ttf"}},{family:"Scope One",files:{regular:"https://fonts.gstatic.com/s/scopeone/v14/WBLnrEXKYFlGHrOKmGD1W0_MJMGxiQ.ttf"}},{family:"Seaweed Script",files:{regular:"https://fonts.gstatic.com/s/seaweedscript/v13/bx6cNx6Tne2pxOATYE8C_Rsoe0WJ-KcGVbLW.ttf"}},{family:"Secular One",files:{regular:"https://fonts.gstatic.com/s/secularone/v11/8QINdiTajsj_87rMuMdKypDlMul7LJpK.ttf"}},{family:"Sedgwick Ave",files:{regular:"https://fonts.gstatic.com/s/sedgwickave/v12/uK_04rKEYuguzAcSYRdWTJq8Xmg1Vcf5JA.ttf"}},{family:"Sedgwick Ave Display",files:{regular:"https://fonts.gstatic.com/s/sedgwickavedisplay/v19/xfuu0XPgU3jZPUoUo3ScvmPi-NapQ8OxM2czd-YnOzUD.ttf"}},{family:"Sen",files:{700:"https://fonts.gstatic.com/s/sen/v7/6xKudSxYI9__J9CoKkH1JHUQSQ.ttf",800:"https://fonts.gstatic.com/s/sen/v7/6xKudSxYI9__O9OoKkH1JHUQSQ.ttf",regular:"https://fonts.gstatic.com/s/sen/v7/6xKjdSxYI9_Hm_-MImrpLQ.ttf"}},{family:"Send Flowers",files:{regular:"https://fonts.gstatic.com/s/sendflowers/v2/If2PXTjtZS-0Xqy13uCQSULvxwjjouU1iw.ttf"}},{family:"Sevillana",files:{regular:"https://fonts.gstatic.com/s/sevillana/v21/KFOlCnWFscmDt1Bfiy1vAx05IsDqlA.ttf"}},{family:"Seymour One",files:{regular:"https://fonts.gstatic.com/s/seymourone/v20/4iCp6Khla9xbjQpoWGGd0myIPYBvgpUI.ttf"}},{family:"Shadows Into Light",files:{regular:"https://fonts.gstatic.com/s/shadowsintolight/v15/UqyNK9UOIntux_czAvDQx_ZcHqZXBNQDcsr4xzSMYA.ttf"}},{family:"Shadows Into Light Two",files:{regular:"https://fonts.gstatic.com/s/shadowsintolighttwo/v14/4iC86LVlZsRSjQhpWGedwyOoW-0A6_kpsyNmlAvNGLNnIF0.ttf"}},{family:"Shalimar",files:{regular:"https://fonts.gstatic.com/s/shalimar/v5/uU9MCBoE6I6iNWFUvTPx8PCOg0uX.ttf"}},{family:"Shantell Sans",files:{300:"https://fonts.gstatic.com/s/shantellsans/v7/FeUaS0pCoLIo-lcdY7kjvNoQqWVWB0qWpl29ajppTuUTu_kJKmHesPOL-maYi4xZeHCNQ09eBlmv2QcUzJ39-rAISYQiS2i2yPwxjyRN.ttf",500:"https://fonts.gstatic.com/s/shantellsans/v7/FeUaS0pCoLIo-lcdY7kjvNoQqWVWB0qWpl29ajppTuUTu_kJKmHesPOL-maYi4xZeHCNQ09eBlmv2QcUzJ39-rAISYROS2i2yPwxjyRN.ttf",600:"https://fonts.gstatic.com/s/shantellsans/v7/FeUaS0pCoLIo-lcdY7kjvNoQqWVWB0qWpl29ajppTuUTu_kJKmHesPOL-maYi4xZeHCNQ09eBlmv2QcUzJ39-rAISYSiTGi2yPwxjyRN.ttf",700:"https://fonts.gstatic.com/s/shantellsans/v7/FeUaS0pCoLIo-lcdY7kjvNoQqWVWB0qWpl29ajppTuUTu_kJKmHesPOL-maYi4xZeHCNQ09eBlmv2QcUzJ39-rAISYSbTGi2yPwxjyRN.ttf",800:"https://fonts.gstatic.com/s/shantellsans/v7/FeUaS0pCoLIo-lcdY7kjvNoQqWVWB0qWpl29ajppTuUTu_kJKmHesPOL-maYi4xZeHCNQ09eBlmv2QcUzJ39-rAISYT8TGi2yPwxjyRN.ttf",regular:"https://fonts.gstatic.com/s/shantellsans/v7/FeUaS0pCoLIo-lcdY7kjvNoQqWVWB0qWpl29ajppTuUTu_kJKmHesPOL-maYi4xZeHCNQ09eBlmv2QcUzJ39-rAISYR8S2i2yPwxjyRN.ttf","300italic":"https://fonts.gstatic.com/s/shantellsans/v7/FeUcS0pCoLIo-lcdY7kjvNoQg2xkycTqsuA6bi9pTt8YiT-NXidjb_ee-maigL6R8nKVh8BbE1mv4wwmM0WUkSqmTpG0CN71wvgTijRNYgQ.ttf",italic:"https://fonts.gstatic.com/s/shantellsans/v7/FeUcS0pCoLIo-lcdY7kjvNoQg2xkycTqsuA6bi9pTt8YiT-NXidjb_ee-maigL6R8nKVh8BbE1mv4wwmM0WUkSqmTpG0CID1wvgTijRNYgQ.ttf","500italic":"https://fonts.gstatic.com/s/shantellsans/v7/FeUcS0pCoLIo-lcdY7kjvNoQg2xkycTqsuA6bi9pTt8YiT-NXidjb_ee-maigL6R8nKVh8BbE1mv4wwmM0WUkSqmTpG0CLL1wvgTijRNYgQ.ttf","600italic":"https://fonts.gstatic.com/s/shantellsans/v7/FeUcS0pCoLIo-lcdY7kjvNoQg2xkycTqsuA6bi9pTt8YiT-NXidjb_ee-maigL6R8nKVh8BbE1mv4wwmM0WUkSqmTpG0CF7ywvgTijRNYgQ.ttf","700italic":"https://fonts.gstatic.com/s/shantellsans/v7/FeUcS0pCoLIo-lcdY7kjvNoQg2xkycTqsuA6bi9pTt8YiT-NXidjb_ee-maigL6R8nKVh8BbE1mv4wwmM0WUkSqmTpG0CGfywvgTijRNYgQ.ttf","800italic":"https://fonts.gstatic.com/s/shantellsans/v7/FeUcS0pCoLIo-lcdY7kjvNoQg2xkycTqsuA6bi9pTt8YiT-NXidjb_ee-maigL6R8nKVh8BbE1mv4wwmM0WUkSqmTpG0CADywvgTijRNYgQ.ttf"}},{family:"Shanti",files:{regular:"https://fonts.gstatic.com/s/shanti/v23/t5thIREMM4uSDgzgU0ezpKfwzA.ttf"}},{family:"Share",files:{700:"https://fonts.gstatic.com/s/share/v16/i7dJIFliZjKNF63xM56-WkJUQUq7.ttf",regular:"https://fonts.gstatic.com/s/share/v16/i7dEIFliZjKNF5VNHLq2cV5d.ttf",italic:"https://fonts.gstatic.com/s/share/v16/i7dKIFliZjKNF6VPFr6UdE5dWFM.ttf","700italic":"https://fonts.gstatic.com/s/share/v16/i7dPIFliZjKNF6VPLgK7UEZ2RFq7AwU.ttf"}},{family:"Share Tech",files:{regular:"https://fonts.gstatic.com/s/sharetech/v17/7cHtv4Uyi5K0OeZ7bohUwHoDmTcibrA.ttf"}},{family:"Share Tech Mono",files:{regular:"https://fonts.gstatic.com/s/sharetechmono/v15/J7aHnp1uDWRBEqV98dVQztYldFc7pAsEIc3Xew.ttf"}},{family:"Shippori Antique",files:{regular:"https://fonts.gstatic.com/s/shipporiantique/v8/-F6qfid3KC8pdMyzR0qRyFUht11v8ldPg-IUDNg.ttf"}},{family:"Shippori Antique B1",files:{regular:"https://fonts.gstatic.com/s/shipporiantiqueb1/v8/2Eb7L_JwClR7Zl_UAKZ0mUHw3oMKd40grRFCj9-5Y8Y.ttf"}},{family:"Shippori Mincho",files:{500:"https://fonts.gstatic.com/s/shipporimincho/v14/VdGDAZweH5EbgHY6YExcZfDoj0B4L9am5JEO5--2zg.ttf",600:"https://fonts.gstatic.com/s/shipporimincho/v14/VdGDAZweH5EbgHY6YExcZfDoj0B4A9Gm5JEO5--2zg.ttf",700:"https://fonts.gstatic.com/s/shipporimincho/v14/VdGDAZweH5EbgHY6YExcZfDoj0B4Z9Cm5JEO5--2zg.ttf",800:"https://fonts.gstatic.com/s/shipporimincho/v14/VdGDAZweH5EbgHY6YExcZfDoj0B4e9Om5JEO5--2zg.ttf",regular:"https://fonts.gstatic.com/s/shipporimincho/v14/VdGGAZweH5EbgHY6YExcZfDoj0BA2_-C7LoS7g.ttf"}},{family:"Shippori Mincho B1",files:{500:"https://fonts.gstatic.com/s/shipporiminchob1/v19/~ChcKElNoaXBwb3JpIE1pbmNobyBCMRj0AyAAKgQIARgB.ttf",600:"https://fonts.gstatic.com/s/shipporiminchob1/v19/~ChcKElNoaXBwb3JpIE1pbmNobyBCMRjYBCAAKgQIARgB.ttf",700:"https://fonts.gstatic.com/s/shipporiminchob1/v19/~ChcKElNoaXBwb3JpIE1pbmNobyBCMRi8BSAAKgQIARgB.ttf",800:"https://fonts.gstatic.com/s/shipporiminchob1/v19/~ChcKElNoaXBwb3JpIE1pbmNobyBCMRigBiAAKgQIARgB.ttf",regular:"https://fonts.gstatic.com/s/shipporiminchob1/v19/~ChQKElNoaXBwb3JpIE1pbmNobyBCMSAAKgQIARgB.ttf"}},{family:"Shojumaru",files:{regular:"https://fonts.gstatic.com/s/shojumaru/v15/rax_HiWfutkLLnaKCtlMBBJek0vA8A.ttf"}},{family:"Short Stack",files:{regular:"https://fonts.gstatic.com/s/shortstack/v15/bMrzmS2X6p0jZC6EcmPFX-SScX8D0nq6.ttf"}},{family:"Shrikhand",files:{regular:"https://fonts.gstatic.com/s/shrikhand/v12/a8IbNovtLWfR7T7bMJwbBIiQ0zhMtA.ttf"}},{family:"Siemreap",files:{regular:"https://fonts.gstatic.com/s/siemreap/v24/Gg82N5oFbgLvHAfNl2YbnA8DLXpe.ttf"}},{family:"Sigmar",files:{regular:"https://fonts.gstatic.com/s/sigmar/v3/hv-XlzJgIE8a85pUbWY3MTFgVg.ttf"}},{family:"Sigmar One",files:{regular:"https://fonts.gstatic.com/s/sigmarone/v16/co3DmWZ8kjZuErj9Ta3dk6Pjp3Di8U0.ttf"}},{family:"Signika",files:{300:"https://fonts.gstatic.com/s/signika/v20/vEFO2_JTCgwQ5ejvMV0O96D01E8J0tIJHJbGhs_cfKe1.ttf",500:"https://fonts.gstatic.com/s/signika/v20/vEFO2_JTCgwQ5ejvMV0O96D01E8J0tJlHJbGhs_cfKe1.ttf",600:"https://fonts.gstatic.com/s/signika/v20/vEFO2_JTCgwQ5ejvMV0O96D01E8J0tKJG5bGhs_cfKe1.ttf",700:"https://fonts.gstatic.com/s/signika/v20/vEFO2_JTCgwQ5ejvMV0O96D01E8J0tKwG5bGhs_cfKe1.ttf",regular:"https://fonts.gstatic.com/s/signika/v20/vEFO2_JTCgwQ5ejvMV0O96D01E8J0tJXHJbGhs_cfKe1.ttf"}},{family:"Signika Negative",files:{300:"https://fonts.gstatic.com/s/signikanegative/v20/E21x_cfngu7HiRpPX3ZpNE4kY5zKSPmJXkF0VDD2RAr5S73st9hiuEq8.ttf",500:"https://fonts.gstatic.com/s/signikanegative/v20/E21x_cfngu7HiRpPX3ZpNE4kY5zKSPmJXkF0VDD2RAqVS73st9hiuEq8.ttf",600:"https://fonts.gstatic.com/s/signikanegative/v20/E21x_cfngu7HiRpPX3ZpNE4kY5zKSPmJXkF0VDD2RAp5TL3st9hiuEq8.ttf",700:"https://fonts.gstatic.com/s/signikanegative/v20/E21x_cfngu7HiRpPX3ZpNE4kY5zKSPmJXkF0VDD2RApATL3st9hiuEq8.ttf",regular:"https://fonts.gstatic.com/s/signikanegative/v20/E21x_cfngu7HiRpPX3ZpNE4kY5zKSPmJXkF0VDD2RAqnS73st9hiuEq8.ttf"}},{family:"Silkscreen",files:{700:"https://fonts.gstatic.com/s/silkscreen/v1/m8JUjfVPf62XiF7kO-i9aAhATmuo2dudFvc.ttf",regular:"https://fonts.gstatic.com/s/silkscreen/v1/m8JXjfVPf62XiF7kO-i9ULRvamODxdI.ttf"}},{family:"Simonetta",files:{900:"https://fonts.gstatic.com/s/simonetta/v24/x3dnckHVYrCU5BU15c45-N0mtwTpDQIrGg.ttf",regular:"https://fonts.gstatic.com/s/simonetta/v24/x3dickHVYrCU5BU15c4BfPACvy_1BA.ttf",italic:"https://fonts.gstatic.com/s/simonetta/v24/x3dkckHVYrCU5BU15c4xfvoGnSrlBBsy.ttf","900italic":"https://fonts.gstatic.com/s/simonetta/v24/x3d5ckHVYrCU5BU15c4xfsKCsA7tLwc7Gn88.ttf"}},{family:"Single Day",files:{regular:"https://fonts.gstatic.com/s/singleday/v15/LYjHdGDjlEgoAcF95EI5jVoFUNfeQJU.ttf"}},{family:"Sintony",files:{700:"https://fonts.gstatic.com/s/sintony/v13/XoHj2YDqR7-98cVUGYgIn9cDkjLp6C8.ttf",regular:"https://fonts.gstatic.com/s/sintony/v13/XoHm2YDqR7-98cVUITQnu98ojjs.ttf"}},{family:"Sirin Stencil",files:{regular:"https://fonts.gstatic.com/s/sirinstencil/v21/mem4YaWwznmLx-lzGfN7MdRydchGBq6al6o.ttf"}},{family:"Six Caps",files:{regular:"https://fonts.gstatic.com/s/sixcaps/v16/6ae_4KGrU7VR7bNmabcS9XXaPCop.ttf"}},{family:"Skranji",files:{700:"https://fonts.gstatic.com/s/skranji/v13/OZpGg_dtriVFNerMW4eBtlzNwED-b4g.ttf",regular:"https://fonts.gstatic.com/s/skranji/v13/OZpDg_dtriVFNerMYzuuklTm3Ek.ttf"}},{family:"Slabo 13px",files:{regular:"https://fonts.gstatic.com/s/slabo13px/v13/11hEGp_azEvXZUdSBzzRcKer2wkYnvI.ttf"}},{family:"Slabo 27px",files:{regular:"https://fonts.gstatic.com/s/slabo27px/v12/mFT0WbgBwKPR_Z4hGN2qsxgJ1EJ7i90.ttf"}},{family:"Slackey",files:{regular:"https://fonts.gstatic.com/s/slackey/v24/N0bV2SdQO-5yM0-dKlRaJdbWgdY.ttf"}},{family:"Slackside One",files:{regular:"https://fonts.gstatic.com/s/slacksideone/v8/EJRQQgMrXdcGsiBuvnRxodTwVy7VocNB6Iw.ttf"}},{family:"Smokum",files:{regular:"https://fonts.gstatic.com/s/smokum/v24/TK3iWkUbAhopmrdGHjUHte5fKg.ttf"}},{family:"Smooch",files:{regular:"https://fonts.gstatic.com/s/smooch/v5/o-0LIps4xW8U1xUBjqp_6hVdYg.ttf"}},{family:"Smooch Sans",files:{100:"https://fonts.gstatic.com/s/smoochsans/v10/c4mz1n5uGsXss2LJh1QH6b129FZvxPj6I4oiwUFodqIeNlzayg.ttf",200:"https://fonts.gstatic.com/s/smoochsans/v10/c4mz1n5uGsXss2LJh1QH6b129FZvxPj6I4oiQUBodqIeNlzayg.ttf",300:"https://fonts.gstatic.com/s/smoochsans/v10/c4mz1n5uGsXss2LJh1QH6b129FZvxPj6I4oin0BodqIeNlzayg.ttf",500:"https://fonts.gstatic.com/s/smoochsans/v10/c4mz1n5uGsXss2LJh1QH6b129FZvxPj6I4oi80BodqIeNlzayg.ttf",600:"https://fonts.gstatic.com/s/smoochsans/v10/c4mz1n5uGsXss2LJh1QH6b129FZvxPj6I4oiH0dodqIeNlzayg.ttf",700:"https://fonts.gstatic.com/s/smoochsans/v10/c4mz1n5uGsXss2LJh1QH6b129FZvxPj6I4oiJkdodqIeNlzayg.ttf",800:"https://fonts.gstatic.com/s/smoochsans/v10/c4mz1n5uGsXss2LJh1QH6b129FZvxPj6I4oiQUdodqIeNlzayg.ttf",900:"https://fonts.gstatic.com/s/smoochsans/v10/c4mz1n5uGsXss2LJh1QH6b129FZvxPj6I4oiaEdodqIeNlzayg.ttf",regular:"https://fonts.gstatic.com/s/smoochsans/v10/c4mz1n5uGsXss2LJh1QH6b129FZvxPj6I4oiwUBodqIeNlzayg.ttf"}},{family:"Smythe",files:{regular:"https://fonts.gstatic.com/s/smythe/v23/MwQ3bhT01--coT1BOLh_uGInjA.ttf"}},{family:"Sniglet",files:{800:"https://fonts.gstatic.com/s/sniglet/v17/cIf4MaFLtkE3UjaJ_ImHRGEsnIJkWL4.ttf",regular:"https://fonts.gstatic.com/s/sniglet/v17/cIf9MaFLtkE3UjaJxCmrYGkHgIs.ttf"}},{family:"Snippet",files:{regular:"https://fonts.gstatic.com/s/snippet/v21/bWt47f7XfQH9Gupu2v_Afcp9QWc.ttf"}},{family:"Snowburst One",files:{regular:"https://fonts.gstatic.com/s/snowburstone/v20/MQpS-WezKdujBsXY3B7I-UT7eZ-UPyacPbo.ttf"}},{family:"Sofadi One",files:{regular:"https://fonts.gstatic.com/s/sofadione/v21/JIA2UVBxdnVBuElZaMFGcDOIETkmYDU.ttf"}},{family:"Sofia",files:{regular:"https://fonts.gstatic.com/s/sofia/v14/8QIHdirahM3j_vu-sowsrqjk.ttf"}},{family:"Sofia Sans",files:{100:"https://fonts.gstatic.com/s/sofiasans/v16/Yq6E-LCVXSLy9uPBwlAThu1SY8Cx8rlT69B6sa3trvKCXl8k.ttf",200:"https://fonts.gstatic.com/s/sofiasans/v16/Yq6E-LCVXSLy9uPBwlAThu1SY8Cx8rlT69D6sK3trvKCXl8k.ttf",300:"https://fonts.gstatic.com/s/sofiasans/v16/Yq6E-LCVXSLy9uPBwlAThu1SY8Cx8rlT69AksK3trvKCXl8k.ttf",500:"https://fonts.gstatic.com/s/sofiasans/v16/Yq6E-LCVXSLy9uPBwlAThu1SY8Cx8rlT69BIsK3trvKCXl8k.ttf",600:"https://fonts.gstatic.com/s/sofiasans/v16/Yq6E-LCVXSLy9uPBwlAThu1SY8Cx8rlT69Ckt63trvKCXl8k.ttf",700:"https://fonts.gstatic.com/s/sofiasans/v16/Yq6E-LCVXSLy9uPBwlAThu1SY8Cx8rlT69Cdt63trvKCXl8k.ttf",800:"https://fonts.gstatic.com/s/sofiasans/v16/Yq6E-LCVXSLy9uPBwlAThu1SY8Cx8rlT69D6t63trvKCXl8k.ttf",900:"https://fonts.gstatic.com/s/sofiasans/v16/Yq6E-LCVXSLy9uPBwlAThu1SY8Cx8rlT69DTt63trvKCXl8k.ttf",regular:"https://fonts.gstatic.com/s/sofiasans/v16/Yq6E-LCVXSLy9uPBwlAThu1SY8Cx8rlT69B6sK3trvKCXl8k.ttf","100italic":"https://fonts.gstatic.com/s/sofiasans/v16/Yq6G-LCVXSLy9uPBwlATrORgnBjYmSP97MWy80WvpPagW08kdLY.ttf","200italic":"https://fonts.gstatic.com/s/sofiasans/v16/Yq6G-LCVXSLy9uPBwlATrORgnBjYmSP97MWy88WupPagW08kdLY.ttf","300italic":"https://fonts.gstatic.com/s/sofiasans/v16/Yq6G-LCVXSLy9uPBwlATrORgnBjYmSP97MWy8xuupPagW08kdLY.ttf",italic:"https://fonts.gstatic.com/s/sofiasans/v16/Yq6G-LCVXSLy9uPBwlATrORgnBjYmSP97MWy80WupPagW08kdLY.ttf","500italic":"https://fonts.gstatic.com/s/sofiasans/v16/Yq6G-LCVXSLy9uPBwlATrORgnBjYmSP97MWy83eupPagW08kdLY.ttf","600italic":"https://fonts.gstatic.com/s/sofiasans/v16/Yq6G-LCVXSLy9uPBwlATrORgnBjYmSP97MWy85uppPagW08kdLY.ttf","700italic":"https://fonts.gstatic.com/s/sofiasans/v16/Yq6G-LCVXSLy9uPBwlATrORgnBjYmSP97MWy86KppPagW08kdLY.ttf","800italic":"https://fonts.gstatic.com/s/sofiasans/v16/Yq6G-LCVXSLy9uPBwlATrORgnBjYmSP97MWy88WppPagW08kdLY.ttf","900italic":"https://fonts.gstatic.com/s/sofiasans/v16/Yq6G-LCVXSLy9uPBwlATrORgnBjYmSP97MWy8-yppPagW08kdLY.ttf"}},{family:"Sofia Sans Condensed",files:{100:"https://fonts.gstatic.com/s/sofiasanscondensed/v2/r05xGKVS5aVKd567NYXawnFKJaTtoAuLnK0EjiAN5s9CZwUqh-Csl8QO3OfwQQ.ttf",200:"https://fonts.gstatic.com/s/sofiasanscondensed/v2/r05xGKVS5aVKd567NYXawnFKJaTtoAuLnK0EjiAN5s9CZwUqB-Gsl8QO3OfwQQ.ttf",300:"https://fonts.gstatic.com/s/sofiasanscondensed/v2/r05xGKVS5aVKd567NYXawnFKJaTtoAuLnK0EjiAN5s9CZwUq2eGsl8QO3OfwQQ.ttf",500:"https://fonts.gstatic.com/s/sofiasanscondensed/v2/r05xGKVS5aVKd567NYXawnFKJaTtoAuLnK0EjiAN5s9CZwUqteGsl8QO3OfwQQ.ttf",600:"https://fonts.gstatic.com/s/sofiasanscondensed/v2/r05xGKVS5aVKd567NYXawnFKJaTtoAuLnK0EjiAN5s9CZwUqWeasl8QO3OfwQQ.ttf",700:"https://fonts.gstatic.com/s/sofiasanscondensed/v2/r05xGKVS5aVKd567NYXawnFKJaTtoAuLnK0EjiAN5s9CZwUqYOasl8QO3OfwQQ.ttf",800:"https://fonts.gstatic.com/s/sofiasanscondensed/v2/r05xGKVS5aVKd567NYXawnFKJaTtoAuLnK0EjiAN5s9CZwUqB-asl8QO3OfwQQ.ttf",900:"https://fonts.gstatic.com/s/sofiasanscondensed/v2/r05xGKVS5aVKd567NYXawnFKJaTtoAuLnK0EjiAN5s9CZwUqLuasl8QO3OfwQQ.ttf",regular:"https://fonts.gstatic.com/s/sofiasanscondensed/v2/r05xGKVS5aVKd567NYXawnFKJaTtoAuLnK0EjiAN5s9CZwUqh-Gsl8QO3OfwQQ.ttf","100italic":"https://fonts.gstatic.com/s/sofiasanscondensed/v2/r053GKVS5aVKd567NYXawnFKJaTtoAuLnIcNvN_Vj6TYyQI_T6JE1c4K_uLgQZ_3.ttf","200italic":"https://fonts.gstatic.com/s/sofiasanscondensed/v2/r053GKVS5aVKd567NYXawnFKJaTtoAuLnIcNvN_Vj6TYyQI_T6LE1M4K_uLgQZ_3.ttf","300italic":"https://fonts.gstatic.com/s/sofiasanscondensed/v2/r053GKVS5aVKd567NYXawnFKJaTtoAuLnIcNvN_Vj6TYyQI_T6Ia1M4K_uLgQZ_3.ttf",italic:"https://fonts.gstatic.com/s/sofiasanscondensed/v2/r053GKVS5aVKd567NYXawnFKJaTtoAuLnIcNvN_Vj6TYyQI_T6JE1M4K_uLgQZ_3.ttf","500italic":"https://fonts.gstatic.com/s/sofiasanscondensed/v2/r053GKVS5aVKd567NYXawnFKJaTtoAuLnIcNvN_Vj6TYyQI_T6J21M4K_uLgQZ_3.ttf","600italic":"https://fonts.gstatic.com/s/sofiasanscondensed/v2/r053GKVS5aVKd567NYXawnFKJaTtoAuLnIcNvN_Vj6TYyQI_T6Ka084K_uLgQZ_3.ttf","700italic":"https://fonts.gstatic.com/s/sofiasanscondensed/v2/r053GKVS5aVKd567NYXawnFKJaTtoAuLnIcNvN_Vj6TYyQI_T6Kj084K_uLgQZ_3.ttf","800italic":"https://fonts.gstatic.com/s/sofiasanscondensed/v2/r053GKVS5aVKd567NYXawnFKJaTtoAuLnIcNvN_Vj6TYyQI_T6LE084K_uLgQZ_3.ttf","900italic":"https://fonts.gstatic.com/s/sofiasanscondensed/v2/r053GKVS5aVKd567NYXawnFKJaTtoAuLnIcNvN_Vj6TYyQI_T6Lt084K_uLgQZ_3.ttf"}},{family:"Sofia Sans Extra Condensed",files:{100:"https://fonts.gstatic.com/s/sofiasansextracondensed/v2/raxdHjafvdAIOju4GcIfJH0i7zi50X3zRtuLNiMS0d6iDr-MD5Si9NGLmmmEfzmM356GxA.ttf",200:"https://fonts.gstatic.com/s/sofiasansextracondensed/v2/raxdHjafvdAIOju4GcIfJH0i7zi50X3zRtuLNiMS0d6iDr-MD5Si9NGLGmiEfzmM356GxA.ttf",300:"https://fonts.gstatic.com/s/sofiasansextracondensed/v2/raxdHjafvdAIOju4GcIfJH0i7zi50X3zRtuLNiMS0d6iDr-MD5Si9NGLxGiEfzmM356GxA.ttf",500:"https://fonts.gstatic.com/s/sofiasansextracondensed/v2/raxdHjafvdAIOju4GcIfJH0i7zi50X3zRtuLNiMS0d6iDr-MD5Si9NGLqGiEfzmM356GxA.ttf",600:"https://fonts.gstatic.com/s/sofiasansextracondensed/v2/raxdHjafvdAIOju4GcIfJH0i7zi50X3zRtuLNiMS0d6iDr-MD5Si9NGLRG-EfzmM356GxA.ttf",700:"https://fonts.gstatic.com/s/sofiasansextracondensed/v2/raxdHjafvdAIOju4GcIfJH0i7zi50X3zRtuLNiMS0d6iDr-MD5Si9NGLfW-EfzmM356GxA.ttf",800:"https://fonts.gstatic.com/s/sofiasansextracondensed/v2/raxdHjafvdAIOju4GcIfJH0i7zi50X3zRtuLNiMS0d6iDr-MD5Si9NGLGm-EfzmM356GxA.ttf",900:"https://fonts.gstatic.com/s/sofiasansextracondensed/v2/raxdHjafvdAIOju4GcIfJH0i7zi50X3zRtuLNiMS0d6iDr-MD5Si9NGLM2-EfzmM356GxA.ttf",regular:"https://fonts.gstatic.com/s/sofiasansextracondensed/v2/raxdHjafvdAIOju4GcIfJH0i7zi50X3zRtuLNiMS0d6iDr-MD5Si9NGLmmiEfzmM356GxA.ttf","100italic":"https://fonts.gstatic.com/s/sofiasansextracondensed/v2/raxfHjafvdAIOju4GcIfJH0i7zi50X3zRtuLNiMS0fSrPEBUZv84WtaeUitsPTOI_ZuWxFXe.ttf","200italic":"https://fonts.gstatic.com/s/sofiasansextracondensed/v2/raxfHjafvdAIOju4GcIfJH0i7zi50X3zRtuLNiMS0fSrPEBUZv84WtaeUivsPDOI_ZuWxFXe.ttf","300italic":"https://fonts.gstatic.com/s/sofiasansextracondensed/v2/raxfHjafvdAIOju4GcIfJH0i7zi50X3zRtuLNiMS0fSrPEBUZv84WtaeUisyPDOI_ZuWxFXe.ttf",italic:"https://fonts.gstatic.com/s/sofiasansextracondensed/v2/raxfHjafvdAIOju4GcIfJH0i7zi50X3zRtuLNiMS0fSrPEBUZv84WtaeUitsPDOI_ZuWxFXe.ttf","500italic":"https://fonts.gstatic.com/s/sofiasansextracondensed/v2/raxfHjafvdAIOju4GcIfJH0i7zi50X3zRtuLNiMS0fSrPEBUZv84WtaeUitePDOI_ZuWxFXe.ttf","600italic":"https://fonts.gstatic.com/s/sofiasansextracondensed/v2/raxfHjafvdAIOju4GcIfJH0i7zi50X3zRtuLNiMS0fSrPEBUZv84WtaeUiuyOzOI_ZuWxFXe.ttf","700italic":"https://fonts.gstatic.com/s/sofiasansextracondensed/v2/raxfHjafvdAIOju4GcIfJH0i7zi50X3zRtuLNiMS0fSrPEBUZv84WtaeUiuLOzOI_ZuWxFXe.ttf","800italic":"https://fonts.gstatic.com/s/sofiasansextracondensed/v2/raxfHjafvdAIOju4GcIfJH0i7zi50X3zRtuLNiMS0fSrPEBUZv84WtaeUivsOzOI_ZuWxFXe.ttf","900italic":"https://fonts.gstatic.com/s/sofiasansextracondensed/v2/raxfHjafvdAIOju4GcIfJH0i7zi50X3zRtuLNiMS0fSrPEBUZv84WtaeUivFOzOI_ZuWxFXe.ttf"}},{family:"Sofia Sans Semi Condensed",files:{100:"https://fonts.gstatic.com/s/sofiasanssemicondensed/v4/46kOlaPnUDrQoNsWDCGXXxYlujh5Wv0nwP4RwxURm28cA7YLHsIVvoobEO9TGahllIhN.ttf",200:"https://fonts.gstatic.com/s/sofiasanssemicondensed/v4/46kOlaPnUDrQoNsWDCGXXxYlujh5Wv0nwP4RwxURm28cA7YLHsIVvoqbEe9TGahllIhN.ttf",300:"https://fonts.gstatic.com/s/sofiasanssemicondensed/v4/46kOlaPnUDrQoNsWDCGXXxYlujh5Wv0nwP4RwxURm28cA7YLHsIVvopFEe9TGahllIhN.ttf",500:"https://fonts.gstatic.com/s/sofiasanssemicondensed/v4/46kOlaPnUDrQoNsWDCGXXxYlujh5Wv0nwP4RwxURm28cA7YLHsIVvoopEe9TGahllIhN.ttf",600:"https://fonts.gstatic.com/s/sofiasanssemicondensed/v4/46kOlaPnUDrQoNsWDCGXXxYlujh5Wv0nwP4RwxURm28cA7YLHsIVvorFFu9TGahllIhN.ttf",700:"https://fonts.gstatic.com/s/sofiasanssemicondensed/v4/46kOlaPnUDrQoNsWDCGXXxYlujh5Wv0nwP4RwxURm28cA7YLHsIVvor8Fu9TGahllIhN.ttf",800:"https://fonts.gstatic.com/s/sofiasanssemicondensed/v4/46kOlaPnUDrQoNsWDCGXXxYlujh5Wv0nwP4RwxURm28cA7YLHsIVvoqbFu9TGahllIhN.ttf",900:"https://fonts.gstatic.com/s/sofiasanssemicondensed/v4/46kOlaPnUDrQoNsWDCGXXxYlujh5Wv0nwP4RwxURm28cA7YLHsIVvoqyFu9TGahllIhN.ttf",regular:"https://fonts.gstatic.com/s/sofiasanssemicondensed/v4/46kOlaPnUDrQoNsWDCGXXxYlujh5Wv0nwP4RwxURm28cA7YLHsIVvoobEe9TGahllIhN.ttf","100italic":"https://fonts.gstatic.com/s/sofiasanssemicondensed/v4/46kMlaPnUDrQoNsWDCGXXxYlujh5Wv0nwP4RwxURsWYu_G5idVi7uZ_TUgcRE6xHkZhNeas.ttf","200italic":"https://fonts.gstatic.com/s/sofiasanssemicondensed/v4/46kMlaPnUDrQoNsWDCGXXxYlujh5Wv0nwP4RwxURsWYu_G5idVi7uZ_TUocQE6xHkZhNeas.ttf","300italic":"https://fonts.gstatic.com/s/sofiasanssemicondensed/v4/46kMlaPnUDrQoNsWDCGXXxYlujh5Wv0nwP4RwxURsWYu_G5idVi7uZ_TUlkQE6xHkZhNeas.ttf",italic:"https://fonts.gstatic.com/s/sofiasanssemicondensed/v4/46kMlaPnUDrQoNsWDCGXXxYlujh5Wv0nwP4RwxURsWYu_G5idVi7uZ_TUgcQE6xHkZhNeas.ttf","500italic":"https://fonts.gstatic.com/s/sofiasanssemicondensed/v4/46kMlaPnUDrQoNsWDCGXXxYlujh5Wv0nwP4RwxURsWYu_G5idVi7uZ_TUjUQE6xHkZhNeas.ttf","600italic":"https://fonts.gstatic.com/s/sofiasanssemicondensed/v4/46kMlaPnUDrQoNsWDCGXXxYlujh5Wv0nwP4RwxURsWYu_G5idVi7uZ_TUtkXE6xHkZhNeas.ttf","700italic":"https://fonts.gstatic.com/s/sofiasanssemicondensed/v4/46kMlaPnUDrQoNsWDCGXXxYlujh5Wv0nwP4RwxURsWYu_G5idVi7uZ_TUuAXE6xHkZhNeas.ttf","800italic":"https://fonts.gstatic.com/s/sofiasanssemicondensed/v4/46kMlaPnUDrQoNsWDCGXXxYlujh5Wv0nwP4RwxURsWYu_G5idVi7uZ_TUocXE6xHkZhNeas.ttf","900italic":"https://fonts.gstatic.com/s/sofiasanssemicondensed/v4/46kMlaPnUDrQoNsWDCGXXxYlujh5Wv0nwP4RwxURsWYu_G5idVi7uZ_TUq4XE6xHkZhNeas.ttf"}},{family:"Solitreo",files:{regular:"https://fonts.gstatic.com/s/solitreo/v2/r05YGLlS5a9KYsyNO8upyDYtStiJ.ttf"}},{family:"Solway",files:{300:"https://fonts.gstatic.com/s/solway/v18/AMOTz46Cs2uTAOCuLlgZms0QW3mqyg.ttf",500:"https://fonts.gstatic.com/s/solway/v18/AMOTz46Cs2uTAOCudlkZms0QW3mqyg.ttf",700:"https://fonts.gstatic.com/s/solway/v18/AMOTz46Cs2uTAOCuPl8Zms0QW3mqyg.ttf",800:"https://fonts.gstatic.com/s/solway/v18/AMOTz46Cs2uTAOCuIlwZms0QW3mqyg.ttf",regular:"https://fonts.gstatic.com/s/solway/v18/AMOQz46Cs2uTAOCWgnA9kuYMUg.ttf"}},{family:"Song Myung",files:{regular:"https://fonts.gstatic.com/s/songmyung/v20/1cX2aUDWAJH5-EIC7DIhr1GqhcitzeM.ttf"}},{family:"Sono",files:{200:"https://fonts.gstatic.com/s/sono/v4/aFT97PNiY3U2Cqf_aYEN64CYaK18YWJEsV6u-QLiOsxVNkWdEnR4qYeB4Q.ttf",300:"https://fonts.gstatic.com/s/sono/v4/aFT97PNiY3U2Cqf_aYEN64CYaK18YWJEsV6u-QLiOsxV6EWdEnR4qYeB4Q.ttf",500:"https://fonts.gstatic.com/s/sono/v4/aFT97PNiY3U2Cqf_aYEN64CYaK18YWJEsV6u-QLiOsxVhEWdEnR4qYeB4Q.ttf",600:"https://fonts.gstatic.com/s/sono/v4/aFT97PNiY3U2Cqf_aYEN64CYaK18YWJEsV6u-QLiOsxVaEKdEnR4qYeB4Q.ttf",700:"https://fonts.gstatic.com/s/sono/v4/aFT97PNiY3U2Cqf_aYEN64CYaK18YWJEsV6u-QLiOsxVUUKdEnR4qYeB4Q.ttf",800:"https://fonts.gstatic.com/s/sono/v4/aFT97PNiY3U2Cqf_aYEN64CYaK18YWJEsV6u-QLiOsxVNkKdEnR4qYeB4Q.ttf",regular:"https://fonts.gstatic.com/s/sono/v4/aFT97PNiY3U2Cqf_aYEN64CYaK18YWJEsV6u-QLiOsxVtkWdEnR4qYeB4Q.ttf"}},{family:"Sonsie One",files:{regular:"https://fonts.gstatic.com/s/sonsieone/v21/PbymFmP_EAnPqbKaoc18YVu80lbp8JM.ttf"}},{family:"Sora",files:{100:"https://fonts.gstatic.com/s/sora/v11/xMQOuFFYT72X5wkB_18qmnndmSdSn3-KIwNhBti0.ttf",200:"https://fonts.gstatic.com/s/sora/v11/xMQOuFFYT72X5wkB_18qmnndmSfSnn-KIwNhBti0.ttf",300:"https://fonts.gstatic.com/s/sora/v11/xMQOuFFYT72X5wkB_18qmnndmScMnn-KIwNhBti0.ttf",500:"https://fonts.gstatic.com/s/sora/v11/xMQOuFFYT72X5wkB_18qmnndmSdgnn-KIwNhBti0.ttf",600:"https://fonts.gstatic.com/s/sora/v11/xMQOuFFYT72X5wkB_18qmnndmSeMmX-KIwNhBti0.ttf",700:"https://fonts.gstatic.com/s/sora/v11/xMQOuFFYT72X5wkB_18qmnndmSe1mX-KIwNhBti0.ttf",800:"https://fonts.gstatic.com/s/sora/v11/xMQOuFFYT72X5wkB_18qmnndmSfSmX-KIwNhBti0.ttf",regular:"https://fonts.gstatic.com/s/sora/v11/xMQOuFFYT72X5wkB_18qmnndmSdSnn-KIwNhBti0.ttf"}},{family:"Sorts Mill Goudy",files:{regular:"https://fonts.gstatic.com/s/sortsmillgoudy/v15/Qw3GZR9MED_6PSuS_50nEaVrfzgEXH0OjpM75PE.ttf",italic:"https://fonts.gstatic.com/s/sortsmillgoudy/v15/Qw3AZR9MED_6PSuS_50nEaVrfzgEbH8EirE-9PGLfQ.ttf"}},{family:"Source Code Pro",files:{200:"https://fonts.gstatic.com/s/sourcecodepro/v22/HI_diYsKILxRpg3hIP6sJ7fM7PqPMcMnZFqUwX28DEyQhM5hTXUcdJg.ttf",300:"https://fonts.gstatic.com/s/sourcecodepro/v22/HI_diYsKILxRpg3hIP6sJ7fM7PqPMcMnZFqUwX28DJKQhM5hTXUcdJg.ttf",500:"https://fonts.gstatic.com/s/sourcecodepro/v22/HI_diYsKILxRpg3hIP6sJ7fM7PqPMcMnZFqUwX28DP6QhM5hTXUcdJg.ttf",600:"https://fonts.gstatic.com/s/sourcecodepro/v22/HI_diYsKILxRpg3hIP6sJ7fM7PqPMcMnZFqUwX28DBKXhM5hTXUcdJg.ttf",700:"https://fonts.gstatic.com/s/sourcecodepro/v22/HI_diYsKILxRpg3hIP6sJ7fM7PqPMcMnZFqUwX28DCuXhM5hTXUcdJg.ttf",800:"https://fonts.gstatic.com/s/sourcecodepro/v22/HI_diYsKILxRpg3hIP6sJ7fM7PqPMcMnZFqUwX28DEyXhM5hTXUcdJg.ttf",900:"https://fonts.gstatic.com/s/sourcecodepro/v22/HI_diYsKILxRpg3hIP6sJ7fM7PqPMcMnZFqUwX28DGWXhM5hTXUcdJg.ttf",regular:"https://fonts.gstatic.com/s/sourcecodepro/v22/HI_diYsKILxRpg3hIP6sJ7fM7PqPMcMnZFqUwX28DMyQhM5hTXUcdJg.ttf","200italic":"https://fonts.gstatic.com/s/sourcecodepro/v22/HI_jiYsKILxRpg3hIP6sJ7fM7PqlOPHYvDP_W9O7GQTT7I1rSVcZZJiGpw.ttf","300italic":"https://fonts.gstatic.com/s/sourcecodepro/v22/HI_jiYsKILxRpg3hIP6sJ7fM7PqlOPHYvDP_W9O7GQTTMo1rSVcZZJiGpw.ttf",italic:"https://fonts.gstatic.com/s/sourcecodepro/v22/HI_jiYsKILxRpg3hIP6sJ7fM7PqlOPHYvDP_W9O7GQTTbI1rSVcZZJiGpw.ttf","500italic":"https://fonts.gstatic.com/s/sourcecodepro/v22/HI_jiYsKILxRpg3hIP6sJ7fM7PqlOPHYvDP_W9O7GQTTXo1rSVcZZJiGpw.ttf","600italic":"https://fonts.gstatic.com/s/sourcecodepro/v22/HI_jiYsKILxRpg3hIP6sJ7fM7PqlOPHYvDP_W9O7GQTTsoprSVcZZJiGpw.ttf","700italic":"https://fonts.gstatic.com/s/sourcecodepro/v22/HI_jiYsKILxRpg3hIP6sJ7fM7PqlOPHYvDP_W9O7GQTTi4prSVcZZJiGpw.ttf","800italic":"https://fonts.gstatic.com/s/sourcecodepro/v22/HI_jiYsKILxRpg3hIP6sJ7fM7PqlOPHYvDP_W9O7GQTT7IprSVcZZJiGpw.ttf","900italic":"https://fonts.gstatic.com/s/sourcecodepro/v22/HI_jiYsKILxRpg3hIP6sJ7fM7PqlOPHYvDP_W9O7GQTTxYprSVcZZJiGpw.ttf"}},{family:"Source Sans 3",files:{200:"https://fonts.gstatic.com/s/sourcesans3/v9/nwpBtKy2OAdR1K-IwhWudF-R9QMylBJAV3Bo8Kw461EN_io6npfB.ttf",300:"https://fonts.gstatic.com/s/sourcesans3/v9/nwpBtKy2OAdR1K-IwhWudF-R9QMylBJAV3Bo8Kzm61EN_io6npfB.ttf",500:"https://fonts.gstatic.com/s/sourcesans3/v9/nwpBtKy2OAdR1K-IwhWudF-R9QMylBJAV3Bo8KyK61EN_io6npfB.ttf",600:"https://fonts.gstatic.com/s/sourcesans3/v9/nwpBtKy2OAdR1K-IwhWudF-R9QMylBJAV3Bo8Kxm7FEN_io6npfB.ttf",700:"https://fonts.gstatic.com/s/sourcesans3/v9/nwpBtKy2OAdR1K-IwhWudF-R9QMylBJAV3Bo8Kxf7FEN_io6npfB.ttf",800:"https://fonts.gstatic.com/s/sourcesans3/v9/nwpBtKy2OAdR1K-IwhWudF-R9QMylBJAV3Bo8Kw47FEN_io6npfB.ttf",900:"https://fonts.gstatic.com/s/sourcesans3/v9/nwpBtKy2OAdR1K-IwhWudF-R9QMylBJAV3Bo8KwR7FEN_io6npfB.ttf",regular:"https://fonts.gstatic.com/s/sourcesans3/v9/nwpBtKy2OAdR1K-IwhWudF-R9QMylBJAV3Bo8Ky461EN_io6npfB.ttf","200italic":"https://fonts.gstatic.com/s/sourcesans3/v9/nwpDtKy2OAdR1K-IwhWudF-R3woAa8opPOrG97lwqDlO9C4Ym4fB3Ts.ttf","300italic":"https://fonts.gstatic.com/s/sourcesans3/v9/nwpDtKy2OAdR1K-IwhWudF-R3woAa8opPOrG97lwqOdO9C4Ym4fB3Ts.ttf",italic:"https://fonts.gstatic.com/s/sourcesans3/v9/nwpDtKy2OAdR1K-IwhWudF-R3woAa8opPOrG97lwqLlO9C4Ym4fB3Ts.ttf","500italic":"https://fonts.gstatic.com/s/sourcesans3/v9/nwpDtKy2OAdR1K-IwhWudF-R3woAa8opPOrG97lwqItO9C4Ym4fB3Ts.ttf","600italic":"https://fonts.gstatic.com/s/sourcesans3/v9/nwpDtKy2OAdR1K-IwhWudF-R3woAa8opPOrG97lwqGdJ9C4Ym4fB3Ts.ttf","700italic":"https://fonts.gstatic.com/s/sourcesans3/v9/nwpDtKy2OAdR1K-IwhWudF-R3woAa8opPOrG97lwqF5J9C4Ym4fB3Ts.ttf","800italic":"https://fonts.gstatic.com/s/sourcesans3/v9/nwpDtKy2OAdR1K-IwhWudF-R3woAa8opPOrG97lwqDlJ9C4Ym4fB3Ts.ttf","900italic":"https://fonts.gstatic.com/s/sourcesans3/v9/nwpDtKy2OAdR1K-IwhWudF-R3woAa8opPOrG97lwqBBJ9C4Ym4fB3Ts.ttf"}},{family:"Source Sans Pro",files:{200:"https://fonts.gstatic.com/s/sourcesanspro/v21/6xKydSBYKcSV-LCoeQqfX1RYOo3i94_AkB1v_8CGxg.ttf",300:"https://fonts.gstatic.com/s/sourcesanspro/v21/6xKydSBYKcSV-LCoeQqfX1RYOo3ik4zAkB1v_8CGxg.ttf",600:"https://fonts.gstatic.com/s/sourcesanspro/v21/6xKydSBYKcSV-LCoeQqfX1RYOo3i54rAkB1v_8CGxg.ttf",700:"https://fonts.gstatic.com/s/sourcesanspro/v21/6xKydSBYKcSV-LCoeQqfX1RYOo3ig4vAkB1v_8CGxg.ttf",900:"https://fonts.gstatic.com/s/sourcesanspro/v21/6xKydSBYKcSV-LCoeQqfX1RYOo3iu4nAkB1v_8CGxg.ttf","200italic":"https://fonts.gstatic.com/s/sourcesanspro/v21/6xKwdSBYKcSV-LCoeQqfX1RYOo3qPZYokRdr3cWWxg40.ttf","300italic":"https://fonts.gstatic.com/s/sourcesanspro/v21/6xKwdSBYKcSV-LCoeQqfX1RYOo3qPZZMkhdr3cWWxg40.ttf",regular:"https://fonts.gstatic.com/s/sourcesanspro/v21/6xK3dSBYKcSV-LCoeQqfX1RYOo3aP6TkmDZz9g.ttf",italic:"https://fonts.gstatic.com/s/sourcesanspro/v21/6xK1dSBYKcSV-LCoeQqfX1RYOo3qPa7gujNj9tmf.ttf","600italic":"https://fonts.gstatic.com/s/sourcesanspro/v21/6xKwdSBYKcSV-LCoeQqfX1RYOo3qPZY4lBdr3cWWxg40.ttf","700italic":"https://fonts.gstatic.com/s/sourcesanspro/v21/6xKwdSBYKcSV-LCoeQqfX1RYOo3qPZZclRdr3cWWxg40.ttf","900italic":"https://fonts.gstatic.com/s/sourcesanspro/v21/6xKwdSBYKcSV-LCoeQqfX1RYOo3qPZZklxdr3cWWxg40.ttf"}},{family:"Source Serif 4",files:{200:"https://fonts.gstatic.com/s/sourceserif4/v7/vEFy2_tTDB4M7-auWDN0ahZJW3IX2ih5nk3AucvUHf6OAVIJmeUDygwjipdqrhxXD-wGvjU.ttf",300:"https://fonts.gstatic.com/s/sourceserif4/v7/vEFy2_tTDB4M7-auWDN0ahZJW3IX2ih5nk3AucvUHf6OAVIJmeUDygwjiklqrhxXD-wGvjU.ttf",500:"https://fonts.gstatic.com/s/sourceserif4/v7/vEFy2_tTDB4M7-auWDN0ahZJW3IX2ih5nk3AucvUHf6OAVIJmeUDygwjiiVqrhxXD-wGvjU.ttf",600:"https://fonts.gstatic.com/s/sourceserif4/v7/vEFy2_tTDB4M7-auWDN0ahZJW3IX2ih5nk3AucvUHf6OAVIJmeUDygwjisltrhxXD-wGvjU.ttf",700:"https://fonts.gstatic.com/s/sourceserif4/v7/vEFy2_tTDB4M7-auWDN0ahZJW3IX2ih5nk3AucvUHf6OAVIJmeUDygwjivBtrhxXD-wGvjU.ttf",800:"https://fonts.gstatic.com/s/sourceserif4/v7/vEFy2_tTDB4M7-auWDN0ahZJW3IX2ih5nk3AucvUHf6OAVIJmeUDygwjipdtrhxXD-wGvjU.ttf",900:"https://fonts.gstatic.com/s/sourceserif4/v7/vEFy2_tTDB4M7-auWDN0ahZJW3IX2ih5nk3AucvUHf6OAVIJmeUDygwjir5trhxXD-wGvjU.ttf",regular:"https://fonts.gstatic.com/s/sourceserif4/v7/vEFy2_tTDB4M7-auWDN0ahZJW3IX2ih5nk3AucvUHf6OAVIJmeUDygwjihdqrhxXD-wGvjU.ttf","200italic":"https://fonts.gstatic.com/s/sourceserif4/v7/vEF02_tTDB4M7-auWDN0ahZJW1ge6NmXpVAHV83Bfb_US2D2QYxoUKIkn98pxl9dC84DrjXEXw.ttf","300italic":"https://fonts.gstatic.com/s/sourceserif4/v7/vEF02_tTDB4M7-auWDN0ahZJW1ge6NmXpVAHV83Bfb_US2D2QYxoUKIkn98pGF9dC84DrjXEXw.ttf",italic:"https://fonts.gstatic.com/s/sourceserif4/v7/vEF02_tTDB4M7-auWDN0ahZJW1ge6NmXpVAHV83Bfb_US2D2QYxoUKIkn98pRl9dC84DrjXEXw.ttf","500italic":"https://fonts.gstatic.com/s/sourceserif4/v7/vEF02_tTDB4M7-auWDN0ahZJW1ge6NmXpVAHV83Bfb_US2D2QYxoUKIkn98pdF9dC84DrjXEXw.ttf","600italic":"https://fonts.gstatic.com/s/sourceserif4/v7/vEF02_tTDB4M7-auWDN0ahZJW1ge6NmXpVAHV83Bfb_US2D2QYxoUKIkn98pmFhdC84DrjXEXw.ttf","700italic":"https://fonts.gstatic.com/s/sourceserif4/v7/vEF02_tTDB4M7-auWDN0ahZJW1ge6NmXpVAHV83Bfb_US2D2QYxoUKIkn98poVhdC84DrjXEXw.ttf","800italic":"https://fonts.gstatic.com/s/sourceserif4/v7/vEF02_tTDB4M7-auWDN0ahZJW1ge6NmXpVAHV83Bfb_US2D2QYxoUKIkn98pxlhdC84DrjXEXw.ttf","900italic":"https://fonts.gstatic.com/s/sourceserif4/v7/vEF02_tTDB4M7-auWDN0ahZJW1ge6NmXpVAHV83Bfb_US2D2QYxoUKIkn98p71hdC84DrjXEXw.ttf"}},{family:"Source Serif Pro",files:{200:"https://fonts.gstatic.com/s/sourceserifpro/v15/neIXzD-0qpwxpaWvjeD0X88SAOeasbsfhSugxYUvZrI.ttf",300:"https://fonts.gstatic.com/s/sourceserifpro/v15/neIXzD-0qpwxpaWvjeD0X88SAOeasd8chSugxYUvZrI.ttf",600:"https://fonts.gstatic.com/s/sourceserifpro/v15/neIXzD-0qpwxpaWvjeD0X88SAOeasasahSugxYUvZrI.ttf",700:"https://fonts.gstatic.com/s/sourceserifpro/v15/neIXzD-0qpwxpaWvjeD0X88SAOeasc8bhSugxYUvZrI.ttf",900:"https://fonts.gstatic.com/s/sourceserifpro/v15/neIXzD-0qpwxpaWvjeD0X88SAOeasfcZhSugxYUvZrI.ttf","200italic":"https://fonts.gstatic.com/s/sourceserifpro/v15/neIVzD-0qpwxpaWvjeD0X88SAOeauXEGbSqqwacqdrKvbQ.ttf","300italic":"https://fonts.gstatic.com/s/sourceserifpro/v15/neIVzD-0qpwxpaWvjeD0X88SAOeauXEGCSmqwacqdrKvbQ.ttf",regular:"https://fonts.gstatic.com/s/sourceserifpro/v15/neIQzD-0qpwxpaWvjeD0X88SAOeaiXM0oSOL2Yw.ttf",italic:"https://fonts.gstatic.com/s/sourceserifpro/v15/neIWzD-0qpwxpaWvjeD0X88SAOeauXE-pQGOyYw2fw.ttf","600italic":"https://fonts.gstatic.com/s/sourceserifpro/v15/neIVzD-0qpwxpaWvjeD0X88SAOeauXEGfS-qwacqdrKvbQ.ttf","700italic":"https://fonts.gstatic.com/s/sourceserifpro/v15/neIVzD-0qpwxpaWvjeD0X88SAOeauXEGGS6qwacqdrKvbQ.ttf","900italic":"https://fonts.gstatic.com/s/sourceserifpro/v15/neIVzD-0qpwxpaWvjeD0X88SAOeauXEGISyqwacqdrKvbQ.ttf"}},{family:"Space Grotesk",files:{300:"https://fonts.gstatic.com/s/spacegrotesk/v15/V8mQoQDjQSkFtoMM3T6r8E7mF71Q-gOoraIAEj62UUsjNsFjTDJK.ttf",500:"https://fonts.gstatic.com/s/spacegrotesk/v15/V8mQoQDjQSkFtoMM3T6r8E7mF71Q-gOoraIAEj7aUUsjNsFjTDJK.ttf",600:"https://fonts.gstatic.com/s/spacegrotesk/v15/V8mQoQDjQSkFtoMM3T6r8E7mF71Q-gOoraIAEj42VksjNsFjTDJK.ttf",700:"https://fonts.gstatic.com/s/spacegrotesk/v15/V8mQoQDjQSkFtoMM3T6r8E7mF71Q-gOoraIAEj4PVksjNsFjTDJK.ttf",regular:"https://fonts.gstatic.com/s/spacegrotesk/v15/V8mQoQDjQSkFtoMM3T6r8E7mF71Q-gOoraIAEj7oUUsjNsFjTDJK.ttf"}},{family:"Space Mono",files:{700:"https://fonts.gstatic.com/s/spacemono/v12/i7dMIFZifjKcF5UAWdDRaPpZYFKQHwyVd3U.ttf",regular:"https://fonts.gstatic.com/s/spacemono/v12/i7dPIFZifjKcF5UAWdDRUEZ2RFq7AwU.ttf",italic:"https://fonts.gstatic.com/s/spacemono/v12/i7dNIFZifjKcF5UAWdDRYER8QHi-EwWMbg.ttf","700italic":"https://fonts.gstatic.com/s/spacemono/v12/i7dSIFZifjKcF5UAWdDRYERE_FeaGy6QZ3WfYg.ttf"}},{family:"Special Elite",files:{regular:"https://fonts.gstatic.com/s/specialelite/v18/XLYgIZbkc4JPUL5CVArUVL0nhncESXFtUsM.ttf"}},{family:"Spectral",files:{200:"https://fonts.gstatic.com/s/spectral/v13/rnCs-xNNww_2s0amA9v2s13GY_etWWIJ.ttf",300:"https://fonts.gstatic.com/s/spectral/v13/rnCs-xNNww_2s0amA9uSsF3GY_etWWIJ.ttf",500:"https://fonts.gstatic.com/s/spectral/v13/rnCs-xNNww_2s0amA9vKsV3GY_etWWIJ.ttf",600:"https://fonts.gstatic.com/s/spectral/v13/rnCs-xNNww_2s0amA9vmtl3GY_etWWIJ.ttf",700:"https://fonts.gstatic.com/s/spectral/v13/rnCs-xNNww_2s0amA9uCt13GY_etWWIJ.ttf",800:"https://fonts.gstatic.com/s/spectral/v13/rnCs-xNNww_2s0amA9uetF3GY_etWWIJ.ttf","200italic":"https://fonts.gstatic.com/s/spectral/v13/rnCu-xNNww_2s0amA9M8qrXHafOPXHIJErY.ttf","300italic":"https://fonts.gstatic.com/s/spectral/v13/rnCu-xNNww_2s0amA9M8qtHEafOPXHIJErY.ttf",regular:"https://fonts.gstatic.com/s/spectral/v13/rnCr-xNNww_2s0amA-M-mHnOSOuk.ttf",italic:"https://fonts.gstatic.com/s/spectral/v13/rnCt-xNNww_2s0amA9M8kn3sTfukQHs.ttf","500italic":"https://fonts.gstatic.com/s/spectral/v13/rnCu-xNNww_2s0amA9M8qonFafOPXHIJErY.ttf","600italic":"https://fonts.gstatic.com/s/spectral/v13/rnCu-xNNww_2s0amA9M8qqXCafOPXHIJErY.ttf","700italic":"https://fonts.gstatic.com/s/spectral/v13/rnCu-xNNww_2s0amA9M8qsHDafOPXHIJErY.ttf","800italic":"https://fonts.gstatic.com/s/spectral/v13/rnCu-xNNww_2s0amA9M8qt3AafOPXHIJErY.ttf"}},{family:"Spectral SC",files:{200:"https://fonts.gstatic.com/s/spectralsc/v12/Ktk0ALCRZonmalTgyPmRfs1qwkTXPYeVXJZB.ttf",300:"https://fonts.gstatic.com/s/spectralsc/v12/Ktk0ALCRZonmalTgyPmRfs0OwUTXPYeVXJZB.ttf",500:"https://fonts.gstatic.com/s/spectralsc/v12/Ktk0ALCRZonmalTgyPmRfs1WwETXPYeVXJZB.ttf",600:"https://fonts.gstatic.com/s/spectralsc/v12/Ktk0ALCRZonmalTgyPmRfs16x0TXPYeVXJZB.ttf",700:"https://fonts.gstatic.com/s/spectralsc/v12/Ktk0ALCRZonmalTgyPmRfs0exkTXPYeVXJZB.ttf",800:"https://fonts.gstatic.com/s/spectralsc/v12/Ktk0ALCRZonmalTgyPmRfs0CxUTXPYeVXJZB.ttf","200italic":"https://fonts.gstatic.com/s/spectralsc/v12/Ktk2ALCRZonmalTgyPmRfsWg26zWN4O3WYZB_sU.ttf","300italic":"https://fonts.gstatic.com/s/spectralsc/v12/Ktk2ALCRZonmalTgyPmRfsWg28jVN4O3WYZB_sU.ttf",regular:"https://fonts.gstatic.com/s/spectralsc/v12/KtkpALCRZonmalTgyPmRfvWi6WDfFpuc.ttf",italic:"https://fonts.gstatic.com/s/spectralsc/v12/KtkrALCRZonmalTgyPmRfsWg42T9E4ucRY8.ttf","500italic":"https://fonts.gstatic.com/s/spectralsc/v12/Ktk2ALCRZonmalTgyPmRfsWg25DUN4O3WYZB_sU.ttf","600italic":"https://fonts.gstatic.com/s/spectralsc/v12/Ktk2ALCRZonmalTgyPmRfsWg27zTN4O3WYZB_sU.ttf","700italic":"https://fonts.gstatic.com/s/spectralsc/v12/Ktk2ALCRZonmalTgyPmRfsWg29jSN4O3WYZB_sU.ttf","800italic":"https://fonts.gstatic.com/s/spectralsc/v12/Ktk2ALCRZonmalTgyPmRfsWg28TRN4O3WYZB_sU.ttf"}},{family:"Spicy Rice",files:{regular:"https://fonts.gstatic.com/s/spicyrice/v21/uK_24rSEd-Uqwk4jY1RyGv-2WkowRcc.ttf"}},{family:"Spinnaker",files:{regular:"https://fonts.gstatic.com/s/spinnaker/v17/w8gYH2oyX-I0_rvR6Hmn3HwLqOqSBg.ttf"}},{family:"Spirax",files:{regular:"https://fonts.gstatic.com/s/spirax/v21/buE3poKgYNLy0F3cXktt-Csn-Q.ttf"}},{family:"Splash",files:{regular:"https://fonts.gstatic.com/s/splash/v2/KtksAL2RZoDkbU6hpPPGNdS6wg.ttf"}},{family:"Spline Sans",files:{300:"https://fonts.gstatic.com/s/splinesans/v9/_6_sED73Uf-2WfU2LzycEZousNzn1a1lKWRpZlnYEtvlUfE2kw.ttf",500:"https://fonts.gstatic.com/s/splinesans/v9/_6_sED73Uf-2WfU2LzycEZousNzn1a1lKWRpClnYEtvlUfE2kw.ttf",600:"https://fonts.gstatic.com/s/splinesans/v9/_6_sED73Uf-2WfU2LzycEZousNzn1a1lKWRp5l7YEtvlUfE2kw.ttf",700:"https://fonts.gstatic.com/s/splinesans/v9/_6_sED73Uf-2WfU2LzycEZousNzn1a1lKWRp317YEtvlUfE2kw.ttf",regular:"https://fonts.gstatic.com/s/splinesans/v9/_6_sED73Uf-2WfU2LzycEZousNzn1a1lKWRpOFnYEtvlUfE2kw.ttf"}},{family:"Spline Sans Mono",files:{300:"https://fonts.gstatic.com/s/splinesansmono/v8/R70MjzAei_CDNLfgZxrW6wrZOF2WdZ6xabUGSVtNuGA8MrtVy4d4dGb1.ttf",500:"https://fonts.gstatic.com/s/splinesansmono/v8/R70MjzAei_CDNLfgZxrW6wrZOF2WdZ6xabUGSVtNuGBQMrtVy4d4dGb1.ttf",600:"https://fonts.gstatic.com/s/splinesansmono/v8/R70MjzAei_CDNLfgZxrW6wrZOF2WdZ6xabUGSVtNuGC8NbtVy4d4dGb1.ttf",700:"https://fonts.gstatic.com/s/splinesansmono/v8/R70MjzAei_CDNLfgZxrW6wrZOF2WdZ6xabUGSVtNuGCFNbtVy4d4dGb1.ttf",regular:"https://fonts.gstatic.com/s/splinesansmono/v8/R70MjzAei_CDNLfgZxrW6wrZOF2WdZ6xabUGSVtNuGBiMrtVy4d4dGb1.ttf","300italic":"https://fonts.gstatic.com/s/splinesansmono/v8/R70yjzAei_CDNLfgZxrW6wrZOF2WX5eDlm1vIsHjv3WqcQ0WwYNacXb12MM.ttf",italic:"https://fonts.gstatic.com/s/splinesansmono/v8/R70yjzAei_CDNLfgZxrW6wrZOF2WX5eDlm1vIsHjv3WqcVMWwYNacXb12MM.ttf","500italic":"https://fonts.gstatic.com/s/splinesansmono/v8/R70yjzAei_CDNLfgZxrW6wrZOF2WX5eDlm1vIsHjv3WqcWEWwYNacXb12MM.ttf","600italic":"https://fonts.gstatic.com/s/splinesansmono/v8/R70yjzAei_CDNLfgZxrW6wrZOF2WX5eDlm1vIsHjv3WqcY0RwYNacXb12MM.ttf","700italic":"https://fonts.gstatic.com/s/splinesansmono/v8/R70yjzAei_CDNLfgZxrW6wrZOF2WX5eDlm1vIsHjv3WqcbQRwYNacXb12MM.ttf"}},{family:"Squada One",files:{regular:"https://fonts.gstatic.com/s/squadaone/v14/BCasqZ8XsOrx4mcOk6MtWaA8WDBkHgs.ttf"}},{family:"Square Peg",files:{regular:"https://fonts.gstatic.com/s/squarepeg/v2/y83eW48Nzw6ZlUHc-phrBDHrHHfrFPE.ttf"}},{family:"Sree Krushnadevaraya",files:{regular:"https://fonts.gstatic.com/s/sreekrushnadevaraya/v21/R70FjzQeifmPepmyQQjQ9kvwMkWYPfTA_EWb2FhQuXir.ttf"}},{family:"Sriracha",files:{regular:"https://fonts.gstatic.com/s/sriracha/v11/0nkrC9D4IuYBgWcI9ObYRQDioeb0.ttf"}},{family:"Srisakdi",files:{700:"https://fonts.gstatic.com/s/srisakdi/v16/yMJWMIlvdpDbkB0A-gIAUghxoNFxW0Hz.ttf",regular:"https://fonts.gstatic.com/s/srisakdi/v16/yMJRMIlvdpDbkB0A-jq8fSx5i814.ttf"}},{family:"Staatliches",files:{regular:"https://fonts.gstatic.com/s/staatliches/v11/HI_OiY8KO6hCsQSoAPmtMbectJG9O9PS.ttf"}},{family:"Stalemate",files:{regular:"https://fonts.gstatic.com/s/stalemate/v20/taiIGmZ_EJq97-UfkZRpuqSs8ZQpaQ.ttf"}},{family:"Stalinist One",files:{regular:"https://fonts.gstatic.com/s/stalinistone/v54/MQpS-WezM9W4Dd7D3B7I-UT7eZ-UPyacPbo.ttf"}},{family:"Stardos Stencil",files:{700:"https://fonts.gstatic.com/s/stardosstencil/v15/X7n44bcuGPC8hrvEOHXOgaKCc2TpU3tTvg-t29HSHw.ttf",regular:"https://fonts.gstatic.com/s/stardosstencil/v15/X7n94bcuGPC8hrvEOHXOgaKCc2TR71R3tiSx0g.ttf"}},{family:"Stick",files:{regular:"https://fonts.gstatic.com/s/stick/v15/Qw3TZQpMCyTtJSvfvPVDMPoF.ttf"}},{family:"Stick No Bills",files:{200:"https://fonts.gstatic.com/s/sticknobills/v9/bWts7ffXZwHuAa9Uld-oEK4QKlxj9f9t_7uEmjcVP8Q7KriwKhcTKA.ttf",300:"https://fonts.gstatic.com/s/sticknobills/v9/bWts7ffXZwHuAa9Uld-oEK4QKlxj9f9t_7uEmjcV4cQ7KriwKhcTKA.ttf",500:"https://fonts.gstatic.com/s/sticknobills/v9/bWts7ffXZwHuAa9Uld-oEK4QKlxj9f9t_7uEmjcVjcQ7KriwKhcTKA.ttf",600:"https://fonts.gstatic.com/s/sticknobills/v9/bWts7ffXZwHuAa9Uld-oEK4QKlxj9f9t_7uEmjcVYcM7KriwKhcTKA.ttf",700:"https://fonts.gstatic.com/s/sticknobills/v9/bWts7ffXZwHuAa9Uld-oEK4QKlxj9f9t_7uEmjcVWMM7KriwKhcTKA.ttf",800:"https://fonts.gstatic.com/s/sticknobills/v9/bWts7ffXZwHuAa9Uld-oEK4QKlxj9f9t_7uEmjcVP8M7KriwKhcTKA.ttf",regular:"https://fonts.gstatic.com/s/sticknobills/v9/bWts7ffXZwHuAa9Uld-oEK4QKlxj9f9t_7uEmjcVv8Q7KriwKhcTKA.ttf"}},{family:"Stint Ultra Condensed",files:{regular:"https://fonts.gstatic.com/s/stintultracondensed/v21/-W_gXIrsVjjeyEnPC45qD2NoFPtBE0xCh2A-qhUO2cNvdg.ttf"}},{family:"Stint Ultra Expanded",files:{regular:"https://fonts.gstatic.com/s/stintultraexpanded/v20/CSRg4yNNh-GbW3o3JkwoDcdvMKMf0oBAd0qoATQkWwam.ttf"}},{family:"Stoke",files:{300:"https://fonts.gstatic.com/s/stoke/v22/z7NXdRb7aTMfKNvFVgxC_pjcTeWU.ttf",regular:"https://fonts.gstatic.com/s/stoke/v22/z7NadRb7aTMfKONpfihK1YTV.ttf"}},{family:"Strait",files:{regular:"https://fonts.gstatic.com/s/strait/v15/DtViJxy6WaEr1LZzeDhtkl0U7w.ttf"}},{family:"Style Script",files:{regular:"https://fonts.gstatic.com/s/stylescript/v8/vm8xdRX3SV7Z0aPa88xzW5npeFT76NZnMw.ttf"}},{family:"Stylish",files:{regular:"https://fonts.gstatic.com/s/stylish/v20/m8JSjfhPYriQkk7-fo35dLxEdmo.ttf"}},{family:"Sue Ellen Francisco",files:{regular:"https://fonts.gstatic.com/s/sueellenfrancisco/v16/wXK3E20CsoJ9j1DDkjHcQ5ZL8xRaxru9ropF2lqk9H4.ttf"}},{family:"Suez One",files:{regular:"https://fonts.gstatic.com/s/suezone/v11/taiJGmd_EZ6rqscQgNFJkIqg-I0w.ttf"}},{family:"Sulphur Point",files:{300:"https://fonts.gstatic.com/s/sulphurpoint/v15/RLpkK5vv8KaycDcazWFPBj2afVU6n6kFUHPIFaU.ttf",700:"https://fonts.gstatic.com/s/sulphurpoint/v15/RLpkK5vv8KaycDcazWFPBj2afUU9n6kFUHPIFaU.ttf",regular:"https://fonts.gstatic.com/s/sulphurpoint/v15/RLp5K5vv8KaycDcazWFPBj2aRfkSu6EuTHo.ttf"}},{family:"Sumana",files:{700:"https://fonts.gstatic.com/s/sumana/v10/4UaArE5TqRBjGj--TDfG54fN6ppsKg.ttf",regular:"https://fonts.gstatic.com/s/sumana/v10/4UaDrE5TqRBjGj-G8Bji76zR4w.ttf"}},{family:"Sunflower",files:{300:"https://fonts.gstatic.com/s/sunflower/v14/RWmPoKeF8fUjqIj7Vc-06MfiqYsGBGBzCw.ttf",500:"https://fonts.gstatic.com/s/sunflower/v14/RWmPoKeF8fUjqIj7Vc-0sMbiqYsGBGBzCw.ttf",700:"https://fonts.gstatic.com/s/sunflower/v14/RWmPoKeF8fUjqIj7Vc-0-MDiqYsGBGBzCw.ttf"}},{family:"Sunshiney",files:{regular:"https://fonts.gstatic.com/s/sunshiney/v24/LDIwapGTLBwsS-wT4vcgE8moUePWkg.ttf"}},{family:"Supermercado One",files:{regular:"https://fonts.gstatic.com/s/supermercadoone/v22/OpNXnpQWg8jc_xps_Gi14kVVEXOn60b3MClBRTs.ttf"}},{family:"Sura",files:{700:"https://fonts.gstatic.com/s/sura/v16/SZc53FL5PbyzLUJ7fz3GkUrS8DI.ttf",regular:"https://fonts.gstatic.com/s/sura/v16/SZc23FL5PbyzFf5UWzXtjUM.ttf"}},{family:"Suranna",files:{regular:"https://fonts.gstatic.com/s/suranna/v13/gokuH6ztGkFjWe58tBRZT2KmgP0.ttf"}},{family:"Suravaram",files:{regular:"https://fonts.gstatic.com/s/suravaram/v21/_gP61R_usiY7SCym4xIAi261Qv9roQ.ttf"}},{family:"Suwannaphum",files:{100:"https://fonts.gstatic.com/s/suwannaphum/v29/jAnAgHV7GtDvc8jbe8hXXL3B9cSWXx2VZmk.ttf",300:"https://fonts.gstatic.com/s/suwannaphum/v29/jAnfgHV7GtDvc8jbe8hXXL0J1-S8cRGcf3Ai.ttf",700:"https://fonts.gstatic.com/s/suwannaphum/v29/jAnfgHV7GtDvc8jbe8hXXL0Z0OS8cRGcf3Ai.ttf",900:"https://fonts.gstatic.com/s/suwannaphum/v29/jAnfgHV7GtDvc8jbe8hXXL0h0uS8cRGcf3Ai.ttf",regular:"https://fonts.gstatic.com/s/suwannaphum/v29/jAnCgHV7GtDvc8jbe8hXXIWl_8C0Wg2V.ttf"}},{family:"Swanky and Moo Moo",files:{regular:"https://fonts.gstatic.com/s/swankyandmoomoo/v22/flUlRrKz24IuWVI_WJYTYcqbEsMUZ3kUtbPkR64SYQ.ttf"}},{family:"Syncopate",files:{700:"https://fonts.gstatic.com/s/syncopate/v19/pe0pMIuPIYBCpEV5eFdKvtKaA_Rue1UwVg.ttf",regular:"https://fonts.gstatic.com/s/syncopate/v19/pe0sMIuPIYBCpEV5eFdyAv2-C99ycg.ttf"}},{family:"Syne",files:{500:"https://fonts.gstatic.com/s/syne/v16/8vIS7w4qzmVxsWxjBZRjr0FKM_0KuT6kR47NCV5Z.ttf",600:"https://fonts.gstatic.com/s/syne/v16/8vIS7w4qzmVxsWxjBZRjr0FKM_3mvj6kR47NCV5Z.ttf",700:"https://fonts.gstatic.com/s/syne/v16/8vIS7w4qzmVxsWxjBZRjr0FKM_3fvj6kR47NCV5Z.ttf",800:"https://fonts.gstatic.com/s/syne/v16/8vIS7w4qzmVxsWxjBZRjr0FKM_24vj6kR47NCV5Z.ttf",regular:"https://fonts.gstatic.com/s/syne/v16/8vIS7w4qzmVxsWxjBZRjr0FKM_04uT6kR47NCV5Z.ttf"}},{family:"Syne Mono",files:{regular:"https://fonts.gstatic.com/s/synemono/v15/K2FzfZNHj_FHBmRbFvHzIqCkDyvqZA.ttf"}},{family:"Syne Tactile",files:{regular:"https://fonts.gstatic.com/s/synetactile/v15/11hGGpna2UTQKjMCVzjAPMKh3ysdjvKU8Q.ttf"}},{family:"Tai Heritage Pro",files:{700:"https://fonts.gstatic.com/s/taiheritagepro/v5/sZlYdQid-zgaNiNIYcUzJMU3IYyNmMB9NNRFMuhjCXY.ttf",regular:"https://fonts.gstatic.com/s/taiheritagepro/v5/sZlfdQid-zgaNiNIYcUzJMU3IYyNoHxSENxuLuE.ttf"}},{family:"Tajawal",files:{200:"https://fonts.gstatic.com/s/tajawal/v9/Iurf6YBj_oCad4k1l_6gLrZjiLlJ-G0.ttf",300:"https://fonts.gstatic.com/s/tajawal/v9/Iurf6YBj_oCad4k1l5qjLrZjiLlJ-G0.ttf",500:"https://fonts.gstatic.com/s/tajawal/v9/Iurf6YBj_oCad4k1l8KiLrZjiLlJ-G0.ttf",700:"https://fonts.gstatic.com/s/tajawal/v9/Iurf6YBj_oCad4k1l4qkLrZjiLlJ-G0.ttf",800:"https://fonts.gstatic.com/s/tajawal/v9/Iurf6YBj_oCad4k1l5anLrZjiLlJ-G0.ttf",900:"https://fonts.gstatic.com/s/tajawal/v9/Iurf6YBj_oCad4k1l7KmLrZjiLlJ-G0.ttf",regular:"https://fonts.gstatic.com/s/tajawal/v9/Iura6YBj_oCad4k1rzaLCr5IlLA.ttf"}},{family:"Tangerine",files:{700:"https://fonts.gstatic.com/s/tangerine/v17/Iurd6Y5j_oScZZow4VO5srNpjJtM6G0t9w.ttf",regular:"https://fonts.gstatic.com/s/tangerine/v17/IurY6Y5j_oScZZow4VOBDpxNhLBQ4Q.ttf"}},{family:"Tapestry",files:{regular:"https://fonts.gstatic.com/s/tapestry/v2/SlGTmQecrosEYXhaGBIkqnB6aSQU.ttf"}},{family:"Taprom",files:{regular:"https://fonts.gstatic.com/s/taprom/v27/UcCn3F82JHycULbFQyk3-0kvHg.ttf"}},{family:"Tauri",files:{regular:"https://fonts.gstatic.com/s/tauri/v16/TwMA-IISS0AM3IpVWHU_TBqO.ttf"}},{family:"Taviraj",files:{100:"https://fonts.gstatic.com/s/taviraj/v11/ahcbv8Cj3ylylTXzRIorV8N1jU2gog.ttf",200:"https://fonts.gstatic.com/s/taviraj/v11/ahccv8Cj3ylylTXzRCYKd-lbgUS5u0s.ttf",300:"https://fonts.gstatic.com/s/taviraj/v11/ahccv8Cj3ylylTXzREIJd-lbgUS5u0s.ttf",500:"https://fonts.gstatic.com/s/taviraj/v11/ahccv8Cj3ylylTXzRBoId-lbgUS5u0s.ttf",600:"https://fonts.gstatic.com/s/taviraj/v11/ahccv8Cj3ylylTXzRDYPd-lbgUS5u0s.ttf",700:"https://fonts.gstatic.com/s/taviraj/v11/ahccv8Cj3ylylTXzRFIOd-lbgUS5u0s.ttf",800:"https://fonts.gstatic.com/s/taviraj/v11/ahccv8Cj3ylylTXzRE4Nd-lbgUS5u0s.ttf",900:"https://fonts.gstatic.com/s/taviraj/v11/ahccv8Cj3ylylTXzRGoMd-lbgUS5u0s.ttf","100italic":"https://fonts.gstatic.com/s/taviraj/v11/ahcdv8Cj3ylylTXzTOwTM8lxr0iwolLl.ttf","200italic":"https://fonts.gstatic.com/s/taviraj/v11/ahcev8Cj3ylylTXzTOwTn-hRhWa8q0v8ag.ttf","300italic":"https://fonts.gstatic.com/s/taviraj/v11/ahcev8Cj3ylylTXzTOwT--tRhWa8q0v8ag.ttf",regular:"https://fonts.gstatic.com/s/taviraj/v11/ahcZv8Cj3ylylTXzfO4hU-FwnU0.ttf",italic:"https://fonts.gstatic.com/s/taviraj/v11/ahcbv8Cj3ylylTXzTOwrV8N1jU2gog.ttf","500italic":"https://fonts.gstatic.com/s/taviraj/v11/ahcev8Cj3ylylTXzTOwTo-pRhWa8q0v8ag.ttf","600italic":"https://fonts.gstatic.com/s/taviraj/v11/ahcev8Cj3ylylTXzTOwTj-1RhWa8q0v8ag.ttf","700italic":"https://fonts.gstatic.com/s/taviraj/v11/ahcev8Cj3ylylTXzTOwT6-xRhWa8q0v8ag.ttf","800italic":"https://fonts.gstatic.com/s/taviraj/v11/ahcev8Cj3ylylTXzTOwT9-9RhWa8q0v8ag.ttf","900italic":"https://fonts.gstatic.com/s/taviraj/v11/ahcev8Cj3ylylTXzTOwT0-5RhWa8q0v8ag.ttf"}},{family:"Teko",files:{300:"https://fonts.gstatic.com/s/teko/v16/LYjCdG7kmE0gdQhfgCNqqVIuTN4.ttf",500:"https://fonts.gstatic.com/s/teko/v16/LYjCdG7kmE0gdVBegCNqqVIuTN4.ttf",600:"https://fonts.gstatic.com/s/teko/v16/LYjCdG7kmE0gdXxZgCNqqVIuTN4.ttf",700:"https://fonts.gstatic.com/s/teko/v16/LYjCdG7kmE0gdRhYgCNqqVIuTN4.ttf",regular:"https://fonts.gstatic.com/s/teko/v16/LYjNdG7kmE0gTaR3pCtBtVs.ttf"}},{family:"Telex",files:{regular:"https://fonts.gstatic.com/s/telex/v17/ieVw2Y1fKWmIO9fTB1piKFIf.ttf"}},{family:"Tenali Ramakrishna",files:{regular:"https://fonts.gstatic.com/s/tenaliramakrishna/v12/raxgHj6Yt9gAN3LLKs0BZVMo8jmwn1-8KJXqUFFvtA.ttf"}},{family:"Tenor Sans",files:{regular:"https://fonts.gstatic.com/s/tenorsans/v17/bx6ANxqUneKx06UkIXISr3JyC22IyqI.ttf"}},{family:"Text Me One",files:{regular:"https://fonts.gstatic.com/s/textmeone/v21/i7dOIFdlayuLUvgoFvHQFWZcalayGhyV.ttf"}},{family:"Texturina",files:{100:"https://fonts.gstatic.com/s/texturina/v22/c4mM1nxpEtL3pXiAulRTkY-HGmNEX1b9NspjMwhAgliHhVrXy2eYG_Ug25riW1OD.ttf",200:"https://fonts.gstatic.com/s/texturina/v22/c4mM1nxpEtL3pXiAulRTkY-HGmNEX1b9NspjMwhAgliHhVrXy2cYGvUg25riW1OD.ttf",300:"https://fonts.gstatic.com/s/texturina/v22/c4mM1nxpEtL3pXiAulRTkY-HGmNEX1b9NspjMwhAgliHhVrXy2fGGvUg25riW1OD.ttf",500:"https://fonts.gstatic.com/s/texturina/v22/c4mM1nxpEtL3pXiAulRTkY-HGmNEX1b9NspjMwhAgliHhVrXy2eqGvUg25riW1OD.ttf",600:"https://fonts.gstatic.com/s/texturina/v22/c4mM1nxpEtL3pXiAulRTkY-HGmNEX1b9NspjMwhAgliHhVrXy2dGHfUg25riW1OD.ttf",700:"https://fonts.gstatic.com/s/texturina/v22/c4mM1nxpEtL3pXiAulRTkY-HGmNEX1b9NspjMwhAgliHhVrXy2d_HfUg25riW1OD.ttf",800:"https://fonts.gstatic.com/s/texturina/v22/c4mM1nxpEtL3pXiAulRTkY-HGmNEX1b9NspjMwhAgliHhVrXy2cYHfUg25riW1OD.ttf",900:"https://fonts.gstatic.com/s/texturina/v22/c4mM1nxpEtL3pXiAulRTkY-HGmNEX1b9NspjMwhAgliHhVrXy2cxHfUg25riW1OD.ttf",regular:"https://fonts.gstatic.com/s/texturina/v22/c4mM1nxpEtL3pXiAulRTkY-HGmNEX1b9NspjMwhAgliHhVrXy2eYGvUg25riW1OD.ttf","100italic":"https://fonts.gstatic.com/s/texturina/v22/c4mO1nxpEtL3pXiAulR5mL129FhZmLj7I4oiSUJyfYDu7sB5zHJQWR1i0Z7AXkODN94.ttf","200italic":"https://fonts.gstatic.com/s/texturina/v22/c4mO1nxpEtL3pXiAulR5mL129FhZmLj7I4oiSUJyfYDu7sB5zHJQWZ1j0Z7AXkODN94.ttf","300italic":"https://fonts.gstatic.com/s/texturina/v22/c4mO1nxpEtL3pXiAulR5mL129FhZmLj7I4oiSUJyfYDu7sB5zHJQWUNj0Z7AXkODN94.ttf",italic:"https://fonts.gstatic.com/s/texturina/v22/c4mO1nxpEtL3pXiAulR5mL129FhZmLj7I4oiSUJyfYDu7sB5zHJQWR1j0Z7AXkODN94.ttf","500italic":"https://fonts.gstatic.com/s/texturina/v22/c4mO1nxpEtL3pXiAulR5mL129FhZmLj7I4oiSUJyfYDu7sB5zHJQWS9j0Z7AXkODN94.ttf","600italic":"https://fonts.gstatic.com/s/texturina/v22/c4mO1nxpEtL3pXiAulR5mL129FhZmLj7I4oiSUJyfYDu7sB5zHJQWcNk0Z7AXkODN94.ttf","700italic":"https://fonts.gstatic.com/s/texturina/v22/c4mO1nxpEtL3pXiAulR5mL129FhZmLj7I4oiSUJyfYDu7sB5zHJQWfpk0Z7AXkODN94.ttf","800italic":"https://fonts.gstatic.com/s/texturina/v22/c4mO1nxpEtL3pXiAulR5mL129FhZmLj7I4oiSUJyfYDu7sB5zHJQWZ1k0Z7AXkODN94.ttf","900italic":"https://fonts.gstatic.com/s/texturina/v22/c4mO1nxpEtL3pXiAulR5mL129FhZmLj7I4oiSUJyfYDu7sB5zHJQWbRk0Z7AXkODN94.ttf"}},{family:"Thasadith",files:{700:"https://fonts.gstatic.com/s/thasadith/v9/mtG94_1TIqPYrd_f5R1gDGYw2A6yHk9d8w.ttf",regular:"https://fonts.gstatic.com/s/thasadith/v9/mtG44_1TIqPYrd_f5R1YsEkU0CWuFw.ttf",italic:"https://fonts.gstatic.com/s/thasadith/v9/mtG-4_1TIqPYrd_f5R1oskMQ8iC-F1ZE.ttf","700italic":"https://fonts.gstatic.com/s/thasadith/v9/mtGj4_1TIqPYrd_f5R1osnus3QS2PEpN8zxA.ttf"}},{family:"The Girl Next Door",files:{regular:"https://fonts.gstatic.com/s/thegirlnextdoor/v18/pe0zMJCIMIsBjFxqYBIcZ6_OI5oFHCYIV7t7w6bE2A.ttf"}},{family:"The Nautigal",files:{700:"https://fonts.gstatic.com/s/thenautigal/v3/VdGGAZ8ZH51Lvng9fQV2bfKTWypA2_-C7LoS7g.ttf",regular:"https://fonts.gstatic.com/s/thenautigal/v3/VdGZAZ8ZH51Lvng9fQV2bfKr5wVk09Se5Q.ttf"}},{family:"Tienne",files:{700:"https://fonts.gstatic.com/s/tienne/v20/AYCJpX7pe9YCRP0zLGzjQHhuzvef5Q.ttf",900:"https://fonts.gstatic.com/s/tienne/v20/AYCJpX7pe9YCRP0zFG7jQHhuzvef5Q.ttf",regular:"https://fonts.gstatic.com/s/tienne/v20/AYCKpX7pe9YCRP0LkEPHSFNyxw.ttf"}},{family:"Tillana",files:{500:"https://fonts.gstatic.com/s/tillana/v11/VuJ0dNvf35P4qJ1OQFL-HIlMZRNcp0o.ttf",600:"https://fonts.gstatic.com/s/tillana/v11/VuJ0dNvf35P4qJ1OQH75HIlMZRNcp0o.ttf",700:"https://fonts.gstatic.com/s/tillana/v11/VuJ0dNvf35P4qJ1OQBr4HIlMZRNcp0o.ttf",800:"https://fonts.gstatic.com/s/tillana/v11/VuJ0dNvf35P4qJ1OQAb7HIlMZRNcp0o.ttf",regular:"https://fonts.gstatic.com/s/tillana/v11/VuJxdNvf35P4qJ1OeKbXOIFneRo.ttf"}},{family:"Tilt Neon",files:{regular:"https://fonts.gstatic.com/s/tiltneon/v6/E21L_d7gguXdwD9LEFY2WCeElCNtd-eBqpHp1TzrkJSmwpj5ndxquXK9WualJ9DS.ttf"}},{family:"Tilt Prism",files:{regular:"https://fonts.gstatic.com/s/tiltprism/v8/5h11iZgyPHoZ3YikNzWGfWey2dCAZXT-bH9V4VGn-FJ7tLI25oc_rIbwoTSrn86NKw.ttf"}},{family:"Tilt Warp",files:{regular:"https://fonts.gstatic.com/s/tiltwarp/v9/AlZc_zVDs5XpmO7yn3w7flUoytXJp3z29uEwmEMLEJljLXvT8UJSZTBxAVfMGOPb.ttf"}},{family:"Timmana",files:{regular:"https://fonts.gstatic.com/s/timmana/v12/6xKvdShfL9yK-rvpCmvbKHwJUOM.ttf"}},{family:"Tinos",files:{700:"https://fonts.gstatic.com/s/tinos/v24/buE1poGnedXvwj1AW0Fp2i43-cxL.ttf",regular:"https://fonts.gstatic.com/s/tinos/v24/buE4poGnedXvwgX8dGVh8TI-.ttf",italic:"https://fonts.gstatic.com/s/tinos/v24/buE2poGnedXvwjX-fmFD9CI-4NU.ttf","700italic":"https://fonts.gstatic.com/s/tinos/v24/buEzpoGnedXvwjX-Rt1s0CoV_NxLeiw.ttf"}},{family:"Tiro Bangla",files:{regular:"https://fonts.gstatic.com/s/tirobangla/v6/IFSgHe1Tm95E3O8b5i2V8MG9-UPeuz4i.ttf",italic:"https://fonts.gstatic.com/s/tirobangla/v6/IFSiHe1Tm95E3O8b5i2V8PG_80f8vi4imBM.ttf"}},{family:"Tiro Devanagari Hindi",files:{regular:"https://fonts.gstatic.com/s/tirodevanagarihindi/v5/55xyezN7P8T4e0_CfIJrwdodg9HoYw0i-M9fSOkOfG0Y3A.ttf",italic:"https://fonts.gstatic.com/s/tirodevanagarihindi/v5/55x8ezN7P8T4e0_CfIJrwdodg9HoYw0i-M9vSuMKXmgI3F_o.ttf"}},{family:"Tiro Devanagari Marathi",files:{regular:"https://fonts.gstatic.com/s/tirodevanagarimarathi/v5/fC1xPZBSZHrRhS3rd4M0MAPNJUHl4znXCxAkotDrDJYM2lAZ.ttf",italic:"https://fonts.gstatic.com/s/tirodevanagarimarathi/v5/fC1zPZBSZHrRhS3rd4M0MAPNJUHl4znXCxAkouDpBpIu30AZbUY.ttf"}},{family:"Tiro Devanagari Sanskrit",files:{regular:"https://fonts.gstatic.com/s/tirodevanagarisanskrit/v5/MCoAzBbr09vVUgVBM8FWu_yZdZkhkg-I0nUlb59pEoEqgtOh0w.ttf",italic:"https://fonts.gstatic.com/s/tirodevanagarisanskrit/v5/MCoGzBbr09vVUgVBM8FWu_yZdZkhkg-I0nUlb59ZEIsuoNax06MM.ttf"}},{family:"Tiro Gurmukhi",files:{regular:"https://fonts.gstatic.com/s/tirogurmukhi/v6/x3dmckXSYq-Uqjc048JUF7Jvly7HAQsyA2Y.ttf",italic:"https://fonts.gstatic.com/s/tirogurmukhi/v6/x3d4ckXSYq-Uqjc048JUF7JvpyzNBSk3E2YljQ.ttf"}},{family:"Tiro Kannada",files:{regular:"https://fonts.gstatic.com/s/tirokannada/v6/CSR44ztKmvqaDxEDJFY7CIYKSPl6tOU9Eg.ttf",italic:"https://fonts.gstatic.com/s/tirokannada/v6/CSRm4ztKmvqaDxEDJFY7CIY6SvN-luAtEnKp.ttf"}},{family:"Tiro Tamil",files:{regular:"https://fonts.gstatic.com/s/tirotamil/v10/m8JXjfVIf7OT22n3M-S_ULRvamODxdI.ttf",italic:"https://fonts.gstatic.com/s/tirotamil/v10/m8JVjfVIf7OT22n3M-S_YLZlbkGG1dKEDw.ttf"}},{family:"Tiro Telugu",files:{regular:"https://fonts.gstatic.com/s/tirotelugu/v7/aFTQ7PxlZWk2EPiSymjXdKSNQqn0X0BO.ttf",italic:"https://fonts.gstatic.com/s/tirotelugu/v7/aFTS7PxlZWk2EPiSymjXdJSPSK3WWlBOoas.ttf"}},{family:"Titan One",files:{regular:"https://fonts.gstatic.com/s/titanone/v13/mFTzWbsGxbbS_J5cQcjykzIn2Etikg.ttf"}},{family:"Titillium Web",files:{200:"https://fonts.gstatic.com/s/titilliumweb/v15/NaPDcZTIAOhVxoMyOr9n_E7ffAzHKIx5YrSYqWM.ttf",300:"https://fonts.gstatic.com/s/titilliumweb/v15/NaPDcZTIAOhVxoMyOr9n_E7ffGjEKIx5YrSYqWM.ttf",600:"https://fonts.gstatic.com/s/titilliumweb/v15/NaPDcZTIAOhVxoMyOr9n_E7ffBzCKIx5YrSYqWM.ttf",700:"https://fonts.gstatic.com/s/titilliumweb/v15/NaPDcZTIAOhVxoMyOr9n_E7ffHjDKIx5YrSYqWM.ttf",900:"https://fonts.gstatic.com/s/titilliumweb/v15/NaPDcZTIAOhVxoMyOr9n_E7ffEDBKIx5YrSYqWM.ttf","200italic":"https://fonts.gstatic.com/s/titilliumweb/v15/NaPFcZTIAOhVxoMyOr9n_E7fdMbewI1zZpaduWMmxA.ttf","300italic":"https://fonts.gstatic.com/s/titilliumweb/v15/NaPFcZTIAOhVxoMyOr9n_E7fdMbepI5zZpaduWMmxA.ttf",regular:"https://fonts.gstatic.com/s/titilliumweb/v15/NaPecZTIAOhVxoMyOr9n_E7fRMTsDIRSfr0.ttf",italic:"https://fonts.gstatic.com/s/titilliumweb/v15/NaPAcZTIAOhVxoMyOr9n_E7fdMbmCKZXbr2BsA.ttf","600italic":"https://fonts.gstatic.com/s/titilliumweb/v15/NaPFcZTIAOhVxoMyOr9n_E7fdMbe0IhzZpaduWMmxA.ttf","700italic":"https://fonts.gstatic.com/s/titilliumweb/v15/NaPFcZTIAOhVxoMyOr9n_E7fdMbetIlzZpaduWMmxA.ttf"}},{family:"Tomorrow",files:{100:"https://fonts.gstatic.com/s/tomorrow/v15/WBLgrETNbFtZCeGqgR2xe2XiKMiokE4.ttf",200:"https://fonts.gstatic.com/s/tomorrow/v15/WBLhrETNbFtZCeGqgR0dWkXIBsShiVd4.ttf",300:"https://fonts.gstatic.com/s/tomorrow/v15/WBLhrETNbFtZCeGqgR15WUXIBsShiVd4.ttf",500:"https://fonts.gstatic.com/s/tomorrow/v15/WBLhrETNbFtZCeGqgR0hWEXIBsShiVd4.ttf",600:"https://fonts.gstatic.com/s/tomorrow/v15/WBLhrETNbFtZCeGqgR0NX0XIBsShiVd4.ttf",700:"https://fonts.gstatic.com/s/tomorrow/v15/WBLhrETNbFtZCeGqgR1pXkXIBsShiVd4.ttf",800:"https://fonts.gstatic.com/s/tomorrow/v15/WBLhrETNbFtZCeGqgR11XUXIBsShiVd4.ttf",900:"https://fonts.gstatic.com/s/tomorrow/v15/WBLhrETNbFtZCeGqgR1RXEXIBsShiVd4.ttf","100italic":"https://fonts.gstatic.com/s/tomorrow/v15/WBLirETNbFtZCeGqgRXXQwHoLOqtgE5h0A.ttf","200italic":"https://fonts.gstatic.com/s/tomorrow/v15/WBLjrETNbFtZCeGqgRXXQ63JDMCDjEd4yVY.ttf","300italic":"https://fonts.gstatic.com/s/tomorrow/v15/WBLjrETNbFtZCeGqgRXXQ8nKDMCDjEd4yVY.ttf",regular:"https://fonts.gstatic.com/s/tomorrow/v15/WBLmrETNbFtZCeGqgSXVcWHALdio.ttf",italic:"https://fonts.gstatic.com/s/tomorrow/v15/WBLgrETNbFtZCeGqgRXXe2XiKMiokE4.ttf","500italic":"https://fonts.gstatic.com/s/tomorrow/v15/WBLjrETNbFtZCeGqgRXXQ5HLDMCDjEd4yVY.ttf","600italic":"https://fonts.gstatic.com/s/tomorrow/v15/WBLjrETNbFtZCeGqgRXXQ73MDMCDjEd4yVY.ttf","700italic":"https://fonts.gstatic.com/s/tomorrow/v15/WBLjrETNbFtZCeGqgRXXQ9nNDMCDjEd4yVY.ttf","800italic":"https://fonts.gstatic.com/s/tomorrow/v15/WBLjrETNbFtZCeGqgRXXQ8XODMCDjEd4yVY.ttf","900italic":"https://fonts.gstatic.com/s/tomorrow/v15/WBLjrETNbFtZCeGqgRXXQ-HPDMCDjEd4yVY.ttf"}},{family:"Tourney",files:{100:"https://fonts.gstatic.com/s/tourney/v11/AlZa_ztDtYzv1tzq1wcJnbVt7xseomk-tNs7qrzTWbyt8n7GOQByZTp1I1LcGA.ttf",200:"https://fonts.gstatic.com/s/tourney/v11/AlZa_ztDtYzv1tzq1wcJnbVt7xseomk-tNs7qrzTWbyt8n7GuQFyZTp1I1LcGA.ttf",300:"https://fonts.gstatic.com/s/tourney/v11/AlZa_ztDtYzv1tzq1wcJnbVt7xseomk-tNs7qrzTWbyt8n7GZwFyZTp1I1LcGA.ttf",500:"https://fonts.gstatic.com/s/tourney/v11/AlZa_ztDtYzv1tzq1wcJnbVt7xseomk-tNs7qrzTWbyt8n7GCwFyZTp1I1LcGA.ttf",600:"https://fonts.gstatic.com/s/tourney/v11/AlZa_ztDtYzv1tzq1wcJnbVt7xseomk-tNs7qrzTWbyt8n7G5wZyZTp1I1LcGA.ttf",700:"https://fonts.gstatic.com/s/tourney/v11/AlZa_ztDtYzv1tzq1wcJnbVt7xseomk-tNs7qrzTWbyt8n7G3gZyZTp1I1LcGA.ttf",800:"https://fonts.gstatic.com/s/tourney/v11/AlZa_ztDtYzv1tzq1wcJnbVt7xseomk-tNs7qrzTWbyt8n7GuQZyZTp1I1LcGA.ttf",900:"https://fonts.gstatic.com/s/tourney/v11/AlZa_ztDtYzv1tzq1wcJnbVt7xseomk-tNs7qrzTWbyt8n7GkAZyZTp1I1LcGA.ttf",regular:"https://fonts.gstatic.com/s/tourney/v11/AlZa_ztDtYzv1tzq1wcJnbVt7xseomk-tNs7qrzTWbyt8n7GOQFyZTp1I1LcGA.ttf","100italic":"https://fonts.gstatic.com/s/tourney/v11/AlZc_ztDtYzv1tzq_Q47flUUvI2wpXz29ilymEMLMNc3XHnT8UKaJzBxAVfMGOPb.ttf","200italic":"https://fonts.gstatic.com/s/tourney/v11/AlZc_ztDtYzv1tzq_Q47flUUvI2wpXz29ilymEMLMNc3XHnT8UIaJjBxAVfMGOPb.ttf","300italic":"https://fonts.gstatic.com/s/tourney/v11/AlZc_ztDtYzv1tzq_Q47flUUvI2wpXz29ilymEMLMNc3XHnT8ULEJjBxAVfMGOPb.ttf",italic:"https://fonts.gstatic.com/s/tourney/v11/AlZc_ztDtYzv1tzq_Q47flUUvI2wpXz29ilymEMLMNc3XHnT8UKaJjBxAVfMGOPb.ttf","500italic":"https://fonts.gstatic.com/s/tourney/v11/AlZc_ztDtYzv1tzq_Q47flUUvI2wpXz29ilymEMLMNc3XHnT8UKoJjBxAVfMGOPb.ttf","600italic":"https://fonts.gstatic.com/s/tourney/v11/AlZc_ztDtYzv1tzq_Q47flUUvI2wpXz29ilymEMLMNc3XHnT8UJEITBxAVfMGOPb.ttf","700italic":"https://fonts.gstatic.com/s/tourney/v11/AlZc_ztDtYzv1tzq_Q47flUUvI2wpXz29ilymEMLMNc3XHnT8UJ9ITBxAVfMGOPb.ttf","800italic":"https://fonts.gstatic.com/s/tourney/v11/AlZc_ztDtYzv1tzq_Q47flUUvI2wpXz29ilymEMLMNc3XHnT8UIaITBxAVfMGOPb.ttf","900italic":"https://fonts.gstatic.com/s/tourney/v11/AlZc_ztDtYzv1tzq_Q47flUUvI2wpXz29ilymEMLMNc3XHnT8UIzITBxAVfMGOPb.ttf"}},{family:"Trade Winds",files:{regular:"https://fonts.gstatic.com/s/tradewinds/v17/AYCPpXPpYNIIT7h8-QenM3Jq7PKP5Z_G.ttf"}},{family:"Train One",files:{regular:"https://fonts.gstatic.com/s/trainone/v13/gyB-hwkiNtc6KnxUVjWHOqbZRY7JVQ.ttf"}},{family:"Trirong",files:{100:"https://fonts.gstatic.com/s/trirong/v12/7r3EqXNgp8wxdOdOl-go3YRl6ujngw.ttf",200:"https://fonts.gstatic.com/s/trirong/v12/7r3DqXNgp8wxdOdOl0QJ_a5L5uH-mts.ttf",300:"https://fonts.gstatic.com/s/trirong/v12/7r3DqXNgp8wxdOdOlyAK_a5L5uH-mts.ttf",500:"https://fonts.gstatic.com/s/trirong/v12/7r3DqXNgp8wxdOdOl3gL_a5L5uH-mts.ttf",600:"https://fonts.gstatic.com/s/trirong/v12/7r3DqXNgp8wxdOdOl1QM_a5L5uH-mts.ttf",700:"https://fonts.gstatic.com/s/trirong/v12/7r3DqXNgp8wxdOdOlzAN_a5L5uH-mts.ttf",800:"https://fonts.gstatic.com/s/trirong/v12/7r3DqXNgp8wxdOdOlywO_a5L5uH-mts.ttf",900:"https://fonts.gstatic.com/s/trirong/v12/7r3DqXNgp8wxdOdOlwgP_a5L5uH-mts.ttf","100italic":"https://fonts.gstatic.com/s/trirong/v12/7r3CqXNgp8wxdOdOn44QuY5hyO33g8IY.ttf","200italic":"https://fonts.gstatic.com/s/trirong/v12/7r3BqXNgp8wxdOdOn44QFa9B4sP7itsB5g.ttf","300italic":"https://fonts.gstatic.com/s/trirong/v12/7r3BqXNgp8wxdOdOn44QcaxB4sP7itsB5g.ttf",regular:"https://fonts.gstatic.com/s/trirong/v12/7r3GqXNgp8wxdOdOr4wi2aZg-ug.ttf",italic:"https://fonts.gstatic.com/s/trirong/v12/7r3EqXNgp8wxdOdOn44o3YRl6ujngw.ttf","500italic":"https://fonts.gstatic.com/s/trirong/v12/7r3BqXNgp8wxdOdOn44QKa1B4sP7itsB5g.ttf","600italic":"https://fonts.gstatic.com/s/trirong/v12/7r3BqXNgp8wxdOdOn44QBapB4sP7itsB5g.ttf","700italic":"https://fonts.gstatic.com/s/trirong/v12/7r3BqXNgp8wxdOdOn44QYatB4sP7itsB5g.ttf","800italic":"https://fonts.gstatic.com/s/trirong/v12/7r3BqXNgp8wxdOdOn44QfahB4sP7itsB5g.ttf","900italic":"https://fonts.gstatic.com/s/trirong/v12/7r3BqXNgp8wxdOdOn44QWalB4sP7itsB5g.ttf"}},{family:"Trispace",files:{100:"https://fonts.gstatic.com/s/trispace/v22/Yq65-LKSQC3o56LxxgRrtA6yBqsrXL5GI5KI-IUZVGsxWFIlbH9qoQl0zHugpt0.ttf",200:"https://fonts.gstatic.com/s/trispace/v22/Yq65-LKSQC3o56LxxgRrtA6yBqsrXL5GI5KI-IUZVGsxWFIlbP9roQl0zHugpt0.ttf",300:"https://fonts.gstatic.com/s/trispace/v22/Yq65-LKSQC3o56LxxgRrtA6yBqsrXL5GI5KI-IUZVGsxWFIlbCFroQl0zHugpt0.ttf",500:"https://fonts.gstatic.com/s/trispace/v22/Yq65-LKSQC3o56LxxgRrtA6yBqsrXL5GI5KI-IUZVGsxWFIlbE1roQl0zHugpt0.ttf",600:"https://fonts.gstatic.com/s/trispace/v22/Yq65-LKSQC3o56LxxgRrtA6yBqsrXL5GI5KI-IUZVGsxWFIlbKFsoQl0zHugpt0.ttf",700:"https://fonts.gstatic.com/s/trispace/v22/Yq65-LKSQC3o56LxxgRrtA6yBqsrXL5GI5KI-IUZVGsxWFIlbJhsoQl0zHugpt0.ttf",800:"https://fonts.gstatic.com/s/trispace/v22/Yq65-LKSQC3o56LxxgRrtA6yBqsrXL5GI5KI-IUZVGsxWFIlbP9soQl0zHugpt0.ttf",regular:"https://fonts.gstatic.com/s/trispace/v22/Yq65-LKSQC3o56LxxgRrtA6yBqsrXL5GI5KI-IUZVGsxWFIlbH9roQl0zHugpt0.ttf"}},{family:"Trocchi",files:{regular:"https://fonts.gstatic.com/s/trocchi/v15/qWcqB6WkuIDxDZLcDrtUvMeTYD0.ttf"}},{family:"Trochut",files:{700:"https://fonts.gstatic.com/s/trochut/v20/CHymV-fDDlP9bDIw3sinWVokMnIllmA.ttf",regular:"https://fonts.gstatic.com/s/trochut/v20/CHyjV-fDDlP9bDIw5nSIfVIPLns.ttf",italic:"https://fonts.gstatic.com/s/trochut/v20/CHyhV-fDDlP9bDIw1naCeXAKPns8jw.ttf"}},{family:"Truculenta",files:{100:"https://fonts.gstatic.com/s/truculenta/v22/LhWfMVvBKusVIfNYGi1-WvRVyDdZeeiySNppcu32Mb2f06y6Oa21F6XHi0VYDX_PzOupMlAjswcFHnJMMhg.ttf",200:"https://fonts.gstatic.com/s/truculenta/v22/LhWfMVvBKusVIfNYGi1-WvRVyDdZeeiySNppcu32Mb2f06y6Oa21F6XHi0VYDX_PzOupMtAiswcFHnJMMhg.ttf",300:"https://fonts.gstatic.com/s/truculenta/v22/LhWfMVvBKusVIfNYGi1-WvRVyDdZeeiySNppcu32Mb2f06y6Oa21F6XHi0VYDX_PzOupMg4iswcFHnJMMhg.ttf",500:"https://fonts.gstatic.com/s/truculenta/v22/LhWfMVvBKusVIfNYGi1-WvRVyDdZeeiySNppcu32Mb2f06y6Oa21F6XHi0VYDX_PzOupMmIiswcFHnJMMhg.ttf",600:"https://fonts.gstatic.com/s/truculenta/v22/LhWfMVvBKusVIfNYGi1-WvRVyDdZeeiySNppcu32Mb2f06y6Oa21F6XHi0VYDX_PzOupMo4lswcFHnJMMhg.ttf",700:"https://fonts.gstatic.com/s/truculenta/v22/LhWfMVvBKusVIfNYGi1-WvRVyDdZeeiySNppcu32Mb2f06y6Oa21F6XHi0VYDX_PzOupMrclswcFHnJMMhg.ttf",800:"https://fonts.gstatic.com/s/truculenta/v22/LhWfMVvBKusVIfNYGi1-WvRVyDdZeeiySNppcu32Mb2f06y6Oa21F6XHi0VYDX_PzOupMtAlswcFHnJMMhg.ttf",900:"https://fonts.gstatic.com/s/truculenta/v22/LhWfMVvBKusVIfNYGi1-WvRVyDdZeeiySNppcu32Mb2f06y6Oa21F6XHi0VYDX_PzOupMvklswcFHnJMMhg.ttf",regular:"https://fonts.gstatic.com/s/truculenta/v22/LhWfMVvBKusVIfNYGi1-WvRVyDdZeeiySNppcu32Mb2f06y6Oa21F6XHi0VYDX_PzOupMlAiswcFHnJMMhg.ttf"}},{family:"Trykker",files:{regular:"https://fonts.gstatic.com/s/trykker/v21/KtktALyWZJXudUPzhNnoOd2j22U.ttf"}},{family:"Tsukimi Rounded",files:{300:"https://fonts.gstatic.com/s/tsukimirounded/v8/sJoZ3LJNksWZO0LvnZwkF3HtoB7VkVsqN7MT3T9X8g.ttf",500:"https://fonts.gstatic.com/s/tsukimirounded/v8/sJoZ3LJNksWZO0LvnZwkF3HtoB7VyVoqN7MT3T9X8g.ttf",600:"https://fonts.gstatic.com/s/tsukimirounded/v8/sJoZ3LJNksWZO0LvnZwkF3HtoB7V5V0qN7MT3T9X8g.ttf",700:"https://fonts.gstatic.com/s/tsukimirounded/v8/sJoZ3LJNksWZO0LvnZwkF3HtoB7VgVwqN7MT3T9X8g.ttf",regular:"https://fonts.gstatic.com/s/tsukimirounded/v8/sJoc3LJNksWZO0LvnZwkF3HtoB7tPXMOP5gP1A.ttf"}},{family:"Tulpen One",files:{regular:"https://fonts.gstatic.com/s/tulpenone/v21/dFa6ZfeC474skLgesc0CWj0w_HyIRlE.ttf"}},{family:"Turret Road",files:{200:"https://fonts.gstatic.com/s/turretroad/v7/pxidypMgpcBFjE84Zv-fE0ONEdeLYk1Mq3ap.ttf",300:"https://fonts.gstatic.com/s/turretroad/v7/pxidypMgpcBFjE84Zv-fE0PpEteLYk1Mq3ap.ttf",500:"https://fonts.gstatic.com/s/turretroad/v7/pxidypMgpcBFjE84Zv-fE0OxE9eLYk1Mq3ap.ttf",700:"https://fonts.gstatic.com/s/turretroad/v7/pxidypMgpcBFjE84Zv-fE0P5FdeLYk1Mq3ap.ttf",800:"https://fonts.gstatic.com/s/turretroad/v7/pxidypMgpcBFjE84Zv-fE0PlFteLYk1Mq3ap.ttf",regular:"https://fonts.gstatic.com/s/turretroad/v7/pxiAypMgpcBFjE84Zv-fE3tFOvODSVFF.ttf"}},{family:"Twinkle Star",files:{regular:"https://fonts.gstatic.com/s/twinklestar/v3/pe0pMI6IL4dPoFl9LGEmY6WaA_Rue1UwVg.ttf"}},{family:"Ubuntu",files:{300:"https://fonts.gstatic.com/s/ubuntu/v20/4iCv6KVjbNBYlgoC1CzTt2aMH4V_gg.ttf",500:"https://fonts.gstatic.com/s/ubuntu/v20/4iCv6KVjbNBYlgoCjC3Tt2aMH4V_gg.ttf",700:"https://fonts.gstatic.com/s/ubuntu/v20/4iCv6KVjbNBYlgoCxCvTt2aMH4V_gg.ttf","300italic":"https://fonts.gstatic.com/s/ubuntu/v20/4iCp6KVjbNBYlgoKejZftWyIPYBvgpUI.ttf",regular:"https://fonts.gstatic.com/s/ubuntu/v20/4iCs6KVjbNBYlgo6eAT3v02QFg.ttf",italic:"https://fonts.gstatic.com/s/ubuntu/v20/4iCu6KVjbNBYlgoKeg7znUiAFpxm.ttf","500italic":"https://fonts.gstatic.com/s/ubuntu/v20/4iCp6KVjbNBYlgoKejYHtGyIPYBvgpUI.ttf","700italic":"https://fonts.gstatic.com/s/ubuntu/v20/4iCp6KVjbNBYlgoKejZPsmyIPYBvgpUI.ttf"}},{family:"Ubuntu Condensed",files:{regular:"https://fonts.gstatic.com/s/ubuntucondensed/v16/u-4k0rCzjgs5J7oXnJcM_0kACGMtf-fVqvHoJXw.ttf"}},{family:"Ubuntu Mono",files:{700:"https://fonts.gstatic.com/s/ubuntumono/v15/KFO-CneDtsqEr0keqCMhbC-BL-Hyv4xGemO1.ttf",regular:"https://fonts.gstatic.com/s/ubuntumono/v15/KFOjCneDtsqEr0keqCMhbBc9AMX6lJBP.ttf",italic:"https://fonts.gstatic.com/s/ubuntumono/v15/KFOhCneDtsqEr0keqCMhbCc_CsHYkYBPY3o.ttf","700italic":"https://fonts.gstatic.com/s/ubuntumono/v15/KFO8CneDtsqEr0keqCMhbCc_Mn33tYhkf3O1GVg.ttf"}},{family:"Uchen",files:{regular:"https://fonts.gstatic.com/s/uchen/v7/nKKZ-GokGZ1baIaSEQGodLxA.ttf"}},{family:"Ultra",files:{regular:"https://fonts.gstatic.com/s/ultra/v19/zOLy4prXmrtY-tT6yLOD6NxF.ttf"}},{family:"Unbounded",files:{200:"https://fonts.gstatic.com/s/unbounded/v6/Yq6F-LOTXCb04q32xlpat-6uR42XTqtG65jx043HgP6LR0Y.ttf",300:"https://fonts.gstatic.com/s/unbounded/v6/Yq6F-LOTXCb04q32xlpat-6uR42XTqtG60bx043HgP6LR0Y.ttf",500:"https://fonts.gstatic.com/s/unbounded/v6/Yq6F-LOTXCb04q32xlpat-6uR42XTqtG6yrx043HgP6LR0Y.ttf",600:"https://fonts.gstatic.com/s/unbounded/v6/Yq6F-LOTXCb04q32xlpat-6uR42XTqtG68b2043HgP6LR0Y.ttf",700:"https://fonts.gstatic.com/s/unbounded/v6/Yq6F-LOTXCb04q32xlpat-6uR42XTqtG6__2043HgP6LR0Y.ttf",800:"https://fonts.gstatic.com/s/unbounded/v6/Yq6F-LOTXCb04q32xlpat-6uR42XTqtG65j2043HgP6LR0Y.ttf",900:"https://fonts.gstatic.com/s/unbounded/v6/Yq6F-LOTXCb04q32xlpat-6uR42XTqtG67H2043HgP6LR0Y.ttf",regular:"https://fonts.gstatic.com/s/unbounded/v6/Yq6F-LOTXCb04q32xlpat-6uR42XTqtG6xjx043HgP6LR0Y.ttf"}},{family:"Uncial Antiqua",files:{regular:"https://fonts.gstatic.com/s/uncialantiqua/v20/N0bM2S5WOex4OUbESzoESK-i-PfRS5VBBSSF.ttf"}},{family:"Underdog",files:{regular:"https://fonts.gstatic.com/s/underdog/v23/CHygV-jCElj7diMroVSiU14GN2Il.ttf"}},{family:"Unica One",files:{regular:"https://fonts.gstatic.com/s/unicaone/v15/DPEuYwWHyAYGVTSmalshdtffuEY7FA.ttf"}},{family:"UnifrakturCook",files:{700:"https://fonts.gstatic.com/s/unifrakturcook/v19/IurA6Yli8YOdcoky-0PTTdkm56n05Uw13ILXs-h6.ttf"}},{family:"UnifrakturMaguntia",files:{regular:"https://fonts.gstatic.com/s/unifrakturmaguntia/v16/WWXPlieVYwiGNomYU-ciRLRvEmK7oaVun2xNNgNa1A.ttf"}},{family:"Unkempt",files:{700:"https://fonts.gstatic.com/s/unkempt/v19/2EbiL-Z2DFZue0DScTow1zWzq_5uT84.ttf",regular:"https://fonts.gstatic.com/s/unkempt/v19/2EbnL-Z2DFZue0DSSYYf8z2Yt_c.ttf"}},{family:"Unlock",files:{regular:"https://fonts.gstatic.com/s/unlock/v24/7Au-p_8ykD-cDl7GKAjSwkUVOQ.ttf"}},{family:"Unna",files:{700:"https://fonts.gstatic.com/s/unna/v21/AYCLpXzofN0NMiQusGnpRFpr3vc.ttf",regular:"https://fonts.gstatic.com/s/unna/v21/AYCEpXzofN0NCpgBlGHCWFM.ttf",italic:"https://fonts.gstatic.com/s/unna/v21/AYCKpXzofN0NOpoLkEPHSFNyxw.ttf","700italic":"https://fonts.gstatic.com/s/unna/v21/AYCJpXzofN0NOpozLGzjQHhuzvef5Q.ttf"}},{family:"Updock",files:{regular:"https://fonts.gstatic.com/s/updock/v2/nuF4D_3dVZ70UI9SjLK3602XBw.ttf"}},{family:"Urbanist",files:{100:"https://fonts.gstatic.com/s/urbanist/v10/L0xjDF02iFML4hGCyOCpRdycFsGxSrqDyx8fFpOrS8SlKw.ttf",200:"https://fonts.gstatic.com/s/urbanist/v10/L0xjDF02iFML4hGCyOCpRdycFsGxSrqDSx4fFpOrS8SlKw.ttf",300:"https://fonts.gstatic.com/s/urbanist/v10/L0xjDF02iFML4hGCyOCpRdycFsGxSrqDlR4fFpOrS8SlKw.ttf",500:"https://fonts.gstatic.com/s/urbanist/v10/L0xjDF02iFML4hGCyOCpRdycFsGxSrqD-R4fFpOrS8SlKw.ttf",600:"https://fonts.gstatic.com/s/urbanist/v10/L0xjDF02iFML4hGCyOCpRdycFsGxSrqDFRkfFpOrS8SlKw.ttf",700:"https://fonts.gstatic.com/s/urbanist/v10/L0xjDF02iFML4hGCyOCpRdycFsGxSrqDLBkfFpOrS8SlKw.ttf",800:"https://fonts.gstatic.com/s/urbanist/v10/L0xjDF02iFML4hGCyOCpRdycFsGxSrqDSxkfFpOrS8SlKw.ttf",900:"https://fonts.gstatic.com/s/urbanist/v10/L0xjDF02iFML4hGCyOCpRdycFsGxSrqDYhkfFpOrS8SlKw.ttf",regular:"https://fonts.gstatic.com/s/urbanist/v10/L0xjDF02iFML4hGCyOCpRdycFsGxSrqDyx4fFpOrS8SlKw.ttf","100italic":"https://fonts.gstatic.com/s/urbanist/v10/L0xtDF02iFML4hGCyMqgdyNEf6or5L2WA133VJmvacG1K4S1.ttf","200italic":"https://fonts.gstatic.com/s/urbanist/v10/L0xtDF02iFML4hGCyMqgdyNEf6or5L2WA113VZmvacG1K4S1.ttf","300italic":"https://fonts.gstatic.com/s/urbanist/v10/L0xtDF02iFML4hGCyMqgdyNEf6or5L2WA12pVZmvacG1K4S1.ttf",italic:"https://fonts.gstatic.com/s/urbanist/v10/L0xtDF02iFML4hGCyMqgdyNEf6or5L2WA133VZmvacG1K4S1.ttf","500italic":"https://fonts.gstatic.com/s/urbanist/v10/L0xtDF02iFML4hGCyMqgdyNEf6or5L2WA13FVZmvacG1K4S1.ttf","600italic":"https://fonts.gstatic.com/s/urbanist/v10/L0xtDF02iFML4hGCyMqgdyNEf6or5L2WA10pUpmvacG1K4S1.ttf","700italic":"https://fonts.gstatic.com/s/urbanist/v10/L0xtDF02iFML4hGCyMqgdyNEf6or5L2WA10QUpmvacG1K4S1.ttf","800italic":"https://fonts.gstatic.com/s/urbanist/v10/L0xtDF02iFML4hGCyMqgdyNEf6or5L2WA113UpmvacG1K4S1.ttf","900italic":"https://fonts.gstatic.com/s/urbanist/v10/L0xtDF02iFML4hGCyMqgdyNEf6or5L2WA11eUpmvacG1K4S1.ttf"}},{family:"VT323",files:{regular:"https://fonts.gstatic.com/s/vt323/v17/pxiKyp0ihIEF2hsYHpT2dkNE.ttf"}},{family:"Vampiro One",files:{regular:"https://fonts.gstatic.com/s/vampiroone/v18/gokqH6DoDl5yXvJytFsdLkqnsvhIor3K.ttf"}},{family:"Varela",files:{regular:"https://fonts.gstatic.com/s/varela/v16/DPEtYwqExx0AWHXJBBQFfvzDsQ.ttf"}},{family:"Varela Round",files:{regular:"https://fonts.gstatic.com/s/varelaround/v20/w8gdH283Tvk__Lua32TysjIvoMGOD9gxZw.ttf"}},{family:"Varta",files:{300:"https://fonts.gstatic.com/s/varta/v21/Qw3AZQpJHj_6LzHUngWbrFkDH1x96j4EirE-9PGLfQ.ttf",500:"https://fonts.gstatic.com/s/varta/v21/Qw3AZQpJHj_6LzHUngWbrFkDH1x9hj4EirE-9PGLfQ.ttf",600:"https://fonts.gstatic.com/s/varta/v21/Qw3AZQpJHj_6LzHUngWbrFkDH1x9ajkEirE-9PGLfQ.ttf",700:"https://fonts.gstatic.com/s/varta/v21/Qw3AZQpJHj_6LzHUngWbrFkDH1x9UzkEirE-9PGLfQ.ttf",regular:"https://fonts.gstatic.com/s/varta/v21/Qw3AZQpJHj_6LzHUngWbrFkDH1x9tD4EirE-9PGLfQ.ttf"}},{family:"Vast Shadow",files:{regular:"https://fonts.gstatic.com/s/vastshadow/v15/pe0qMImKOZ1V62ZwbVY9dfe6Kdpickwp.ttf"}},{family:"Vazirmatn",files:{100:"https://fonts.gstatic.com/s/vazirmatn/v13/Dxx78j6PP2D_kU2muijPEe1n2vVbfJRklWgyOReZ72DF_QY.ttf",200:"https://fonts.gstatic.com/s/vazirmatn/v13/Dxx78j6PP2D_kU2muijPEe1n2vVbfJRklegzOReZ72DF_QY.ttf",300:"https://fonts.gstatic.com/s/vazirmatn/v13/Dxx78j6PP2D_kU2muijPEe1n2vVbfJRklTYzOReZ72DF_QY.ttf",500:"https://fonts.gstatic.com/s/vazirmatn/v13/Dxx78j6PP2D_kU2muijPEe1n2vVbfJRklVozOReZ72DF_QY.ttf",600:"https://fonts.gstatic.com/s/vazirmatn/v13/Dxx78j6PP2D_kU2muijPEe1n2vVbfJRklbY0OReZ72DF_QY.ttf",700:"https://fonts.gstatic.com/s/vazirmatn/v13/Dxx78j6PP2D_kU2muijPEe1n2vVbfJRklY80OReZ72DF_QY.ttf",800:"https://fonts.gstatic.com/s/vazirmatn/v13/Dxx78j6PP2D_kU2muijPEe1n2vVbfJRkleg0OReZ72DF_QY.ttf",900:"https://fonts.gstatic.com/s/vazirmatn/v13/Dxx78j6PP2D_kU2muijPEe1n2vVbfJRklcE0OReZ72DF_QY.ttf",regular:"https://fonts.gstatic.com/s/vazirmatn/v13/Dxx78j6PP2D_kU2muijPEe1n2vVbfJRklWgzOReZ72DF_QY.ttf"}},{family:"Vesper Libre",files:{500:"https://fonts.gstatic.com/s/vesperlibre/v19/bx6dNxyWnf-uxPdXDHUD_RdA-2ap0okKXKvPlw.ttf",700:"https://fonts.gstatic.com/s/vesperlibre/v19/bx6dNxyWnf-uxPdXDHUD_RdAs2Cp0okKXKvPlw.ttf",900:"https://fonts.gstatic.com/s/vesperlibre/v19/bx6dNxyWnf-uxPdXDHUD_RdAi2Kp0okKXKvPlw.ttf",regular:"https://fonts.gstatic.com/s/vesperlibre/v19/bx6CNxyWnf-uxPdXDHUD_Rd4D0-N2qIWVQ.ttf"}},{family:"Viaoda Libre",files:{regular:"https://fonts.gstatic.com/s/viaodalibre/v15/vEFW2_lWCgoR6OKuRz9kcRVJb2IY2tOHXg.ttf"}},{family:"Vibes",files:{regular:"https://fonts.gstatic.com/s/vibes/v14/QdVYSTsmIB6tmbd3HpbsuBlh.ttf"}},{family:"Vibur",files:{regular:"https://fonts.gstatic.com/s/vibur/v23/DPEiYwmEzw0QRjTpLjoJd-Xa.ttf"}},{family:"Vidaloka",files:{regular:"https://fonts.gstatic.com/s/vidaloka/v18/7cHrv4c3ipenMKlEass8yn4hnCci.ttf"}},{family:"Viga",files:{regular:"https://fonts.gstatic.com/s/viga/v14/xMQbuFFdSaiX_QIjD4e2OX8.ttf"}},{family:"Vina Sans",files:{regular:"https://fonts.gstatic.com/s/vinasans/v2/m8JQjfZKf6-d2273MP7zcJ5BZmqa3A.ttf"}},{family:"Voces",files:{regular:"https://fonts.gstatic.com/s/voces/v20/-F6_fjJyLyU8d4PBBG7YpzlJ.ttf"}},{family:"Volkhov",files:{700:"https://fonts.gstatic.com/s/volkhov/v17/SlGVmQieoJcKemNeeY4hoHRYbDQUego.ttf",regular:"https://fonts.gstatic.com/s/volkhov/v17/SlGQmQieoJcKemNeQTIOhHxzcD0.ttf",italic:"https://fonts.gstatic.com/s/volkhov/v17/SlGSmQieoJcKemNecTAEgF52YD0NYw.ttf","700italic":"https://fonts.gstatic.com/s/volkhov/v17/SlGXmQieoJcKemNecTA8PHFSaBYRagrQrA.ttf"}},{family:"Vollkorn",files:{500:"https://fonts.gstatic.com/s/vollkorn/v22/0ybgGDoxxrvAnPhYGzMlQLzuMasz6Df2AnGuGWOdEbD63w.ttf",600:"https://fonts.gstatic.com/s/vollkorn/v22/0ybgGDoxxrvAnPhYGzMlQLzuMasz6Df27nauGWOdEbD63w.ttf",700:"https://fonts.gstatic.com/s/vollkorn/v22/0ybgGDoxxrvAnPhYGzMlQLzuMasz6Df213auGWOdEbD63w.ttf",800:"https://fonts.gstatic.com/s/vollkorn/v22/0ybgGDoxxrvAnPhYGzMlQLzuMasz6Df2sHauGWOdEbD63w.ttf",900:"https://fonts.gstatic.com/s/vollkorn/v22/0ybgGDoxxrvAnPhYGzMlQLzuMasz6Df2mXauGWOdEbD63w.ttf",regular:"https://fonts.gstatic.com/s/vollkorn/v22/0ybgGDoxxrvAnPhYGzMlQLzuMasz6Df2MHGuGWOdEbD63w.ttf",italic:"https://fonts.gstatic.com/s/vollkorn/v22/0ybuGDoxxrvAnPhYGxksckM2WMCpRjDj-DJGWmmZM7Xq34g9.ttf","500italic":"https://fonts.gstatic.com/s/vollkorn/v22/0ybuGDoxxrvAnPhYGxksckM2WMCpRjDj-DJ0WmmZM7Xq34g9.ttf","600italic":"https://fonts.gstatic.com/s/vollkorn/v22/0ybuGDoxxrvAnPhYGxksckM2WMCpRjDj-DKYXWmZM7Xq34g9.ttf","700italic":"https://fonts.gstatic.com/s/vollkorn/v22/0ybuGDoxxrvAnPhYGxksckM2WMCpRjDj-DKhXWmZM7Xq34g9.ttf","800italic":"https://fonts.gstatic.com/s/vollkorn/v22/0ybuGDoxxrvAnPhYGxksckM2WMCpRjDj-DLGXWmZM7Xq34g9.ttf","900italic":"https://fonts.gstatic.com/s/vollkorn/v22/0ybuGDoxxrvAnPhYGxksckM2WMCpRjDj-DLvXWmZM7Xq34g9.ttf"}},{family:"Vollkorn SC",files:{600:"https://fonts.gstatic.com/s/vollkornsc/v11/j8_y6-zQ3rXpceZj9cqnVimhGluqYbPN5Yjn.ttf",700:"https://fonts.gstatic.com/s/vollkornsc/v11/j8_y6-zQ3rXpceZj9cqnVinFG1uqYbPN5Yjn.ttf",900:"https://fonts.gstatic.com/s/vollkornsc/v11/j8_y6-zQ3rXpceZj9cqnVin9GVuqYbPN5Yjn.ttf",regular:"https://fonts.gstatic.com/s/vollkornsc/v11/j8_v6-zQ3rXpceZj9cqnVhF5NH-iSq_E.ttf"}},{family:"Voltaire",files:{regular:"https://fonts.gstatic.com/s/voltaire/v18/1Pttg8PcRfSblAvGvQooYKVnBOif.ttf"}},{family:"Vujahday Script",files:{regular:"https://fonts.gstatic.com/s/vujahdayscript/v4/RWmQoKGA8fEkrIPtSZ3_J7er2dUiDEtvAlaMKw.ttf"}},{family:"Waiting for the Sunrise",files:{regular:"https://fonts.gstatic.com/s/waitingforthesunrise/v16/WBL1rFvOYl9CEv2i1mO6KUW8RKWJ2zoXoz5JsYZQ9h_ZYk5J.ttf"}},{family:"Wallpoet",files:{regular:"https://fonts.gstatic.com/s/wallpoet/v16/f0X10em2_8RnXVVdUNbu7cXP8L8G.ttf"}},{family:"Walter Turncoat",files:{regular:"https://fonts.gstatic.com/s/walterturncoat/v19/snfys0Gs98ln43n0d-14ULoToe67YB2dQ5ZPqQ.ttf"}},{family:"Warnes",files:{regular:"https://fonts.gstatic.com/s/warnes/v25/pONn1hc0GsW6sW5OpiC2o6Lkqg.ttf"}},{family:"Water Brush",files:{regular:"https://fonts.gstatic.com/s/waterbrush/v2/AYCPpXPqc8cJWLhp4hywKHJq7PKP5Z_G.ttf"}},{family:"Waterfall",files:{regular:"https://fonts.gstatic.com/s/waterfall/v3/MCoRzAfo293fACdFKcwY2rH8D_EZwA.ttf"}},{family:"Wellfleet",files:{regular:"https://fonts.gstatic.com/s/wellfleet/v20/nuF7D_LfQJb3VYgX6eyT42aLDhO2HA.ttf"}},{family:"Wendy One",files:{regular:"https://fonts.gstatic.com/s/wendyone/v15/2sDcZGJOipXfgfXV5wgDb2-4C7wFZQ.ttf"}},{family:"Whisper",files:{regular:"https://fonts.gstatic.com/s/whisper/v2/q5uHsoqtKftx74K9milCBxxdmYU.ttf"}},{family:"WindSong",files:{500:"https://fonts.gstatic.com/s/windsong/v8/KR1RBsyu-P-GFEW57oeNNPWylS3-jVXm.ttf",regular:"https://fonts.gstatic.com/s/windsong/v8/KR1WBsyu-P-GFEW57r95HdG6vjH3.ttf"}},{family:"Wire One",files:{regular:"https://fonts.gstatic.com/s/wireone/v24/qFdH35Wah5htUhV75WGiWdrCwwcJ.ttf"}},{family:"Wix Madefor Display",files:{500:"https://fonts.gstatic.com/s/wixmadefordisplay/v9/SZcS3EX9IbbyeJ8aOluD52KXgUA_7Ed1I13G853Cp9duUYFTYltkv_3HQKgh.ttf",600:"https://fonts.gstatic.com/s/wixmadefordisplay/v9/SZcS3EX9IbbyeJ8aOluD52KXgUA_7Ed1I13G853Cp9duUYG_ZVtkv_3HQKgh.ttf",700:"https://fonts.gstatic.com/s/wixmadefordisplay/v9/SZcS3EX9IbbyeJ8aOluD52KXgUA_7Ed1I13G853Cp9duUYGGZVtkv_3HQKgh.ttf",800:"https://fonts.gstatic.com/s/wixmadefordisplay/v9/SZcS3EX9IbbyeJ8aOluD52KXgUA_7Ed1I13G853Cp9duUYHhZVtkv_3HQKgh.ttf",regular:"https://fonts.gstatic.com/s/wixmadefordisplay/v9/SZcS3EX9IbbyeJ8aOluD52KXgUA_7Ed1I13G853Cp9duUYFhYltkv_3HQKgh.ttf"}},{family:"Wix Madefor Text",files:{500:"https://fonts.gstatic.com/s/wixmadefortext/v12/-W_oXI_oSymQ8Qj-Apx3HGN_Hu1RTCk5FtSDETgf0cKNNOeFgpRt9rN5.ttf",600:"https://fonts.gstatic.com/s/wixmadefortext/v12/-W_oXI_oSymQ8Qj-Apx3HGN_Hu1RTCk5FtSDETgf0cJhM-eFgpRt9rN5.ttf",700:"https://fonts.gstatic.com/s/wixmadefortext/v12/-W_oXI_oSymQ8Qj-Apx3HGN_Hu1RTCk5FtSDETgf0cJYM-eFgpRt9rN5.ttf",800:"https://fonts.gstatic.com/s/wixmadefortext/v12/-W_oXI_oSymQ8Qj-Apx3HGN_Hu1RTCk5FtSDETgf0cI_M-eFgpRt9rN5.ttf",regular:"https://fonts.gstatic.com/s/wixmadefortext/v12/-W_oXI_oSymQ8Qj-Apx3HGN_Hu1RTCk5FtSDETgf0cK_NOeFgpRt9rN5.ttf",italic:"https://fonts.gstatic.com/s/wixmadefortext/v12/-W_WXI_oSymQ8Qj-Apx3HGN_Hu1RZiAL6QzqeqKx1td3dw_GiJBP86N53IY.ttf","500italic":"https://fonts.gstatic.com/s/wixmadefortext/v12/-W_WXI_oSymQ8Qj-Apx3HGN_Hu1RZiAL6QzqeqKx1td3dz3GiJBP86N53IY.ttf","600italic":"https://fonts.gstatic.com/s/wixmadefortext/v12/-W_WXI_oSymQ8Qj-Apx3HGN_Hu1RZiAL6QzqeqKx1td3d9HBiJBP86N53IY.ttf","700italic":"https://fonts.gstatic.com/s/wixmadefortext/v12/-W_WXI_oSymQ8Qj-Apx3HGN_Hu1RZiAL6QzqeqKx1td3d-jBiJBP86N53IY.ttf","800italic":"https://fonts.gstatic.com/s/wixmadefortext/v12/-W_WXI_oSymQ8Qj-Apx3HGN_Hu1RZiAL6QzqeqKx1td3d4_BiJBP86N53IY.ttf"}},{family:"Work Sans",files:{100:"https://fonts.gstatic.com/s/worksans/v18/QGY_z_wNahGAdqQ43RhVcIgYT2Xz5u32K0nWNigDp6_cOyA.ttf",200:"https://fonts.gstatic.com/s/worksans/v18/QGY_z_wNahGAdqQ43RhVcIgYT2Xz5u32K8nXNigDp6_cOyA.ttf",300:"https://fonts.gstatic.com/s/worksans/v18/QGY_z_wNahGAdqQ43RhVcIgYT2Xz5u32KxfXNigDp6_cOyA.ttf",500:"https://fonts.gstatic.com/s/worksans/v18/QGY_z_wNahGAdqQ43RhVcIgYT2Xz5u32K3vXNigDp6_cOyA.ttf",600:"https://fonts.gstatic.com/s/worksans/v18/QGY_z_wNahGAdqQ43RhVcIgYT2Xz5u32K5fQNigDp6_cOyA.ttf",700:"https://fonts.gstatic.com/s/worksans/v18/QGY_z_wNahGAdqQ43RhVcIgYT2Xz5u32K67QNigDp6_cOyA.ttf",800:"https://fonts.gstatic.com/s/worksans/v18/QGY_z_wNahGAdqQ43RhVcIgYT2Xz5u32K8nQNigDp6_cOyA.ttf",900:"https://fonts.gstatic.com/s/worksans/v18/QGY_z_wNahGAdqQ43RhVcIgYT2Xz5u32K-DQNigDp6_cOyA.ttf",regular:"https://fonts.gstatic.com/s/worksans/v18/QGY_z_wNahGAdqQ43RhVcIgYT2Xz5u32K0nXNigDp6_cOyA.ttf","100italic":"https://fonts.gstatic.com/s/worksans/v18/QGY9z_wNahGAdqQ43Rh_ebrnlwyYfEPxPoGU3moJo43ZKyDSQQ.ttf","200italic":"https://fonts.gstatic.com/s/worksans/v18/QGY9z_wNahGAdqQ43Rh_ebrnlwyYfEPxPoGUXmsJo43ZKyDSQQ.ttf","300italic":"https://fonts.gstatic.com/s/worksans/v18/QGY9z_wNahGAdqQ43Rh_ebrnlwyYfEPxPoGUgGsJo43ZKyDSQQ.ttf",italic:"https://fonts.gstatic.com/s/worksans/v18/QGY9z_wNahGAdqQ43Rh_ebrnlwyYfEPxPoGU3msJo43ZKyDSQQ.ttf","500italic":"https://fonts.gstatic.com/s/worksans/v18/QGY9z_wNahGAdqQ43Rh_ebrnlwyYfEPxPoGU7GsJo43ZKyDSQQ.ttf","600italic":"https://fonts.gstatic.com/s/worksans/v18/QGY9z_wNahGAdqQ43Rh_ebrnlwyYfEPxPoGUAGwJo43ZKyDSQQ.ttf","700italic":"https://fonts.gstatic.com/s/worksans/v18/QGY9z_wNahGAdqQ43Rh_ebrnlwyYfEPxPoGUOWwJo43ZKyDSQQ.ttf","800italic":"https://fonts.gstatic.com/s/worksans/v18/QGY9z_wNahGAdqQ43Rh_ebrnlwyYfEPxPoGUXmwJo43ZKyDSQQ.ttf","900italic":"https://fonts.gstatic.com/s/worksans/v18/QGY9z_wNahGAdqQ43Rh_ebrnlwyYfEPxPoGUd2wJo43ZKyDSQQ.ttf"}},{family:"Xanh Mono",files:{regular:"https://fonts.gstatic.com/s/xanhmono/v17/R70YjykVmvKCep-vWhSYmACQXzLhTg.ttf",italic:"https://fonts.gstatic.com/s/xanhmono/v17/R70ejykVmvKCep-vWhSomgqUfTfxTo24.ttf"}},{family:"Yaldevi",files:{200:"https://fonts.gstatic.com/s/yaldevi/v12/cY9afj6VW0NMrDWtDNzCOwlPMq9SLpfxJzvobxLCBJkS.ttf",300:"https://fonts.gstatic.com/s/yaldevi/v12/cY9afj6VW0NMrDWtDNzCOwlPMq9SLpcvJzvobxLCBJkS.ttf",500:"https://fonts.gstatic.com/s/yaldevi/v12/cY9afj6VW0NMrDWtDNzCOwlPMq9SLpdDJzvobxLCBJkS.ttf",600:"https://fonts.gstatic.com/s/yaldevi/v12/cY9afj6VW0NMrDWtDNzCOwlPMq9SLpevIDvobxLCBJkS.ttf",700:"https://fonts.gstatic.com/s/yaldevi/v12/cY9afj6VW0NMrDWtDNzCOwlPMq9SLpeWIDvobxLCBJkS.ttf",regular:"https://fonts.gstatic.com/s/yaldevi/v12/cY9afj6VW0NMrDWtDNzCOwlPMq9SLpdxJzvobxLCBJkS.ttf"}},{family:"Yanone Kaffeesatz",files:{200:"https://fonts.gstatic.com/s/yanonekaffeesatz/v24/3y9I6aknfjLm_3lMKjiMgmUUYBs04aUXNxt9gW2LIftodtWpcGuLCnXkVA.ttf",300:"https://fonts.gstatic.com/s/yanonekaffeesatz/v24/3y9I6aknfjLm_3lMKjiMgmUUYBs04aUXNxt9gW2LIftoqNWpcGuLCnXkVA.ttf",500:"https://fonts.gstatic.com/s/yanonekaffeesatz/v24/3y9I6aknfjLm_3lMKjiMgmUUYBs04aUXNxt9gW2LIftoxNWpcGuLCnXkVA.ttf",600:"https://fonts.gstatic.com/s/yanonekaffeesatz/v24/3y9I6aknfjLm_3lMKjiMgmUUYBs04aUXNxt9gW2LIftoKNKpcGuLCnXkVA.ttf",700:"https://fonts.gstatic.com/s/yanonekaffeesatz/v24/3y9I6aknfjLm_3lMKjiMgmUUYBs04aUXNxt9gW2LIftoEdKpcGuLCnXkVA.ttf",regular:"https://fonts.gstatic.com/s/yanonekaffeesatz/v24/3y9I6aknfjLm_3lMKjiMgmUUYBs04aUXNxt9gW2LIfto9tWpcGuLCnXkVA.ttf"}},{family:"Yantramanav",files:{100:"https://fonts.gstatic.com/s/yantramanav/v11/flU-Rqu5zY00QEpyWJYWN5-QXeNzDB41rZg.ttf",300:"https://fonts.gstatic.com/s/yantramanav/v11/flUhRqu5zY00QEpyWJYWN59Yf8NZIhI8tIHh.ttf",500:"https://fonts.gstatic.com/s/yantramanav/v11/flUhRqu5zY00QEpyWJYWN58AfsNZIhI8tIHh.ttf",700:"https://fonts.gstatic.com/s/yantramanav/v11/flUhRqu5zY00QEpyWJYWN59IeMNZIhI8tIHh.ttf",900:"https://fonts.gstatic.com/s/yantramanav/v11/flUhRqu5zY00QEpyWJYWN59wesNZIhI8tIHh.ttf",regular:"https://fonts.gstatic.com/s/yantramanav/v11/flU8Rqu5zY00QEpyWJYWN6f0V-dRCQ41.ttf"}},{family:"Yatra One",files:{regular:"https://fonts.gstatic.com/s/yatraone/v14/C8ch4copsHzj8p7NaF0xw1OBbRDvXw.ttf"}},{family:"Yellowtail",files:{regular:"https://fonts.gstatic.com/s/yellowtail/v18/OZpGg_pnoDtINPfRIlLotlzNwED-b4g.ttf"}},{family:"Yeon Sung",files:{regular:"https://fonts.gstatic.com/s/yeonsung/v20/QldMNTpbohAGtsJvUn6xSVNazqx2xg.ttf"}},{family:"Yeseva One",files:{regular:"https://fonts.gstatic.com/s/yesevaone/v20/OpNJno4ck8vc-xYpwWWxpipfWhXD00c.ttf"}},{family:"Yesteryear",files:{regular:"https://fonts.gstatic.com/s/yesteryear/v14/dg4g_p78rroaKl8kRKo1r7wHTwonmyw.ttf"}},{family:"Yomogi",files:{regular:"https://fonts.gstatic.com/s/yomogi/v8/VuJwdNrS2ZL7rpoPWIz5NIh-YA.ttf"}},{family:"Yrsa",files:{300:"https://fonts.gstatic.com/s/yrsa/v20/wlprgwnQFlxs_wD3CFSMYmFaaCjASNNV9rRPfrKu.ttf",500:"https://fonts.gstatic.com/s/yrsa/v20/wlprgwnQFlxs_wD3CFSMYmFaaCisSNNV9rRPfrKu.ttf",600:"https://fonts.gstatic.com/s/yrsa/v20/wlprgwnQFlxs_wD3CFSMYmFaaChAT9NV9rRPfrKu.ttf",700:"https://fonts.gstatic.com/s/yrsa/v20/wlprgwnQFlxs_wD3CFSMYmFaaCh5T9NV9rRPfrKu.ttf",regular:"https://fonts.gstatic.com/s/yrsa/v20/wlprgwnQFlxs_wD3CFSMYmFaaCieSNNV9rRPfrKu.ttf","300italic":"https://fonts.gstatic.com/s/yrsa/v20/wlptgwnQFlxs1QnF94zlCfv0bz1WC2UW_LBte6KuGEo.ttf",italic:"https://fonts.gstatic.com/s/yrsa/v20/wlptgwnQFlxs1QnF94zlCfv0bz1WCzsW_LBte6KuGEo.ttf","500italic":"https://fonts.gstatic.com/s/yrsa/v20/wlptgwnQFlxs1QnF94zlCfv0bz1WCwkW_LBte6KuGEo.ttf","600italic":"https://fonts.gstatic.com/s/yrsa/v20/wlptgwnQFlxs1QnF94zlCfv0bz1WC-UR_LBte6KuGEo.ttf","700italic":"https://fonts.gstatic.com/s/yrsa/v20/wlptgwnQFlxs1QnF94zlCfv0bz1WC9wR_LBte6KuGEo.ttf"}},{family:"Ysabeau",files:{100:"https://fonts.gstatic.com/s/ysabeau/v1/kmKiZqEiBAXLcnuMvjZNI_5FGeJet7OWCTYwI8Gcw6Oi.ttf",200:"https://fonts.gstatic.com/s/ysabeau/v1/kmKiZqEiBAXLcnuMvjZNI_5FGeJet7MWCDYwI8Gcw6Oi.ttf",300:"https://fonts.gstatic.com/s/ysabeau/v1/kmKiZqEiBAXLcnuMvjZNI_5FGeJet7PICDYwI8Gcw6Oi.ttf",500:"https://fonts.gstatic.com/s/ysabeau/v1/kmKiZqEiBAXLcnuMvjZNI_5FGeJet7OkCDYwI8Gcw6Oi.ttf",600:"https://fonts.gstatic.com/s/ysabeau/v1/kmKiZqEiBAXLcnuMvjZNI_5FGeJet7NIDzYwI8Gcw6Oi.ttf",700:"https://fonts.gstatic.com/s/ysabeau/v1/kmKiZqEiBAXLcnuMvjZNI_5FGeJet7NxDzYwI8Gcw6Oi.ttf",800:"https://fonts.gstatic.com/s/ysabeau/v1/kmKiZqEiBAXLcnuMvjZNI_5FGeJet7MWDzYwI8Gcw6Oi.ttf",900:"https://fonts.gstatic.com/s/ysabeau/v1/kmKiZqEiBAXLcnuMvjZNI_5FGeJet7M_DzYwI8Gcw6Oi.ttf",regular:"https://fonts.gstatic.com/s/ysabeau/v1/kmKiZqEiBAXLcnuMvjZNI_5FGeJet7OWCDYwI8Gcw6Oi.ttf","100italic":"https://fonts.gstatic.com/s/ysabeau/v1/kmKsZqEiBAXLcnuMlD9_3CYscnjwsKZeS95yKcW-xrOiIUw.ttf","200italic":"https://fonts.gstatic.com/s/ysabeau/v1/kmKsZqEiBAXLcnuMlD9_3CYscnjwsKZeS15zKcW-xrOiIUw.ttf","300italic":"https://fonts.gstatic.com/s/ysabeau/v1/kmKsZqEiBAXLcnuMlD9_3CYscnjwsKZeS4BzKcW-xrOiIUw.ttf",italic:"https://fonts.gstatic.com/s/ysabeau/v1/kmKsZqEiBAXLcnuMlD9_3CYscnjwsKZeS95zKcW-xrOiIUw.ttf","500italic":"https://fonts.gstatic.com/s/ysabeau/v1/kmKsZqEiBAXLcnuMlD9_3CYscnjwsKZeS-xzKcW-xrOiIUw.ttf","600italic":"https://fonts.gstatic.com/s/ysabeau/v1/kmKsZqEiBAXLcnuMlD9_3CYscnjwsKZeSwB0KcW-xrOiIUw.ttf","700italic":"https://fonts.gstatic.com/s/ysabeau/v1/kmKsZqEiBAXLcnuMlD9_3CYscnjwsKZeSzl0KcW-xrOiIUw.ttf","800italic":"https://fonts.gstatic.com/s/ysabeau/v1/kmKsZqEiBAXLcnuMlD9_3CYscnjwsKZeS150KcW-xrOiIUw.ttf","900italic":"https://fonts.gstatic.com/s/ysabeau/v1/kmKsZqEiBAXLcnuMlD9_3CYscnjwsKZeS3d0KcW-xrOiIUw.ttf"}},{family:"Yuji Boku",files:{regular:"https://fonts.gstatic.com/s/yujiboku/v5/P5sAzZybeNzXsA9xj1Fkjb2r2dgvJA.ttf"}},{family:"Yuji Mai",files:{regular:"https://fonts.gstatic.com/s/yujimai/v5/ZgNQjPxdJ7DEHrS0gC38hmHmNpCO.ttf"}},{family:"Yuji Syuku",files:{regular:"https://fonts.gstatic.com/s/yujisyuku/v5/BngNUXdTV3vO6Lw5ApOPqPfgwqiA-Rk.ttf"}},{family:"Yusei Magic",files:{regular:"https://fonts.gstatic.com/s/yuseimagic/v12/yYLt0hbAyuCmoo5wlhPkpjHR-tdfcIT_.ttf"}},{family:"ZCOOL KuaiLe",files:{regular:"https://fonts.gstatic.com/s/zcoolkuaile/v19/tssqApdaRQokwFjFJjvM6h2WpozzoXhC2g.ttf"}},{family:"ZCOOL QingKe HuangYou",files:{regular:"https://fonts.gstatic.com/s/zcoolqingkehuangyou/v15/2Eb5L_R5IXJEWhD3AOhSvFC554MOOahI4mRIi_28c8bHWA.ttf"}},{family:"ZCOOL XiaoWei",files:{regular:"https://fonts.gstatic.com/s/zcoolxiaowei/v14/i7dMIFFrTRywPpUVX9_RJyM1YFKQHwyVd3U.ttf"}},{family:"Zen Antique",files:{regular:"https://fonts.gstatic.com/s/zenantique/v12/AYCPpXPnd91Ma_Zf-Ri2JXJq7PKP5Z_G.ttf"}},{family:"Zen Antique Soft",files:{regular:"https://fonts.gstatic.com/s/zenantiquesoft/v12/DtV4JwqzSL1q_KwnEWMc_3xfgW6ihwBmkui5HNg.ttf"}},{family:"Zen Dots",files:{regular:"https://fonts.gstatic.com/s/zendots/v10/XRXX3ICfm00IGoesQeaETM_FcCIG.ttf"}},{family:"Zen Kaku Gothic Antique",files:{300:"https://fonts.gstatic.com/s/zenkakugothicantique/v13/6qLVKYkHvh-nlUpKPAdoVFBtfxDzIn1eCzpB22cM9TarWJtyZyGU.ttf",500:"https://fonts.gstatic.com/s/zenkakugothicantique/v13/6qLVKYkHvh-nlUpKPAdoVFBtfxDzIn1eCzpB22dU9DarWJtyZyGU.ttf",700:"https://fonts.gstatic.com/s/zenkakugothicantique/v13/6qLVKYkHvh-nlUpKPAdoVFBtfxDzIn1eCzpB22cc8jarWJtyZyGU.ttf",900:"https://fonts.gstatic.com/s/zenkakugothicantique/v13/6qLVKYkHvh-nlUpKPAdoVFBtfxDzIn1eCzpB22ck8DarWJtyZyGU.ttf",regular:"https://fonts.gstatic.com/s/zenkakugothicantique/v13/6qLQKYkHvh-nlUpKPAdoVFBtfxDzIn1eCzpB21-g3RKjc4d7.ttf"}},{family:"Zen Kaku Gothic New",files:{300:"https://fonts.gstatic.com/s/zenkakugothicnew/v13/gNMVW2drQpDw0GjzrVNFf_valaDBcznOqpdKaWTSTGlMyd8.ttf",500:"https://fonts.gstatic.com/s/zenkakugothicnew/v13/gNMVW2drQpDw0GjzrVNFf_valaDBcznOqs9LaWTSTGlMyd8.ttf",700:"https://fonts.gstatic.com/s/zenkakugothicnew/v13/gNMVW2drQpDw0GjzrVNFf_valaDBcznOqodNaWTSTGlMyd8.ttf",900:"https://fonts.gstatic.com/s/zenkakugothicnew/v13/gNMVW2drQpDw0GjzrVNFf_valaDBcznOqr9PaWTSTGlMyd8.ttf",regular:"https://fonts.gstatic.com/s/zenkakugothicnew/v13/gNMYW2drQpDw0GjzrVNFf_valaDBcznOkjtiTWz5UGA.ttf"}},{family:"Zen Kurenaido",files:{regular:"https://fonts.gstatic.com/s/zenkurenaido/v13/3XFsEr0515BK2u6UUptu_gWJZfz22PRLd0U.ttf"}},{family:"Zen Loop",files:{regular:"https://fonts.gstatic.com/s/zenloop/v7/h0GrssK16UsnJwHsEK9zqwzX5vOG.ttf",italic:"https://fonts.gstatic.com/s/zenloop/v7/h0GtssK16UsnJwHsEJ9xoQj14-OGJ0w.ttf"}},{family:"Zen Maru Gothic",files:{300:"https://fonts.gstatic.com/s/zenmarugothic/v13/o-0XIpIxzW5b-RxT-6A8jWAtCp-cQWpCPJqa_ajlvw.ttf",500:"https://fonts.gstatic.com/s/zenmarugothic/v13/o-0XIpIxzW5b-RxT-6A8jWAtCp-cGWtCPJqa_ajlvw.ttf",700:"https://fonts.gstatic.com/s/zenmarugothic/v13/o-0XIpIxzW5b-RxT-6A8jWAtCp-cUW1CPJqa_ajlvw.ttf",900:"https://fonts.gstatic.com/s/zenmarugothic/v13/o-0XIpIxzW5b-RxT-6A8jWAtCp-caW9CPJqa_ajlvw.ttf",regular:"https://fonts.gstatic.com/s/zenmarugothic/v13/o-0SIpIxzW5b-RxT-6A8jWAtCp-k7UJmNLGG9A.ttf"}},{family:"Zen Old Mincho",files:{500:"https://fonts.gstatic.com/s/zenoldmincho/v11/tss3ApVaYytLwxTqcxfMyBveyb4Dqlla8dMgPgBu.ttf",600:"https://fonts.gstatic.com/s/zenoldmincho/v11/tss3ApVaYytLwxTqcxfMyBveyb4vrVla8dMgPgBu.ttf",700:"https://fonts.gstatic.com/s/zenoldmincho/v11/tss3ApVaYytLwxTqcxfMyBveyb5LrFla8dMgPgBu.ttf",900:"https://fonts.gstatic.com/s/zenoldmincho/v11/tss3ApVaYytLwxTqcxfMyBveyb5zrlla8dMgPgBu.ttf",regular:"https://fonts.gstatic.com/s/zenoldmincho/v11/tss0ApVaYytLwxTqcxfMyBveyYb3g31S2s8p.ttf"}},{family:"Zen Tokyo Zoo",files:{regular:"https://fonts.gstatic.com/s/zentokyozoo/v7/NGSyv5ffC0J_BK6aFNtr6sRv8a1uRWe9amg.ttf"}},{family:"Zeyada",files:{regular:"https://fonts.gstatic.com/s/zeyada/v15/11hAGpPTxVPUbgZDNGatWKaZ3g.ttf"}},{family:"Zhi Mang Xing",files:{regular:"https://fonts.gstatic.com/s/zhimangxing/v17/f0Xw0ey79sErYFtWQ9a2rq-g0actfektIJ0.ttf"}},{family:"Zilla Slab",files:{300:"https://fonts.gstatic.com/s/zillaslab/v11/dFa5ZfeM_74wlPZtksIFYpEY2HSjWlhzbaw.ttf",500:"https://fonts.gstatic.com/s/zillaslab/v11/dFa5ZfeM_74wlPZtksIFYskZ2HSjWlhzbaw.ttf",600:"https://fonts.gstatic.com/s/zillaslab/v11/dFa5ZfeM_74wlPZtksIFYuUe2HSjWlhzbaw.ttf",700:"https://fonts.gstatic.com/s/zillaslab/v11/dFa5ZfeM_74wlPZtksIFYoEf2HSjWlhzbaw.ttf","300italic":"https://fonts.gstatic.com/s/zillaslab/v11/dFanZfeM_74wlPZtksIFaj8CVHapXnp2fazkfg.ttf",regular:"https://fonts.gstatic.com/s/zillaslab/v11/dFa6ZfeM_74wlPZtksIFWj0w_HyIRlE.ttf",italic:"https://fonts.gstatic.com/s/zillaslab/v11/dFa4ZfeM_74wlPZtksIFaj86-F6NVlFqdA.ttf","500italic":"https://fonts.gstatic.com/s/zillaslab/v11/dFanZfeM_74wlPZtksIFaj8CDHepXnp2fazkfg.ttf","600italic":"https://fonts.gstatic.com/s/zillaslab/v11/dFanZfeM_74wlPZtksIFaj8CIHCpXnp2fazkfg.ttf","700italic":"https://fonts.gstatic.com/s/zillaslab/v11/dFanZfeM_74wlPZtksIFaj8CRHGpXnp2fazkfg.ttf"}},{family:"Zilla Slab Highlight",files:{700:"https://fonts.gstatic.com/s/zillaslabhighlight/v17/gNMUW2BrTpK8-inLtBJgMMfbm6uNVDvRxiP0TET4YmVF0Mb6.ttf",regular:"https://fonts.gstatic.com/s/zillaslabhighlight/v17/gNMbW2BrTpK8-inLtBJgMMfbm6uNVDvRxhtIY2DwSXlM.ttf"}}];var DCt=Object.defineProperty,FCt=(s,t,e)=>t in s?DCt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,BCt=(s,t,e)=>(FCt(s,t+"",e),e);class kCt{constructor(){BCt(this,"_fonts");const t=["Lato","Montagu Slab","Roboto","Roboto Mono","Magnify","Lexend","Woodman","Raleway","Nunito","Ubuntu","Overpass Mono","Inter","Open Sans","Montserrat","PT Sans"],i=jCt.filter(n=>t.includes(n.family));this._fonts=i}get fonts(){return this._fonts}}var Vt=(s=>(s.ALT="Alt",s.ALT_LEFT="AltLeft",s.ALT_RIGHT="AltRight",s.CONTROL="Control",s.CONTROL_LEFT="ControlLeft",s.CONTROL_RIGHT="ControlRight",s.META="Meta",s.META_LEFT="MetaLeft",s.META_RIGHT="MetaRight",s.SHIFT="Shift",s.SHIFT_LEFT="ShiftLeft",s.SHIFT_RIGHT="ShiftRight",s.SPACE="Space",s.BACKQUOTE="Backquote",s.A="KeyA",s.S="KeyS",s.R="KeyR",s))(Vt||{}),Ai=(s=>(s.KEY_START="KEY_START",s.KEY_CONTINUE="KEY_CONTINUE",s.KEY_END="KEY_END",s))(Ai||{});class Av{constructor(t,e,i){this._key=t,this._timeMS=e,this._type=i,this.wasDown=this.wasDown.bind(this),this.wasStart=this.wasStart.bind(this),this.wasContinue=this.wasContinue.bind(this),this.wasEnd=this.wasEnd.bind(this)}get key(){return this._key}get timeMS(){return this._timeMS}get type(){return this._type}get isDown(){return this._type===Ai.KEY_START||this._type===Ai.KEY_CONTINUE}get isStart(){return this._type===Ai.KEY_START}get isContinue(){return this._type===Ai.KEY_CONTINUE}get isEnd(){return this._type===Ai.KEY_END}wasDown(t){return this._key===t&&this.isDown}wasStart(t){return this._key===t&&this.isStart}wasContinue(t){return this._key===t&&this.isContinue}wasEnd(t){return this._key===t&&this.isEnd}}var GCt=Object.defineProperty,VCt=(s,t,e)=>t in s?GCt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Tv=(s,t,e)=>(VCt(s,typeof t!="symbol"?t+"":t,e),e);class HCt{constructor(t,e){this._keyState=t,this._onSimulatedKeyUp=e,Tv(this,"_keyUpTimeouts",new Map),Tv(this,"_repeatRateMS",2e3),Tv(this,"_didSetRepeatRate",!1),Tv(this,"_keysToReleaseWhenMetaIsReleased",new Set),Tv(this,"_keyDownTimes",new Map)}onMetaKeyDown(){for(const t of[Vt.SPACE,Vt.BACKQUOTE]){const e=this._keyUpTimeouts.get(t);e&&(clearInterval(e),this._keysToReleaseWhenMetaIsReleased.add(t),this._keyUpTimeouts.delete(t))}}onNonModifierKeyDown(t){t.isStart&&this._keyDownTimes.set(t.key,t.timeMS);const e=this._keyDownTimes.get(t.key);if(!this._didSetRepeatRate&&t.isContinue&&e){const n=t.timeMS-e;this._repeatRateMS=n+UCt,this._didSetRepeatRate=!0}const i=this._keyUpTimeouts.get(t.key);i?(clearInterval(i),this._keyUpTimeouts.set(t.key,setTimeout(()=>this._simulateKeyUp(t.key),this._repeatRateMS))):(this._keyUpTimeouts.size>=1&&(this._keyUpTimeouts.forEach((n,o)=>{clearInterval(n),this._keyState.has(Vt.META)&&this._keysToReleaseWhenMetaIsReleased.add(o)}),this._keyUpTimeouts.clear()),!this._didSetRepeatRate&&this._keyState.has(Vt.META)&&this._keysToReleaseWhenMetaIsReleased.add(t.key),this._keyUpTimeouts.set(t.key,setTimeout(()=>this._simulateKeyUp(t.key),this._repeatRateMS)))}onMetaKeyUp(){for(const t of this._keysToReleaseWhenMetaIsReleased)this._simulateKeyUp(t)}onNonModifierKeyUp(t){this._resetKey(t.key)}_resetKey(t){const e=this._keyUpTimeouts.get(t);e&&clearInterval(e),this._keyUpTimeouts.delete(t),this._keyDownTimes.delete(t)}_simulateKeyUp(t){this._resetKey(t),this._onSimulatedKeyUp(t)}}const UCt=100;var zCt=Object.defineProperty,YCt=(s,t,e)=>t in s?zCt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,C2=(s,t,e)=>(YCt(s,typeof t!="symbol"?t+"":t,e),e);class WCt{constructor(t){this.editor=t,C2(this,"disposable",new Zt),C2(this,"_keysDown",new Set),C2(this,"_metaKeyUpHandler",new HCt(this._keysDown,n=>{this._lastEvent=new Av(n,Date.now(),Ai.KEY_END),this._keysDown.delete(this._lastEvent.key),this.editor.viewportController.activeViewport&&this.editor.activeTool.onKeyboardEvent(this.editor.viewportController.activeViewport,this._lastEvent.type)})),C2(this,"_lastEvent",new Av("",0,Ai.KEY_END));const e=n=>this.onKeyDown(n),i=n=>this.onKeyUp(n);window.addEventListener("keydown",e),window.addEventListener("keyup",i),this.disposable.add(new tt(()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",i)}))}dispose(){this.disposable.dispose()}get keysDown(){return this._keysDown}get lastEvent(){return this._lastEvent}onKeyDown(t){if(this.updateModifierKeysDown(t),eO(t.code))return;const e=t.repeat?Ai.KEY_CONTINUE:Ai.KEY_START;if(this._lastEvent=new Av(t.code,t.timeStamp,e),this._metaKeyUpHandler.onNonModifierKeyDown(this._lastEvent),this._keysDown.add(this._lastEvent.key),!this.editor.viewportController.activeViewport)return;this.editor.activeTool.onKeyboardEvent(this.editor.viewportController.activeViewport,this._lastEvent.type)&&t.preventDefault()}onKeyUp(t){this.updateModifierKeysDown(t),!eO(t.code)&&(this._lastEvent=new Av(t.code,t.timeStamp,Ai.KEY_END),this._metaKeyUpHandler.onNonModifierKeyUp(this._lastEvent),this._keysDown.delete(this._lastEvent.key),this.editor.viewportController.activeViewport&&this.editor.activeTool.onKeyboardEvent(this.editor.viewportController.activeViewport,this._lastEvent.type))}_updateModifierKeyDown(t,...e){const i=e[0];if(!i)return!1;const n=XCt(i);if(!n)return!1;const o=t[n],a=e.some(c=>this._keysDown.has(c));let l=null;if(o&&!a?i===Vt.CONTROL&&t.deltaMode!=null||(this._keysDown.add(i),l=Ai.KEY_START):!o&&a?(e.forEach(c=>this._keysDown.delete(c)),l=Ai.KEY_END):o&&a&&(l=Ai.KEY_CONTINUE),l){if(i===Vt.META&&(l===Ai.KEY_START?this._metaKeyUpHandler.onMetaKeyDown():l===Ai.KEY_END&&this._metaKeyUpHandler.onMetaKeyUp()),this._lastEvent=new Av(i,t.timeStamp,l),!this.editor.viewportController.activeViewport)return!1;this.editor.activeTool.onKeyboardEvent(this.editor.viewportController.activeViewport,this._lastEvent.type)}return l!=null}updateModifierKeysDown(t){let e=!1;return e=this._updateModifierKeyDown(t,Vt.ALT,Vt.ALT_LEFT,Vt.ALT_RIGHT)||e,e=this._updateModifierKeyDown(t,Vt.SHIFT,Vt.SHIFT_LEFT,Vt.SHIFT_RIGHT)||e,e=this._updateModifierKeyDown(t,Vt.CONTROL,Vt.CONTROL_LEFT,Vt.CONTROL_RIGHT)||e,e=this._updateModifierKeyDown(t,Vt.META,Vt.META_LEFT,Vt.META_RIGHT)||e,e}isKeyPressed(t){return this._keysDown.has(t)}get areKeysDown(){return this.keysDown.size!==0}get isCmdOrCtrlDown(){return s_?this._keysDown.has(Vt.META):this._keysDown.has(Vt.CONTROL)}get isAltDown(){return this._keysDown.has(Vt.ALT)}get isShiftDown(){return this._keysDown.has(Vt.SHIFT)}}function XCt(s){switch(s){case Vt.ALT:return"altKey";case Vt.SHIFT:return"shiftKey";case Vt.CONTROL:return"ctrlKey";case Vt.META:return"metaKey";default:return null}}const ZCt=["Alt","AltLeft","AltRight","Control","ControlLeft","ControlRight","Meta","MetaLeft","MetaRight","Shift","ShiftLeft","ShiftRight"];function eO(s){return ZCt.includes(s)}var KCt=Object.defineProperty,qCt=(s,t,e)=>t in s?KCt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Ig=(s,t,e)=>(qCt(s,typeof t!="symbol"?t+"":t,e),e);class QCt extends Tm{constructor(t){super(new _m,Te.lineMaterials.physicsColliderMaterial),this._rapierWorld=t,Ig(this,"_debugger",new JCt),Ig(this,"isHelper",!0),Ig(this,"_needsResize",!0),Ig(this,"_tempColor",new Ge),Ig(this,"_disposable",new Zt),this._disposable.add(new tt(()=>this._debugger.dispose())),this._disposable.add(new tt(()=>this.geometry.dispose())),this.layers.set(ce.COLLIDER)}setNeedsResize(){this._needsResize=!0}_resize(){this.geometry.dispose(),this.geometry=new _m;const{vertices:t,colors:e}=this._debugger.getDebugInfo(this._rapierWorld);this.geometry.setPositions(t);const i=e.slice(0,t.length);this.geometry.setColors(i)}update(){if(this._needsResize)this._resize(),this._needsResize=!1;else{const{vertices:t,colors:e}=this._debugger.getDebugInfo(this._rapierWorld);this._updateGeometryColors(e),this.geometry.updatePositions(t)}this.matrixAutoUpdate=!1,this.updateMatrix()}_updateGeometryColors(t){for(let e=0;e<t.length;e+=3)this._tempColor.setRGB(t[e],t[e+1],t[e+2]),t[e]=this._tempColor.r,t[e+1]=this._tempColor.g,t[e+2]=this._tempColor.b;this.geometry.updateColors(t)}dispose(){this._disposable.dispose()}}class JCt{constructor(){Ig(this,"_debugRenderPipeline",new JZ),Ig(this,"_disposable",new Zt),this._disposable.add(new tt(()=>this._debugRenderPipeline.free()))}getDebugInfo(t){try{this._debugRenderPipeline.render(t.bodies,t.colliders,t.impulseJoints,t.multibodyJoints,t.narrowPhase)}catch(e){U.error("RAPIER.DebugRenderPipeline::render error",e)}return this._debugRenderPipeline}dispose(){this._disposable.dispose()}}var ub=(s=>(s.COLLISION_START="COLLISION_START",s.COLLISION_END="COLLISION_END",s))(ub||{}),$Ct=Object.defineProperty,t2t=(s,t,e)=>t in s?$Ct(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,e2t=(s,t,e)=>(t2t(s,t+"",e),e);class s2t{constructor(t){this._editor=t,e2t(this,"_lastEvent",null)}get lastEvent(){return this._lastEvent}update(t,e=!0){try{t==null||t.drainCollisionEvents((i,n,o)=>{const a=o?ub.COLLISION_START:ub.COLLISION_END;this._lastEvent=new i2t(i,n,a,e),this._editor.activeTool.onColliderEvent(this)})}catch(i){U.error("eventQueue?.drainCollisionEvents error",i)}}}class i2t{constructor(t,e,i,n){this.handle1=t,this.handle2=e,this.type=i,this.canTriggerAnimations=n}}var SG=Object.defineProperty,n2t=(s,t,e)=>t in s?SG(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,o2t=(s,t,e,i)=>{for(var n=void 0,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&SG(t,e,n),n},Od=(s,t,e)=>(n2t(s,typeof t!="symbol"?t+"":t,e),e);const r2t=1e4;class IG{constructor(t){this._editor=t,Od(this,"_rapierWorld"),Od(this,"_eventQueue"),Od(this,"_colliderStateController"),Od(this,"_colliderHelpersRenderer"),Od(this,"_handle2ColliderId",new Map),Od(this,"_colliderId2Handle",new Map),Od(this,"_colliderId2Entity",new Map),Od(this,"_disposable",new Zt),Od(this,"lastAddedColliderId"),Od(this,"_areColliderAnimationsEnabled",!0),this._registerSignals(),vt(this)}async init(){await Cr.init();const t=new Cr.Vector3(0,0,0),e=new Cr.World(t);this._disposable.add(new tt(()=>e.free())),this._rapierWorld=e;const i=new Cr.EventQueue(!0);this._eventQueue=i,this._colliderStateController=new s2t(this._editor),this._colliderHelpersRenderer=new QCt(e),this._editor.helpers.add(this._colliderHelpersRenderer),this._disposable.add(new tt(()=>{var n;return(n=this._colliderHelpersRenderer)==null?void 0:n.dispose()}))}_removeCollider(t,e){var i,n;(i=this._rapierWorld)==null||i.removeCollider(e,!1),this._colliderId2Handle.delete(t),this._handle2ColliderId.delete(e.handle),this._colliderId2Entity.delete(t),(n=this._colliderHelpersRenderer)==null||n.setNeedsResize()}hasColliderById(t){return this._colliderId2Handle.has(t)}getColliderById(t){var n;const e=this._colliderId2Handle.get(t);if(e==null)return null;const i=(n=this._rapierWorld)==null?void 0:n.colliders.get(e);return i||null}removeColliderById(t,e=null){const i=this.getColliderById(t);if(!i)return;const n=e?`${e.sceneObject.id}_${t}`:t;this._removeCollider(n,i)}updateColliderShape(t,e,i){var o;const n=D0.createRapierShapeByType(t,e);i.setShape(n),(o=this._colliderHelpersRenderer)==null||o.setNeedsResize()}_removeCollidersForEntity(t){var n;const e=t.sceneObject.colliders;if(!e)return;let i=!1;for(const o of e.keys()){const a=`${t.sceneObject.id}_${o}`,l=this.getColliderById(a);l&&(this._removeCollider(a,l),i=!0)}i&&((n=this._colliderHelpersRenderer)==null||n.setNeedsResize())}addCollider(t){var a,l;if(!this._rapierWorld)throw new Error("PhysicsController not initialized");if(this._colliderId2Handle.has(t.id))return t;const e=D0.buildFromData(t),i=(a=this._rapierWorld)==null?void 0:a.createCollider(e);i.setActiveEvents(Cr.ActiveEvents.COLLISION_EVENTS);const{id:n}=t,{handle:o}=i;return this._colliderId2Handle.set(n,o),this._handle2ColliderId.set(o,n),(l=this._colliderHelpersRenderer)==null||l.setNeedsResize(),t}createCollider(t,e){var c,h;if(!this._rapierWorld)throw new Error("PhysicsController not initialized");const i=D0.build(e,t),n=(c=this._rapierWorld)==null?void 0:c.createCollider(i);n.setActiveEvents(Cr.ActiveEvents.COLLISION_EVENTS);const{id:o}=t,a=`${e.sceneObject.id}_${o}`,{handle:l}=n;return this._colliderId2Handle.set(a,l),this._handle2ColliderId.set(l,a),this._colliderId2Entity.set(a,e),(h=this._colliderHelpersRenderer)==null||h.setNeedsResize(),t}getColliderIdByHandle(t){return this._handle2ColliderId.get(t)}getEntityByHandle(t){const e=this._handle2ColliderId.get(t);return e?this._colliderId2Entity.get(e):null}intersectRay(t,e){if(!this._rapierWorld)return null;const i=new Cr.Ray(t,e),n=r2t,a=this._rapierWorld.castRay(i,n,!0);return a?{distance:Math.hypot(i.dir.x*a.toi,i.dir.y*a.toi,i.dir.z*a.toi),point:i.pointAt(a.toi),handle:a.collider.handle}:null}update(){var t,e;try{(t=this._rapierWorld)==null||t.step(this._eventQueue)}catch(i){U.error("RAPIER.World.step error:",i)}(e=this._colliderStateController)==null||e.update(this._eventQueue,this._areColliderAnimationsEnabled),this._areColliderAnimationsEnabled=!0}_registerSignals(){const t=[];t.push(this._editor.signals.object.removed.add(({entity:e})=>{this._removeCollidersForEntity(e)})),t.push(this._editor.signals.play.reset.add(()=>{this._areColliderAnimationsEnabled=!1})),this._disposable.add(new tt(()=>{for(const e of t)e.detach()}))}dispose(){this._disposable.dispose()}}o2t([V],IG.prototype,"lastAddedColliderId");var a2t=Object.defineProperty,l2t=(s,t,e)=>t in s?a2t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Vs=(s,t,e)=>(l2t(s,typeof t!="symbol"?t+"":t,e),e);const $b=class Ah{constructor(t,e,i,n,o=null,a=null){this.meshController=t,this._layerController=e,Vs(this,"_mesh"),Vs(this,"_group"),Vs(this,"_vertices"),Vs(this,"_edges"),Vs(this,"_faces"),Vs(this,"_phantom"),Vs(this,"_id"),Vs(this,"_meshPtr",null),Vs(this,"_geomPtr",null),Vs(this,"_vertLength_in",null),Vs(this,"_vertPtr_in",null),Vs(this,"_edgeLength_in",null),Vs(this,"_edgePtr_in",null),Vs(this,"_trisLength_in",null),Vs(this,"_trisPtr_in",null),Vs(this,"_polyLength_in",null),Vs(this,"_polyPtr_in",null),Vs(this,"_trisMapLength_in",null),Vs(this,"_trisMapPtr_in",null),Vs(this,"_vert_out",null),Vs(this,"_edge_out",null),Vs(this,"_face_out",null),Vs(this,"_poly_out",null),Vs(this,"_tri_map_out",null),Vs(this,"_selectedVertIds",[]),Vs(this,"_verticesDirection",new w),Vs(this,"_matVertices",new PI({vertexColors:!0,size:4,sizeAttenuation:!1})),Vs(this,"_matFaces",new kn({transparent:!0,vertexColors:!0,polygonOffset:!0,polygonOffsetFactor:Bg.FACE,polygonOffsetUnits:Bg.FACE,side:In,toneMapped:!1})),Vs(this,"_matPhantom",new b_({color:2302755,depthTest:!1})),this._id=i,this._mesh=n,this._phantom=null,this._meshPtr=o,this._geomPtr=a,this._group=new bn,this._vertices=this.makeVertices(),this._edges=this.makeEdges(),this._faces=this.makeFaces(),this._faces.renderOrder=Zl.MESHER_VIEW_FACES,this._group.add(this._vertices),this._group.add(this._edges),this._group.add(this._faces),At.USE_WASM_MESH&&this.update()}get vertWasm(){return this._vert_out}get edgeWasm(){return this._edge_out}get faceWasm(){return this._face_out}get polyWasm(){return this._poly_out}get faceMapWasm(){return this._tri_map_out}set verticesDirection(t){this._verticesDirection.copy(t)}get id(){return this._id}get vertices(){return this._vertices}get edges(){return this._edges}get faces(){return this._faces}get phantom(){return this._phantom}get root(){return this._group}setMesh(t){this._mesh=t,this.update()}makeVertices(){const t=this._mesh.vertices,e=new $n,i=new Float32Array(t.length*3),n=new $s(i,3);e.setAttribute("position",n);const o=new Float32Array(t.length*3),a=new $s(o,3);e.setAttribute("color",a);let l=0,c=0;t.forEach(d=>{i[l++]=d.position.x,i[l++]=d.position.y,i[l++]=d.position.z;const f=this._mesh.selection.ids.has(d)?Ah.selectedColor:Ah.unselectedColor;o[c++]=f.r,o[c++]=f.g,o[c++]=f.b,d.geometry=e});const h=new zw(e,this._matVertices);return h.name="vertices",h.layers=this._layerController.vertex,h}makeEdges(){const t=[],e=[],i=this._mesh.edges,n=new Ef;i.forEach(a=>{var u,f,p;if(!a.halfEdge||!((u=a.halfEdge)!=null&&u.twin))return;const l=(f=a.halfEdge)==null?void 0:f.vertex;if(!l)return;t.push(l.position.x,l.position.y,l.position.z);const c=(p=a.halfEdge)==null?void 0:p.twin.vertex;if(!c)return;t.push(c.position.x,c.position.y,c.position.z);const d=this._mesh.selection.ids.has(a)?Ah.selectedColor:Ah.unselectedColor;e.push(d.r,d.g,d.b),e.push(d.r,d.g,d.b),a.geometry=n}),n.setPositions(t),n.setColors(e);const o=new Xg(n,Te.lineMaterials.edgeLineMaterial);return o.name="edges",o.layers=this._layerController.edge,o}makeFaces(){const t=this._mesh.triangulate(),e=new $n;t.position&&t.index&&(e.setAttribute("position",t.position),e.setIndex(t.index)),t.color&&e.setAttribute("color",t.color),t.offset&&e.setAttribute("offset",t.offset),e.computeVertexNormals();const i=new re(e,this._matFaces);i.name="faces",i.layers=this._layerController.face;for(const n of this._mesh.faces)n.geometry=e;return i}makePhantom(t){if(this._phantom&&this._group.remove(this._phantom),!t)this._phantom=null;else{const e=t.clone();this._phantom=new C_(e,this._matPhantom),this._phantom.name="mesher-view-phantom",this._phantom.layers=this._layerController.phantom}this._phantom&&this._group.add(this._phantom)}update(){this._group.remove(this._vertices),this._group.remove(this._edges),this._group.remove(this._faces),At.USE_WASM_MESH?(this.getDataWasm(),this.updateSelection()):(this._vertices=this.makeVertices(),this._edges=this.makeEdges(),this._faces=this.makeFaces(),this._faces.renderOrder=Zl.MESHER_VIEW_FACES),this._group.add(this._vertices),this._group.add(this._edges),this._group.add(this._faces)}updateSelection(){this.meshController.selection!=null&&(this._selectVertices(this.meshController.selection),this._selectEdges(this.meshController.selection),this._selectFaces(this.meshController.selection))}_selectVertices(t){if(!this._vert_out)return;const e=this._vert_out,i=[],n=t.currentSelectableTypes.has(Le.VERTEX);n&&(this._selectedVertIds=[]);for(let o=0;o<e.length/3;o++){const a=n&&t.ids.has(o),l=a?Ah.selectedColor:Ah.unselectedColor;i.push(l.r,l.g,l.b),a&&this._selectedVertIds.push(o)}this._vertices.geometry.setAttribute("color",new $s(new Float32Array(i),3)),this._vertices.geometry.attributes.color.needsUpdate=!0}_selectEdges(t){if(!this._edge_out)return;const e=this._edge_out,i=[],n=t.currentSelectableTypes.has(Le.EDGE);n&&(this._selectedVertIds=[]);for(let o=0;o<e.length/2;o++){const a=n&&t.ids.has(o),l=a?Ah.selectedColor:Ah.unselectedColor;if(i.push(l.r,l.g,l.b),i.push(l.r,l.g,l.b),a){const c=e[o*2+0],h=e[o*2+1];this._selectedVertIds.push(c),this._selectedVertIds.push(h)}}this._edges.geometry.setColors(i),this._edges.geometry.attributes.instanceColorStart.needsUpdate=!0,this._edges.geometry.attributes.instanceColorEnd.needsUpdate=!0}_selectFaces(t){if(!this._poly_out)return;const e=this._poly_out,i=[],n=Ah.unselectedFaceColor;for(let d=0;d<this._faces.geometry.attributes.position.count;d++)i.push(n.r,n.g,n.b,.2);const o=new $s(new Float32Array(i),4),a=t.currentSelectableTypes.has(Le.FACE);a&&(this._selectedVertIds=[]);let l=0,c=0;const h=Ah.selectedColor;for(;l<e.length;){const d=a&&t.ids.has(c),u=e[l];l++;for(let f=0;f<u;f++)if(d){o.setXYZW(e[l+f],h.r,h.g,h.b,1);const p=e[l+f];this._selectedVertIds.push(p)}l+=u,c++}this._faces.geometry.setAttribute("color",o),this._faces.geometry.attributes.color.needsUpdate=!0}getSelectedIndexedVertices(){const t=new Set(this._selectedVertIds),e=[],i=this._vert_out;return i&&t.forEach(n=>{e.push({index:n,position:new w(i[n*3+0],i[n*3+1],i[n*3+2]),direction:this._verticesDirection.toArray()})}),e}updateVertexPositionsFromTargetsStep(t){if(!this._vert_out||!this._edge_out)return;for(const i of t)this._vertices.geometry.attributes.position.setXYZ(i.index,i.position.x,i.position.y,i.position.z),this._vertices.geometry.attributes.position.needsUpdate=!0,this._faces.geometry.attributes.position.setXYZ(i.index,i.position.x,i.position.y,i.position.z),this._faces.geometry.attributes.position.needsUpdate=!0,this._vert_out[i.index*3+0]=i.position.x,this._vert_out[i.index*3+1]=i.position.y,this._vert_out[i.index*3+2]=i.position.z;const e=[];for(let i=0;i<this._edge_out.length/2;i++){const n=this._edge_out[i*2+0],o=this._edge_out[i*2+1],a=this._vertices.geometry.attributes.position;e.push(a.getX(n),a.getY(n),a.getZ(n)),e.push(a.getX(o),a.getY(o),a.getZ(o))}this._edges.geometry.setPositions(e),this._edges.geometry.attributes.instanceStart.needsUpdate=!0,this._edges.geometry.attributes.instanceEnd.needsUpdate=!0}updateVertexPositions(){if(!this._vert_out||!this._geomPtr)return;const e=this._vertices.geometry.attributes.position.array,i=new Float32Array(e.length);i.set(e);const n=At.mallocAndSet(i),o=i.length,a=At.getUint32Buffer(this._geomPtr,1);At.update_positions({geomPtr:a,length_input_positions:o,input_positions:n}),At.free(n)}getDataWasm(){const t=new $n,e=new Ef,i=[],n=new $n;if(this._meshPtr!=null&&this._geomPtr!=null){this._vertLength_in=At.mallocPtr(),this._vertPtr_in=At.mallocPtr(),this._edgeLength_in=At.mallocPtr(),this._edgePtr_in=At.mallocPtr(),this._trisLength_in=At.mallocPtr(),this._trisPtr_in=At.mallocPtr(),this._polyLength_in=At.mallocPtr(),this._polyPtr_in=At.mallocPtr(),this._trisMapLength_in=At.mallocPtr(),this._trisMapPtr_in=At.mallocPtr();const c=At.getUint32Buffer(this._meshPtr,1),h=At.getUint32Buffer(this._geomPtr,1);At.get_mesh_entities({meshPtr:c,geomPtr:h,length_output_positions:this._vertLength_in,output_positions:this._vertPtr_in,length_output_edges:this._edgeLength_in,output_edges:this._edgePtr_in,length_output_triangles:this._trisLength_in,output_triangles:this._trisPtr_in,length_output_polygons:this._polyLength_in,output_polygons:this._polyPtr_in,length_triangles_map:this._trisMapLength_in,output_triangles_map:this._trisMapPtr_in});const d=At.getUint32Buffer(this._vertLength_in,1),u=At.getUint32Buffer(this._vertPtr_in,1);this._vert_out=At.getFloat32Buffer(u[0],d[0]);const f=new $s(new Float32Array(this._vert_out),3),p=At.getUint32Buffer(this._edgeLength_in,1),g=At.getUint32Buffer(this._edgePtr_in,1);this._edge_out=At.getUint32Buffer(g[0],p[0]);const _=At.getUint32Buffer(this._trisLength_in,1),v=At.getUint32Buffer(this._trisPtr_in,1);this._face_out=At.getUint32Buffer(v[0],_[0]);const y=new $s(this._face_out,1),b=At.getUint32Buffer(this._polyLength_in,1),C=At.getUint32Buffer(this._polyPtr_in,1);this._poly_out=At.getUint32Buffer(C[0],b[0]);const x=At.getUint32Buffer(this._trisMapLength_in,1),I=At.getUint32Buffer(this._trisMapPtr_in,1);this._tri_map_out=At.getUint32Buffer(I[0],x[0]),t.setAttribute("position",f);for(let O=0;O<this._edge_out.length;O+=2){const T=this._edge_out[O+0],D=this._edge_out[O+1];i.push(this._vert_out[T*3+0],this._vert_out[T*3+1],this._vert_out[T*3+2]),i.push(this._vert_out[D*3+0],this._vert_out[D*3+1],this._vert_out[D*3+2])}e.setPositions(i),n.setAttribute("position",f),n.setIndex(y),n.computeVertexNormals()}const o=new zw(t,this._matVertices);o.name="vertices",this._vertices=o;const a=new Xg(e,Te.lineMaterials.edgeLineMaterial);a.name="edges",this._edges=a;const l=new re(n,this._matFaces);l.name="faces",this._faces=l,this._faces.renderOrder=Zl.MESHER_VIEW_FACES}dispose(){let t=[];this._meshPtr&&t.push(this._meshPtr),this._geomPtr&&t.push(this._geomPtr),this._vertLength_in&&t.push(this._vertLength_in),this._vertPtr_in&&t.push(this._vertPtr_in),this._edgeLength_in&&t.push(this._edgeLength_in),this._edgePtr_in&&t.push(this._edgePtr_in),this._trisLength_in&&t.push(this._trisLength_in),this._trisPtr_in&&t.push(this._trisPtr_in),this._polyLength_in&&t.push(this._polyLength_in),this._polyPtr_in&&t.push(this._polyPtr_in),At.free(...t),t=[]}};Vs($b,"selectedColor",new Ge(Kh));Vs($b,"hoveredColor",new Ge(Kh));Vs($b,"unselectedColor",new Ge(Oit));Vs($b,"unselectedFaceColor",new Ge(.8,.8,.8));let qd=$b;const AG=16,TG=16;var c2t=Object.defineProperty,h2t=(s,t,e)=>t in s?c2t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,QE=(s,t,e)=>(h2t(s,typeof t!="symbol"?t+"":t,e),e);class F0{constructor(){QE(this,"halfEdge"),QE(this,"index"),QE(this,"_geometry"),this.halfEdge=null,this.index=-1}getHalfEdge(){return this.halfEdge}setHalfEdge(t){this.halfEdge=t}getIndex(){return this.index}setIndex(t){this.index=t}set geometry(t){this._geometry=t}highlightForHovered(){this._highlight(qd.hoveredColor)}highlightForSelected(){this._highlight(qd.selectedColor)}unhighlight(){this._highlight(qd.unselectedColor)}_highlight(t){if(!this._geometry)return;const e=this._geometry.getAttribute("instanceColorStart"),i=this._geometry.getAttribute("instanceColorEnd");e.isInterleavedBufferAttribute&&i.isInterleavedBufferAttribute&&(e.setXYZ(this.index,t.r,t.g,t.b),i.setXYZ(this.index,t.r,t.g,t.b),e.data.needsUpdate=!0)}isWithinFrustum(t){var e,i;if((e=this.halfEdge)!=null&&e.vertex&&((i=this.halfEdge.twin)!=null&&i.vertex)){const n=this.halfEdge.vertex.position,o=this.halfEdge.twin.vertex.position,a=new w().copy(n).add(o).multiplyScalar(.5);return[t.frustum.containsPoint(a),a]}return[!1]}vertices(){const t=[];return this.halfEdge&&this.halfEdge.twin&&this.halfEdge.vertex&&this.halfEdge.twin.vertex&&(t.push(this.halfEdge.vertex),t.push(this.halfEdge.twin.vertex)),t}raycast(t,e,i,n,o,a){if(this.halfEdge&&this.halfEdge&&this.halfEdge.vertex&&this.halfEdge.twin&&this.halfEdge.twin.vertex){const l=this.halfEdge.vertex.position,c=this.halfEdge.twin.vertex.position,h=new w;if(e.distanceSqToSegment(l,c,n,h),t.projectWorldToVP(h,o),t.projectWorldToVP(n,a),o.distanceTo(a)>AG)return null;const d=l.distanceTo(h)/l.distanceTo(c),u=e.origin.distanceTo(h);return{edge:this,point:h,distance:u,factor:d}}return null}computeFactor(t){var o,a,l;if(!((o=this.halfEdge)!=null&&o.vertex&&((l=(a=this.halfEdge)==null?void 0:a.twin)!=null&&l.vertex)))return null;const e=this.halfEdge.vertex.position,i=this.halfEdge.twin.vertex.position;return e.distanceTo(t)/e.distanceTo(i)}copy(){return{ref:this,diff:{halfEdge:this.halfEdge}}}}function sO(s){let t=s.x.toFixed(6);Math.sign(Number(t))===0&&(t=0 .toFixed(6));let e=s.y.toFixed(6);Math.sign(Number(e))===0&&(e=0 .toFixed(6));let i=s.z.toFixed(6);return Math.sign(Number(i))===0&&(i=0 .toFixed(6)),`x${t}y${e}z${i}`}const d2t=new w,u2t=new w;function f2t(s,t=new w){t.set(0,0,0);const e=s.length;for(let i=0;i<e;i++){const n=s[i],o=s[(i+1)%e],a=d2t.subVectors(n,o),l=u2t.addVectors(n,o);t.x+=a.y*l.z,t.y+=a.z*l.x,t.z+=a.x*l.y}return t.normalize()}var p2t=Object.defineProperty,m2t=(s,t,e)=>t in s?p2t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,w2=(s,t,e)=>(m2t(s,typeof t!="symbol"?t+"":t,e),e);class B0{constructor(){w2(this,"halfEdge"),w2(this,"index"),w2(this,"_geometry"),w2(this,"_v3A",new w),this.halfEdge=null,this.index=-1}getHalfEdge(){return this.halfEdge}setHalfEdge(t){this.halfEdge=t}getIndex(){return this.index}setIndex(t){this.index=t}getGeometry(){return this._geometry}set geometry(t){this._geometry=t}highlightForHovered(){this._highlight(qd.hoveredColor,.25)}highlightForSelected(){this._highlight(qd.selectedColor,.5)}unhighlight(){this._highlight(qd.unselectedFaceColor,.2)}isWithinFrustum(t){const e=this.vertices(),i=this._v3A;i.set(0,0,0);for(const o of e)i.add(o.position);return i.divideScalar(e.length),[t.frustum.containsPoint(i),i]}_highlight(t,e){if(!this._geometry)return;const i=this._geometry.attributes.color;if(!i.isBufferAttribute)return;const n=this._geometry.attributes.offset;if(!n.isBufferAttribute)return;const o=n.getX(this.index),a=this.vertices().length;for(let l=0;l<a;l++){const c=o*4+l*4;i.set([t.r,t.g,t.b,e],c)}i.needsUpdate=!0}vertices(){const t=[],e=this.halfEdge;let i=e;do if(i&&i.next&&i.vertex)t.push(i.vertex),i=i.next;else break;while(i!==e);return t}edges(){const t=[],e=this.halfEdge;let i=e;do if(i&&i.next&&i.edge)t.push(i.edge),i=i.next;else break;while(i!==e);return t}halfEdges(){const t=[],e=this.halfEdge;let i=e;do if(i&&i.next)t.push(i),i=i.next;else break;while(i!==e);return t}halfEdgeWithVertex(t){const e=this.halfEdge;let i=e;do if(i&&i.next&&i.vertex){if(i.vertex===t)return i;i=i.next}else break;while(i!==e);return null}faceNormal(t=new w){const e=this.vertices().map(i=>i.position);return f2t(e,t),t}raycast(t){if(!this.halfEdge)return null;const e=this.halfEdge;if(!e)return null;let i=e.next;if(!i)return null;let n=i.next;if(!n)return null;let o=new w,a=new w,l=new w,c=null;const h=new w;do{if(!(e!=null&&e.vertex)||!(i!=null&&i.vertex)||!(n!=null&&n.vertex)||(o=e.vertex.position,a=i.vertex.position,l=n.vertex.position,c=t.intersectTriangle(o,a,l,!1,h),c!=null)||(i=n,!n||!i))break;n=n.next}while(n!=e);if(c==null)return null;const d=t.origin.distanceTo(h);return{face:this,point:h,distance:d}}copy(){return{ref:this,diff:{halfEdge:this.halfEdge}}}triangulate(t,e=!1){const i=[];let n=[];const o=this.vertices(),a=[],l=[],c=[],h=new Ge(Kh);for(let d=0;d<o.length;d++)i.push(...o[d].position.toArray()),a.push(d+t),c.push(0,0),e?l.push(h.r,h.g,h.b,.5):l.push(.8,.8,.8,.2);if(o.length===4)n=[0+t,1+t,3+t,3+t,1+t,2+t];else if(o.length===3)n=[0+t,1+t,2+t];else{n=this.triangulatePolygon(o);for(let d=0;d<n.length;d++)n[d]+=t}return{position:i,index:n,polygon:a,color:l,uv:c}}triangulatePolygon(t){const e=new Float32Array(t.length*3);let i=0;for(let u=0;u<t.length;u++)e.set(t[u].position.toArray(),i),i+=3;const n=e.length,o=At.mallocAndSet(e),a=At.mallocPtr(),l=At.mallocPtr();At.triangulate3d({length_input_positions:n,input_positions:o,length_output_triangles:a,output_triangles:l});const c=At.getUint32Buffer(a,1),h=At.getUint32Buffer(l,1),d=At.getUint32Buffer(h[0],c[0]);return At.free(o,a,l),Array.from(d)}}var g2t=Object.defineProperty,_2t=(s,t,e)=>t in s?g2t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Pv=(s,t,e)=>(_2t(s,typeof t!="symbol"?t+"":t,e),e);let jy=class{constructor(){Pv(this,"halfEdge"),Pv(this,"index"),Pv(this,"position",new w),Pv(this,"direction"),Pv(this,"_geometry"),this.halfEdge=null,this.index=-1,this.direction=[]}getIndex(){return this.index}setIndex(t){this.index=t}getHalfEdge(){return this.halfEdge}setHalfEdge(t){this.halfEdge=t}highlightForHovered(){this._highlight(qd.hoveredColor)}highlightForSelected(){this._highlight(qd.selectedColor)}unhighlight(){this._highlight(qd.unselectedColor)}_highlight(t){if(!this._geometry)return;const e=this._geometry.attributes.color;e&&e.isBufferAttribute&&(e.set([t.r,t.g,t.b],this.index*3),e.needsUpdate=!0)}set geometry(t){this._geometry=t}isWithinFrustum(t){return[t.frustum.containsPoint(this.position),this.position.clone()]}vertices(){const t=[],e=this.halfEdge;let i=e;if(!i)return t;do if(i&&i.twin&&i.twin.vertex){if(t.push(i.twin.vertex),!i.twin.next)break;i=i.twin.next}else break;while(i!==e);return t}halfEdges(){const t=[],e=this.halfEdge;let i=e;if(!i)return t;do if(i&&i.twin){if(t.push(i),!i.twin.next)break;i=i.twin.next}else break;while(i!==e);return t}faces(){const t=[],e=this.halfEdge;let i=e;do if(i&&i.twin&&i.twin.face)t.push(i.twin.face),i=i.twin.next;else break;while(i!==e);return t}raycast(t,e,i,n,o,a){if(i.copy(this.position),e.closestPointToPoint(i,n),t.projectWorldToVP(i,o),t.projectWorldToVP(n,a),o.distanceTo(a)>TG)return null;const l=e.origin.distanceTo(i);return{vertex:this,point:i,distance:l}}copy(){return{ref:this,diff:{position:this.position.toArray(),halfEdge:this.halfEdge}}}};var PG=Object.defineProperty,v2t=Object.getOwnPropertyDescriptor,y2t=(s,t,e)=>t in s?PG(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,yi=(s,t,e,i)=>{for(var n=i>1?void 0:i?v2t(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&PG(t,e,n),n},Ov=(s,t,e)=>(y2t(s,typeof t!="symbol"?t+"":t,e),e);class Rs{constructor(t,e){this._editor=t,this._onChange=e,Ov(this,"sceneEntityIds",new Set),Ov(this,"vertexIds",new Set),Ov(this,"edgeIds",new Set),Ov(this,"faceIds",new Set),Ov(this,"_isMutating",!1),vt(this),this._editor.signals.object.removed.add(({entity:i})=>{this.remove(i)})}_dispatchChanged(){this._isMutating||this._onChange(this)}set(t){return t instanceof Array&&(t=new Set(t)),t instanceof Set||(t=new Set([t])),as.setsAreEqual(t,this.all)?!1:(t.size!==0&&(this._isMutating=!0),this.removeAll(),this.add(t),!0)}add(t){t instanceof Array||t instanceof Set||(t=[t]),this._isMutating=!0;let e=!1;for(const i of t)i instanceof Je?e=this.addSceneEntity(i)||e:i instanceof jy?e=this.addVertex(i)||e:i instanceof F0?e=this.addEdge(i)||e:i instanceof B0&&(e=this.addFace(i)||e);return this._isMutating=!1,e&&this._dispatchChanged(),e}remove(t){t instanceof Array||(t=[t]),this._isMutating=!0;let e=!1;for(const i of t)i instanceof Je?e=this.removeSceneEntity(i)||e:i instanceof jy?e=this.removeVertex(i)||e:i instanceof F0?e=this.removeEdge(i)||e:i instanceof B0&&(e=this.removeFace(i)||e);return this._isMutating=!1,e&&this._dispatchChanged(),e}get all(){return new Set([...this.sceneEntities,...this.vertices,...this.edges,...this.faces])}removeAll(){const t=!this.isEmpty;return this.sceneEntityIds.clear(),this.vertexIds.clear(),this.edgeIds.clear(),this.faceIds.clear(),t&&this._dispatchChanged(),t}get isEmpty(){return this.sceneEntityIds.size===0&&this.vertexIds.size===0&&this.edgeIds.size===0&&this.faceIds.size===0}has(t){t instanceof Array||(t=[t]);for(const e of t){if(e instanceof Je&&this.hasSceneEntity(e))return!0;if(e instanceof jy&&this.hasVertex(e))return!0;if(e instanceof F0&&this.hasEdge(e))return!0;if(e instanceof B0&&this.hasFace(e))return!0}return!1}get lastSceneEntity(){return as.getLastValueInSet(this.sceneEntities)}get sceneEntities(){const t=new Set;for(const e of this.sceneEntityIds){const i=this._editor.sceneController.getSceneEntityById(e);i&&t.add(i)}return t}get sceneEntitiesWithMesh(){return[...this.sceneEntities].filter(t=>{const e=t.getComponent(Wi);return e&&e.base})}get sceneEntitiesWithCurve(){return[...this.sceneEntities].filter(t=>!!t.getComponent(si))}get sceneEntitiesWithText(){return[...this.sceneEntities].filter(t=>!!t.getComponent(zr))}get meshParts(){return[...this.vertices,...this.edges,...this.faces]}addSceneEntity(t){const{id:e}=t,i=this._editor.sceneController.hasSceneEntity(e);return this.sceneEntityIds.has(e)||!i?!1:(this.sceneEntityIds.add(e),this._dispatchChanged(),!0)}removeSceneEntity(t){const e=this.sceneEntityIds.delete(t.id);return e&&this._dispatchChanged(),e}hasSceneEntity(t){return this.sceneEntityIds.has(t.id)}get vertices(){var e;const t=new Set;for(const i of this.vertexIds){const n=(e=this._editor.meshController)==null?void 0:e.getVertexById(i);n&&t.add(n)}return t}addVertex(t){const{index:e}=t;return this.vertexIds.has(e)?!1:(this.vertexIds.add(e),this._dispatchChanged(),!0)}removeVertex(t){const e=this.vertexIds.delete(t.index);return e&&this._dispatchChanged(),e}hasVertex(t){return this.vertexIds.has(t.index)}get lastVertex(){return as.getLastValueInSet(this.vertices)}get edges(){var e;const t=new Set;for(const i of this.edgeIds){const n=(e=this._editor.meshController)==null?void 0:e.getEdgeById(i);n&&t.add(n)}return t}addEdge(t){const{index:e}=t;return this.edgeIds.has(e)?!1:(this.edgeIds.add(e),this._dispatchChanged(),!0)}removeEdge(t){const e=this.edgeIds.delete(t.index);return e&&this._dispatchChanged(),e}hasEdge(t){return this.edgeIds.has(t.index)}get lastEdge(){return as.getLastValueInSet(this.edges)}get faces(){var e;const t=new Set;for(const i of this.faceIds){const n=(e=this._editor.meshController)==null?void 0:e.getFaceById(i);n&&t.add(n)}return t}addFace(t){const{index:e}=t;return this.faceIds.has(e)?!1:(this.faceIds.add(e),this._dispatchChanged(),!0)}removeFace(t){const e=this.faceIds.delete(t.index);return e&&this._dispatchChanged(),e}hasFace(t){return this.faceIds.has(t.index)}get lastFace(){return as.getLastValueInSet(this.faces)}}yi([V],Rs.prototype,"sceneEntityIds",2);yi([V],Rs.prototype,"vertexIds",2);yi([V],Rs.prototype,"edgeIds",2);yi([V],Rs.prototype,"faceIds",2);yi([E],Rs.prototype,"set",1);yi([E],Rs.prototype,"add",1);yi([E],Rs.prototype,"remove",1);yi([M],Rs.prototype,"all",1);yi([E],Rs.prototype,"removeAll",1);yi([M],Rs.prototype,"isEmpty",1);yi([M],Rs.prototype,"lastSceneEntity",1);yi([M],Rs.prototype,"sceneEntities",1);yi([M],Rs.prototype,"sceneEntitiesWithMesh",1);yi([M],Rs.prototype,"sceneEntitiesWithCurve",1);yi([M],Rs.prototype,"sceneEntitiesWithText",1);yi([M],Rs.prototype,"meshParts",1);yi([E],Rs.prototype,"addSceneEntity",1);yi([E],Rs.prototype,"removeSceneEntity",1);yi([M],Rs.prototype,"vertices",1);yi([E],Rs.prototype,"addVertex",1);yi([E],Rs.prototype,"removeVertex",1);yi([M],Rs.prototype,"lastVertex",1);yi([M],Rs.prototype,"edges",1);yi([E],Rs.prototype,"addEdge",1);yi([E],Rs.prototype,"removeEdge",1);yi([M],Rs.prototype,"lastEdge",1);yi([M],Rs.prototype,"faces",1);yi([E],Rs.prototype,"addFace",1);yi([E],Rs.prototype,"removeFace",1);yi([M],Rs.prototype,"lastFace",1);var OG=Object.defineProperty,b2t=Object.getOwnPropertyDescriptor,C2t=(s,t,e)=>t in s?OG(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,I1=(s,t,e,i)=>{for(var n=i>1?void 0:i?b2t(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&OG(t,e,n),n},Mv=(s,t,e)=>(C2t(s,typeof t!="symbol"?t+"":t,e),e);class zf{constructor(t,e=t.signals.selection){this._editor=t,this._signals=e,Mv(this,"_disposable",new Zt),Mv(this,"currentSelectableTypes",new Set([Le.SCENE_ENTITY])),Mv(this,"selectedCollection",new Rs(this._editor,i=>this._signals.selectionChanged.dispatch({selection:i}))),Mv(this,"hoveredCollection",new Rs(this._editor,i=>this._signals.hoverChanged.dispatch({selection:i}))),Mv(this,"_isTransformingSelection",!1),vt(this),this._disposable.add(this._addSignalBindings()),this._disposable.add(new tt(()=>{this.selectedCollection.removeAll(),this.hoveredCollection.removeAll()}))}dispose(){this._disposable.dispose()}get isTransformingSelection(){return this._isTransformingSelection}setIsTransformingSelection(t){this._isTransformingSelection=t}setSelectableTypes(...t){this.currentSelectableTypes.clear();for(const e of t)this.currentSelectableTypes.add(e);this._signals.selectableTypesChanged.dispatch({selectableTypes:this.currentSelectableTypes})}addSelectableType(t){this.currentSelectableTypes.add(t),this._signals.selectableTypesChanged.dispatch({selectableTypes:this.currentSelectableTypes})}get currentSelectableTypesHasMeshType(){return this.currentSelectableTypes.has(Le.VERTEX)||this.currentSelectableTypes.has(Le.EDGE)||this.currentSelectableTypes.has(Le.FACE)}get firstSelectedSceneEntity(){const{sceneEntities:t}=this.selectedCollection;if(t.size===0)return null;const[e]=t;return e}_addSignalBindings(){const t=[],{signals:e}=this._editor;return t.push(e.command.cameraNavigationStarted.add(()=>{this.hoveredCollection.removeAll()})),t.push(e.gizmo.hovered.add(()=>{this.hoveredCollection.removeAll()})),t.push(e.mesher.meshEditModeEntered.add(()=>this.selectedCollection.removeAll())),t.push(e.mesher.meshEditModeExited.add(({meshView:i})=>{const n=this._editor.sceneController.getSceneEntityById(i.id);n&&this.selectedCollection.addSceneEntity(n)})),new tt(()=>{for(const i of t)i.detach()})}getCurrentSelectableObjects(t,e=!1,i=this.currentSelectableTypes){var o;return(o=this._editor.meshController)!=null&&o.isActive?this._editor.meshController.getCurrentSelectableObjects(t,i):this._editor.sceneController.getCurrentSelectableObjects(t,i,e)}}I1([V],zf.prototype,"currentSelectableTypes",2);I1([V],zf.prototype,"_isTransformingSelection",2);I1([E],zf.prototype,"setIsTransformingSelection",1);I1([E],zf.prototype,"setSelectableTypes",1);I1([E],zf.prototype,"addSelectableType",1);I1([M],zf.prototype,"currentSelectableTypesHasMeshType",1);I1([M],zf.prototype,"firstSelectedSceneEntity",1);var w2t=Object.defineProperty,x2t=(s,t,e)=>t in s?w2t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,JE=(s,t,e)=>(x2t(s,typeof t!="symbol"?t+"":t,e),e);class E2t{constructor(t,e){this.editor=t,this._stateController=e,JE(this,"_undoStack"),JE(this,"_redoStack"),JE(this,"_depth",FN),this._undoStack=new $d(this._depth),this._redoStack=new $d(this._depth)}push(t){this._undoStack.push(t),this._redoStack.size()>0&&this._redoStack.clear()}undo(t){const e=this._undoStack.pop();if(e==null)return null;const i=e.before,n=e.after,o=Px(this.editor.sceneController,n);e.after=o;let a=!1;return n&&i&&(a=Tx(this.editor.sceneController,this._stateController,this.editor.signals,i,t,n)),a&&(this.editor.signals.gizmo.changed.dispatch(),i.selection&&!i.preventReselectPrevious&&this.editor.selectionController.selectedCollection.set(i.selection),this.editor.sceneController.hierarchy.build()),this._redoStack.push(e),i.selection??null}redo(t){const e=this._redoStack.pop();if(e==null)return null;const i=e.after,n=e.before,o=Px(this.editor.sceneController,n);e.before=o;let a=!1;return n&&i&&(a=Tx(this.editor.sceneController,this._stateController,this.editor.signals,i,t,n)),a&&(this.editor.signals.gizmo.changed.dispatch(),i.selection&&this.editor.selectionController.selectedCollection.set(i.selection),this.editor.sceneController.hierarchy.build()),this._undoStack.push(e),i.selection??null}peekUndo(){return this._undoStack.peek()}peekRedo(){return this._redoStack.peek()}get undoCount(){return this._undoStack.size()}get redoCount(){return this._redoStack.size()}}var S2t=Object.defineProperty,I2t=(s,t,e)=>t in s?S2t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,A2t=(s,t,e)=>(I2t(s,t+"",e),e);class cu{constructor(t,e=[],i=[],n=!0){this.name=t,this.objectProperties=e,this.materialProperties=i,this.isUndoable=n,A2t(this,"_id"),this._id=Ht()}get id(){return this._id}getName(){return this.name}recordBefore(t,e,i){if(!this.isUndoable)return null;const n=Jh(t,i);return Jl(e,n,this.objectProperties,this.materialProperties)}recordAfter(t,e,i){if(!this.isUndoable)return null;const n=Jh(t,i);return Jl(e,n,this.objectProperties,this.materialProperties)}}function Jh(s,t){let e=new Set(s);const i=t==null?void 0:t.selection,n=t==null?void 0:t.ids;if(i!=null&&(e=new Set,i.forEach(o=>e.add(o.entity.id))),n!=null)for(const o of n)e.add(o);return e}async function T2t(s,t,e){const i=t.materialController,n=[];for(const o of s){const a=i.materials[o];if(a==null)continue;const{id:l,name:c,team:h,file:d,data:u}=a;n.push({id:l,name:c,team:h,file:d,data:JSON.stringify(u),lastWriter:e.lastWriter})}await Vb(n)}async function MG(s,t,e,i){const n=[],o=[];for(const a of t){const l=e.getSceneEntityById(a);if(!l)continue;const c=l.getComponent(_e),h=c==null?void 0:c.material;if(!h)continue;if(!h.hasCurrentPropertiesSetFromState){const{id:f,name:p,team:g,file:_,materialData:v}=h,y=e.materialController.getMaterialPreview(f)||null;y&&y.urlKey&&(v.preview={lg:y.urlKey}),o.push({id:f,name:p,team:g,file:_,data:JSON.stringify(v),lastWriter:i.lastWriter})}const d=l.sceneObject;if(!d)continue;d.lastUpdated=i.lastUpdated,d.lastWriter=i.lastWriter;const u={...d.clone(),...i};n.push(u),VA(l,n,e,i)}await Ws(n),await Vb(o)}async function VA(s,t,e,i){if(s.compo.isComponentRoot||!s.isPartOfComponent)return;const n=s.sceneObject,o=s.compo.getOldestAncestorComponentRoot();return o&&n.asset&&wB(o,e,i),await Promise.resolve()}var P2t=Object.defineProperty,O2t=(s,t,e)=>t in s?P2t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,M2t=(s,t,e)=>(O2t(s,t+"",e),e);class HA extends cu{constructor(){super(...arguments),M2t(this,"ids",new Set)}recordBefore(t,e){return n1(e,new Set)}async perform(t,e,i,n){this.ids.clear();const o=[];for(const a of n.ids){const l=e.getSceneEntityById(a);if(!l)continue;const c=l.sceneObject;this.ids.add(a);const h={...c.clone(),...i};o.push(h)}await Gb(o)}recordAfter(t,e){return n1(e,this.ids)}}class L2t extends HA{recordBefore(t,e){return n1(e,t)}async perform(t,e,i,n){await super.perform(t,e,i,n);for(const o of n.otherIds)await D5(o)}}class Os extends cu{async perform(t,e,i,n){const o=Jh(t,n),a=[];for(const l of o){const c=e.getSceneEntityById(l);if(!c)continue;const d={...c.sceneObject.clone(),...i};a.push(d),VA(c,a,e,i)}await Ws(a)}}class R2t extends Os{constructor(t){super(t,[],[],!1)}async perform(t,e,i,n){if(n.action===P.COMPONENT_ADD)for(const o of n.ids){const a=e.getSceneEntityById(o);a&&n.assetId&&(a.sceneObject.asset=a.sceneObject.asset??yA(n.assetId,a.id))}await super.perform(n.ids,e,i)}}class UA extends cu{recordBefore(t,e,i){return i==null?null:{data:{comments:i.comments}}}recordAfter(t,e,i){return i==null?null:{data:{comments:i.comments}}}}class N2t extends UA{perform(t,e,i,n){if(n!=null)for(const{comment:o}of n.comments)o!=null&&pF(o)}}class j2t extends cu{recordBefore(t,e,i){const n=Jh(t,i);return n1(e,n)}async perform(t,e,i,n){const{sceneObjects:o}=n;await wD(o);for(const a of o)a.asset&&!a.isInstance&&xB(a,e)}recordAfter(t,e){return n1(e,new Set)}}class D2t extends UA{perform(t,e,i,n){if(n!=null)for(const{id:o}of n.comments)mF(o)}}var F2t=Object.defineProperty,B2t=(s,t,e)=>t in s?F2t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,iO=(s,t,e)=>(B2t(s,typeof t!="symbol"?t+"":t,e),e);const c_=["parent","position","rotation","scale","states","index"];class LG extends Os{constructor(){super(...arguments),iO(this,"ids",new Set),iO(this,"groupId","")}recordBefore(t,e){return Jl(e,t,c_)}async perform(t,e,i,n){this.ids=n.ids,this.groupId=n.groupId;const o=e.getSceneEntityById(this.groupId);if(o!=null){const a={...o.sceneObject.clone(),...i};await CD(this.groupId,a)}await super.perform(n.ids,e,i)}recordAfter(t,e){const i=Jl(e,this.ids,c_),n=e.getSceneEntityById(this.groupId);return n!=null?i.data.objects&&(i.data.objects[this.groupId]={...n.sceneObject.clone()}):console.warn("Group object was not found."),i}}class k2t extends LG{}var G2t=Object.defineProperty,V2t=(s,t,e)=>t in s?G2t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,H2t=(s,t,e)=>(V2t(s,t+"",e),e);const U2t=["position","rotation","scale","parameters"];class z2t extends Os{constructor(){super(...arguments),H2t(this,"ids",new Set)}_makeRecord(t,e){const i=Jh(t),n=new Set;for(const a of i){const l=e.sceneEntitiesById[a];if(l){n.add(a);for(const c of l.allChildren)n.add(c.id)}}return Jl(e,n,U2t)}recordBefore(t,e){return this._makeRecord(t,e)}async perform(t,e,i,n){const o=Jh(t,n),a=new Set(o);for(const c of o){const h=e.getSceneEntityById(c);if(h)for(const d of h.allChildren)a.add(d.id)}const l=[];for(const c of a){const h=e.getSceneEntityById(c);if(!h)continue;const u={...h.sceneObject.clone(),...i};l.push(u),VA(h,l,e,i)}await Ws(l)}recordAfter(t,e){return this._makeRecord(t,e)}}var Y2t=Object.defineProperty,W2t=(s,t,e)=>t in s?Y2t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,X2t=(s,t,e)=>(W2t(s,t+"",e),e);const nO=[...c_,"parameters"];class Z2t extends Os{constructor(){super(...arguments),X2t(this,"ids",new Set)}recordBefore(t,e,i){const n=Jh(t,i),o={data:{objects:{}}};for(const a of n){const l=e.sceneEntitiesById[a];if(!l)continue;const c=new Set;for(const d of l.allChildren)c.add(d.id);const h=Jl(e,c,nO);o.data.objects={...o.data.objects,...h.data.objects,[a]:{...l.sceneObject.clone()}}}return o}async perform(t,e,i,n){this.ids=n.ids;for(const o of n.ids){const a=e.sceneEntitiesById[o];if(a)for(const l of a.allChildren)this.ids.add(l.id)}await super.perform(n.ids,e,i)}recordAfter(t,e){return Jl(e,this.ids,nO)}}class K2t extends cu{constructor(t=P.MATERIAL_MAP,e=!0){super(t,[],[],e)}async perform(t,e,i,n){const o=Jh(t,n);return MG(this.name,o,e,i),await Promise.resolve()}}class q2t extends Os{constructor(t=P.MESH_MODIFY){super(t,[],[],!1)}recordBefore(t,e,i){if(!(i!=null&&i.selection))return null;const n=i.selection.map(l=>l.entity.id);if(n.length<1)return null;const o=n[0];return Jl(e,new Set([o]),["lastGeometryUpdated"])}async perform(t,e,i,n){await super.perform(n.ids,e,i,n)}recordAfter(t,e,i){if(!(i!=null&&i.selection))return null;const n=i.selection.map(l=>l.entity.id);if(n.length<1)return null;const o=n[0];return Jl(e,new Set([o]),["lastGeometryUpdated"])}}class Q2t extends HA{async perform(t,e,i,n){n.ids.add(n.groupId),await super.perform(t,e,i,n)}}class J2t extends cu{async perform(t,e,i,n){const o=n==null?void 0:n.sceneObjects;if(!o||o.length<1)return;const a=[];for(const c of o){const h={...c,...i};a.push(h)}if(a.length<1)return;const l=n.sourceFileIdsByObjectId;if(l!=null){const c=pi.fileID,h=a.reduce((d,u)=>{const f=l.get(u.id);return f==null?d[c].push(u):d[f]==null?d[f]=[u]:d[f].push(u),d},{[c]:[]});for(const[d,u]of Object.entries(h))await Ws(u,d)}else await Ws(a);if(n.updatedMaterialIds&&await T2t(n.updatedMaterialIds,e,i),n.instanceComponent){const c=n.instanceComponent,h=c.entity.compo.getRoot(),d=[];h==null||h.forThisAndEachChildRecursive(f=>{const p=f.getComponent(Js);return p==null||d.push({...f.sceneObject.activeValues(),isInstance:!1,id:p.componentEntity.id}),!1});const u=c.entity.compo.getRoot();u!=null&&wB(u,e,i,d)}}}var $2t=Object.defineProperty,twt=(s,t,e)=>t in s?$2t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,ewt=(s,t,e)=>(twt(s,t+"",e),e);const oO=[...c_,"constraint"];class swt extends Os{constructor(){super(...arguments),ewt(this,"ids",new Set)}recordBefore(t,e){return Jl(e,t,oO)}async perform(t,e,i,n){this.ids=n.ids,await super.perform(n.ids,e,i)}recordAfter(t,e){return Jl(e,this.ids,oO)}}class Sl extends cu{constructor(t,e=[]){super(t,[],[]),this.sceneProperties=e}recordBefore(t,e){const i={data:{}};for(const n of this.sceneProperties){let o=e.scene[n];L0(o)&&(o=o.baseValues()),i.data[n]=hs(o)}return i}async perform(t,e,i,n){const o=e.scene.baseValues();if(!o)return;const a={...o,...i};return Aa(pi.fileID,a),await Promise.resolve()}recordAfter(t,e){const i={data:{}};for(const n of this.sceneProperties){let o=e.scene[n];L0(o)&&(o=o.baseValues()),i.data[n]=hs(o)}return i}}var iwt=Object.defineProperty,nwt=(s,t,e)=>t in s?iwt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,rO=(s,t,e)=>(nwt(s,typeof t!="symbol"?t+"":t,e),e);class owt extends Os{constructor(){super(...arguments),rO(this,"ids",new Set),rO(this,"groupIds",[])}recordBefore(t,e,i){const n=Jh(t,i),o={data:{objects:{}}};for(const a of n){const l=e.sceneEntitiesById[a];if(!l)continue;const c=l.getComponent(Fs);if(!c)continue;const h=new Set;for(const u of c.childEntities)h.add(u.id);const d=Jl(e,h,c_);o.data.objects={...o.data.objects,...d.data.objects,[a]:{...l.sceneObject.clone()}}}return o}async perform(t,e,i,n){this.ids=n.ids,this.groupIds=n.groupIds;for(const o of this.groupIds)await D5(o);await super.perform(n.ids,e,i,n)}recordAfter(t,e){return Jl(e,this.ids,c_)}}const rwt=new Set(["id","lastWriter","lastUpdated","version","collapsed","type","urlKey","parent"]),awt=as.getKeys(Do).concat(["material"]).filter(s=>!rwt.has(s));class lwt extends Os{constructor(t){super(t,awt,[]),this.action=t}async perform(t,e,i,n){for(const o of n.ids){const a=e.getSceneEntityById(o);a&&(a.sceneObject.asset=n.assetId??null,a.sceneObject.isInstance=n.isInstance??!1)}await super.perform(n.ids,e,i)}}class cwt extends UA{perform(t,e,i,n){if(n!=null)for(const{id:o,comment:a}of n.comments)a!=null&&Eg(o,a)}}class hwt extends Os{recordBefore(t,e,i){const n=super.recordBefore(t,e,i);return n==null?null:((i==null?void 0:i.action)===P.INTERACTIONS&&i.selection&&i.selection.length>1&&(n.preventReselectPrevious=!0),n)}}class _p extends cu{constructor(t,e){super(t,[],e)}async perform(t,e,i,n){const o=Jh(t,n);return MG(this.name,o,e,i),await Promise.resolve()}}var dwt=Object.defineProperty,uwt=(s,t,e)=>t in s?dwt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,fwt=(s,t,e)=>(uwt(s,t+"",e),e);class pwt extends cu{constructor(){super(...arguments),fwt(this,"ids",new Set)}recordBefore(t,e,i){const n=Jh(t,i);return n1(e,n)}async perform(t,e,i,n){const{objectsToDelete:o,objectsToCreate:a,objectsToUpdate:l}=n;await wD(o);for(const h of o)h.asset&&!h.isInstance&&xB(h,e);this.ids.clear();const c=[];for(const h of a){const d=e.getSceneEntityById(h);if(!d)continue;const u=d.sceneObject;this.ids.add(h);const f={...u.clone(),...i};c.push(f)}await Gb(c),await Ws(l)}recordAfter(t,e){return n1(e,this.ids)}}class aO extends cu{async perform(t,e,i,n){const o=n==null?void 0:n.sceneObjects;if(!o||o.length<1)return;const a=[];for(const l of o){const c={...l,...i};a.push(c)}a.length<1||await Ws(a)}}function M6(s){switch(s){case P.NEW_SHAPE:case P.NEW_IMAGE:case P.NEW_CAMERA:case P.NEW_SOUND:case P.DUPLICATE:case P.DUPLICATE_AND_TRANSFORM:case P.PASTE:return new HA(s);case P.NEW_MODEL:return new Q2t(s);case P.NEW_BOOLEAN:return new L2t(s);case P.MESH_MODIFY:return new q2t(s);case P.FRAME:return new k2t(s);case P.FRAME_ANCHOR:return new Os(s,["constraint","parameters","position","rotation","scale"]);case P.FRAME_CONSTRAIN_CHILDREN:return new z2t(s);case P.FRAME_FIT_CHILDREN:return new Z2t(s);case P.GROUP:return new LG(s);case P.UNGROUP:return new owt(s);case P.REORDER:return new swt(s);case P.DELETE:return new j2t(s);case P.REPLACE_SHAPE:return new pwt(s);case P.NAME:return new Os(s,["name"]);case P.TRANSFORM:return new Os(s,["position","rotation","scale"]);case P.LOCKED_SCALE:return new Os(s,["isScaleLinked"]);case P.METADATA:return new Os(s,["_metadata"]);case P.STATE_METADATA:return new Os(s,["states","_metadata"]);case P.STATE_AND_INTERACTIONS_ADD:case P.STATE_ADD:case P.STATE_DELETE:return new Os(s,["states","activeState","startState","interactions","_metadata"]);case P.ACTIVE_STATE:return new Os(s,["activeState"]);case P.START_STATE:return new Os(s,["startState"]);case P.PARAMETERS:return new Os(s,["parameters"]);case P.COLLIDER:return new Os(s,["colliders"]);case P.APPLY_SCALE:return new Os(s,["parameters","scale"]);case P.RESIZE_TO_TEXTURE:return new Os(s,["parameters","scale"]);case P.PARAMETERS_TRANSFORM:return new Os(s,["parameters","position","rotation","scale"]);case P.PARAMETERS_CAMERA_BOOKMARK:return new Os(s,["parameters","_metadata"]);case P.SUBDIVISION:return new Os(s,["subdivisions"]);case P.LAYER_OPACITY:return new Os(s,["layerOpacity"]);case P.VIEW_SETTINGS:return new Os(s,["viewSettings"]);case P.INTERACTIVE:return new Os(s,["isInteractive"]);case P.VISIBILITY:return new Os(s,["isVisible"]);case P.LOCK:return new Os(s,["isLocked"]);case P.COMPONENT_ADD:return new R2t(s);case P.INSTANCE_UNLINK:return new lwt(s);case P.COMPONENT_UPDATE:return new aO(s);case P.INSTANCE_OVERRIDE:return new aO(s);case P.INSTANCE_PUSH_TO_MAIN:return new J2t(s);case P.INTERACTIONS:return new hwt(s,["interactions","_metadata"]);case P.ANIMATION_ACTIVE:return new Os(s,["activeImportedAnimation"]);case P.ANIMATION_PARAMS:return new Os(s,["importedAnimations"]);case P.MATERIAL:return new Os(s,["material"]);case P.COLOR:return new _p(s,["color"]);case P.OPACITY:return new _p(s,["opacity"]);case P.ROUGHNESS:return new _p(s,["roughness"]);case P.METALNESS:return new _p(s,["metalness"]);case P.NORMAL:return new _p(s,["normal"]);case P.MATERIAL_MASK:return new _p(s,["mask"]);case P.MATERIAL_TYPE:return new _p(s,["lightingModel"]);case P.ADVANCED_EFFECTS:return new _p(s,["advancedEffects"]);case P.MATERIAL_MAP:return new K2t(s);case P.BACKGROUND:return new Sl(s,["background"]);case P.HDR_LIGHTING:return new Sl(s,["hdrLighting"]);case P.FOG:return new Sl(s,["fog"]);case P.AMBIENT_LIGHT:return new Sl(s,["ambientLight"]);case P.UNITS:return new Sl(s,["units"]);case P.SPAWN:return new Sl(s,["spawn"]);case P.SHOW_BOOKMARKS:return new Sl(s,["showBookmarks"]);case P.SCENE_START_STATE:return new Sl(s,["startState"]);case P.SCENE_ACTIVE_STATE:return new Sl(s,["activeState"]);case P.SCENE_INTERACTIONS:return new Sl(s,["interactions","_metadata"]);case P.SCENE_METADATA:return new Sl(s,["_metadata"]);case P.SCENE_STATE_METADATA:return new Sl(s,["states","_metadata"]);case P.SCENE_STATE_ADD:case P.SCENE_STATE_AND_INTERACTIONS_ADD:case P.SCENE_STATE_DELETE:return new Sl(s,["states","activeState","startState","interactions","_metadata"]);case P.NEW_COMMENT:return new N2t(s);case P.COMMENT_DELETE:return new D2t(s);case P.COMMENT_UPDATE:return new cwt(s);case P.BEHAVIORS:case P.BEHAVIOR_DELETE:return new Os(s,["behaviors"]);case P.SOUND_ADD:case P.SOUND_PICK:case P.SOUND_DELETE:case P.SOUND_PARAMS:return new Os(s,["sounds"]);default:return null}}var mwt=Object.defineProperty,gwt=(s,t,e)=>t in s?mwt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Ru=(s,t,e)=>(gwt(s,typeof t!="symbol"?t+"":t,e),e);class _wt{constructor(t){this.editor=t,Ru(this,"_isApplyingHistory"),Ru(this,"_history"),Ru(this,"_beforeItem"),Ru(this,"_afterItem"),Ru(this,"_signals"),Ru(this,"_runActionsMap",new Map),Ru(this,"disposable",new Zt),Ru(this,"throttledRun",y_(e=>this._run(e),R4)),Ru(this,"debouncedRun",$Z(e=>this._run(e),jit)),this._isApplyingHistory=!1,this._signals=ob,this._history=new E2t(t,this),this._beforeItem=null,this._afterItem=null,this.register()}dispose(){this.disposable.dispose()}get isApplyingHistory(){return this._isApplyingHistory}get signals(){return this._signals}get history(){return this._history}register(){const t=[];for(const e of Object.values(this._signals)){const i=e.add(n=>this.run(n),this);t.push(i)}this.disposable.add(new tt(()=>{for(const e of t)e.detach()}))}undo(){if(!this.editor.profile)return;const t={lastWriter:he.sessionID,lastUpdated:Date.now()};this._isApplyingHistory=!0,this._history.undo(t),this._isApplyingHistory=!1}redo(){if(!this.editor.profile)return;const t={lastWriter:he.sessionID,lastUpdated:Date.now()};this._isApplyingHistory=!0,this._history.redo(t),this._isApplyingHistory=!1}recordBefore(t){const e=M6(t.action);e&&(this._runActionsMap.set(t.action,e),this._beforeItem=e.recordBefore(this.editor.selectionController.selectedCollection.sceneEntityIds,this.editor.sceneController,t),this._beforeItem&&this._beforeItem.data.objects&&(t.selection?this._beforeItem.selection=t.selection.map(i=>i.entity):this._beforeItem.selection=[...this.editor.selectionController.selectedCollection.sceneEntities]))}recordAfter(t){const e=this._runActionsMap.get(t.action);e&&(this._afterItem=e.recordAfter(this.editor.selectionController.selectedCollection.sceneEntityIds,this.editor.sceneController,t),this._afterItem&&this._afterItem.data.objects&&(t.selection?this._afterItem.selection=t.selection.map(i=>i.entity):this._afterItem.selection=[...this.editor.selectionController.selectedCollection.sceneEntities]),this._beforeItem!=null&&this._afterItem!=null&&(this._history.push({timestamp:Date.now(),tool:this.editor.activeTool.id,action:t.action,before:this._beforeItem,after:this._afterItem}),this._beforeItem=null,this._afterItem=null),this._runActionsMap.delete(t.action),this.editor.historyController.trackSceneAction(e.getName(),this.editor.sceneController))}run(t){if(!t||!t.action)return;this.editor.selectionController.selectedCollection.sceneEntityIds.size<=Cit?this.throttledRun(t):this.debouncedRun(t)}_run(t){if(!t.action||!this.editor.profile)return;let e=this._runActionsMap.get(t.action);const i={lastWriter:he.sessionID,lastUpdated:Date.now()};if(e==null&&(e=M6(t.action)),e!=null){if(!this.editor.profile)return;e.perform(this.editor.selectionController.selectedCollection.sceneEntityIds,this.editor.sceneController,i,t)}const n=hs(this.editor.sceneController.scene.baseValues());n.lastUpdated=i.lastUpdated,n.lastWriter=i.lastWriter,Aa(this.editor.fileController.id,n).catch(o=>{console.warn("File scene updated failed:",o)})}}const vwt=({onSubmit:s})=>{const[t,e]=m.useState("");function i(a){e(a.target.value)}function n(){s(t),o()}function o(){e(""),Bt.close()}return r.jsx(dn,{title:"Save version",onSubmit:n,onClose:o,isDisabledSubmit:!t,children:r.jsx(Mi,{className:"my-2",value:t,placeholder:"Name",onChange:i,onSubmit:n,autoFocus:!0})})},ywt=m.memo(vwt);async function bwt(s,t){const e=Xt.docClient;if(!s||!e)return;const i=$0(s),n=_t(),o=await ks(n,i),a=s.name==null?{lastUpdated:s.lastUpdated}:{name:s.name,lastUpdated:s.lastUpdated};if(!o)throw new Error("Error saving version to storage");await e.send(new Ho({TableName:MN,Item:{id:`${pi.fileID}--${t}`,file:pi.fileID,data:JSON.stringify({...a,urlKey:n}),ttl:j5(),createdAt:new Date().toISOString()}}))}async function Cwt(){const s=pi.fileID,t=Xt.docClient;if(!s||!t)return{};const e={TableName:MN,IndexName:"versionsByFile",KeyConditionExpression:"#file = :f",ExpressionAttributeNames:{"#file":"file"},ExpressionAttributeValues:{":f":s},ScanIndexForward:!1},i=[],n=await t.send(new Ti(e));if(!n.Items)return{};if(i.push(...n.Items),n.LastEvaluatedKey){const a=await t.send(new Ti({...e,ExclusiveStartKey:n.LastEvaluatedKey}));a.Items&&i.push(...a.Items)}const o={};for(const a of i)o[a.id]=JSON.parse(a.data);return o}var RG=Object.defineProperty,wwt=Object.getOwnPropertyDescriptor,xwt=(s,t,e)=>t in s?RG(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,NG=(s,t,e,i)=>{for(var n=i>1?void 0:i?wwt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&RG(t,e,n),n},sg=(s,t,e)=>(xwt(s,typeof t!="symbol"?t+"":t,e),e);const lO=20,cO=9e5;class o3{constructor(t){this.editor=t,sg(this,"disposable",new Zt),sg(this,"_versions",{}),sg(this,"_actionCount",0),sg(this,"_lastAction",null),sg(this,"_currentVersion",null),sg(this,"loadVersions",async()=>{var a;const e=this.editor.sceneController,i=this._getAllSceneObjects(),n=(((a=this.editor.materialController)==null?void 0:a.materialArr)??[]).map(l=>hs(l));this._currentVersion={...hs(e.scene.baseValues()),objects:i,materials:n};const o=await Cwt();this._setVersions(o)}),sg(this,"_saveOfflineChanges",async e=>{if(!pi.fileID||!this.editor.profile)return;const i=this.editor.sceneController,n=await eo(pi.fileID,null,0,!0),o=Object.values(i.sceneEntitiesById).map(c=>hs(c.sceneObject.clone())),a=[];for(const c of o){const h=n[c.id];h?c.lastUpdated>h.lastUpdated&&a.push(c):c.lastUpdated>e&&a.push(c)}await Ws(a);const l=hs(this.editor.sceneController.scene.baseValues());l.lastWriter=he.sessionID,l.lastUpdated=Date.now(),await Aa(pi.fileID,l)}),vt(this),Qd.saveOfflineChanges=this._saveOfflineChanges,this.disposable.add(new tt(()=>{this.saveVersionOnExit()}))}dispose(){this.disposable.dispose()}get versions(){return this._versions}_setVersions(t){this._versions=t}async saveVersion(t){var d,u;const e=this.editor.sceneController,i=hs(e.scene.baseValues()),n=this._getAllSceneObjects(),o=await B_(Ae.COMPONENT,((d=this.editor.fileController.team)==null?void 0:d.id)??null,pi.fileID,null,null,-1),a=(((u=this.editor.materialController)==null?void 0:u.materialArr)??[]).map(f=>hs(f)),l=Date.now();i.lastUpdated=l,i.lastVersion=l;const h={...t==null?{}:{name:t},...i,objects:n,materials:a,assets:o};try{await bwt(h,l)}catch(f){console.error("Error saving file version",f),this._openErrorNotification("save-version-error","Unable to save file version")}this.editor.activeTool.id===R.tool.HISTORY&&await this.loadVersions(),e.setScene(i),Aa(pi.fileID,i)}saveVersionOnExit(){const e=this.editor.sceneController.scene.lastVersion??0,i=Date.now()-e;this._actionCount>lO&&i>cO&&this.saveVersion()}saveNamedVersion(){Bt.open({content:r.jsx(ywt,{onSubmit:t=>this.saveVersion(t)})})}trackSceneAction(t,e){if(t===this._lastAction)return;this._lastAction=t,this._actionCount+=1;const i=e.scene.lastVersion??0,n=Date.now()-i;this._actionCount>lO&&n>cO&&(this._actionCount=1,this.saveVersion())}async restore(t){if(!this.editor.profile)return;const e=this.editor.sceneController;let i=t?this._versions[t]:this._currentVersion;if(i=await this._fetchVersionData(i),i==null)return;const{componentAssets:n,objects:o,materials:a,...l}=i;delete l.name;const c=this._getAllSceneObjects(),h=(o==null?void 0:o.map(v=>hs(v)))??[],d=(a==null?void 0:a.map(v=>hs(v)))??[];await Ws(h);const u=d.map(v=>({...v,data:JSON.stringify(v.data)}));if(await Vb(u),n!=null){const v=n.map(y=>({...y,data:JSON.stringify(y),preview:JSON.stringify(y.preview),tags:JSON.stringify(y.tags)}));await Ypt(v)}const f=[];for(const v of c)h.some(y=>y.id===v.id)||f.push(v);for(const v of f)e.removeObjectFromData(v.id),D5(v.id);const p=Date.now(),g={...l,lastVersion:p,lastWriter:he.sessionID,lastUpdated:p};await Aa(pi.fileID,g);const _=h.reduce((v,y)=>(v[y.id]=y,v),{});await this.editor.fileController.processFileData(g,_,!0)}_openErrorNotification(t,e){be.open({id:t,text:e,options:{visibleTime:1/0,type:qn.ERROR}})}async _fetchVersionData(t){if(t==null)return null;if("urlKey"in t){const e=await xs(t.urlKey);if(e==null)return console.error("No version found in storage with urlKey",t.urlKey),this._openErrorNotification("restore-version-error","Version data not found"),null;let i;try{const n=await fetch(e);i=await sst(await n.blob())}catch{return console.error("Error fetching version from url",e),this._openErrorNotification("restore-version-error","Error retrieving version data"),null}return i??null}else return t}_getAllSceneObjects(){return Object.values(this.editor.sceneController.sceneEntitiesById).map(e=>hs(e.sceneObject.clone()))}}NG([V],o3.prototype,"_versions",2);NG([E],o3.prototype,"_setVersions",1);function jG(){var t;const s=(t=document.activeElement)==null?void 0:t.tagName;return s==="INPUT"||s==="TEXTAREA"}var DG=Object.defineProperty,Ewt=Object.getOwnPropertyDescriptor,Swt=(s,t,e)=>t in s?DG(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,FG=(s,t,e,i)=>{for(var n=i>1?void 0:i?Ewt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&DG(t,e,n),n},Lv=(s,t,e)=>(Swt(s,typeof t!="symbol"?t+"":t,e),e);class zA{constructor(t){this._editor=t,Lv(this,"_disposable",new Zt),Lv(this,"viewports",[]),Lv(this,"_activeViewport"),Lv(this,"_mainViewport"),Lv(this,"_miniViewport"),vt(this)}dispose(){this._disposable.dispose()}init(t,e){this._disposable.add(this._addViewportSignalBindings()),this.viewports.forEach(i=>i.initBindings(t,e))}get activeViewport(){return this._activeViewport?this._activeViewport:this.viewports.length>0?this.viewports[0]:void 0}get mainViewport(){return this._mainViewport}set mainViewport(t){this._mainViewport=t}get miniViewport(){return this._miniViewport}set miniViewport(t){this._miniViewport=t}_addViewportSignalBindings(){const t=[];return t.push(this._editor.signals.window.viewportActivated.add(e=>this._onViewportActivated(e))),new tt(()=>{for(const e of t)e.detach()})}_onViewportActivated(t){this._activeViewport=t,!jG()&&t.domElement.focus()}}FG([V],zA.prototype,"viewports",2);FG([M],zA.prototype,"activeViewport",1);var BG=Object.defineProperty,Iwt=Object.getOwnPropertyDescriptor,Awt=(s,t,e)=>t in s?BG(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,ac=(s,t,e,i)=>{for(var n=i>1?void 0:i?Iwt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&BG(t,e,n),n},Re=(s,t,e)=>(Awt(s,typeof t!="symbol"?t+"":t,e),e);class oa{constructor(t){this._appContext=t,Re(this,"_disposable",new Zt),Re(this,"signals",new lCt),Re(this,"helpers",new tft),Re(this,"sceneHelpers",new eft),Re(this,"preferencesController",Gmt.instance),Re(this,"soundController",TCt.getInstance(this)),Re(this,"accessController",new S1(this)),Re(this,"viewportController",new zA(this)),Re(this,"selectionController",new zf(this)),Re(this,"physicsController",new IG(this)),Re(this,"sceneController",new Nt(this)),Re(this,"assetPreviewerController",new pG(this)),Re(this,"componentsController",new Qb(this)),Re(this,"stateController",new _wt(this)),Re(this,"fileController",new pi(this)),Re(this,"commentController",new $i(this)),Re(this,"historyController",new o3(this)),Re(this,"materialController",new mr(this)),Re(this,"assetController",new th(this)),Re(this,"libraryController",new ad(this)),Re(this,"layerController",new vft),Re(this,"keyStateController",new WCt(this)),Re(this,"commandController"),Re(this,"fileSettingsController",new oc(this)),Re(this,"teamController",this._appContext.teamController),Re(this,"fileApi",this._appContext.fileApi),Re(this,"organizationsController",this._appContext.organizationsController),Re(this,"authController",this._appContext.authController),Re(this,"gizmoMaterialController",new Te(this)),Re(this,"fontProvider",new kCt),Re(this,"activeTour",this._appContext.activeTour),Re(this,"activeTourStep",this._appContext.activeTourStep),Re(this,"tourStepVisible",this._appContext.tourStepVisible),Re(this,"fileLoadingController",new NCt(this)),Re(this,"aiController",new ge(this)),Re(this,"featureFlagService"),Re(this,"creditsController",this._appContext.creditsController),Re(this,"connectController",this._appContext.connectController),Re(this,"passwordController",this._appContext.passwordController),Re(this,"_isPlayMode",!1),Re(this,"_isPublishedMode",!1),Re(this,"_isPerfPanelVisible",!1),Re(this,"_isVRActive",!1),Re(this,"_isInitialized",!1),Re(this,"_isARSceneDetermined",!1),Re(this,"_isARScene",!1),Re(this,"_xrSessionMode",null),Re(this,"_anchorState",ro.NONE),Re(this,"_rendererCache",new Map),Re(this,"forceMenuCommandToUseDocumentBody",!1),this.featureFlagService=t.featureFlagService,this.commandController=new Sbt(this),At.loadGeometryModule()}get isInitialized(){return this._isInitialized}get isARSceneDetermined(){return this._isARSceneDetermined}get isARScene(){return this._isARScene}get xrSessionMode(){return this._xrSessionMode}set xrSessionMode(t){this._xrSessionMode=t}get anchorState(){return this._anchorState}setAnchorState(t){this._anchorState=t}get isPerfPanelVisible(){return this._isPerfPanelVisible}setIsPerfPanelVisible(t){this._isPerfPanelVisible=t}get isPlayMode(){return this._isPlayMode}get isPublishedMode(){return this._isPublishedMode}getOrCreateRenderer(t=Jn.MAIN,e={}){if(this._rendererCache.has(t))return this._rendererCache.get(t);const i={alpha:!0,antialias:!0,logarithmicDepthBuffer:!1,...e},n=new Sb(i);return this._rendererCache.set(t,n),n}async init(){await _1.initialize()}dispose(){this._disposable.dispose(),this.viewportController.dispose(),this.physicsController.dispose(),this.soundController.dispose(),this._rendererCache.forEach(t=>t.dispose()),this._rendererCache.clear(),this.featureFlagService.dispose(),this.preferencesController.dispose()}initAccess(t,e,i,n,o,a){const l=this.accessController.initAccess(t,e,i,n,o,a);return this._disposable.add(this._addCommonKeyListeners(this.accessController,this.commandController)),this._disposable.add(this._addCommonCommandBindings(this.accessController,this.commandController)),this._disposable.add(this._addWindowEventListeners()),this._disposable.add(this._addVRSignalBindings()),l}get isVRActive(){return this._isVRActive}setIsVRActive(t){this._isVRActive=t,this._setBackground()}get mainViewportElement(){var t;return(t=this.viewportController.mainViewport)==null?void 0:t.domElement}_setBackground(){const t=this.mainViewportElement;if(t){if(this.isPublishedMode){t.style.backgroundColor="transparent";return}if(!this.isPlayMode&&!this.isPublishedMode){t.style.backgroundImage=m9;return}if(this.isPlayMode){t.style.backgroundImage=m9;return}}}_addCommonKeyListeners(t,e){return e.addKeyListeners(document.body,[J0.UNDO,J0.REDO],!1,t)}_addCommonCommandBindings(t,e){return e.registerCommandBindings(document.body,{[R.history.UNDO]:()=>this._handleUndo(),[R.history.REDO]:()=>this._handleRedo()},t)}_addVRSignalBindings(){const t=this.signals.window.vrSessionStarted.add(()=>{this.setIsVRActive(!0)}),e=this.signals.window.vrSessionEnded.add(()=>{this.setIsVRActive(!1)}),i=this.signals.file.allObjectsLoaded.add(()=>{this._setBackground()}),n=this.signals.file.fileClosed.add(()=>{window.document.body.style.backgroundColor="var(--root-background)"});return new tt(()=>{t.detach(),e.detach(),i.detach(),n.detach()})}_addWindowEventListeners(){const t=()=>this._onWindowResize(),e=n=>this._onMenuCommand(n),i=n=>this._onContextMenu(n);return window.addEventListener("resize",t,!1),window.addEventListener("menucommand",e),window.addEventListener("contextmenu",i),new tt(()=>{window.removeEventListener("resize",t),window.removeEventListener("menucommand",e),window.removeEventListener("contextmenu",i)})}_onContextMenu(t){t.preventDefault()}_onWindowResize(){this.signals.window.resized.dispatch()}_onMenuCommand(t){var o;const e=this.forceMenuCommandToUseDocumentBody?document.body:((o=this.viewportController.activeViewport)==null?void 0:o.domElement)??document.body,{command:i,param:n}=t.detail;this.commandController.dispatchEventFromMenu(i,e,n)}}ac([V],oa.prototype,"_isPerfPanelVisible",2);ac([V],oa.prototype,"isUIVisible",2);ac([V],oa.prototype,"activeTool",2);ac([V],oa.prototype,"activeBottomBar",2);ac([V],oa.prototype,"_isVRActive",2);ac([V],oa.prototype,"_isARSceneDetermined",2);ac([V],oa.prototype,"_isARScene",2);ac([V],oa.prototype,"_xrSessionMode",2);ac([M],oa.prototype,"xrSessionMode",1);ac([V],oa.prototype,"_anchorState",2);ac([E],oa.prototype,"setAnchorState",1);ac([E],oa.prototype,"setIsPerfPanelVisible",1);ac([E],oa.prototype,"setIsVRActive",1);var fb;(s=>{function t(){Iy.globalTimeline.pause()}s.pauseGlobalTimeline=t;function e(){Iy.globalTimeline.resume()}s.resumeGlobalTimeline=e;function i(){Iy.ticker.tick()}s.tick=i})(fb||(fb={}));Cr.ShapeType.Ball,Cr.ShapeType.Cuboid;function Twt(s){return new w(s.x,s.y,s.z)}var Ox;(s=>{function t(n){let o=!1,a=n;do o||(o=a.collider.colliders.values.some(l=>l.isEnabled)),a=a.parent;while(a&&!o);return o}s.entityHasActiveCollider=t;function e(n,o){const a=[];for(const l of n){const c=l.userData.id,h=o.getSceneEntityById(c);h&&!s.entityHasActiveCollider(h)&&a.push(l)}return a}s.getObjectsWithoutActiveColliders=e;function i(n,o){const a=o.getEntityByHandle(n.handle),l=a==null?void 0:a.getObject3D();return l?{distance:n.distance,point:Twt(n.point),object:l}:null}s.getObjectRayIntersection=i})(Ox||(Ox={}));var Pwt=Object.defineProperty,Owt=(s,t,e)=>t in s?Pwt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,x2=(s,t,e)=>(Owt(s,typeof t!="symbol"?t+"":t,e),e);const Mwt={Mesh:{threshold:0},Line:{threshold:.1},Line2:{threshold:.1},LineSegments:{threshold:.1},LOD:{},Points:{threshold:20},Sprite:{}};class tC{constructor(t=Mwt){x2(this,"_ray"),x2(this,"_raycaster",new Nf),x2(this,"_viewport"),x2(this,"_positionNDC",new ee),this._raycaster.params=t,this._ray=this._raycaster.ray}get ray(){return this._ray}setFromViewport(t,e){this._viewport=e,e.camera.updateProjectionMatrix(),e.camera.updateMatrixWorld(),this._positionNDC.set(t.x,t.y),this._raycaster.setFromCamera(this._positionNDC,e.camera)}setCamera(t){this._raycaster.camera=t}setFromPositionAndDirection(t,e){this._raycaster.ray.origin.set(t.x,t.y,t.z),this._raycaster.ray.direction.set(e.x,e.y,e.z)}}class Lwt{constructor(t){this.raycaster=t}intersectObjects(t,e=!1,i=[]){return this.raycaster.camera==null||(e?t.forEach(n=>{this._intersectObject(n,this.raycaster,i,!0)}):t.forEach(n=>{switch(n.type){case"Group":this._intersectGroup(n,i);break;case"Line":case"LineSegments":case"LineSegments2":case"TransformAdapter":this._intersectMesh(n,!0,i);break;case"Mesh":case"SkinnedMesh":default:this._intersectGroup(n,i);break}}),i.sort(hO)),i}_intersectGroup(t,e=[]){const i=[];this._intersectObject(t,this.raycaster,i,!0),i.sort(hO),i.length>0&&(i[0].object=t,e.push(i[0]))}_intersectMesh(t,e=!0,i=[]){this._intersectObject(t,this.raycaster,i,e)}_intersectObject(t,e,i,n){if(t.visible){if(t.layers.test(e.layers)){if(t.layers.isEnabled(ce.PASSTHROUGH)||t.isBone)return;t.raycast(e,i)}if(n===!0){const o=t.children;for(let a=0,l=o.length;a<l;a++)this._intersectObject(o[a],e,i,!0)}}}}function hO(s,t){return s.distance-t.distance}var Rwt=Object.defineProperty,Nwt=(s,t,e)=>t in s?Rwt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,dO=(s,t,e)=>(Nwt(s,typeof t!="symbol"?t+"":t,e),e);const jwt={Mesh:{threshold:0},Line:{threshold:.1},Line2:{threshold:40},LineSegments:{threshold:1},LOD:{},Points:{threshold:20},Sprite:{}};class eC extends tC{constructor(t,e=t.layerController.editorIntersectable,i){super(jwt),this._editor=t,dO(this,"_intersections"),dO(this,"_sceneRaycaster"),this._raycaster.layers=e,i!=null&&(this._raycaster.camera=i),this._intersections=[],this._raycaster.firstHitOnly=!0,this._sceneRaycaster=new Lwt(this._raycaster)}intersect(t,e=!1,i=this._intersections){i.length=0;const{_sceneRaycaster:n}=this;return n.intersectObjects(t,e,i),i}intersectSingleObject(t,e=!1,i=!1){const n=[],{_sceneRaycaster:o}=this;if(!i)return o.intersectObjects(t,e,n),n.length>0?n[0]:null;const a=Ox.getObjectsWithoutActiveColliders(t,this._editor.sceneController);o.intersectObjects(a,e,n);const l=n[0],c=this._editor.physicsController.intersectRay(this.ray.origin,this.ray.direction),h=c?Ox.getObjectRayIntersection(c,this._editor.physicsController):null;return l&&h?l.distance<h.distance?l:h:l||h||null}}var Dwt=Object.defineProperty,Fwt=(s,t,e)=>t in s?Dwt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Bwt=(s,t,e)=>(Fwt(s,t+"",e),e);class kwt extends Se{constructor(t,e){super(),this._editor=t,this._comments=e,Bwt(this,"_picker",new eC(this._editor)),e.activate()}onPointerEvent(t,e){switch(e){case xt.CLICK_END:return this._onClickEnd(t);default:return!1}}_onClickEnd(t){if(t.pointerState.lastButton!==Fn.LEFT)return!1;const{objectsWithGeometry:e}=this._editor.sceneController;this._picker.setFromViewport(t.pointerState.pointerNDC,t);const n=this._picker.intersect(e)[0];if(!n)return!1;const o=this._editor.sceneController.getSceneEntityById(n.object.userData.id);if(!o)return!0;const a=t.projectWorldToVP(n.point);return this._comments.addPopupAtTarget(o,n,a),this._editor.signals.presence.pointPicked.dispatch({point:n.point}),!0}dispose(){this._comments.exitCommentMode()}}const Gwt={Mesh:{threshold:0},Line:{threshold:.1},Line2:{threshold:16},LineSegments:{threshold:10},LOD:{},Points:{threshold:20},Sprite:{}};class Vwt extends tC{constructor(t){super(Gwt),this._raycaster.layers=t.gizmo}intersect(t){const{_raycaster:e}=this;for(const i of[ce.GIZMO,ce.GIZMO_COLLIDER,ce.GIZMO_LINE,ce.GIZMO_LINE_COLLIDER]){e.layers.disableAll(),e.layers.enable(i);const o=e.intersectObjects(t,!0).sort(Uwt);if(o.length>0)return o}return[]}filterVisible(t,e,i,n,o=25){const a=Hwt(t),l=rr(o,a,e,i);return t.filter(c=>Math.abs(a-c.distance)<=l)}}function Hwt(s){let t=Number.MAX_VALUE;return s.forEach(e=>t=Math.min(e.distance,t)),t}function Uwt(s,t){let e=1,i=1;const n=s.object,o=t.object;return n.layers.isEnabled(ce.GIZMO_LINE)&&(e=2),o.layers.isEnabled(ce.GIZMO_LINE)&&(i=2),n.layers.isEnabled(ce.GIZMO_LINE_COLLIDER)&&(e=3),o.layers.isEnabled(ce.GIZMO_LINE_COLLIDER)&&(i=3),e-i}var zwt=Object.defineProperty,Ywt=(s,t,e)=>t in s?zwt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Sn=(s,t,e)=>(Ywt(s,typeof t!="symbol"?t+"":t,e),e);const Wwt=new w,Xwt=new Lt;class kG extends sa{constructor(t,e,i){super(),this.name=t,this.editor=e,this.localAxisIndex=i,Sn(this,"axisLocal",new w),Sn(this,"planeMatrix",new Lt),Sn(this,"planeNormal",new w),Sn(this,"planeNormalGlobal",new w),Sn(this,"axisGlobal",new w),Sn(this,"_target",null),this.axisLocal.setComponent(this.localAxisIndex,1)}setLocalRotation(){this.target&&(this.planeNormal.setComponent((this.localAxisIndex+2)%3,1),this.target.coordinateSystem.convertVectorToGlobal(this.planeNormal,this.planeNormalGlobal),this.target.coordinateSystem.convertVectorToGlobal(this.axisLocal,this.axisGlobal),this.planeMatrix.lookAt(Wwt,this.planeNormalGlobal,this.axisGlobal),this.quaternion.setFromRotationMatrix(this.planeMatrix))}update(t){super.update(t),this._target&&(this.setLocalRotation(),this.position.copy(this._target.pivotGlobal),this.scaleBasedOnDistanceToCamera(t,t.gizmoSizePx),this.updateMatrixWorld())}set target(t){this._target=t}get target(){return this._target}}class h_ extends sa{constructor(t,e,i,n,o){super(),this.name=t,this.editor=e,this.materials=i,this.handleMeshes=n,this.colliderMeshes=o,Sn(this,"disposable",new Zt),Sn(this,"handle",new bn),Sn(this,"collider",new bn),Sn(this,"isGizmo",!0),Sn(this,"_state",0),Sn(this,"_lastState",0),Sn(this,"_target",null),this.handle.add(...n);for(const a of n){const l=a instanceof il?ce.GIZMO_LINE:ce.GIZMO;a.layers.set(l)}if(this.handle.layers.set(ce.GIZMO),this.add(this.handle),o){this.collider.add(...o);for(const a of o){const l=a instanceof il?ce.GIZMO_LINE_COLLIDER:ce.GIZMO_COLLIDER;a.layers.set(l)}this.collider.layers.set(ce.GIZMO_COLLIDER),this.add(this.collider)}this.userData.gizmo=this,this._updateMaterial()}dispose(){this.disposable.dispose()}set state(t){this._state=t,this.editor.signals.gizmo.changed.dispatch()}get canDuplicate(){return!1}onPointerOver(t,e){var i;this._state=1,this.editor.signals.gizmo.hovered.dispatch(),(i=this.parentGizmo)==null||i.onPointerOver(t,e)}onPointerMove(t,e){var i;(i=this.parentGizmo)==null||i.onPointerMove(t,e)}onPointerOut(t,e){var i;this._state=0,(i=this.parentGizmo)==null||i.onPointerOut(t,e)}onPointerDown(t,e){var i;this._state=2,(i=this.parentGizmo)==null||i.onPointerDown(t,e)}onPointerDrag(t,e){var i;(i=this.parentGizmo)==null||i.onPointerDrag(t,e)}onPointerUp(t,e){var i;this._state=0,(i=this.parentGizmo)==null||i.onPointerUp(t,e)}setUnfocused(t){this._state=t?4:0}setActive(t){this._state=t?2:3}get _isInteracting(){return this._state===2}get lines(){return this.handle.children.reduce((e,i)=>(i.traverse(n=>{n instanceof il&&e.push(n)}),e),[])}get linesTransparencyPass2(){return this.lines.filter(t=>t.userData.isTransparencyPass2)}get meshes(){return this.handle.children.reduce((e,i)=>(i.traverse(n=>{if(n instanceof il)return e;n instanceof re&&e.push(n)}),e),[])}update(t){super.update(t),this._state!==this._lastState&&(this._lastState=this._state,this._updateMaterial())}_updateMaterial(){switch(this._state){case 0:this.lines.forEach(t=>{t.material=this.materials.line.lineMaterial}),this.linesTransparencyPass2.forEach(t=>{t.material=this.materials.line.linePass2Material}),this.meshes.forEach(t=>{t.material=this.materials.mesh.meshMaterial});break;case 1:this.lines.forEach(t=>{t.material=this.materials.line.lineHoverMaterial}),this.meshes.forEach(t=>{t.material=this.materials.mesh.meshHoverMaterial});break;case 2:this.lines.forEach(t=>{t.material=this.materials.line.lineActiveMaterial}),this.meshes.forEach(t=>{t.material=this.materials.mesh.meshActiveMaterial});break;case 3:this.lines.forEach(t=>{t.material=this.materials.line.lineInactiveMaterial}),this.linesTransparencyPass2.forEach(t=>{t.material=this.materials.line.lineInactivePass2Material}),this.meshes.forEach(t=>{t.material=this.materials.mesh.meshInactiveMaterial});break;case 4:this.lines.forEach(t=>{t.material=this.materials.line.lineUnfocusedMaterial}),this.linesTransparencyPass2.forEach(t=>{t.material=this.materials.line.lineUnfocusedPass2Material}),this.meshes.forEach(t=>{t.material=this.materials.mesh.meshUnfocusedMaterial});break;default:console.warn("No material for state",this._state);break}this.editor.signals.gizmo.changed.dispatch()}set target(t){this._target=t}get target(){return this._target}get parentGizmo(){const t=this.parent;return t&&t.isGizmo?t:null}}class sC extends h_{constructor(t,e,i,n,o,a){super(t,e,i,o,a),this.name=t,this.editor=e,this.materials=i,this.localAxisIndex=n,this.handleMeshes=o,this.colliderMeshes=a,Sn(this,"axisLocal",new w),Sn(this,"_shouldScaleBasedOnDistanceToCamera",!0),Sn(this,"v3",new w),Sn(this,"planeMatrix",new Lt),Sn(this,"planeNormal",new w),Sn(this,"xAxisLocal",new w),Sn(this,"yAxisLocal",new w),Sn(this,"zAxisLocal",new w),Sn(this,"planeNormalGlobal",new w),Sn(this,"axisGlobal",new w),Sn(this,"_rotationMatrix",new Lt),this.axisLocal.setComponent(this.localAxisIndex,1)}set shouldScaleBasedOnDistanceToCamera(t){this._shouldScaleBasedOnDistanceToCamera=t}setLocalRotation(){if(!this.target)return;this.planeNormal.setScalar(0),this.planeNormal.setComponent((this.localAxisIndex+2)%3,1);const e=this.target.coordinateSpace===Xp.LOCAL?this.target.matrixGlobal:Xwt;this._rotationMatrix.extractRotation(e);const i=this.yAxisLocal.setFromMatrixColumn(this._rotationMatrix,this.localAxisIndex).normalize();let n=this.xAxisLocal.setFromMatrixColumn(this._rotationMatrix,(this.localAxisIndex+2)%3).normalize(),o=this.zAxisLocal.setFromMatrixColumn(this._rotationMatrix,(this.localAxisIndex+1)%3).normalize();if(!Wr(this.v3.crossVectors(n,i),o)||!Wr(this.v3.crossVectors(i,o),n)){const a=this.v3.copy(n);n=o,o=a}this.axisGlobal.copy(i),Hi.orientFromVectors(Mn,to,ul,n,i,o,this.planeMatrix),this.quaternion.setFromRotationMatrix(this.planeMatrix)}update(t){super.update(t),this._target&&(this.setLocalRotation(),this.position.copy(this._target.pivotGlobal),this._shouldScaleBasedOnDistanceToCamera&&this.scaleBasedOnDistanceToCamera(t,t.gizmoSizePx),this.updateMatrixWorld())}}var Zwt=Object.defineProperty,Kwt=(s,t,e)=>t in s?Zwt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,qwt=(s,t,e)=>(Kwt(s,t+"",e),e);class GG{constructor(t,e,i){this._editor=t,this.gizmo=e,this.axisGlobal=i,qwt(this,"disposable",new Zt)}dispose(){this.disposable.dispose()}onPointerDown(t){var e;this._editor.selectionController.setIsTransformingSelection(!0),this._editor.signals.gizmo.started.dispatch({gizmoName:this.gizmo.name,axisGlobal:this.axisGlobal}),(e=this.gizmo.target)==null||e.onBeginInteraction(t)}onPointerDrag(t){var e,i;this._editor.signals.gizmo.continued.dispatch({gizmoName:this.gizmo.name,pivotGlobal:(e=this.gizmo.target)==null?void 0:e.pivotGlobal}),(i=this.gizmo.target)==null||i.onContinueInteraction(t)}onPointerUp(t){var e;this._editor.signals.gizmo.ended.dispatch(),(e=this.gizmo.target)==null||e.onEndInteraction(t),this._editor.selectionController.setIsTransformingSelection(!1)}}var Qwt=Object.defineProperty,Jwt=(s,t,e)=>t in s?Qwt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,E2=(s,t,e)=>(Jwt(s,typeof t!="symbol"?t+"":t,e),e);class r3 extends GG{constructor(){super(...arguments),E2(this,"_initialPivotGlobal",new w),E2(this,"initialMatrixGlobal",new Lt),E2(this,"deltaMatrix",new Lt),E2(this,"newMatrixGlobal",new Lt)}onPointerDown(t){super.onPointerDown(t),this.gizmo.target&&(this._initialPivotGlobal.copy(this.gizmo.target.pivotGlobal),this.initialMatrixGlobal.copy(this.gizmo.target.matrixGlobal))}}class YA{static format(t,e={style:"decimal",maximumFractionDigits:2},i="en-us"){return new Intl.NumberFormat(i,e).format(t)}}var $wt=Object.defineProperty,txt=(s,t,e)=>t in s?$wt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,ext=(s,t,e)=>(txt(s,t+"",e),e);const sxt=new Ma(1,16,16),ixt=8;class Mx extends sa{constructor(t){super(),this.material=t,ext(this,"_mesh",new re(sxt,this.material)),this.add(this._mesh)}get mesh(){return this._mesh}update(t){super.update(t),this.scaleBasedOnDistanceToCamera(t,ixt)}}var nxt=Object.defineProperty,oxt=(s,t,e)=>t in s?nxt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,S2=(s,t,e)=>(oxt(s,typeof t!="symbol"?t+"":t,e),e);const rxt=24;class a3 extends sa{constructor(t){super(),this.material=t,S2(this,"pointStart",new w),S2(this,"pointEnd",new w),S2(this,"geometry",new Rf),S2(this,"line",new il(this.geometry,this.material)),this.add(this.line)}update(t){super.update(t),this.geometry.setPositions([...this.pointStart.toArray(),...this.pointEnd.toArray()]),this.line.computeLineDistances();const e=t.camera.position.distanceTo(this.pointStart);if(isNaN(e)||e===0){console.debug("Dashed line distance to camera is zero");return}const i=rr(rxt,e,t.camera,t.size.width,t.size.height);this.material.dashSize=i,this.material.gapSize=i}}var axt=Object.defineProperty,lxt=(s,t,e)=>t in s?axt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,$h=(s,t,e)=>(lxt(s,typeof t!="symbol"?t+"":t,e),e);const Bo=class L6 extends sa{constructor(t,e=1){super(),this.material=t,this._scaleRatio=e,$h(this,"_coneMesh",new re(L6._geometry,this.material)),$h(this,"_direction",new w),this.add(this._coneMesh)}set direction(t){this._direction.copy(t)}update(t){super.update(t),this.scaleBasedOnDistanceToCamera(t,L6._arrowConeHeight*this._scaleRatio)}};$h(Bo,"_arrowWidthToHeightRatio",1/2.5);$h(Bo,"_arrowLineToConeRatio",1);$h(Bo,"_arrowLineRadiusToConeRadiusRatio",1/4);$h(Bo,"_arrowLineRadiusRatio",Bo._arrowWidthToHeightRatio*Bo._arrowLineRadiusToConeRadiusRatio);$h(Bo,"_arrowOffset",.2);$h(Bo,"_arrowConeHeight",36);$h(Bo,"_coneGeometry",new NL(Bo._arrowWidthToHeightRatio,1,16).translate(0,-.5,0));$h(Bo,"_shaftGeometry",new Em(Bo._arrowLineRadiusRatio,Bo._arrowLineRadiusRatio,Bo._arrowLineToConeRatio).translate(0,-.5-1*Bo._arrowLineToConeRatio,0));$h(Bo,"_geometry",Yw([Bo._coneGeometry,Bo._shaftGeometry]));let R6=Bo;var cxt=Object.defineProperty,hxt=(s,t,e)=>t in s?cxt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Yi=(s,t,e)=>(hxt(s,typeof t!="symbol"?t+"":t,e),e);class dxt extends sa{constructor(){super(...arguments),Yi(this,"disposable",new Zt)}dispose(){this.disposable.dispose()}}const VG=class N6 extends dxt{constructor(t,e={variant:"Custom",hasStartArrow:!1,hasEndArrow:!1,hasOffset:!1,formattedNumberOptions:{style:"decimal",maximumFractionDigits:2},units:t.sceneController.scene.units,textOverlayOptions:{hasCursorOffset:!1,shouldIndicateEditable:!1}},i=t.gizmoMaterialController.gizmoMaterials.scaleCageMaterials){var n;switch(super(),this.editor=t,this.options=e,this.materials=i,Yi(this,"lineGuide",new a3(this.materials.line.lineDashedMaterial)),Yi(this,"_units",Dt.M),Yi(this,"text"),Yi(this,"shouldHideText",!1),Yi(this,"_startArrowHelper"),Yi(this,"_startPointHelper"),Yi(this,"_endArrowHelper"),Yi(this,"_endPointHelper"),Yi(this,"_offsetLine1"),Yi(this,"_offsetLine2"),Yi(this,"tabbed",new ht.Signal),Yi(this,"changed",new ht.Signal),Yi(this,"committed",new ht.Signal),Yi(this,"_isEditable",!1),Yi(this,"_isEditing",!1),Yi(this,"offsetReferencePoint",new w),Yi(this,"_offsetPx",50),Yi(this,"_offsetDirection",new w),Yi(this,"_offsetPointStart",new w),Yi(this,"_offsetPointEnd",new w),Yi(this,"_offset",new w),Yi(this,"pointStart",new w),Yi(this,"pointEnd",new w),Yi(this,"_canvasInputPosition",new w),Yi(this,"_direction",new w),e.variant){case"Measurement":e.hasStartArrow=!0,e.hasEndArrow=!0;break;case"Dimension":e.hasStartArrow=!1,e.hasEndArrow=!1,e.hasOffset=!0,e.formattedNumberOptions={style:"decimal",maximumFractionDigits:1};break;case"Direction":e.hasStartArrow=!1,e.hasEndArrow=!0,e.hasStartPoint=!0,e.hasEndPoint=!0;break;case"Guide":e.hasStartArrow=!1,e.hasEndArrow=!1;break}this.text=new Ub(o=>YA.format(mm(o,Dt.M,this._units),e.formattedNumberOptions)," "+mw(this._units),"MeasurementGuide",e.textOverlayOptions),this.add(this.lineGuide),this.add(this.text),this.text.active=!1,this._units=e.units??t.sceneController.scene.units,this.text.suffix=" "+mw(this._units),this.disposable.add(new tt(()=>{this.text.onEnd()})),this._onKeyDown=this._onKeyDown.bind(this),(n=e.textOverlayOptions)!=null&&n.shouldIndicateEditable&&(this.isEditable=!0),this.disposable.add(new tt(()=>document.removeEventListener("keydown",this._onKeyDown))),this.disposable.add(new tt(()=>{this._isEditing&&this.editor.canvasInputController.close()})),e.hasStartArrow&&(this._startArrowHelper=new R6(this.materials.mesh.meshMaterial),this.add(this._startArrowHelper)),e.hasStartPoint&&(this._startPointHelper=new Mx(this.materials.mesh.meshMaterial),this.add(this._startPointHelper)),e.hasEndArrow&&(this._endArrowHelper=new R6(this.materials.mesh.meshMaterial),this.add(this._endArrowHelper)),e.hasEndPoint&&(this._endPointHelper=new Mx(this.materials.mesh.meshMaterial),this.add(this._endPointHelper)),e.hasOffset&&(this._offsetLine1=new il(N6._offsetLineGeometry,this.materials.line.lineMaterial),this.add(this._offsetLine1),this._offsetLine2=new il(N6._offsetLineGeometry,this.materials.line.lineMaterial),this.add(this._offsetLine2)),this.disposable.add(new tt(()=>this.editor.helpers.remove(this)))}set isEditable(t){this._isEditable=t,t?(document.removeEventListener("keydown",this._onKeyDown),document.addEventListener("keydown",this._onKeyDown),this.options.textOverlayOptions&&(this.options.textOverlayOptions.shouldIndicateEditable=!0),this.editor.canvasInputController.onOpen=()=>{this.isEditing=!0},this.editor.canvasInputController.onClose=()=>{var e;this.changed.dispatch(0),this.isEditing=!1,(e=this.editor.viewportController.activeViewport)==null||e.pointerStateController.repeatLastPointerMoveEvent()}):(document.removeEventListener("keydown",this._onKeyDown),this.options.textOverlayOptions&&(this.options.textOverlayOptions.shouldIndicateEditable=!1)),this.text.isEditable=t}set isEditing(t){this.shouldHideText=t,this.editor.signals.gizmo.changed.dispatch(),this._isEditing=t,this.editor.canvasInputController.onCommit=e=>{this.isEditing=!1,this.committed.dispatch(e),this.tabbed.dispatch(e)},this.editor.canvasInputController.onChange=e=>{var i;this.changed.dispatch(e),(i=this.editor.viewportController.activeViewport)==null||i.pointerStateController.repeatLastPointerMoveEvent()}}get isEditable(){return this._isEditable}set units(t){this._units=t,this.text.suffix=" "+mw(this._units)}get canvasInputValue(){return this.editor.canvasInputController.value}_onKeyDown(t){var i;if(t.key==="Tab"&&(t.stopPropagation(),t.preventDefault(),this.isEditing=!1,this.editor.canvasInputController.close(),this.tabbed.dispatch()),!this.editor.canvasInputController.isOpen&&(t.key==="Delete"||t.key==="Backspace")&&(this.changed.dispatch(0),(i=this.editor.viewportController.activeViewport)==null||i.pointerStateController.repeatLastPointerMoveEvent()),!"0.123456789".includes(t.key))return!1;this.editor.canvasInputController.isOpen||wt(Mb.OPEN,{key:t.key})}continue(t,e,i){this.text.setViewport(t),this.pointStart.copy(e),this.pointEnd.copy(i)}update(t){var n,o,a,l,c,h,d,u,f,p,g,_;super.update(t),this.text.active=!this.shouldHideText&&!this.pointStart.equals(this.pointEnd);const e=this.editor.viewportController.activeViewport??t;if(this._offsetPointStart.copy(this.pointStart),this._offsetPointEnd.copy(this.pointEnd),this.options.hasOffset){const v=rr(this._offsetPx,e.camera.position.distanceTo(this.pointStart),e.camera,e.size.width,e.size.height);Wr(this.offsetReferencePoint,this.pointStart)||qy(this.offsetReferencePoint,this.pointStart,this._offsetDirection),this._offset.copy(this._offsetDirection).multiplyScalar(v);const y=this._offset.length()*1.33;(n=this._offsetLine1)==null||n.position.copy(this.pointStart),(o=this._offsetLine1)==null||o.quaternion.setFromUnitVectors(to,this._offsetDirection),(a=this._offsetLine1)==null||a.scale.setScalar(y),(l=this._offsetLine2)==null||l.position.copy(this.pointEnd),(c=this._offsetLine2)==null||c.quaternion.setFromUnitVectors(to,this._offsetDirection),(h=this._offsetLine2)==null||h.scale.setScalar(y),this._offsetPointStart.add(this._offset),this._offsetPointEnd.add(this._offset)}qr(this._offsetPointStart,this._offsetPointEnd,this.text.position),this.lineGuide.pointStart.copy(this._offsetPointStart),(d=this._startPointHelper)==null||d.position.copy(this._offsetPointStart),this.lineGuide.pointEnd.copy(this._offsetPointEnd);const i=this._offsetPointStart.distanceTo(this._offsetPointEnd);this.text.value=i,qy(this._offsetPointStart,this._offsetPointEnd,this._direction),(u=this._endArrowHelper)==null||u.position.copy(this._offsetPointEnd),(f=this._endArrowHelper)==null||f.quaternion.setFromUnitVectors(to,this._direction),(p=this._endPointHelper)==null||p.position.copy(this._offsetPointEnd),(g=this._startArrowHelper)==null||g.position.copy(this._offsetPointStart),(_=this._startArrowHelper)==null||_.quaternion.setFromUnitVectors(to,this._direction.negate()),t===this.editor.viewportController.activeViewport&&this._isEditable&&(t.projectWorldToVP(this.text.position,this._canvasInputPosition),this.editor.canvasInputController.setPosition(this._canvasInputPosition.x,this._canvasInputPosition.y))}};Yi(VG,"_offsetLineGeometry",new Rf().setPositions([0,0,0,0,1,0]));let yn=VG;class uxt extends yn{constructor(t,e){super(t,{variant:"Direction",textOverlayOptions:{shouldIndicateEditable:!0}}),this.changed.add(e)}}const fxt=200;Dt.M+"",Dt.CM+"",Dt.MM+"",Dt.FT+"",1/12,Dt.IN+"",Dt.PX+"";const HG=1e-12;function $E(s,t=HG){return Math.abs(s)>t}function pxt(s,t=HG){return Math.abs(s)<t}function mxt(s,t){return mm(s,t,Dt.M)}function I2(s,t){return Vo(s,j6(t))}function j6(s){return mxt(1,s)*1}var ql;(s=>{function t(b,C,x){for(let I=0;I<3;I++)$E(C.getComponent(I))&&b.setComponent(I,I2(b.getComponent(I),x));return b}s.snapPointOnAxisToGrid=t;const e=[Mn,to,ul],i=[new w,new w,new w],n=new Be,o=new $p;function a(b,C,x){let I=Number.MAX_VALUE,O=-1;for(let T=0;T<3;T++){const D=C.getComponent(T);if($E(D)){const B=b.getComponent(T),F=I2(B,x);o.set(b,C),Math.sign(D)*Math.sign(F-B)<0&&o.direction.negate(),n.set(e[T],-F);const Y=i[T];if(o.intersectPlane(n,Y)){const G=Y.distanceToSquared(b);G<I&&(I=G,O=T)}}}return O>-1&&O<3&&b.copy(i[O]),b}s.snapPointOnAxisTo3DGrid=a;const l=[new w,new w],c=new w,h=new $p,d=new $p,u=new w,f=new w;function p(b,C,x){let I=Number.MAX_VALUE,O=-1;for(let T=0;T<3;T++){const D=C.normal.getComponent(T);if($E(D)){const B=b.getComponent(T);for(let G=0;G<3;G++)if(G==T)c.setComponent(T,B);else{const st=b.getComponent(G),$=I2(st,x);c.setComponent(G,$)}h.set(c,e[T]),d.set(c,e[T]),d.direction.negate();let F=Number.MAX_VALUE,k=Number.MAX_VALUE;h.intersectPlane(C,u)?F=u.distanceToSquared(b):d.intersectPlane(C,f)&&(k=f.distanceToSquared(b));let Y=Number.MAX_VALUE;F<k?(i[T].copy(u),Y=F):(i[T].copy(f),Y=k),Y<I&&(I=Y,O=T)}}return O>-1&&O<3&&b.copy(i[O]),b}s.snapPointOnPlaneTo3DGrid=p;function g(b,C,x){const I=b.dot(C),O=Vo(I,j6(x));return b.copy(C).multiplyScalar(O),b}s.snapVectorToAxisIncrement=g;function _(b,C,x){for(let I=0;I<2;I++)l[I].copy(b),g(l[I],C[I],x);return b.addVectors(l[0],l[1]),b}s.snapVectorToPlanarIncrements=_;function v(b,C,x){for(let I=0;I<3;I++)pxt(C.normal.getComponent(I))&&b.setComponent(I,I2(b.getComponent(I),x));return b}s.snapPointOnPrincipalPlaneToGrid=v;function y(b,C){return Vo(b,j6(C))}s.snapScalarToIncrement=y})(ql||(ql={}));function gxt(s,t,e,i,n=new w,o=new w){const a=s,l=t,c=e,h=i,d=new w().subVectors(a,c),u=new w().subVectors(h,c);if(u.lengthSq()<im)return!1;const f=new w().subVectors(l,a);if(f.lengthSq()<im)return!1;const p=d.x*u.x+d.y*u.y+d.z*u.z,g=u.x*f.x+u.y*f.y+u.z*f.z,_=d.x*f.x+d.y*f.y+d.z*f.z,v=u.x*u.x+u.y*u.y+u.z*u.z,b=(f.x*f.x+f.y*f.y+f.z*f.z)*v-g*g;if(Math.abs(b)<im)return!1;const x=(p*g-_*v)/b,I=(p+g*x)/v;return n.x=a.x+x*f.x,n.y=a.y+x*f.y,n.z=a.z+x*f.z,o.x=c.x+I*u.x,o.y=c.y+I*u.y,o.z=c.z+I*u.z,!0}function _xt(s,t,e=new w){const i=s.origin,n=new w().addVectors(s.origin,s.direction),o=t.origin,a=new w().addVectors(t.origin,t.direction),l=new w,c=new w;if(!gxt(i,n,o,a,l,c))return!1;const u=l.manhattanDistanceTo(c)<im;return u?e.copy(l):e.setScalar(NaN),u}const vxt=new tK;function UG(s,t,e,i=new w){const o=vxt.set(s,t).closestPointToPoint(e,!1,i);return Wr(e,o)}function yxt(s,t){const e=s.distanceToPoint(t);return Qs(e)}var Nh=(s=>(s.POINT="POINT",s.AXIS="AXIS",s.FACE="FACE",s.CURVE="CURVE",s.PLANE="PLANE",s))(Nh||{}),qp=(s=>(s.X_AXIS="X_AXIS",s.Y_AXIS="Y_AXIS",s.Z_AXIS="Z_AXIS",s.PERPENDICULAR="PERPENDICULAR",s.SQUARE="SQUARE",s))(qp||{}),bxt=Object.defineProperty,Cxt=(s,t,e)=>t in s?bxt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,tS=(s,t,e)=>(Cxt(s,typeof t!="symbol"?t+"":t,e),e);class wxt{constructor(){tS(this,"_planeIntersectionPoint",new w),tS(this,"_normalMatrix",new II),tS(this,"_worldNormal",new w)}intersectPoints(t,e){return t.intersectObjects(e,!0)}intersectAxisSnappers(t,e){return t.intersectObjects(e,!1)}intersectPlanes(t,e){return t.ray.intersectPlane(e,this._planeIntersectionPoint),{distance:t.camera.position.distanceTo(this._planeIntersectionPoint),position:this._planeIntersectionPoint,priority:3,normal:e.normal,type:Nh.PLANE}}getExactIntersection(t,e,i){let n=[];for(const a of t){const{point:l,distance:c,face:h,pointOnLine:d,object:u}=a;this._normalMatrix.getNormalMatrix(u.matrixWorld);const f=h?h.normal.applyMatrix3(this._normalMatrix).normalize():vi;if(d){const g={distance:c,position:d,priority:3,normal:f,type:Nh.CURVE};n.push(g);continue}const p={distance:c,position:l,priority:3,normal:f,type:Nh.FACE};n.push(p)}for(const a of e){const{point:l,distance:c,index:h,object:d}=a;let u=l;if(h==null){console.error("No index for snap point");continue}if(d.userData.pointSnappers==null){console.error("No pointSnaps for snap point");continue}const p=d.userData.pointSnappers[h];u=p.position;const g={distance:c,position:u,priority:1,normal:vi,type:Nh.POINT,snapper:p};n.push(g)}let o=[];for(const a of i){const{point:l,distance:c,object:h}=a;if(h.userData.snapper==null){console.error("No snapper for axis snapper");continue}const d=h.userData.snapper,{position:u,direction:f}=d.project(l),p={distance:c,position:u,priority:d.isPriority?1:2,normal:f,type:Nh.AXIS,snapper:d};if(d.isPriority){o=[p];break}o.push(p)}return n=n.concat(o),n}filterVisible(t,e,i,n,o=2){const a=this.calcMinDist(t),l=rr(o,a,e,i);return t.filter(c=>Math.abs(a-c.distance)<l)}calcMinDist(t){let e=Number.MAX_VALUE;return t.forEach(i=>e=Math.min(i.distance,e)),e}}var xxt=Object.defineProperty,Ext=(s,t,e)=>t in s?xxt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Sxt=(s,t,e)=>(Ext(s,t+"",e),e);class Ixt extends PI{constructor(){super(...arguments),Sxt(this,"viewportSizePx",new ee)}}const A2=new w,eS=new w,Rv=new Wx,Nu=new Us;class Axt extends zw{raycast(t,e){var f;const{geometry:i}=this,n=this.material,{ray:o}=t,a=t.camera,l=((f=t.params.Points)==null?void 0:f.threshold)??0,h=n.size/2+l,{viewportSizePx:d}=n;{i.boundingSphere||i.computeBoundingSphere(),Rv.copy(i.boundingSphere);const p=Math.max(a.near,Rv.distanceToPoint(o.origin)),g=rr(h,p+Rv.radius,a,d.x,d.y);if(Rv.radius+=g,!o.intersectsSphere(Rv))return}{i.boundingBox||i.computeBoundingBox(),Nu.copy(i.boundingBox);const p=Math.max(a.near,Nu.distanceToPoint(o.origin)),g=rr(h,p,a,d.x,d.y);if(Nu.max.x+=g,Nu.max.y+=g,Nu.max.z+=g,Nu.min.x-=g,Nu.min.y-=g,Nu.min.z-=g,!o.intersectsBox(Nu))return}const u=i.attributes.position;for(let p=0;p<u.count;p++){A2.fromBufferAttribute(u,p);const g=Math.max(a.near,A2.distanceTo(o.origin)),_=rr(h,g,a,d.x,d.y),v=_*_,y=o.distanceSqToPoint(A2);if(y>v)continue;o.closestPointToPoint(A2,eS);const b=o.origin.distanceTo(eS);b<t.near||b>t.far||e.push({distance:b,distanceToRay:Math.sqrt(y),point:eS.clone(),index:p,object:this})}}}var Txt=Object.defineProperty,Pxt=(s,t,e)=>t in s?Txt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,uO=(s,t,e)=>(Pxt(s,typeof t!="symbol"?t+"":t,e),e);class D6{constructor(t=new Set){uO(this,"material",new Ixt),uO(this,"_pointsCollider",new Set),this.add(t)}get viewportSizePx(){return this.material.viewportSizePx}get pointsCollider(){return this._pointsCollider}add(t){if(t.size===0)return;const e=new Float32Array(t.size*3);let i=0;const n=[...t];for(const l of n)e.set(l.position.toArray(),i*3),i++;const o=new $n;o.setAttribute("position",new or(e,3));const a=new Axt(o,this.material);a.userData.pointSnappers=n,this._pointsCollider.add(a)}}var Oxt=Object.defineProperty,Mxt=(s,t,e)=>t in s?Oxt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Lxt=(s,t,e)=>(Mxt(s,t+"",e),e);class WA{constructor(){Lxt(this,"name")}init(){this.collider.updateMatrixWorld(),this.collider.userData.snapper=this,this.collider.traverse(t=>{t.userData.snapper=this})}}var Rxt=Object.defineProperty,Nxt=(s,t,e)=>t in s?Rxt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,F6=(s,t,e)=>(Nxt(s,typeof t!="symbol"?t+"":t,e),e);const zG=class YG extends WA{constructor(t,e=new w){super(),this.name=t,F6(this,"collider",new re(YG.snapperGeometry)),F6(this,"position"),this.collider.position.copy(e),this.position=e.clone(),super.init()}project(t){return{position:this.position}}createHelper(t){return null}};F6(zG,"snapperGeometry",new Ma(.1));let g0=zG;var jxt=Object.defineProperty,Dxt=(s,t,e)=>t in s?jxt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Fxt=(s,t,e)=>(Dxt(s,t+"",e),e);class Bxt extends g0{constructor(t,e,i){super("Intersection",t),this.intersectionPoint=t,this._axis1=e,this._axis2=i,Fxt(this,"_helper",new zs)}createHelper(t){const e=this._axis1.createHelper(t),i=this._axis2.createHelper(t);return e&&this._helper.add(e),i&&this._helper.add(i),this._helper}}const kxt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2016%2016'%20style='enable-background:new%200%200%2016%2016;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%23FFFFFF;}%20%3c/style%3e%3ccircle%20cx='8'%20cy='8'%20r='8'/%3e%3ccircle%20class='st0'%20cx='8'%20cy='8'%20r='7'/%3e%3c/svg%3e";var Gxt=Object.defineProperty,Vxt=(s,t,e)=>t in s?Gxt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Ml=(s,t,e)=>(Vxt(s,typeof t!="symbol"?t+"":t,e),e);const iC=class Cy extends WA{constructor(t,e=Te.lineMaterials.invisibleLineMaterial,i=vi,n=new w,o=!1){super(),this.name=t,this._material=e,this.isPriority=o,Ml(this,"collider",new il(Cy._snapperGeometry,Cy.axisSnapMaterial)),Ml(this,"_dashedLine",new a3(this._material)),Ml(this,"_helper",new zs),Ml(this,"_pointGuide",new zs),Ml(this,"_sourcePointIndicator",new zw(Cy._dotGeometry,Cy._dotMaterial)),Ml(this,"origin",new w),Ml(this,"direction",new w),Ml(this,"_flatBuffer",new Float32Array(6)),Ml(this,"_projection",new w),this.collider.position.copy(n),this.collider.quaternion.setFromUnitVectors(to,i),this._helper.add(this._pointGuide),this._helper.add(this._dashedLine),this._pointGuide.position.copy(n),this.direction.copy(i),this.origin.copy(n),this._flatBuffer.set(this.origin.toArray()),this._pointGuide.add(this._sourcePointIndicator),super.init()}createHelper(t){return this._dashedLine.pointStart.copy(this.origin),this._dashedLine.pointEnd.copy(t),this._helper}project(t){const{direction:e,origin:i,_projection:n}=this;return M_(i,t,e,n),{position:n.clone(),direction:e}}};Ml(iC,"_snapperGeometry",new Rf().setPositions([0,-1e5,0,0,1e5,0]));Ml(iC,"axisSnapMaterial",new Si({linewidth:1,dashed:!0}));Ml(iC,"_dotGeometry",new $n().setAttribute("position",new $s(new Float32Array([0,0,0]),3)));Ml(iC,"_dotMaterial",new PI({map:new kh().load(kxt),size:15,sizeAttenuation:!1,transparent:!0}));let wy=iC;var Hxt=Object.defineProperty,Uxt=(s,t,e)=>t in s?Hxt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Nv=(s,t,e)=>(Uxt(s,typeof t!="symbol"?t+"":t,e),e);const WG=25,zxt={Mesh:{},Line:{threshold:.1},Line2:{threshold:20},LineSegments:{threshold:20},LOD:{},Points:{threshold:WG},Sprite:{}};class Yxt extends tC{constructor(t,e){super(zxt),this.editor=t,this.units=e,Nv(this,"sceneObjectPicker",new eC(this.editor,this.editor.layerController.meshes)),Nv(this,"strategy",new wxt),Nv(this,"_snapResultPlane",new Be),Nv(this,"_axisSnappers",new Set),Nv(this,"_intersectionPointSnappers",new Set)}intersect(t,e=EE){const{_raycaster:i}=this,n=this.sceneObjectPicker.intersect(t);if(n.length)return n;const o=new w;return i.ray.intersectPlane(e,o),[{point:o}]}getIntersectionPoint(t,e,i,n,o=new w,a=EE){this.setFromViewport(e,t);const l=this.getIntersectionResults(i,n,a);return l.length===0?o:o.copy(l[0].position)}getIntersectionResults(t,e,i=EE,n=!1,o=[]){const{_raycaster:a,strategy:l}=this;if(!e.isEnabled)return[l.intersectPlanes(a,i)];const c=e.allSnapPoints,h=new D6;h.add(this._intersectionPointSnappers),c.push(h);const d=this.preparePointsColliders(c,n?i:null),u=this.prepareAxisSnapperColliders([...this._axisSnappers]),f=l.intersectPoints(a,d),p=l.intersectAxisSnappers(a,u),g=this.sceneObjectPicker.intersect(t),_=this.sceneObjectPicker.intersect(o,!1,[]),v=_.length?_[0].distance:Number.MAX_VALUE;let y=l.getExactIntersection(g,f,p);y=y.filter(C=>C.distance<v),y=l.filterVisible(y,this._viewport.camera,this._viewport.size.width,this._viewport.size.height,WG);const b=l.intersectPlanes(a,i);if(e.isEnabled&&e.isGridSnapEnabled){ql.snapPointOnPrincipalPlaneToGrid(b.position,i,this.units);for(const C of y)C.type==Nh.AXIS?ql.snapPointOnAxisTo3DGrid(C.position,C.normal,this.units):C.type==Nh.FACE&&(this._snapResultPlane.setFromNormalAndCoplanarPoint(C.normal,C.position),ql.snapPointOnPlaneTo3DGrid(C.position,this._snapResultPlane,this.units))}return y.push(b),y.sort(Wxt),y}setFromViewport(t,e){this.sceneObjectPicker.setFromViewport(t,e),super.setFromViewport(t,e)}preparePointsColliders(t,e=null){const{_viewport:{renderer:{domElement:{offsetWidth:i,offsetHeight:n}}}}=this,o=[];for(const a of t)if(e)for(const l of a.pointsCollider.values()){const c=l.userData.pointSnappers.filter(h=>h.name&&(h.name==="Intersection"||h.name==="entity position"));c.length>0&&c.every(h=>Math.abs(e.distanceToPoint(h.position))<im)&&o.push(l)}else o.push(...a.pointsCollider);for(const a of t)a.viewportSizePx.set(i,n);return o}prepareAxisSnapperColliders(t){const{_viewport:{renderer:{domElement:{offsetWidth:e,offsetHeight:i}}}}=this,n=[];for(const o of t)n.push(o.collider);return wy.axisSnapMaterial.resolution.set(e,i),n}addSnapper(t){for(const e of this._axisSnappers){const i=new w;!_xt(t,e,i)||i.manhattanDistanceTo(t.origin)<im||this._intersectionPointSnappers.add(new Bxt(i,t,e))}this._axisSnappers.add(t)}removeAxisSnappers(){this._axisSnappers=new Set,this._intersectionPointSnappers=new Set}removePriorityAxisSnappers(){this._axisSnappers=new Set([...this._axisSnappers].filter(t=>!t.isPriority))}}function Wxt(s,t){return s.priority-t.priority}var Xxt=Object.defineProperty,Zxt=(s,t,e)=>t in s?Xxt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Is=(s,t,e)=>(Zxt(s,typeof t!="symbol"?t+"":t,e),e);class tn{constructor(t){this.editor=t,Is(this,"disposable",new Zt),Is(this,"_picker",new Yxt(this.editor,this.editor.sceneController.scene.units)),Is(this,"_helpers",new Set),Is(this,"_shouldIntersectObjects",!0),Is(this,"_restrictToIntersectionPlane",!1),Is(this,"_shouldExcludeSelection",!1),Is(this,"_shouldProjectToIntersectionPlane",!1),Is(this,"_shouldFilterByFaceNormal",!1),Is(this,"_shouldSelectedObjectsBlockPointSnappers",!1),Is(this,"_intersectionGuide"),Is(this,"_restrictedPointGuide"),Is(this,"_referenceLine"),Is(this,"intersectionPlane",new Be(vi.clone())),Is(this,"constraintPlane",new Be(vi.clone())),Is(this,"referencePoint",new w),Is(this,"_direction",new w),Is(this,"_delta",new w),Is(this,"_deltaX",new w),Is(this,"_deltaY",new w),Is(this,"_deltaZ",new w),Is(this,"_snappedPoint",new w),Is(this,"_projectedPoint",new w),Is(this,"_lengthRestriction",0),Is(this,"_lengthRestrictionX",0),Is(this,"_lengthRestrictionY"),Is(this,"_lengthRestrictionZ",0),Is(this,"_hasCenterPointRestriction",!1),Is(this,"_hasUniformRestriction",!1),Is(this,"_lineRestrictionSnapper"),Is(this,"_referenceLineRestrictionSnapper"),Is(this,"_shouldMapAxis",!1),Is(this,"_fromAxis",new w),Is(this,"_toAxis",new w),Is(this,"_origin",new w),Is(this,"_cameraUp",new w),Is(this,"_cameraDirectionGlobal",new w),this.disposable.add(new tt(()=>{for(const e of this._helpers)this.editor.helpers.remove(e)}))}dispose(){this.disposable.dispose()}set shouldIntersectObjects(t){this._shouldIntersectObjects=t}set restrictToIntersectionPlane(t){this._restrictToIntersectionPlane=t}set shouldExcludeSelection(t){this._shouldExcludeSelection=t}set shouldProjectToIntersectionPlane(t){this._shouldProjectToIntersectionPlane=t}set shouldFilterByFaceNormal(t){this._shouldFilterByFaceNormal=t}set shouldSelectedObjectsBlockPointSnappers(t){this._shouldSelectedObjectsBlockPointSnappers=t}get intersectionGuide(){return this._intersectionGuide||(this._intersectionGuide=new Mx(Te.gizmoGuideMaterials.guideMaterial),this.editor.helpers.add(this._intersectionGuide),this.disposable.add(new tt(()=>this._intersectionGuide&&this.editor.helpers.remove(this._intersectionGuide)))),this._intersectionGuide}get restrictedPointGuide(){return this._restrictedPointGuide||(this._restrictedPointGuide=new Mx(Te.gizmoGuideMaterials.guideMaterial),this.editor.helpers.add(this._restrictedPointGuide),this.disposable.add(new tt(()=>this._restrictedPointGuide&&this.editor.helpers.remove(this._restrictedPointGuide)))),this._restrictedPointGuide}get referenceLine(){return this._referenceLine||(this._referenceLine=new a3(Te.lineMaterials.dashedLineMaterial),this.editor.helpers.add(this._referenceLine),this.disposable.add(new tt(()=>{this._referenceLine&&this.editor.helpers.remove(this._referenceLine)}))),this._referenceLine}intersect(t,e){this._picker.setFromViewport(e,t);let i=[];this._shouldIntersectObjects&&!this._restrictToIntersectionPlane&&(this._shouldExcludeSelection?i=this.editor.sceneController.unselectedVisibleObjects:i=this.editor.sceneController.visibleObjects);const n=this._shouldSelectedObjectsBlockPointSnappers?this.editor.sceneController.selectedVisibleObjects:[],o=this._picker.getIntersectionResults(i,this.editor.snapController,this.intersectionPlane,this._restrictToIntersectionPlane,n);let a=o[0];if(this._shouldFilterByFaceNormal)for(const c of o){const{type:h,normal:d,position:u}=c;if(this._snappedPoint.copy(u),a=c,h===Nh.POINT)break;if(h===Nh.FACE){const f=d.dot(this.constraintPlane.normal);if(this._lineRestrictionSnapper){const{position:g}=this._lineRestrictionSnapper.project(this._snappedPoint);this._snappedPoint.copy(g)}const p=this._snappedPoint.distanceToSquared(this.referencePoint);if(Math.abs(p)<1e-4)continue;if(Math.abs(f)<Number.EPSILON){a=c;break}}}if(this._snappedPoint.copy(a.position),a.type===Nh.PLANE&&this._shouldMapAxis){xo(this._origin,this._snappedPoint,this._delta);const c=this._delta.dot(this._fromAxis);this._toAxis.multiplyScalar(c),this._snappedPoint.copy(this._origin).add(this._toAxis)}const l=o.filter(c=>Wr(c.position,this._snappedPoint));for(const c of this._helpers)this.editor.helpers.remove(c);for(const c of l){const{snapper:h}=c;if(h){const d=h.createHelper(this._snappedPoint);d&&(this.editor.helpers.add(d),this._helpers.add(d))}}if(this.intersectionGuide.position.copy(this._snappedPoint),this._lengthRestrictionX||this._lengthRestrictionY||this._lengthRestrictionZ){if(gw(this.referencePoint,this._snappedPoint,Mn,this._deltaX),gw(this.referencePoint,this._snappedPoint,to,this._deltaY),gw(this.referencePoint,this._snappedPoint,ul,this._deltaZ),this._lengthRestrictionX&&this._deltaX.normalize().multiplyScalar(this._lengthRestrictionX),this._lengthRestrictionY){const c=this._deltaY.length(),h=this._lengthRestrictionY.reduce((d,u)=>Math.abs(c-d)<Math.abs(c-u)?d:u,Number.MAX_VALUE);h!==0&&this._deltaY.normalize().multiplyScalar(h)}this._lengthRestrictionZ&&this._deltaZ.normalize().multiplyScalar(this._lengthRestrictionZ),this._snappedPoint.copy(this.referencePoint).add(this._deltaX).add(this._deltaY).add(this._deltaZ)}else this._lengthRestriction&&(qy(this.referencePoint,this._snappedPoint,this._direction),this._direction.multiplyScalar(this._lengthRestriction),this._snappedPoint.copy(this.referencePoint).add(this._direction));if(this._hasCenterPointRestriction&&(this._lengthRestrictionX||this._lengthRestrictionY||this._lengthRestrictionZ)&&qr(this.referencePoint,this._snappedPoint,this._snappedPoint),this._hasUniformRestriction){xo(this.referencePoint,this._snappedPoint,this._delta);const c=Math.sign(this._delta.x),h=Math.sign(this._delta.y),d=Math.sign(this._delta.z),u=this._hasCenterPointRestriction&&this._lengthRestriction/2||this._lengthRestriction||Math.max(Math.abs(this._delta.x),Math.abs(this._delta.y),Math.abs(this._delta.z));this._delta.set(c*u,h*u,d*u),this._snappedPoint.copy(this.referencePoint).add(this._delta)}if(this._shouldProjectToIntersectionPlane&&(this.constraintPlane.projectPoint(this._snappedPoint,this._projectedPoint),this._snappedPoint.copy(this._projectedPoint)),this._lineRestrictionSnapper){const{position:c}=this._lineRestrictionSnapper.project(this._snappedPoint);if(this._lengthRestriction){xo(this.referencePoint,c,this._delta);const h=this._delta.dot(this._lineRestrictionSnapper.direction),d=Math.sign(h);this._delta.copy(this._lineRestrictionSnapper.direction).multiplyScalar(d*this._lengthRestriction),c.copy(this.referencePoint).add(this._delta)}this._snappedPoint.copy(c)}if(this._referenceLineRestrictionSnapper){const{position:c}=this._referenceLineRestrictionSnapper.project(this._snappedPoint);this._snappedPoint.copy(c)}return this.editor.signals.gizmo.changed.dispatch(),this.restrictedPointGuide.position.copy(this._snappedPoint),this.referenceLine.pointStart.copy(this.intersectionGuide.position),this.referenceLine.pointEnd.copy(this.restrictedPointGuide.position),this.editor.signals.presence.pointPicked.dispatch({point:this._snappedPoint}),{intersectionPoint:this._snappedPoint,normal:a.normal}}set lengthRestriction(t){this._lengthRestriction=t}set lengthRestrictionX(t){this._lengthRestrictionX=t,this._lengthRestriction=t}set lengthRestrictionY(t){this._lengthRestrictionY=t[0]?t:void 0,this._lengthRestriction=t[0]}set lengthRestrictionZ(t){this._lengthRestrictionZ=t,this._lengthRestriction=t}get hasLengthRestriction(){return!!(this._lengthRestriction||this._lengthRestrictionX||this._lengthRestrictionY||this._lengthRestrictionZ)}set hasCenterPointRestriction(t){this._hasCenterPointRestriction=t}get hasCenterPointRestriction(){return this._hasCenterPointRestriction}set hasUniformRestriction(t){this._hasUniformRestriction=t}restrictToLine(t,e){this._lineRestrictionSnapper=new wy("Line Restriction",Te.lineMaterials.invisibleLineMaterial,e,t)}restrictToReferenceLine(t,e){this._referenceLineRestrictionSnapper=new wy("Reference Line Restriction",Te.lineMaterials.invisibleLineMaterial,e,t)}mapAxis(t,e,i){this._fromAxis.copy(t),this._toAxis.copy(e),this._origin.copy(i),this._shouldMapAxis=!0}unmapAxis(){this._shouldMapAxis=!1}addGlobalAxisSnappers(t,e=!1){for(const i of[Mn,to,ul]){let n=i.getComponent(0)?"X":"";n+=i.getComponent(1)?"Y":"",n+=i.getComponent(2)?"Z":"";const o=pO(n),a=new wy(n,fO(this.editor.gizmoMaterialController,o),i,t,e);this._picker.addSnapper(a)}}addPlanarAxisSnappers(t,e,i=!1){const n=[{axis:e[0],name:"X"},{axis:e[1],name:"Z"}];for(const o of n){const a=pO(o.name),l=new wy(o.name,fO(this.editor.gizmoMaterialController,a),o.axis,t,i);this._picker.addSnapper(l)}}removeAxisSnappers(){this._picker.removeAxisSnappers()}addPriorityAxisSnappers(t){this.addGlobalAxisSnappers(t,!0)}addPriorityPlanarAxisSnappers(t,e){this.addPlanarAxisSnappers(t,e,!0)}removePriorityAxisSnappers(){this._picker.removePriorityAxisSnappers()}configureForNormal(t,e,i){this.shouldFilterByFaceNormal=!0,this.restrictToLine(t,e),this.configureForEyePlane(t,e,i);const n=this.constraintPlane.normal.dot(i.getWorldDirection(this._cameraDirectionGlobal));Math.abs(n)<=.01?(this.intersectionPlane.setFromNormalAndCoplanarPoint(e,t),Hi.up(i.matrixWorld,this._cameraUp),this.mapAxis(this._cameraUp,e,t)):(this.intersectionPlane.setFromNormalAndCoplanarPoint(this.constraintPlane.normal,t),this.unmapAxis())}configureForEyePlane(t,e,i){this.shouldExcludeSelection=!0,this.referencePoint.copy(t),Hi.eyePlane(i,t,e,this.intersectionPlane),this.constraintPlane.copy(this.intersectionPlane)}configureForPlane(t,e){this.intersectionPlane.setFromNormalAndCoplanarPoint(e,t),this.constraintPlane.copy(this.intersectionPlane),this.referencePoint.copy(t),this.shouldProjectToIntersectionPlane=!0,this.shouldExcludeSelection=!0}}function fO(s,t){switch(t){case qp.X_AXIS:return Te.lineMaterials.curveGuideMaterialX;case qp.Y_AXIS:return Te.lineMaterials.curveGuideMaterialY;case qp.Z_AXIS:return Te.lineMaterials.curveGuideMaterialZ;default:return Te.lineMaterials.curveGuideMaterial}}function pO(s){switch(s){case"X":return qp.X_AXIS;case"Y":return qp.Y_AXIS;case"Z":return qp.Z_AXIS;default:return qp.PERPENDICULAR}}var Kxt=Object.defineProperty,qxt=(s,t,e)=>t in s?Kxt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Xa=(s,t,e)=>(qxt(s,typeof t!="symbol"?t+"":t,e),e);const Qxt=new Jc(1e5,1e5,1,1);Qxt.rotateX(Math.PI/2);class Jxt extends r3{constructor(t,e,i){super(t,e,new w),this._editor=t,this.gizmo=e,this.intersection=i,Xa(this,"_lookAtAxisLocal",Af.clone().negate()),Xa(this,"_initialUpGlobal",new w),Xa(this,"_initialPointerGlobal",new w),Xa(this,"_initialPosition",new w),Xa(this,"_initialRotation",new ke),Xa(this,"_initialScale",new w),Xa(this,"_initialPivotPointGlobal",new w),Xa(this,"_initialLookAtAxisGlobal",new w),Xa(this,"_pointPicker",new tn(this._editor)),Xa(this,"_pointerGlobal",new w),Xa(this,"_newLookAtAxisGlobal",new w),Xa(this,"_pointerDelta",new w),Xa(this,"_newRotation",new ke),Xa(this,"_measurementGuide"),this.disposable.add(new tt(()=>{this._pointPicker.dispose()}))}onPointerDown(t){super.onPointerDown(t),this.gizmo.target&&(this._initialPivotPointGlobal.copy(this.gizmo.target.pivotGlobal),this.initialMatrixGlobal.decompose(this._initialPosition,this._initialRotation,this._initialScale),this.gizmo.target.coordinateSystem.convertVectorToGlobal(this._lookAtAxisLocal,this._initialLookAtAxisGlobal),this.gizmo.target.coordinateSystem.convertVectorToGlobal(Af,this._initialUpGlobal))}onPointerDrag(t){if(super.onPointerDrag(t),!this.gizmo.target)return;const{eventState:e}=t,{pointerNDC:i}=e.pointerState,{intersectionPoint:n}=this._pointPicker.intersect(e,i);this._pointerGlobal.copy(n),qy(this._initialPivotGlobal,this._pointerGlobal,this._newLookAtAxisGlobal),this._newRotation.setFromUnitVectors(this._lookAtAxisLocal,this._newLookAtAxisGlobal),this.newMatrixGlobal.compose(this._initialPosition,this._newRotation,this._initialScale),this.gizmo.target.matrixGlobal=this.newMatrixGlobal,this.measurementGuide.continue(e,this._initialPivotGlobal,this._pointerGlobal)}get measurementGuide(){return this._measurementGuide||(this._measurementGuide=new yn(this._editor,{variant:"Direction"}),this._editor.helpers.add(this._measurementGuide),this.disposable.add(new tt(()=>{var t;(t=this._measurementGuide)==null||t.dispose()}))),this._measurementGuide}}var $xt=Object.defineProperty,t5t=(s,t,e)=>t in s?$xt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,T2=(s,t,e)=>(t5t(s,typeof t!="symbol"?t+"":t,e),e);const e5t=200,s5t=12;class i5t extends h_{constructor(t,e,i){const n=new Ma(1),o=new re(n).applyQuaternion(new ke().setFromUnitVectors(vi,Af)),a=new Ma(1.1),l=new re(a);super(t,e,i,[o],[l]),this.name=t,this.editor=e,this.materials=i,T2(this,"_axisLocal",new w),T2(this,"_cameraPositionGlobal",new w),T2(this,"_offsetVector",new w),T2(this,"_axisGlobal",new w)}createInteraction(t,e){return new Jxt(this.editor,this,e)}update(t){if(super.update(t),!this._target)return;if(this._isInteracting){this.visible=!1;return}this.visible=!0,this._axisLocal.copy(Af).negate(),this._target.localCoordinateSystem.convertVectorToGlobal(this._axisLocal,this._axisGlobal),this.quaternion.setFromUnitVectors(this._axisLocal,this._axisGlobal);const e=t.controls.getPosition(this._cameraPositionGlobal),i=this._target.pivotGlobal.distanceTo(e),n=rr(e5t,i,t.camera,t.size.width,t.size.height),o=this._offsetVector.copy(this._axisGlobal).multiplyScalar(n);this.position.copy(this._target.pivotGlobal).add(o),this.scaleBasedOnDistanceToCamera(t,s5t),this.updateMatrixWorld()}}var n5t=Object.defineProperty,o5t=(s,t,e)=>t in s?n5t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,rf=(s,t,e)=>(o5t(s,typeof t!="symbol"?t+"":t,e),e);const B6=24,mO=Mn;class r5t{constructor(t){this._handleDirection=t,rf(this,"_mesh"),rf(this,"_collider"),rf(this,"_offsetVector",new w);const e=new Ma(.5);this._mesh=new re(e).applyQuaternion(new ke().setFromUnitVectors(vi,t));const i=new Ma(1.25);this._collider=new re(i)}get renderMesh(){return this._mesh}get collider(){return this._collider}update(t,e,i){if(e)this._mesh.visible=!1;else{this._mesh.visible=!0;const n=this._offsetVector.copy(this._handleDirection).multiplyScalar(i);this._mesh.position.copy(n),this._collider.position.copy(n),h_.scaleBasedOnDistanceToCamera(this._mesh,t,B6),h_.scaleBasedOnDistanceToCamera(this._collider,t,B6),this._mesh.updateMatrixWorld(),this._collider.updateMatrixWorld()}}setVisible(t){this._mesh.visible=t}}class XG{constructor(t){this._mesh=t}get renderMesh(){return this._mesh}update(t,e){this._mesh.scale.setScalar(e),this._mesh.updateMatrixWorld()}}class ZG extends sC{constructor(t,e,i,n,o=new XG(L_t(Y_.ringGeometry,i)),a=mO){const l=new r5t(a);super(t,e,i,1,[l.renderMesh,o.renderMesh],[l.collider]),this.name=t,this.editor=e,this.materials=i,this._sound=n,rf(this,"_axisLocal",new w),rf(this,"_cameraPositionGlobal",new w),rf(this,"_offsetVector",new w),rf(this,"_axisGlobal",new w),rf(this,"_handleMesh"),rf(this,"_ringMesh"),this._handleMesh=l,this._ringMesh=o,this.shouldScaleBasedOnDistanceToCamera=!1}get sound(){return this._sound}update(t){if(super.update(t),!this._target)return;this._axisLocal.copy(mO),this._target.localCoordinateSystem.convertVectorToGlobal(this._axisLocal,this._axisGlobal);const e=this.getHandleDistance(t),i=this.getRingDistance(t);this._handleMesh.update(t,this._isInteracting,e),this._ringMesh.update(this._axisGlobal,i),this.updateMatrixWorld()}}var a5t=Object.defineProperty,l5t=(s,t,e)=>t in s?a5t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,yo=(s,t,e)=>(l5t(s,typeof t!="symbol"?t+"":t,e),e);const c5t=new w,h5t=new Jc(1,1,2,2);class l3 extends r3{constructor(t,e,i,n){super(t,e,n),this._editor=t,this.gizmo=e,this.localAxisIndex=i,this.axisGlobal=n,yo(this,"shouldShowDebugGuides",!1),yo(this,"plane",new Be),yo(this,"planeHelper",new jL(this.plane)),yo(this,"intersectionPlane",new re(h5t,Te.debugPlaneMaterial)),yo(this,"axisLocal",new w),yo(this,"initialPointerGlobal",new w),yo(this,"raycaster",new Nf),yo(this,"xBasis",new w),yo(this,"yBasis",new w),yo(this,"zBasis",new w),yo(this,"eye",new w),yo(this,"planeRight",new w),yo(this,"planeUp",new w),yo(this,"planeMatrix",new Lt),yo(this,"deltaLocal",new w),yo(this,"pointerGlobal",new w),yo(this,"planeIntersectionPoint",new w),yo(this,"_cameraPositionGlobal",new w),yo(this,"_pointerNDC",new ee),yo(this,"createdDebugGuides",!1),this.axisLocal.setComponent(this.localAxisIndex,1),this.shouldShowDebugGuides&&this.createDebugGuides()}calculateInitialPointerGlobal(t,e){const i=this.getPlaneIntersectionPoint(t,e,this.plane,this.raycaster);if(!i){console.error("No plane intersection");return}return this.initialPointerGlobal.copy(i),this.initialPointerGlobal}updatePlane(t){this.eyePlane(this._initialPivotGlobal,this.axisGlobal,t),this.intersectionPlane.matrix.extractBasis(this.xBasis,this.yBasis,this.zBasis),this.plane.setFromNormalAndCoplanarPoint(this.zBasis,this.intersectionPlane.position)}eyePlane(t,e,i){const{eye:n,planeRight:o,planeUp:a,planeMatrix:l,intersectionPlane:c}=this;return n.copy(i).sub(t).normalize(),a.copy(n).cross(e),o.copy(e).cross(a),l.lookAt(c5t,o,a),c.quaternion.setFromRotationMatrix(l),c.position.copy(t),c.updateMatrixWorld(),c}calculatePointerGlobal(t,e){return this.pointerGlobal.copy(this.getPlaneIntersectionPoint(t,e,this.plane,this.raycaster)),this.pointerGlobal}getPlaneIntersectionPoint(t,e,i,n){const{planeIntersectionPoint:o}=this;t.updateMatrixWorld(),t.updateProjectionMatrix(),this._pointerNDC.set(e.x,e.y),n.setFromCamera(this._pointerNDC,t),t.getWorldPosition(this._cameraPositionGlobal),this.updatePlane(this._cameraPositionGlobal);const a=n.ray.intersectPlane(i,o);return a||(console.error("No plane intersection point on eye plane"),new w)}createDebugGuides(){this.createdDebugGuides||(this._editor.helpers.add(this.intersectionPlane),this._editor.helpers.add(this.planeHelper),this.createdDebugGuides=!0,this.disposable.add(new tt(()=>{this._editor.helpers.remove(this.intersectionPlane),this._editor.helpers.remove(this.planeHelper),this.planeHelper.geometry.dispose(),this.intersectionPlane.geometry.dispose()})))}}var d5t=Object.defineProperty,u5t=(s,t,e)=>t in s?d5t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Md=(s,t,e)=>(u5t(s,typeof t!="symbol"?t+"":t,e),e);const f5t=new Jc(1e5,1e5,1,1);f5t.rotateX(Math.PI/2);class KG extends l3{constructor(t,e,i,n){super(t,e,0,Mn.clone()),this._editor=t,this.gizmo=e,this.intersection=i,this._sound=n,Md(this,"_initialPointerGlobal",new w),Md(this,"_initialPivotPointGlobal",new w),Md(this,"_pointPicker"),Md(this,"_pointerDelta",new w),Md(this,"_newRotation",new ke),Md(this,"_measurementGuide"),Md(this,"_initialValue",0),Md(this,"initialDeltaGlobal",new w),Md(this,"initialPivotLocal",new w),Md(this,"_deltaLength",0),this._pointPicker=new tn(this._editor),this.disposable.add(new tt(()=>{this._pointPicker.dispose()}))}get value(){return 0}onPointerDown(t){if(!this.gizmo.target)return;super.onPointerDown(t);const{eventState:e}=t,{pointerNDC:i}=e.pointerState;super.onPointerDown(t),this.calculateInitialPointerGlobal(e.camera,i),this.initialDeltaGlobal.copy(this.initialPointerGlobal).sub(this._initialPivotGlobal),this.initialPivotLocal.copy(this.gizmo.target.pivotLocal),this._initialPivotPointGlobal.copy(this.gizmo.target.pivotGlobal),this._initialValue=this.value}updatePlane(t){if(!this.gizmo.target)return;const{eye:e,intersectionPlane:i}=this,n=this._initialPivotGlobal;e.copy(t).sub(n).normalize(),this.gizmo.target.matrixGlobal.extractBasis(this.xBasis,this.yBasis,this.zBasis),this.xBasis.normalize(),this.yBasis.normalize(),this.zBasis.normalize();const a=Math.abs(e.dot(this.yBasis))>.5?this.yBasis:this.zBasis;i.quaternion.setFromUnitVectors(ul,a),i.position.copy(n),i.updateMatrixWorld(),this.plane.setFromNormalAndCoplanarPoint(a,this.intersectionPlane.position)}onPointerDrag(t){if(super.onPointerDrag(t),!this.gizmo.target)return;const{eventState:e}=t,{pointerState:i}=e;this.calculatePointerGlobal(e.camera,i.pointerNDC);const o=this.pointerGlobal.clone().sub(this._initialPivotGlobal).length(),a=this.initialDeltaGlobal.length();this._deltaLength=o-a}get measurementGuide(){return this._measurementGuide||(this._measurementGuide=new yn(this._editor,{variant:"Direction"},this._editor.gizmoMaterialController.gizmoMaterials.spatialSoundMaterials),this._editor.helpers.add(this._measurementGuide),this.disposable.add(new tt(()=>{var t;(t=this._measurementGuide)==null||t.dispose()}))),this._measurementGuide}}class p5t extends KG{onPointerDrag(t){if(super.onPointerDrag(t),!this.gizmo.target)return;const{eventState:e}=t,i=this._initialValue+this._deltaLength,n=Math.max(0,i);this._sound.parameters.decay=n,this.pointerGlobal.sub(this._initialPivotPointGlobal).setLength(this._sound.decayRadius).add(this._initialPivotPointGlobal),this.measurementGuide.continue(e,this._initialPivotPointGlobal,this.pointerGlobal)}get value(){return this._sound.parameters.decay}}class m5t extends ZG{constructor(t,e,i,n){super(t,e,i,n,new XG(M_t(Y_.ringGeometry,i)))}createInteraction(t,e){return new p5t(this.editor,this,e,this._sound)}getHandleDistance(t){const e=new w;this._handleMesh.renderMesh.getWorldPosition(e);const i=e.distanceTo(t.camera.position),o=rr(B6,i,t.camera,t.size.width,t.size.height)*2-this._sound.parameters.decay;return o>0?this._sound.decayRadius+o:this._sound.decayRadius}getRingDistance(){return this._sound.decayRadius}}class g5t extends KG{onPointerDrag(t){if(!this.gizmo.target)return;super.onPointerDrag(t);const{eventState:e}=t,i=this._initialValue+this._deltaLength;this._sound.setRange(i),this.pointerGlobal.sub(this._initialPivotPointGlobal).setLength(i).add(this._initialPivotPointGlobal),this.measurementGuide.continue(e,this._initialPivotPointGlobal,this.pointerGlobal)}get value(){return this._sound.parameters.range}}class _5t extends ZG{constructor(t,e,i,n){super(t,e,i,n)}createInteraction(t,e){return new g5t(this.editor,this,e,this._sound)}getHandleDistance(t){return this._sound.parameters.range}getRingDistance(t){return this._sound.parameters.range}}var v5t=Object.defineProperty,y5t=(s,t,e)=>t in s?v5t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,sS=(s,t,e)=>(y5t(s,typeof t!="symbol"?t+"":t,e),e);class qG extends sa{constructor(t){super(),this.editor=t,sS(this,"disposable",new Zt),sS(this,"subGizmos",new Set),sS(this,"_target",null),this.disposable.add(new tt(()=>this.subGizmos.forEach(e=>e.dispose())))}dispose(){this.disposable.dispose()}get isGizmo(){return!0}addSubGizmos(...t){for(const e of t)this.subGizmos.add(e),this.add(e)}removeSubGizmo(t){this.remove(t),this.subGizmos.delete(t)}updateSubGizmos(t){for(const e of this.subGizmos)e.update(t)}onPointerOver(t,e){}onPointerMove(t,e){}onPointerOut(t,e){}onPointerDown(t,e){}onPointerUp(t,e){}onPointerDrag(t,e){}setOtherSubGizmosUnfocused(t,e){for(const i of this.subGizmos)i!==t&&i.setUnfocused(e)}setOtherSubGizmosActive(t,e){for(const i of this.subGizmos)i!==t&&i.setActive(e)}get target(){return this._target}set target(t){t!==this._target&&this._onTargetChanged(t),this._target=t;for(const e of this.subGizmos)e.target=t}disposeTarget(){var t;(t=this._target)==null||t.dispose()}_onTargetChanged(t){}}var b5t=Object.defineProperty,C5t=(s,t,e)=>t in s?b5t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Hd=(s,t,e)=>(C5t(s,typeof t!="symbol"?t+"":t,e),e);class w5t{constructor(t,e){this._parent=t,this.target=e,Hd(this,"_reactionDisposers",[]),Hd(this,"_initialMatrixGlobal",new Lt),Hd(this,"_inverseParentMatrixLocal",new Lt),this._initialMatrixGlobal.copy(e.matrixGlobal),this._watch()}_watch(){const t=Gn(()=>this.target.matrixGlobal,()=>{this.updateInitialMatrixGlobal(this._parent.matrixGlobal),this._parent.updateBoundingBox()});this._reactionDisposers.push(t);const e=Gn(()=>this.target.size,()=>{this._parent.updateBoundingBox()});this._reactionDisposers.push(e)}dispose(){for(const t of this._reactionDisposers)t&&t()}get initialMatrixGlobal(){return this._initialMatrixGlobal}updateInitialMatrixGlobal(t){this._inverseParentMatrixLocal.copy(t).invert(),this._initialMatrixGlobal.multiplyMatrices(this._inverseParentMatrixLocal,this.target.matrixGlobal)}}class d_ extends s3{constructor(t){super(),this._targets=t,Hd(this,"_matrixGlobal",new Lt),Hd(this,"_boundingBoxLocal",new Us),Hd(this,"_subTargetBoundingBoxLocal",new Us),Hd(this,"_subTargetBoundingBoxPoints",new Array(8).fill(null).map(()=>new w)),Hd(this,"_subTargets",[]),Hd(this,"_matrixLocal",null),Hd(this,"_tempMatrix4",new Lt);for(const e of t)this._subTargets.push(new w5t(this,e));this.updateBoundingBox()}updateBoundingBox(){this._boundingBoxLocal.makeEmpty();for(const t of this._subTargets){const n=new Qn(t.initialMatrixGlobal).to(Qn.GLOBAL_COORDINATE_SYSTEM).convertBoundingBox(t.target.boundingBoxLocal,this._subTargetBoundingBoxLocal,this._subTargetBoundingBoxPoints);this._boundingBoxLocal.union(n)}}get targets(){return this._targets}get matrixLocal(){return this._matrixLocal==null?this._matrixGlobal.clone():this._matrixLocal.clone()}set matrixLocal(t){this._matrixLocal=t.clone()}get matrixGlobal(){return this._matrixGlobal.clone()}set matrixGlobal(t){this._matrixGlobal.copy(t);for(const e of this._subTargets)this._tempMatrix4.copy(this._matrixGlobal).multiply(e.initialMatrixGlobal),e.target.matrixGlobal=this._tempMatrix4}get boundingBoxLocal(){return this._boundingBoxLocal}get boundingBoxGlobal(){return this.boundingBoxLocal}get isScaleLinked(){const t=this._subTargets[0];return t?t.target.isScaleLinked:!1}get isLookAtable(){return!1}get isScaleCageable(){return!0}get isResizable(){return!1}onBeginInteraction(t){for(const e of this._subTargets)e.updateInitialMatrixGlobal(this.matrixLocal),e.target.onBeginInteraction(t)}onContinueInteraction(t){for(const e of this._subTargets)e.target.onContinueInteraction(t)}onEndInteraction(t){for(const e of this._subTargets)e.target.onEndInteraction(t)}dispose(){for(const t of this._subTargets)t.dispose()}}var x5t=Object.defineProperty,E5t=(s,t,e)=>t in s?x5t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,QG=(s,t,e)=>(E5t(s,typeof t!="symbol"?t+"":t,e),e);const S5t=Math.PI*2,I5t=Math.PI/2,XA=new Rf,gO=48;let k6=[];for(let s=0;s<=gO;s++){const t=Number(s/gO*S5t);k6=k6.concat(Math.cos(t),Math.sin(t),0)}XA.setPositions(k6);XA.rotateX(-I5t);class A5t extends kG{constructor(t,e,i,n){super("CircleGuide",e,n),this.name=t,this.editor=e,this.material=i,this.localAxisIndex=n,QG(this,"line",new DL(XA,this.material)),this.add(this.line)}}class T5t extends sa{constructor(t,e,i,n){super(),this.editor=t,this.localAxisIndex=e,this.target=i,this.gizmo=n,QG(this,"circleGuide",new A5t("RotateGuide",this.editor,this.gizmo.materials.line.lineMaterial,this.localAxisIndex)),this.circleGuide.target=i,this.add(this.circleGuide)}}var P5t=Object.defineProperty,O5t=(s,t,e)=>t in s?P5t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Il=(s,t,e)=>(O5t(s,typeof t!="symbol"?t+"":t,e),e);class M5t extends r3{constructor(t,e,i,n){super(t,e,n),this._editor=t,this.gizmo=e,this.localAxisIndex=i,this.axisGlobal=n,Il(this,"circleGuide",new T5t(this._editor,this.localAxisIndex,this.gizmo.target,this.gizmo)),Il(this,"text",new Ub(o=>YA.format(ms.radToDeg(o)),"")),Il(this,"initialPointerNDC",new ee),Il(this,"pivot2d",new ee),Il(this,"initialDirection",new ee),Il(this,"pivotNDC",new w),Il(this,"eye",new w),Il(this,"sign",1),Il(this,"pointer2d",new ee),Il(this,"direction2d",new ee),Il(this,"previousDirection2d",new ee),Il(this,"accumulatedAngle",0),Il(this,"angle",0),this._editor.helpers.add(this.circleGuide),this._editor.helpers.add(this.text),this.circleGuide.visible=!1,this.disposable.add(new tt(()=>{this._editor.helpers.remove(this.circleGuide),this.text.onEnd(),this._editor.helpers.remove(this.text)}))}onPointerDown(t){if(super.onPointerDown(t),!this.gizmo.target)return;const{eventState:e}=t;this._initialPivotGlobal.copy(this.gizmo.target.pivotGlobal),this.initialPointerNDC.copy(e.pointerState.pointerNDC),o6(e.camera,this._initialPivotGlobal,this.pivotNDC),this.pivot2d.set(this.pivotNDC.x,this.pivotNDC.y),this.initialDirection.copy(this.initialPointerNDC).sub(this.pivot2d).normalize(),this.previousDirection2d.copy(this.initialDirection),this.eye.copy(e.camera.position).sub(this._initialPivotGlobal).normalize(),this.sign=Math.sign(this.eye.dot(this.axisGlobal))||1,this.circleGuide.visible=!0,this.text.position.copy(this._initialPivotGlobal),this.text.setViewport(e),this.text.active=!0}angleSnap(t,e){const{isCmdOrCtrlDown:i,isShiftDown:n}=e.keyState;if(n||!i){let o;n&&i?o=ms.degToRad(15):n?o=ms.degToRad(45):o=ms.degToRad(1),t=Math.floor(t/o)*o}return t}onPointerDrag(t){super.onPointerDrag(t);const{eventState:e}=t,{pointerNDC:i}=e.pointerState;if(!this.gizmo.target)return;o6(e.camera,this._initialPivotGlobal,this.pivotNDC),this.pivot2d.set(this.pivotNDC.x,this.pivotNDC.y),this.pointer2d.copy(i),this.direction2d.copy(this.pointer2d).sub(this.pivot2d).normalize();const n=this.previousDirection2d.cross(this.direction2d);let o=Math.asin(n);o*=this.sign,this.accumulatedAngle+=o,this.previousDirection2d.copy(this.direction2d),this.angle=this.accumulatedAngle,this.angle=this.angleSnap(this.angle,e),this.deltaMatrix.makeRotationAxis(this.axisGlobal,this.angle),Hi.applyPivot(this.deltaMatrix,this._initialPivotGlobal),this.newMatrixGlobal.copy(this.deltaMatrix).multiply(this.initialMatrixGlobal),this.gizmo.target.matrixGlobal=this.newMatrixGlobal,this.text.position.copy(this._initialPivotGlobal),this.text.value=this.angle}onPointerUp(t){super.onPointerUp(t),this.text.onEnd()}}const JG=.015,ZA=3*Math.PI/8,$G=(Math.PI/2-ZA)/2,KA=new FL(1,JG,8,16,ZA);KA.rotateZ($G);KA.rotateX(Math.PI/2);const L5t=5,qA=new FL(1,JG*L5t,8,16,ZA);qA.rotateZ($G);qA.rotateX(Math.PI/2);class R5t extends sC{constructor(t,e,i,n){super(t,e,i,n,[new re(KA,i.mesh.meshMaterial)],[new re(qA,Te.semiTransparentMaterial)]),this.name=t,this.editor=e,this.materials=i,this.localAxisIndex=n}createInteraction(t){return new M5t(this.editor,this,this.localAxisIndex,this.axisGlobal.clone())}}var N5t=Object.defineProperty,j5t=(s,t,e)=>t in s?N5t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,G6=(s,t,e)=>(j5t(s,typeof t!="symbol"?t+"":t,e),e);const tV=new Rf;tV.setPositions([0,0,0,0,1,0]);class D5t extends kG{constructor(t,e,i,n){super(t,e,n),this.name=t,this.editor=e,this.material=i,this.localAxisIndex=n,G6(this,"line",new il(tV,this.material)),G6(this,"_scaleRatio",1),this.add(this.line)}set scaleRatio(t){this._scaleRatio=t}update(t){super.update(t),this.scale.multiplyScalar(this._scaleRatio)}}class F5t extends sa{constructor(t,e,i,n){super(),this.editor=t,this.localAxisIndex=e,this.initialTarget=i,this.materials=n,G6(this,"lineGuide",new D5t("ScaleGuideLine",this.editor,this.materials.line.lineMaterial,this.localAxisIndex)),this.lineGuide.target=i,this.add(this.lineGuide)}set scaleRatio(t){this.lineGuide.scaleRatio=t}set target(t){this.lineGuide.target=t}}var B5t=Object.defineProperty,k5t=(s,t,e)=>t in s?B5t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Ld=(s,t,e)=>(k5t(s,typeof t!="symbol"?t+"":t,e),e);function P2(s){return Math.max(Math.abs(s),1e-6)}class G5t extends l3{constructor(t,e,i,n){super(t,e,i,n),this._editor=t,this.gizmo=e,this.localAxisIndex=i,this.axisGlobal=n,Ld(this,"otherAxes",new w),Ld(this,"scaleGuide",new F5t(this._editor,this.localAxisIndex,this.gizmo.target,this.gizmo.materials)),Ld(this,"text",new Ub(o=>YA.format(o),"x")),Ld(this,"initialDeltaGlobal",new w),Ld(this,"initialPivotLocal",new w),Ld(this,"initialSize",new w),Ld(this,"delta",new w),Ld(this,"scaledPivot",new w),Ld(this,"MIN_SCALE_DELTA",.01),Ld(this,"SNAP_SCALE_BOOST",25),this.otherAxes=new w(1,1,1).sub(this.axisLocal),this._editor.helpers.add(this.scaleGuide),this._editor.helpers.add(this.text),this.scaleGuide.visible=!1,this.disposable.add(new tt(()=>{this._editor.helpers.remove(this.scaleGuide),this.text.onEnd(),this._editor.helpers.remove(this.text)}))}onPointerDown(t){if(!this.gizmo.target)return;const{eventState:e}=t,{pointerNDC:i}=e.pointerState;super.onPointerDown(t),this.calculateInitialPointerGlobal(e.camera,i),this.initialDeltaGlobal.copy(this.initialPointerGlobal).sub(this._initialPivotGlobal),this.initialPivotLocal.copy(this.gizmo.target.pivotLocal),this.initialSize.copy(this.gizmo.target.size),this.scaleGuide.visible=!0,this.text.position.copy(this._initialPivotGlobal),this.text.setViewport(e),this.text.active=!0}onPointerDrag(t){if(!this.gizmo.target)return;const{eventState:e}=t,{pointerState:i,keyState:n}=e;this.calculatePointerGlobal(e.camera,i.pointerNDC);const o=this.pointerGlobal.sub(this._initialPivotGlobal),a=this.initialDeltaGlobal.dot(o),l=o.length(),c=this.initialDeltaGlobal.length();let h=P2(Math.sign(a)*(l/c));const d=Math.abs(this.initialSize.getComponent(this.localAxisIndex)),u=this._editor.sceneController.scene.units,f=n.isShiftDown||this.gizmo.target.coordinateSpace===Xp.GLOBAL||this.gizmo.target.isScaleLinked,p=d>0&&d<=vf&&!f,g=P2(d),_=mm(this.MIN_SCALE_DELTA,u,Dt.M);p&&(h*=_/g);const{isGridSnapEnabled:v,isGridSnapAbsolute:y}=this._editor.snapController;if(v){p&&(h*=this.SNAP_SCALE_BOOST);const b=g*h;h=(()=>{if(y)return P2(ql.snapScalarToIncrement(b,u));{const x=b-g,I=ql.snapScalarToIncrement(x,u);return P2(g+I)}})()/g}f?this.delta.setScalar(h):this.delta.copy(this.axisLocal).multiplyScalar(h).add(this.otherAxes),this.deltaMatrix.makeScale(...this.delta.toArray()),Hi.applyPivot(this.deltaMatrix,this.initialPivotLocal),this.newMatrixGlobal.copy(this.initialMatrixGlobal).multiply(this.deltaMatrix),this.gizmo.target.matrixGlobal=this.newMatrixGlobal,this.scaleGuide.target=this.gizmo.target,this.scaleGuide.scaleRatio=h,this.scaleGuide.lineGuide.update(e),this.delta.copy(this.axisGlobal).multiplyScalar(this.scaleGuide.lineGuide.scale.y),this.scaledPivot.copy(this._initialPivotGlobal).add(this.delta),this.text.position.copy(this.scaledPivot),this.text.value=h,super.onPointerDrag(t)}}const k0=.165,eV=new su(k0,k0,k0);eV.translate(0,1,0);const iS=1.25,QA=new su(k0,k0,k0);QA.scale(iS,iS,iS);QA.translate(0,1,0);class V5t extends sC{constructor(t,e,i,n){super(t,e,i,n,[new re(eV,i.mesh.meshMaterial)],[new re(QA,Te.semiTransparentMaterial)]),this.name=t,this.editor=e,this.materials=i,this.localAxisIndex=n}createInteraction(t){return new G5t(this.editor,this,this.localAxisIndex,this.axisGlobal)}}var H5t=Object.defineProperty,U5t=(s,t,e)=>t in s?H5t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,gn=(s,t,e)=>(U5t(s,typeof t!="symbol"?t+"":t,e),e);function Ew(s){return s=nl(s)*Math.max(Math.abs(s),1e-6),s}const sV=new Jc(1e5,1e5,1,1);sV.rotateX(Math.PI/2);class z5t extends r3{constructor(t,e,i,n,o,a){super(t,e,new w),this._editor=t,this.gizmo=e,this.xAxisFactor=i,this.yAxisFactor=n,this.zAxisFactor=o,this.intersection=a,gn(this,"initialPointerGlobal",new w),gn(this,"_initialScalePivotGlobal",new w),gn(this,"_initialDeltaGlobalX",new w),gn(this,"_initialDeltaGlobalY",new w),gn(this,"_initialDeltaGlobalZ",new w),gn(this,"_initialSize",new w),gn(this,"_initialScale",new w),gn(this,"_pivotPoint",new w),gn(this,"_initialPivotLocal",new w),gn(this,"_axisGlobalX",new w),gn(this,"_axisGlobalY",new w),gn(this,"_axisGlobalZ",new w),gn(this,"_axisLocal",new w),gn(this,"_otherAxes",new w),gn(this,"pointerGlobal",new w),gn(this,"delta",new w),gn(this,"deltaX",new w),gn(this,"deltaY",new w),gn(this,"deltaZ",new w),gn(this,"_pointerDelta",new w),gn(this,"pointEnd",new w),gn(this,"raycaster",new Nf),gn(this,"_pointerNDC",new ee),gn(this,"intersectionPlane",new re(sV,Te.debugPlaneMaterial)),gn(this,"_planeMatrix",new Lt),this.disposable.add(new tt(()=>{this._editor.helpers.remove(this.intersectionPlane)}))}onPointerDown(t){if(super.onPointerDown(t),!this.gizmo.target)return;const{eventState:e}=t,{pointerNDC:i}=e.pointerState,n=this.gizmo.target.boundingBoxLocal,o=this.gizmo.target.matrixGlobal;this._initialScale.setFromMatrixScale(o);const a=this.xAxisFactor,l=this.yAxisFactor,c=this.zAxisFactor,h=a===0&&c===0?-l:l;Nl(-a,h,-c,n,o,this._initialScalePivotGlobal),Nl(a,l,c,n,o,this._pivotPoint);const d=Nl(-a,l,c,n,o),u=Nl(a,h,c,n,o),f=Nl(a,l,-c,n,o);this.axisGlobal.copy(this._pivotPoint).sub(this._initialScalePivotGlobal).normalize(),this.axisGlobal.manhattanLength()===0?(this.axisGlobal.set(this.xAxisFactor,this.yAxisFactor,this.zAxisFactor).normalize(),this.gizmo.target.coordinateSystem.convertVectorToGlobal(this.axisGlobal,this.axisGlobal),this.gizmo.target.coordinateSystem.convertVectorToGlobal(Mn,this._axisGlobalX),this.gizmo.target.coordinateSystem.convertVectorToGlobal(to,this._axisGlobalY),this.gizmo.target.coordinateSystem.convertVectorToGlobal(ul,this._axisGlobalZ),this._axisGlobalY.copy(this._pivotPoint).sub(u).normalize(),this._axisGlobalZ.copy(this._pivotPoint).sub(f).normalize()):(this._axisGlobalX.copy(this._pivotPoint).sub(d).normalize(),this._axisGlobalY.copy(this._pivotPoint).sub(u).normalize(),this._axisGlobalZ.copy(this._pivotPoint).sub(f).normalize()),this.getPlaneIntersectionPoint(e,i,this.initialPointerGlobal);const p=V6(this.initialPointerGlobal,this._initialScalePivotGlobal,this.axisGlobal);this.initialPointerGlobal.copy(p),this._initialDeltaGlobalX.copy(this._pivotPoint).sub(d),this._initialDeltaGlobalY.copy(this._pivotPoint).sub(u),this._initialDeltaGlobalZ.copy(this._pivotPoint).sub(f),this._initialPivotLocal.copy(this.gizmo.target.computePivotLocal(new w(-a,h,-c))),this._axisLocal.set(Math.abs(a),a===0&&c===0?1:0,Math.abs(c)),this._otherAxes.set(1,1,1).sub(this._axisLocal),this._initialSize.copy(this.gizmo.target.size)}onPointerDrag(t){if(super.onPointerDrag(t),!this.gizmo.target)return;const{eventState:e}=t,{keyState:i}=e,{pointerNDC:n}=e.pointerState;this.getPlaneIntersectionPoint(e,n,this.pointerGlobal),(this.xAxisFactor===0||this.zAxisFactor===0)&&V6(this.pointerGlobal,this._initialScalePivotGlobal,this.axisGlobal,this.pointerGlobal),this._pointerDelta.copy(this.pointerGlobal).sub(this.initialPointerGlobal);const a=this._editor.sceneController.scene.units,{isGridSnapEnabled:l,isGridSnapAbsolute:c}=this._editor.snapController;if(l&&!c&&ql.snapPointOnAxisToGrid(this._pointerDelta,this.axisGlobal,a),l&&c&&(this.pointEnd.copy(this._pivotPoint).add(this._pointerDelta),ql.snapPointOnAxisToGrid(this.pointEnd,this.axisGlobal,a),this._pointerDelta.subVectors(this.pointEnd,this._pivotPoint)),this._pivotPoint.manhattanDistanceTo(this._initialScalePivotGlobal)===0)this.delta.copy(this.axisGlobal).add(this._pointerDelta);else{this.delta.copy(this._pivotPoint).add(this._pointerDelta).sub(this._initialScalePivotGlobal);const d=oS(this._axisGlobalX,this.delta,this._initialDeltaGlobalX),u=oS(this._axisGlobalY,this.delta,this._initialDeltaGlobalY),f=oS(this._axisGlobalZ,this.delta,this._initialDeltaGlobalZ);this.delta.set(d,u,f)}if(i.isShiftDown||this.gizmo.target.isScaleLinked){let d=1,u=this.delta.x,f=this.delta.y,p=this.delta.z;Math.abs(f)>Math.abs(u)&&Math.abs(f)>Math.abs(p)?(d=Math.abs(f),f=nl(f)*d):Math.abs(u)>Math.abs(p)?(d=Math.abs(u),f=d):(d=Math.abs(p),f=d),u=nl(u)*d,p=nl(p)*d,this.delta.set(u,f,p)}else this.delta.add(this._otherAxes);if(this.delta.set(Ew(this.delta.x),Ew(this.delta.y),Ew(this.delta.z)),this.deltaMatrix.makeScale(...this.delta.toArray()),Hi.applyPivot(this.deltaMatrix,this._initialPivotLocal),this.newMatrixGlobal.copy(this.initialMatrixGlobal).multiply(this.deltaMatrix),this.gizmo.target.isResizable){const d=new w,u=new ke,f=new w;this.newMatrixGlobal.decompose(d,u,f);const p=new w().copy(f);t1(p,nl);const g=new w().copy(this._initialScale).multiply(p);this.newMatrixGlobal.compose(d,u,g)}if(this.gizmo.target.matrixGlobal=this.newMatrixGlobal,this.gizmo.target.isResizable){const d=new w().copy(this._initialSize).multiply(this.delta);if(this._initialSize.y===0&&this.yAxisFactor===1){const u=this._pointerDelta.dot(this.axisGlobal);d.copy(this._initialSize),d.y=this._initialSize.y+u}t1(d,Math.abs),this.gizmo.target.size=d}}onPointerUp(t){super.onPointerUp(t)}getPlaneIntersectionPoint(t,e,i=new w){const{raycaster:n}=this,{camera:o}=t;o.updateMatrixWorld(),o.updateProjectionMatrix(),this._pointerNDC.set(e.x,e.y),n.setFromCamera(this._pointerNDC,o),this.updatePlane(t);const a=n.intersectObjects([this.intersectionPlane])[0];return a?i.copy(a.point):(console.error("No plane intersection point on eye plane"),i)}updatePlane(t){const{gizmo:e,axisGlobal:i,intersectionPlane:n,_planeMatrix:o}=this;this.xAxisFactor===0||this.zAxisFactor===0?(Hi.eyePlaneMatrix(this.intersection.point,i,t.camera,o),n.quaternion.setFromRotationMatrix(o)):e.getWorldQuaternion(n.quaternion),n.position.copy(this.intersection.point),n.updateMatrixWorld()}}const _O=new w;function V6(s,t,e,i=new w){return _O.copy(s),i.copy(e).multiplyScalar(e.dot(_O.sub(t))).add(t),i}const Y5t=new w,W5t=new w;function Nl(s,t,e,i,n,o=new w){const a=i.getCenter(Y5t),l=i.getSize(W5t),c=a.x+l.x/2*s,h=a.y+l.y/2*t,d=a.z+l.z/2*e;return o.set(c,h,d),o.applyMatrix4(n),o}const nS=new w;function oS(s,t,e){nS.copy(s).multiplyScalar(t.dot(s));const i=e.dot(nS),n=nS.length(),o=e.length();return o===0?0:Ew(nl(i)*(n/o))}var X5t=Object.defineProperty,Z5t=(s,t,e)=>t in s?X5t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Rd=(s,t,e)=>(Z5t(s,typeof t!="symbol"?t+"":t,e),e);const K5t=new Rf;K5t.setPositions([0,-.5,0,0,.5,0]);class iV extends h_{constructor(t,e,i,n,o,a,l,c){super(t,e,i,l,c),this.name=t,this.editor=e,this.materials=i,this.xAxisFactor=n,this.yAxisFactor=o,this.zAxisFactor=a,Rd(this,"measurementGuides",[]),Rd(this,"_timer"),Rd(this,"_pivotPoint",new w),Rd(this,"measurementGuidePointStart",new w),Rd(this,"pointStart",new w),Rd(this,"pointEnd",new w),Rd(this,"_delta",new w),Rd(this,"_axisGlobalX",new w),Rd(this,"_axisGlobalY",new w),Rd(this,"_axisGlobalZ",new w),this.disposable.add(new tt(()=>{clearTimeout(this._timer);for(const h of this.measurementGuides)h.dispose()}))}showGuides(t){if(this.measurementGuides.length===0){this.measurementGuides.push(new yn(this.editor,{variant:"Dimension"})),this.xAxisFactor!==0&&this.zAxisFactor!==0&&this.measurementGuides.push(new yn(this.editor,{variant:"Dimension"}));for(const e of this.measurementGuides)e.text.setViewport(t),this.editor.helpers.add(e)}this.editor.signals.gizmo.changed.dispatch()}hideGuides(){for(const t of this.measurementGuides)t.dispose();this.measurementGuides=[],this.editor.signals.gizmo.changed.dispatch()}onPointerOver(t,e){super.onPointerOver(t,e),this._timer=setTimeout(()=>this.showGuides(e),100)}onPointerOut(t,e){super.onPointerOut(t,e),clearTimeout(this._timer),this.hideGuides()}onPointerDown(t,e){super.onPointerDown(t,e),this.showGuides(e)}onPointerUp(t,e){super.onPointerUp(t,e)}createInteraction(t,e){return new z5t(this.editor,this,this.xAxisFactor,this.yAxisFactor,this.zAxisFactor,e)}update(t){if(super.update(t),!this._target)return;const e=this._target.boundingBoxLocal,i=this._target.matrixGlobal;let n=this.xAxisFactor,o=this.yAxisFactor,a=this.zAxisFactor;Nl(n,o,a,e,i,this.position),this.xAxisFactor===0?n=-1:this.zAxisFactor===0?a=-1:o=-1,Nl(n,o,a,e,i,this.pointStart),this.xAxisFactor===0?n=1:this.zAxisFactor===0?a=1:o=1,Nl(n,o,a,e,i,this.pointEnd),n=this.xAxisFactor,o=this.yAxisFactor,a=this.zAxisFactor;const l=n===0&&a===0?-o:o;Nl(-n,l,-a,e,i,this._pivotPoint),this._delta.copy(this.pointEnd).sub(this.pointStart);const c=this.pointStart;if(this._delta.copy(this._pivotPoint).sub(this.position),this.measurementGuidePointStart.copy(c).add(this._delta),this.measurementGuides.length===0)return;const h=this.measurementGuides[0];if(h.pointStart.copy(this.measurementGuidePointStart),h.pointEnd.copy(c),h.offsetReferencePoint.copy(this._pivotPoint),n!==0&&a!==0){const d=Nl(-n,o,a,e,i),u=Nl(n,l,a,e,i),f=Nl(n,o,-a,e,i);this._axisGlobalX.copy(this._pivotPoint).sub(d).normalize(),this._axisGlobalY.copy(this._pivotPoint).sub(u).normalize(),this._axisGlobalZ.copy(this._pivotPoint).sub(f).normalize(),this._delta.copy(c).sub(this.measurementGuidePointStart),this._axisGlobalX.multiplyScalar(this._delta.dot(this._axisGlobalX));const p=this.measurementGuidePointStart.clone().add(this._axisGlobalX);this._axisGlobalZ.multiplyScalar(this._delta.dot(this._axisGlobalZ));const g=this.measurementGuidePointStart.clone().add(this._axisGlobalZ);this.measurementGuides[0].pointStart.copy(p),this.measurementGuides[0].pointEnd.copy(c),this.measurementGuides[0].offsetReferencePoint.copy(p).sub(this._axisGlobalX),this.measurementGuides[1].pointStart.copy(g),this.measurementGuides[1].pointEnd.copy(c),this.measurementGuides[1].offsetReferencePoint.copy(g).sub(this._axisGlobalZ)}}}const H6=new Rf;H6.setPositions([0,-.5,0,0,.5,0]);class vO extends iV{constructor(t,e,i,n,o,a){super(t,e,i,n,o,a,[new il(H6,i.line.lineMaterial)],[new il(H6,Te.lineMaterials.colliderLineMaterial)]),this.name=t,this.editor=e,this.materials=i,this.xAxisFactor=n,this.yAxisFactor=o,this.zAxisFactor=a}update(t){if(super.update(t),!this._target)return;this._delta.copy(this.pointEnd).sub(this.pointStart);const e=this._delta.length(),i=this._delta.normalize();this.quaternion.setFromUnitVectors(to,i),this.scale.y=e,this.updateMatrixWorld()}}var q5t=Object.defineProperty,Q5t=(s,t,e)=>t in s?q5t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Q1=(s,t,e)=>(Q5t(s,typeof t!="symbol"?t+"":t,e),e);const rS=2,J5t=new su(1*rS,1*rS,1*rS),$5t=new su(1,1,1);class aS extends iV{constructor(t,e,i,n,o,a){super(t,e,i,n,o,a,[new re($5t,i.mesh.meshMaterial)],[new re(J5t,Te.semiTransparentMaterial)]),this.name=t,this.editor=e,this.materials=i,this.xAxisFactor=n,this.yAxisFactor=o,this.zAxisFactor=a,Q1(this,"_initialScalePivotGlobal",new w),Q1(this,"axisGlobal",new w),Q1(this,"_axisLocal",new w),Q1(this,"_transformGizmoAxisGlobal",new w),Q1(this,"_endOfTransformGizmoHandle",new w),Q1(this,"_dummy",new w)}update(t){if(super.update(t),!this._target)return;const e=this._target.boundingBoxLocal,i=this._target.matrixGlobal,n=this.xAxisFactor===0||this.zAxisFactor===0;!this._isInteracting&&n&&this.pushHandleOutIfOverlaps(t,e,i),this._target.matrixGlobal.decompose(this._dummy,this.quaternion,this._dummy),this.scaleBasedOnDistanceToCamera(t,12),this.updateMatrixWorld()}pushHandleOutIfOverlaps(t,e,i){if(!this._target)return;const n=t.gizmoSizePx,o=this._target.pivotGlobal,a=this.position.distanceTo(t.camera.position),l=rr(n,a,t.camera,t.size.width,t.size.height);Nl(-this.xAxisFactor,-1,-this.zAxisFactor,e,i,this._initialScalePivotGlobal),this.axisGlobal.copy(this.position).sub(this._initialScalePivotGlobal).normalize(),this._axisLocal.set(Math.abs(this.xAxisFactor),this.yAxisFactor<0?0:Math.abs(this.yAxisFactor),Math.abs(this.zAxisFactor));const c=this._target.coordinateSystem.convertVectorToGlobal(this._axisLocal,this._transformGizmoAxisGlobal),h=this._endOfTransformGizmoHandle.copy(c).multiplyScalar(l+l/2+l*.32+l/6).add(o);t3t(this.position,h,this.axisGlobal)&&e3t(this.position,this._target.pivotGlobal,c)&&this.position.copy(h)}}function t3t(s,t,e){const i=t.dot(e);return s.dot(e)<=i}const yO=new w;function e3t(s,t,e){return V6(s,t,e,yO),Wr(yO,s)}var s3t=Object.defineProperty,i3t=(s,t,e)=>t in s?s3t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,bO=(s,t,e)=>(i3t(s,typeof t!="symbol"?t+"":t,e),e);class n3t extends l3{constructor(t,e,i,n){super(t,e,i,n),this._editor=t,this.gizmo=e,this.localAxisIndex=i,this.axisGlobal=n,bO(this,"_measurementGuide"),bO(this,"pointEnd",new w),this.disposable.add(new tt(()=>{var o;(o=this._measurementGuide)==null||o.dispose()}))}onPointerDown(t){super.onPointerDown(t);const{eventState:e}=t,{pointerNDC:i}=e.pointerState;this.calculateInitialPointerGlobal(e.camera,i)}onPointerDrag(t){if(!this.gizmo.target)return;const{eventState:e}=t,{pointerNDC:i}=e.pointerState;this.calculatePointerGlobal(e.camera,i);const n=this.pointerGlobal.sub(this.initialPointerGlobal).dot(this.axisGlobal);this.deltaLocal.copy(this.axisGlobal).multiplyScalar(n);const o=this._editor.sceneController.scene.units,{isGridSnapEnabled:a,isGridSnapAbsolute:l}=this._editor.snapController,c=e.keyState.isShiftDown;(a&&!l||c)&&ql.snapVectorToAxisIncrement(this.deltaLocal,this.axisGlobal,o),this.pointEnd.copy(this._initialPivotGlobal).add(this.deltaLocal),a&&l&&!c&&(ql.snapPointOnAxisTo3DGrid(this.pointEnd,this.axisGlobal,o),this.deltaLocal.subVectors(this.pointEnd,this._initialPivotGlobal)),this.deltaMatrix.makeTranslation(...this.deltaLocal.toArray()),this.newMatrixGlobal.copy(this.deltaMatrix).multiply(this.initialMatrixGlobal),this.gizmo.target.matrixGlobal=this.newMatrixGlobal,this._measurementGuide||(this._measurementGuide=new yn(this._editor,{variant:"Guide"},this.gizmo.materials),this._measurementGuide.text.setViewport(e),this._editor.helpers.add(this._measurementGuide)),this._measurementGuide.pointStart.copy(this._initialPivotGlobal),this._measurementGuide.pointEnd.copy(this.pointEnd),super.onPointerDrag(t)}}const nV=.14,oV=.32,JA=.5,CO=.015,rV=new Em(0,nV,oV,12,1,!1);rV.translate(0,1+JA,0);const aV=new Em(CO,CO,.75,6,1,!0);aV.translate(0,JA,0);const wO=1.5,o3t=.03,lV=new Em(0,nV*wO,oV*wO,12,1,!1);lV.translate(0,1+JA+o3t,0);const r3t=Yw([rV,aV]);class a3t extends sC{constructor(t,e,i,n){super(t,e,i,n,[new re(r3t,i.mesh.meshMaterial)],[new re(lV,Te.semiTransparentMaterial)]),this.name=t,this.editor=e,this.materials=i,this.localAxisIndex=n}createInteraction(t){return new n3t(this.editor,this,this.localAxisIndex,this.axisGlobal)}get canDuplicate(){return!0}}var l3t=Object.defineProperty,c3t=(s,t,e)=>t in s?l3t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,jv=(s,t,e)=>(c3t(s,typeof t!="symbol"?t+"":t,e),e);class h3t extends l3{constructor(t,e,i,n){super(t,e,i,n),this._editor=t,this.gizmo=e,this.localAxisIndex=i,this.axisGlobal=n,jv(this,"_measurementGuide"),jv(this,"_planeAxisLocal",new w),jv(this,"pointEnd",new w),jv(this,"translationPlane",new Be),jv(this,"planeAxesGlobal",[new w,new w]);let o=0;for(let a=0;a<3;a++)a!=i&&(this._planeAxisLocal.setComponent(a,1),this.gizmo.target&&this.gizmo.target.coordinateSystem.convertVectorToGlobal(this._planeAxisLocal,this.planeAxesGlobal[o]),this._planeAxisLocal.setComponent(a,0),o++);this.disposable.add(new tt(()=>{var a;(a=this._measurementGuide)==null||a.dispose()}))}calculateInitialPointerGlobal(t,e){const i=this.getPlaneIntersectionPoint(t,e,this.translationPlane,this.raycaster);if(!i){console.error("No plane intersection");return}return this.initialPointerGlobal.copy(i),this.initialPointerGlobal}onPointerDown(t){super.onPointerDown(t);const{eventState:e}=t,{pointerNDC:i}=e.pointerState;this.translationPlane.setFromNormalAndCoplanarPoint(this.axisGlobal,this._initialPivotGlobal),this.calculateInitialPointerGlobal(e.camera,i)}calculatePointerGlobal(t,e){return this.pointerGlobal.copy(this.getPlaneIntersectionPoint(t,e,this.translationPlane,this.raycaster)),this.pointerGlobal}onPointerDrag(t){if(!this.gizmo.target)return;const{eventState:e}=t,{pointerNDC:i}=e.pointerState;this.calculatePointerGlobal(e.camera,i),this.deltaLocal.set(0,0,0).subVectors(this.pointerGlobal,this.initialPointerGlobal);const n=this._editor.sceneController.scene.units,{isGridSnapEnabled:o,isGridSnapAbsolute:a}=this._editor.snapController,l=e.keyState.isShiftDown;(o&&!a||l)&&ql.snapVectorToPlanarIncrements(this.deltaLocal,this.planeAxesGlobal,n),this.pointEnd.copy(this._initialPivotGlobal).add(this.deltaLocal),o&&a&&!l&&(ql.snapPointOnPlaneTo3DGrid(this.pointEnd,this.translationPlane,n),this.deltaLocal.subVectors(this.pointEnd,this._initialPivotGlobal)),this.deltaMatrix.makeTranslation(...this.deltaLocal.toArray()),this.newMatrixGlobal.copy(this.deltaMatrix).multiply(this.initialMatrixGlobal),this.gizmo.target.matrixGlobal=this.newMatrixGlobal,this._measurementGuide||(this._measurementGuide=new yn(this._editor,{variant:"Guide"},this.gizmo.materials),this._measurementGuide.text.setViewport(e),this._editor.helpers.add(this._measurementGuide)),this._measurementGuide.pointStart.copy(this._initialPivotGlobal),this._measurementGuide.pointEnd.copy(this.pointEnd),super.onPointerDrag(t)}}const cV=.03,Lx=.09,hV=new Em(Lx,Lx,cV);hV.translate(.4,0,.4);const lS=1.75,$A=new Em(Lx,Lx,cV);$A.scale(lS,lS,lS);$A.translate(.4,0,.4);class d3t extends sC{constructor(t,e,i,n){super(t,e,i,n,[new re(hV,i.mesh.meshMaterial)],[new re($A,Te.semiTransparentMaterial)]),this.name=t,this.editor=e,this.materials=i,this.localAxisIndex=n}createInteraction(t){return new h3t(this.editor,this,this.localAxisIndex,this.axisGlobal)}get canDuplicate(){return!0}}var u3t=Object.defineProperty,f3t=(s,t,e)=>t in s?u3t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,cS=(s,t,e)=>(f3t(s,typeof t!="symbol"?t+"":t,e),e);class hS extends qG{constructor(t){super(t),cS(this,"_lookAtGizmos",new Set),cS(this,"_spatialSoundGizmos",[]),cS(this,"_scaleCageGizmos",new Set),this._addTransformAxisGizmos(),t.stateController.signals.undoHistorySubmitted.add(()=>{if(this.target instanceof d_){const e=this.target.targets,i=new d_(e);i.pivotAlignment=i1.BOUNDING_BOX_CENTER,i.coordinateSpace=this.editor.sceneController.coordinateSpace,this.target=i}})}_createLookAtGizmo(){const t=new Set,{scaleCageMaterials:e}=this.editor.gizmoMaterialController.gizmoMaterials,i=new i5t("lookAt",this.editor,e);return t.add(i),t}_createSpatialSoundGizmos(t){const e=new Set,{spatialSoundMaterials:i,spatialSoundDecayMaterials:n}=this.editor.gizmoMaterialController.gizmoMaterials;for(const o of t){const a=new _5t("spatialSoundRange",this.editor,i,o),l=new m5t("spatialSoundDecay",this.editor,n,o);e.add(l),e.add(a),l.target=this._target,a.target=this._target}return e}_createScaleCageGizmos(){const t=new Set,{scaleCageMaterials:e}=this.editor.gizmoMaterialController.gizmoMaterials;for(let i=-1;i<=1;++i)for(let n=-1;n<=1;++n){if((i===0||n===0)&&!(i===0&&n===0))continue;let o=i===0&&n===0?1:-1;const a=new aS(`scaleCage:${i}${n}`,this.editor,e,i,o,n);if(t.add(a),i===0&&n===0){o=-1;const l=new aS(`scaleCage:${i}${n}`,this.editor,e,i,o,n);t.add(l)}}for(let i=-1;i<=1;++i)for(let n=-1;n<=1;++n){if(!(i===0||n===0))continue;const o=i===0&&n===0?1:0,a=new aS(`scaleCage:${i}${n}`,this.editor,e,i,o,n);t.add(a)}for(let i=-1;i<=1;++i)for(let n=-1;n<=1;++n){if(i===0&&n===0)continue;const o=i===0||n===0?-1:0,a=new vO(`scaleCage:${i}${n}`,this.editor,e,i,o,n);t.add(a)}for(let i=-1;i<=1;++i)for(let n=-1;n<=1;++n){if(!(i===0||n===0)||i===0&&n===0)continue;const o=i===0||n===0?1:0,a=new vO(`scaleCage:${i}${n}`,this.editor,e,i,o,n);t.add(a)}return t}updateSubGizmos(t){for(const e of this.subGizmos)e.update(t)}_onTargetChanged(t){t&&(t.isLookAtable?this._addLookAtGizmos():this._removeLookAtGizmos(),t.spatialSounds.length?this._addSpatialSoundGizmos(t.spatialSounds):this._removeSpatialSoundGizmos(),t.isScaleCageable?this._addScaleCageGizmos():this._removeScaleCageGizmos())}_addTransformAxisGizmos(){const t=new Set,{xMaterials:e,yMaterials:i,zMaterials:n,xShadedMaterials:o,yShadedMaterials:a,zShadedMaterials:l}=this.editor.gizmoMaterialController.gizmoMaterials,c=[e,i,n],h=[o,a,l],d=["x","y","z"],u=["YZ","XZ","XY"];for(let f=0;f<3;++f){const p=new a3t("move:"+d[f],this.editor,h[f],f);t.add(p);const g=new d3t("move:"+u[f],this.editor,h[f],f);t.add(g);const _=new R5t("rotate:"+d[f],this.editor,c[f],f);t.add(_);const v=new V5t("scale:"+d[f],this.editor,h[f],f);t.add(v)}this.addSubGizmos(...t)}_addLookAtGizmos(){this._lookAtGizmos.size===0&&(this._lookAtGizmos=this._createLookAtGizmo(),this.addSubGizmos(...this._lookAtGizmos))}_removeLookAtGizmos(){for(const t of this._lookAtGizmos)this.removeSubGizmo(t);this._lookAtGizmos.clear()}_addSpatialSoundGizmos(t){const e=this._createSpatialSoundGizmos(t);this._spatialSoundGizmos.push(...e),this.addSubGizmos(...e)}_removeSpatialSoundGizmos(){for(const t of this._spatialSoundGizmos)this.removeSubGizmo(t);this._spatialSoundGizmos=[]}_addScaleCageGizmos(){this._scaleCageGizmos.size===0&&(this._scaleCageGizmos=this._createScaleCageGizmos(),this.addSubGizmos(...this._scaleCageGizmos))}_removeScaleCageGizmos(){for(const t of this._scaleCageGizmos)this.removeSubGizmo(t);this._scaleCageGizmos.clear()}_removeSpatialSoundGizmosIfNeeded(t){if(this._spatialSoundGizmos.length>0){const e=t.spatialSounds;for(const i of this._spatialSoundGizmos)e.includes(i.sound)||(this._spatialSoundGizmos=this._spatialSoundGizmos.filter(n=>n!==i),this.removeSubGizmo(i))}}_addSpatialSoundGizmosIfNeeded(t){for(const e of t.spatialSounds)this._spatialSoundGizmos.find(n=>n.sound===e)||this._addSpatialSoundGizmos([e])}_updateSpatialSoundGizmosIfNeeded(t){this._removeSpatialSoundGizmosIfNeeded(t),this._addSpatialSoundGizmosIfNeeded(t)}update(t){super.update(t);const{target:e}=this;e&&this._updateSpatialSoundGizmosIfNeeded(e)}onPointerOver(t,e){super.onPointerOver(t,e),this.setOtherSubGizmosUnfocused(t,!0)}onPointerMove(t,e){super.onPointerMove(t,e),this.setOtherSubGizmosUnfocused(t,!0)}onPointerOut(t,e){super.onPointerOut(t,e),this.setOtherSubGizmosUnfocused(t,!1)}onPointerDown(t,e){super.onPointerDown(t,e),this.setOtherSubGizmosActive(t,!1)}onPointerUp(t,e){super.onPointerUp(t,e),this.setOtherSubGizmosUnfocused(t,!0),this.setOtherSubGizmosActive(t,!0)}}var p3t=Object.defineProperty,m3t=(s,t,e)=>t in s?p3t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,ju=(s,t,e)=>(m3t(s,typeof t!="symbol"?t+"":t,e),e);class g3t extends GG{constructor(t,e,i,n,o){super(t,i,new w(0,1,0)),this._editor=t,this._curveController=e,this.gizmo=i,ju(this,"_pointPicker",new tn(this._editor)),ju(this,"_measurementGuide"),ju(this,"_wasMouseDragged",!1),ju(this,"_wasControlPressed",!1),ju(this,"_toggledMirroring",!1),ju(this,"_hoverPoint",new w),ju(this,"_keyPointIdSelected",-1),ju(this,"_controlPointIdSelected",-1),ju(this,"_anchorPosition",new w),this._keyPointIdSelected=n,this._controlPointIdSelected=o,this.disposable.add(new tt(()=>{var a;this._pointPicker.dispose(),(a=this._measurementGuide)==null||a.dispose()}))}onPointerDown({eventState:t}){if(t.pointerState.buttonsDown!==Gd.LEFT)return!1;this._wasControlPressed=t.keyState.isCmdOrCtrlDown,this._pointPicker.restrictToIntersectionPlane=!1,this._curveController.beginUpdateCurveParameters(),this._anchorPosition.copy(this.gizmo.position);const e=this._curveController.keyPoints.map(l=>this._curveController.localToWorld(l.position)),i=this._curveController.getDrawingPlaneGlobal();i&&this._pointPicker.intersectionPlane.copy(i);const n=this._curveController.getDrawingAxesGlobal();if(n){this._pointPicker.restrictToIntersectionPlane=!0;for(const l of e)this._pointPicker.addPlanarAxisSnappers(l,n)}else for(const l of e)this._pointPicker.addGlobalAxisSnappers(l);this._pointPicker.referencePoint.copy(this._anchorPosition);let o=this._curveController.plane;const a=this._curveController.keyPoints.length;if(a>=3){const l=this._keyPointIdSelected,c=e[l],h=[c];n?this._pointPicker.addPriorityPlanarAxisSnappers(c,n):this._pointPicker.addPriorityAxisSnappers(c);let d=l,u=l;if(l===a-1?(d=l-1,u=l-2):l===0?(d=l+1,u=l+2):(d=l-1,u=l+1),this._curveController.keyPoints[d]){const f=e[d];h.push(f)}if(this._curveController.keyPoints[u]){const f=e[u];h.push(f)}h.length===3&&(o=new Be().setFromCoplanarPoints(h[0],h[1],h[2]))}else{const l=this._keyPointIdSelected,c=e[l];o=new Be().setFromNormalAndCoplanarPoint(vi.clone(),c)}return this._pointPicker.intersectionPlane.copy(o),this._pointPicker.constraintPlane.copy(o),!0}onPointerDrag({eventState:t}){var n;if(!this._curveController)return!1;const{pointerNDC:e}=t.pointerState;this._pointPicker.shouldExcludeSelection=!0,this._wasMouseDragged=!0,this._pointPicker.shouldIntersectObjects=!this._wasControlPressed&&!this.didIntersectControlPoint,this._pointPicker.shouldProjectToIntersectionPlane=this._wasControlPressed&&!this.didIntersectControlPoint;const{intersectionPoint:i}=this._pointPicker.intersect(t,e);return this._hoverPoint.copy(i),this._measurementGuide||(this._measurementGuide=new yn(this._editor,{variant:"Direction",textOverlayOptions:{shouldIndicateEditable:!0}}),this._measurementGuide.text.setViewport(t),this._editor.helpers.add(this._measurementGuide),(n=this._measurementGuide)==null||n.changed.add(o=>{this._pointPicker.lengthRestriction=o})),this._measurementGuide.pointStart.copy(this._anchorPosition),this._measurementGuide.pointEnd.copy(this._hoverPoint),this.didIntersectKeyPoint?this._wasControlPressed?this._curveController.updateControlPoint(this._keyPointIdSelected,this._controlPointIdSelected,this._hoverPoint,!0):this._curveController.updateKeyPoint(this._keyPointIdSelected,this._hoverPoint):this.didIntersectControlPoint&&(this._wasControlPressed&&!this._toggledMirroring&&(this._curveController.toggleControlPointMirroring(this._keyPointIdSelected),this._toggledMirroring=!0),this._curveController.updateControlPoint(this._keyPointIdSelected,this._controlPointIdSelected,this._hoverPoint)),!0}onPointerUp(){return this._wasControlPressed&&!this._wasMouseDragged&&(this.didIntersectKeyPoint?this._curveController.resetControlPoints(this._keyPointIdSelected):this.didIntersectControlPoint&&this._curveController.resetControlPoint(this._keyPointIdSelected,this._controlPointIdSelected)),this._wasMouseDragged&&(this._wasMouseDragged=!1),this._keyPointIdSelected=-1,this._controlPointIdSelected=-1,this._toggledMirroring=!1,this._curveController.endUpdateCurveParameters(),!0}get didIntersectKeyPoint(){return this._keyPointIdSelected!==-1&&this._controlPointIdSelected===-1}get didIntersectControlPoint(){return this._keyPointIdSelected!==-1&&this._controlPointIdSelected!==-1}}var _3t=Object.defineProperty,v3t=(s,t,e)=>t in s?_3t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,xO=(s,t,e)=>(v3t(s,typeof t!="symbol"?t+"":t,e),e);const y3t=10,b3t=8,C3t=2,w3t=new Ma(.6,16,16),dV=new Ma(1,16,16);dV.scale(-1,1,1);const uV=new Ma(1.2,16,16);uV.name="Collider geometry";class O2 extends h_{constructor(t,e,i,n,o,a){const l=new re(w3t,n.mesh.meshMaterial);l.name="inner";const c=new re(dV,n.mesh.meshOuterMaterial);c.name="outer",super(t,e,n,[l,c],[new re(uV,Te.semiTransparentMaterial)]),this.name=t,this.editor=e,this._curveController=i,this.materials=n,this.keyPointIndex=o,this.controlPointIndex=a,xO(this,"_selected",!1),xO(this,"_v3",new w)}get parameters(){if(!this.target)return null;const t=this.target.sceneObjectView.getComponent(si);return t?t.entity.sceneObject.parameters:null}onPointerDown(t,e){this._selected=!0,super.onPointerDown(t,e)}createInteraction(t){return new g3t(this.editor,this._curveController,this,this.keyPointIndex,this.controlPointIndex)}deselect(){this._selected=!1;const t=this.handle.children[0],e=t,i=t;e.isLine2?e.material=this.materials.line.lineMaterial:i.isMesh&&(i.material=this.materials.mesh.meshMaterial)}update(t){if(super.update(t),!this._target)return;const e=this.parameters;if(!e)return;const i=e.keyPoints[this.keyPointIndex];if(!i)return;const n=i.controls[this.controlPointIndex];this.controlPointIndex==-1?this.position.fromArray(i.position):n&&this.position.fromArray(n.position),this.position.applyMatrix4(this._target.matrixGlobal);const o=(this.controlPointIndex==-1?y3t:b3t)+(this._selected?C3t:0);this.scaleBasedOnDistanceToCamera(t,o),this.updateMatrixWorld()}}var x3t=Object.defineProperty,E3t=(s,t,e)=>t in s?x3t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,S3t=(s,t,e)=>(E3t(s,t+"",e),e);class fV extends s3{constructor(t){super(),this._sceneObjectView=t,S3t(this,"_initialMatrixGlobal",new Lt)}get sceneObjectView(){return this._sceneObjectView}get matrixLocal(){return this._sceneObjectView.transform.matrixLocal.clone()}get matrixGlobal(){return this._sceneObjectView.transform.matrixGlobal.clone()}set matrixGlobal(t){this._sceneObjectView.transform.setMatrix(t)}get boundingBoxLocal(){return this._sceneObjectView.getBoundingBoxLocal()}get boundingBoxGlobal(){return this.boundingBoxLocal}get isScaleLinked(){return!1}onBeginInteraction(){this._initialMatrixGlobal.copy(this.matrixGlobal)}onContinueInteraction(){}onEndInteraction(){}get initialMatrixGlobal(){return this._initialMatrixGlobal}}var I3t=Object.defineProperty,A3t=(s,t,e)=>t in s?I3t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,dS=(s,t,e)=>(A3t(s,typeof t!="symbol"?t+"":t,e),e);class pV extends qG{constructor(t,e){super(t),this._curveController=e,dS(this,"_parameters",null),dS(this,"_target",null),dS(this,"gizmos",{})}get keyPoints(){if(!this._target)return[];if(this._parameters==null){if(!this._target.sceneObjectView)return console.error("No target!"),[];const t=this._target.sceneObjectView.getComponent(si);this._parameters=t.entity.sceneObject.parameters}return this._parameters.keyPoints}updateSubGizmos(t){for(const e of this.subGizmos)e.update(t)}onPointerDown(t,e){this.deselectSubGizmos(t)}deselectSubGizmos(t){for(const e of this.subGizmos)e!==t&&e.deselect()}update(t){var n,o;super.update(t);const e=new Set(this.keyPoints.map(a=>a.id));for(const a of Object.keys(this.gizmos))if(!e.has(a)&&!e.has(a.slice(0,-1))){const l=this.gizmos[a];this.remove(l),delete this.gizmos[a],l.dispose()}const{gizmoMaterials:i}=this.editor.gizmoMaterialController;for(let a=0;a<this.keyPoints.length;a++){let l=this.gizmos[this.keyPoints[a].id];l||(l=new O2(`KeyPoint ${a}`,this.editor,this._curveController,i.curveHandleMaterials,a,-1),l.target=this._target,this.gizmos[this.keyPoints[a].id]=l,this.addSubGizmos(l));for(let c=0;c<2;c++){const h=`${this.keyPoints[a].id}${c}`;let d=this.gizmos[h];!d&&((n=this.keyPoints[a].controls[c])!=null&&n.showHandle)?(d=new O2(`CurvePoint ${c}; KeyPoint ${a}`,this.editor,this._curveController,i.curveHandleMaterials,a,c),d.target=this._target,this.gizmos[h]=d,this.addSubGizmos(d)):d&&!((o=this.keyPoints[a].controls[c])!=null&&o.showHandle)&&(this.removeSubGizmo(d),delete this.gizmos[h],d.dispose())}}}set target(t){this._target=t,this.addGizmos();for(const e of this.subGizmos)e.target=t}addGizmos(){const{gizmoMaterials:t}=this.editor.gizmoMaterialController;for(let e=0;e<this.keyPoints.length;e++){const i=new O2(`KeyPoint ${e}`,this.editor,this._curveController,t.curveHandleMaterials,e,-1);this.gizmos[this.keyPoints[e].id]=i;for(let n=0;n<2;n++){const o=this.keyPoints[e].controls[n];if(o!=null&&o.showHandle){const a=new O2(`CurvePoint ${n}; KeyPoint ${e}`,this.editor,this._curveController,t.curveHandleMaterials,e,n);this.gizmos[`${this.keyPoints[e].id}${n}`]=a}}}this.addSubGizmos(...Object.values(this.gizmos))}updateTarget(){const{firstSelectedSceneEntity:t}=this.editor.selectionController;if(!t){this.visible=!1;return}this.visible=!0;const e=new fV(t);this._target=e;for(const i of this.subGizmos)i.target=this._target}}var T3t=Object.defineProperty,P3t=(s,t,e)=>t in s?T3t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,ig=(s,t,e)=>(P3t(s,typeof t!="symbol"?t+"":t,e),e);class t8 extends Se{constructor(t){super(),this.editor=t,ig(this,"_compositeGizmo",null),ig(this,"_duplicationEventOngoing",!1),ig(this,"_intersection",null),ig(this,"_lastActiveSubGizmo",null),ig(this,"_activeSubGizmo",null),ig(this,"_interaction",null),ig(this,"_picker",new Vwt(this.editor.layerController)),this.disposable.add(new tt(()=>{this._removeGizmo()}))}onPointerEvent(t,e){switch(e){case xt.OVER_END:return this.onOverEnd(t);case xt.HOVER:return this.onPointerHover(t);case xt.CLICK_START:return this.onPointerDown(t);case xt.DRAG_CONTINUE:return this.onPointerDrag(t);case xt.CLICK_END:case xt.DRAG_END:return this.onPointerUp(t);default:return!1}}_createGizmo(t){switch(t){case it.SELECT:return new hS(this.editor);case it.CURVE_EDIT:return new pV(this.editor,this.editor.curveController);case it.MESH_SELECT:return new hS(this.editor);default:return new hS(this.editor)}}_addGizmo(t){return this._compositeGizmo=this._createGizmo(t),this.editor.helpers.add(this._compositeGizmo),this._compositeGizmo}_removeGizmo(){this._compositeGizmo&&(this._compositeGizmo.dispose(),this.editor.helpers.remove(this._compositeGizmo)),this._compositeGizmo=null}getGizmoFromIntersection(t){let{gizmo:e}=t.object.userData;return t.object.traverseAncestors(o=>{o.userData.gizmo&&(e=o.userData.gizmo)}),e.isGizmo?e:null}onOverEnd(t){return this._activeSubGizmo&&(this._activeSubGizmo.onPointerOut(this._activeSubGizmo,t),this._activeSubGizmo=null),this._lastActiveSubGizmo=this._activeSubGizmo,this._intersection=null,!1}onPointerHover(t){var e;return this._compositeGizmo?(this._compositeGizmo.update(t),this._compositeGizmo.updateSubGizmos(t),this._intersection=this.getIntersects(t.pointerState.pointerNDC,[this._compositeGizmo],t),this._intersection?(this._activeSubGizmo=this.getGizmoFromIntersection(this._intersection),this._activeSubGizmo?(this._activeSubGizmo!==this._lastActiveSubGizmo&&((e=this._lastActiveSubGizmo)==null||e.onPointerOut(this._activeSubGizmo,t)),this._activeSubGizmo!==this._lastActiveSubGizmo&&this._activeSubGizmo.onPointerOver(this._activeSubGizmo,t),this._activeSubGizmo.onPointerMove(this._activeSubGizmo,t),this._lastActiveSubGizmo=this._activeSubGizmo,!0):(console.error("No gizmo in intersection"),!1)):(this._activeSubGizmo&&(this._activeSubGizmo.onPointerOut(this._activeSubGizmo,t),this._activeSubGizmo=null),this._lastActiveSubGizmo=this._activeSubGizmo,this._intersection=null,!1)):(this._activeSubGizmo&&(this._activeSubGizmo.onPointerOut(this._activeSubGizmo,t),this._activeSubGizmo=null),this._lastActiveSubGizmo=this._activeSubGizmo,this._intersection=null,!1)}onPointerDown(t){var i;if(!this._compositeGizmo||t.pointerState.buttonsDown!==Gd.LEFT||(this._activeSubGizmo||this.onPointerHover(t),!this._activeSubGizmo||!this._intersection))return!1;this._interaction=this._activeSubGizmo.createInteraction(t,this._intersection);const e={duplicatedOnTransform:this._duplicationEventOngoing,eventState:t};return(i=this._interaction)==null||i.onPointerDown(e),this.disposable.add(new tt(()=>{var n;(n=this._interaction)==null||n.dispose()})),this._activeSubGizmo.onPointerDown(this._activeSubGizmo,t),!0}onPointerDrag(t){if(!this._activeSubGizmo||!this._interaction)return!1;const e={duplicatedOnTransform:this._duplicationEventOngoing,eventState:t};return this._interaction.onPointerDrag(e),!0}onPointerUp(t){if(!this._activeSubGizmo||!this._interaction)return!1;this._activeSubGizmo.onPointerUp(this._activeSubGizmo,t);const e={duplicatedOnTransform:this._duplicationEventOngoing,eventState:t};return this._interaction.onPointerUp(e),this._interaction.dispose(),this._interaction=null,!0}getIntersects(t,e,i){return this._picker.setFromViewport(t,i),this._picker.intersect(e)[0]}}class O3t extends t8{constructor(t){super(t),this.watch()}watch(){const t=Gn(()=>this.editor.selectionController.firstSelectedSceneEntity,e=>{if(this._removeGizmo(),!e)return;this._compositeGizmo=this._addGizmo(this.editor.activeTool.id);const i=new fV(e);this._compositeGizmo.target=i},{fireImmediately:!0});this.disposable.add(new tt(()=>t()))}onPointerEvent(t,e){switch(t.pointerState.lastPointerEventType){case xt.DOUBLE_CLICK_END:return this._onDoubleClickEnd();case xt.CLICK_START:return this.onPointerDown(t);default:return super.onPointerEvent(t,e)}}onPointerDown(t){return super.onPointerDown(t),this._activeSubGizmo==null?(this._compositeGizmo.deselectSubGizmos(),!1):!0}_onDoubleClickEnd(){return wt(g5.EXIT),!0}}var M3t=Object.defineProperty,L3t=(s,t,e)=>t in s?M3t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,R3t=(s,t,e)=>(L3t(s,t+"",e),e);class N3t extends tC{constructor(t,e){super(),R3t(this,"_mesherView",null),this._raycaster.layers=t.editorVisible,this._mesherView=e}intersect(t){throw new Error("Method not implemented.")}intersectMesh(t,e,i,n){const{_raycaster:o}=this;let a=null,l=null,c=null;if(n!=null&&n.has(Le.VERTEX)){if(At.USE_WASM_MESH){if(c=this.raycastVerticesWasm(o.ray,t,e),c.length>0)return{hit:c[0].vertex,selectable:c[0].vertex,point:c[0].point,distance:c[0].distance}}else if(c=this.raycastVertices(i,o.ray,t,e),c.length>0)return{hit:c[0].vertex,selectable:c[0].vertex,point:c[0].point,distance:c[0].distance}}if(n!=null&&n.has(Le.EDGE)){if(At.USE_WASM_MESH){if(a=this.raycastEdgesWasm(o.ray,t,e),a.length>0)return{hit:a[0].edge,selectable:a[0].edge,point:a[0].point,distance:a[0].distance,factor:a[0].factor}}else if(a=this.raycastEdges(i,o.ray,t,e),a.length>0)return{hit:a[0].edge,selectable:a[0].edge,point:a[0].point,distance:a[0].distance,factor:a[0].factor}}if(n!=null&&n.has(Le.FACE)){if(At.USE_WASM_MESH){if(l=this.raycastFacesWasm(o.ray,t,e),l.length>0)return{hit:l[0].face,selectable:l[0].face,point:l[0].point,distance:l[0].distance}}else if(l=this.raycastFaces(i,o.ray,t,e),l.length>0)return{hit:l[0].face,selectable:l[0].face,point:l[0].point,distance:l[0].distance}}return null}raycastVertices(t,e,i,n){const o=t.vertices,a=[],l=new w,c=new w,h=new w;for(let d=0;d<o.length;d++){if(!o[d])continue;const u=o[d].raycast(this._viewport,e,n,l,c,h);u!=null&&a.push(u)}return a.sort((d,u)=>d.distance-u.distance),a}raycastVerticesWasm(t,e,i){if(this._mesherView==null)return[];if(this._mesherView.vertWasm==null)return[];const n=this._mesherView.vertWasm,o=[],a=new w,l=new w,c=new w,h=new w;for(let d=0;d<n.length/3;d++){h.set(n[d*3+0],n[d*3+1],n[d*3+2]);const u=this.raycastVertWasm(this._viewport,h,t,i,a,l,c);u!=null&&(u.vertex=d,o.push(u))}return o.sort((d,u)=>d.distance-u.distance),o}raycastEdges(t,e,i,n){const o=t.edges,a=[],l=new w,c=new w,h=new w;for(let d=0;d<o.length;d++){if(!o[d])continue;const u=o[d].raycast(this._viewport,e,n,l,c,h);u!=null&&a.push(u)}return a.sort((d,u)=>d.distance-u.distance),a}raycastEdgesWasm(t,e,i){if(this._mesherView==null)return[];if(this._mesherView.vertWasm==null)return[];if(this._mesherView.edgeWasm==null)return[];const n=this._mesherView.vertWasm,o=this._mesherView.edgeWasm,a=[],l=new w,c=new w,h=new w,d=new w,u=new w;for(let f=0;f<o.length/2;f++){const p=o[f*2+0],g=o[f*2+1];d.set(n[p*3+0],n[p*3+1],n[p*3+2]),u.set(n[g*3+0],n[g*3+1],n[g*3+2]);const _=this.raycastEdgeWasm(this._viewport,d,u,t,l,c,h);_!=null&&(_.edge=f,a.push(_))}return a.sort((f,p)=>f.distance-p.distance),a}raycastFaces(t,e,i,n){const o=t.faces,a=[];for(let l=0;l<o.length;l++){if(!o[l])continue;const c=o[l].raycast(e);c!=null&&a.push(c)}return a.sort((l,c)=>l.distance-c.distance),a}raycastFacesWasm(t,e,i){if(this._mesherView==null)return[];if(this._mesherView.vertWasm==null)return[];if(this._mesherView.faceWasm==null)return[];if(this._mesherView.faceMapWasm==null)return[];const n=this._mesherView.vertWasm,o=this._mesherView.faceWasm,a=this._mesherView.faceMapWasm,l=[],c=new w,h=new w,d=new w;for(let u=0;u<o.length/3;u++){const f=o[u*3+0],p=o[u*3+1],g=o[u*3+2];c.set(n[f*3+0],n[f*3+1],n[f*3+2]),h.set(n[p*3+0],n[p*3+1],n[p*3+2]),d.set(n[g*3+0],n[g*3+1],n[g*3+2]);const _=this.raycastFaceWasm(c,h,d,t);_!=null&&(_.face=a[u],l.push(_))}return l.sort((u,f)=>u.distance-f.distance),l}raycastVertWasm(t,e,i,n,o,a,l){if(n.copy(e),i.closestPointToPoint(n,o),t.projectWorldToVP(n,a),t.projectWorldToVP(o,l),a.distanceTo(l)>TG)return null;const c=i.origin.distanceTo(n);return{vertex:-1,point:n,distance:c}}raycastEdgeWasm(t,e,i,n,o,a,l){const c=new w().copy(e),h=new w().copy(i),d=new w;if(n.distanceSqToSegment(c,h,o,d),t.projectWorldToVP(d,a),t.projectWorldToVP(o,l),a.distanceTo(l)>AG)return null;const u=c.distanceTo(d)/c.distanceTo(h),f=n.origin.distanceTo(d);return{edge:-1,point:d,distance:f,factor:u}}raycastFaceWasm(t,e,i,n){const o=new w().copy(t),a=new w().copy(e),l=new w().copy(i);let c=null;const h=new w;if(c=n.intersectTriangle(o,a,l,!1,h),c==null)return null;const d=n.origin.distanceTo(h);return{face:-1,point:h,distance:d}}}var j3t=Object.defineProperty,D3t=(s,t,e)=>t in s?j3t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,EO=(s,t,e)=>(D3t(s,typeof t!="symbol"?t+"":t,e),e);class F3t{constructor(t){this._editor=t,EO(this,"_picker"),EO(this,"_target",new w),this._picker=new N3t(this._editor.layerController,this._editor.meshController.view)}intersect(t,e,i){return this._editor.meshController.mesh==null?null:(this._picker.setFromViewport(t,e),this._picker.intersectMesh(e.camera,e.controls.getTarget(this._target),this._editor.meshController.mesh,i))}}var B3t=Object.defineProperty,k3t=(s,t,e)=>t in s?B3t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,G3t=(s,t,e)=>(k3t(s,t+"",e),e);class V3t{constructor(t){this._editor=t,G3t(this,"_picker"),this._picker=new eC(this._editor)}getIntersects(t,e,i,n=!1){return this._picker.setFromViewport(t,i),this._picker.intersect([...e],n)}intersect(t,e,i,n=!1){const o=this.getIntersects(t,e,i,n);if(o.length===0)return null;const a=o[0],l=a.object.userData.id,c=this._editor.sceneController.getSceneEntityById(l);return c?{...a,selectable:c}:null}}var H3t=Object.defineProperty,U3t=(s,t,e)=>t in s?H3t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,SO=(s,t,e)=>(U3t(s,typeof t!="symbol"?t+"":t,e),e);class A1{constructor(t){this._editor=t,SO(this,"_meshSelector",new F3t(this._editor)),SO(this,"_sceneEntitySelector",new V3t(this._editor))}intersect(t,e,i=!1,n=this._editor.activeSelectionController.currentSelectableTypes){const{selectedCollection:o}=this._editor.selectionController,a=this._editor.activeSelectionController.getCurrentSelectableObjects(o,i);let l=null;if(n.has(Le.SCENE_ENTITY)||n.has(Le.TEXT)){const c=new Set;for(const h of a)if(h instanceof Je){const d=h.getObject3D();if(!d)continue;c.add(d)}l=this._sceneEntitySelector.intersect(t,c,e,i)}return(n.has(Le.VERTEX)||n.has(Le.EDGE)||n.has(Le.FACE))&&(l=this._meshSelector.intersect(t,e,n)),l}}var z3t=Object.defineProperty,Y3t=(s,t,e)=>t in s?z3t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,IO=(s,t,e)=>(Y3t(s,typeof t!="symbol"?t+"":t,e),e);class mV extends Se{constructor(t){super(),this._editor=t,IO(this,"layerController",this._editor.layerController),IO(this,"_selector",new A1(this._editor))}onPointerEvent(t,e){switch(e){case xt.DOUBLE_CLICK_END:return this._onDoubleClick(t);default:return!1}}_onDoubleClick(t){const{selectedCollection:e}=this._editor.selectionController;if(e.sceneEntityIds.size===0)return!1;const[i]=e.sceneEntities,n=!0,o=new Set([Le.SCENE_ENTITY]),a=this._selector.intersect(t.pointerState.pointerNDC,t,n,o);if(!a)return!1;const l=a.selectable;if(!(l instanceof Je))return!1;const c=[];if(i.forEachChild(d=>{c.push(d)}),c.length===0)return!1;let h=c.find(d=>{const u=d===l;let f=!1;return l.forEachParent(p=>{if(p===d)return f=!0,!0}),u||f});return h||(h=i),this._editor.selectionController.selectedCollection.set(h),!0}}var W3t=Object.defineProperty,X3t=(s,t,e)=>t in s?W3t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Z3t=(s,t,e)=>(X3t(s,t+"",e),e);let K3t=class extends Se{constructor(t){super(),this._editor=t,Z3t(this,"_selector",new A1(this._editor))}onPointerEvent(t,e){switch(e){case xt.DOUBLE_CLICK_END:return this._onDoubleClick(t);default:return!1}}_onDoubleClick(t){if(this._editor.selectionController.selectedCollection.sceneEntityIds.size===0)return!1;const e=!0,i=new Set([Le.SCENE_ENTITY]),n=this._selector.intersect(t.pointerState.pointerNDC,t,e,i);if(!n)return!1;const o=n.selectable;return o instanceof Je?(o.type===L.CURVE?wt(it.CURVE_EDIT):o.isEditableMesh?wt(it.MESH_SELECT):o.isText&&wt(it.TEXT_EDIT),!0):!1}};var q3t=Object.defineProperty,Q3t=(s,t,e)=>t in s?q3t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,J3t=(s,t,e)=>(Q3t(s,t+"",e),e);class c3 extends Se{constructor(t){super(),this._editor=t,J3t(this,"_selector",new A1(this._editor))}onPointerEvent(t,e){switch(e){case xt.DOUBLE_CLICK_END:return this._onDoubleClick(t);default:return!1}}_onDoubleClick(t){return this._selector.intersect(t.pointerState.pointerNDC,t)?!1:(wt(zl.EXIT),!0)}}var $3t=Object.defineProperty,tEt=(s,t,e)=>t in s?$3t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,eEt=(s,t,e)=>(tEt(s,t+"",e),e);class sEt extends Se{constructor(t){super(),this.playController=t,eEt(this,"_didGetClickStart",!1)}onPointerEvent(t,e){switch(e){case xt.CLICK_START:{this._didGetClickStart=!0;break}case xt.CLICK_END:{this._didGetClickStart&&this.playController.showHotSpots(),this._didGetClickStart=!1;break}default:this._didGetClickStart=!1}return!1}}var iEt=Object.defineProperty,nEt=(s,t,e)=>t in s?iEt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,oEt=(s,t,e)=>(nEt(s,t+"",e),e);class rEt extends Se{constructor(t){super(),this.playController=t,oEt(this,"_squeezeButtonsDown",{left:!1,right:!1})}onXRControllerEvent(t){const{xrState:e}=t,{lastEvent:i}=e,{type:n,handedness:o}=i;if(n==="squeezestart"){if(this._squeezeButtonsDown[o]=!0,this._squeezeButtonsDown.left&&this._squeezeButtonsDown.right)return this.playController.resetAnimations(),!0}else n==="squeezeend"&&(this._squeezeButtonsDown[o]=!1);return!1}}var aEt=Object.defineProperty,lEt=(s,t,e)=>t in s?aEt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Al=(s,t,e)=>(lEt(s,typeof t!="symbol"?t+"":t,e),e);class cEt extends Se{constructor(t,e){super(),this.editor=t,this.curveController=e,Al(this,"_pointPicker"),Al(this,"_wasMouseDragged",!1),Al(this,"_prevWasDragged",!1),Al(this,"_initialButtons",0),Al(this,"_keyPositionGlobal",new w),Al(this,"_controlPt2Global",new w),Al(this,"_controlPtGlobal",new w),Al(this,"_v3A",new w),Al(this,"_v3B",new w),Al(this,"_v3C",new w),Al(this,"_didPickNewPoint",!1),Al(this,"_isInteracting",!1),Al(this,"_measurementGuide");const i=()=>this._onUndoRedo();this.curveController.undid.add(i),this.curveController.redid.add(i),this.disposable.add(new tt(()=>{this._pointPicker.dispose(),this.editor.selectionController.setIsTransformingSelection(!1),this.curveController.undid.remove(i),this.curveController.redid.remove(i)})),this._pointPicker=new tn(this.editor),this._pointPicker.restrictToIntersectionPlane=!1}onPointerEvent(t,e){switch(e){case xt.HOVER:return this._onPointerHover(t);case xt.DOUBLE_CLICK_START:return this._onDoubleClick();case xt.CLICK_START:return this._onPointerDown(t);case xt.DRAG_CONTINUE:return this._onPointerDrag(t);case xt.CLICK_END:case xt.DRAG_END:return this._onPointerUp();default:return!1}}_onPointHoverIntersection(t,e){this._keyPositionGlobal.copy(t);const i=[this._keyPositionGlobal],n=this.curveController.keyPoints.length;if(n>=1){const a=this.curveController.keyPointToPositionGlobal(n-1,this._v3A);i.push(a)}if(n>=2){const a=this.curveController.keyPointToPositionGlobal(n-2,this._v3B);i.push(a)}if(n>=3){const a=this.curveController.keyPointToPositionGlobal(n-3,this._v3C);i.push(a)}const o=!this._wasMouseDragged&&!this._prevWasDragged;return!this.curveController.shouldCreateNewCurve&&!o&&this.curveController.showCurveGuide(this._keyPositionGlobal,this._keyPositionGlobal,this._keyPositionGlobal),this.editor.signals.object.penContinued.dispatch({points:i,intersectionPlane:this._pointPicker.intersectionPlane}),i.length>=2&&this.measurementGuide.continue(e,i[1],i[0]),!0}_onPointerHover(t){this._keyPositionGlobal;const e=this.curveController.keyPoints.length;if(e>=1){const a=this.curveController.keyPointToPositionGlobal(e-1,this._v3A);this._pointPicker.referencePoint.copy(a)}const i=t.planeSnapper.plane;this._pointPicker.intersectionPlane.setFromNormalAndCoplanarPoint(i.normal,this._pointPicker.referencePoint);const{pointerNDC:n}=t.pointerState,{intersectionPoint:o}=this._pointPicker.intersect(t,n);return this._onPointHoverIntersection(o,t)}_onPointerDown(t){if(t.pointerState.lastButton!==Fn.LEFT)return!1;this._isInteracting=!0,this._initialButtons=t.pointerState.buttonsDown,this._didPickNewPoint=!0,this._controlPtGlobal.copy(this._keyPositionGlobal),this._controlPt2Global.copy(this._keyPositionGlobal);const e=[this._keyPositionGlobal,this._keyPositionGlobal,this._keyPositionGlobal],i=this.curveController.keyPoints.length;if(i>=2){const n=this.curveController.keyPointToPositionGlobal(i-1,this._v3A);e[1]=n;const o=this.curveController.keyPointToPositionGlobal(i-2,this._v3B);if(e[2]=o,this._didPickNewPoint=!Wr(this._keyPositionGlobal,n),!this._didPickNewPoint)return!1;UG(e[0],e[1],e[2])?this._pointPicker.intersectionPlane.setFromNormalAndCoplanarPoint(t.planeSnapper.normal,this._keyPositionGlobal):(this._pointPicker.intersectionPlane.setFromCoplanarPoints(...e),this._pointPicker.intersectionPlane.normal.lengthSq()===0&&console.warn("Invalid plane"))}else this._pointPicker.intersectionPlane.setFromNormalAndCoplanarPoint(t.planeSnapper.normal,this._keyPositionGlobal);return wt(Mb.COMMIT),!1}_onPointDragIntersection(t){this._controlPt2Global.copy(t);const e=new w().subVectors(this._keyPositionGlobal,this._controlPt2Global);this._controlPtGlobal.addVectors(this._keyPositionGlobal,e),this.curveController.showCurveGuide(this._keyPositionGlobal,this._controlPtGlobal,this._controlPt2Global);const i=[this._controlPt2Global,this._keyPositionGlobal],n=this.curveController.keyPoints.length;if(n>1){const o=this.curveController.keyPointToPositionGlobal(n-2,this._v3B);i.push(o)}if(n>2){const o=this.curveController.keyPointToPositionGlobal(n-3,this._v3C);i.push(o)}return this.editor.signals.object.penContinued.dispatch({points:i,intersectionPlane:this._pointPicker.intersectionPlane}),!0}_onPointerDrag(t){if(!this._isInteracting||t.pointerState.buttonsDown!==this._initialButtons)return!1;this._wasMouseDragged=!0,this._pointPicker.lengthRestriction=0;const{pointerNDC:e}=t.pointerState,{intersectionPoint:i}=this._pointPicker.intersect(t,e);return this._onPointDragIntersection(i)}_onPointerUp(){var i;if(!this._isInteracting)return!1;const t=!this._wasMouseDragged&&!this._prevWasDragged,e=!this._wasMouseDragged;return this._wasMouseDragged?(this._wasMouseDragged=!1,this._prevWasDragged=!0):this._prevWasDragged=!1,this.curveController.shouldCreateNewCurve?(this.curveController.beginUpdateCurveParameters(),this.curveController.start(this._keyPositionGlobal,this._controlPt2Global,t,e),this.curveController.endUpdateCurveParameters()):this._didPickNewPoint&&(this.curveController.beginUpdateCurveParameters(),this.curveController.addPoint(this._keyPositionGlobal,this._controlPtGlobal,this._controlPt2Global,t,e),this.curveController.endUpdateCurveParameters()),this._pointPicker.addGlobalAxisSnappers(this._keyPositionGlobal),this._pointPicker.removePriorityAxisSnappers(),this._pointPicker.addPriorityAxisSnappers(this._keyPositionGlobal),this.curveController.isLoopClosed&&(this.curveController.stop(),this.editor.signals.object.drawEnded.dispatch(),(i=this._measurementGuide)==null||i.dispose()),this._isInteracting=!1,this.editor.canvasInputController.setValue(0),!0}_onUndoRedo(){var e;const t=this.curveController.keyPoints.map(i=>this.curveController.localToWorld(i.position));this._pointPicker.removeAxisSnappers();for(const i of t)this._pointPicker.addGlobalAxisSnappers(i);this._pointPicker.removePriorityAxisSnappers(),this._pointPicker.addPriorityAxisSnappers(t[t.length-1]),(e=this.editor.viewportController.activeViewport)==null||e.pointerStateController.repeatLastPointerMoveEvent()}_onDoubleClick(){return this.curveController.stop(),this.editor.signals.object.drawEnded.dispatch(),!0}get measurementGuide(){var t;return this._measurementGuide||(this._measurementGuide=new yn(this.editor,{variant:"Direction",textOverlayOptions:{shouldIndicateEditable:!0}}),this.editor.helpers.add(this._measurementGuide),(t=this._measurementGuide)==null||t.changed.add(e=>{this._pointPicker.lengthRestriction=e}),this.disposable.add(new tt(()=>{var e;(e=this._measurementGuide)==null||e.dispose()}))),this._measurementGuide}}var hEt=Object.defineProperty,dEt=(s,t,e)=>t in s?hEt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,ng=(s,t,e)=>(dEt(s,typeof t!="symbol"?t+"":t,e),e);const J1=new w,_h=new w,Du=new w,Nd=new w,Fu=new w,Bu=new w,Dv=new w,Fv=new w,Bv=new w,M2=new w,kv=new w,Gv=new w,Vv=new w;class e8{constructor(t){this.camera=t,ng(this,"startPoint",new w),ng(this,"endPoint",new w),ng(this,"frustum",new eK),ng(this,"mode","contains"),ng(this,"deep",Number.MAX_VALUE),ng(this,"_tempVec3",new w),ng(this,"_cameraPos",new w)}selectObject3D(t,e=[]){const i=t.getWorldPosition(this._tempVec3);this.frustum.containsPoint(i)&&e.push(t)}selectObject3Ds(t,e=[]){for(const i of t)this.selectObject3D(i,e);return e}selectOne(t,e=[],i=[]){const[n,o]=t.isWithinFrustum(this);n&&(e.push(t),i.push(o))}select(t,e=[],i=[]){for(const n of t)this.selectOne(n,e,i);return[e,i,this.camera.getWorldPosition(this._cameraPos)]}updateFrustum(){const{startPoint:t,endPoint:e}=this;this.mode=e.x<t.x?"intersects":"contains",t.x===e.x&&(e.x+=Number.EPSILON),t.y===e.y&&(e.y+=Number.EPSILON),this.camera.updateMatrixWorld();const i=this.frustum.planes;if(this.camera.isPerspectiveCamera)this.camera.updateProjectionMatrix(),J1.copy(t),J1.x=Math.min(t.x,e.x),J1.y=Math.max(t.y,e.y),e.x=Math.max(t.x,e.x),e.y=Math.min(t.y,e.y),_h.setFromMatrixPosition(this.camera.matrixWorld),Du.copy(J1),Nd.set(e.x,J1.y,0),Fu.copy(e),Bu.set(J1.x,e.y,0),Du.unproject(this.camera),Nd.unproject(this.camera),Fu.unproject(this.camera),Bu.unproject(this.camera),kv.copy(Du).sub(_h),Gv.copy(Nd).sub(_h),Vv.copy(Fu).sub(_h),kv.normalize(),Gv.normalize(),Vv.normalize(),kv.multiplyScalar(this.deep),Gv.multiplyScalar(this.deep),Vv.multiplyScalar(this.deep),kv.add(_h),Gv.add(_h),Vv.add(_h),i[0].setFromCoplanarPoints(_h,Du,Nd),i[1].setFromCoplanarPoints(_h,Nd,Fu),i[2].setFromCoplanarPoints(Fu,Bu,_h),i[3].setFromCoplanarPoints(Bu,Du,_h),i[4].setFromCoplanarPoints(Nd,Fu,Bu),i[5].setFromCoplanarPoints(Vv,Gv,kv),i[5].normal.multiplyScalar(-1);else if(this.camera.isOrthographicCamera){const n=Math.min(t.x,e.x),o=Math.max(t.y,e.y),a=Math.max(t.x,e.x),l=Math.min(t.y,e.y);Du.set(n,o,-1),Nd.set(a,o,-1),Fu.set(a,l,-1),Bu.set(n,l,-1),Dv.set(n,o,1),Fv.set(a,o,1),Bv.set(a,l,1),M2.set(n,l,1),Du.unproject(this.camera),Nd.unproject(this.camera),Fu.unproject(this.camera),Bu.unproject(this.camera),Dv.unproject(this.camera),Fv.unproject(this.camera),Bv.unproject(this.camera),M2.unproject(this.camera),i[0].setFromCoplanarPoints(Du,Dv,Fv),i[1].setFromCoplanarPoints(Nd,Fv,Bv),i[2].setFromCoplanarPoints(Bv,M2,Bu),i[3].setFromCoplanarPoints(M2,Dv,Du),i[4].setFromCoplanarPoints(Nd,Fu,Bu),i[5].setFromCoplanarPoints(Bv,Fv,Dv),i[5].normal.multiplyScalar(-1)}}}var uEt=Object.defineProperty,fEt=(s,t,e)=>t in s?uEt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,L2=(s,t,e)=>(fEt(s,typeof t!="symbol"?t+"":t,e),e);class pEt{constructor(t){this.domElement=t,L2(this,"element"),L2(this,"startPoint",new ee),L2(this,"pointTopLeft",new ee),L2(this,"pointBottomRight",new ee),this.element=document.createElement("div"),this.element.classList.add("MarqueeRegionOverlay")}onBeginInteraction(t){this.domElement.appendChild(this.element),this.setStartPoint(t)}setStartPoint(t){this.element.style.translate=`${Math.round(t.x)}px ${Math.round(t.y)}px`,this.element.style.width="0px",this.element.style.height="0px",this.startPoint.set(t.x,t.y)}setEndPoint(t){this.pointBottomRight.x=Math.max(this.startPoint.x,t.x),this.pointBottomRight.y=Math.max(this.startPoint.y,t.y),this.pointTopLeft.x=Math.min(this.startPoint.x,t.x),this.pointTopLeft.y=Math.min(this.startPoint.y,t.y),this.element.style.translate=`${Math.round(this.pointTopLeft.x)}px ${Math.round(this.pointTopLeft.y)}px`,this.element.style.width=`${this.pointBottomRight.x-this.pointTopLeft.x}px`,this.element.style.height=`${this.pointBottomRight.y-this.pointTopLeft.y}px`}onEndInteraction(){var t;(t=this.element.parentElement)==null||t.removeChild(this.element)}}var mEt=Object.defineProperty,gEt=(s,t,e)=>t in s?mEt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Za=(s,t,e)=>(gEt(s,typeof t!="symbol"?t+"":t,e),e);class s8 extends Se{constructor(t){super(),this._editor=t,Za(this,"_frustumCaster"),Za(this,"_marqueeRegionGuide"),Za(this,"_selectionModifier",$t.TOGGLE),Za(this,"_state","none"),Za(this,"_onPanEnd",new Zt),Za(this,"_initialButtons",0),Za(this,"_anchorStartVP",new ee),Za(this,"_anchorPointerVP",new ee),Za(this,"_startPointVP",new ee),Za(this,"_pointerVP",new ee),Za(this,"_startPointNDC",new ee),Za(this,"_panDeltaVP",new ee),Za(this,"_raycaster",new Nf),Za(this,"_isOccludedCache",new Map),this.disposable.add(this._onPanEnd)}onPointerEvent(t,e){const{lastEvent:i}=t.pointerState;switch(this._state){case"ready":if(i.isLeftClickStart)return this._state="down",!1;break;case"down":if(i.isLeftDragStart)return this._state="dragging",this._marqueeSelectBegin(t),!0;if(i.isLeftClickEnd)return this._state="none",!1;break;case"dragging":if(i.isLeftDragContinue)return this._marqueeSelectContinue(t),!0;if(i.isLeftDragEnd)return this._state="none",this._marqueeSelectEnd(t),!0;break;case"panning":if(i.isLeftDragContinue)return this._offsetMarqueeContinue(t),!0;if(i.isLeftDragEnd)return this._state="none",this._marqueeSelectEnd(t),!0;break;default:return!1}return!1}onKeyboardEvent(t,e){const{key:i,isDown:n,wasDown:o,wasEnd:a,wasStart:l}=t.keyState.lastEvent;switch(this._state){case"none":if(o(Vt.SHIFT))return this._state="ready",!1;break;case"down":if(a(Vt.SHIFT))return this._state="none",!1;if(o(Vt.A))return this._selectionModifier=n?$t.ADD:$t.TOGGLE,!0;if(i===Vt.S)return this._selectionModifier=n?$t.REMOVE:$t.TOGGLE,!0;if(i===Vt.R)return this._selectionModifier=n?$t.REPLACE:$t.TOGGLE,!0;break;case"dragging":if(l(Vt.SPACE))return this._state="panning",this._offsetMarqueeBegin(t),!0;if(i===Vt.A)return this._selectionModifier=n?$t.ADD:$t.TOGGLE,!0;if(i===Vt.S)return this._selectionModifier=n?$t.REMOVE:$t.TOGGLE,!0;if(i===Vt.R)return this._selectionModifier=n?$t.REPLACE:$t.TOGGLE,!0;break;case"ready":if(a(Vt.SHIFT))return this._state="none",!1;if(a(Vt.A)||a(Vt.S)||a(Vt.R))return this._selectionModifier=$t.TOGGLE,!0;break;case"panning":if(l(Vt.SHIFT))return this._onPanEnd.clear(),!1;if(a(Vt.SHIFT))return this._onPanEnd.add(new tt(()=>this._state="none")),!1;if(a(Vt.SPACE))return this._state="dragging",this._onPanEnd.dispose(),this._onPanEnd.clear(),!0;if(i===Vt.A)return this._selectionModifier=n?$t.ADD:$t.TOGGLE,!0;if(i===Vt.S)return this._selectionModifier=n?$t.REMOVE:$t.TOGGLE,!0;if(i===Vt.R)return this._selectionModifier=n?$t.REPLACE:$t.TOGGLE,!0;break;default:return!1}return!1}_marqueeSelectBegin(t){this._initialButtons=t.pointerState.buttonsDown;const{pointerVP:e}=t.pointerState;this._initFrustum(t),this._marqueeRegionGuide||(this._marqueeRegionGuide=new pEt(t.domElement)),this._marqueeRegionGuide.onBeginInteraction(e),this.disposable.add(new tt(()=>{var i;(i=this._marqueeRegionGuide)==null||i.onEndInteraction()})),this._startPointVP.copy(e),this._pointerVP.copy(e),t.screenToClipPosition(e,this._startPointNDC)}_offsetMarqueeBegin(t){this._anchorStartVP.copy(this._startPointVP),this._anchorPointerVP.copy(t.pointerState.pointerVP)}_offsetMarqueeContinue(t){var e;this._pointerVP.copy(t.pointerState.pointerVP),Ky(this._anchorPointerVP,this._pointerVP,this._panDeltaVP),this._startPointVP.copy(this._anchorStartVP).add(this._panDeltaVP),t.screenToClipPosition(this._startPointVP,this._startPointNDC),(e=this._marqueeRegionGuide)==null||e.setStartPoint(this._startPointVP),this._marqueeSelectContinue(t)}isPointNotOccluded(t,e){var d;const i=(d=this._editor.meshController.view)==null?void 0:d.faces;if(!i||!e)return!0;const n=this._raycaster;n.layers=i.layers;const o=new w().subVectors(t,e).normalize();n.set(e,o);const a=n.intersectObject(i,!1),c=t.distanceTo(e)-1e-4;return!(a[0]&&a[0].distance<c)}isPointNotOccludedCacheProxy(t,e,i){const n=this._isOccludedCache.get(t);if(n!==void 0)return n;const o=this.isPointNotOccluded(e,i);return this._isOccludedCache.set(t,o),o}_filterSelectables(t){const[e,i,n]=this._frustumCaster.select(t);if(!this._editor.meshController.isXrayViewEnabled)for(let o=0;o<e.length;o++){const a=e[o],l=i[o];this.isPointNotOccludedCacheProxy(a,l,n)||(e.splice(o,1),i.splice(o,1),o--)}return e}_marqueeSelectContinue(t){var c;const{selectedCollection:e}=this._editor.selectionController,{hoveredCollection:i}=this._editor.activeSelectionController,{pointerVP:n,pointerNDC:o}=t.pointerState;this._pointerVP.copy(n),this._frustumCaster.startPoint.set(this._startPointNDC.x,this._startPointNDC.y,.5),this._frustumCaster.endPoint.set(o.x,o.y,.5),this._frustumCaster.updateFrustum();const a=this._editor.activeSelectionController.getCurrentSelectableObjects(e),l=this._filterSelectables(a);i.set(l),(c=this._marqueeRegionGuide)==null||c.setEndPoint(this._pointerVP)}_marqueeSelectEnd(t){var c;const{selectedCollection:e}=this._editor.selectionController,{selectedCollection:i,hoveredCollection:n}=this._editor.activeSelectionController,{pointerNDC:o}=t.pointerState,a=this._editor.activeSelectionController.getCurrentSelectableObjects(e);this._frustumCaster.endPoint.set(o.x,o.y,.5),this._frustumCaster.updateFrustum();const l=this._filterSelectables(a);switch(this._isOccludedCache.clear(),l.length===0&&i.removeAll(),this._selectionModifier){case $t.TOGGLE:{i.has(l)?i.remove(l):i.add(l);break}case $t.ADD:i.add(l);break;case $t.REMOVE:i.remove(l);break;case $t.REPLACE:i.set(l);break}return n.removeAll(),(c=this._marqueeRegionGuide)==null||c.onEndInteraction(),!0}_initFrustum(t){this._frustumCaster=new e8(t.camera),this._frustumCaster.startPoint.set(t.pointerState.pointerNDC.x,t.pointerState.pointerNDC.y,.5)}}var _Et=Object.defineProperty,vEt=(s,t,e)=>t in s?_Et(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,ua=(s,t,e)=>(vEt(s,typeof t!="symbol"?t+"":t,e),e);class yEt extends Se{constructor(t,e){super(),this.editor=t,this.curveController=e,ua(this,"_pointPicker"),ua(this,"_wasMouseDragged",!1),ua(this,"_prevWasDragged",!1),ua(this,"_initialButtons",0),ua(this,"_drawingAxesGlobal",null),ua(this,"_keyPositionGlobal",new w),ua(this,"_keyNormalGlobal",new w),ua(this,"_controlPt2Global",new w),ua(this,"_controlPtGlobal",new w),ua(this,"_v3A",new w),ua(this,"_v3B",new w),ua(this,"_v3C",new w),ua(this,"_didPickNewPoint",!1),ua(this,"_isInteracting",!1),ua(this,"_measurementGuide");const i=()=>this._onUndoRedo();if(this.curveController.undid.add(i),this.curveController.redid.add(i),this.disposable.add(new tt(()=>{this._pointPicker.dispose(),this.editor.selectionController.setIsTransformingSelection(!1),this.curveController.undid.remove(i),this.curveController.redid.remove(i)})),this._pointPicker=new tn(this.editor),t.viewportController.mainViewport){const n=t.viewportController.mainViewport.planeSnapper.plane;this._pointPicker.intersectionPlane.normal.copy(n.normal)}}onPointerEvent(t,e){switch(e){case xt.HOVER:return this._onPointerHover(t);case xt.DOUBLE_CLICK_START:return this._onDoubleClick();case xt.CLICK_START:return this._onPointerDown(t);case xt.DRAG_CONTINUE:return this._onPointerDrag(t);case xt.CLICK_END:case xt.DRAG_END:return this._onPointerUp();default:return!1}}_onPointHoverIntersection(t,e,i){this._keyPositionGlobal.copy(t),this._keyNormalGlobal.copy(e);const n=[this._keyPositionGlobal],o=this.curveController.keyPoints.length;if(o>=1){const l=this.curveController.keyPointToPositionGlobal(o-1,this._v3A);n.push(l)}if(o>=2){const l=this.curveController.keyPointToPositionGlobal(o-2,this._v3B);n.push(l)}if(o>=3){const l=this.curveController.keyPointToPositionGlobal(o-3,this._v3C);n.push(l)}const a=!this._wasMouseDragged&&!this._prevWasDragged;return!this.curveController.shouldCreateNewCurve&&!a&&this.curveController.showCurveGuide(this._keyPositionGlobal,this._keyPositionGlobal,this._keyPositionGlobal),this.editor.signals.object.penContinued.dispatch({points:n,intersectionPlane:this._pointPicker.intersectionPlane}),n.length>=2&&this.measurementGuide.continue(i,n[1],n[0]),!0}_onPointerHover(t){this._keyPositionGlobal;const e=this.curveController.keyPoints.length;if(e>=1){const a=this.curveController.keyPointToPositionGlobal(e-1,this._v3A);this._pointPicker.referencePoint.copy(a)}const{pointerNDC:i}=t.pointerState,{intersectionPoint:n,normal:o}=this._pointPicker.intersect(t,i);return this._onPointHoverIntersection(n,o,t)}_onPointerDown(t){if(t.pointerState.lastButton!==Fn.LEFT)return!1;this._isInteracting=!0,this._initialButtons=t.pointerState.buttonsDown,this._didPickNewPoint=!0,this._controlPtGlobal.copy(this._keyPositionGlobal),this._controlPt2Global.copy(this._keyPositionGlobal),this._keyPositionGlobal,this._keyPositionGlobal,this._keyPositionGlobal;const e=this.curveController.keyPoints.length;if(e===0){const i=new Be().setFromNormalAndCoplanarPoint(this._keyNormalGlobal,this._keyPositionGlobal);this.curveController.setDrawingPlane(i),this._pointPicker.intersectionPlane.copy(i),this._drawingAxesGlobal=this.curveController.getDrawingAxesGlobal(),this._pointPicker.restrictToIntersectionPlane=!0}else if(e>=2){const i=this.curveController.keyPointToPositionGlobal(e-1,this._v3A);if(this.curveController.keyPointToPositionGlobal(e-2,this._v3B),this._didPickNewPoint=!Wr(this._keyPositionGlobal,i),!this._didPickNewPoint)return!1}return wt(Mb.COMMIT),!1}_onPointDragIntersection(t){this._controlPt2Global.copy(t);const e=new w().subVectors(this._keyPositionGlobal,this._controlPt2Global);this._controlPtGlobal.addVectors(this._keyPositionGlobal,e),this.curveController.showCurveGuide(this._keyPositionGlobal,this._controlPtGlobal,this._controlPt2Global);const i=[this._controlPt2Global,this._keyPositionGlobal],n=this.curveController.keyPoints.length;if(n>1){const o=this.curveController.keyPointToPositionGlobal(n-2,this._v3B);i.push(o)}if(n>2){const o=this.curveController.keyPointToPositionGlobal(n-3,this._v3C);i.push(o)}return this.editor.signals.object.penContinued.dispatch({points:i,intersectionPlane:this._pointPicker.intersectionPlane}),!0}_onPointerDrag(t){if(!this._isInteracting||t.pointerState.buttonsDown!==this._initialButtons)return!1;this._wasMouseDragged=!0,this._pointPicker.lengthRestriction=0;const{pointerNDC:e}=t.pointerState,{intersectionPoint:i}=this._pointPicker.intersect(t,e);return this._onPointDragIntersection(i)}_onPointerUp(){var i;if(!this._isInteracting)return!1;const t=!this._wasMouseDragged&&!this._prevWasDragged,e=!this._wasMouseDragged;return this._wasMouseDragged?(this._wasMouseDragged=!1,this._prevWasDragged=!0):this._prevWasDragged=!1,this.curveController.shouldCreateNewCurve?(this.curveController.beginUpdateCurveParameters(),this.curveController.start(this._keyPositionGlobal,this._controlPt2Global,t,e),this.curveController.endUpdateCurveParameters()):this._didPickNewPoint&&(this.curveController.beginUpdateCurveParameters(),this.curveController.addPoint(this._keyPositionGlobal,this._controlPtGlobal,this._controlPt2Global,t,e),this.curveController.endUpdateCurveParameters()),this._drawingAxesGlobal&&this._pointPicker.addPlanarAxisSnappers(this._keyPositionGlobal,this._drawingAxesGlobal),this._pointPicker.removePriorityAxisSnappers(),this._drawingAxesGlobal&&this._pointPicker.addPriorityPlanarAxisSnappers(this._keyPositionGlobal,this._drawingAxesGlobal),this.curveController.isLoopClosed&&(this.curveController.stop(),this.editor.signals.object.drawEnded.dispatch(),(i=this._measurementGuide)==null||i.dispose()),this._isInteracting=!1,this.editor.canvasInputController.setValue(0),!0}_onUndoRedo(){var e;const t=this.curveController.keyPoints.map(i=>this.curveController.localToWorld(i.position));this._pointPicker.removeAxisSnappers();for(const i of t)this._drawingAxesGlobal&&this._pointPicker.addPlanarAxisSnappers(i,this._drawingAxesGlobal);this._pointPicker.removePriorityAxisSnappers(),this._drawingAxesGlobal&&this._pointPicker.addPriorityPlanarAxisSnappers(t[t.length-1],this._drawingAxesGlobal),(e=this.editor.viewportController.activeViewport)==null||e.pointerStateController.repeatLastPointerMoveEvent()}_onDoubleClick(){return this.curveController.stop(),this.editor.signals.object.drawEnded.dispatch(),!0}get measurementGuide(){var t;return this._measurementGuide||(this._measurementGuide=new yn(this.editor,{variant:"Direction",textOverlayOptions:{shouldIndicateEditable:!0}}),this.editor.helpers.add(this._measurementGuide),(t=this._measurementGuide)==null||t.changed.add(e=>{this._pointPicker.lengthRestriction=e}),this.disposable.add(new tt(()=>{var e;(e=this._measurementGuide)==null||e.dispose()}))),this._measurementGuide}}class bEt extends tC{constructor(){super()}intersect(t){const{_raycaster:e}=this;return e.intersectObjects(t,!0)}}var CEt=Object.defineProperty,wEt=(s,t,e)=>t in s?CEt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,xEt=(s,t,e)=>(wEt(s,t+"",e),e);class cd extends Se{constructor(t){super(),this._editor=t,xEt(this,"_planePicker",new bEt)}onPointerEvent(t,e){switch(e){case xt.HOVER:return this._onHover(t);case xt.OVER_END:return this._onPointerLeave();default:return!1}}_onHover(t){this._planePicker.setFromViewport(t.pointerState.pointerNDC,t);const e=this._planePicker.intersect([t.planeSnapper.collider]);if(e.length===0)return!1;const[i]=e;if(i.object.userData.snapper==null)return this._editor.presenceController.updateCursorPositionGlobal(i.point),!1;const n=i.object.userData.snapper,{position:o}=n.project(i.point);return this._editor.presenceController.updateCursorPositionGlobal(o),!0}_onPointerLeave(){return!1}}var EEt=Object.defineProperty,SEt=(s,t,e)=>t in s?EEt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,IEt=(s,t,e)=>(SEt(s,t+"",e),e);class gV{constructor(t){this._editor=t,IEt(this,"_selector",new A1(this._editor))}processHover(t,e,i=!1,n=this._editor.activeSelectionController.currentSelectableTypes){const{hoveredCollection:o}=this._editor.activeSelectionController,a=this._selector.intersect(t,e,i,n);if(!a)return o.removeAll(),null;const{selectable:l,point:c}=a;return this._editor.signals.presence.pointPicked.dispatch({point:c}),o.set(l),a}processClick(t,e,i=!1,n=$t.TOGGLE,o=this._editor.activeSelectionController.currentSelectableTypes){const{selectedCollection:a}=this._editor.activeSelectionController,l=this._selector.intersect(t,e,i,o);if(!l)switch(n){case $t.TOGGLE:case $t.ADD:return!0;default:return a.removeAll(),!1}const{selectable:c,point:h}=l;switch(this._editor.signals.presence.pointPicked.dispatch({point:h}),n){case $t.TOGGLE:a.has(c)?a.remove(c):a.add(c);break;case $t.ADD:a.add(c);break;case $t.REMOVE:a.remove(c);break;case $t.REPLACE:a.set(c);break}return!0}}var AEt=Object.defineProperty,TEt=(s,t,e)=>t in s?AEt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,R2=(s,t,e)=>(TEt(s,typeof t!="symbol"?t+"":t,e),e);class T1 extends Se{constructor(t,e=$t.REPLACE){super(),this._editor=t,this._selectionModifier=e,R2(this,"_selectionChanger",new gV(this._editor)),R2(this,"_prevSelectionModifier",this._selectionModifier),R2(this,"_isDeepSelectEnabled",!1),R2(this,"_isInteracting",!1),this.disposable.add(new tt(()=>{const{hoveredCollection:i}=this._editor.activeSelectionController;i.removeAll()}))}get selectionChanger(){return this._selectionChanger}get isDeepSelectEnabled(){return this._isDeepSelectEnabled}onPointerEvent(t,e){switch(e){case xt.HOVER:return this.onHover(t);case xt.OVER_END:return this._onPointerLeave();case xt.CLICK_START:return this._onClickStart();case xt.CLICK_END:return this._onClickEnd(t);default:return!1}}onKeyboardEvent(t,e){const{key:i}=t.keyState.lastEvent,n=e!==Ai.KEY_END;switch(i){case Vt.SHIFT:e===Ai.KEY_START&&(this._prevSelectionModifier=this._selectionModifier),this._selectionModifier=n?$t.TOGGLE:this._prevSelectionModifier;break;case Vt.CONTROL:case Vt.META:this._isDeepSelectEnabled=n;break}return!1}onHover(t){return!!this._selectionChanger.processHover(t.pointerState.pointerNDC,t,this._isDeepSelectEnabled)}_onClickStart(){return this._isInteracting=!0,!1}_onClickEnd(t){return t.pointerState.lastButton!==Fn.LEFT||!this._isInteracting?!1:(this._isInteracting=!1,this._selectionChanger.processClick(t.pointerState.pointerNDC,t,this._isDeepSelectEnabled,this._selectionModifier))}_onPointerLeave(){return this._editor.activeSelectionController.hoveredCollection.removeAll(),!1}}function PEt(s){const t=new Si({color:16777215,linewidth:4,vertexColors:!0,transparent:!0,depthWrite:!1,stencilWrite:!0,stencilRef:0,stencilFunc:PL,stencilFail:T0,stencilZPass:T0,onBeforeCompile:l=>{l.vertexShader=l.vertexShader.replace("attribute vec3 instanceColorStart","attribute vec4 instanceColorStart"),l.vertexShader=l.vertexShader.replace("attribute vec3 instanceColorEnd","attribute vec4 instanceColorEnd"),l.vertexShader=l.vertexShader.replace("vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd","vColor.xyzw = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd"),l.fragmentShader=l.fragmentShader.replace("gl_FragColor = vec4( diffuseColor.rgb, alpha )","gl_FragColor = vec4( diffuseColor.rgba)")}}),e={r:0,g:0,b:0};new Ge(Kh).getRGB(e);const i=[];for(let l=0;l<51;l++)l<1?i.push(1,1,1,0):l<2?i.push(e.r,e.g,e.b,.5):i.push(e.r,e.g,e.b,1);const n=51*4-4,o=new Float32Array(2*n);for(let l=0;l<n;l+=4)o[2*l]=i[l],o[2*l+1]=i[l+1],o[2*l+2]=i[l+2],o[2*l+3]=i[l+3],o[2*l+4]=i[l+4],o[2*l+5]=i[l+5],o[2*l+6]=i[l+6],o[2*l+7]=i[l+7];const a=new OL(o,8,1);return s.setAttribute("color",new or([],4)),s.setAttribute("instanceColorStart",new Vw(a,4,0)),s.setAttribute("instanceColorEnd",new Vw(a,4,4)),t}const h3={XR_OVERLAY:"xrOverlay"};var Bl=(s=>(s[s.Log=1]="Log",s[s.Error=2]="Error",s[s.Warning=3]="Warning",s[s.Info=4]="Info",s[s.Debug=5]="Debug",s[s.All=6]="All",s))(Bl||{});const OEt={widthPx:1024,heightPx:512,mmsPerPx:2,horizontalPaddingPx:50,verticalPaddingPx:50,fontSizePx:16,showTimestamp:!0,messageType:Bl.All,backgroundColor:"#222222",logColor:"#FFFFFF",errorColor:"#D0342C",warningColor:"#FF7900",infoColor:"#76B947",debugColor:"#0E86D4"};var MEt=Object.defineProperty,LEt=(s,t,e)=>t in s?MEt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,_V=(s,t,e)=>(LEt(s,typeof t!="symbol"?t+"":t,e),e);const vV=class yV extends re{constructor(t,e=yV._planeGeometry,i=new kn({side:Wl,map:t,toneMapped:!1})){super(e,i),_V(this,"_disposable",new Zt),this._disposable.add(new tt(()=>t==null?void 0:t.dispose())),this._disposable.add(new tt(()=>i.dispose()))}dispose(){this._disposable.dispose()}};_V(vV,"_planeGeometry",new Jc(1,1));let REt=vV;var NEt=Object.defineProperty,jEt=(s,t,e)=>t in s?NEt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,U6=(s,t,e)=>(jEt(s,typeof t!="symbol"?t+"":t,e),e);const bV=class CV extends zs{constructor(t,e){var c,h;super(),U6(this,"_front"),U6(this,"_disposable",new Zt),t.colorSpace=Oa;const i=new REt(t);if(this._disposable.add(new tt(()=>i.dispose())),i.material.transparent=e.isTransparent,i.material.depthWrite=!e.isTransparent,this.add(i),this._front=i,e.isDoubleSided){const d=new re(i.geometry,CV._backsideMaterial);this.add(d)}const n=((c=t.image)==null?void 0:c.width)??1e3,o=((h=t.image)==null?void 0:h.height)??1e3,{width:a,height:l}=tot(n,o,e.mmsPerPx);this.scale.set(a,l,1)}updateTexture(t){var e;(e=this._front.material.map)==null||e.dispose(),this._front.material.map=t}dispose(){this._disposable.dispose()}};U6(bV,"_backsideMaterial",new kn({color:2631720,side:Z0,toneMapped:!1}));let wV=bV;var DEt=Object.defineProperty,FEt=(s,t,e)=>t in s?DEt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,uS=(s,t,e)=>(FEt(s,typeof t!="symbol"?t+"":t,e),e);class xV extends zs{constructor(t,e=.5){super(),this._canvas=t,uS(this,"_panel"),uS(this,"_canvasTexture"),uS(this,"_disposable",new Zt),this._disposable.add(new tt(()=>this.removeFromParent()));const i=new UT(this._canvas);this._disposable.add(new tt(()=>this._canvasTexture.dispose())),this._canvasTexture=i;const n=new wV(i,{mmsPerPx:e,isTransparent:!1,isDoubleSided:!1});this._disposable.add(new tt(()=>n.dispose())),this._panel=n,this.add(n)}update(){this._canvasTexture=new UT(this._canvas),this._panel.updateTexture(this._canvasTexture)}dispose(){this._disposable.dispose()}}var BEt=Object.defineProperty,kEt=(s,t,e)=>t in s?BEt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Sw=(s,t,e)=>(kEt(s,typeof t!="symbol"?t+"":t,e),e);const Hv=(s,...t)=>({type:s,timestamp:Date.now(),content:t.join(" ")}),EV=class SV{constructor(){Sw(this,"_messageQueue",[]),Sw(this,"_consoleInstances",[]),Sw(this,"_maxNumMessages",100);const t=console.log.bind(console);console.log=(...l)=>{const c=Hv(Bl.Log,...l);this._pushMessage(c),t(...l),this._consoleInstances.forEach(h=>{h.needsUpdate=!0})};const e=console.error.bind(console);console.error=(...l)=>{const c=Hv(Bl.Error,...l);this._pushMessage(c),e(...l),this._consoleInstances.forEach(h=>{h.needsUpdate=!0})};const i=console.warn.bind(console);console.warn=(...l)=>{const c=Hv(Bl.Warning,...l);this._pushMessage(c),i(...l),this._consoleInstances.forEach(h=>{h.needsUpdate=!0})};const n=console.info.bind(console);console.info=(...l)=>{const c=Hv(Bl.Info,...l);this._pushMessage(c),n(...l),this._consoleInstances.forEach(h=>{h.needsUpdate=!0})};const o=console.debug.bind(console);console.debug=(...l)=>{const c=Hv(Bl.Debug,...l);this._pushMessage(c),o(...l),this._consoleInstances.forEach(h=>{h.needsUpdate=!0})};const a=console.clear.bind(console);console.clear=()=>{this._messageQueue=[],a(),this._consoleInstances.forEach(l=>{l.needsUpdate=!0})}}static getInstance(){return this._instance||(this._instance=new SV),this._instance}_pushMessage(t){this._messageQueue.unshift(t),this._messageQueue=this._messageQueue.slice(0,this._maxNumMessages)}get maxNumMessages(){return this._maxNumMessages}set maxNumMessages(t){this._maxNumMessages=t,this._messageQueue=this._messageQueue.slice(0,t)}createConsole(t){return this._consoleInstances.push(t),t}getMessages(t,e){return t===Bl.All?this._messageQueue:this._messageQueue.filter(i=>i.type===t).slice(0,e)}};Sw(EV,"_instance");let IV=EV;var GEt=Object.defineProperty,VEt=(s,t,e)=>t in s?GEt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,N2=(s,t,e)=>(VEt(s,typeof t!="symbol"?t+"":t,e),e);class HEt{constructor(t={}){N2(this,"_options"),N2(this,"_xrPanel"),N2(this,"_canvas"),N2(this,"needsUpdate",!0);const e=document.createElement("canvas"),i=Object.assign({},OEt,t),{widthPx:n,heightPx:o,mmsPerPx:a}=i;e.width=n,e.height=o,this._options=i,this._canvas=e,this._xrPanel=new xV(e,a),this.update()}get _innerHeight(){return this._options.heightPx-this._options.verticalPaddingPx*2}get _innerWidth(){return this._options.widthPx-this._options.horizontalPaddingPx*2}onSessionStarted({sessionDevice:t,sessionMode:e},i){new URLSearchParams(window.location.search).has("debug")&&t===ol.HEADSET&&(i.add(this._xrPanel),this._xrPanel.position.set(0,0,-1))}onControllerAdded(t,e){e.add(this._xrPanel),this._xrPanel.rotation.set(0,-Math.PI/32,0),this._xrPanel.position.set(0,.2,-.01)}update(){if(!this.needsUpdate)return;const t=this._canvas.getContext("2d");if(!t)return;t.clearRect(0,0,this._canvas.width,this._canvas.height),t.fillStyle=this._options.backgroundColor,t.fillRect(0,0,this._canvas.width,this._canvas.height),t.font=`${this._options.fontSizePx}px monospace`,t.textBaseline="bottom";const e=t.measureText("M"),i=e.actualBoundingBoxAscent*1.2,n=Math.ceil(this._innerHeight/i),o=Math.floor(this._innerWidth/e.width),a=IV.getInstance().getMessages(this._options.messageType,n),l=this._generateLines(a,o);this._renderLines(l,i,e.width,t),this._xrPanel.update(),this.needsUpdate=!1}_getColorForMessageType(t){switch(t){case Bl.Log:return this._options.logColor;case Bl.Error:return this._options.errorColor;case Bl.Warning:return this._options.warningColor;case Bl.Info:return this._options.infoColor;case Bl.Debug:return this._options.debugColor}throw new Error("Invalid message type")}_generateLines(t,e){const i=[];return t.forEach(n=>{const o=this._options.showTimestamp?zEt(n.timestamp)+" ":"",a=UEt(n.content,e-o.length),l=[];a.forEach((c,h)=>{l.unshift({text:h==0?o+c:c,color:this._getColorForMessageType(n.type),indent:h==0?0:o.length})}),i.push(...l)}),i}_renderLines(t,e,i,n){let o=Math.min(this._innerHeight,t.length*e)+this._options.verticalPaddingPx;t.forEach(a=>{n.fillStyle=a.color,n.fillText(a.text,a.indent*i+this._options.horizontalPaddingPx,o),o-=e})}}const UEt=(s,t)=>{const e=[];return s.split(`
`).forEach(n=>{sK(n,{width:t,indent:"",trim:!0}).split(`
`).forEach(a=>{e.push(a)})}),e},zEt=s=>{const t=(i,n=2)=>`${new Array(n).fill(0).join("")}${i}`.slice(-n),e=new Date(s);return`[${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}]`};var YEt=Object.defineProperty,WEt=(s,t,e)=>t in s?YEt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,vp=(s,t,e)=>(WEt(s,typeof t!="symbol"?t+"":t,e),e);class AO extends bn{constructor(t,e,i=!1,n){super(),vp(this,"controller"),vp(this,"_gripControllerGroup"),vp(this,"_handControllerGroup"),vp(this,"_activeControllerGroup",null),vp(this,"inputSource"),vp(this,"hand"),vp(this,"_handedness","none"),vp(this,"_isVisible",!0),this.controller=e.xr.getController(t);const o=e.xr.getControllerGrip(t);this.hand=e.xr.getHand(t),this._gripControllerGroup=new g6(this.controller,o,i),this._handControllerGroup=new _6(this.controller,this.hand,i),this.controller.userData.name="controller",this.add(this.controller,o,this.hand),this.onConnected=this.onConnected.bind(this),this.onDisconnected=this.onDisconnected.bind(this),this.controller.addEventListener("connected",a=>this.onConnected(a,n)),this.controller.addEventListener("disconnected",this.onDisconnected)}get handedness(){return this._handedness}get activeControllerGroup(){return this._activeControllerGroup}onConnected(t,e){t.data&&(this.inputSource=t.data,this._handedness=this.inputSource.handedness??"none",this.inputSource.hand!=null?this._activeControllerGroup=this._handControllerGroup:this.inputSource.gripSpace!=null&&(this._activeControllerGroup=this._gripControllerGroup),e==null||e(this),this.dispatchEvent({...t,type:"connected"}))}onDisconnected(t){this._activeControllerGroup=null,this.dispatchEvent({...t,type:"disconnected"})}getIntersectionRay(t){return this._activeControllerGroup?this._activeControllerGroup.getIntersectionRay(t):null}onIntersectionChanged(t){return this._activeControllerGroup?this._activeControllerGroup.onIntersectionChanged(t):null}update(t,e,i){var n;this.inputSource&&((n=this._activeControllerGroup)==null||n.update(t,e,i,this.inputSource))}dispose(){this.controller.removeEventListener("connected",this.onConnected),this.controller.removeEventListener("disconnected",this.onDisconnected)}getRayParent(){var t;return(t=this._activeControllerGroup)==null?void 0:t.getRayParent()}setVisibleIfNeeded(t){var e;this._isVisible!==t&&(this._isVisible=t,(e=this._activeControllerGroup)==null||e.setShouldDrawControllerMesh(t))}}var XEt=Object.defineProperty,ZEt=(s,t,e)=>t in s?XEt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,j2=(s,t,e)=>(ZEt(s,typeof t!="symbol"?t+"":t,e),e);class KEt extends bn{constructor(t,e){super(),this.inputSource=t,this.gl=e,j2(this,"_disposable",new Zt),j2(this,"_controllerSpace"),j2(this,"_intersectionRay",new $p),j2(this,"_quaternionGlobal",new ke),this._controllerSpace=new bn,this.name="XRGazeController",this.add(this._controllerSpace)}getIntersectionRay(t){const e=this.gl.xr.getReferenceSpace();if(!e)return null;const i=t.getPose(this.inputSource.targetRaySpace,e);if(!i)return;const{position:n,orientation:o}=i.transform;return this._intersectionRay.origin.set(n.x,n.y,n.z).applyMatrix4(this.matrixWorld),this._quaternionGlobal.set(o.x,o.y,o.z,o.w),this._intersectionRay.direction.set(0,0,-.1).applyQuaternion(this._quaternionGlobal).transformDirection(this.matrixWorld),this._intersectionRay}onIntersectionChanged(t){}update(t,e,i){const n=this.gl.xr.getReferenceSpace();if(!n)return null;const o=t.getPose(this.inputSource.targetRaySpace,n);if(!o)return null;const{position:a,orientation:l}=o.transform;this._controllerSpace.position.set(a.x,a.y,a.z),this._controllerSpace.quaternion.set(l.x,l.y,l.z,l.w)}dispose(){this._disposable.dispose()}getRayParent(){}}var qEt=Object.defineProperty,QEt=(s,t,e)=>t in s?qEt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,AV=(s,t,e)=>(QEt(s,typeof t!="symbol"?t+"":t,e),e);const TV=class PV extends zs{constructor(){super(),AV(this,"_disposable",new Zt),this._disposable.add(new tt(()=>this.removeFromParent()))}async load(t,e){const i=await PV._textureLoader.loadAsync(t);this._disposable.add(new tt(()=>i.dispose()));const n=new wV(i,{mmsPerPx:e.mmsPerPx,isTransparent:e.isTransparent,isDoubleSided:e.isDoubleSided});this._disposable.add(new tt(()=>n.dispose())),this.add(n)}update(){}dispose(){this._disposable.dispose()}};AV(TV,"_textureLoader",new kh);let JEt=TV;const $Et="/Instructions@2x-l3NwE9yL.png";var tSt=Object.defineProperty,eSt=(s,t,e)=>t in s?tSt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,TO=(s,t,e)=>(eSt(s,typeof t!="symbol"?t+"":t,e),e);class sSt{constructor(t={}){TO(this,"_xrPanel"),TO(this,"_disposable",new Zt),this._xrPanel=new JEt,this._disposable.add(new tt(()=>this._xrPanel.dispose())),this._load().then(()=>{this.update()})}async _load(){await this._xrPanel.load($Et,{isTransparent:!0,mmsPerPx:.35,isDoubleSided:!1})}update(){}onSessionStarted({sessionMode:t,sessionDevice:e},i){e===ol.HEADSET&&t==="immersive-ar"&&(i.add(this._xrPanel),this._xrPanel.position.set(0,-.1,-.5))}get object(){return this._xrPanel}dispose(){this._disposable.dispose()}}var iSt=Object.defineProperty,nSt=(s,t,e)=>t in s?iSt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Uv=(s,t,e)=>(nSt(s,typeof t!="symbol"?t+"":t,e),e);class oSt{constructor(){Uv(this,"_disposable",new Zt),Uv(this,"_canvas"),Uv(this,"_stats"),Uv(this,"_timer"),Uv(this,"_xrPanel"),this._stats=new BL,this._canvas=this._stats.dom.children[0],this._xrPanel=new xV(this._canvas,1),this._disposable.add(new tt(()=>this._xrPanel.dispose())),this._xrPanel.update(),this.start()}dispose(){this._disposable.dispose()}update(){this._stats.update()}start(){this._timer=setInterval(()=>{this._xrPanel.update()},1e3),this._disposable.add(new tt(()=>clearTimeout(this._timer)))}stop(){clearTimeout(this._timer)}onControllerAdded(t,e){e.add(this._xrPanel),this._xrPanel.rotateX(-Math.PI/32),this._xrPanel.position.set(-.1,0,-.01)}}var rSt=Object.defineProperty,aSt=(s,t,e)=>t in s?rSt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,D2=(s,t,e)=>(aSt(s,typeof t!="symbol"?t+"":t,e),e);class OV extends bn{constructor(t,e,i){super(),this.inputSource=t,this._controllerSpace=e,this.gl=i,D2(this,"_disposable",new Zt),D2(this,"_shouldSetFromPose",!0),D2(this,"_intersectionRay",new $p),D2(this,"_quaternionGlobal",new ke),this.name="XRTouchController",this.add(this._controllerSpace)}get group(){return this._controllerSpace}setShouldDrawControllerMesh(t){}_updateControllerSpaceFromPose(t){const e=this.gl.xr.getReferenceSpace();if(!e)return null;this._controllerSpace.updateWorldMatrix(!0,!1);const i=t.getPose(this.inputSource.targetRaySpace,e);if(!i)return null;const{position:n,orientation:o}=i.transform;this._controllerSpace.position.set(n.x,n.y,n.z),this._controllerSpace.quaternion.set(o.x,o.y,o.z,o.w)}getIntersectionRay(t){return this._shouldSetFromPose&&(this._updateControllerSpaceFromPose(t),this._shouldSetFromPose=!1),this._intersectionRay.origin.copy(this._controllerSpace.position).applyMatrix4(this.matrixWorld),this._quaternionGlobal.copy(this._controllerSpace.quaternion),this._intersectionRay.direction.set(0,0,-1).applyQuaternion(this._quaternionGlobal).transformDirection(this.matrixWorld),this._intersectionRay}onIntersectionChanged(t){}update(t,e,i){}dispose(){this._disposable.dispose()}getRayParent(){}}var lSt=Object.defineProperty,cSt=(s,t,e)=>t in s?lSt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,PO=(s,t,e)=>(cSt(s,typeof t!="symbol"?t+"":t,e),e);class MV{constructor(t=new Be(vi,0)){this.groundPlane=t,PO(this,"_raycaster"),PO(this,"_groundPlane"),this._raycaster=new Nf,this._groundPlane=new Be().set(t.normal,t.constant)}intersectGround(t){return this._raycaster.ray.intersectPlane(this._groundPlane,t)}setFromViewport(t,e){const i=e.planeSnapper.plane;this._groundPlane.normal.copy(i.normal),e.camera.updateProjectionMatrix(),e.camera.updateMatrixWorld(),this._raycaster.setFromCamera(t,e.camera)}setFromPositionAndDirection(t,e){this._raycaster.ray.origin.copy(t),this._raycaster.ray.direction.copy(e)}}var hSt=Object.defineProperty,dSt=(s,t,e)=>t in s?hSt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,yp=(s,t,e)=>(dSt(s,typeof t!="symbol"?t+"":t,e),e);class uSt extends zs{constructor(t){super(),this._xrManager=t,yp(this,"_xrHitTestSource"),yp(this,"_hasIntersected",!1),yp(this,"_intersectionPlane",new Be(vi.clone(),0)),yp(this,"_raycaster",new MV(this._intersectionPlane)),yp(this,"_viewerPositionOnGround",new w),yp(this,"_intersectionPosition",new w),yp(this,"_eye",new w),yp(this,"_yAxis",new w)}update(t){const e=this._xrManager.getReferenceSpace();if(!e)return null;const i=t.getViewerPose(e);if(!i)return null;i.views.length>0?this._getAveragePosition(i.views,this.position):this.position.set(i.transform.position.x,i.transform.position.y,i.transform.position.z);const n=i.views.length>0?i.views[0].transform.orientation:i.transform.orientation;this.quaternion.set(n.x,n.y,n.z,n.w),this.updateMatrixWorld()}_getAveragePosition(t,e=new w){const i=t.map(n=>n.transform.position);return e.setScalar(0),i.forEach(n=>{e.x+=n.x,e.y+=n.y,e.z+=n.z}),e.divideScalar(i.length),e}async onSessionStarted(t){if(!t.requestHitTestSource)return;const e=await t.requestReferenceSpace("viewer");this._xrHitTestSource=await t.requestHitTestSource({space:e})}onSessionEnded(){var t;(t=this._xrHitTestSource)==null||t.cancel(),this._xrHitTestSource=void 0}intersectWithXRPlanes(t,e=new Lt){const i=this._xrManager.getReferenceSpace();if(!i||!this._xrHitTestSource)return null;const n=t.getHitTestResults(this._xrHitTestSource);if(n.length>0){const o=n[0].getPose(i);if(!o)return null;e.fromArray(o.transform.matrix),this._intersectionPosition.set(o.transform.position.x,o.transform.position.y,o.transform.position.z),this._yAxis.setFromMatrixColumn(e,1),this._intersectionPlane.constant=-this._intersectionPosition.y,this._intersectionPlane.normal.copy(this._yAxis),this._hasIntersected=!0}else{if(!this._hasIntersected||(this._eye.set(0,0,-1).applyQuaternion(this.quaternion),this._raycaster.setFromPositionAndDirection(this.position,this._eye),!!!this._raycaster.intersectGround(this._intersectionPosition)))return null;this._yAxis.copy(this._intersectionPlane.normal)}return Qs(1-this._yAxis.dot(vi),.1)&&(this._intersectionPlane.projectPoint(this.position,this._viewerPositionOnGround),qy(this._viewerPositionOnGround,this._intersectionPosition,this._eye),e.identity().lookAt(of,this._eye,this._yAxis)),e.setPosition(this._intersectionPosition),e}}const OO=new Us,vh=new w,fSt=new w,F2=new Nf,fS=new w,MO=new ee;function pSt(s,t,e,i={x:0,y:0}){MO.set(i.x,i.y),F2.setFromCamera(MO,t);const n=F2.intersectObjects(s,!0);F2.ray.intersectPlane(S7,fS),t.getWorldPosition(fSt);const o=t.position.distanceTo(fS);if(n.length>0){const u=n[0].point;if(vh.copy(u),t.position.distanceTo(vh)<o)return vh}const a=new e8(t);xF(s,a,OO),OO.getCenter(vh);const l=t.getWorldDirection(new w),c=new Be().setFromNormalAndCoplanarPoint(l,vh);return F2.ray.intersectPlane(c,vh)&&EF(t,e,vh)&&t.position.distanceTo(vh)<o||vh.copy(fS),vh}function mSt(s=document.body){if(!s){console.warn("No root element to append console log div to.");return}if("toDiv"in console.log)return;const e=new URLSearchParams(window.location.search).get("debugFilter");function i(x){return typeof x=="string"?x:JSON.stringify(x)}const n=console.log.bind(console),o=console.error.bind(console),a=console.warn.bind(console),l=console.info.bind(console),c=console.debug.bind(console),h=console.table?console.table.bind(console):null,d="console-log-div";function u(x,I){let O=document.getElementById(I);return O||(O=document.createElement("fieldset"),O.id=I,O.style.position="fixed",O.style.width="100%",O.style.height="100%",O.style.backgroundColor="rgba(0,0,0,0.0)",O.style.zIndex="999",O.style.pointerEvents="none",O.style.overflowWrap="anywhere",O.addEventListener("pointerup",T=>{T.button===Fn.MIDDLE&&C()}),x.appendChild(O)),O}const f=function(){const I=u(s,d),O=document.createTextNode("Console Output"),T=document.createElement("div");T.id="legend",T.appendChild(O),I.appendChild(T);const D=document.createElement("div");return D.id="console-log-text",I.appendChild(D),D}();function p(...x){f.children.length>25&&f.removeChild(f.children[0]);const I=Array.prototype.slice.call(x,0).map(i).join(" "),O=document.createElement("div");O.classList.add("log-row"),O.textContent=I,f.appendChild(O)}function g(...x){const[I]=x;return typeof I=="string"&&e?I.startsWith(e):!0}function _(...x){if(n.apply(null,x),!g.apply(null,x))return;const I=document.getElementById("console-log-div");I&&(y(I),p.apply(null,x))}console.log=_,console.log.toDiv=!0,console.error=function(...I){if(o.apply(null,I),!g.apply(null,I))return;const O=Array.prototype.slice.call(I,0);O.unshift("ERROR:"),p.apply(null,O)},console.warn=function(...I){if(a.apply(null,I),!g.apply(null,I))return;const O=Array.prototype.slice.call(arguments,0);O.unshift("WARNING:"),p.apply(null,O)},console.info=function(...I){if(l.apply(null,I),!g.apply(null,I))return;const O=Array.prototype.slice.call(arguments,0);O.unshift("INFO:"),p.apply(null,O)},console.debug=function(...I){if(c.apply(null,I),!g.apply(null,I))return;const O=Array.prototype.slice.call(arguments,0);O.unshift("DEBUG:"),p.apply(null,O)};function v(x,I){const O=I.length,T=x.length,D=document.createElement("table");D.style.width="100%",D.setAttribute("border","1");const B=document.createElement("thead");let F=document.createElement("td");F.innerHTML="Index",B.appendChild(F);for(let Y=0;Y<O;Y++)F=document.createElement("td"),F.innerHTML=I[Y],B.appendChild(F);D.appendChild(B);for(let Y=0;Y<T;Y++){const G=document.createElement("tr");F=document.createElement("td"),F.innerHTML=Y.toString(),G.appendChild(F);for(let st=0;st<O;st++){F=document.createElement("td");const $=I[st];F.innerHTML=x[Y][$],G.appendChild(F)}D.appendChild(G)}const k=document.getElementById("console-log-text");k==null||k.appendChild(D)}console.table=function(...I){typeof h=="function"&&h.apply(null,I);const O=I[0];let T=[];typeof O[0]<"u"&&(T=Object.keys(O[0])),v(O,T)},window.addEventListener("error",function(x){p("EXCEPTION:",x.message+`
  `+x.filename,`${x.lineno}:${x.colno}`)});function y(x){const I=window.getComputedStyle(x,null).backgroundColor;b(I)?x.style.color="rgba(255,255,255,1)":x.style.color="rgba(0,0,0,.61)"}function b(x){const I=/rgb\((\d+).*?(\d+).*?(\d+)\)/.exec(x);return I?parseFloat(I[1])+parseFloat(I[2])+parseFloat(I[3])<3*256/2:!0}function C(){f.replaceChildren()}console.log("ConsoleToDiv initialized.")}var gSt=Object.defineProperty,_St=(s,t,e)=>t in s?gSt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Rn=(s,t,e)=>(_St(s,typeof t!="symbol"?t+"":t,e),e);class vSt{constructor(t,e){this._event=t,this.xrController=e}get type(){return this._event.type}get frame(){return this._event.frame}get handedness(){return this._event.inputSource.handedness}get timeStamp(){return this._event.timeStamp}}const G0=1.8;class ySt{constructor(t,e){this.editor=t,this.viewport=e,Rn(this,"_disposable",new Zt),Rn(this,"isActive",!1),Rn(this,"playerGroup",new bn),Rn(this,"_playerTransformStart",new Lt),Rn(this,"_xrControllerByHandedness",new Map),Rn(this,"_isRigAnimating",{value:!1,needsUpdate:!1}),Rn(this,"_xrTouchController",null),Rn(this,"_xrViewer",new uSt(this.renderer.xr)),Rn(this,"controller1"),Rn(this,"controller2"),Rn(this,"_cameraPositionGlobal",new w),Rn(this,"_xrConsole"),Rn(this,"_xrStats"),Rn(this,"_xrInstructions"),Rn(this,"_sessionMode"),Rn(this,"_sessionDevice"),Rn(this,"_canvasCameraTransformStart",new Lt),Rn(this,"_canvasCameraTargetStart",new w),Rn(this,"_lastEvent",null),Rn(this,"_timeDeltaSec",0),Rn(this,"_lastTime",performance.now()),Rn(this,"_hasUpdatedOnce",!1),Rn(this,"_xrGazeController");const i=e.renderer;i.xr.enabled=!0,i.xr.setReferenceSpaceType("local");const n=this.editor.isPlayMode||this.editor.isPublishedMode,o=this.controller1=new AO(0,i,n);this._addControllerEventListeners(o);const a=this.controller2=new AO(1,i,n);this._addControllerEventListeners(a),this.playerGroup.add(this._xrViewer),this.playerGroup.add(this.controller1),this.playerGroup.add(this.controller2),this._addSignalBindings(i)}get renderer(){return this.viewport.renderer}get controls(){return this.viewport.controls}get camera(){return this.viewport.camera}get xrConsole(){if(!this._xrConsole){const t=IV.getInstance().createConsole(new HEt({widthPx:1024,heightPx:512,mmsPerPx:.5,fontSizePx:24}));this._xrConsole=t}return this._xrConsole}get xrStats(){if(!this._xrStats){const t=new oSt;this._xrStats=t,this._disposable.add(new tt(()=>t.dispose()))}return this._xrStats}get xrInstructions(){if(!this._xrInstructions){const t=new sSt;this._xrInstructions=t,this._disposable.add(new tt(()=>t.dispose()))}return this._xrInstructions}get sessionMode(){return this._sessionMode}async _onVRSessionStarted(t){const{session:e,sessionMode:i,sessionDevice:n}=t;this._sessionMode=i,this._sessionDevice=n,new URLSearchParams(window.location.search).has("debug")&&this._sessionDevice===ol.HEADSET&&this.xrConsole.onSessionStarted(t,this._xrViewer),this._createDebugConsole();const a=p=>this._onInputSourcesChange(p);e.addEventListener("inputsourceschange",a),this._disposable.add(new tt(()=>{e.removeEventListener("inputsourceschange",a)}));for(const p of e.inputSources)this._onInputSourceAdded(p);this.isActive=!0,await this.renderer.xr.setSession(e),await this._xrViewer.onSessionStarted(e);const l=p=>this._onXRControllerEvent(p);for(const p of["selectstart","selectend","squeezestart","squeezeend"])e.addEventListener(p,l),this._disposable.add(new tt(()=>{e.removeEventListener(p,l)}));const c=[wr.START,wr.UPDATE,wr.CANCEL,wr.COMMIT_START,wr.COMMIT_END],h=p=>{const g=p;"inputSource"in g&&this._onXRControllerEvent(g)};for(const p of c)e.addEventListener(p,h),this._disposable.add(new tt(()=>{e.removeEventListener(p,h)}));const d=["joystickstart","joystickcontinue","joystickend"],u=p=>{const g=p;"inputSource"in g&&this._onXRControllerEvent(g)};for(const p of d)e.addEventListener(p,u),this._disposable.add(new tt(()=>{e.removeEventListener(p,u)}));this.xrInstructions.onSessionStarted(t,this._xrViewer);const f=this.editor.sceneController.bodyRigComponent;f&&f.onXRSessionStarted(t,this._xrViewer)}get _currentCameraComponent(){const t=this.editor.sceneController.bodyRigComponent,e=this.editor.sceneController.cameraController.playModeCamera;return t!=null&&t.camera!=null?t.camera:e??null}_onVRSessionEnd(){this.isActive=!1,this._hasUpdatedOnce=!1;const t=new w().setFromMatrixPosition(this._canvasCameraTransformStart),e=this._canvasCameraTargetStart;this.controls.setLookAt(...t.toArray(),...e.toArray()),this.playerGroup.remove(this.camera),this._xrViewer.onSessionEnded()}get xrOverlayElement(){return document.getElementById(h3.XR_OVERLAY)}_createDebugConsole(){if(!new URLSearchParams(window.location.search).has("debug"))return;const e=this.xrOverlayElement;this._sessionDevice===ol.MOBILE&&e&&mSt(e)}_onInputSourcesChange(t){const e=t.removed.filter(n=>this._xrControllerByHandedness.has(n.handedness)),i=t.added.filter(n=>!this._xrControllerByHandedness.has(n.handedness));for(const n of e)this._onInputSourceRemoved(n);for(const n of i)this._xrControllerByHandedness.has(n.handedness)||this._onInputSourceAdded(n)}async endSession(){const t=this.renderer.xr.getSession();t&&await t.end()}_onFirstUpdate(){const t=this.viewport.getSpawnPointTransform();t?(this._setPositionFromSpawnInfo(t.spawnPoint,t.target),this._canvasCameraTargetStart.copy(t.target)):(this._setPositionFromCamera(this.camera),this.controls.getTarget(this._canvasCameraTargetStart)),this._playerTransformStart.copy(this.playerGroup.matrix),this.camera.position.set(0,0,0),this.camera.matrix.identity(),this.playerGroup.attach(this.camera),this._canvasCameraTransformStart.copy(this.camera.matrixWorld)}_getFovOffset(t,e=!0){const{xrCamera:i,viewport:n}=this;if(!n.size)return 0;const{size:o,camera:a}=n,l=pSt(this.editor.sceneController.objectsWithGeometry,a,o),c=t.distanceTo(l);if(c===0)return 0;const{widthGlobal:h,heightGlobal:d}=Kut(c,o,a),u=this.size.width/this.size.height,f=qut(i.projectionMatrix),p=r6(f,u),g=f*ms.RAD2DEG;return i.fov=g,e?oP(h,p/2):oP(d,f/2)}_setPositionFromSpawnInfo(t,e=this.controls.getTarget()){this.setPositionFromMatrix(t)}setPositionFromMatrix(t){this.playerGroup.position.setFromMatrixPosition(t),this.playerGroup.quaternion.setFromRotationMatrix(t),this.playerGroup.updateMatrix()}_setPositionFromCamera(t){const e=t.position.clone();this.playerGroup.position.copy(e);const i=new w;this.controls.getTarget(i),i.setY(G0),this.playerGroup.position.setY(i.y),this.playerGroup.lookAt(i),t.getWorldPosition(this._cameraPositionGlobal);const n=this._getFovOffset(this._cameraPositionGlobal);if(n!==0){const o=this.playerGroup.getWorldDirection(new w);this.playerGroup.position.copy(i).add(o.multiplyScalar(Math.abs(n))),this.playerGroup.position.setY(G0)}this.playerGroup.updateMatrix()}resetPlayerGroup(){this.viewport.getSpawnPointTransform()==null?(this.playerGroup.position.set(0,G0,0),this.playerGroup.rotation.set(0,0,0)):(this.playerGroup.scale.setFromMatrixScale(this._playerTransformStart),this.playerGroup.quaternion.setFromRotationMatrix(this._playerTransformStart),this.playerGroup.position.setFromMatrixPosition(this._playerTransformStart))}getXRController(t){return this._xrControllerByHandedness.get(t)}_onXRControllerEvent(t){const{inputSource:e}=t,{handedness:i}=e;let n;this._xrTouchController!=null?n=this._xrTouchController:n=this.getXRController(i)||this._onInputSourceAdded(e),n&&(this._lastEvent=new vSt(t,n),this.editor.activeTool.onXRControllerEvent(this.viewport))}get lastEvent(){return this._lastEvent}get xrCamera(){return this.renderer.xr.getCamera()}get size(){if(!this.xrCamera.cameras.length)return this.viewport.size;const t=this.xrCamera.cameras.reduce((i,n)=>i+=n.viewport.width,0),e=this.xrCamera.cameras[0].viewport.height;return{width:t,height:e}}get timeDeltaSec(){return this._timeDeltaSec}update(t,e){var c,h;if(!this.isActive)return!1;!this._hasUpdatedOnce&&this.editor.fileController.isLoadComplete&&(this._hasUpdatedOnce=!0,this._onFirstUpdate());const i=e.predictedDisplayTime??t,n=(i-this._lastTime)/1e3;this._lastTime=i,this._timeDeltaSec=n,this._xrViewer.update(e),(c=this._xrStats)==null||c.update(),(h=this._xrConsole)==null||h.update(),this.editor.anchorState===ro.PLACED&&this._xrInstructions&&(this._xrInstructions.dispose(),this._xrInstructions=void 0),this.xrCamera.parent=this.camera.parent,fb.tick();const o=this.editor.sceneController.bodyRigComponent,a=o==null||o.isShowControllers,l=[...this._xrControllerByHandedness.values()];for(const d of l)d.update(e,this.xrCamera,this.viewport),d.setVisibleIfNeeded(a);return this.editor.activeTool.onXRControllersUpdate(this.viewport,l,e),(this._isRigAnimating.value||!this._isRigAnimating.value&&this._isRigAnimating.needsUpdate)&&this._currentCameraComponent!=null?(this._isRigAnimating.needsUpdate=!1,this.setPositionFromMatrix(this._currentCameraComponent.entity.transform.matrixGlobal)):(this.controls.setLookAt(...this.playerGroup.position.toArray(),0,0,0),o!=null&&o.updateFromHeadset(this.xrCamera,l)),!0}getGazeIntersectionWithXRPlanes(t,e=new Lt){return this._xrViewer.intersectWithXRPlanes(t,e)}setCameraLayers(t){var i;const e=this.renderer.xr.getCamera();e.layers=t,(i=e.cameras)==null||i.forEach(n=>n.layers=t)}_onInputSourceAdded(t){console.debug("onInputSourceAdded: "+t.targetRayMode,t.handedness);const{handedness:e}=t,i=this._createXRControllerFromInputSource(t)||this.getXRController(t.handedness);return i?(new URLSearchParams(window.location.search).has("debug")&&this._sessionDevice===ol.HEADSET&&(this.xrConsole.onControllerAdded(i,this.renderer.xr.getController(0)),this.xrStats.onControllerAdded(i,this.renderer.xr.getController(0))),e?this._xrControllerByHandedness.set(e,i):i instanceof KEt&&(this._xrGazeController=i),this.playerGroup.add(i),i):void 0}_onInputSourceRemoved(t){console.debug("onInputSourceRemoved:",t.targetRayMode,t.handedness);const e=this.getXRController(t.handedness);!e||e.inputSource&&e.inputSource.targetRayMode!=="screen"||(e.dispose(),this.playerGroup.remove(e),this._xrControllerByHandedness.delete(t.handedness))}_createXRControllerFromInputSource(t){const e=this._xrControllerByHandedness.size,i=bSt(t),n=this.renderer.xr.getController(e);switch(n.userData.name="controller",i){case Sg.TOUCH:return this._xrTouchController=new OV(t,n,this.renderer),this._xrTouchController;default:return null}}_addControllerEventListeners(t){t.addEventListener("connected",e=>{var i;((i=e.data)==null?void 0:i.handedness)!=null&&this._xrControllerByHandedness.set(e.data.handedness,t)})}_addSignalBindings(t){const e=a=>this._onVRSessionStarted(a);this.editor.signals.window.vrSessionStarted.add(e),this._disposable.add(new tt(()=>{this.editor.signals.window.vrSessionStarted.remove(i)}));const i=()=>this._onVRSessionEnd();t.xr.addEventListener("sessionend",i),this._disposable.add(new tt(()=>{t.xr.removeEventListener("sessionend",i)}));const n=this.editor.signals.play.reset.add(()=>{var c;if(this._currentCameraComponent==null)return;const a=this.editor.sceneController.bodyRigComponent,l=a==null?(c=this._currentCameraComponent)==null?void 0:c.entity.states:a.entity.states;l!=null&&l.stateIds.length>1&&this.resetPlayerGroup()});this._disposable.add(new tt(()=>{n.detach()}));const o=this.editor.signals.play.cameraAnimationChanged.add(({cameraEntityId:a,isAnimating:l})=>{var h;const c=this.editor.sceneController.bodyRigComponent;c!=null&&a===((h=c.camera)==null?void 0:h.entity.id)?this._isRigAnimating={value:l,needsUpdate:!0}:this.editor.sceneController.cameraController.playModeCamera!=null&&(this._isRigAnimating={value:l,needsUpdate:!0})});this._disposable.add(new tt(()=>o.detach()))}}function bSt(s){return s.hand!=null?Sg.HAND:s.gripSpace!=null?Sg.GRIP:s.profiles.includes("generic-touchscreen")||s.targetRayMode==="screen"?Sg.TOUCH:s.targetRayMode==="gaze"?Sg.GAZE:(console.warn("Unsupported input source",s.targetRayMode),Sg.UNSUPPORTED)}var CSt=Object.defineProperty,wSt=(s,t,e)=>t in s?CSt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,fa=(s,t,e)=>(wSt(s,typeof t!="symbol"?t+"":t,e),e);const xSt=2,ESt=10,SSt=50,pS=.025;var LV=(s=>(s.GROUND_PLANE="groundPlane",s.OBJECT="object",s))(LV||{});class LO extends bn{constructor(){super(),fa(this,"_rayCurve"),fa(this,"_rayCurveGeometry"),fa(this,"_rayLinePrepass"),fa(this,"_rayLine"),fa(this,"_linePrepassMaterial"),fa(this,"_lineMaterial"),fa(this,"_tempVec",new w),fa(this,"_targetCylinder"),fa(this,"_rayPositionWorld",new w),fa(this,"_rayDirectionWorld",new w),fa(this,"_rayLength",3),fa(this,"_lastHandHeight",0),fa(this,"_teleportDestination",new w),fa(this,"_teleportDestinationType","groundPlane"),fa(this,"colors",[]),this._rayCurve=new iK(new w(0,0,0),new w(0,-.3,this._rayLength),new w(0,G0,this._rayLength));const t=new Em(.3,.3,pS,32);this._targetCylinder=new re(t,VB(new Ge(Kh),.3,!0)),this.add(this._targetCylinder),this._rayCurveGeometry=new Rf,this._rayLine=new il,this._rayLinePrepass=new il,this._rayLine.geometry=this._rayCurveGeometry,this._rayLinePrepass.geometry=this._rayCurveGeometry,this._rayLinePrepass.renderOrder=Zl.XR_RAY_PREPASS,this._lineMaterial=PEt(this._rayCurveGeometry),this._linePrepassMaterial=new Si({colorWrite:!1,linewidth:this._lineMaterial.linewidth,transparent:!0,depthWrite:!1,stencilWrite:!0,stencilRef:1,stencilZPass:T0}),this._rayLinePrepass.material=this._linePrepassMaterial,this._rayLine.material=this._lineMaterial,this._rayLine.renderOrder=Zl.XR_RAY,this._generateRayGeometry(),this.add(this._rayLinePrepass),this.add(this._rayLine),this.visible=!1}update(t,e,i,n=!0){if(t==null||this.parent==null)return;if(t.getWorldPosition(this._rayCurve.v0),n){const a=this._rayCurve.v0.y-this._lastHandHeight;this._rayLength=Math.max(Math.min(ESt,this._rayLength+a*SSt),xSt)}this._lastHandHeight=this._rayCurve.v0.y,this._tempVec.copy(this._rayCurve.v0),this._rayPositionWorld.copy(this._rayCurve.v0),this.worldToLocal(this._rayCurve.v0),t.getWorldDirection(this._rayDirectionWorld),this._rayDirectionWorld.applyAxisAngle(vi,Math.PI),this._tempVec.add(this._rayDirectionWorld),this.worldToLocal(this._tempVec),this._rayCurve.v2.set(this._tempVec.x*this._rayLength,-this.parent.position.y,this._tempVec.z*this._rayLength),this._rayCurve.v1.copy(this._rayCurve.v2),this._rayCurve.v1.y+=.8,this._tempVec.copy(this._rayCurve.v0),this._rayDirectionWorld.copy(this._rayCurve.v1),this.localToWorld(this._tempVec),this.localToWorld(this._rayDirectionWorld),this._rayDirectionWorld.sub(this._tempVec),this._rayDirectionWorld.normalize(),e.setFromPositionAndDirection(this._rayPositionWorld,this._rayDirectionWorld);const o=e.intersect(i);o.length>0?(this._rayCurve.v2.copy(o[0].point),this.worldToLocal(this._rayCurve.v2),this._rayCurve.v1.copy(this._rayCurve.v2),this._rayCurve.v1.y+=.8,this._teleportDestinationType="object"):this._teleportDestinationType="groundPlane",this._teleportDestination.copy(this._rayCurve.v2),this.localToWorld(this._teleportDestination),this._generateRayGeometry()}get target(){return{position:this._teleportDestination,type:this._teleportDestinationType}}_generateRayGeometry(){this._rayCurve.v2.y+=pS;const e=this._rayCurve.getPoints(50).flatMap(i=>[i.x,i.y,i.z]);this._rayCurveGeometry.setPositions(e),this._rayLine.geometry=this._rayCurveGeometry,this._targetCylinder.position.copy(this._rayCurve.v2),this._targetCylinder.position.y-=pS/2}setResolution(t,e){this._lineMaterial.resolution.set(t,e),this._linePrepassMaterial.resolution.set(t,e)}}var ISt=Object.defineProperty,ASt=(s,t,e)=>t in s?ISt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,B2=(s,t,e)=>(ASt(s,typeof t!="symbol"?t+"":t,e),e);class RV extends Se{constructor(t){var o,a;super(),this._editor=t,B2(this,"_teleportRaysByHandedness"),B2(this,"_teleportOffset",new w),B2(this,"_activeTeleportHand",null),B2(this,"_sceneObjectPicker",new eC(this._editor));const e=new LO,i=new LO;this._teleportRaysByHandedness={left:e,right:i},(o=this._editor.viewportController.mainViewport)==null||o.vrRenderingController.playerGroup.add(e,i);const n=(a=this._editor.viewportController.mainViewport)==null?void 0:a.camera;n!=null&&this._sceneObjectPicker.setCamera(n),this._editor.signals.window.renderPrepared.add(({width:l,height:c})=>{this._teleportRaysByHandedness.left.setResolution(l,c),this._teleportRaysByHandedness.right.setResolution(l,c)})}onXRControllerEvent(t){var h;const{xrState:e}=t,{lastEvent:i}=e,{type:n,handedness:o,xrController:a}=i;if(((h=a.inputSource)==null?void 0:h.hand)==null||o==="none")return!1;const{playerGroup:l}=e,c=this._teleportRaysByHandedness[o];switch(n){case wr.START:return this._activeTeleportHand!=null&&(this._teleportRaysByHandedness[this._activeTeleportHand].visible=!1),c.visible=!0,this._activeTeleportHand=o,!0;case wr.UPDATE:return c.update(a.getRayParent(),this._sceneObjectPicker,this._editor.sceneController.visibleObjects),!0;case wr.CANCEL:return c.visible=!1,this._activeTeleportHand=null,!0;case wr.COMMIT_START:return c.update(a.getRayParent(),this._sceneObjectPicker,this._editor.sceneController.visibleObjects,!1),!0;case wr.COMMIT_END:return c.target&&l!=null?(this._teleportOffset=c.target.position.sub(l.position),l.position.add(this._teleportOffset),c.target.type===LV.GROUND_PLANE?l.position.y=G0:l.position.y+=G0,this._activeTeleportHand=null,c.visible=!1,!0):!1}return!1}}class d3{static build(t,e,i){const n=Hf.build(t,e,i),o=new Ta(n);return n.addComponent(o),n}}class NV{static build(t,e,i){const n=d3.build(t,e,i),o=new od(n,n.sceneObject.parameters);return n.addComponent(o),n}}fn.register(L.AREA_LIGHT,NV,sG);var jV=Object.defineProperty,TSt=Object.getOwnPropertyDescriptor,PSt=(s,t,e)=>t in s?jV(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,OSt=(s,t,e,i)=>{for(var n=TSt(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&jV(t,e,n),n},zv=(s,t,e)=>(PSt(s,typeof t!="symbol"?t+"":t,e),e);class DV extends mo{constructor(t,e){super(t,L.AREA_LIGHT),this._pointPicker=e,zv(this,"referenceArea",new w),zv(this,"position",new w),zv(this,"orientation",new ke),zv(this,"euler",new ls),zv(this,"_measurementGuide"),vt(this)}create(){const t=new ls().setFromQuaternion(this.orientation),e=this.composeSceneObject(this.position,t);return this._entity=NV.build(this._editor,e,null),this._onCreated(),this._entity}composeSceneObject(t,e){return{...super.composeSceneObject(t,e),type:L.AREA_LIGHT,parameters:O5}}update(t){this._entity||(this._entity=this.create()),this._entity.transform.setPosition(this.position),this._editor.stateController.signals.transform.dispatch({action:P.TRANSFORM}),this.measurementGuide.text.setViewport(t),this.measurementGuide.pointStart.copy(this.referenceArea),this.measurementGuide.pointEnd.copy(this.position)}get measurementGuide(){return this._measurementGuide||(this._measurementGuide=new yn(this._editor,{variant:"Direction",textOverlayOptions:{shouldIndicateEditable:!0}}),this._editor.helpers.add(this._measurementGuide),this._measurementGuide.changed.add(t=>{this._pointPicker.lengthRestriction=t}),this._disposable.add(new tt(()=>{var t;(t=this._measurementGuide)==null||t.dispose()}))),this._measurementGuide}}OSt([E],DV.prototype,"create");var MSt=Object.defineProperty,LSt=(s,t,e)=>t in s?MSt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,bp=(s,t,e)=>(LSt(s,typeof t!="symbol"?t+"":t,e),e);class RSt extends Se{constructor(t){super(),this._editor=t,bp(this,"_pointPicker",new tn(this._editor)),bp(this,"_sceneController",this._editor.sceneController),bp(this,"_layerController",this._editor.layerController),bp(this,"_areaLightFactory",new DV(this._editor,this._pointPicker)),bp(this,"_state","none"),bp(this,"_interectonPlane",new Be),bp(this,"_origin",new w),bp(this,"_normal",new w),this.disposable.add(new tt(()=>{this._pointPicker.dispose(),this._areaLightFactory.dispose(),this._editor.selectionController.setIsTransformingSelection(!1)}))}onPointerEvent(t,e){const{isHover:i,isLeftClickStart:n,isLeftClickEnd:o,isLeftDragStart:a,isLeftDragContinue:l,isLeftDragEnd:c}=t.pointerState.lastEvent;switch(this._state){case"none":if(i)return this._showHoverGuide(t);if(n){const h=this._showHoverGuide(t);return h&&(this._state="picking"),h}return!1;case"picking":if(o){const h=this._commit(t);return h&&(this._state="none"),h}else if(a)return this._create(t),this._state="offsetting",!0;return!1;case"offsetting":return l?(this._offset(t),!0):c?(this._finish(),this._state="none",!0):!1;default:return!1}}_showHoverGuide(t){const{pointerNDC:e}=t.pointerState,i=t.planeSnapper.plane;this._pointPicker.intersectionPlane.normal.copy(i.normal),this._areaLightFactory.setNormal(i.normal);const{intersectionPoint:n,normal:o}=this._pointPicker.intersect(t,e);return this._interectonPlane.normal.copy(o),this._editor.signals.object.drawContinued.dispatch({intersectionPlane:this._interectonPlane,boundsStart:n,boundsEnd:n}),!0}_create(t){const{pointerNDC:e}=t.pointerState,{intersectionPoint:i,normal:n}=this._pointPicker.intersect(t,e),o=t.planeSnapper.plane;this._pointPicker.configureForPlane(i,o.normal),this._areaLightFactory.referenceArea.copy(i),this._areaLightFactory.position.copy(i),this._areaLightFactory.orientation.setFromUnitVectors(Af,n),this._origin.copy(i),this._normal.copy(n);const a=this._areaLightFactory.create();return this._editor.selectionController.selectedCollection.set(a),!0}_commit(t){return this._create(t),this._finish(),!0}_offset(t){this._pointPicker.configureForNormal(this._origin,this._normal,t.camera);const{pointerNDC:e}=t.pointerState,{intersectionPoint:i}=this._pointPicker.intersect(t,e);this._areaLightFactory.position.copy(i),this._areaLightFactory.update(t)}_finish(){this._areaLightFactory.commit(),this._editor.signals.object.drawEnded.dispatch()}}var NSt=Object.defineProperty,jSt=(s,t,e)=>t in s?NSt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,DSt=(s,t,e)=>(jSt(s,t+"",e),e);class FSt extends m1{constructor(){super(...arguments),DSt(this,"_cameraComponent",null)}addSceneEntity(t){this._editor.stateController.recordBefore({action:P.NEW_SHAPE}),this._editor.sceneController.addSceneEntity(t,!0);const e=new Set,i=t.getComponent(dr);if(!i)return;const n=i.head,o=i.leftHand,a=i.rightHand,l=i.camera;!n||!o||!a||!l||(this._cameraComponent=l,e.add(t.id),e.add(n.entity.id),e.add(o.entity.id),e.add(a.entity.id),e.add(l.entity.id),this._editor.stateController.signals.newShape.dispatch({action:P.NEW_SHAPE,ids:e}))}async commit(){this._didCommit||(this._editor.stateController.recordAfter({action:P.NEW_SHAPE}),await vj(1e3),this._cameraComponent&&Object.keys(this._editor.sceneController.cameraController.cameraComponentsById).length===1&&this._editor.sceneController.setSpawnPoint(this._cameraComponent.entity.id),this._didCommit=!0)}}var FV=Object.defineProperty,BSt=Object.getOwnPropertyDescriptor,kSt=(s,t,e)=>t in s?FV(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,GSt=(s,t,e,i)=>{for(var n=BSt(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&FV(t,e,n),n},RO=(s,t,e)=>(kSt(s,typeof t!="symbol"?t+"":t,e),e);class BV extends mo{constructor(t){super(t,L.HUMAN,new FSt(t)),RO(this,"p1",new w),RO(this,"_position",new w),vt(this)}create(){const{p1:t,_position:e,orientation:i}=this,n=new ls().setFromQuaternion(i);e.copy(t);const o=this.composeSceneObject(e,n),a=Zb.build(this._editor,o,null,!0);return this._entity=a,super._onCreated(),a}composeSceneObject(t,e){return{...super.composeSceneObject(t,e),name:"Body rig",type:L.XRRIG,isScaleLinked:!0,isInteractive:!1,parameters:Pg}}}GSt([E],BV.prototype,"create");class lc{constructor(t){this._editor=t}update(t,e,i){this._editor.signals.object.drawContinued.dispatch({intersectionPlane:t,boundsStart:e,boundsEnd:i})}commit(){this._editor.signals.object.drawEnded.dispatch()}}var VSt=Object.defineProperty,HSt=(s,t,e)=>t in s?VSt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,og=(s,t,e)=>(HSt(s,typeof t!="symbol"?t+"":t,e),e);class USt extends Se{constructor(t){super(),this._editor=t,og(this,"_pointPicker",new tn(this._editor)),og(this,"_factory",new BV(this._editor)),og(this,"_state","none"),og(this,"_presenceUpdater",new lc(this._editor)),og(this,"_hasMoved",!1),og(this,"_lastClickPositionVP",new ee),og(this,"_interactionPlane",new Be),this.disposable.add(new tt(()=>{this._pointPicker.dispose(),this._factory.dispose(),this._editor.selectionController.setIsTransformingSelection(!1)}))}onPointerEvent(t,e){const{isHover:i,isLeftClickStart:n}=t.pointerState.lastEvent;switch(this._state){case"none":return i?(this._pickP1(t),!0):n?Zb.instance?(this._editor.signals.object.drawEnded.dispatch(),!0):(this._createAndCommitDefaultShape(t),!0):!1;default:return!1}}_pickP1(t){const e=t.planeSnapper.plane;this._pointPicker.intersectionPlane.normal.copy(e.normal),this._interactionPlane.normal.copy(e.normal),this._factory.setNormal(e.normal);const{pointerNDC:i}=t.pointerState,{intersectionPoint:n}=this._pointPicker.intersect(t,i);return this._factory.p1.copy(n),this._pointPicker.referencePoint.copy(n),this._presenceUpdater.update(this._interactionPlane,this._factory.p1,this._factory.p1),this._editor.presenceController.updateCursorPositionGlobal(n),!0}_create(t){const{pointerNDC:e}=t.pointerState,{intersectionPoint:i}=this._pointPicker.intersect(t,e),n=t.planeSnapper.plane;return this._pointPicker.configureForPlane(i,n.normal),this._factory.setNormal(n.normal),this._factory.create(),!0}_createAndCommitDefaultShape(t){return this._create(t),this._commit(),!0}_commit(){this._factory.commit(),this._presenceUpdater.commit()}}var zSt=Object.defineProperty,YSt=(s,t,e)=>t in s?zSt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,k2=(s,t,e)=>(YSt(s,typeof t!="symbol"?t+"":t,e),e);class Fm{constructor(t){this._editor=t,k2(this,"_guideX",new yn(this._editor,{variant:"Dimension",textOverlayOptions:{shouldIndicateEditable:!0}})),k2(this,"_guideZ",new yn(this._editor,{variant:"Dimension"})),k2(this,"_measurementGuides",[]),k2(this,"_disposable",new Zt);const e=this._measurementGuides.length;this._guideX.tabbed.add(()=>this._onMeasurementGizmoTabbed(e)),this._measurementGuides.push(this._guideX),this._editor.helpers.add(this._guideX),this._disposable.add(new tt(()=>{this._guideX.dispose()})),this._guideZ=new yn(this._editor,{variant:"Dimension"});const i=this._measurementGuides.length;this._guideZ.tabbed.add(()=>this._onMeasurementGizmoTabbed(i)),this._measurementGuides.push(this._guideZ),this._editor.helpers.add(this._guideZ),this._disposable.add(new tt(()=>{this._guideZ.dispose()}))}update(t,e,i,n,o){this.guideX.pointStart.copy(n),this.guideZ.pointStart.copy(o),this._measurementGuides.forEach(a=>{a.text.setViewport(t),a.pointEnd.copy(i),a.offsetReferencePoint.copy(e)})}get guideX(){return this._guideX}get guideZ(){return this._guideZ}_onMeasurementGizmoTabbed(t){this._measurementGuides[t].isEditable=!1;const e=(t+1)%this._measurementGuides.length;this._measurementGuides[e].isEditable=!0}dispose(){this._disposable.dispose()}}const WSt=1e-6;function Zr(s){return Math.max(WSt,Math.abs(s))}const kV=S.literal(L.BOX);go.merge(S.object({type:kV,parameters:U7}));function XSt(s){return Ir(s,kV,U7)}class q_{static build(t,e,i,n=o=>new hl(o)){const o=Hf.build(t,e,i),a=n(o);o.addComponent(a);const l=new _e(o,t.sceneController.statefulScene.hdrLighting);o.addComponent(l);const c=new Wi(o,l,a);o.addComponent(c);const h=new On(o);o.addComponent(h);const d=new Ta(o);return o.addComponent(d),o}}class i8{static build(t,e,i){return q_.build(t,e,i,o=>new ru(o,o.sceneObject.parameters))}}fn.register(L.BOX,i8,XSt);var GV=Object.defineProperty,ZSt=Object.getOwnPropertyDescriptor,KSt=(s,t,e)=>t in s?GV(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,VV=(s,t,e,i)=>{for(var n=ZSt(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&GV(t,e,n),n},pa=(s,t,e)=>(KSt(s,typeof t!="symbol"?t+"":t,e),e);class n8 extends mo{constructor(t){super(t,L.BOX),pa(this,"p1",new w),pa(this,"p2",new w),pa(this,"p3",new w),pa(this,"_position",new w),pa(this,"shouldCreateFromCenter",!1),pa(this,"shouldSetHeightFromCenter",!1),pa(this,"lengthSnapIncrement",.001),pa(this,"_delta",new w),pa(this,"_deltaP1P2",new w),pa(this,"_deltaP2P3",new w),pa(this,"_size",new w),pa(this,"_c1",new w),pa(this,"_c2",new w),pa(this,"_c3",new w),pa(this,"_c4",new w),vt(this)}set origin(t){this.p1.copy(t),this.p2.copy(t),this.p3.copy(t)}create(){const{p1:t,p2:e,_position:i,orientation:n}=this,o=new ls().setFromQuaternion(n);qr(t,e,i);const a=this.composeSceneObject(i,o),l=i8.build(this._editor,a,null);return this._entity=l,super._onCreated(),l}composeSceneObject(t,e,i){return{...super.composeSceneObjectWithMaterial(t,e,i),type:L.BOX,parameters:kr}}update(){if(!this._entity)return;const{p1:t,p2:e,p3:i,_c1:n,_c2:o,_c3:a,_delta:l,_deltaP1P2:c,_deltaP2P3:h,_size:d,_position:u,lengthSnapIncrement:f}=this;if(xo(t,i,l),xo(t,e,c),xo(e,i,h),d.set(l.getComponent(this._widthComponent),l.getComponent(this._heightComponent),l.getComponent(this._depthComponent)),d.x=Vo(d.x,f),d.y=Vo(d.y,f),d.z=Vo(d.z,f),t1(d,Zr),n.copy(t),o.copy(e),a.copy(i),this.shouldCreateFromCenter&&(n.sub(c),d.x*=2,d.z*=2,l.setComponent(this._widthComponent,l.getComponent(this._widthComponent)*2),l.setComponent(this._depthComponent,l.getComponent(this._depthComponent)*2)),this.shouldSetHeightFromCenter&&(n.setComponent(this._heightComponent,n.getComponent(this._heightComponent)-Math.sign(l.getComponent(this._heightComponent))*d.y),o.setComponent(this._heightComponent,o.getComponent(this._heightComponent)-Math.sign(l.getComponent(this._heightComponent))*d.y),d.y*=2,l.setComponent(this._heightComponent,l.getComponent(this._heightComponent)*2)),qr(n,a,u),!this._entity)return;const p=this._entity.sceneObject.parameters;p.width=d.x,p.height=d.y,p.depth=d.z,this._entity.transform.setPosition(u),this._entity.transform.setRotation({x:this.euler.x,y:this.euler.y,z:this.euler.z}),this._remoteUpdater.update()}get c1(){return this._c1}get c2(){return this._c2}get c3(){const{c2:t,_delta:e}=this;return this._c3.copy(t),this._c3.setComponent(this._widthComponent,t.getComponent(this._widthComponent)-e.getComponent(this._widthComponent)),this._c3}get c4(){const{c2:t,_delta:e}=this;return this._c4.copy(t),this._c4.setComponent(this._depthComponent,t.getComponent(this._depthComponent)-e.getComponent(this._depthComponent)),this._c4}}VV([E],n8.prototype,"create");VV([E],n8.prototype,"update");var qSt=Object.defineProperty,QSt=(s,t,e)=>t in s?qSt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,yh=(s,t,e)=>(QSt(s,typeof t!="symbol"?t+"":t,e),e);class JSt extends Se{constructor(t){super(),this._editor=t,yh(this,"_pointPicker",new tn(this._editor)),yh(this,"_factory",new n8(this._editor)),yh(this,"_state","none"),yh(this,"_presenceUpdater",new lc(this._editor)),yh(this,"_hasMoved",!1),yh(this,"_lastClickPositionVP",new ee),yh(this,"_interactionPlane",new Be),yh(this,"_normalOffset",new w),yh(this,"_boundsGuide"),yh(this,"_guideYLengthRestriction"),yh(this,"_guideY"),this.disposable.add(new tt(()=>{this._pointPicker.dispose(),this._factory.dispose(),this._editor.selectionController.setIsTransformingSelection(!1)}))}onPointerEvent(t,e){var d;const{isHover:i,isLeftClickStart:n,isLeftClickEnd:o,isLeftDragStart:a,isLeftDragContinue:l,isLeftDragEnd:c,isDoubleLeftClickEnd:h}=t.pointerState.lastEvent;switch(this._state){case"none":return i?(this._pickP1(t),!0):n?(this._pickP1(t),this._state="picking-p1",!0):!1;case"picking-p1":return a?(this._create(t),this._state="picking-p2",!0):o?(this._state="picked-p1",this._lastClickPositionVP.copy(t.pointerState.pointerVP),!0):!1;case"picked-p1":return i?(!this._hasMoved&&!Ff(this._lastClickPositionVP,t.pointerState.pointerVP,2)&&(this._hasMoved=!0,this._create(t),this._pickP2(t),this._state="picking-p2"),!0):h?(this._createAndCommitDefaultShape(t),!0):!1;case"picking-p2":return l||i?(this._pickP2(t),!0):c||n?((d=this._boundsGuide)==null||d.dispose(),this._pointPicker.lengthRestriction=0,this._state="picking-p3",!0):!1;case"picking-p3":return l||i?(this._pickP3(t),!0):c||n?(this._commit(),!0):!1;default:return!1}}onKeyboardEvent(t,e){const{wasDown:i,wasEnd:n}=t.keyState.lastEvent;return i(Vt.SHIFT)?(this._pointPicker.hasUniformRestriction=!0,!0):(n(Vt.SHIFT)&&(this._pointPicker.hasUniformRestriction=!1),i(Vt.ALT)?(this._pointPicker.hasCenterPointRestriction=!0,!0):(n(Vt.ALT)&&(this._pointPicker.hasCenterPointRestriction=!1),!1))}_pickP1(t){const e=t.planeSnapper.plane;this._pointPicker.intersectionPlane.normal.copy(e.normal),this._interactionPlane.normal.copy(e.normal),this._factory.setNormal(e.normal);const{pointerNDC:i}=t.pointerState,{intersectionPoint:n}=this._pointPicker.intersect(t,i);return this._factory.p1.copy(n),this._factory.p2.copy(n),this._factory.p3.copy(n),this._pointPicker.referencePoint.copy(n),this._presenceUpdater.update(this._interactionPlane,this._factory.c1,this._factory.c2),this._editor.presenceController.updateCursorPositionGlobal(n),!0}_create(t){const{pointerNDC:e}=t.pointerState,{intersectionPoint:i}=this._pointPicker.intersect(t,e),n=t.planeSnapper.plane;return this._pointPicker.configureForPlane(i,n.normal),this._factory.setNormal(n.normal),this._factory.create(),!0}_createAndCommitDefaultShape(t){return this._create(t),this._commit(),!0}_pickP2(t){const{pointerNDC:e}=t.pointerState,{intersectionPoint:i}=this._pointPicker.intersect(t,e),n=t.planeSnapper.plane;this._pointPicker.configureForPlane(this._factory.p1,n.normal),this._factory.setNormal(n.normal),this._factory.p2.copy(i),this._normalOffset.copy(this._pointPicker.intersectionPlane.normal).multiplyScalar(Fo),this._factory.p3.copy(i).add(this._normalOffset),this._factory.shouldCreateFromCenter=this._pointPicker.hasCenterPointRestriction,this._factory.update();const{c1:o,c2:a,c3:l,c4:c}=this._factory;this.boundsGuide.update(t,o,a,l,c),this._editor.presenceController.updateCursorPositionGlobal(a),this._presenceUpdater.update(this._pointPicker.intersectionPlane,this._factory.c1,this._factory.c2)}_pickP3(t){this._pointPicker.shouldProjectToIntersectionPlane=!0,this._pointPicker.shouldSelectedObjectsBlockPointSnappers=!0;const e=t.planeSnapper.plane;this._pointPicker.configureForNormal(this._factory.c2,e.normal,t.camera),this._factory.setNormal(e.normal);const{pointerNDC:i}=t.pointerState,{intersectionPoint:n}=this._pointPicker.intersect(t,i);this._factory.p3.copy(n),this._factory.shouldSetHeightFromCenter=this._pointPicker.hasCenterPointRestriction,this._factory.update();const{c1:o,c2:a}=this._factory;this.guideY.text.setViewport(t),this.guideY.pointStart.copy(a),this.guideY.pointEnd.copy(n),M_(a,o,Mn,this.guideY.offsetReferencePoint),this._editor.presenceController.updateCursorPositionGlobal(n),this._presenceUpdater.update(this._pointPicker.intersectionPlane,this._factory.c1,n)}_commit(){this._factory.commit(),this._presenceUpdater.commit()}get boundsGuide(){return this._boundsGuide||(this._boundsGuide=new Fm(this._editor),this._boundsGuide.guideX.changed.add(t=>{this._pointPicker.lengthRestrictionX=t}),this._boundsGuide.guideZ.changed.add(t=>{this._pointPicker.lengthRestrictionZ=t}),this.disposable.add(new tt(()=>{var t;(t=this._boundsGuide)==null||t.dispose()}))),this._boundsGuide}get guideY(){return this._guideY||(this._guideY=new yn(this._editor,{variant:"Dimension",textOverlayOptions:{shouldIndicateEditable:!0}}),this._guideY.changed.add(t=>{this._pointPicker.lengthRestrictionY=[t],this._guideYLengthRestriction=t}),this._editor.helpers.add(this._guideY),this.disposable.add(new tt(()=>{var t;(t=this._guideY)==null||t.dispose()}))),this._guideY}}var $St=Object.defineProperty,t4t=(s,t,e)=>t in s?$St(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,e4t=(s,t,e)=>(t4t(s,t+"",e),e);const s4t=.2,HV=class z6{static push(t){this._history.push(t)}static onUndo(){z6._history.pop()}static get last(){return z6._history.peek()??{operation:it.MESH_SELECT,value:0}}static canSnap(t){return this.last.operation===t}static snap(t,e,i){const n=e||s4t;return Math.abs(t-this.last.value)<n?this.last.value:i&&Math.abs(t-i)<n?i:t}};e4t(HV,"_history",new $d);let i4t=HV;var n4t=Object.defineProperty,o4t=(s,t,e)=>t in s?n4t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,mS=(s,t,e)=>(o4t(s,typeof t!="symbol"?t+"":t,e),e);class r4t{constructor(t){this.mesher=t,mS(this,"undoStack"),mS(this,"redoStack"),mS(this,"depth",20),this.undoStack=new $d(this.depth),this.redoStack=new $d(this.depth)}push(t,e){const i=t.copy();this.undoStack.push({timestamp:Date.now(),action:e,mesh:i,selection:{currentSelectableTypes:t.selection.currentSelectableTypes,ids:new Set(t.selection.ids),prev:t.selection.prev,last:t.selection.last}}),this.redoStack.size()>0&&this.redoStack.clear()}undo(){if(this.undoStack.size()<=1)return null;const t=this.undoStack.pop();if(t==null)return null;const e=this.peekUndo();if(e){const i=e.mesh;this.mesher.setMesh(i,e.selection)}this.redoStack.push(t)}redo(){const t=this.redoStack.pop();if(t==null)return null;const e=t.mesh;this.mesher.setMesh(e,t.selection),this.undoStack.push(t)}peekUndo(){return this.undoStack.peek()}peekRedo(){return this.redoStack.peek()}clear(){this.undoStack.clear(),this.redoStack.clear()}}class UV{static build(t,e,i){return q_.build(t,e,i,o=>new hl(o))}static convertToShape(t){if(!(t!=null&&t.base)||t.entity.type===L.SHAPE)return;const e=t.entity;e.type=L.SHAPE;const i=new hl(e,t.base);e.removeComponentsByType(pt.Geometry),e.addComponent(i),t.setGeometryComponent(i);let n=e.getComponent(Dh);n==null?(n=new Dh(e,i),e.addComponent(n)):n.setGeometryComponent(i)}}fn.register(L.SHAPE,UV,s=>s.type===L.SHAPE);var a4t=Object.defineProperty,l4t=(s,t,e)=>t in s?a4t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Cp=(s,t,e)=>(l4t(s,typeof t!="symbol"?t+"":t,e),e);class gS{constructor(){Cp(this,"vertex"),Cp(this,"edge"),Cp(this,"face"),Cp(this,"twin"),Cp(this,"next"),Cp(this,"prev"),Cp(this,"onBoundary"),Cp(this,"index"),this.vertex=null,this.edge=null,this.face=null,this.twin=null,this.next=null,this.prev=null,this.onBoundary=!1,this.index=-1}getVertex(){return this.vertex}setVertex(t){this.vertex=t}getEdge(){return this.edge}setEdge(t){this.edge=t}getFace(){return this.face}setFace(t){this.face=t}getTwin(){return this.twin}setTwin(t){this.twin=t}getIndex(){return this.index}setIndex(t){this.index=t}copy(){return{ref:this,diff:{vertex:this.vertex,edge:this.edge,face:this.face,twin:this.twin,next:this.next,prev:this.prev,onBoundary:this.onBoundary}}}}var c4t=Object.defineProperty,h4t=(s,t,e)=>t in s?c4t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,_S=(s,t,e)=>(h4t(s,typeof t!="symbol"?t+"":t,e),e);class zV{constructor(t,e,i){_S(this,"position",null),_S(this,"index",null),_S(this,"polygons",null),this.position=t,this.index=e,this.polygons=i}getPosition(){return this.position}setPosition(t){this.position=t}getIndex(){return this.index}setIndex(t){this.index=t}getPolygons(){return this.polygons}setPolygons(t){this.polygons=t}}var d4t=Object.defineProperty,u4t=(s,t,e)=>t in s?d4t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Ic=(s,t,e)=>(u4t(s,typeof t!="symbol"?t+"":t,e),e);class f4t{constructor(){Ic(this,"vertices"),Ic(this,"edges"),Ic(this,"halfEdges"),Ic(this,"faces"),Ic(this,"boundaries"),Ic(this,"renderData"),Ic(this,"meshData"),Ic(this,"vertexMap"),Ic(this,"faceMap"),Ic(this,"geometryVertexMap"),Ic(this,"update"),Ic(this,"selection"),this.vertices=[],this.edges=[],this.halfEdges=[],this.faces=[],this.boundaries=[],this.selection={currentSelectableTypes:new Set,ids:new Set,last:null,prev:null},this.renderData=null,this.meshData=null,this.vertexMap=new Map,this.faceMap=new Map,this.geometryVertexMap=new Map,this.update=Date.now()}needsUpdate(){this.update=Date.now()}getVertices(t){return t&&(t=this.vertices),this.vertices}getEdges(t){return t&&(t=this.edges),this.edges}getHalfEdges(t){return t&&(t=this.halfEdges),this.halfEdges}getFaces(t){return t&&(t=this.faces),this.faces}getBoundaries(t){return t&&(t=this.boundaries),this.boundaries}addVertex(){const t=new jy;return t.index=this.vertices.length,this.vertices.push(t),t}addEdge(){const t=new F0;return t.index=this.edges.length,this.edges.push(t),t}addHalfEdge(){const t=new gS;return t.index=this.halfEdges.length,this.halfEdges.push(t),t}addFace(){const t=new B0;return t.index=this.faces.length,this.faces.push(t),t}build(t){if(!t||!t.position||!t.polygons||!this.allocateBuffers(t))return!1;const i=t.position.array,n=t.polygons.array,o=new Map;for(let v=0;v<i.length/3;v++){const y=new jy;this.vertices[v]=y,y.position.set(i[v*3+0],i[v*3+1],i[v*3+2]),o.set(v,y)}let a=0;const l=new Map,c=new Map,h=new Map;let d=0,u=0,f=0,p=0;for(;f<n.length;){u=n[f],f++;const v=new B0;this.faces[p]=v;for(let y=0;y<u;y++){const b=new gS;this.halfEdges[d+y]=b}for(let y=0;y<u;y++){const b=(y+1)%u,C=n[f+y],x=n[f+b],I=this.halfEdges[d+y];I.next=this.halfEdges[d+b],I.prev=this.halfEdges[d+(y+u-1)%u],I.onBoundary=!1,h.set(I,!1);const O=o.get(C);I.vertex=O,O.halfEdge=I,I.face=v,v.halfEdge=I;const D=[C,x].sort().toString(),B=c.get(D);if(B){const k=B;I.twin=k,k.twin=I,I.edge=k.edge,h.set(I,!0),h.set(k,!0);const Y=l.get(D)??0;l.set(D,Y+1)}else{const k=new F0;this.edges[a++]=k,I.edge=k,k.halfEdge=I,c.set(D,I),l.set(D,1)}const F=l.get(D);if(F&&F>2)return be.open({id:`non-manifold-${_t()}`,text:"Mesh has non-manifold edges"}),!1}f+=u,p++,d+=u}const g=this.faces.length;let _=this.halfEdges.length;for(let v=0;v<g;v++){const y=this.halfEdges[v];if(!h.get(y)){const b=new B0;this.boundaries.push(b);const C=[];let x=y;do{const O=new gS;this.halfEdges[_++]=O,C.push(O);let T=x.next;for(;T&&h.get(T)&&!(!T||!T.twin);)T=T.twin.next;if(!T)break;O.vertex=T.vertex,O.edge=x.edge,O.onBoundary=!0,O.face=b,b.halfEdge=O,O.twin=x,x.twin=O,x=T}while(x!==y);const I=C.length;for(let O=0;O<I;O++){C[O].next=C[(O+I-1)%I],C[O].prev=C[(O+1)%I],h.set(C[O],!0);const T=C[O].twin;T&&h.set(T,!0)}}}return this.assignIndices(),this.faceMap.clear(),this.vertexMap.clear(),this.renderData=null,At.USE_WASM_MESH||(this.meshData=null),this.geometryVertexMap.clear(),!0}allocateBuffers(t){if(!t||!t.position||!t.index||!t.polygons)return!1;const e=t.polygons.array;let i=0,n=0;const o=new Map;let a=0,l=0;for(;a<e.length;){l=e[a],a++;for(let u=0;u<l;u++){const f=(u+1)%l,p=e[a+u],g=e[a+f],_=[p,g].sort(),v=_.toString();o.has(v)?i--:(o.set(v,_),i++)}a+=l,n++}const c=t.position.count,h=o.size,d=2*h-i;return this.vertices=[],this.edges=[],this.faces=[],this.halfEdges=[],this.boundaries=[],this.vertices=new Array(c),this.edges=new Array(h),this.faces=new Array(n),this.halfEdges=new Array(d),!0}assignIndices(){let t=0;for(const e of this.vertices)e.index=t++;t=0;for(const e of this.edges)e.index=t++;t=0;for(const e of this.faces)e.index=t,t++;t=0;for(const e of this.halfEdges)e.index=t++;t=0;for(const e of this.boundaries)e.index=t++}prepareMesh(t){var d;if(this.renderData=t,!t.position||!t.index)return!1;const e=[];for(let u=0,f=t.position.count;u<f;u++){const p=new w().fromBufferAttribute(t.position,u),g=sO(p);if(this.vertexMap.has(g)){const _=this.vertexMap.get(g);_.ids.push(u),this.geometryVertexMap.get(_.index).push(u)}else{const _={ids:[u],index:this.vertexMap.size};e.push(p.x),e.push(p.y),e.push(p.z),this.vertexMap.set(g,_),this.geometryVertexMap.set(_.index,[u])}}let i=[];if(t.polygons!=null)i=Array.from(t.polygons.array);else{if(!t.index)return!1;for(let u=0;u<((d=t.index)==null?void 0:d.array.length);u+=3)i.push(3,t.index.array[u+0],t.index.array[u+1],t.index.array[u+2])}let n=0,o=0,a=0;for(;n<i.length;)for(o=i[n],n++,a=0;a<o;a++){const u=new w().fromBufferAttribute(t.position,i[n]),f=sO(u);i[n]=this.vertexMap.get(f).index,n++}const l=new nK(i,1),c=new or(e,3),h=new zV(c,t.index,l);return this.meshData=h,this.build(h)}triangulate(){const t=[],e=[],i=[],n=[],o=[],a=[];let l=0,c=0;this.faces.forEach(_=>{if(this.selection.currentSelectableTypes.has(Le.FACE)){const v=_.triangulate(l,this.selection.ids.has(_));t.push(...v.position),e.push(...v.index),c=v.polygon.length,i.push(c,...v.polygon),n.push(...v.color),o.push(...v.uv),a.push(l)}else{const v=_.triangulate(l,!1);t.push(...v.position),e.push(...v.index),c=v.polygon.length,i.push(c,...v.polygon),n.push(...v.color),o.push(...v.uv),a.push(l)}l+=c});const h=new $s(new Float32Array(t),3),d=new $s(new Uint32Array(e),1),u=new $s(new Uint32Array(a),1),f=new $s(new Float32Array(n),4),p=new $s(new Float32Array(i),1),g=new $s(new Float32Array(o),2);return{position:h,index:d,color:f,polygons:p,uv:g,offset:u}}selectFace(t,e=$t.REPLACE){if(this.selection.currentSelectableTypes.clear(),this.selection.currentSelectableTypes.add(Le.FACE),At.USE_WASM_MESH){const i=this.selection.ids;e===$t.REPLACE?(i.clear(),i.add(t),this.selection.last=t,this.selection.prev=null):e===$t.ADD?i.has(t)?(i.delete(t),this.selection.last=null):(i.add(t),this.selection.prev=this.selection.last,this.selection.last=t):e===$t.LOOP&&(i.add(t),this.selection.prev=this.selection.last,this.selection.last=t)}else{const i=this.faces[t],n=this.selection.ids;e===$t.REPLACE?(n.clear(),n.add(i),this.selection.last=i,this.selection.prev=null):e===$t.ADD?n.has(i)?(n.delete(i),this.selection.last=null):(n.add(i),this.selection.prev=this.selection.last,this.selection.last=i):e===$t.LOOP&&(n.add(i),this.selection.prev=this.selection.last,this.selection.last=i)}return this.needsUpdate(),this.selection}selectEdge(t,e=$t.REPLACE){if(this.selection.currentSelectableTypes.clear(),this.selection.currentSelectableTypes.add(Le.EDGE),At.USE_WASM_MESH){const i=this.selection.ids;e===$t.REPLACE?(i.clear(),i.add(t),this.selection.last=t,this.selection.prev=null):e===$t.ADD&&(i.has(t)?(i.delete(t),this.selection.last=null):(i.add(t),this.selection.prev=this.selection.last,this.selection.last=t))}else{const i=this.edges[t],n=this.selection.ids;e===$t.REPLACE?(n.clear(),n.add(i),this.selection.last=i,this.selection.prev=null):e===$t.ADD&&(n.has(i)?(n.delete(i),this.selection.last=null):(n.add(i),this.selection.prev=this.selection.last,this.selection.last=i))}return this.needsUpdate(),this.selection}selectVertex(t,e=$t.REPLACE){if(this.selection.currentSelectableTypes.clear(),this.selection.currentSelectableTypes.add(Le.VERTEX),At.USE_WASM_MESH){const i=this.selection.ids;e===$t.REPLACE?(i.clear(),i.add(t),this.selection.last=t,this.selection.prev=null):e===$t.ADD&&(i.has(t)?(i.delete(t),this.selection.last=null):(i.add(t),this.selection.prev=this.selection.last,this.selection.last=t))}else{const i=this.vertices[t],n=this.selection.ids;e===$t.REPLACE?(n.clear(),n.add(i),this.selection.last=i,this.selection.prev=null):e===$t.ADD&&(n.has(i)?(n.delete(i),this.selection.last=null):(n.add(i),this.selection.prev=this.selection.last,this.selection.last=i))}return this.needsUpdate(),this.selection}selectWasm(t,e,i=$t.REPLACE){this.selection.currentSelectableTypes=e;const n=this.selection.ids;i===$t.REPLACE?(n.clear(),n.add(t),this.selection.last=t,this.selection.prev=null):i===$t.ADD&&(n.has(t)?(n.delete(t),this.selection.last=null):(n.add(t),this.selection.prev=this.selection.last,this.selection.last=t))}copy(){const t=[],e=[],i=[],n=[],o=[];return this.vertices.forEach(a=>{t.push(a.copy())}),this.edges.forEach(a=>{e.push(a.copy())}),this.faces.forEach(a=>{i.push(a.copy())}),this.halfEdges.forEach(a=>{n.push(a.copy())}),this.boundaries.forEach(a=>{o.push(a.copy())}),{vertices:t,edges:e,faces:i,halfEdges:n,boundaries:o}}apply(t){this.vertices=[],this.edges=[],this.faces=[],this.halfEdges=[],this.boundaries=[],t.vertices.forEach(e=>{e.ref.position.fromArray(e.diff.position),e.ref.halfEdge=e.diff.halfEdge,this.vertices.push(e.ref)}),t.edges.forEach(e=>{e.ref.halfEdge=e.diff.halfEdge,this.edges.push(e.ref)}),t.faces.forEach(e=>{e.ref.halfEdge=e.diff.halfEdge,this.faces.push(e.ref)}),t.halfEdges.forEach(e=>{e.diff&&(e.ref.vertex=e.diff.vertex,e.ref.edge=e.diff.edge,e.ref.face=e.diff.face,e.ref.twin=e.diff.twin,e.ref.next=e.diff.next,e.ref.prev=e.diff.prev,e.ref.onBoundary=e.diff.onBoundary),this.halfEdges.push(e.ref)}),t.boundaries.forEach(e=>{e.ref.halfEdge=e.diff.halfEdge,this.boundaries.push(e.ref)})}}var YV=(s=>(s.NONE="modifier.none",s.BASE="modifier.base",s.EXTRUDE="modifier.extrude",s.INSET="modifier.inset",s.BEVEL="modifier.bevel",s.LOOP="modifier.loop",s))(YV||{}),WV=Object.defineProperty,p4t=Object.getOwnPropertyDescriptor,m4t=(s,t,e)=>t in s?WV(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Q_=(s,t,e,i)=>{for(var n=i>1?void 0:i?p4t(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&WV(t,e,n),n},Ja=(s,t,e)=>(m4t(s,typeof t!="symbol"?t+"":t,e),e);const Bm=class XV{constructor(t){this.editor=t,Ja(this,"_disposable",new Zt),Ja(this,"_history"),Ja(this,"_mesh"),Ja(this,"_mesherView"),Ja(this,"_meshComponent"),Ja(this,"_matrix"),Ja(this,"_isXrayViewEnabled",!1),Ja(this,"_modifier",YV.NONE),Ja(this,"_selection",null),Ja(this,"_meshPtr",null),Ja(this,"_geomPtr",null),Ja(this,"_isUpdatingObjRemotely",!1),Ja(this,"_selectables",new Set),this._mesh=null,this._mesherView=null,this._meshComponent=null,this._matrix=new Lt,this._history=new r4t(this),this._disposable.add(this._addSignalBindings()),vt(this)}dispose(){this._disposable.dispose()}get meshPtr(){return this._meshPtr?At.getUint32Buffer(this._meshPtr,1):null}get geomPtr(){return this._geomPtr?At.getUint32Buffer(this._geomPtr,1):null}_addSignalBindings(){const{signals:t}=this.editor,e=[];return e.push(t.command.activeToolChanged.add(i=>{this.isActive&&![it.MESH_SELECT,it.EXTRUDE,it.INSET,it.BEVEL,it.LOOP_CUT].includes(i)&&this.stop()})),new tt(()=>{for(const i of e)i.detach()})}get modifier(){return this._modifier}get selection(){return this._selection}get meshComponent(){return this._meshComponent}get isXrayViewEnabled(){return this._isXrayViewEnabled}clearSelection(){this._selection=null}setXraySelectMode(t){var e;this._isXrayViewEnabled=t,(e=this._meshComponent)==null||e.material.updateMeshOpacity(t)}start(t){var o;if(!XV.supportedTypes.includes(t.type)||t.compo.isInstance)return!1;const e=t.getComponent(Wi);if(!e||!e.base||(this._meshComponent=e,!this._meshComponent.base))return!1;const i=t.transform.matrixGlobal;if(this._matrix=i,this._mesh=this._createMesh(this._meshComponent.base,i),!this._mesh)return!1;this._selection=this._mesh.selection,this._mesherView=new qd(this,this.editor.layerController,t.id,this._mesh,this._meshPtr,this._geomPtr),this._history.push(this._mesh,P.MESH_MODIFY);const n=this._meshComponent.base.toJSON();return db.addOrUpdateObject(Ax.MeshEdit,this._meshComponent.entity.sceneObject.id,n,this._meshComponent.entity.sceneObject.lastGeometryUpdated),this.editor.stateController.recordBefore({action:P.MESH_MODIFY,selection:[this._meshComponent]}),this._isXrayViewEnabled&&((o=this._meshComponent)==null||o.material.updateMeshOpacity(!0)),this.editor.signals.mesher.meshEditModeEntered.dispatch({meshView:this._mesherView}),!0}_createMesh(t,e){const i=new f4t,n=t.clone();n.applyMatrix4(e);const o=n.attributes.position,a=n.index,l=n.attributes.polygons,c=new zV(o,a,l);return i.prepareMesh(c)?(At.USE_WASM_MESH&&this._createMeshWasm(t,e),i):null}_createMeshWasm(t,e){var u,f,p,g;const i=(f=(u=this._mesh)==null?void 0:u.meshData)==null?void 0:f.getPosition(),n=(g=(p=this._mesh)==null?void 0:p.meshData)==null?void 0:g.getPolygons();if(i==null||n==null)return;const o=n.array.length,a=At.mallocAndSet(n.array),l=i.array.length,c=At.mallocAndSet(i.array),h=At.mallocPtr(),d=At.mallocPtr();At.make_manifold_surface_mesh({length_input_polygons:o,input_polygons:a,length_input_positions:l,input_positions:c,meshPtr:h,geomPtr:d}),At.free(a,c),this._meshPtr=h,this._geomPtr=d}get mesh(){return this._mesh}get view(){return this._mesherView}get isActive(){return!!this._mesh}stop(){var t;if(this._meshComponent&&this._meshComponent.base){const e=this._meshComponent.base.toJSON();db.addOrUpdateObject(Ax.MeshEdit,this._meshComponent.entity.sceneObject.id,e,this._meshComponent.entity.sceneObject.lastGeometryUpdated),this.editor.stateController.recordAfter({action:P.MESH_MODIFY,selection:[this._meshComponent]})}return this._isXrayViewEnabled&&((t=this._meshComponent)==null||t.material.updateMeshOpacity(!1)),this._mesh=null,this._meshComponent=null,this._mesherView?(this._history.clear(),this.editor.signals.mesher.meshEditModeExited.dispatch({meshView:this._mesherView}),!0):!1}undo(){this._history.undo(),i4t.onUndo()}redo(){this._history.redo()}setMesh(t,e){if(this._mesh==null||this._mesherView==null)return;this._mesh.apply(t),e&&(this._mesh.selection.currentSelectableTypes=e.currentSelectableTypes,this._mesh.selection.ids=new Set(e.ids),this._mesh.selection.prev=e.prev,this._mesh.selection.last=e.last),this._selection=this._mesh.selection;const i=this.getGeometry();i&&(this.updateLocally(i),this.updateRemotely(i))}getGeometry(){if(!this._mesh)return null;const t=new $n;if(At.USE_WASM_MESH){if(!this._mesherView||!this._mesherView.vertWasm||!this._mesherView.faceWasm||!this._mesherView.polyWasm)return null;t.setAttribute("position",new or(this._mesherView.vertWasm,3)),t.setIndex(this._mesherView.faces.geometry.index),t.setAttribute("polygons",new oK(this._mesherView.polyWasm,1))}else{const e=this._mesh.triangulate();t.setAttribute("position",e.position),t.setAttribute("uv",e.uv),t.setAttribute("polygons",e.polygons),t.setIndex(e.index)}return t.computeVertexNormals(),t.computeBoundingBox(),t.computeBoundingSphere(),t.applyMatrix4(this._matrix.clone().invert()),t}update(){if(!this._mesh||!this._meshComponent)return;this._history.push(this._mesh,P.MESH_MODIFY);const t=this.getGeometry();t&&(this.updateLocally(t),this.updateRemotely(t))}updateLocally(t,e){var n;const i=e||this._meshComponent;if(i!=null&&i.base){if(this._convertToShapeIfNot(i),Object.keys(i.entity.sceneObject.states).length>0){const{sceneObject:o}=i.entity;this._duplicateOriginalGeometryIfNeeded(i,o.urlKey)}t&&i.setGeometry(t),(n=this._mesherView)==null||n.update(),this.editor.signals.gizmo.changed.dispatch()}}_convertToShapeIfNot(t){UV.convertToShape(t),be.open({id:`convert-to-editable-mesh_${Ht()}`,text:"Converted to editable object",options:{visibleTime:4e3}})}async _duplicateOriginalGeometryIfNeeded(t,e){if(!(t!=null&&t.base)||this._isUpdatingObjRemotely)return;const{base:i}=t.entity,n=[];if(i.activeState&&(i.urlKey===null||i.urlKey===e)&&n.push("base"),Object.entries(i.states).forEach(([a,l])=>{(!i.activeState||i.activeState&&i.activeState!==a)&&l.urlKey===e&&n.push(a)}),n.length===0)return;this._isUpdatingObjRemotely=!0;const o=await this._updateObjectRemotely(t.base,!0);if(!o)return this._isUpdatingObjRemotely=!1;n.forEach(a=>{const l=a==="base"?i:i.states[a];if(!l)return this._isUpdatingObjRemotely=!1;Jt(()=>{l.urlKey=o})}),this._isUpdatingObjRemotely=!1}updateVertexPositionsStep(t){this.view&&this.view.updateVertexPositionsFromTargetsStep(t.targets)}updateVertexPositions(){this.view&&this.view.updateVertexPositions()}async updateRemotely(t){const e=await this._updateObjectRemotely(t);if(!this._meshComponent||!e)return;const{sceneObject:i}=this._meshComponent.entity;Jt(()=>{i.urlKey=e}),this.editor.stateController.signals.modifyMesh.dispatch({action:P.MESH_MODIFY,ids:new Set([this._meshComponent.entity.id])})}async _updateObjectRemotely(t,e=!1){if(!this._meshComponent)return;const{sceneObject:i}=this._meshComponent.entity;let n=e?null:i.urlKey;const o=t.toJSON(),a=JSON.stringify(o),l=new TextEncoder().encode(a),c=new Blob([l],{type:"application/json;charset=utf-8"});if(!n){const h=URL.createObjectURL(c).match(/[^/]+$/g);if(!h)return;n=h[0]}return await ks(n,c),n}updatePhantom(t){var e;(e=this._mesherView)==null||e.makePhantom(t),this.editor.signals.object.sceneGraphChanged.dispatch()}getCurrentSelectableObjects(t,e){if(this._selectables.clear(),!this._mesh)return this._selectables;if(e.has(Le.VERTEX))for(const i of this._mesh.vertices)this._selectables.add(i);if(e.has(Le.EDGE))for(const i of this._mesh.edges)this._selectables.add(i);if(e.has(Le.FACE))for(const i of this._mesh.faces)this._selectables.add(i);return this._selectables}getVertexById(t){return this._mesh?this._mesh.vertices[t]:null}getEdgeById(t){return this._mesh?this._mesh.edges[t]:null}getFaceById(t){return this._mesh?this._mesh.faces[t]:null}updateSelectionHighlight(t){if(this._mesh){for(const e of t.vertexIds)this._mesh.vertices[e].highlightForSelected();for(const e of t.edgeIds)this._mesh.edges[e].highlightForSelected();for(const e of t.faceIds)this._mesh.faces[e].highlightForSelected()}}};Ja(Bm,"supportedTypes",[L.BOX,L.SPHERE,L.SHAPE,L.PLANE,L.CYLINDER,L.CONE]);Q_([V],Bm.prototype,"_isXrayViewEnabled",2);Q_([V],Bm.prototype,"_modifier",2);Q_([V],Bm.prototype,"_selection",2);Q_([E],Bm.prototype,"clearSelection",1);Q_([E],Bm.prototype,"setXraySelectMode",1);Q_([E],Bm.prototype,"_convertToShapeIfNot",1);let ZV=Bm;var Ii=(s=>(s.NEEDS_MESH_SELECTION="NEEDS_MESH_SELECTION",s.ATTEMPTING_MESH_SELECTION="ATTEMPTING_MESH_SELECTION",s.HAS_MESH_SELECTION="HAS_MESH_SELECTION",s.HAS_CURVE_SELECTION="HAS_CURVE_SELECTION",s.HAS_PART_SELECTION="HAS_PART_SELECTION",s.PERFORMING="PERFORMING",s))(Ii||{}),g4t=Object.defineProperty,_4t=(s,t,e)=>t in s?g4t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Yv=(s,t,e)=>(_4t(s,typeof t!="symbol"?t+"":t,e),e);class nC extends Se{constructor(t,e=ZV.supportedTypes){super(),this.editor=t,this._supportedTypes=e,Yv(this,"_selectionChanger",new gV(this.editor)),Yv(this,"_selectionController",this.editor.selectionController),Yv(this,"_meshController",this.editor.meshController),Yv(this,"_curveController",this.editor.curveController),Yv(this,"_state",Ii.NEEDS_MESH_SELECTION),this.editor.selectionController.setSelectableTypes(Le.FACE)}init(){const{selectedCollection:t}=this._selectionController;this._meshController.mesh||t.sceneEntitiesWithMesh.length?this._transitionToState(Ii.HAS_MESH_SELECTION):this._curveController.editing||this._supportedTypes.includes(L.CURVE)&&t.sceneEntitiesWithCurve.length?this._transitionToState(Ii.HAS_CURVE_SELECTION):this._transitionToState(Ii.NEEDS_MESH_SELECTION)}_transitionToState(t){const{selectedCollection:e}=this._selectionController;switch(t){case Ii.NEEDS_MESH_SELECTION:break;case Ii.HAS_CURVE_SELECTION:!this._curveController.editing&&e.sceneEntitiesWithCurve.length&&this._curveController.startEditing(e.sceneEntitiesWithCurve[0]);break;case Ii.HAS_MESH_SELECTION:if(!this._meshController.isActive&&e.sceneEntitiesWithMesh.length&&!this._meshController.start(e.sceneEntitiesWithMesh[0])){wt(zl.EXIT);return}break}this._state=t}onPointerEvent(t){const{lastEvent:e}=t.pointerState,{selectedCollection:i}=this._selectionController;switch(this._state){case Ii.NEEDS_MESH_SELECTION:if(e.isHover)return!!this._selectionChanger.processHover(t.pointerState.pointerNDC,t,!0,new Set([Le.SCENE_ENTITY]));e.isLeftClickStart&&this._transitionToState(Ii.ATTEMPTING_MESH_SELECTION);break;case Ii.ATTEMPTING_MESH_SELECTION:if(e.isLeftClickEnd){if(this._selectionChanger.processClick(t.pointerState.pointerNDC,t,!0,$t.REPLACE,new Set([Le.SCENE_ENTITY])),this._supportedTypes.includes(L.CURVE)&&i.sceneEntitiesWithCurve.length)return this._transitionToState(Ii.HAS_CURVE_SELECTION),!0;if(i.sceneEntitiesWithMesh.length)return this._transitionToState(Ii.HAS_MESH_SELECTION),!0;this._transitionToState(Ii.NEEDS_MESH_SELECTION)}else e.isLeftDragEnd&&this._transitionToState(Ii.NEEDS_MESH_SELECTION);break;case Ii.HAS_MESH_SELECTION:if(e.isHover&&this._meshController.mesh)return this._highlight(t),!1;break}return!1}_highlight(t){this._selectionChanger.processHover(t.pointerState.pointerNDC,t)}_endInteraction(){return this._meshController.updatePhantom(null),this._meshController.update(),this._meshController.updateSelectionHighlight(this._selectionController.selectedCollection),this.editor.signals.mesher.interactionEnded.dispatch(),!0}}var Co=(s=>(s.WHEEL_START="WHEEL_START",s.WHEEL_CONTINUE="WHEEL_CONTINUE",s.WHEEL_END="WHEEL_END",s))(Co||{});class KV extends Se{constructor(t,e=!1){super(),this.commentController=t,this._shouldHandleCloseCommentEvent=e}onPointerEvent(t,e){switch(e){case xt.CLICK_END:return this._onPointerUp(t);default:return!1}}onWheelEvent(t,e){switch(e){case Co.WHEEL_START:return this._onWheelStart();case Co.WHEEL_END:return this._onWheelEnd();default:return!1}}_onPointerUp(t){return t.pointerState.lastButton!==Fn.LEFT?!1:this.commentController.popup!=null?(this.commentController.removePopup(),this._shouldHandleCloseCommentEvent):!1}_onWheelStart(){return this.commentController.setPointerEventsEnabled(!1),!1}_onWheelEnd(){return this.commentController.setPointerEventsEnabled(!0),!1}}class v4t{constructor(t){this.playController=t}startInteractionsForObjects(t,e,i,n,o=!1,a=!1){if(!t.lastEvent.canTriggerAnimations)return!1;const l=Object.keys(this._colliderInteractionsByAnimatingEntityId),c=Date.now();let h=!1;for(const d of l){const u=this._getColliderInteractionsForObjectId(d);if(u==null)return!1;const f=as.getEntries(u);for(const[p,{trigger:g}]of f){if(g.type!==te.COLLIDER||g.event!==n)continue;const _=e==null?void 0:e.entity,v=i==null?void 0:i.entity,{targetEntityIds:y,targetEntityIds2:b}=g;let C=!1;const x=(e==null?void 0:e.entity.id)===d||(i==null?void 0:i.entity.id)===d;if(o&&a)C=!1;else if((o||a)&&v!=null)C=!y||y.includes(Ms)&&v.id===d||y.includes(v.id)||y.includes(wo);else{if(_==null||v==null)continue;const I=!y||y.length===1&&y[0]===wo,O=!b||b.length===1&&b[0]===wo;I&&O?C=!0:I&&b?(b.includes(Ms)&&x||b.includes(_.id)||b.includes(v.id))&&(C=!0):O&&y?(y.includes(Ms)&&x||y.includes(_.id)||y.includes(v.id))&&(C=!0):y&&b&&(C=(y.includes(_.id)||y.includes(v.id)||y.includes(Ms)&&x)&&(b.includes(_.id)||b.includes(v.id)||b.includes(Ms)&&x))}C&&(h=this.playController.startAnimationForInteraction(p,c)||h)}}return h}_getColliderInteractionsForObjectId(t){return t==null?null:this._colliderInteractionsByAnimatingEntityId[t]}get _colliderInteractionsByAnimatingEntityId(){return this.playController.rootStore.interactionsStore.colliderInteractionsByAnimatingEntityId}}var y4t=Object.defineProperty,b4t=(s,t,e)=>t in s?y4t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,C4t=(s,t,e)=>(b4t(s,t+"",e),e);class w4t extends Se{constructor(t){super(),this._editor=t,C4t(this,"_interactionsRunner",new v4t(this._editor))}onColliderEvent(t){const{lastEvent:e}=t;if(!e)return!1;switch(e.type){case ub.COLLISION_START:return this._onCollisionStart(t);case ub.COLLISION_END:return this._onCollisionEnd(t);default:return!1}}_onCollisionStart(t){const{lastEvent:e}=t;if(!e)return!1;const{handle1:i,handle2:n}=e,o=this._editor.physicsController.getColliderIdByHandle(i),a=this._editor.physicsController.getColliderIdByHandle(n);if(!(o&&a))return!1;const l=sf.has(o),c=sf.has(a);if(l&&c)return!1;const h=this._editor.physicsController.getEntityByHandle(i),d=this._editor.physicsController.getEntityByHandle(n);if(l&&d||c&&h){const g=l?d==null?void 0:d.getComponent(Fl):h==null?void 0:h.getComponent(Fl);return!g||g.isIntersectingColliders([...sf])?!1:(g.setCollidersIntersecting(l?a:o,l?o:a),this._interactionsRunner.startInteractionsForObjects(t,null,g,Wt.DIRECT_TOUCH_INSIDE,l,c),!0)}if(!(h&&d))return!1;const u=h.getComponent(Fl),f=d.getComponent(Fl);if(!(u&&f))return!1;const p=u.isIntersecting(f)||f.isIntersecting(u);return u.setCollidersIntersecting(o,a),f.setCollidersIntersecting(a,o),p?!1:(this._interactionsRunner.startInteractionsForObjects(t,u,f,Wt.ON_COLLISION_START),!0)}_onCollisionEnd(t){const{lastEvent:e}=t;if(!e)return!1;const{handle1:i,handle2:n}=e,o=this._editor.physicsController.getColliderIdByHandle(i),a=this._editor.physicsController.getColliderIdByHandle(n);if(!(o&&a))return!1;const l=sf.has(o),c=sf.has(a),h=this._editor.physicsController.getEntityByHandle(i),d=this._editor.physicsController.getEntityByHandle(n),u=h?h.getComponent(Fl):null,f=d?d.getComponent(Fl):null;u&&u.unsetCollidersInterecting(o,a),f&&f.unsetCollidersInterecting(a,o);let p=!1;return l&&f||c&&u?(l?p=!(f!=null&&f.isIntersectingColliders([...sf])):p=!(u!=null&&u.isIntersectingColliders([...sf])),this._interactionsRunner.startInteractionsForObjects(t,l?u:f,l?f:u,Wt.DIRECT_TOUCH_OUTSIDE,l,c),!0):(u&&f&&(p=!u.isIntersecting(f)&&!f.isIntersecting(u)),p?(this._interactionsRunner.startInteractionsForObjects(t,u,f,Wt.ON_COLLISION_END),!0):!1)}}const x4t=200,NO=64;function E4t(){return{radius:1,height:1,segmentsAround:x4t,sliceAngle:Math.PI,bevelOffsetTop:.05,bevelSegmentsTop:NO,bevelOffsetBottom:.05,bevelSegmentsBottom:NO}}class S4t extends eu{get isConeGeometry(){return!0}constructor(t=kb){const e=_1.getBeziEngine(),i={radius:t.width*.5,height:t.height,segmentsAround:t.segmentsAround,sliceAngle:t.sliceAngle,bevelOffsetTop:t.bevelOffsetTop,bevelSegmentsTop:t.bevelSegmentsTop,bevelOffsetBottom:t.bevelOffsetBottom,bevelSegmentsBottom:t.bevelSegmentsBottom},n=eu._getBufferOptions(),o=new e.ConeGeometry(i,n),a=e.ConeGenerator_queryIndexCount(E4t());super(o,a)}setParameters(t){if(!this._geometry)return;const e={radius:t.width*.5,height:t.height,segmentsAround:t.segmentsAround,sliceAngle:t.sliceAngle,bevelOffsetTop:t.bevelOffsetTop,bevelSegmentsTop:t.bevelSegmentsTop,bevelOffsetBottom:t.bevelOffsetBottom,bevelSegmentsBottom:t.bevelSegmentsBottom};this._geometry.regenerate(e),super._onSetParameters()}}var I4t=Object.defineProperty,A4t=Object.getOwnPropertyDescriptor,oh=(s,t,e,i)=>{for(var n=A4t(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&I4t(t,e,n),n};class cc extends Ra{constructor(t,e=kb){const i=new S4t(e);super(t,L.CONE,i),this._base=i}get parameters(){return this.entity.sceneObject.parameters}get constrainedParameters(){const{width:t,height:e,depth:i,segmentsAround:n,sliceAngle:o,bevelSegmentsTop:a,bevelSegmentsBottom:l,areBevelOffsetsLinked:c,areBevelSegmentsLinked:h,areDimensionsLinked:d}=this.parameters;return{width:t,height:e,depth:i,segmentsAround:n,sliceAngle:o,bevelOffsetTop:this.constrainedBevelOffsetTop,bevelSegmentsTop:a,bevelOffsetBottom:this.constrainedBevelOffsetBottom,bevelSegmentsBottom:l,areBevelOffsetsLinked:c,areBevelSegmentsLinked:h,areDimensionsLinked:d}}get constrainedBevelOffsetTop(){return Math.min(this.parameters.bevelOffsetTop,this.maxBevelOffsetTop)}get constrainedBevelOffsetBottom(){return Math.min(this.parameters.bevelOffsetBottom,this.maxBevelOffsetBottom)}get maxBevelOffsetTop(){const{height:t}=this.parameters;return t}get maxBevelOffsetBottom(){const{width:t,height:e,depth:i}=this.parameters,{constrainedBevelOffsetTop:n}=this;if(e===0)return 0;const o=e-n;return Math.min(o/2,t/2,i/2)}get maxBevelOffset(){const{width:t,height:e,depth:i}=this.parameters;return Math.min(e,t,i)/2}setParameters(t){this._base.setParameters(t)}get boundingBox(){const t=this._boundingBoxCache.get(),{width:e,height:i,depth:n}=this.parameters,o=e/2,a=n/2,l=i/2;return t.min.set(-o,-l,-a),t.max.set(o,l,a),t}get boundingSphere(){const t=this._boundingSphereCache.get();return this.boundingBox.getBoundingSphere(t),t}setSize(t){this.parameters.width=t.x,this.parameters.height=t.y,this.parameters.depth=t.z}applyScale({x:t,y:e,z:i}){let n=1;t>=1&&i>=1?n=Math.max(t,i):t<=1&&i<=1?n=Math.min(t,i):n=Math.hypot(t,i);const o=e<1?Math.min(e,n):Math.max(e,n),{width:a,height:l,depth:c,bevelOffsetTop:h,bevelOffsetBottom:d}=this.parameters;this.parameters.width=t*a,this.parameters.height=e*l,this.parameters.depth=i*c,this.parameters.bevelOffsetTop=o*h,this.parameters.bevelOffsetBottom=o*d}watch(){this.disposableReactions.push(rt(()=>{const{width:t,depth:e}=this.constrainedParameters;this._base.setParameters(this.constrainedParameters),this._base.scale(1,1,e/t),Jt(()=>{this.geometry=this._base,this.entity.sceneObject.lastGeometryUpdated=Date.now(),this.entity.highlightComponent.update(),this._boundingBoxRevision++})}))}setBaseGeometry(t){this._base=t,this.entity.sceneObject.lastGeometryUpdated=Date.now()}}oh([M],cc.prototype,"parameters");oh([M],cc.prototype,"constrainedParameters");oh([M],cc.prototype,"constrainedBevelOffsetTop");oh([M],cc.prototype,"constrainedBevelOffsetBottom");oh([M],cc.prototype,"maxBevelOffsetTop");oh([M],cc.prototype,"maxBevelOffsetBottom");oh([M],cc.prototype,"maxBevelOffset");oh([Ui],cc.prototype,"boundingBox");oh([Ui],cc.prototype,"boundingSphere");oh([Ui],cc.prototype,"setSize");oh([E],cc.prototype,"applyScale");oh([Ui],cc.prototype,"setBaseGeometry");const qV=S.literal(L.CONE);go.merge(S.object({type:qV,parameters:Y7}));function T4t(s){return Ir(s,qV,Y7)}class QV{static build(t,e,i){return q_.build(t,e,i,o=>new cc(o,o.sceneObject.parameters))}}fn.register(L.CONE,QV,T4t);var JV=Object.defineProperty,P4t=Object.getOwnPropertyDescriptor,O4t=(s,t,e)=>t in s?JV(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,$V=(s,t,e,i)=>{for(var n=P4t(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&JV(t,e,n),n},Lr=(s,t,e)=>(O4t(s,typeof t!="symbol"?t+"":t,e),e);class o8 extends mo{constructor(t){super(t,L.CONE),Lr(this,"p1",new w),Lr(this,"p2",new w),Lr(this,"p3",new w),Lr(this,"_position",new w),Lr(this,"shouldCreateFromCenter",!1),Lr(this,"shouldSetHeightFromCenter",!1),Lr(this,"lengthSnapIncrement",.001),Lr(this,"_delta",new w),Lr(this,"_size",new w),Lr(this,"_c1",new w),Lr(this,"_c2",new w),Lr(this,"_diameter",0),Lr(this,"_sizeScale",new w(2,1,2)),Lr(this,"_signs",new w),Lr(this,"_c3",new w),Lr(this,"_c4",new w),vt(this)}create(){const{p1:t,p2:e,_position:i,orientation:n}=this,o=new ls().setFromQuaternion(n);qr(t,e,i);const a=this.composeSceneObject(i,o),l=QV.build(this._editor,a,null);return this._entity=l,super._onCreated(),l}composeSceneObject(t,e){return{...super.composeSceneObjectWithMaterial(t,e),type:L.CONE,parameters:kb}}update(){if(!this._entity)return;const{p1:t,p3:e,_c1:i,_c2:n,_c3:o,_delta:a,_size:l,_position:c,lengthSnapIncrement:h}=this;xo(t,e,a),l.set(Zr(a.getComponent(this._widthComponent)),Zr(a.getComponent(this._heightComponent)),Zr(a.getComponent(this._depthComponent))),this.shouldCreateFromCenter&&l.multiply(this._sizeScale),this.shouldSetHeightFromCenter&&(l.y*=2),this._diameter=Math.max(l.x,l.z),this._diameter=Vo(this._diameter,h);const d=this._diameter/2;this._signs.set(nl(a.getComponent(this._widthComponent)),nl(a.getComponent(this._heightComponent)),nl(a.getComponent(this._depthComponent))),i.copy(t),this.shouldCreateFromCenter&&(i.sub(a),i.setComponent(this._widthComponent,t.getComponent(this._widthComponent)-d),i.setComponent(this._depthComponent,t.getComponent(this._depthComponent)-d)),this.shouldSetHeightFromCenter&&i.setComponent(this._heightComponent,t.getComponent(this._heightComponent)-l.y/2),n.copy(i),this.shouldCreateFromCenter?(n.setComponent(this._widthComponent,t.getComponent(this._widthComponent)+d),n.setComponent(this._depthComponent,t.getComponent(this._depthComponent)+d)):(n.setComponent(this._widthComponent,t.getComponent(this._widthComponent)+this._diameter*this._signs.x),n.setComponent(this._depthComponent,t.getComponent(this._depthComponent)+this._diameter*this._signs.z)),this.shouldSetHeightFromCenter&&n.setComponent(this._heightComponent,t.getComponent(this._heightComponent)-l.y/2),o.copy(e),this.shouldCreateFromCenter?c.copy(t):qr(i,o,c),l.y*=nl(a.getComponent(this._heightComponent));const u=this._entity.sceneObject.parameters;u.width=d*2,u.depth=d*2,u.height=Math.abs(l.y),this._entity.transform.setPosition(c),this._entity.transform.setRotation({x:this.euler.x,y:this.euler.y,z:this.euler.z})}get c1(){return this._c1}get c2(){return this._c2}get c3(){const{c2:t,c1:e}=this;return this._c3.copy(t).setComponent(this._widthComponent,e.getComponent(this._widthComponent))}get c4(){const{c2:t,c1:e}=this;return this._c4.copy(t).setComponent(this._depthComponent,e.getComponent(this._depthComponent))}}$V([E],o8.prototype,"create");$V([E],o8.prototype,"update");var M4t=Object.defineProperty,L4t=(s,t,e)=>t in s?M4t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Ac=(s,t,e)=>(L4t(s,typeof t!="symbol"?t+"":t,e),e);class R4t extends Se{constructor(t){super(),this._editor=t,Ac(this,"_pointPicker",new tn(this._editor)),Ac(this,"_factory",new o8(this._editor)),Ac(this,"_state","none"),Ac(this,"_remoteUpdater",new m1(this._editor)),Ac(this,"_presenceUpdater",new lc(this._editor)),Ac(this,"_hasMoved",!1),Ac(this,"_lastClickPositionVP",new ee),Ac(this,"_interactionPlane",new Be),Ac(this,"_normalOffset",new w),Ac(this,"_boundsGuide"),Ac(this,"_guideYLengthRestriction"),Ac(this,"_guideY"),this.disposable.add(new tt(()=>{this._remoteUpdater.commit(),this._pointPicker.dispose(),this._factory.dispose(),this._editor.selectionController.setIsTransformingSelection(!1)}))}onPointerEvent(t,e){var d;const{isHover:i,isLeftClickStart:n,isLeftClickEnd:o,isLeftDragStart:a,isLeftDragContinue:l,isLeftDragEnd:c,isDoubleLeftClickEnd:h}=t.pointerState.lastEvent;switch(this._state){case"none":return i?(this._pickP1(t),!0):n?(this._pickP1(t),this._state="picking-p1",!0):!1;case"picking-p1":return a?(this._create(t),this._state="picking-p2",!0):o?(this._state="picked-p1",this._lastClickPositionVP.copy(t.pointerState.pointerVP),!0):!1;case"picked-p1":return i?(!this._hasMoved&&!Ff(this._lastClickPositionVP,t.pointerState.pointerVP,2)&&(this._hasMoved=!0,this._create(t),this._pickP2(t),this._state="picking-p2"),!0):h?(this._createAndCommitDefaultShape(t),!0):!1;case"picking-p2":return l||i?(this._pickP2(t),!0):c||n?((d=this._boundsGuide)==null||d.dispose(),this._pointPicker.lengthRestriction=0,this._pointPicker.hasCenterPointRestriction=!1,this._pointPicker.hasUniformRestriction=!1,this._state="picking-p3",!0):!1;case"picking-p3":return l||i?(this._pickP3(t),!0):c||n?(this._commit(),!0):!1;default:return!1}}onKeyboardEvent(t,e){const{wasDown:i,wasEnd:n}=t.keyState.lastEvent;return i(Vt.SHIFT)?(this._pointPicker.hasUniformRestriction=!0,!0):(n(Vt.SHIFT)&&(this._pointPicker.hasUniformRestriction=!1),i(Vt.ALT)?(this._pointPicker.hasCenterPointRestriction=!0,!0):(n(Vt.ALT)&&(this._pointPicker.hasCenterPointRestriction=!1),!1))}_pickP1(t){const e=t.planeSnapper.plane;this._pointPicker.intersectionPlane.normal.copy(e.normal),this._interactionPlane.normal.copy(e.normal),this._factory.setNormal(e.normal);const{pointerNDC:i}=t.pointerState,{intersectionPoint:n}=this._pointPicker.intersect(t,i);return this._factory.p1.copy(n),this._factory.p2.copy(n),this._factory.p3.copy(n),this._presenceUpdater.update(this._interactionPlane,n,n),this._editor.presenceController.updateCursorPositionGlobal(n),!0}_create(t){const{pointerNDC:e}=t.pointerState,{intersectionPoint:i}=this._pointPicker.intersect(t,e),n=t.planeSnapper.plane;return this._pointPicker.configureForPlane(i,n.normal),this._pointPicker.hasCenterPointRestriction=!1,this._pointPicker.hasUniformRestriction=!0,this._factory.setNormal(n.normal),this._factory.create(),!0}_createAndCommitDefaultShape(t){return this._create(t),this._commit(),!0}_pickP2(t){const{pointerNDC:e}=t.pointerState,{intersectionPoint:i}=this._pointPicker.intersect(t,e),n=t.planeSnapper.plane;this._pointPicker.configureForPlane(this._factory.p1,n.normal),this._factory.setNormal(n.normal),this._factory.p2.copy(i),this._normalOffset.copy(this._pointPicker.intersectionPlane.normal).multiplyScalar(Fo),this._factory.p3.copy(i).add(this._normalOffset),this._factory.shouldCreateFromCenter=this._pointPicker.hasCenterPointRestriction,this._factory.update(),this._remoteUpdater.update();const{c1:o,c2:a,c3:l,c4:c}=this._factory;this.boundsGuide.update(t,o,a,l,c),this._editor.presenceController.updateCursorPositionGlobal(a),this._presenceUpdater.update(this._pointPicker.intersectionPlane,this._factory.c1,this._factory.c2)}_pickP3(t){this._pointPicker.shouldProjectToIntersectionPlane=!0,this._pointPicker.shouldSelectedObjectsBlockPointSnappers=!0;const e=t.planeSnapper.plane;this._pointPicker.configureForNormal(this._factory.c2,e.normal,t.camera),this._factory.setNormal(e.normal);const{pointerNDC:i}=t.pointerState,{intersectionPoint:n}=this._pointPicker.intersect(t,i);this._factory.p3.copy(n),this._factory.shouldSetHeightFromCenter=this._pointPicker.hasCenterPointRestriction,this._factory.update(),this._remoteUpdater.update();const{c1:o,c2:a}=this._factory;this.guideY.text.setViewport(t),this.guideY.pointStart.copy(a),this.guideY.pointEnd.copy(n),M_(a,o,Mn,this.guideY.offsetReferencePoint),this._editor.presenceController.updateCursorPositionGlobal(n),this._presenceUpdater.update(this._pointPicker.intersectionPlane,this._factory.c1,n)}_commit(){this._remoteUpdater.commit(),this._presenceUpdater.commit()}get boundsGuide(){return this._boundsGuide||(this._boundsGuide=new Fm(this._editor),this._boundsGuide.guideX.changed.add(t=>{this._pointPicker.lengthRestrictionX=t}),this._boundsGuide.guideZ.changed.add(t=>{this._pointPicker.lengthRestrictionZ=t}),this.disposable.add(new tt(()=>{var t;(t=this._boundsGuide)==null||t.dispose()}))),this._boundsGuide}get guideY(){return this._guideY||(this._guideY=new yn(this._editor,{variant:"Dimension",textOverlayOptions:{shouldIndicateEditable:!0}}),this._guideY.changed.add(t=>{this._pointPicker.lengthRestrictionY=[t],this._guideYLengthRestriction=t}),this._editor.helpers.add(this._guideY),this.disposable.add(new tt(()=>{var t;(t=this._guideY)==null||t.dispose()}))),this._guideY}}const tH=S.object({width:S.number(),height:S.number(),depth:S.number(),segmentsAround:S.number(),sliceAngle:S.number(),radiusTop:S.number(),radiusBottom:S.number(),bevelOffsetTop:S.number(),bevelSegmentsTop:S.number(),bevelOffsetBottom:S.number(),bevelSegmentsBottom:S.number(),areBevelSegmentsLinked:S.boolean(),areBevelOffsetsLinked:S.boolean(),areRadiiLinked:S.boolean(),areDimensionsLinked:S.boolean()}),eH=S.literal(L.CYLINDER);go.merge(S.object({type:eH,parameters:tH}));function N4t(s){return Ir(s,eH,tH)}const j4t=200,sH=32,jO=64;function D4t(){return{radiusTop:.5,radiusBottom:.5,segmentsAround:j4t,sliceAngle:cl,height:1,bevelOffsetTop:.05,bevelSegmentsTop:jO,bevelOffsetBottom:.05,bevelSegmentsBottom:jO}}class F4t extends eu{get isCylinderGeometry(){return!0}constructor(t=.5,e=.5,i=32,n=cl,o=1,a=.05,l=1,c=.05,h=1){const d=_1.getBeziEngine(),u={radiusTop:t??Wn.radiusTop,radiusBottom:e??Wn.radiusBottom,segmentsAround:i??Wn.segmentsAround,sliceAngle:n??Wn.sliceAngle,height:o??Wn.height,bevelOffsetTop:a??Wn.bevelOffsetTop,bevelSegmentsTop:l??Wn.bevelSegmentsTop,bevelOffsetBottom:c??Wn.bevelOffsetBottom,bevelSegmentsBottom:h??Wn.bevelSegmentsBottom},f=eu._getBufferOptions(),p=new d.CylinderGeometry(u,f),g=d.CylinderGenerator_queryIndexCount(D4t());super(p,g)}setParameters({radiusTop:t,radiusBottom:e,segmentsAround:i,sliceAngle:n,height:o,bevelOffsetTop:a,bevelSegmentsTop:l,bevelOffsetBottom:c,bevelSegmentsBottom:h}){if(!this._geometry)return;const d={radiusTop:t??Wn.radiusTop,radiusBottom:e??Wn.radiusBottom,segmentsAround:i??Wn.segmentsAround,sliceAngle:n??Wn.sliceAngle,height:o??Wn.height,bevelOffsetTop:a??Wn.bevelOffsetTop,bevelSegmentsTop:l??Wn.bevelSegmentsTop,bevelOffsetBottom:c??Wn.bevelOffsetBottom,bevelSegmentsBottom:h??Wn.bevelSegmentsBottom};this._geometry.regenerate(d),this._onSetParameters()}}var B4t=Object.defineProperty,k4t=Object.getOwnPropertyDescriptor,hu=(s,t,e,i)=>{for(var n=k4t(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&B4t(t,e,n),n};class hd extends Ra{constructor(t,e=Wn){const i=new F4t(e.radiusTop,e.radiusBottom,e.segmentsAround,e.sliceAngle,e.height,e.bevelOffsetTop,e.bevelSegmentsTop,e.bevelOffsetBottom,e.bevelSegmentsBottom);super(t,L.CYLINDER,i),this._base=i}get parameters(){return this.entity.sceneObject.parameters}setParameters(t){this._base.setParameters(t)}get boundingBox(){const t=this._boundingBoxCache.get(),{width:e,height:i,depth:n}=this.parameters,o=e/2,a=n/2,l=i/2;return t.min.set(-o,-l,-a),t.max.set(o,l,a),t}get boundingSphere(){const t=this._boundingSphereCache.get();return this.boundingBox.getBoundingSphere(t),t}setSize(t){this.parameters.radiusTop===this.parameters.width/2&&(this.parameters.radiusTop=t.x/2),this.parameters.radiusBottom===this.parameters.width/2&&(this.parameters.radiusBottom=t.x/2),this.parameters.width=t.x,this.parameters.height=t.y,this.parameters.depth=t.z}applyScale({x:t,y:e,z:i}){let n=1;t>1&&i<1||t<1&&i>1?n=Math.hypot(t,i):t>=1&&i>=1?n=Math.max(t,i):t<=1&&i<=1&&(n=Math.min(t,i));const o=e<1?Math.min(e,n):Math.max(e,n);this.parameters.width*=t,this.parameters.height*=e,this.parameters.depth*=i,this.parameters.radiusTop*=t,this.parameters.radiusBottom*=t,this.parameters.bevelOffsetTop*=o,this.parameters.bevelOffsetBottom*=o}get constrainedBevelOffsetTop(){const{bevelOffsetTop:t}=this.parameters;return Math.min(t,this.maxBevelOffsetTop)}get constrainedBevelOffsetBottom(){const{bevelOffsetBottom:t}=this.parameters;return Math.min(t,this.maxBevelOffsetBottom)}get maxBevelOffsetTop(){const{radiusTop:t,height:e}=this.parameters;return Math.min(t,e/2)}get maxBevelOffsetBottom(){const{radiusBottom:t,height:e}=this.parameters;return Math.min(t,e/2)}computeSlantHeight(t=this.parameters.height){const{radiusBottom:e,radiusTop:i}=this.parameters;return Math.hypot(t,e-i)}watch(){this.disposableReactions.push(rt(()=>{const{width:t,depth:e}=this.parameters,{constrainedBevelOffsetTop:i,constrainedBevelOffsetBottom:n}=this,o={width:this.parameters.width,height:this.parameters.height,depth:this.parameters.depth,radiusTop:this.parameters.radiusTop,radiusBottom:this.parameters.radiusBottom,segmentsAround:this.parameters.segmentsAround,sliceAngle:this.parameters.sliceAngle,bevelSegmentsTop:this.parameters.bevelSegmentsTop,bevelSegmentsBottom:this.parameters.bevelSegmentsBottom,areRadiiLinked:this.parameters.areRadiiLinked,areBevelSegmentsLinked:this.parameters.areBevelSegmentsLinked,areBevelOffsetsLinked:this.parameters.areBevelOffsetsLinked,areDimensionsLinked:this.parameters.areDimensionsLinked,bevelOffsetTop:i,bevelOffsetBottom:n};this._base.setParameters(o),this._base.scale(1,1,e/t),Jt(()=>{this.geometry=this._base,this.entity.sceneObject.lastGeometryUpdated=Date.now(),this.entity.highlightComponent.update(),this._boundingBoxRevision++})}))}setBaseGeometry(t){this._base=t,this.entity.sceneObject.lastGeometryUpdated=Date.now()}}hu([M],hd.prototype,"parameters");hu([Ui],hd.prototype,"boundingBox");hu([Ui],hd.prototype,"boundingSphere");hu([Ui],hd.prototype,"setSize");hu([E],hd.prototype,"applyScale");hu([M],hd.prototype,"constrainedBevelOffsetTop");hu([M],hd.prototype,"constrainedBevelOffsetBottom");hu([M],hd.prototype,"maxBevelOffsetTop");hu([M],hd.prototype,"maxBevelOffsetBottom");hu([Ui],hd.prototype,"setBaseGeometry");class iH{static build(t,e,i){return q_.build(t,e,i,o=>new hd(o,o.sceneObject.parameters))}}fn.register(L.CYLINDER,iH,N4t);var nH=Object.defineProperty,G4t=Object.getOwnPropertyDescriptor,V4t=(s,t,e)=>t in s?nH(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,oH=(s,t,e,i)=>{for(var n=G4t(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&nH(t,e,n),n},qo=(s,t,e)=>(V4t(s,typeof t!="symbol"?t+"":t,e),e);class r8 extends mo{constructor(t){super(t,L.CYLINDER),qo(this,"p1",new w),qo(this,"p2",new w),qo(this,"p3",new w),qo(this,"_position",new w),qo(this,"shouldCreateFromCenter",!1),qo(this,"shouldSetHeightFromCenter",!1),qo(this,"lengthSnapIncrement",.001),qo(this,"_delta",new w),qo(this,"_deltaP1P2",new w),qo(this,"_deltaP2P3",new w),qo(this,"_size",new w),qo(this,"_c1",new w),qo(this,"_c2",new w),qo(this,"_diameter",0),qo(this,"_sizeScale",new w(2,1,2)),qo(this,"_signs",new w),qo(this,"_c3",new w),qo(this,"_c4",new w),vt(this)}create(){const{p1:t,p2:e,_position:i,orientation:n}=this,o=new ls().setFromQuaternion(n);qr(t,e,i);const a=this.composeSceneObject(i,o),l=iH.build(this._editor,a,null);return this._entity=l,super._onCreated(),l}composeSceneObject(t,e){return{...super.composeSceneObjectWithMaterial(t,e),type:L.CYLINDER,parameters:Wn}}update(){if(!this._entity)return;const{p1:t,p3:e,_c1:i,_c2:n,_c3:o,_delta:a,_size:l,_position:c,lengthSnapIncrement:h}=this;xo(t,e,a),l.set(Zr(a.getComponent(this._widthComponent)),Zr(a.getComponent(this._heightComponent)),Zr(a.getComponent(this._depthComponent))),this.shouldCreateFromCenter&&l.multiply(this._sizeScale),this.shouldSetHeightFromCenter&&(l.y*=2),this._diameter=Math.max(l.x,l.z),this._diameter=Vo(this._diameter,h);const d=this._diameter/2;this._signs.set(nl(a.getComponent(this._widthComponent)),nl(a.getComponent(this._heightComponent)),nl(a.getComponent(this._depthComponent))),i.copy(t),this.shouldCreateFromCenter&&(i.sub(a),i.setComponent(this._widthComponent,t.getComponent(this._widthComponent)-d),i.setComponent(this._depthComponent,t.getComponent(this._depthComponent)-d)),this.shouldSetHeightFromCenter&&i.setComponent(this._heightComponent,t.getComponent(this._heightComponent)-l.y/2),n.copy(i),this.shouldCreateFromCenter?(n.setComponent(this._widthComponent,t.getComponent(this._widthComponent)+d),n.setComponent(this._depthComponent,t.getComponent(this._depthComponent)+d)):(n.setComponent(this._widthComponent,t.getComponent(this._widthComponent)+this._diameter*this._signs.x),n.setComponent(this._depthComponent,t.getComponent(this._depthComponent)+this._diameter*this._signs.z)),this.shouldSetHeightFromCenter&&n.setComponent(this._heightComponent,t.getComponent(this._heightComponent)-l.y/2),o.copy(e),this.shouldCreateFromCenter?c.copy(t):qr(i,o,c),l.y*=nl(a.getComponent(this._heightComponent));const u=this._entity.sceneObject.parameters;u.radiusTop=d,u.radiusBottom=d,u.width=d*2,u.depth=d*2,u.height=Math.abs(l.y),this._entity.transform.setPosition(c),this._entity.transform.setRotation({x:this.euler.x,y:this.euler.y,z:this.euler.z})}get c1(){return this._c1}get c2(){return this._c2}get c3(){const{c2:t,c1:e}=this;return this._c3.copy(t).setComponent(this._widthComponent,e.getComponent(this._widthComponent))}get c4(){const{c2:t,c1:e}=this;return this._c4.copy(t).setComponent(this._depthComponent,e.getComponent(this._depthComponent))}}oH([E],r8.prototype,"create");oH([E],r8.prototype,"update");var H4t=Object.defineProperty,U4t=(s,t,e)=>t in s?H4t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Tc=(s,t,e)=>(U4t(s,typeof t!="symbol"?t+"":t,e),e);class z4t extends Se{constructor(t){super(),this._editor=t,Tc(this,"_pointPicker",new tn(this._editor)),Tc(this,"_factory",new r8(this._editor)),Tc(this,"_state","none"),Tc(this,"_remoteUpdater",new m1(this._editor)),Tc(this,"_presenceUpdater",new lc(this._editor)),Tc(this,"_hasMoved",!1),Tc(this,"_lastClickPositionVP",new ee),Tc(this,"_interactionPlane",new Be),Tc(this,"_normalOffset",new w),Tc(this,"_boundsGuide"),Tc(this,"_guideYLengthRestriction"),Tc(this,"_guideY"),this.disposable.add(new tt(()=>{this._remoteUpdater.commit(),this._pointPicker.dispose(),this._factory.dispose(),this._editor.selectionController.setIsTransformingSelection(!1)}))}onPointerEvent(t,e){var d;const{isHover:i,isLeftClickStart:n,isLeftClickEnd:o,isLeftDragStart:a,isLeftDragContinue:l,isLeftDragEnd:c,isDoubleLeftClickEnd:h}=t.pointerState.lastEvent;switch(this._state){case"none":return i?(this._pickP1(t),!0):n?(this._pickP1(t),this._state="picking-p1",!0):!1;case"picking-p1":return a?(this._create(t),this._state="picking-p2",!0):o?(this._state="picked-p1",this._lastClickPositionVP.copy(t.pointerState.pointerVP),!0):!1;case"picked-p1":return i?(!this._hasMoved&&!Ff(this._lastClickPositionVP,t.pointerState.pointerVP,2)&&(this._hasMoved=!0,this._create(t),this._pickP2(t),this._state="picking-p2"),!0):h?(this._createAndCommitDefaultShape(t),!0):!1;case"picking-p2":return l||i?(this._pickP2(t),!0):c||n?((d=this._boundsGuide)==null||d.dispose(),this._pointPicker.lengthRestriction=0,this._pointPicker.hasCenterPointRestriction=!1,this._pointPicker.hasUniformRestriction=!1,this._state="picking-p3",!0):!1;case"picking-p3":return l||i?(this._pickP3(t),!0):c||n?(this._commit(),!0):!1;default:return!1}}onKeyboardEvent(t,e){const{wasDown:i,wasEnd:n}=t.keyState.lastEvent;return i(Vt.SHIFT)?(this._pointPicker.hasUniformRestriction=!0,!0):(n(Vt.SHIFT)&&(this._pointPicker.hasUniformRestriction=!1),i(Vt.ALT)?(this._pointPicker.hasCenterPointRestriction=!0,!0):(n(Vt.ALT)&&(this._pointPicker.hasCenterPointRestriction=!1),!1))}_pickP1(t){const e=t.planeSnapper.plane;this._pointPicker.intersectionPlane.normal.copy(e.normal),this._interactionPlane.normal.copy(e.normal),this._factory.setNormal(e.normal);const{pointerNDC:i}=t.pointerState,{intersectionPoint:n}=this._pointPicker.intersect(t,i);return this._factory.p1.copy(n),this._factory.p2.copy(n),this._factory.p3.copy(n),this._presenceUpdater.update(this._interactionPlane,n,n),this._editor.presenceController.updateCursorPositionGlobal(n),!0}_create(t){const{pointerNDC:e}=t.pointerState,{intersectionPoint:i}=this._pointPicker.intersect(t,e),n=t.planeSnapper.plane;return this._pointPicker.configureForPlane(i,n.normal),this._pointPicker.hasCenterPointRestriction=!1,this._pointPicker.hasUniformRestriction=!0,this._factory.setNormal(n.normal),this._factory.create(),!0}_createAndCommitDefaultShape(t){return this._create(t),this._commit(),!0}_pickP2(t){const{pointerNDC:e}=t.pointerState,{intersectionPoint:i}=this._pointPicker.intersect(t,e),n=t.planeSnapper.plane;this._pointPicker.configureForPlane(this._factory.p1,n.normal),this._factory.setNormal(n.normal),this._factory.p2.copy(i),this._normalOffset.copy(this._pointPicker.intersectionPlane.normal).multiplyScalar(Fo),this._factory.p3.copy(i).add(this._normalOffset),this._factory.shouldCreateFromCenter=this._pointPicker.hasCenterPointRestriction,this._factory.update(),this._remoteUpdater.update();const{c1:o,c2:a,c3:l,c4:c}=this._factory;this.boundsGuide.update(t,o,a,l,c),this._editor.presenceController.updateCursorPositionGlobal(a),this._presenceUpdater.update(this._pointPicker.intersectionPlane,this._factory.c1,this._factory.c2)}_pickP3(t){this._pointPicker.shouldProjectToIntersectionPlane=!0,this._pointPicker.shouldSelectedObjectsBlockPointSnappers=!0;const e=t.planeSnapper.plane;this._pointPicker.configureForNormal(this._factory.c2,e.normal,t.camera),this._factory.setNormal(e.normal);const{pointerNDC:i}=t.pointerState,{intersectionPoint:n}=this._pointPicker.intersect(t,i);this._factory.p3.copy(n),this._factory.shouldSetHeightFromCenter=this._pointPicker.hasCenterPointRestriction,this._factory.update(),this._remoteUpdater.update();const{c1:o,c2:a}=this._factory;this.guideY.text.setViewport(t),this.guideY.pointStart.copy(a),this.guideY.pointEnd.copy(n),M_(a,o,Mn,this.guideY.offsetReferencePoint),this._editor.presenceController.updateCursorPositionGlobal(n),this._presenceUpdater.update(this._pointPicker.intersectionPlane,this._factory.c1,n)}_commit(){this._remoteUpdater.commit(),this._presenceUpdater.commit()}get boundsGuide(){return this._boundsGuide||(this._boundsGuide=new Fm(this._editor),this._boundsGuide.guideX.changed.add(t=>{this._pointPicker.lengthRestrictionX=t}),this._boundsGuide.guideZ.changed.add(t=>{this._pointPicker.lengthRestrictionZ=t}),this.disposable.add(new tt(()=>{var t;(t=this._boundsGuide)==null||t.dispose()}))),this._boundsGuide}get guideY(){return this._guideY||(this._guideY=new yn(this._editor,{variant:"Dimension",textOverlayOptions:{shouldIndicateEditable:!0}}),this._guideY.changed.add(t=>{this._pointPicker.lengthRestrictionY=[t],this._guideYLengthRestriction=t}),this._editor.helpers.add(this._guideY),this.disposable.add(new tt(()=>{var t;(t=this._guideY)==null||t.dispose()}))),this._guideY}}class rH{static build(t,e,i){const n=d3.build(t,e,i),o=new Rm(n,n.sceneObject.parameters);return n.addComponent(o),n}}fn.register(L.DIRECTIONAL_LIGHT,rH,nG);var aH=Object.defineProperty,Y4t=Object.getOwnPropertyDescriptor,W4t=(s,t,e)=>t in s?aH(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,X4t=(s,t,e,i)=>{for(var n=Y4t(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&aH(t,e,n),n},Wv=(s,t,e)=>(W4t(s,typeof t!="symbol"?t+"":t,e),e);class lH extends mo{constructor(t,e){super(t,L.DIRECTIONAL_LIGHT),this._pointPicker=e,Wv(this,"referenceDirectional",new w),Wv(this,"position",new w),Wv(this,"orientation",new ke),Wv(this,"euler",new ls),Wv(this,"_measurementGuide"),vt(this)}create(){const t=new ls().setFromQuaternion(this.orientation),e=this.composeSceneObject(this.position,t);return this._entity=rH.build(this._editor,e,null),this._onCreated(),this._entity}composeSceneObject(t,e){return{...super.composeSceneObject(t,e),type:L.DIRECTIONAL_LIGHT,parameters:Bb}}update(t){this._entity||(this._entity=this.create()),this._entity.transform.setPosition(this.position),this._editor.stateController.signals.transform.dispatch({action:P.TRANSFORM}),this.measurementGuide.text.setViewport(t),this.measurementGuide.pointStart.copy(this.referenceDirectional),this.measurementGuide.pointEnd.copy(this.position)}get measurementGuide(){return this._measurementGuide||(this._measurementGuide=new yn(this._editor,{variant:"Direction",textOverlayOptions:{shouldIndicateEditable:!0}}),this._editor.helpers.add(this._measurementGuide),this._measurementGuide.changed.add(t=>{this._pointPicker.lengthRestriction=t}),this._disposable.add(new tt(()=>{var t;(t=this._measurementGuide)==null||t.dispose()}))),this._measurementGuide}}X4t([E],lH.prototype,"create");var Z4t=Object.defineProperty,K4t=(s,t,e)=>t in s?Z4t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,wp=(s,t,e)=>(K4t(s,typeof t!="symbol"?t+"":t,e),e);class q4t extends Se{constructor(t){super(),this._editor=t,wp(this,"_pointPicker",new tn(this._editor)),wp(this,"_sceneController",this._editor.sceneController),wp(this,"_layerController",this._editor.layerController),wp(this,"_directionalLightFactory",new lH(this._editor,this._pointPicker)),wp(this,"_state","none"),wp(this,"_interectonPlane",new Be),wp(this,"_origin",new w),wp(this,"_normal",new w),this.disposable.add(new tt(()=>{this._pointPicker.dispose(),this._directionalLightFactory.dispose(),this._editor.selectionController.setIsTransformingSelection(!1)}))}onPointerEvent(t,e){const{isHover:i,isLeftClickStart:n,isLeftClickEnd:o,isLeftDragStart:a,isLeftDragContinue:l,isLeftDragEnd:c}=t.pointerState.lastEvent;switch(this._state){case"none":if(i)return this._showHoverGuide(t);if(n){const h=this._showHoverGuide(t);return h&&(this._state="picking"),h}return!1;case"picking":if(o){const h=this._commit(t);return h&&(this._state="none"),h}else if(a)return this._create(t),this._state="offsetting",!0;return!1;case"offsetting":return l?(this._offset(t),!0):c?(this._finish(),this._state="none",!0):!1;default:return!1}}_showHoverGuide(t){const{pointerNDC:e}=t.pointerState,i=t.planeSnapper.plane;this._pointPicker.intersectionPlane.normal.copy(i.normal),this._directionalLightFactory.setNormal(i.normal);const{intersectionPoint:n,normal:o}=this._pointPicker.intersect(t,e);return this._interectonPlane.normal.copy(o),this._editor.signals.object.drawContinued.dispatch({intersectionPlane:this._interectonPlane,boundsStart:n,boundsEnd:n}),!0}_create(t){const{pointerNDC:e}=t.pointerState,{intersectionPoint:i,normal:n}=this._pointPicker.intersect(t,e),o=t.planeSnapper.plane;this._pointPicker.configureForPlane(i,o.normal),this._directionalLightFactory.referenceDirectional.copy(i),this._directionalLightFactory.position.copy(i),this._directionalLightFactory.orientation.setFromUnitVectors(Af,n),this._origin.copy(i),this._normal.copy(n);const a=this._directionalLightFactory.create();return this._editor.selectionController.selectedCollection.set(a),!0}_commit(t){return this._create(t),this._finish(),!0}_offset(t){this._pointPicker.configureForNormal(this._origin,this._normal,t.camera);const{pointerNDC:e}=t.pointerState,{intersectionPoint:i}=this._pointPicker.intersect(t,e);this._directionalLightFactory.position.copy(i),this._directionalLightFactory.update(t)}_finish(){this._directionalLightFactory.commit(),this._editor.signals.object.drawEnded.dispatch()}}var cH=Object.defineProperty,Q4t=Object.getOwnPropertyDescriptor,J4t=(s,t,e)=>t in s?cH(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,hH=(s,t,e,i)=>{for(var n=Q4t(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&cH(t,e,n),n},ma=(s,t,e)=>(J4t(s,typeof t!="symbol"?t+"":t,e),e);class a8 extends mo{constructor(t){super(t,L.GROUP),ma(this,"p1",new w),ma(this,"p2",new w),ma(this,"p3",new w),ma(this,"_position",new w),ma(this,"shouldCreateFromCenter",!1),ma(this,"shouldSetHeightFromCenter",!1),ma(this,"lengthSnapIncrement",.001),ma(this,"_delta",new w),ma(this,"_deltaP1P2",new w),ma(this,"_deltaP2P3",new w),ma(this,"_size",new w),ma(this,"_c1",new w),ma(this,"_c2",new w),ma(this,"_c3",new w),ma(this,"_c4",new w),vt(this)}set origin(t){this.p1.copy(t),this.p2.copy(t),this.p3.copy(t)}create(){const{p1:t,p2:e,_position:i,orientation:n}=this,o=new ls().setFromQuaternion(n);qr(t,e,i);const a=this.composeSceneObject(i,o),l=jA.build(this._editor,a,null);return this._entity=l,super._onCreated(),l}composeSceneObject(t,e,i){return{...super.composeSceneObject(t,e,i),type:L.GROUP,parameters:K4}}update(){if(!this._entity)return;const{p1:t,p2:e,p3:i,_c1:n,_c2:o,_c3:a,_delta:l,_deltaP1P2:c,_deltaP2P3:h,_size:d,_position:u,lengthSnapIncrement:f}=this;if(xo(t,i,l),xo(t,e,c),xo(e,i,h),d.set(l.getComponent(this._widthComponent),l.getComponent(this._heightComponent),l.getComponent(this._depthComponent)),d.x=Vo(d.x,f),d.y=Vo(d.y,f),d.z=Vo(d.z,f),t1(d,Zr),n.copy(t),o.copy(e),a.copy(i),this.shouldCreateFromCenter&&(n.sub(c),d.x*=2,d.z*=2,l.setComponent(this._widthComponent,l.getComponent(this._widthComponent)*2),l.setComponent(this._depthComponent,l.getComponent(this._depthComponent)*2)),this.shouldSetHeightFromCenter&&(n.setComponent(this._heightComponent,n.getComponent(this._heightComponent)-Math.sign(l.getComponent(this._heightComponent))*d.y),o.setComponent(this._heightComponent,o.getComponent(this._heightComponent)-Math.sign(l.getComponent(this._heightComponent))*d.y),d.y*=2,l.setComponent(this._heightComponent,l.getComponent(this._heightComponent)*2)),qr(n,a,u),!this._entity)return;const p=this._entity.sceneObject.parameters;p.helperType=Pi.BOX,p.helperType===Pi.BOX&&(p.width=d.x,p.height=d.y,p.depth=d.z),this._entity.transform.setPosition(u),this._entity.transform.setRotation({x:this.euler.x,y:this.euler.y,z:this.euler.z}),this._remoteUpdater.update()}get c1(){return this._c1}get c2(){return this._c2}get c3(){const{c2:t,_delta:e}=this;return this._c3.copy(t),this._c3.setComponent(this._widthComponent,t.getComponent(this._widthComponent)-e.getComponent(this._widthComponent)),this._c3}get c4(){const{c2:t,_delta:e}=this;return this._c4.copy(t),this._c4.setComponent(this._depthComponent,t.getComponent(this._depthComponent)-e.getComponent(this._depthComponent)),this._c4}}hH([E],a8.prototype,"create");hH([E],a8.prototype,"update");var $4t=Object.defineProperty,t6t=(s,t,e)=>t in s?$4t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,bh=(s,t,e)=>(t6t(s,typeof t!="symbol"?t+"":t,e),e);class e6t extends Se{constructor(t){super(),this._editor=t,bh(this,"_pointPicker",new tn(this._editor)),bh(this,"_factory",new a8(this._editor)),bh(this,"_state","none"),bh(this,"_presenceUpdater",new lc(this._editor)),bh(this,"_hasMoved",!1),bh(this,"_lastClickPositionVP",new ee),bh(this,"_interactionPlane",new Be),bh(this,"_normalOffset",new w),bh(this,"_boundsGuide"),bh(this,"_guideYLengthRestriction"),bh(this,"_guideY"),this.disposable.add(new tt(()=>{this._pointPicker.dispose(),this._factory.dispose(),this._editor.selectionController.setIsTransformingSelection(!1)}))}onPointerEvent(t,e){var d;const{isHover:i,isLeftClickStart:n,isLeftClickEnd:o,isLeftDragStart:a,isLeftDragContinue:l,isLeftDragEnd:c,isDoubleLeftClickEnd:h}=t.pointerState.lastEvent;switch(this._state){case"none":return i?(this._pickP1(t),!0):n?(this._pickP1(t),this._state="picking-p1",!0):!1;case"picking-p1":return a?(this._create(t),this._state="picking-p2",!0):o?(this._state="picked-p1",this._lastClickPositionVP.copy(t.pointerState.pointerVP),!0):!1;case"picked-p1":return i?(!this._hasMoved&&!Ff(this._lastClickPositionVP,t.pointerState.pointerVP,2)&&(this._hasMoved=!0,this._create(t),this._pickP2(t),this._state="picking-p2"),!0):h?(this._createAndCommitDefaultShape(t),!0):!1;case"picking-p2":return l||i?(this._pickP2(t),!0):c||n?((d=this._boundsGuide)==null||d.dispose(),this._pointPicker.lengthRestriction=0,this._state="picking-p3",!0):!1;case"picking-p3":return l||i?(this._pickP3(t),!0):c||n?(this._commit(),!0):!1;default:return!1}}onKeyboardEvent(t,e){const{wasDown:i,wasEnd:n}=t.keyState.lastEvent;return i(Vt.SHIFT)?(this._pointPicker.hasUniformRestriction=!0,!0):(n(Vt.SHIFT)&&(this._pointPicker.hasUniformRestriction=!1),i(Vt.ALT)?(this._pointPicker.hasCenterPointRestriction=!0,!0):(n(Vt.ALT)&&(this._pointPicker.hasCenterPointRestriction=!1),!1))}_pickP1(t){const e=t.planeSnapper.plane;this._pointPicker.intersectionPlane.normal.copy(e.normal),this._interactionPlane.normal.copy(e.normal),this._factory.setNormal(e.normal);const{pointerNDC:i}=t.pointerState,{intersectionPoint:n}=this._pointPicker.intersect(t,i);return this._factory.p1.copy(n),this._factory.p2.copy(n),this._factory.p3.copy(n),this._presenceUpdater.update(this._interactionPlane,this._factory.c1,this._factory.c2),this._editor.presenceController.updateCursorPositionGlobal(n),!0}_create(t){const e=t.planeSnapper.plane;return this._pointPicker.configureForPlane(this._factory.p1,e.normal),this._factory.setNormal(e.normal),this._factory.create(),!0}_createAndCommitDefaultShape(t){return this._create(t),this._commit(),!0}_pickP2(t){const{pointerNDC:e}=t.pointerState,{intersectionPoint:i}=this._pointPicker.intersect(t,e),n=t.planeSnapper.plane;this._pointPicker.configureForPlane(this._factory.p1,n.normal),this._factory.setNormal(n.normal),this._factory.p2.copy(i),this._normalOffset.copy(this._pointPicker.intersectionPlane.normal).multiplyScalar(Fo),this._factory.p3.copy(i).add(this._normalOffset),this._factory.shouldCreateFromCenter=this._pointPicker.hasCenterPointRestriction,this._factory.update();const{c1:o,c2:a,c3:l,c4:c}=this._factory;this.boundsGuide.update(t,o,a,l,c),this._editor.presenceController.updateCursorPositionGlobal(a),this._presenceUpdater.update(this._pointPicker.intersectionPlane,this._factory.c1,this._factory.c2)}_pickP3(t){this._pointPicker.shouldProjectToIntersectionPlane=!0,this._pointPicker.shouldSelectedObjectsBlockPointSnappers=!0;const e=t.planeSnapper.plane;this._pointPicker.configureForNormal(this._factory.c2,e.normal,t.camera),this._factory.setNormal(e.normal);const{pointerNDC:i}=t.pointerState,{intersectionPoint:n}=this._pointPicker.intersect(t,i);this._factory.p3.copy(n),this._factory.shouldSetHeightFromCenter=this._pointPicker.hasCenterPointRestriction,this._factory.update();const{c1:o,c2:a}=this._factory;this.guideY.text.setViewport(t),this.guideY.pointStart.copy(a),this.guideY.pointEnd.copy(n),M_(a,o,Mn,this.guideY.offsetReferencePoint),this._editor.presenceController.updateCursorPositionGlobal(n),this._presenceUpdater.update(this._pointPicker.intersectionPlane,this._factory.c1,n)}_commit(){this._factory.commit(),this._presenceUpdater.commit()}get boundsGuide(){return this._boundsGuide||(this._boundsGuide=new Fm(this._editor),this._boundsGuide.guideX.changed.add(t=>{this._pointPicker.lengthRestrictionX=t}),this._boundsGuide.guideZ.changed.add(t=>{this._pointPicker.lengthRestrictionZ=t}),this.disposable.add(new tt(()=>{var t;(t=this._boundsGuide)==null||t.dispose()}))),this._boundsGuide}get guideY(){return this._guideY||(this._guideY=new yn(this._editor,{variant:"Dimension",textOverlayOptions:{shouldIndicateEditable:!0}}),this._guideY.changed.add(t=>{this._pointPicker.lengthRestrictionY=[t],this._guideYLengthRestriction=t}),this._editor.helpers.add(this._guideY),this.disposable.add(new tt(()=>{var t;(t=this._guideY)==null||t.dispose()}))),this._guideY}}var s6t=Object.defineProperty,i6t=(s,t,e)=>t in s?s6t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,DO=(s,t,e)=>(i6t(s,typeof t!="symbol"?t+"":t,e),e);class n6t extends Se{constructor(t){super(),this._editor=t,DO(this,"_state","none"),DO(this,"_selector",new A1(this._editor))}onPointerEvent(t,e){switch(e){case xt.CLICK_START:return this._state="picking",!1;case xt.CLICK_END:return this._state!=="picking"?!1:this._exit(t);default:return!1}}_exit(t){return this._selector.intersect(t.pointerState.pointerNDC,t)?!1:(wt(zl.EXIT),!0)}}class V0{static commonFaceHalfEdge(t,e){var a,l,c;const i=t.edges(),n=e.edges(),o=i.filter(h=>n.some(d=>h.index===d.index));return o.length<=0?null:((a=o[0].halfEdge)==null?void 0:a.face)===t?o[0].halfEdge:((c=(l=o[0].halfEdge)==null?void 0:l.twin)==null?void 0:c.face)===t?o[0].halfEdge.twin:null}static commonHalfEdge(t,e){const i=t.halfEdges(),n=e.halfEdges(),o=i.filter(a=>n.some(l=>a.edge&&l.edge?a.edge.index===l.edge.index:!1));return o.length<=0?null:o[0]}static commonFace(t,e){const i=t.faces(),n=e.faces(),o=i.filter(a=>n.some(l=>a.index===l.index));return o.length<=0?null:o[0]}static outgoingHalfEdge(t,e){const i=t.halfEdges();for(const n of i)if(n.twin&&n.twin.vertex===e)return n;return null}static incomingHalfEdge(t,e){const i=t.halfEdges();for(const n of i)if(n.twin&&n.twin.vertex===e)return n.twin;return null}static addVertex(t,e,i=.5){const n=e.twin;if(!e.edge||(e.edge.halfEdge=e,!e.vertex||!(n!=null&&n.vertex)))return null;const o=t.addVertex(),a=e.vertex.position,l=n.vertex.position;o.position.lerpVectors(a,l,i);const c=t.addHalfEdge();c.vertex=o,c.face=e.face,c.next=e.next,c.prev=e,c.twin=n,c.onBoundary=e.onBoundary;const h=t.addHalfEdge();h.vertex=o,h.face=n.face,h.next=n.next,h.prev=n,h.twin=e,h.edge=e.edge,h.onBoundary=n.onBoundary,o.halfEdge=c,e.next=c,e.twin=h,n.next=h,n.twin=c;const d=t.addEdge();return c.edge=d,n.edge=d,d.halfEdge=n,o}static addEdge(t,e,i,n){const o=e.halfEdgeWithVertex(i),a=e.halfEdgeWithVertex(n);if(o==null||a==null||!a.prev||!o.prev||o.next===a||a.next===o)return null;const l=t.addFace(),c=t.addHalfEdge();c.vertex=n,c.face=e,c.next=o,c.prev=a.prev,c.onBoundary=o.onBoundary;const h=t.addHalfEdge();h.vertex=i,h.face=l,h.next=a,h.prev=o.prev,h.onBoundary=!1,a.prev.next=c,o.prev.next=h,o.prev=c,a.prev=h,c.twin=h,h.twin=c,e.halfEdge=c,l.halfEdge=h;const d=new F0;d.index=t.edges.length,c.edge=d,h.edge=d,d.halfEdge=c,t.edges.push(d);const u=l.halfEdge;let f=u;do{if(f.face=l,!f.next)break;f=f.next}while(f!==u);return d}static addFace(t,e){const i=t.addFace(),n=[];e.push(e[0]);for(let o=0;o<e.length-1;o++){const a=e[o+0],l=e[o+1];let c=this.outgoingHalfEdge(a,l);if(c)c.face=i,c.onBoundary=!1,n.push(c);else{c=t.addHalfEdge();const h=t.addHalfEdge(),d=t.addEdge();c.vertex=a,h.vertex=l,c.twin=h,h.twin=c,c.edge=d,h.edge=d,d.halfEdge=c,c.face=i,c.onBoundary=!1,n.push(c)}i.halfEdge=c}n.unshift(n[n.length-1]),n.push(n[1]);for(let o=1;o<n.length-1;o++){const a=n[o-1],l=n[o+0],c=n[o+1],h=l.prev,d=l.next;if(h&&h!=a){if(h.next=a.twin,!a.twin)break;a.twin.prev=h}if(d&&d!=c){if(d.prev=c.twin,!c.twin)break;c.twin.next=d}}for(let o=1;o<n.length-1;o++){const a=n[o-1],l=n[o+0],c=n[o+1];l.prev=a,a.next=l,l.next=c,c.prev=l}return i}}function dH(s,t,e){let i=null;if(!s.vertex)return i;const n=s.vertex.faces();for(let o=0;o<n.length;o++){const a=n[o];t.has(a)&&(i=a.faceNormal(),i.multiplyScalar(e))}return i}function o6t(s,t,e=1){var v,y,b;const i=new Set(t);let n=[],o=[],a=[],l=[],c=[],h=[],d=[];const u=[],f=[],p=t[0].halfEdge;let g=p;do{if(!g)break;const C=dH(g,i,e);if(C&&u.push(C),!g.vertex||!((v=g.twin)!=null&&v.vertex))break;n.push(g.vertex),o.push(g),a.push(g.twin),g.vertex.halfEdge=g,g.twin.vertex.halfEdge=g.twin;const x=s.addVertex();x.position.copy(g.vertex.position),l.push(x);const I=s.addHalfEdge();c.push(I);const O=s.addHalfEdge();h.push(O);const T=s.addEdge();if(d.push(T),!((b=(y=g==null?void 0:g.next)==null?void 0:y.twin)!=null&&b.face))break;i.has(g.next.twin.face)?g=g.next.twin.next:g=g.next}while(g!==p);for(let C=0;C<n.length;C++){const x=u[C];n[C].position.add(x)}n.push(n[0]),l.push(l[0]),o.push(o[0]),c.push(c[0]),h.push(h[0]);for(let C=0;C<n.length-1;C++)n[C].halfEdges().forEach(I=>{I.vertex=l[C],l[C].halfEdge=I});for(let C=0;C<o.length-1;C++){const x=c[C],I=c[C+1],O=h[C],T=o[C],D=d[C],B=T.face;if(!B)break;l[C].halfEdge=T,n[C].halfEdge=x,x.vertex=n[C],x.next=I,I.prev=x,x.edge=D,O.edge=D,D.halfEdge=x,x.twin=O,O.twin=x,O.vertex=n[C+1],O.prev=h[C+1],h[C+1].next=O,x.face=T.face,B.halfEdge=x,T.face=null}for(let C=0;C<l.length-1;C++){const x=[l[C+0],l[C+1],n[C+1],n[C+0]];f.push(V0.addFace(s,x))}let _=[];for(const C of a)if(C.onBoundary&&C.vertex&&(_.push(C.vertex),C.face)){const x=s.boundaries.indexOf(C.face);x>=0&&s.boundaries.splice(x,1)}return _.length>2&&f.push(V0.addFace(s,_.reverse())),_=[],n=[],l=[],o=[],a=[],c=[],d=[],h=[],s.needsUpdate(),f}function r6t(s,t,e=1,i){var p,g;const n=new Set(t),o=[],a=[],l=[],c=t[0].halfEdge;let h=c;do{if(!h)break;const _=dH(h,n,e);if(_&&l.push(_),!h.vertex||!((g=(p=h.next)==null?void 0:p.twin)!=null&&g.face))break;o.push(h.vertex);const v=h.vertex.position;a.push(v),n.has(h.next.twin.face)?h=h.next.twin.next:h=h.next}while(h!==c);const d=[];for(let _=0;_<o.length;_++){if(!l[_])continue;const v=l[_],y=o[_].position.clone();d.push(y.add(v))}d.push(d[0]),a.push(a[0]);const u=new $n,f=[];for(let _=0;_<d.length-1;_++){const v=d[_+0].toArray();f.push(v[0],v[1],v[2]);const y=d[_+1].toArray();f.push(y[0],y[1],y[2])}for(let _=0;_<d.length-1;_++){const v=a[_].toArray();f.push(v[0],v[1],v[2]);const y=d[_].toArray();f.push(y[0],y[1],y[2])}return u.setAttribute("position",new or(f,3)),u}var a6t=Object.defineProperty,l6t=(s,t,e)=>t in s?a6t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,$1=(s,t,e)=>(l6t(s,typeof t!="symbol"?t+"":t,e),e);class c6t extends nC{constructor(t){super(t),this.editor=t,$1(this,"_pointPicker",new tn(this.editor)),$1(this,"_wasSelectionEmpty",!1),$1(this,"_p1",new w),$1(this,"_faceNormal",new w(0,1,0)),$1(this,"_amount",0),$1(this,"_measurementGuide"),this.disposable.add(this._pointPicker),this.editor.selectionController.setSelectableTypes(Le.FACE)}init(){super.init(),this._selectionController.selectedCollection.faceIds.size&&this._transitionToState(Ii.HAS_PART_SELECTION)}onPointerEvent(t){if(super.onPointerEvent(t))return!0;const{lastEvent:i}=t.pointerState;switch(this._state){case Ii.HAS_MESH_SELECTION:if(i.isHover&&this._meshController.mesh)return this._highlightFace(t),this._pickHoverPoint(t),!0;if(i.isLeftClickStart)return this._selectFace(t),this._lastSelectedFace?(this._transitionToState(Ii.HAS_PART_SELECTION),!0):!1;break;case Ii.HAS_PART_SELECTION:if(i.isHover)return this._pickHoverPoint(t),!0;if(this._meshController.mesh&&this._lastSelectedFace&&(i.isLeftDragStart||i.isLeftClickEnd))return this._beginInteraction(t,this._lastSelectedFace,this._meshController.mesh),this._transitionToState(Ii.PERFORMING),!0;break;case Ii.PERFORMING:if(this._lastSelectedFace&&this._meshController.mesh&&(i.isLeftDragContinue||i.isHover))return this._continueInteraction(t,this._lastSelectedFace,this._meshController.mesh),!0;if(this._lastSelectedFace&&this._meshController.mesh&&!Qs(this._amount)&&(i.isLeftClickStart||i.isLeftDragEnd))return this._endInteraction(),!1;break}return!1}get _lastSelectedFace(){return this._selectionController.selectedCollection.lastFace}_pickHoverPoint(t){this._pointPicker.intersect(t,t.pointerState.pointerNDC)}_highlightFace(t){this._selectionChanger.processHover(t.pointerState.pointerNDC,t)}_selectFace(t){this._wasSelectionEmpty=!0,this._selectionChanger.processClick(t.pointerState.pointerNDC,t)}_beginInteraction(t,e,i){const{intersectionPoint:n}=this._pointPicker.intersect(t,t.pointerState.pointerNDC);this._p1.copy(n),e.faceNormal(this._faceNormal)}_continueInteraction(t,e,i){const{pointerNDC:n}=t.pointerState;this._pointPicker.configureForNormal(this._p1,this._faceNormal,t.camera),this._pointPicker.shouldExcludeSelection=!1;const{intersectionPoint:o}=this._pointPicker.intersect(t,n);this.measurementGuide.continue(t,this._p1,o),this._amount=gat(this._p1,o,this._faceNormal),this._meshController.updatePhantom(r6t(i,[e],this._amount))}_endInteraction(){const t=this._lastSelectedFace,e=this._meshController.mesh,i=this._amount;return e&&t?(o6t(e,[t],i),this._wasSelectionEmpty&&(this._selectionController.selectedCollection.removeAll(),this._wasSelectionEmpty=!1),super._endInteraction()):!1}get measurementGuide(){return this._measurementGuide||(this._measurementGuide=new uxt(this.editor,t=>this._pointPicker.lengthRestriction=t),this.editor.helpers.add(this._measurementGuide),this.disposable.add(this._measurementGuide)),this._measurementGuide}}var uH=Object.defineProperty,h6t=Object.getOwnPropertyDescriptor,d6t=(s,t,e)=>t in s?uH(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,fH=(s,t,e,i)=>{for(var n=h6t(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&uH(t,e,n),n},ga=(s,t,e)=>(d6t(s,typeof t!="symbol"?t+"":t,e),e);class l8 extends mo{constructor(t){super(t,L.FRAME),ga(this,"p1",new w),ga(this,"p2",new w),ga(this,"p3",new w),ga(this,"_position",new w),ga(this,"shouldCreateFromCenter",!1),ga(this,"shouldSetHeightFromCenter",!1),ga(this,"lengthSnapIncrement",.001),ga(this,"_delta",new w),ga(this,"_deltaP1P2",new w),ga(this,"_deltaP2P3",new w),ga(this,"_size",new w),ga(this,"_c1",new w),ga(this,"_c2",new w),ga(this,"_c3",new w),ga(this,"_c4",new w),vt(this)}set origin(t){this.p1.copy(t),this.p2.copy(t),this.p3.copy(t)}create(){const{p1:t,p2:e,_position:i,orientation:n}=this,o=new ls().setFromQuaternion(n);qr(t,e,i);const a=this.composeSceneObject(i,o);a.material=Qh({},this._editor.materialController).id;const l=Object.assign(a,{type:L.FRAME,parameters:L5}),c=Ry.build(this._editor,l,null);return this._entity=c,super._onCreated(),c}update(){if(!this._entity)return;const{p1:t,p2:e,p3:i,_c1:n,_c2:o,_c3:a,_delta:l,_deltaP1P2:c,_deltaP2P3:h,_size:d,_position:u,lengthSnapIncrement:f}=this;if(xo(t,i,l),xo(t,e,c),xo(e,i,h),d.set(l.getComponent(this._widthComponent),l.getComponent(this._heightComponent),l.getComponent(this._depthComponent)),d.x=Vo(d.x,f),d.y=Vo(d.y,f),d.z=Vo(d.z,f),t1(d,Zr),n.copy(t),o.copy(e),a.copy(i),this.shouldCreateFromCenter&&(n.sub(c),d.x*=2,d.z*=2,l.setComponent(this._widthComponent,l.getComponent(this._widthComponent)*2),l.setComponent(this._depthComponent,l.getComponent(this._depthComponent)*2)),this.shouldSetHeightFromCenter&&(n.setComponent(this._heightComponent,n.getComponent(this._heightComponent)-Math.sign(l.getComponent(this._heightComponent))*d.y),o.setComponent(this._heightComponent,o.getComponent(this._heightComponent)-Math.sign(l.getComponent(this._heightComponent))*d.y),d.y*=2,l.setComponent(this._heightComponent,l.getComponent(this._heightComponent)*2)),qr(n,a,u),!this._entity)return;const p=this._entity.sceneObject.parameters;p.width=d.x,p.height=d.y,p.depth=d.z,this._entity.transform.setPosition(u),this._entity.transform.setRotation({x:this.euler.x,y:this.euler.y,z:this.euler.z}),this._remoteUpdater.update()}get c1(){return this._c1}get c2(){return this._c2}get c3(){const{c2:t,_delta:e}=this;return this._c3.copy(t),this._c3.setComponent(this._widthComponent,t.getComponent(this._widthComponent)-e.getComponent(this._widthComponent)),this._c3}get c4(){const{c2:t,_delta:e}=this;return this._c4.copy(t),this._c4.setComponent(this._depthComponent,t.getComponent(this._depthComponent)-e.getComponent(this._depthComponent)),this._c4}}fH([E],l8.prototype,"create");fH([E],l8.prototype,"update");var u6t=Object.defineProperty,f6t=(s,t,e)=>t in s?u6t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Ch=(s,t,e)=>(f6t(s,typeof t!="symbol"?t+"":t,e),e);class p6t extends Se{constructor(t){super(),this._editor=t,Ch(this,"_pointPicker",new tn(this._editor)),Ch(this,"_factory",new l8(this._editor)),Ch(this,"_state","none"),Ch(this,"_presenceUpdater",new lc(this._editor)),Ch(this,"_hasMoved",!1),Ch(this,"_lastClickPositionVP",new ee),Ch(this,"_interactionPlane",new Be),Ch(this,"_normalOffset",new w),Ch(this,"_boundsGuide"),Ch(this,"_guideYLengthRestriction"),Ch(this,"_guideY"),this.disposable.add(new tt(()=>{this._pointPicker.dispose(),this._factory.dispose(),this._editor.selectionController.setIsTransformingSelection(!1)}))}onPointerEvent(t,e){var d;const{isHover:i,isLeftClickStart:n,isLeftClickEnd:o,isLeftDragStart:a,isLeftDragContinue:l,isLeftDragEnd:c,isDoubleLeftClickEnd:h}=t.pointerState.lastEvent;switch(this._state){case"none":return i?(this._pickP1(t),!0):n?(this._pickP1(t),this._state="picking-p1",!0):!1;case"picking-p1":return a?(this._create(t),this._state="picking-p2",!0):o?(this._state="picked-p1",this._lastClickPositionVP.copy(t.pointerState.pointerVP),!0):!1;case"picked-p1":return i?(!this._hasMoved&&!Ff(this._lastClickPositionVP,t.pointerState.pointerVP,2)&&(this._hasMoved=!0,this._create(t),this._pickP2(t),this._state="picking-p2"),!0):h?(this._createAndCommitDefaultShape(t),!0):!1;case"picking-p2":return l||i?(this._pickP2(t),!0):c||n?((d=this._boundsGuide)==null||d.dispose(),this._pointPicker.lengthRestriction=0,this._state="picking-p3",!0):!1;case"picking-p3":return l||i?(this._pickP3(t),!0):c||n?(this._commit(),!0):!1;default:return!1}}onKeyboardEvent(t,e){const{wasDown:i,wasEnd:n}=t.keyState.lastEvent;return i(Vt.SHIFT)?(this._pointPicker.hasUniformRestriction=!0,!0):(n(Vt.SHIFT)&&(this._pointPicker.hasUniformRestriction=!1),i(Vt.ALT)?(this._pointPicker.hasCenterPointRestriction=!0,!0):(n(Vt.ALT)&&(this._pointPicker.hasCenterPointRestriction=!1),!1))}_pickP1(t){const e=t.planeSnapper.plane;this._pointPicker.intersectionPlane.normal.copy(e.normal),this._interactionPlane.normal.copy(e.normal),this._factory.setNormal(e.normal);const{pointerNDC:i}=t.pointerState,{intersectionPoint:n}=this._pointPicker.intersect(t,i);return this._factory.p1.copy(n),this._factory.p2.copy(n),this._factory.p3.copy(n),this._presenceUpdater.update(this._interactionPlane,this._factory.c1,this._factory.c2),this._editor.presenceController.updateCursorPositionGlobal(n),!0}_create(t){const e=t.planeSnapper.plane;return this._pointPicker.configureForPlane(this._factory.p1,e.normal),this._factory.setNormal(e.normal),this._factory.create(),!0}_createAndCommitDefaultShape(t){return this._create(t),this._commit(),!0}_pickP2(t){const{pointerNDC:e}=t.pointerState,{intersectionPoint:i}=this._pointPicker.intersect(t,e),n=t.planeSnapper.plane;this._pointPicker.configureForPlane(this._factory.p1,n.normal),this._factory.setNormal(n.normal),this._factory.p2.copy(i),this._normalOffset.copy(this._pointPicker.intersectionPlane.normal).multiplyScalar(Fo),this._factory.p3.copy(i).add(this._normalOffset),this._factory.shouldCreateFromCenter=this._pointPicker.hasCenterPointRestriction,this._factory.update();const{c1:o,c2:a,c3:l,c4:c}=this._factory;this.boundsGuide.update(t,o,a,l,c),this._editor.presenceController.updateCursorPositionGlobal(a),this._presenceUpdater.update(this._pointPicker.intersectionPlane,this._factory.c1,this._factory.c2)}_pickP3(t){this._pointPicker.shouldProjectToIntersectionPlane=!0,this._pointPicker.shouldSelectedObjectsBlockPointSnappers=!0;const e=t.planeSnapper.plane;this._pointPicker.configureForNormal(this._factory.c2,e.normal,t.camera),this._factory.setNormal(e.normal);const{pointerNDC:i}=t.pointerState,{intersectionPoint:n}=this._pointPicker.intersect(t,i);this._factory.p3.copy(n),this._factory.shouldSetHeightFromCenter=this._pointPicker.hasCenterPointRestriction,this._factory.update();const{c1:o,c2:a}=this._factory;this.guideY.text.setViewport(t),this.guideY.pointStart.copy(a),this.guideY.pointEnd.copy(n),M_(a,o,Mn,this.guideY.offsetReferencePoint),this._editor.presenceController.updateCursorPositionGlobal(n),this._presenceUpdater.update(this._pointPicker.intersectionPlane,this._factory.c1,n)}_commit(){Ft("frame-created"),this._factory.commit(),this._presenceUpdater.commit()}get boundsGuide(){return this._boundsGuide||(this._boundsGuide=new Fm(this._editor),this._boundsGuide.guideX.changed.add(t=>{this._pointPicker.lengthRestrictionX=t}),this._boundsGuide.guideZ.changed.add(t=>{this._pointPicker.lengthRestrictionZ=t}),this.disposable.add(new tt(()=>{var t;(t=this._boundsGuide)==null||t.dispose()}))),this._boundsGuide}get guideY(){return this._guideY||(this._guideY=new yn(this._editor,{variant:"Dimension",textOverlayOptions:{shouldIndicateEditable:!0}}),this._guideY.changed.add(t=>{this._pointPicker.lengthRestrictionY=[t],this._guideYLengthRestriction=t}),this._editor.helpers.add(this._guideY),this.disposable.add(new tt(()=>{var t;(t=this._guideY)==null||t.dispose()}))),this._guideY}}const pH=S.literal(L.GAMEPAD);go.merge(S.object({type:pH,parameters:W7}));function m6t(s){return Ir(s,pH,W7)}class mH{static build(t,e,i){const n=Hf.build(t,e,i),o=new ur(n);return n.addComponent(o),n}}fn.register(L.GAMEPAD,mH,m6t);var gH=Object.defineProperty,g6t=Object.getOwnPropertyDescriptor,_6t=(s,t,e)=>t in s?gH(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,v6t=(s,t,e,i)=>{for(var n=g6t(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&gH(t,e,n),n},FO=(s,t,e)=>(_6t(s,typeof t!="symbol"?t+"":t,e),e);class c8 extends mo{constructor(t){super(t,L.GAMEPAD),FO(this,"p1",new w),FO(this,"_position",new w),vt(this)}create(t=!0){const{p1:e,_position:i,orientation:n}=this,o=new ls().setFromQuaternion(n);i.copy(e);const a=this.composeSceneObject(i,o),l={name:"Inputs",type:L.GAMEPAD,isScaleLinked:!0,isInteractive:!1,parameters:X7},c={...a,...l},h=mH.build(this._editor,c,null);return this._entity=h,super._onCreated(t),h}}v6t([E],c8.prototype,"create");var y6t=Object.defineProperty,b6t=(s,t,e)=>t in s?y6t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Xv=(s,t,e)=>(b6t(s,typeof t!="symbol"?t+"":t,e),e);class C6t extends Se{constructor(t){super(),this._editor=t,Xv(this,"_pointPicker",new tn(this._editor)),Xv(this,"_factory",new c8(this._editor)),Xv(this,"_state","none"),Xv(this,"_presenceUpdater",new lc(this._editor)),Xv(this,"_interactionPlane",new Be),this.disposable.add(new tt(()=>{this._pointPicker.dispose(),this._factory.dispose(),this._editor.selectionController.setIsTransformingSelection(!1)}))}onPointerEvent(t,e){const{isHover:i,isLeftClickStart:n}=t.pointerState.lastEvent;switch(this._state){case"none":return i?(this._pickP1(t),!0):n?(this._createAndCommitDefaultShape(t),!0):!1;default:return!1}}_pickP1(t){const e=t.planeSnapper.plane;this._pointPicker.intersectionPlane.normal.copy(e.normal),this._interactionPlane.normal.copy(e.normal),this._factory.setNormal(e.normal);const{pointerNDC:i}=t.pointerState,{intersectionPoint:n}=this._pointPicker.intersect(t,i);return this._factory.p1.copy(n),this._pointPicker.referencePoint.copy(n),this._presenceUpdater.update(this._interactionPlane,this._factory.p1,this._factory.p1),this._editor.presenceController.updateCursorPositionGlobal(n),!0}_create(t){const{pointerNDC:e}=t.pointerState,{intersectionPoint:i}=this._pointPicker.intersect(t,e),n=t.planeSnapper.plane;return this._pointPicker.configureForPlane(i,n.normal),this._factory.setNormal(n.normal),this._factory.create(),!0}_createAndCommitDefaultShape(t){return this._create(t),this._commit(),!0}_commit(){this._factory.commit(),this._presenceUpdater.commit()}}const _H=S.object({width:S.number().optional(),height:S.number().optional(),depth:S.number().optional(),areDimensionsLinked:S.boolean().optional()}),w6t={},vH=S.literal(L.HUMAN),yH="human-draco.glb";go.merge(S.object({type:vH,parameters:_H,urlKey:S.literal(yH)}));function x6t(s){return Ir(s,vH,_H)}class bH{static build(t,e,i){const n=Hf.build(t,e,i),o=new lr(n,L.HUMAN);n.addComponent(o);const a=new _e(n,t.sceneController.statefulScene.hdrLighting);n.addComponent(a);const l=new Wi(n,a,o);n.addComponent(l);const c=new On(n);n.addComponent(c);const h=new Ta(n);n.addComponent(h);const d=new Dh(n,o);return n.addComponent(d),n}}fn.register(L.HUMAN,bH,x6t);var CH=Object.defineProperty,E6t=Object.getOwnPropertyDescriptor,S6t=(s,t,e)=>t in s?CH(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,I6t=(s,t,e,i)=>{for(var n=E6t(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&CH(t,e,n),n},BO=(s,t,e)=>(S6t(s,typeof t!="symbol"?t+"":t,e),e);class wH extends mo{constructor(t){super(t,L.HUMAN),BO(this,"p1",new w),BO(this,"_position",new w),vt(this)}create(){const{p1:t,_position:e,orientation:i}=this,n=new ls().setFromQuaternion(i);e.copy(t);const o=this.composeSceneObject(e,n),a=bH.build(this._editor,o,null);return this._entity=a,super._onCreated(),a}composeSceneObject(t,e,i){return{...super.composeSceneObjectWithMaterial(t,e,i),type:L.HUMAN,parameters:w6t,urlKey:yH}}}I6t([E],wH.prototype,"create");var A6t=Object.defineProperty,T6t=(s,t,e)=>t in s?A6t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,rg=(s,t,e)=>(T6t(s,typeof t!="symbol"?t+"":t,e),e);class P6t extends Se{constructor(t){super(),this._editor=t,rg(this,"_pointPicker",new tn(this._editor)),rg(this,"_factory",new wH(this._editor)),rg(this,"_state","none"),rg(this,"_presenceUpdater",new lc(this._editor)),rg(this,"_hasMoved",!1),rg(this,"_lastClickPositionVP",new ee),rg(this,"_interactionPlane",new Be),this.disposable.add(new tt(()=>{this._pointPicker.dispose(),this._factory.dispose(),this._editor.selectionController.setIsTransformingSelection(!1)}))}onPointerEvent(t,e){const{isHover:i,isLeftClickStart:n}=t.pointerState.lastEvent;switch(this._state){case"none":return i?(this._pickP1(t),!0):n?(this._createAndCommitDefaultShape(t),!0):!1;default:return!1}}_pickP1(t){const e=t.planeSnapper.plane;this._pointPicker.intersectionPlane.normal.copy(e.normal),this._interactionPlane.normal.copy(e.normal),this._factory.setNormal(e.normal);const{pointerNDC:i}=t.pointerState,{intersectionPoint:n}=this._pointPicker.intersect(t,i);return this._factory.p1.copy(n),this._pointPicker.referencePoint.copy(n),this._presenceUpdater.update(this._interactionPlane,this._factory.p1,this._factory.p1),this._editor.presenceController.updateCursorPositionGlobal(n),!0}_create(t){const{pointerNDC:e}=t.pointerState,{intersectionPoint:i}=this._pointPicker.intersect(t,e),n=t.planeSnapper.plane;return this._pointPicker.configureForPlane(i,n.normal),this._factory.setNormal(n.normal),this._factory.create(),!0}_createAndCommitDefaultShape(t){return this._create(t),this._commit(),!0}_commit(){this._factory.commit(),this._presenceUpdater.commit()}}function xH(s,t,e,i,n,o,a,l,c,h,d,u,f,p){var v,y;const g=new w;if(!s.vertex)return g;const _=s.vertex.faces();for(let b=0;b<_.length;b++){const C=_[b];if(t.has(C)){const x=C.halfEdgeWithVertex(s.vertex);if(!((v=x==null?void 0:x.prev)!=null&&v.vertex)||!x.vertex||!((y=x.next)!=null&&y.vertex))break;e=x.prev.vertex.position.clone(),i=x.vertex.position.clone(),n=x.next.vertex.position.clone(),o.set(e,i,n),o.getNormal(c),a.subVectors(i,e).normalize(),h.crossVectors(a,c).negate().normalize(),e.add(h.clone().multiplyScalar(p)),u.setFromNormalAndCoplanarPoint(h,e),l.subVectors(n,i).normalize(),d.crossVectors(l,c).negate().normalize(),n.add(d.clone().multiplyScalar(p)),f.set(n,l.negate()),f.intersectPlane(u,g)}}return g}function O6t(s,t,e=.5){var D,B;const i=new Set(t);let n=[],o=[],a=[],l=[],c=[],h=[];const d=[],u=new w,f=new w,p=new w,g=new Kx,_=new w,v=new w,y=new w,b=new w,C=new w,x=new Be,I=new $p,O=t[0].halfEdge;let T=O;do{if(!T)break;const F=xH(T,i,u,f,p,g,_,v,y,b,C,x,I,e);if(F&&d.push(F),!T.vertex||!((D=T.twin)!=null&&D.vertex))break;n.push(T.vertex),o.push(T),T.vertex.halfEdge=T,T.twin.vertex.halfEdge=T.twin;const k=s.addVertex();k.position.copy(T.vertex.position),a.push(k);const Y=s.addHalfEdge();l.push(Y);const G=s.addHalfEdge();c.push(G);const st=s.addEdge();if(h.push(st),!T.next||!((B=T.next.twin)!=null&&B.face))break;i.has(T.next.twin.face)?T=T.next.twin.next:T=T.next}while(T!==O);for(let F=0;F<n.length;F++){const k=d[F];n[F].position.copy(k)}n.push(n[0]),a.push(a[0]),o.push(o[0]),l.push(l[0]),c.push(c[0]);for(let F=0;F<n.length-1;F++)n[F].halfEdges().forEach(Y=>{Y.vertex=a[F],a[F].halfEdge=Y});for(let F=0;F<o.length-1;F++){const k=l[F],Y=l[F+1],G=c[F],st=o[F],$=h[F],X=st.face;if(!X)break;a[F].halfEdge=st,n[F].halfEdge=k,k.vertex=n[F],k.next=Y,Y.prev=k,k.edge=$,G.edge=$,$.halfEdge=k,k.twin=G,G.twin=k,G.vertex=n[F+1],G.prev=c[F+1],c[F+1].next=G,k.face=st.face,X.halfEdge=k,st.face=null}for(let F=0;F<a.length-1;F++){const k=[a[F+0],a[F+1],n[F+1],n[F+0]];V0.addFace(s,k)}return n=[],a=[],o=[],l=[],h=[],c=[],s.needsUpdate(),s}function M6t(s,t,e=1,i){var D;const n=new Set(t),o=[],a=[],l=[],c=new w,h=new w,d=new w,u=new Kx,f=new w,p=new w,g=new w,_=new w,v=new w,y=new Be,b=new $p,C=t[0].halfEdge;let x=C;do{if(!x)break;const B=xH(x,n,c,h,d,u,f,p,g,_,v,y,b,e);if(B&&l.push(B),!x.vertex)break;o.push(x.vertex);const F=x.vertex.position;if(a.push(F),!((D=x.next)!=null&&D.twin)||!x.next.twin.face)break;n.has(x.next.twin.face)?x=x.next.twin.next:x=x.next}while(x!==C);const I=[];for(let B=0;B<o.length;B++){if(!l[B])continue;const F=l[B];I.push(F)}I.push(I[0]),a.push(a[0]);const O=new $n,T=[];for(let B=0;B<I.length-1;B++){const F=I[B+0];T.push(F.x,F.y,F.z);const k=I[B+1];T.push(k.x,k.y,k.z)}for(let B=0;B<I.length-1;B++){const F=a[B];T.push(F.x,F.y,F.z);const k=I[B];T.push(k.x,k.y,k.z)}return O.setAttribute("position",new or(T,3)),O}var L6t=Object.defineProperty,R6t=(s,t,e)=>t in s?L6t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,ag=(s,t,e)=>(R6t(s,typeof t!="symbol"?t+"":t,e),e);class N6t extends nC{constructor(t){super(t),this.editor=t,ag(this,"_pointPicker",new tn(this.editor)),ag(this,"_wasSelectionEmpty",!1),ag(this,"_p1",new w),ag(this,"_faceNormal",new w),ag(this,"planeIntersection",new w),ag(this,"_amount",0),ag(this,"_measurementGuide"),this.disposable.add(this._pointPicker),this.editor.selectionController.setSelectableTypes(Le.FACE)}init(){super.init(),this._selectionController.selectedCollection.faceIds.size&&this._transitionToState(Ii.HAS_PART_SELECTION)}onPointerEvent(t){if(super.onPointerEvent(t))return!0;const{lastEvent:i}=t.pointerState;switch(this._state){case Ii.HAS_MESH_SELECTION:if(i.isHover&&this._meshController.mesh)return this._highlightFace(t),this._pickHoverPoint(t),!0;if(i.isLeftClickStart)return this._selectFace(t),this._lastSelectedFace?(this._transitionToState(Ii.HAS_PART_SELECTION),!0):!1;break;case Ii.HAS_PART_SELECTION:if(i.isHover)return this._pickHoverPoint(t),!0;if(this._meshController.mesh&&this._lastSelectedFace&&(i.isLeftDragStart||i.isLeftClickEnd))return this._beginInteraction(t,this._lastSelectedFace,this._meshController.mesh),this._transitionToState(Ii.PERFORMING),!0;break;case Ii.PERFORMING:if(this._lastSelectedFace&&this._meshController.mesh&&(i.isLeftDragContinue||i.isHover))return this._continueInteraction(t,this._lastSelectedFace,this._meshController.mesh),!0;if(this._lastSelectedFace&&this._meshController.mesh&&!Qs(this._amount)&&(i.isLeftClickStart||i.isLeftDragEnd))return this._endInteraction(),!1;break}return!1}get _lastSelectedFace(){return this._selectionController.selectedCollection.lastFace}_pickHoverPoint(t){this._pointPicker.intersect(t,t.pointerState.pointerNDC)}_highlightFace(t){this._selectionChanger.processHover(t.pointerState.pointerNDC,t)}_selectFace(t){this._wasSelectionEmpty=!0,this._selectionChanger.processClick(t.pointerState.pointerNDC,t)}_beginInteraction(t,e,i){const{intersectionPoint:n}=this._pointPicker.intersect(t,t.pointerState.pointerNDC);this._p1.copy(n),this._faceNormal.copy(e.faceNormal())}_continueInteraction(t,e,i){const{pointerNDC:n}=t.pointerState;this._pointPicker.configureForEyePlane(this._p1,this._faceNormal,t.camera),this._pointPicker.shouldExcludeSelection=!1;const{intersectionPoint:o}=this._pointPicker.intersect(t,n);this.measurementGuide.continue(t,this._p1,o),this._amount=this._p1.distanceTo(o),this.editor.meshController.updatePhantom(M6t(i,[e],this._amount))}_endInteraction(){const t=this._lastSelectedFace,e=this._meshController.mesh,i=this._amount;return e&&t?(O6t(e,[t],i),this._wasSelectionEmpty&&(this._selectionController.selectedCollection.removeAll(),this._wasSelectionEmpty=!1),super._endInteraction()):!1}get measurementGuide(){return this._measurementGuide||(this._measurementGuide=new yn(this.editor,{variant:"Direction",textOverlayOptions:{shouldIndicateEditable:!0}}),this.editor.helpers.add(this._measurementGuide),this._measurementGuide.changed.add(t=>{this._pointPicker.lengthRestriction=t}),this.editor.helpers.add(this._measurementGuide),this.disposable.add(new tt(()=>{var t;(t=this._measurementGuide)==null||t.dispose()}))),this._measurementGuide}}function j6t(s,t,e=.5){const i=t.halfEdge;let n=i;const o=[];let a=!1;const l=[];do{if(!n||(o.push(n),a)||!(n!=null&&n.next)||(n=n.next.next,!(n!=null&&n.twin)))break;n.twin.onBoundary?a=!0:n=n.twin}while(n!=i);const c=[];for(let h=0;h<o.length;h++){const d=V0.addVertex(s,o[h],e);if(!d){a=!0;break}c.push(d)}a||c.push(c[0]);for(let h=0;h<c.length-1;h++){const d=c[h+0],u=c[h+1],f=V0.commonFace(d,u);if(!f)continue;const p=V0.addEdge(s,f,d,u);p&&l.push(p)}return s.needsUpdate(),l}function D6t(s,t,e=.5){const i=t.halfEdge;let n=i;const o=[];let a=!1;do{if(!n||(o.push(n),a)||!n.next||(n=n.next.next,!(n!=null&&n.twin)))break;n.twin.onBoundary?a=!0:n=n.twin}while(n!=i);o.push(o[0]);const l=new $n,c=[];for(let h=0;h<o.length-1;h++){const d=o[h+0],u=o[h+0].twin;if(!d.vertex||!(u!=null&&u.vertex))continue;const f=d.vertex.position,p=u.vertex.position,g=new w().lerpVectors(f,p,e).toArray();c.push(g[0],g[1],g[2]);const _=o[h+1],v=o[h+1].twin;if(!_.vertex||!(v!=null&&v.vertex))continue;const y=_.vertex.position,b=v.vertex.position,C=new w().lerpVectors(y,b,e).toArray();c.push(C[0],C[1],C[2])}return l.setAttribute("position",new or(c,3)),l}var F6t=Object.defineProperty,B6t=(s,t,e)=>t in s?F6t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,kO=(s,t,e)=>(B6t(s,typeof t!="symbol"?t+"":t,e),e);class k6t extends nC{constructor(t){super(t),this.editor=t,kO(this,"factor",.5),kO(this,"planeIntersection",new w),this.editor.selectionController.setSelectableTypes(Le.EDGE)}onPointerEvent(t){if(super.onPointerEvent(t))return!0;const{lastEvent:i}=t.pointerState;switch(this._state){case Ii.HAS_MESH_SELECTION:if(i.isHover&&this._meshController.mesh)return this._highlight(t),this._updatePhantom(this._selectionController.hoveredCollection.lastEdge,this._meshController.mesh),!0;if(i.isLeftClickStart)return this._endInteraction();break}return!1}_highlight(t){const e=this._selectionChanger.processHover(t.pointerState.pointerNDC,t,!1),i=this._selectionController.hoveredCollection.edges,n=as.getLastValueInSet(i);if(!e||!n)return;const{point:o}=e,a=n.computeFactor(o);a!=null&&(this.factor=a)}_updatePhantom(t,e){if(t==null){this._meshController.updatePhantom(null);return}this._meshController.updatePhantom(D6t(e,t,this.factor))}_endInteraction(){const t=this._meshController.mesh,e=this._selectionController.hoveredCollection.lastEdge;if(!(t&&e))return!1;const i=j6t(t,e,this.factor);return this._selectionController.selectedCollection.set(i),super._endInteraction()}}const EH=S.literal(L.PLANE);go.merge(S.object({type:EH,parameters:Z7}));function G6t(s){return Ir(s,EH,Z7)}class SH{static build(t,e,i){return q_.build(t,e,i,o=>new ih(o,o.sceneObject.parameters))}}fn.register(L.PLANE,SH,G6t);var IH=Object.defineProperty,V6t=Object.getOwnPropertyDescriptor,H6t=(s,t,e)=>t in s?IH(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,AH=(s,t,e,i)=>{for(var n=V6t(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&IH(t,e,n),n},wh=(s,t,e)=>(H6t(s,typeof t!="symbol"?t+"":t,e),e);class h8 extends mo{constructor(t){super(t,L.PLANE),wh(this,"p1",new w),wh(this,"p2",new w),wh(this,"_position",new w),wh(this,"shouldCreateFromCenter",!1),wh(this,"lengthSnapIncrement",.001),wh(this,"_delta",new w),wh(this,"_size",new w),wh(this,"_c1",new w),wh(this,"_c2",new w),wh(this,"_c3",new w),wh(this,"_c4",new w),vt(this)}create(){const{p1:t,p2:e,_position:i,orientation:n}=this,o=new ls().setFromQuaternion(n);qr(t,e,i);const a=this.composeSceneObject(i,o),l=SH.build(this._editor,a,null);return this._entity=l,super._onCreated(),l}composeSceneObject(t,e){return{...super.composeSceneObjectWithMaterial(t,e),type:L.PLANE,parameters:Xn}}update(){if(!this._entity)return;const{p1:t,p2:e,_c1:i,_c2:n,_delta:o,_size:a,_position:l,lengthSnapIncrement:c}=this;if(xo(t,e,o),a.set(o.getComponent(this._widthComponent),o.getComponent(this._heightComponent),o.getComponent(this._depthComponent)),a.x=Vo(a.x,c),a.z=Vo(a.z,c),t1(a,Zr),e.copy(t).add(o),i.copy(t),this.shouldCreateFromCenter&&(i.sub(o),a.multiplyScalar(2),o.multiplyScalar(2)),n.copy(i).add(o),qr(i,n,l),!this._entity)return;const h=this._entity.sceneObject.parameters;h.width=a.x,h.depth=a.z,this._entity.transform.setPosition(l),this._entity.transform.setRotation({x:this.euler.x,y:this.euler.y,z:this.euler.z})}get c1(){return this._c1}get c2(){return this._c2}get c3(){const{c2:t,_delta:e}=this;return this._c3.copy(t),this._c3.setComponent(this._widthComponent,t.getComponent(this._widthComponent)-e.getComponent(this._widthComponent)),this._c3}get c4(){const{c2:t,_delta:e}=this;return this._c4.copy(t),this._c4.setComponent(this._depthComponent,t.getComponent(this._depthComponent)-e.getComponent(this._depthComponent)),this._c4}}AH([E],h8.prototype,"create");AH([E],h8.prototype,"update");var U6t=Object.defineProperty,z6t=(s,t,e)=>t in s?U6t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,ku=(s,t,e)=>(z6t(s,typeof t!="symbol"?t+"":t,e),e);class Y6t extends Se{constructor(t){super(),this._editor=t,ku(this,"_pointPicker",new tn(this._editor)),ku(this,"_factory",new h8(this._editor)),ku(this,"_state","none"),ku(this,"_remoteUpdater",new m1(this._editor)),ku(this,"_presenceUpdater",new lc(this._editor)),ku(this,"_hasMoved",!1),ku(this,"_lastClickPositionVP",new ee),ku(this,"_interactionPlane",new Be),ku(this,"_boundsGuide"),this.disposable.add(new tt(()=>{this._remoteUpdater.commit(),this._pointPicker.dispose(),this._factory.dispose(),this._editor.selectionController.setIsTransformingSelection(!1)}))}onPointerEvent(t,e){const{isHover:i,isLeftClickStart:n,isLeftClickEnd:o,isLeftDragStart:a,isLeftDragContinue:l,isLeftDragEnd:c,isDoubleLeftClickEnd:h}=t.pointerState.lastEvent;switch(this._state){case"none":return i?(this._pickP1(t),!0):n?(this._pickP1(t),this._state="picking-p1",!0):!1;case"picking-p1":return a?(this._create(t),this._state="picking-p2",!0):o?(this._state="picked-p1",this._lastClickPositionVP.copy(t.pointerState.pointerVP),!0):!1;case"picked-p1":return i?(!this._hasMoved&&!Ff(this._lastClickPositionVP,t.pointerState.pointerVP,2)&&(this._hasMoved=!0,this._create(t),this._pickP2(t),this._state="picking-p2"),!0):h?(this._createAndCommitDefaultShape(t),!0):!1;case"picking-p2":return l||i?(this._pickP2(t),!0):c||n?(this._commit(),!0):!1;default:return!1}}onKeyboardEvent(t,e){const{wasDown:i,wasEnd:n}=t.keyState.lastEvent;return i(Vt.SHIFT)?(this._pointPicker.hasUniformRestriction=!0,!0):(n(Vt.SHIFT)&&(this._pointPicker.hasUniformRestriction=!1),i(Vt.ALT)?(this._pointPicker.hasCenterPointRestriction=!0,!0):(n(Vt.ALT)&&(this._pointPicker.hasCenterPointRestriction=!1),!1))}_pickP1(t){const e=t.planeSnapper.plane;this._pointPicker.intersectionPlane.normal.copy(e.normal),this._interactionPlane.normal.copy(e.normal),this._factory.setNormal(e.normal);const{pointerNDC:i}=t.pointerState,{intersectionPoint:n}=this._pointPicker.intersect(t,i);return this._factory.p1.copy(n),this._factory.p2.copy(n),this._presenceUpdater.update(this._interactionPlane,this._factory.c1,this._factory.c2),this._editor.presenceController.updateCursorPositionGlobal(n),!0}_create(t){const e=t.planeSnapper.plane;this._pointPicker.intersectionPlane.normal.copy(e.normal);const{pointerNDC:i}=t.pointerState,{intersectionPoint:n}=this._pointPicker.intersect(t,i);return this._pointPicker.configureForPlane(n,e.normal),this._factory.p1.copy(n),this._factory.p2.copy(n),this._factory.setNormal(e.normal),this._factory.create(),!0}_createAndCommitDefaultShape(t){return this._create(t),this._commit(),!0}_pickP2(t){const e=t.planeSnapper.plane;this._pointPicker.intersectionPlane.normal.copy(e.normal),this._interactionPlane.normal.copy(e.normal),this._factory.setNormal(e.normal);const{pointerNDC:i}=t.pointerState,{intersectionPoint:n}=this._pointPicker.intersect(t,i);this._factory.p2.copy(n),this._factory.shouldCreateFromCenter=this._pointPicker.hasCenterPointRestriction,this._factory.update(),this._remoteUpdater.update();const{c1:o,c2:a,c3:l,c4:c}=this._factory;this.boundsGuide.update(t,o,a,l,c),this._editor.presenceController.updateCursorPositionGlobal(a),this._presenceUpdater.update(this._pointPicker.intersectionPlane,this._factory.c1,this._factory.c2)}_commit(){this._remoteUpdater.commit(),this._presenceUpdater.commit()}get boundsGuide(){return this._boundsGuide||(this._boundsGuide=new Fm(this._editor),this._boundsGuide.guideX.changed.add(t=>{this._pointPicker.lengthRestrictionX=t}),this._boundsGuide.guideZ.changed.add(t=>{this._pointPicker.lengthRestrictionZ=t}),this.disposable.add(new tt(()=>{var t;(t=this._boundsGuide)==null||t.dispose()}))),this._boundsGuide}}const d8=1;function W6t(){return new Ma(d8,4,2)}function X6t(){return new Ma(d8*3,64,64)}function Z6t(){return new Ma(d8,32,32)}var K6t=Object.defineProperty,q6t=(s,t,e)=>t in s?K6t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,pb=(s,t,e)=>(q6t(s,typeof t!="symbol"?t+"":t,e),e);const u3=class Iw extends K5{constructor(t,e){const i=Vg.createLightHelperMeshMaterial(e),n=new re(Iw._helperGeometry,i),o=Vg.createLightRenderMaterial(e),a=new re(Iw._renderGeometry,o),l=Vg.createBloomMaterial(e),c=new re(Iw._bloomGeometry,l);c.layers.set(ce.EFFECT),c.userData.id=t.userData.id,c.userData.isHelper=!0,c.name=t.name+"Helper",super(t,[n],e,[a]),this._light=t,this.color=e,pb(this,"_renderMesh"),pb(this,"_bloomMesh"),this.add(c),this._renderMesh=a,this._bloomMesh=c}setGeometryVisible(t){t?this.add(this._renderMesh):this.remove(this._renderMesh),this.update()}setBloomVisible(t){t?this.add(this._bloomMesh):this.remove(this._bloomMesh),this.update()}setRadius(t){this._scale.set(t,t,t),this.update()}set opacity(t){this._renderMesh.material.transparent=t<1,this._renderMesh.material.opacity=t,this._bloomMesh.material.uniforms.opacity.value=t}};pb(u3,"_helperGeometry",W6t());pb(u3,"_renderGeometry",Z6t());pb(u3,"_bloomGeometry",X6t());let Q6t=u3;var TH=Object.defineProperty,J6t=Object.getOwnPropertyDescriptor,$6t=(s,t,e)=>t in s?TH(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,oC=(s,t,e,i)=>{for(var n=J6t(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&TH(t,e,n),n},vS=(s,t,e)=>($6t(s,typeof t!="symbol"?t+"":t,e),e);class rh extends Kl{constructor(t,e=R5){const i=new kL(e.color,e.intensity,e.distance,e.decay);i.name="Point light",i.userData.id=t.id;const n=new Q6t(i);super(t,L.POINT_LIGHT,i,n),vS(this,"_pointLight"),vS(this,"_pointLightHelper"),vS(this,"hasDirection",!1),this._pointLight=i,this._pointLightHelper=n,vt(this)}get boundingBox(){const t=this._boundingBoxCache.get(),{radius:e}=this.parameters;return t.min.set(-e,-e,-e),t.max.set(e,e,e),t}get boundingSphere(){const t=this._boundingSphereCache.get(),{radius:e}=this.parameters;return t.radius=e,t}get power(){return this.parameters.intensity*4*Math.PI}set power(t){this.parameters.intensity=t/(4*Math.PI)}get wattage(){return this.power/this.parameters.luminousEfficacy}set wattage(t){this.power=t*this.parameters.luminousEfficacy}setParameters(t){const{color:e,intensity:i,distance:n,decay:o}=t;this._pointLight.color.set(e),this._pointLight.intensity=i,this._pointLight.distance=n,this._pointLight.decay=o}watch(){super.watch(),this.disposableReactions.push(rt(()=>{this._pointLight.distance=this.parameters.isPhysicallyCorrect?0:this.parameters.distance}),rt(()=>{this._pointLight.decay=this.parameters.isPhysicallyCorrect?2:this.parameters.decay}),rt(()=>{this._pointLightHelper.setGeometryVisible(this.parameters.shouldShowLightRenderMesh)}),rt(()=>{this._pointLightHelper.setBloomVisible(this.parameters.shouldShowLightBloom)}),rt(()=>{this._pointLightHelper.setHelperVisible(this.parameters.shouldShowHelper)}),rt(()=>{this._pointLightHelper.setRadius(this.parameters.radius??1)}))}}oC([Ui],rh.prototype,"boundingBox");oC([Ui],rh.prototype,"boundingSphere");oC([M],rh.prototype,"power");oC([M],rh.prototype,"wattage");oC([E],rh.prototype,"setParameters");class PH{static build(t,e,i){const n=d3.build(t,e,i),o=new rh(n,n.sceneObject.parameters);return n.addComponent(o),n}}fn.register(L.POINT_LIGHT,PH,rG);var OH=Object.defineProperty,tIt=Object.getOwnPropertyDescriptor,eIt=(s,t,e)=>t in s?OH(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,sIt=(s,t,e,i)=>{for(var n=tIt(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&OH(t,e,n),n},Zv=(s,t,e)=>(eIt(s,typeof t!="symbol"?t+"":t,e),e);class MH extends mo{constructor(t,e=new tn(t)){super(t,L.POINT_LIGHT),this._pointPicker=e,Zv(this,"referencePoint",new w),Zv(this,"position",new w),Zv(this,"orientation",new ke),Zv(this,"euler",new ls),Zv(this,"_measurementGuide"),vt(this)}create(){const t=new ls().setFromQuaternion(this.orientation),e=this.composeSceneObject(this.position,t);return this._entity=PH.build(this._editor,e,null),this._onCreated(),this._entity}composeSceneObject(t,e){return{...super.composeSceneObject(t,e),type:L.POINT_LIGHT,parameters:R5}}update(t){this._entity||(this._entity=this.create()),this._entity.transform.setPosition(this.position),this._editor.stateController.signals.transform.dispatch({action:P.TRANSFORM}),this.measurementGuide.text.setViewport(t),this.measurementGuide.pointStart.copy(this.referencePoint),this.measurementGuide.pointEnd.copy(this.position)}get measurementGuide(){return this._measurementGuide||(this._measurementGuide=new yn(this._editor,{variant:"Direction",textOverlayOptions:{shouldIndicateEditable:!0}}),this._editor.helpers.add(this._measurementGuide),this._measurementGuide.changed.add(t=>{this._pointPicker.lengthRestriction=t}),this._disposable.add(new tt(()=>{var t;(t=this._measurementGuide)==null||t.dispose()}))),this._measurementGuide}}sIt([E],MH.prototype,"create");var iIt=Object.defineProperty,nIt=(s,t,e)=>t in s?iIt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,xp=(s,t,e)=>(nIt(s,typeof t!="symbol"?t+"":t,e),e);class oIt extends Se{constructor(t){super(),this._editor=t,xp(this,"_pointPicker",new tn(this._editor)),xp(this,"_sceneController",this._editor.sceneController),xp(this,"_layerController",this._editor.layerController),xp(this,"_pointLightFactory",new MH(this._editor,this._pointPicker)),xp(this,"_state","none"),xp(this,"_interectonPlane",new Be),xp(this,"_origin",new w),xp(this,"_normal",new w),this.disposable.add(new tt(()=>{this._pointPicker.dispose(),this._pointLightFactory.dispose()}))}onPointerEvent(t,e){const{isHover:i,isLeftClickStart:n,isLeftClickEnd:o,isLeftDragStart:a,isLeftDragContinue:l,isLeftDragEnd:c}=t.pointerState.lastEvent;switch(this._state){case"none":if(i)return this._showHoverGuide(t);if(n){const h=this._showHoverGuide(t);return h&&(this._state="picking"),h}return!1;case"picking":if(o){const h=this._commit(t);return h&&(this._state="none"),h}else if(a)return this._create(t),this._state="offsetting",!0;return!1;case"offsetting":return l?(this._offset(t),!0):c?(this._finish(),this._state="none",!0):!1;default:return!1}}_showHoverGuide(t){const{pointerNDC:e}=t.pointerState,i=t.planeSnapper.plane;this._pointPicker.intersectionPlane.normal.copy(i.normal),this._pointLightFactory.setNormal(i.normal);const{intersectionPoint:n,normal:o}=this._pointPicker.intersect(t,e);return this._interectonPlane.normal.copy(o),this._editor.signals.object.drawContinued.dispatch({intersectionPlane:this._interectonPlane,boundsStart:n,boundsEnd:n}),!0}_create(t){const{pointerNDC:e}=t.pointerState,{intersectionPoint:i,normal:n}=this._pointPicker.intersect(t,e),o=t.planeSnapper.plane;return this._pointPicker.configureForPlane(i,o.normal),this._pointLightFactory.referencePoint.copy(i),this._pointLightFactory.position.copy(i),this._pointLightFactory.orientation.setFromUnitVectors(Af,n),this._origin.copy(i),this._normal.copy(n),this._pointLightFactory.create(),!0}_commit(t){return this._create(t),this._finish(),!0}_offset(t){this._pointPicker.configureForNormal(this._origin,this._normal,t.camera);const{pointerNDC:e}=t.pointerState,{intersectionPoint:i}=this._pointPicker.intersect(t,e);this._pointLightFactory.position.copy(i),this._pointLightFactory.update(t)}_finish(){this._pointLightFactory.commit(),this._editor.signals.object.drawEnded.dispatch()}}var LH=Object.defineProperty,rIt=Object.getOwnPropertyDescriptor,aIt=(s,t,e)=>t in s?LH(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,lIt=(s,t,e,i)=>{for(var n=rIt(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&LH(t,e,n),n},yS=(s,t,e)=>(aIt(s,typeof t!="symbol"?t+"":t,e),e);class RH extends mo{constructor(t,e){super(t,L.AUDIO),this.editor=t,yS(this,"p1",new w),yS(this,"_position",new w),yS(this,"_soundType"),this._soundType=e,vt(this)}create(){const{p1:t,_position:e,orientation:i}=this,n=new ls().setFromQuaternion(i);e.copy(t);const o=this.composeSceneObject(e,n),a=this._soundType===nr.SPATIAL?"Spatial audio":"Audio",l=Object.assign(o,{id:Ht(),name:a,type:L.AUDIO,isScaleLinked:!0,parameters:{width:1,height:1,depth:1,areDimensionsLinked:!0}}),c=RA.build(this.editor,l,null,{type:this._soundType});return this._entity=c,super._onCreated(),this._entity}}lIt([E],RH.prototype,"create");var cIt=Object.defineProperty,hIt=(s,t,e)=>t in s?cIt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Kv=(s,t,e)=>(hIt(s,typeof t!="symbol"?t+"":t,e),e);class NH extends Se{constructor(t,e){super(),this._editor=t,Kv(this,"_pointPicker",new tn(this._editor)),Kv(this,"_factory"),Kv(this,"_state","none"),Kv(this,"_presenceUpdater",new lc(this._editor)),Kv(this,"_interactionPlane",new Be);const{hasLoadedDefault:i}=this._editor.soundController;i||this._editor.soundController.preloadDefaultSound(),this._factory=new RH(this._editor,e),this.disposable.add(new tt(()=>{this._pointPicker.dispose(),this._factory.dispose(),this._editor.selectionController.setIsTransformingSelection(!1)}))}onPointerEvent(t,e){const{isHover:i,isLeftClickStart:n}=t.pointerState.lastEvent;switch(this._state){case"none":return i?(this._pickP1(t),!0):n?(this._createAndCommitDefaultShape(t),!0):!1;default:return!1}}_pickP1(t){const e=t.planeSnapper.plane;this._pointPicker.intersectionPlane.normal.copy(e.normal),this._interactionPlane.normal.copy(e.normal),this._factory.setNormal(e.normal);const{pointerNDC:i}=t.pointerState,{intersectionPoint:n}=this._pointPicker.intersect(t,i);return this._factory.p1.copy(n),this._pointPicker.referencePoint.copy(n),this._presenceUpdater.update(this._interactionPlane,this._factory.p1,this._factory.p1),this._editor.presenceController.updateCursorPositionGlobal(n),!0}_create(t){const{pointerNDC:e}=t.pointerState,{intersectionPoint:i}=this._pointPicker.intersect(t,e),n=t.planeSnapper.plane;return this._pointPicker.configureForPlane(i,n.normal),this._factory.setNormal(n.normal),this._factory.create(),!0}_createAndCommitDefaultShape(t){return this._create(t),this._commit(),!0}_commit(){this._factory.commit(),this._presenceUpdater.commit()}}const jH=S.literal(L.SPHERE);go.merge(S.object({type:jH,parameters:K7}));function dIt(s){return Ir(s,jH,K7)}const bS=2,CS=3,Aw=64,Tw=64,wS=Math.PI,uIt=1/180*Math.PI;function fIt(){return{radius:1,parallelSegments:Aw,meridianSegments:Tw,sliceYAngle:Math.PI/2}}class pIt extends eu{get isSphereGeometry(){return!0}constructor(t=L_){const e=_1.getBeziEngine(),i={radius:t.width*.5,parallelSegments:t.segmentsAround,meridianSegments:t.segmentsDown,sliceYAngle:t.sliceYAngle},n=eu._getBufferOptions(),o=new e.SphereGeometry(i,n),a=e.SphereGenerator_queryIndexCount(fIt());super(o,a)}setParameters(t){if(!this._geometry)return;const e={radius:t.width*.5,parallelSegments:t.segmentsAround,meridianSegments:t.segmentsDown,sliceYAngle:t.sliceYAngle};this._geometry.regenerate(e),super._onSetParameters()}}var DH=Object.defineProperty,mIt=Object.getOwnPropertyDescriptor,gIt=(s,t,e)=>t in s?DH(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,dd=(s,t,e,i)=>{for(var n=mIt(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&DH(t,e,n),n},_It=(s,t,e)=>(gIt(s,t+"",e),e);class ah extends Ra{constructor(t,e=L_){const i=new pIt(e);super(t,L.SPHERE,i),_It(this,"objectType",L.SPHERE)}get parameters(){return this.entity.sceneObject.parameters}setParameters(t){this._base.setParameters(t)}get boundingBox(){const t=this._boundingBoxCache.get(),{width:e,height:i,depth:n}=this.parameters,o=e/2,a=n/2,l=i/2;return t.min.set(-o,-l,-a),t.max.set(o,l,a),t}get boundingSphere(){const t=this._boundingSphereCache.get(),{width:e,height:i,depth:n}=this.parameters,o=e/2,a=n/2,l=i/2;return t.radius=Math.max(o,a,l),t}setSize(t){this.parameters.width=t.x,this.parameters.height=t.y,this.parameters.depth=t.z}applyScale({x:t,y:e,z:i}){this.parameters.width*=t,this.parameters.height*=e,this.parameters.depth*=i}get minSegmentsDown(){return this.parameters.areSegmentsLinked?Math.max(CS,Math.round(bS/this.segmentsRatio)):CS}get maxSegmentsDown(){return this.parameters.areSegmentsLinked?Math.min(Tw,Math.round(Aw/this.segmentsRatio)):Tw}get minSegmentsAround(){return this.parameters.areSegmentsLinked?Math.max(bS,Math.round(CS*this.segmentsRatio)):bS}get maxSegmentsAround(){return this.parameters.areSegmentsLinked?Math.min(Aw,Math.round(Tw*this.segmentsRatio)):Aw}get segmentsRatio(){return this.parameters.segmentsAround/this.parameters.segmentsDown}watch(){this.disposableReactions.push(rt(()=>{const{parameters:t}=this,{width:e,height:i,depth:n}=t;this._base.setParameters(t),this._base.scale(1,i/e,n/e),Jt(()=>{this.geometry=this._base,this.entity.sceneObject.lastGeometryUpdated=Date.now(),this.entity.highlightComponent.update(),this._boundingBoxRevision++})}))}setBaseGeometry(t){this._base=t,this.entity.sceneObject.lastGeometryUpdated=Date.now()}}dd([M],ah.prototype,"parameters");dd([Ui],ah.prototype,"boundingBox");dd([Ui],ah.prototype,"boundingSphere");dd([Ui],ah.prototype,"setSize");dd([E],ah.prototype,"applyScale");dd([M],ah.prototype,"minSegmentsDown");dd([M],ah.prototype,"maxSegmentsDown");dd([M],ah.prototype,"minSegmentsAround");dd([M],ah.prototype,"maxSegmentsAround");dd([M],ah.prototype,"segmentsRatio");dd([Ui],ah.prototype,"setBaseGeometry");class u8{static build(t,e,i){return q_.build(t,e,i,o=>new ah(o,o.sceneObject.parameters))}}fn.register(L.SPHERE,u8,dIt);var FH=Object.defineProperty,vIt=Object.getOwnPropertyDescriptor,yIt=(s,t,e)=>t in s?FH(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,BH=(s,t,e,i)=>{for(var n=vIt(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&FH(t,e,n),n},Pc=(s,t,e)=>(yIt(s,typeof t!="symbol"?t+"":t,e),e);class f8 extends mo{constructor(t){super(t,L.SPHERE),Pc(this,"p1",new w),Pc(this,"p2",new w),Pc(this,"_position",new w),Pc(this,"shouldCreateFromCenter",!1),Pc(this,"lengthSnapIncrement",.001),Pc(this,"_delta",new w),Pc(this,"_size",new w),Pc(this,"_c1",new w),Pc(this,"_c2",new w),Pc(this,"_diameter",0),Pc(this,"_c3",new w),Pc(this,"_c4",new w),vt(this)}create(){const{p1:t,p2:e,_position:i,orientation:n}=this,o=new ls().setFromQuaternion(n);qr(t,e,i);const a=this.composeSceneObject(i,o),l=u8.build(this._editor,a,null);return this._entity=l,super._onCreated(),l}composeSceneObject(t,e,i){return{...super.composeSceneObjectWithMaterial(t,e,i),type:L.SPHERE,parameters:L_}}update(){if(!this._entity)return;const{p1:t,p2:e,_c1:i,_c2:n,_delta:o,_size:a,_position:l,lengthSnapIncrement:c}=this;xo(t,e,o),a.set(Zr(o.getComponent(this._widthComponent)),Zr(o.getComponent(this._heightComponent)),Zr(o.getComponent(this._depthComponent))),a.multiplyScalar(2),this._diameter=Math.max(a.x,a.z),this._diameter=Vo(this._diameter,c);const h=this._diameter/2;if(i.copy(t),i.sub(o),i.setComponent(this._widthComponent,t.getComponent(this._widthComponent)-h),i.setComponent(this._depthComponent,t.getComponent(this._depthComponent)-h),n.copy(t),n.setComponent(this._widthComponent,t.getComponent(this._widthComponent)+h),n.setComponent(this._depthComponent,t.getComponent(this._depthComponent)+h),l.copy(t),this.shouldCreateFromCenter||l.setComponent(this._heightComponent,l.getComponent(this._heightComponent)+h),!this._entity)return;const d=this._entity.sceneObject.parameters;d.width=h*2,d.height=h*2,d.depth=h*2,this._entity.transform.setPosition(l),this._entity.transform.setRotation({x:this.euler.x,y:this.euler.y,z:this.euler.z})}get c1(){return this._c1}get c2(){return this._c2}get c3(){const{c2:t,c1:e}=this;return this._c3.copy(t).setComponent(this._widthComponent,e.getComponent(this._widthComponent))}get c4(){const{c2:t,c1:e}=this;return this._c4.copy(t).setComponent(this._depthComponent,e.getComponent(this._depthComponent))}}BH([E],f8.prototype,"create");BH([E],f8.prototype,"update");var bIt=Object.defineProperty,CIt=(s,t,e)=>t in s?bIt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Gu=(s,t,e)=>(CIt(s,typeof t!="symbol"?t+"":t,e),e);class wIt extends Se{constructor(t){super(),this._editor=t,Gu(this,"_pointPicker",new tn(this._editor)),Gu(this,"_factory",new f8(this._editor)),Gu(this,"_state","none"),Gu(this,"_remoteUpdater",new m1(this._editor)),Gu(this,"_presenceUpdater",new lc(this._editor)),Gu(this,"_hasMoved",!1),Gu(this,"_lastClickPositionVP",new ee),Gu(this,"_interactionPlane",new Be),Gu(this,"_boundsGuide"),this.disposable.add(new tt(()=>{this._remoteUpdater.commit(),this._pointPicker.dispose(),this._factory.dispose(),this._editor.selectionController.setIsTransformingSelection(!1)}))}onPointerEvent(t,e){const{isHover:i,isLeftClickStart:n,isLeftClickEnd:o,isLeftDragStart:a,isLeftDragContinue:l,isLeftDragEnd:c,isDoubleLeftClickEnd:h}=t.pointerState.lastEvent;switch(this._state){case"none":return i?(this._pickP1(t),!0):n?(this._pickP1(t),this._state="picking-p1",!0):!1;case"picking-p1":return a?(this._create(t),this._state="picking-p2",!0):o?(this._state="picked-p1",this._lastClickPositionVP.copy(t.pointerState.pointerVP),!0):!1;case"picked-p1":return i?(!this._hasMoved&&!Ff(this._lastClickPositionVP,t.pointerState.pointerVP,2)&&(this._hasMoved=!0,this._create(t),this._pickP2(t),this._state="picking-p2"),!0):h?(this._createAndCommitDefaultShape(t),!0):!1;case"picking-p2":return l||i?(this._pickP2(t),!0):c||n?(this._commit(),!0):!1;default:return!1}}onKeyboardEvent(t,e){const{wasDown:i,wasEnd:n}=t.keyState.lastEvent;return i(Vt.ALT)?(this._factory.shouldCreateFromCenter=!0,!0):(n(Vt.ALT)&&(this._factory.shouldCreateFromCenter=!1),!1)}_pickP1(t){const e=t.planeSnapper.plane;this._pointPicker.intersectionPlane.normal.copy(e.normal),this._interactionPlane.normal.copy(e.normal),this._factory.setNormal(e.normal);const{pointerNDC:i}=t.pointerState,{intersectionPoint:n}=this._pointPicker.intersect(t,i);return this._factory.p1.copy(n),this._factory.p2.copy(n),this._presenceUpdater.update(this._interactionPlane,this._factory.c1,this._factory.c2),this._editor.presenceController.updateCursorPositionGlobal(n),!0}_create(t){const{pointerNDC:e}=t.pointerState,{intersectionPoint:i}=this._pointPicker.intersect(t,e),n=t.planeSnapper.plane;return this._pointPicker.configureForPlane(i,n.normal),this._pointPicker.hasCenterPointRestriction=!0,this._pointPicker.hasUniformRestriction=!0,this._factory.p1.copy(i),this._factory.p2.copy(i),this._factory.setNormal(n.normal),this._factory.create(),!0}_createAndCommitDefaultShape(t){return this._create(t),this._commit(),!0}_pickP2(t){const{pointerNDC:e}=t.pointerState,{intersectionPoint:i}=this._pointPicker.intersect(t,e),n=t.planeSnapper.plane;this._pointPicker.configureForPlane(this._factory.p1,n.normal),this._factory.setNormal(n.normal),this._factory.p2.copy(i),this._factory.update(),this._remoteUpdater.update();const{c1:o,c2:a,c3:l,c4:c}=this._factory;this.boundsGuide.update(t,o,a,l,c),this._editor.presenceController.updateCursorPositionGlobal(a),this._presenceUpdater.update(this._pointPicker.intersectionPlane,this._factory.c1,this._factory.c2)}_commit(){this._remoteUpdater.commit(),this._presenceUpdater.commit()}get boundsGuide(){return this._boundsGuide||(this._boundsGuide=new Fm(this._editor),this._boundsGuide.guideX.changed.add(t=>{this._pointPicker.lengthRestrictionX=t}),this._boundsGuide.guideZ.changed.add(t=>{this._pointPicker.lengthRestrictionZ=t}),this.disposable.add(new tt(()=>{var t;(t=this._boundsGuide)==null||t.dispose()}))),this._boundsGuide}}const kH=1,GH=kH*2;function xIt(){return new rK(1,32).rotateX(Math.PI)}function EIt(){return new SIt(kH,GH)}class SIt extends _m{constructor(t,e){super();const i=this._createEdges(t,e);i.push(...MA.createCircle({radius:t,segments:32,z:-GH})),i.push(...this._createTargetLine(e)),this.setPositions(i)}_createEdges(t,e){const i=new w(0,0,0),n=new w(t,0,-e),o=new w(-t,0,-e),a=new w(0,t,-e),l=new w(0,-t,-e);return _at([i,n,i,o,i,a,i,l])}_createTargetLine(t){return[0,0,0,0,0,-t]}}var IIt=Object.defineProperty,AIt=(s,t,e)=>t in s?IIt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,p8=(s,t,e)=>(AIt(s,typeof t!="symbol"?t+"":t,e),e);const m8=class Y6 extends K5{constructor(t,e,i){const n=new Tm(Y6._helperGeometry,e),o=Vg.createLightRenderMaterial(i),a=new re(Y6._renderGeometry,o);super(t,[n],i,[a]),this._light=t,this.color=i,p8(this,"_renderMesh"),this.update(),this._renderMesh=a}_getScale(){const t=this._light.distance?this._light.distance:1,e=t*Math.tan(this._light.angle)*2;return this._scale.set(e,e,t)}setGeometryVisible(t){t?this.add(this._renderMesh):this.remove(this._renderMesh),this.update()}setRadius(t){this._renderMesh.scale.set(t,t,t),this.update()}set opacity(t){this._renderMesh.material.transparent=t<1,this._renderMesh.material.opacity=t}};p8(m8,"_helperGeometry",EIt());p8(m8,"_renderGeometry",xIt());let TIt=m8;var VH=Object.defineProperty,PIt=Object.getOwnPropertyDescriptor,OIt=(s,t,e)=>t in s?VH(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,J_=(s,t,e,i)=>{for(var n=PIt(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&VH(t,e,n),n},xS=(s,t,e)=>(OIt(s,typeof t!="symbol"?t+"":t,e),e);class hc extends Kl{constructor(t,e=N5){const i=new aK(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);i.name="Spot light",i.userData.id=t.id,i.add(i.target),i.target.position.set(0,0,-1);const n=t.editor.gizmoMaterialController.createLightHelperMaterial(),o=new TIt(i,n);super(t,L.SPOT_LIGHT,i,o),xS(this,"_spotLight"),xS(this,"_spotLightHelper"),xS(this,"hasDirection",!0),this._spotLight=i,this._spotLightHelper=o,this._disposable.add(new tt(()=>{t.editor.gizmoMaterialController.disposeLightHelperMaterial(n)})),vt(this)}get boundingBox(){const t=this._boundingBoxCache.get(),{radius:e}=this.parameters;return t.min.set(-e,-e,0),t.max.set(e,e,0),t}get boundingSphere(){const t=this._boundingSphereCache.get(),{radius:e}=this.parameters;return t.radius=e,t}get power(){return this.parameters.intensity*Math.PI}set power(t){this.parameters.intensity=t/Math.PI}get wattage(){return this.power/this.parameters.luminousEfficacy}set wattage(t){this.power=t*this.parameters.luminousEfficacy}setParameters(t){const{color:e,intensity:i,distance:n,decay:o,angle:a,penumbra:l}=t;this._spotLight.color.set(e),this._spotLight.intensity=i,this._spotLight.distance=n,this._spotLight.decay=o,this._spotLight.angle=a,this._spotLight.penumbra=l}setSpotLightSettings(t){this.parameters.color=t.color,this.parameters.intensity=t.intensity,this.parameters.distance=t.distance,this.parameters.decay=t.decay,this.parameters.angle=t.angle,this.parameters.penumbra=t.penumbra}watch(){super.watch(),this.disposableReactions.push(rt(()=>{this._spotLight.distance=this.parameters.isPhysicallyCorrect?0:this.parameters.distance,this._spotLight.angle=this.parameters.angle,this._spotLight.penumbra=this.parameters.penumbra,this._spotLightHelper.update(),this.entity.highlightComponent.update()}),rt(()=>{this._spotLight.decay=this.parameters.isPhysicallyCorrect?2:this.parameters.decay}),rt(()=>this._spotLightHelper.setGeometryVisible(this.parameters.shouldShowLightRenderMesh)),rt(()=>{this._spotLightHelper.setHelperVisible(this.parameters.shouldShowHelper)}),rt(()=>this._spotLightHelper.setRadius(this.parameters.radius??1)))}}J_([Ui],hc.prototype,"boundingBox");J_([Ui],hc.prototype,"boundingSphere");J_([M],hc.prototype,"power");J_([M],hc.prototype,"wattage");J_([E],hc.prototype,"setParameters");J_([E],hc.prototype,"setSpotLightSettings");class HH{static build(t,e,i){const n=d3.build(t,e,i),o=new hc(n,n.sceneObject.parameters);return n.addComponent(o),n}}fn.register(L.SPOT_LIGHT,HH,lG);var UH=Object.defineProperty,MIt=Object.getOwnPropertyDescriptor,LIt=(s,t,e)=>t in s?UH(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,RIt=(s,t,e,i)=>{for(var n=MIt(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&UH(t,e,n),n},qv=(s,t,e)=>(LIt(s,typeof t!="symbol"?t+"":t,e),e);class zH extends mo{constructor(t,e){super(t,L.SPOT_LIGHT),this._pointPicker=e,qv(this,"referenceSpot",new w),qv(this,"position",new w),qv(this,"orientation",new ke),qv(this,"euler",new ls),qv(this,"_measurementGuide"),vt(this)}create(){const t=new ls().setFromQuaternion(this.orientation),e=this.composeSceneObject(this.position,t);return this._entity=HH.build(this._editor,e,null),this._onCreated(),this._entity}composeSceneObject(t,e){return{...super.composeSceneObject(t,e),type:L.SPOT_LIGHT,parameters:N5}}update(t){this._entity||(this._entity=this.create()),this._entity.transform.setPosition(this.position),this._editor.stateController.signals.transform.dispatch({action:P.TRANSFORM}),this.measurementGuide.text.setViewport(t),this.measurementGuide.pointStart.copy(this.referenceSpot),this.measurementGuide.pointEnd.copy(this.position)}get measurementGuide(){return this._measurementGuide||(this._measurementGuide=new yn(this._editor,{variant:"Direction",textOverlayOptions:{shouldIndicateEditable:!0}}),this._editor.helpers.add(this._measurementGuide),this._measurementGuide.changed.add(t=>{this._pointPicker.lengthRestriction=t}),this._disposable.add(new tt(()=>{var t;(t=this._measurementGuide)==null||t.dispose()}))),this._measurementGuide}}RIt([E],zH.prototype,"create");var NIt=Object.defineProperty,jIt=(s,t,e)=>t in s?NIt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Ep=(s,t,e)=>(jIt(s,typeof t!="symbol"?t+"":t,e),e);class DIt extends Se{constructor(t){super(),this._editor=t,Ep(this,"_pointPicker",new tn(this._editor)),Ep(this,"_sceneController",this._editor.sceneController),Ep(this,"_layerController",this._editor.layerController),Ep(this,"_spotLightFactory",new zH(this._editor,this._pointPicker)),Ep(this,"_state","none"),Ep(this,"_interectonPlane",new Be),Ep(this,"_origin",new w),Ep(this,"_normal",new w),this.disposable.add(new tt(()=>{this._pointPicker.dispose(),this._spotLightFactory.dispose(),this._editor.selectionController.setIsTransformingSelection(!1)}))}onPointerEvent(t,e){const{isHover:i,isLeftClickStart:n,isLeftClickEnd:o,isLeftDragStart:a,isLeftDragContinue:l,isLeftDragEnd:c}=t.pointerState.lastEvent;switch(this._state){case"none":if(i)return this._showHoverGuide(t);if(n){const h=this._showHoverGuide(t);return h&&(this._state="picking"),h}return!1;case"picking":if(o){const h=this._commit(t);return h&&(this._state="none"),h}else if(a)return this._create(t),this._state="offsetting",!0;return!1;case"offsetting":return l?(this._offset(t),!0):c?(this._finish(),this._state="none",!0):!1;default:return!1}}_showHoverGuide(t){const{pointerNDC:e}=t.pointerState,i=t.planeSnapper.plane;this._pointPicker.intersectionPlane.normal.copy(i.normal),this._spotLightFactory.setNormal(i.normal);const{intersectionPoint:n,normal:o}=this._pointPicker.intersect(t,e);return this._interectonPlane.normal.copy(o),this._editor.signals.object.drawContinued.dispatch({intersectionPlane:this._interectonPlane,boundsStart:n,boundsEnd:n}),!0}_create(t){const{pointerNDC:e}=t.pointerState,{intersectionPoint:i,normal:n}=this._pointPicker.intersect(t,e),o=t.planeSnapper.plane;this._pointPicker.configureForPlane(i,o.normal),this._spotLightFactory.referenceSpot.copy(i),this._spotLightFactory.position.copy(i),this._spotLightFactory.orientation.setFromUnitVectors(Af,n),this._origin.copy(i),this._normal.copy(n);const a=this._spotLightFactory.create();return this._editor.selectionController.selectedCollection.set(a),!0}_commit(t){return this._create(t),this._finish(),!0}_offset(t){this._pointPicker.configureForNormal(this._origin,this._normal,t.camera);const{pointerNDC:e}=t.pointerState,{intersectionPoint:i}=this._pointPicker.intersect(t,e);this._spotLightFactory.position.copy(i),this._spotLightFactory.update(t)}_finish(){this._spotLightFactory.commit(),this._editor.signals.object.drawEnded.dispatch()}}class YH{static build(t,e,i){const n=new Je(t,e,i),o=new _e(n,t.sceneController.statefulScene.hdrLighting);o.lightingModel=ue.Unlit,n.addComponent(o);const a=new zr(n,o,t.fontProvider);n.addComponent(a);const l=new On(n);n.addComponent(l);const c=new Ta(n);return n.addComponent(c),n}}fn.register(L.TEXT,YH,hG);var WH=Object.defineProperty,FIt=Object.getOwnPropertyDescriptor,BIt=(s,t,e)=>t in s?WH(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,XH=(s,t,e,i)=>{for(var n=FIt(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&WH(t,e,n),n},Oc=(s,t,e)=>(BIt(s,typeof t!="symbol"?t+"":t,e),e);class f3 extends mo{constructor(t){super(t,L.TEXT),Oc(this,"p1",new w),Oc(this,"p2",new w),Oc(this,"_position",new w),Oc(this,"shouldCreateFromCenter",!1),Oc(this,"lengthSnapIncrement",.001),Oc(this,"text","Text"),Oc(this,"_delta",new w),Oc(this,"_size",new w),Oc(this,"_c1",new w),Oc(this,"_c2",new w),Oc(this,"_c3",new w),Oc(this,"_c4",new w),vt(this)}create(){const{p1:t,_position:e,orientation:i}=this,n=new ls().setFromQuaternion(i);e.copy(t);const o=this.composeSceneObject(e,n),a=YH.build(this._editor,o,null);return this._entity=a,super._onCreated(),a}composeSceneObject(t,e,i){return{...super.composeSceneObjectWithMaterial(t,e,i),type:L.TEXT,parameters:H7}}update(){if(!this._entity)return;const{p1:t,p2:e,_c1:i,_c2:n,_delta:o,_size:a,_position:l,lengthSnapIncrement:c}=this;xo(t,e,o),a.set(Zr(o.getComponent(this._widthComponent)),Zr(o.getComponent(this._heightComponent)),Zr(o.getComponent(this._depthComponent))),a.x=Vo(a.x,c),a.z=Vo(a.z,c),e.copy(t).add(o),i.copy(t),this.shouldCreateFromCenter&&(i.sub(o),a.multiplyScalar(2),o.multiplyScalar(2)),n.copy(i).add(o),l.x=Math.min(i.x,n.x),l.y=Math.max(i.y,n.y),l.z=Math.min(i.z,n.z);const h=this._entity.sceneObject.parameters;h.width=a.x,h.depth=a.z,h.text=this.text,this._entity.transform.setPosition(l),this._entity.transform.setRotation({x:this.euler.x,y:this.euler.y,z:this.euler.z})}get c1(){return this._c1}get c2(){return this._c2}get c3(){const{c2:t,_delta:e}=this;return this._c3.copy(t),this._c3.setComponent(this._widthComponent,t.getComponent(this._widthComponent)-e.getComponent(this._widthComponent)),this._c3}get c4(){const{c2:t,_delta:e}=this;return this._c4.copy(t),this._c4.setComponent(this._depthComponent,t.getComponent(this._depthComponent)-e.getComponent(this._depthComponent)),this._c4}}XH([E],f3.prototype,"create");XH([E],f3.prototype,"update");var kIt=Object.defineProperty,GIt=(s,t,e)=>t in s?kIt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Vu=(s,t,e)=>(GIt(s,typeof t!="symbol"?t+"":t,e),e);class VIt extends Se{constructor(t){super(),this._editor=t,Vu(this,"_pointPicker",new tn(this._editor)),Vu(this,"_factory",new f3(this._editor)),Vu(this,"_state","none"),Vu(this,"_remoteUpdater",new m1(this._editor)),Vu(this,"_presenceUpdater",new lc(this._editor)),Vu(this,"_hasMoved",!1),Vu(this,"_lastClickPositionVP",new ee),Vu(this,"_interactionText",new Be),Vu(this,"_boundsGuide"),this.disposable.add(new tt(()=>{this._remoteUpdater.commit(),this._pointPicker.dispose(),this._factory.dispose(),this._editor.selectionController.setIsTransformingSelection(!1)}))}onPointerEvent(t,e){const{isHover:i,isLeftClickStart:n,isLeftClickEnd:o,isLeftDragStart:a,isLeftDragContinue:l,isLeftDragEnd:c,isDoubleLeftClickEnd:h}=t.pointerState.lastEvent;switch(this._state){case"none":return i?(this._pickP1(t),!0):n?(this._pickP1(t),this._state="picking-p1",!0):!1;case"picking-p1":return a?(this._create(t),this._state="picking-p2",!0):o?(this._state="picked-p1",this._lastClickPositionVP.copy(t.pointerState.pointerVP),!0):!1;case"picked-p1":return i?(!this._hasMoved&&!Ff(this._lastClickPositionVP,t.pointerState.pointerVP,2)&&(this._hasMoved=!0,this._create(t),this._pickP2(t),this._state="picking-p2"),!0):h?(this._createAndCommitDefaultShape(t),!0):!1;case"picking-p2":return l||i?(this._pickP2(t),!0):c||n?(this._commit(),!0):!1;default:return!1}}onKeyboardEvent(t,e){const{wasDown:i,wasEnd:n}=t.keyState.lastEvent;return i(Vt.SHIFT)?(this._pointPicker.hasUniformRestriction=!0,!0):(n(Vt.SHIFT)&&(this._pointPicker.hasUniformRestriction=!1),i(Vt.ALT)?(this._pointPicker.hasCenterPointRestriction=!0,!0):(n(Vt.ALT)&&(this._pointPicker.hasCenterPointRestriction=!1),!1))}_pickP1(t){const e=t.planeSnapper.plane;this._pointPicker.intersectionPlane.normal.copy(e.normal),this._interactionText.normal.copy(e.normal),this._factory.setNormal(e.normal);const{pointerNDC:i}=t.pointerState,{intersectionPoint:n}=this._pointPicker.intersect(t,i);return this._factory.p1.copy(n),this._factory.p2.copy(n),this._presenceUpdater.update(this._interactionText,this._factory.c1,this._factory.c2),this._editor.presenceController.updateCursorPositionGlobal(n),!0}_create(t){const e=t.planeSnapper.plane;this._pointPicker.intersectionPlane.normal.copy(e.normal);const{pointerNDC:i}=t.pointerState,{intersectionPoint:n}=this._pointPicker.intersect(t,i);return this._pointPicker.configureForPlane(n,e.normal),this._factory.p1.copy(n),this._factory.p2.copy(n),this._factory.create(),!0}_createAndCommitDefaultShape(t){return this._create(t),this._commit(),!0}_pickP2(t){this._factory.text="";const{pointerNDC:e}=t.pointerState,{intersectionPoint:i}=this._pointPicker.intersect(t,e);this._factory.p2.copy(i),this._factory.shouldCreateFromCenter=this._pointPicker.hasCenterPointRestriction,this._factory.update(),this._remoteUpdater.update();const{c1:n,c2:o,c3:a,c4:l}=this._factory;this.boundsGuide.update(t,n,o,a,l),this._editor.presenceController.updateCursorPositionGlobal(o),this._presenceUpdater.update(this._pointPicker.intersectionPlane,this._factory.c1,this._factory.c2)}_commit(){this._remoteUpdater.commit(),this._presenceUpdater.commit(),wt(it.TEXT_EDIT)}get boundsGuide(){return this._boundsGuide||(this._boundsGuide=new Fm(this._editor),this._boundsGuide.guideX.changed.add(t=>{this._pointPicker.lengthRestrictionX=t}),this._boundsGuide.guideZ.changed.add(t=>{this._pointPicker.lengthRestrictionZ=t}),this.disposable.add(new tt(()=>{var t;(t=this._boundsGuide)==null||t.dispose()}))),this._boundsGuide}}var HIt=Object.defineProperty,UIt=(s,t,e)=>t in s?HIt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,ZH=(s,t,e)=>(UIt(s,typeof t!="symbol"?t+"":t,e),e);const g8=.3,_8=class W6 extends c1{constructor(t){const e=Xx.merge([Zx.common,{color:{value:new Ge(t==null?void 0:t.color)??new Ge(16777215)},opacity:{value:(t==null?void 0:t.opacity)??g8},rect:{value:(t==null?void 0:t.rect)??new Gw},depthAndCurveRadius:{value:(t==null?void 0:t.depthAndCurveRadius)??new ee}}]);super({uniforms:e,vertexShader:W6.vertexShader,fragmentShader:W6.fragmentShader}),this.transparent=!0,this.toneMapped=!1,this.opacity=1}};ZH(_8,"vertexShader",`
    ${mi.common}
    uniform vec4 rect;
    uniform vec2 depthAndCurveRadius;

    void main() {
      float depth = depthAndCurveRadius.x;
      float rad = depthAndCurveRadius.y;

      ${mi.begin_vertex}

      transformed.x = mix(rect.x, rect.z, position.x);
      transformed.y = mix(rect.w, rect.y, position.y);
      transformed.z = mix(-depth * 0.5, depth * 0.5, position.z);
      if (rad != 0.0) {
        float angle = transformed.x / rad;
        float x = sin(angle) * (rad - transformed.z);
        float y = rad - cos(angle) * (rad - transformed.z);
        transformed.xz = vec2(x, y);
        // TODO fix normals: normal.xy = vec2(sin(angle), cos(angle));
      }

      ${mi.project_vertex}
      ${mi.logdepthbuf_vertex}
    }
  `);ZH(_8,"fragmentShader",`
    uniform vec3 color;
    uniform float opacity;

    ${mi.common}
    ${mi.logdepthbuf_pars_fragment}
  
    void main() {
      ${mi.logdepthbuf_fragment}
      
      gl_FragColor = vec4(color, opacity);
      
      // Convert the color to the output color space
      ${mi.colorspace_fragment}
    }
  `);let v8=_8;var X6;(s=>{const t=new WeakMap;function e(o){let a=t.get(o);if(!a){const{caretPositions:l,caretHeight:c}=o;if(!l)return new Map;a=new Map;for(let h=0;h<l.length;h+=3){const d=l[h+2];let u=a.get(d);u||a.set(d,u=[]),u.push({x:l[h],y:d,height:c??0,charIndex:h/3}),h+3>=l.length&&u.push({x:l[h+1],y:d,height:c??0,charIndex:h/3+1})}}return t.set(o,a),a}s.groupCaretsByRow=e;function i(o){const{caretPositions:a,caretHeight:l}=o;if(!a)return[];const c=[];for(let h=0;h<a.length;h+=3){const d=a[h+2];c.push({x:a[h],y:d,height:l??0,charIndex:h/3}),h+3>=a.length&&c.push({x:a[h+1],y:d,height:l??0,charIndex:h/3+1})}return c}s.getCaretPositions=i;function n(o,a){const{text3:l}=o,{textRenderInfo:c,text:h}=l;if(!c||h.length===0)return{x:0,y:-o.computedFontSize,height:o.computedFontSize,charIndex:a};const d=i(c),{parameters:u,lineHeight:f}=c;if(u.text.charAt(u.text.length-1)===`
`){const _=d[d.length-1];return{x:0,y:_.y-f,height:_.height,charIndex:a}}return d[a]}s.getCaretAtIndex=n})(X6||(X6={}));var zIt=Object.defineProperty,YIt=(s,t,e)=>t in s?zIt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,gi=(s,t,e)=>(YIt(s,typeof t!="symbol"?t+"":t,e),e);class WIt extends zs{constructor(t,e,i){super(),this._textSelectionHelper=t,this._textCaretHelper=e,this._activeTextBounds=i,gi(this,"selectionStart",0),gi(this,"selectionEnd",0),gi(this,"textComponent"),gi(this,"isHelper",!0),gi(this,"_disposable",new Zt),this.add(this._textSelectionHelper),this.add(this._textCaretHelper),this.add(this._activeTextBounds),this._disposable.add(new tt(()=>{this._textSelectionHelper.dispose(),this._textCaretHelper.dispose(),this._activeTextBounds.dispose()}))}get textRenderInfo(){var t;return(t=this.textComponent)==null?void 0:t.textRenderInfo}update(t){const e=this.textComponent;this._textSelectionHelper.textComponent=e,this._textCaretHelper.textComponent=e,this._activeTextBounds.textComponent=e,this._textCaretHelper.selectionStart=this.selectionStart,this._textCaretHelper.selectionEnd=this.selectionEnd,this._textSelectionHelper.selectionStart=this.selectionStart,this._textSelectionHelper.selectionEnd=this.selectionEnd,e&&(this.matrixAutoUpdate=!1,this.matrix.copy(e.text3.matrixWorld),this.matrixWorldNeedsUpdate=!0)}dispose(){this._disposable.dispose()}}class XIt extends zs{constructor(){super(),gi(this,"selectionStart",0),gi(this,"selectionEnd",0),gi(this,"textComponent"),gi(this,"isHelper",!0)}get textRenderInfo(){var t;return(t=this.textComponent)==null?void 0:t.textRenderInfo}update(t){this.selectionStart===this.selectionEnd&&(this.visible=!1);const e=this.textComponent;if(!e||!this.textRenderInfo)return;const i=lK(this.textRenderInfo,this.selectionStart,this.selectionEnd);if(!i||!i.length||isNaN(i[0].left)){this.visible=!1;return}const n=i.length,o=this.children.length,a=e.parameters.curveRadius?Up.geometryCurved:Up.geometry;if(n>o){const l=i.slice(o).map(c=>{const h=new Up(a,Up.material);return h.rect=c,h.curveRadius=e.parameters.curveRadius,h});this.add(...l)}else if(n<o){const l=this.children.slice(n);l.forEach(c=>{c.dispose()}),this.remove(...l)}i.forEach((l,c)=>{if(!this.children[c])return;const h=this.children[c];h.rect=l,h.curveRadius=e.parameters.curveRadius,h.geometry=a,h.update(t)}),this.visible=!0}dispose(){this.children.forEach(t=>{t instanceof Up&&t.dispose()})}}const rC=class KH extends re{constructor(t=KH.geometryCurved,e=new v8({color:Yt.selectionBlue,opacity:g8})){super(t,e),gi(this,"rect"),gi(this,"depth",.01),gi(this,"curveRadius",0),gi(this,"isHelper",!0)}update(t){const e=this.rect;if(!e){this.visible=!1;return}this.visible=!0,this.material.uniforms.rect.value.set(e.left,e.top,e.right,e.bottom),this.material.uniforms.depthAndCurveRadius.value.set(this.depth,this.curveRadius)}dispose(){this.material.dispose()}};gi(rC,"geometry",new su(1,1,1,1).translate(.5,.5,.5));gi(rC,"geometryCurved",new su(1,1,1,32).translate(.5,.5,.5));gi(rC,"material",new v8({color:Yt.selectionBlue,opacity:g8}));gi(rC,"caretMaterial",new v8({color:Yt.white,opacity:1}));let Up=rC;class ZIt extends zs{constructor(){super(),gi(this,"selectionStart",0),gi(this,"selectionEnd",0),gi(this,"textComponent"),gi(this,"isHelper",!0),gi(this,"_highlight",new Up(Up.geometry,Up.caretMaterial)),this.add(this._highlight)}get textRenderInfo(){var t;return(t=this.textComponent)==null?void 0:t.textRenderInfo}update(t){const{textComponent:e,selectionStart:i,selectionEnd:n}=this;if(i!==n&&(this.visible=!1),!e)return;const o=X6.getCaretAtIndex(e,i);if(!o)return;const{x:a,y:l,height:c}=o;this._highlight.rect={left:a,right:a+.005,top:l+c,bottom:l},this._highlight.curveRadius=e.parameters.curveRadius,this._highlight.depth=.005}dispose(){this._highlight.dispose()}}class KIt extends zs{constructor(){super(),gi(this,"textComponent"),gi(this,"isHelper",!0),gi(this,"_textBounds",new ES(ES.geometry,ES.material)),this.add(this._textBounds),this._textBounds.textComponent=this.textComponent,this.visible=!1}update(t){const{textComponent:e}=this;this._textBounds.textComponent=e}dispose(){this._textBounds.dispose()}}const p3=class xy extends re{constructor(t=xy.geometry,e=xy.material){super(t,e),gi(this,"textComponent"),gi(this,"isHelper",!0)}update(t){const{textComponent:e}=this;if(!e)return;const{textRenderInfo:i}=e,{curveRadius:n}=e.parameters;if(!i)return;const{width:o,height:a}=e.computedSize,l=e.textTransformAdapter.position,c=i.blockBounds,h=Math.max(c[2]-c[0],o),d=Math.max(c[3]-c[1],a),u=n?xy.geometryCurved:xy.geometry;this.geometry=u;const{position:f,uv:p}=u.attributes;for(let g=0;g<p.count;g++){let _=c[0]+p.getX(g)*h;const v=p.getY(g)*d+l.z-d;let y=0;n&&(y=n-Math.cos(_/n)*n,_=Math.sin(_/n)*n),f.setXYZ(g,_,v,y)}f.needsUpdate=!0,this.geometry.computeBoundingSphere(),this.geometry.computeBoundingBox()}dispose(){this.material.dispose()}};gi(p3,"geometry",new Jc(1,1));gi(p3,"geometryCurved",new Jc(1,1,32,1));gi(p3,"material",new kn({side:In}));let ES=p3;var qH=Object.defineProperty,qIt=Object.getOwnPropertyDescriptor,QIt=(s,t,e)=>t in s?qH(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,y8=(s,t,e,i)=>{for(var n=qIt(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&qH(t,e,n),n},_a=(s,t,e)=>(QIt(s,typeof t!="symbol"?t+"":t,e),e);class m3 extends Se{constructor(t){super(),this._editor=t,_a(this,"_factory",new f3(this._editor)),_a(this,"_state","none"),_a(this,"_presenceUpdater",new lc(this._editor)),_a(this,"_textSelectionHelper",new XIt),_a(this,"_textCaretHelper",new ZIt),_a(this,"_activeTextBounds",new KIt),_a(this,"_textHelper",new WIt(this._textSelectionHelper,this._textCaretHelper,this._activeTextBounds)),_a(this,"_selector",new A1(this._editor)),_a(this,"_exitTextEditModeBinding"),_a(this,"_eventListenerDisposable",new Zt),_a(this,"_lastClickPositionVP",new ee),_a(this,"_raycaster",new Nf),_a(this,"_timer"),_a(this,"_intersectionPoint",new ee),_a(this,"_interactionPlane",new Be),this._editor.helpers.add(this._textHelper);const{signals:e}=this._editor;this._exitTextEditModeBinding=e.selection.selectionChanged.add(()=>{wt(zl.EXIT)});const i=this._editor.selectionController.selectedCollection.sceneEntitiesWithText;if(i.length){const n=i[0].getComponent(zr);this.activeTextComponent=n;const o=n.parameters.text.length;this._textHelper.selectionStart=0,this._textHelper.selectionEnd=o,this._textHelper.textComponent=n,this._editor.signals.object.sceneGraphChanged.dispatch()}vt(this),this.disposable.add(new tt(()=>{this._factory.dispose(),this._textHelper.dispose(),this._editor.helpers.remove(this._textHelper),this._editor.textAreaController.textComponent=null,this._exitTextEditModeBinding.detach(),this._eventListenerDisposable.dispose()}))}get activeTextComponent(){return this._editor.textAreaController.textComponent}set activeTextComponent(t){if(!t){this.activeTextComponent&&this._eventListenerDisposable.dispose(),this._editor.textAreaController.textComponent=t;return}const e=()=>{this._editor.textAreaController.textComponent=t,this._textHelper.textComponent=t,this._editor.signals.object.sceneGraphChanged.dispatch()};t.text3.addEventListener("synccomplete",e),this._eventListenerDisposable.clear(),this._eventListenerDisposable.add(new tt(()=>{t.text3.removeEventListener("synccomplete",e)})),this._editor.textAreaController.onSelectionChangeCb=(n,o)=>{const a=this.activeTextComponent;a&&(this._textHelper.selectionStart=n,this._textHelper.selectionEnd=o,this._textHelper.textComponent=a,this._editor.signals.object.sceneGraphChanged.dispatch(),this._resetBlink())};const i=t.parameters.text.length;this._editor.textAreaController.selectionStart=0,this._editor.textAreaController.selectionEnd=i,this._editor.textAreaController.textComponent=t}get selectionStart(){return this._editor.textAreaController.selectionStart}set selectionStart(t){this._editor.textAreaController.selectionStart=t,this._editor.textAreaController.didLastChangeComeFromInput=!1}get selectionEnd(){return this._editor.textAreaController.selectionEnd}set selectionEnd(t){this._editor.textAreaController.selectionEnd=t,this._editor.textAreaController.didLastChangeComeFromInput=!1}onPointerEvent(t,e){const{isLeftClickStart:i,isLeftClickEnd:n,isLeftDragStart:o,isLeftDragContinue:a,isLeftDragEnd:l,isDoubleLeftClickStart:c,isDoubleLeftClickEnd:h,clicks:d}=t.pointerState.lastEvent;switch(this._state){case"none":case"has-selection":if(i){const u=this._pickP1(t);return this._state=u?"picking-p1":this._state,u}return c?(d>=4?(this._selectAll(t),this._state="picking-all"):d>=3?(this._selectParagraph(t),this._state="picking-paragraph"):(this._selectWord(t),this._state="picking-word"),!0):!1;case"picking-p1":return o?(this._state="picking-p2",!0):n?(this._state="none",this._lastClickPositionVP.copy(t.pointerState.pointerVP),!0):!1;case"picked-p1":return!1;case"picking-p2":return a?(this._pickP2(t),!0):l?(this._state="has-selection",!0):!1;case"picking-word":return a?(this._selectWord(t),!0):l?(this._state="none",!0):h?(this._state="none",!0):!1;case"picking-paragraph":case"picking-all":return h?(this._state="none",!0):!1;default:return!1}}_intersectBounds(t){if(!this.activeTextComponent)return null;t.camera.updateProjectionMatrix(),t.camera.updateMatrixWorld(),this._raycaster.setFromCamera(t.pointerState.pointerNDC,t.camera);const e=[];return this._raycaster.intersectObject(this._activeTextBounds,!0,e),e.length>0?e[0].point:null}_intersectInfiniteBounds(t){const e=this._intersectBounds(t);if(e)return e;if(!this.activeTextComponent)return null;this._raycaster.setFromCamera(t.pointerState.pointerNDC,t.camera);const i=this.activeTextComponent.text3,n=i.getWorldPosition(new w),o=i.getWorldDirection(new w),a=new Be;return a.setFromNormalAndCoplanarPoint(o,n),this._raycaster.ray.intersectPlane(a,new w)}_selectEntity(t){const{selectedCollection:e}=this._editor.selectionController;this._exitTextEditModeBinding.active=!1,e.set(t),this._exitTextEditModeBinding.active=!0}_pickP1(t){const e=this._selector.intersect(t.pointerState.pointerNDC,t,!0);let i=null;if(e){const{selectedCollection:d}=this._editor.selectionController;this._selectEntity(e.selectable);const u=d.sceneEntitiesWithText;if(u.length>0){const f=u[0].getComponent(zr);this.activeTextComponent=f}i=e.point}else if(i=this._intersectBounds(t),!i)return!1;const n=this.activeTextComponent;if(!n||!n.textRenderInfo)return!1;const o=n.text3,a=n.textRenderInfo;if(!a)return!1;if(!n.parameters.text)return!0;const l=o.worldPositionToTextCoords(i,this._intersectionPoint);if(!n.parameters.text)return!0;const c=kC(a,l.x,l.y);if(!c)return!1;const h=c.charIndex;return this.selectionStart=h,this.selectionEnd=h,this._textHelper.selectionStart=h,this._textHelper.selectionEnd=h,this._textHelper.textComponent=n,this._editor.signals.object.sceneGraphChanged.dispatch(),this._resetBlink(),this._presenceUpdater.update(this._interactionPlane,i,i),this._editor.presenceController.updateCursorPositionGlobal(i),!0}_resetBlink(){this._textCaretHelper.visible=!0,clearInterval(this._timer),this._timer=setInterval(()=>{this._textCaretHelper.visible=!this._textCaretHelper.visible,this._editor.signals.object.sceneGraphChanged.dispatch()},500)}_selectWord(t){const e=this._selector.intersect(t.pointerState.pointerNDC,t,!0);let i=null;if(e){const{selectedCollection:_}=this._editor.selectionController;this._selectEntity(e.selectable);const v=_.sceneEntitiesWithText;if(v.length>0){const y=v[0].getComponent(zr);this.activeTextComponent=y}i=e.point}else if(i=this._intersectBounds(t),!i)return!1;const n=this.activeTextComponent;if(!n||!n.textRenderInfo)return!1;const o=n.text3,a=n.textRenderInfo;if(!a)return!1;if(!n.parameters.text)return!0;const l=o.worldPositionToTextCoords(i,this._intersectionPoint),c=kC(a,l.x,l.y);if(!c)return!1;const h=c.charIndex,d=n.parameters.text,{findWordBounds:u,getWhitespaceBounds:f}=Kp,p=d[h];if(/\s/.test(p)){const[_,v]=f(d,h);this.selectionStart=_,this.selectionEnd=v}else{const[_,v]=u(d,h);this.selectionStart=_,this.selectionEnd=v}return this._textHelper.selectionStart=this.selectionStart,this._textHelper.selectionEnd=this.selectionEnd,this._textHelper.textComponent=n,this._editor.signals.object.sceneGraphChanged.dispatch(),this._resetBlink(),this._presenceUpdater.update(this._interactionPlane,i,i),this._editor.presenceController.updateCursorPositionGlobal(i),!0}_selectParagraph(t){const e=this._selector.intersect(t.pointerState.pointerNDC,t,!0);let i=null;if(e){const{selectedCollection:g}=this._editor.selectionController;this._selectEntity(e.selectable);const _=g.sceneEntitiesWithText;if(_.length>0){const v=_[0].getComponent(zr);this.activeTextComponent=v}i=e.point}else if(i=this._intersectBounds(t),!i)return!1;const n=this.activeTextComponent;if(!n||!n.textRenderInfo)return!1;const o=n.text3,a=n.textRenderInfo;if(!a)return!1;if(!n.parameters.text)return!0;const l=o.worldPositionToTextCoords(i),c=kC(a,l.x,l.y);if(!c)return!1;const h=c.charIndex,d=n.parameters.text,{getParagraphBounds:u}=Kp,[f,p]=u(d,h);return this.selectionStart=f,this.selectionEnd=p,this._textHelper.selectionStart=this.selectionStart,this._textHelper.selectionEnd=this.selectionEnd,this._textHelper.textComponent=n,this._editor.signals.object.sceneGraphChanged.dispatch(),this._resetBlink(),this._presenceUpdater.update(this._interactionPlane,i,i),this._editor.presenceController.updateCursorPositionGlobal(i),!0}_selectAll(t){if(this._selector.intersect(t.pointerState.pointerNDC,t,!0)){const n=this._editor.selectionController.selectedCollection.sceneEntitiesWithText;if(n.length>0){const o=n[0].getComponent(zr);this.activeTextComponent=o}}const i=this.activeTextComponent;return i?(this.selectionStart=0,this.selectionEnd=i.parameters.text.length,this._textHelper.selectionStart=this.selectionStart,this._textHelper.selectionEnd=this.selectionEnd,this._textHelper.textComponent=i,this._editor.signals.object.sceneGraphChanged.dispatch(),this._resetBlink(),!0):!1}_pickP2(t){let e=null;if(e=this._intersectInfiniteBounds(t),!e)return!1;const i=this.activeTextComponent;if(!i||!i.textRenderInfo)return!1;const n=i.text3,o=i.textRenderInfo;if(!o)return!1;if(!i.parameters.text)return!0;const a=n.worldPositionToTextCoords(e),l=kC(o,a.x,a.y);if(!l)return!1;this.selectionEnd=l.charIndex,this._textHelper.selectionEnd=this.selectionEnd,this._editor.signals.object.sceneGraphChanged.dispatch(),this._resetBlink(),this._presenceUpdater.update(this._interactionPlane,e,e),this._editor.presenceController.updateCursorPositionGlobal(e)}}y8([M],m3.prototype,"activeTextComponent");y8([M],m3.prototype,"selectionStart");y8([M],m3.prototype,"selectionEnd");var JIt=Object.defineProperty,$It=(s,t,e)=>t in s?JIt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,df=(s,t,e)=>($It(s,typeof t!="symbol"?t+"":t,e),e);const Qp=class Z6 extends Se{constructor(t){super(),this._editor=t,df(this,"_dir",new w),df(this,"_sideVelocity",new w),df(this,"_upVelocity",new w),df(this,"_forwardVelocity",new w),df(this,"_velocity",new w)}onXRControllerEvent(t){var k,Y,G,st;const{xrState:e}=t,{lastEvent:i,timeDeltaSec:n}=e,{type:o}=i;if(!(o==="joystickstart"||o==="joystickcontinue"||o==="joystickend"))return!1;const a=e.getXRController("right"),l=e.getXRController("left");if(!l&&!a)return!1;const{_dir:c,_sideVelocity:h,_upVelocity:d,_forwardVelocity:u,_velocity:f}=this,p=l??a,g=l?a:void 0,_=((Y=(k=p==null?void 0:p.inputSource)==null?void 0:k.gamepad)==null?void 0:Y.axes)??[],v=((st=(G=g==null?void 0:g.inputSource)==null?void 0:G.gamepad)==null?void 0:st.axes)??[],y=_[2]??_[0]??0,b=v[3]??v[1]??0,C=v[2]??v[0]??0,x=_[3]??_[1]??0;if(e.xrCamera.getWorldDirection(c),c.y=0,!e.sessionMode)return!1;const T=Z6._MaxSpeedBySessionMode[e.sessionMode]*n,D=h.set(-c.z,0,c.x).multiplyScalar(y),B=u.copy(c).multiplyScalar(-x).setY(0),F=f.setScalar(0).add(B).add(D);if(Math.abs(b)>Math.abs(C)){const $=d.set(0,-b,0);F.add($)}else{const $=C*Z6._ROTATION_SPEED_RAD*n;e.playerGroup.rotation.y-=$}return F.multiplyScalar(T),e.playerGroup.position.add(F),!1}};df(Qp,"_ROTATION_SPEED_RAD",45*cK);df(Qp,"_WALKING_SPEED",1.42);df(Qp,"_JOGGING_SPEED",2.8);df(Qp,"_MaxSpeedBySessionMode",{"immersive-ar":Qp._WALKING_SPEED,"immersive-vr":Qp._JOGGING_SPEED,inline:Qp._WALKING_SPEED});let b8=Qp;var t7t=Object.defineProperty,e7t=(s,t,e)=>t in s?t7t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,s7t=(s,t,e)=>(e7t(s,t+"",e),e);class C8 extends Se{constructor(t){super(),this._editor=t,s7t(this,"_selectButtonsDown",{left:!1,right:!1})}onXRControllerEvent(t){const{xrState:e}=t,{lastEvent:i}=e,{type:n,handedness:o}=i;if(n==="selectstart"){if(this._selectButtonsDown[o]=!0,this._selectButtonsDown.left&&this._selectButtonsDown.right)return t.xrState.resetPlayerGroup(),!0}else n==="selectend"&&(this._selectButtonsDown[o]=!1);return!1}}class i7t extends zs{constructor(){super();const t=new Y5(new Kc(Kc.generateCrossVertices({shouldShowNormalAxis:!0,size:.25}),Kc.generateCrossColors({shouldShowNormalAxis:!0})));t.layers.set(ce.VISUALIZATION),this.add(t)}}var n7t=Object.defineProperty,o7t=(s,t,e)=>t in s?n7t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,SS=(s,t,e)=>(o7t(s,typeof t!="symbol"?t+"":t,e),e);class r7t extends Se{constructor(t){super(),this._editor=t,SS(this,"_intersectionMatrix",new Lt),SS(this,"_xrAnchorHelper",new i7t),SS(this,"_yAxis",new w),this.state=ro.PENDING,this.disposable.add(new tt(()=>this._editor.helpers.remove(this._xrAnchorHelper)))}get state(){return this._editor.anchorState}set state(t){this._editor.setAnchorState(t)}onXRControllersUpdate(t,e,i){if(this.state===ro.PLACED)return!1;const{xrState:n}=t,o=!!n.getGazeIntersectionWithXRPlanes(i,this._intersectionMatrix);this._yAxis.setFromMatrixColumn(this._intersectionMatrix,1);const a=Qs(1-this._yAxis.dot(vi),.1);if(!o||!a)return this._editor.helpers.remove(this._xrAnchorHelper),this.state===ro.PAUSED||this.state===ro.PLACING&&(this.state=ro.PAUSED),!1;this.state=ro.PLACING,this._editor.helpers.add(this._xrAnchorHelper);const l=this._intersectionMatrix.invert();return n.setPositionFromMatrix(l),!1}onXRControllerEvent(t){const{xrState:e}=t,{lastEvent:i}=e,{type:n}=i;switch(this.state){case ro.PENDING:case ro.PLACING:case ro.PAUSED:if(n==="selectend")return this.state=ro.PLACED,wt(it.PLAY_MODE_INTERACTION),!0;break;case ro.PLACED:case ro.NONE:break}return!1}}var u_;(s=>{const t=new Us,e=new Us,i=new Array(8).fill(null).map(()=>new w);function n(u,f,p){e.makeEmpty();const g=Array.from((u==null?void 0:u.sceneEntities)??[]).filter(v=>v.id!==p);if(!g||g.length===0)return f.setScalar(0);for(const v of g){const C=new Qn(v.transform.matrixGlobal.clone()).to(Qn.GLOBAL_COORDINATE_SYSTEM).convertBoundingBox(v.boundingBox,t,i);e.union(C)}return e.getCenter(f)}s.getSelectionCentroid=n;const o=new w;function a(u){u.getWorldDirection(o);const p=Math.max(...o.toArray().map(_=>Math.abs(_))),g={[Mt.X]:p-Math.abs(o.x),[Mt.Y]:p-Math.abs(o.y),[Mt.Z]:p-Math.abs(o.z)};if(g[Mt.X]>.001||g[Mt.Y]>.001||g[Mt.Z]>.001)return g[Mt.Z]<=.001?rn.XY:g[Mt.X]<=.001?rn.YZ:rn.XZ}s.getWorkingPlane=a;const l=new w,c=new w,h=new w;function d(u){const[f,p,g]=Hi.getObjectGlobalDirections(u,l,c,h),_=Hi.getNearestWorldAlignedAxisDirection(f),v=Hi.getNearestWorldAlignedAxisDirection(p),y=Hi.getNearestWorldAlignedAxisDirection(g);return[_,v,y]}s.getWorkingAxes=d})(u_||(u_={}));var a7t=Object.defineProperty,l7t=(s,t,e)=>t in s?a7t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,jd=(s,t,e)=>(l7t(s,typeof t!="symbol"?t+"":t,e),e);const c7t=1/4,Mc=new w,IS=new w,G2=new w,AS=new ee,TS=new Nf,V2=1;class H2 extends Se{constructor(t,e=!1){super(),this._editor=t,this._shouldDollyToCursor=e,jd(this,"_onEndDisposable",new Zt),jd(this,"_anchorPointerVP",new ee),jd(this,"_lastAveragePointerVP",new ee),jd(this,"_averagePointerVP",new ee),jd(this,"_delta",new ee),jd(this,"_isTrackpadScroll",!1),jd(this,"_boundingBox",new Us),jd(this,"_sceneBoundingBox",new Us),jd(this,"_maxPivot",new w),jd(this,"_positionNDC",new ee)}onPointerEvent(t,e){switch(e){case xt.DRAG_START:return this._onDragBegin(t);case xt.DRAG_CONTINUE:return this._onDragContinue(t);case xt.DRAG_END:return this._onEnd();default:return!1}}onWheelEvent(t,e){switch(e){case Co.WHEEL_START:return this._onWheelStart(t);case Co.WHEEL_CONTINUE:return this._onWheelContinue(t);case Co.WHEEL_END:return this._onEnd();default:return!1}}onKeyboardEvent(t,e){const{key:i}=t.keyState.lastEvent,n=e!==Ai.KEY_END;switch(i){case Vt.CONTROL:case Vt.META:n&&!this._shouldDollyToCursor?(this._shouldDollyToCursor=n,this._setPivot(t,t.pointerState.pointerNDC)):!n&&this._shouldDollyToCursor&&this._onEndDisposable.add(new tt(()=>{this._shouldDollyToCursor=!1}));break}return!1}_onDragBegin(t){this._setPivot(t,t.pointerState.pointerNDC);const{activePointers:e}=t.pointerState,i=e.size>=2;if(o_(Array.from(t.pointerState.activePointers.values()),this._lastAveragePointerVP),i){const[,n]=e.values();Ky(this._lastAveragePointerVP,n,this._delta);const o=this._delta.length();AS.set(0,o)}return this._anchorPointerVP.copy(this._lastAveragePointerVP),!0}_onDragContinue(t){this._recalculatePivotIfNecessary(t,t.pointerState.pointerNDC);const{dollyX:e,dollyY:i,dollyDelta:n}=this._getDollyPosition(t,this._shouldDollyToCursor);if(t.controls._dollyInternal(n*c7t,e,i,this._shouldDollyToCursor),t.pointerState.lastPointerType==="touch"){const o=this._lastAveragePointerVP.x-this._averagePointerVP.x,a=this._lastAveragePointerVP.y-this._averagePointerVP.y;t.controls._truckInternal(o,a,!1)}return this._lastAveragePointerVP.copy(this._averagePointerVP),!0}_onWheelStart(t){const{deltaX:e,deltaY:i,deltaMode:n}=t.wheelState;this._onDragBegin(t);const o=s_?-1:-3,a=n===1?i/o:i/(o*10);return this._isTrackpadScroll=!!e||Math.abs(a)<1,this._onWheelContinue(t),!0}_onWheelContinue(t){const{deltaY:e,deltaMode:i}=t.wheelState;this._recalculatePivotIfNecessary(t,t.pointerState.pointerNDC);const n=s_?-1:-3;let o=i===1?e/n:e/(n*10);this._isTrackpadScroll||(o/=10);let a=0,l=0;return this._shouldDollyToCursor&&(a=t.pointerState.pointerNDC.x,l=t.pointerState.pointerNDC.y),t.controls._dollyInternal(-o,a,l,this._shouldDollyToCursor),!0}_onEnd(){return this._onEndDisposable.dispose(),this._onEndDisposable.clear(),!1}_recalculatePivotIfNecessary(t,e){t.camera.position.distanceTo(Mc)<V2&&this._setPivot(t,e)}_setPivot(t,e){const i=this._shouldDollyToCursor;let n={x:0,y:0};i&&(n=e),this._calculatePivotPoint(t,n),IS.subVectors(Mc,t.camera.position),IS.length()<V2&&Mc.copy(t.camera.position).add(IS.normalize().multiplyScalar(V2)),t.camera.isPerspectiveCamera&&t.controls.setOrbitPoint(Mc.x,Mc.y,Mc.z)}_calculatePivotPoint(t,e){const{_boundingBox:i}=this,n=this._editor.sceneController.objectsWithGeometry;t.camera.updateProjectionMatrix(),t.camera.updateMatrixWorld(),this._positionNDC.set(e.x,e.y),TS.setFromCamera(this._positionNDC,t.camera);const o=TS.intersectObjects(n,!0);if(o.length>0){const c=o[0].point;Mc.copy(c);return}if(this._editor.selectionController&&!this._editor.selectionController.selectedCollection.isEmpty&&t.isInView(u_.getSelectionCentroid(this._editor.selectionController.selectedCollection,Mc,this._editor.sceneController.cameraController.editedCameraId)))return;TS.ray.intersectPlane(S7,G2);const a=t.camera.position.distanceTo(G2);if(t.getVisibleGeometryApproximateBbox(this._editor.sceneController.objectsWithGeometry,i),i.getCenter(Mc),t.isInView(Mc)){if(t.camera.position.distanceTo(Mc)<a)return}else if(this._editor.sceneController.objectsWithGeometry.length>0){gf(this._editor.sceneController.objectsWithGeometry,this._sceneBoundingBox),this._maxPivot.copy(this._sceneBoundingBox.max).multiplyScalar(.1);const l=Math.max(this._maxPivot.x,this._maxPivot.y,this._maxPivot.z);G2.clampLength(V2,l)}Mc.copy(G2)}_getDollyPosition(t,e){const{size:i}=t,{activePointers:n}=t.pointerState;if(o_(Array.from(t.pointerState.activePointers.values()),this._averagePointerVP),t.pointerState.lastPointerType==="touch"){const[,d]=n.values();Ky(this._averagePointerVP,d,this._delta);const u=this._delta.length(),f=AS.y-u;AS.set(0,u);const p=e?(this._averagePointerVP.x-i.x)/i.width*2-1:0,g=e?(this._averagePointerVP.y-i.y)/i.height*-2+1:0;return{dollyX:p,dollyY:g,dollyDelta:f}}const o=this._lastAveragePointerVP.x-this._averagePointerVP.x,a=this._lastAveragePointerVP.y-this._averagePointerVP.y,l=o-a,c=e?(this._anchorPointerVP.x-i.left)/i.width*2-1:0,h=e?(this._anchorPointerVP.y-i.top)/i.height*-2+1:0;return{dollyX:c,dollyY:h,dollyDelta:l}}}var h7t=Object.defineProperty,d7t=(s,t,e)=>t in s?h7t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Oh=(s,t,e)=>(d7t(s,typeof t!="symbol"?t+"":t,e),e);const u7t=1,f7t=1,U2=5,p7t=new w,PS=new Nf,w8=class K6 extends Se{constructor(t,e=!1){super(),this.editor=t,this._isPivotFixed=e,Oh(this,"_shouldOrbitAroundCursor",!1),Oh(this,"_boundingBox",new Us),Oh(this,"_pivot",new w),Oh(this,"_box3Helper",new re(K6._box3HelperGeometry,K6._box3HelperMaterial)),Oh(this,"_boundingBoxSize",new w),Oh(this,"_positionNDC",new ee),Oh(this,"_v3A",new w),Oh(this,"_lastAveragePointerVP",new ee),Oh(this,"_averagePointerVP",new ee),this.disposable.add(new tt(()=>this.editor.helpers.remove(this._box3Helper)))}getOrbitPivot(t,e){if(this._isPivotFixed)return;const{_boundingBox:i}=this,n=this.editor.sceneController.objectsWithGeometry;this._positionNDC.set(e.x,e.y),PS.setFromCamera(this._positionNDC,t.camera);const o=PS.intersectObjects(n,!0);if(o.length>0){const a=o[0],l=a.object;if(gf([l],i),i.getCenter(this._pivot),!t.isInView(this._pivot)){this._pivot.copy(a.point),console.debug("use center intersection point");return}this.projectPivotToCenter(t.camera),console.debug("use object3d in center of screen centroid");return}if(t.getVisibleGeometryApproximateBbox(this.editor.sceneController.objectsWithGeometry,i),!i.isEmpty()){i.getCenter(this._pivot),i.getSize(this._boundingBoxSize),this._box3Helper.scale.copy(this._boundingBoxSize),this._box3Helper.position.copy(this._pivot),this._box3Helper.updateMatrixWorld();const a=PS.intersectObject(this._box3Helper,!1);if(a.length>=2){const l=a[0].point,c=a[a.length-1].point;qr(l,c,this._pivot),console.debug("use mid point of intersections with visible boundingBox");return}else if(a.length===1){this._pivot.copy(a[0].point),console.debug("use intersection with visible boundingBox");return}if(i.getCenter(this._pivot),!t.isInView(this._pivot)){this.projectPivotToCenter(t.camera,U2),console.debug("use camera position");return}console.debug("use visible _boundingBox center")}if(!t.isInView(this._pivot)){this.projectPivotToCenter(t.camera,U2),console.debug("use camera position");return}}projectPivotToCenter(t,e){e=e??t.position.distanceTo(this._pivot),this._pivot.copy(t.position).add(t.getWorldDirection(p7t).multiplyScalar(e))}calculatePivotPoint(t,e){if(this._isPivotFixed||!t.controls)return;let i=!1;if(this.editor.selectionController&&!this.editor.selectionController.selectedCollection.isEmpty){u_.getSelectionCentroid(this.editor.selectionController.selectedCollection,this._pivot,this.editor.sceneController.cameraController.editedCameraId);const n=t.isInView(this._pivot);t.isInView(this._pivot,.5)||this.projectPivotToCenter(t.camera),i=n}if(!i){this._pivot.copy(t.controls.lastOrbitPivot);const n=t.controls.getPosition(this._v3A);if(Qs(U2-n.distanceTo(this._pivot),U2)||!t.isInView(this._pivot,.5)){this.getOrbitPivot(t,e);return}}}setOrbitPoint(t,e){if(!t.controls)return;const i=this._shouldOrbitAroundCursor;let n={x:0,y:0};i&&(n=e),this.calculatePivotPoint(t,n),t.controls.setOrbitPoint(this._pivot.x,this._pivot.y,this._pivot.z)}onPointerEvent(t,e){switch(e){case xt.DRAG_START:return this._onDragBegin(t);case xt.DRAG_CONTINUE:return this._onDragContinue(t);case xt.DRAG_END:return this._onDragEnd(t);default:return!1}}_onDragBegin(t){return this.setOrbitPoint(t,t.pointerState.pointerNDC),o_(Array.from(t.pointerState.activePointers.values()),this._lastAveragePointerVP),t.controls.canNotifyCameraRotated=!0,!0}_onDragContinue(t){o_(Array.from(t.pointerState.activePointers.values()),this._averagePointerVP);const e=this._lastAveragePointerVP.x-this._averagePointerVP.x,i=this._lastAveragePointerVP.y-this._averagePointerVP.y;this._lastAveragePointerVP.copy(this._averagePointerVP);const n=cl*u7t*e/t.size.width,o=cl*f7t*i/t.size.height;return t.controls.rotate(n,o,!1),!0}_onDragEnd(t){return t.controls.canNotifyCameraRotated=!1,!1}onKeyboardEvent(t,e){const{key:i}=t.keyState.lastEvent,n=e!==Ai.KEY_END;switch(i){case Vt.CONTROL:case Vt.META:this._shouldOrbitAroundCursor=n;break}return!1}};Oh(w8,"_box3HelperGeometry",new su(1,1,1));Oh(w8,"_box3HelperMaterial",new kn({color:16711935,transparent:!0,opacity:.1,side:In}));let GO=w8;var m7t=Object.defineProperty,g7t=(s,t,e)=>t in s?m7t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,t0=(s,t,e)=>(g7t(s,typeof t!="symbol"?t+"":t,e),e);const Hu=new w,OS=new w,VO=1;class z2 extends Se{constructor(t){super(),this._editor=t,t0(this,"_dragStartPosition",new ee),t0(this,"_dollyToCursor",!1),t0(this,"_shouldPanPointUnderCursor",!1),t0(this,"_lastAveragePointerVP",new ee),t0(this,"_averagePointerVP",new ee),t0(this,"_boundingBox",new Us)}onPointerEvent(t,e){switch(e){case xt.DRAG_START:return this._onDragBegin(t);case xt.DRAG_CONTINUE:return this._onDragContinue(t);default:return!1}}onWheelEvent(t,e){switch(e){case Co.WHEEL_START:return this._onWheelStart(t);case Co.WHEEL_CONTINUE:return this._onWheelContinue(t);default:return!1}}onKeyboardEvent(t,e){const{key:i}=t.keyState.lastEvent,n=e!==Ai.KEY_END;switch(i){case Vt.CONTROL:case Vt.META:this._shouldPanPointUnderCursor=n;break}return!1}_onDragBegin(t){return this._setPivot(t,t.pointerState.pointerNDC),o_(Array.from(t.pointerState.activePointers.values()),this._lastAveragePointerVP),this._dragStartPosition.copy(this._lastAveragePointerVP),!0}_onDragContinue(t){o_(Array.from(t.pointerState.activePointers.values()),this._averagePointerVP);const e=this._lastAveragePointerVP.x-this._averagePointerVP.x,i=this._lastAveragePointerVP.y-this._averagePointerVP.y,n=this._shouldPanPointUnderCursor;return t.controls._truckInternal(e,i,n),this._lastAveragePointerVP.copy(this._averagePointerVP),!0}_onWheelStart(t){return this._onDragBegin(t),!0}_onWheelContinue(t){const{deltaX:e,deltaY:i}=t.wheelState;return t.controls._truckInternal(e,i,!1),!0}_calculatePivotPoint(t,e){if(t.controls&&!(this._editor.selectionController&&!this._editor.selectionController.selectedCollection.isEmpty&&t.isInView(u_.getSelectionCentroid(this._editor.selectionController.selectedCollection,Hu,this._editor.sceneController.cameraController.editedCameraId)))&&(Hu.copy(t.controls.lastOrbitPivot),!t.isInView(Hu))){const{_boundingBox:i}=this;if(t.getVisibleGeometryApproximateBbox(this._editor.sceneController.objectsWithGeometry,i),!i.isEmpty()){i.getCenter(Hu);return}}}_setPivot(t,e){const i=this._shouldPanPointUnderCursor;let n={x:0,y:0};i&&(n=e),this._calculatePivotPoint(t,n),OS.subVectors(Hu,t.camera.position),OS.length()<VO&&Hu.copy(t.camera.position).add(OS.normalize().multiplyScalar(VO)),t.camera.isPerspectiveCamera&&t.controls.setOrbitPoint(Hu.x,Hu.y,Hu.z)}}var _7t=Object.defineProperty,v7t=(s,t,e)=>t in s?_7t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,MS=(s,t,e)=>(v7t(s,typeof t!="symbol"?t+"":t,e),e);const e0=.05;class y7t extends Se{constructor(t){super(),this._editor=t,MS(this,"_dragStartPosition",new ee),MS(this,"_forward",new w(0,0,-1)),MS(this,"_shouldChangeOrientation",!1)}get mainViewport(){return this._editor.viewportController.mainViewport}onPointerEvent(t,e){switch(e){case xt.DRAG_START:return this._onDragStart(t);case xt.DRAG_CONTINUE:return this._onDragContinue(t);default:return!1}}_onDragStart(t){return this._dragStartPosition.copy(t.pointerState.pointerNDC),!0}_onDragContinue(t){const{x:e,y:i}=this._dragStartPosition,{x:n,y:o}=t.pointerState.pointerNDC,[a,l]=[n-e,o-i];if(this.mainViewport&&!this._shouldChangeOrientation&&(Math.abs(a)>=e0||Math.abs(l)>=e0)){const c=this._availableViewDirectionsByCameraSpot();if(c!==null){this._shouldChangeOrientation=!0;const[h,d,u,f]=c;let p=null;a>e0?p=d:a<-e0&&(p=h),l>e0?p=f:l<-e0&&(p=u),p!==null&&(wt(p),this.mainViewport.camera.isPerspectiveCamera&&(wt(Zi.TOGGLE_ORTHOGRAPHIC),this.mainViewport.controls.canGoBackToPerspectiveMode=!0))}}return!0}_availableViewDirectionsByCameraSpot(){if(!this.mainViewport)return null;switch(this._forward.applyQuaternion(this.mainViewport.camera.quaternion).multiplyScalar(-1),yat(this._forward)){case 1:return[ne.RIGHT,ne.FRONT,ne.TOP,ne.BOTTOM];case 2:return[ne.FRONT,ne.LEFT,ne.TOP,ne.BOTTOM];case 3:return[ne.FRONT,ne.LEFT,ne.TOP,ne.BOTTOM];case 4:return[ne.RIGHT,ne.FRONT,ne.TOP,ne.BOTTOM];case 5:return[ne.BACK,ne.RIGHT,ne.TOP,ne.BOTTOM];case 6:return[ne.LEFT,ne.BACK,ne.TOP,ne.BOTTOM];case 7:return[ne.LEFT,ne.BACK,ne.TOP,ne.BOTTOM];case 8:return[ne.BACK,ne.RIGHT,ne.TOP,ne.BOTTOM];case 9:return[ne.BACK,ne.FRONT,ne.TOP,ne.BOTTOM];case 10:return[ne.FRONT,ne.BACK,ne.TOP,ne.BOTTOM];case 11:return[ne.RIGHT,ne.LEFT,ne.BACK,ne.FRONT];case 12:return[ne.RIGHT,ne.LEFT,ne.FRONT,ne.BACK];case 13:return[ne.RIGHT,ne.LEFT,ne.TOP,ne.BOTTOM];case 14:return[ne.LEFT,ne.RIGHT,ne.TOP,ne.BOTTOM];default:return null}}}var b7t=Object.defineProperty,C7t=(s,t,e)=>t in s?b7t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,HO=(s,t,e)=>(C7t(s,typeof t!="symbol"?t+"":t,e),e);let Y2=!1,LS=1/0,W2=!1;class Li extends Se{constructor(t,e=null,i=!1){super(),this.editor=t,this._isPivotFixed=i,HO(this,"activeBehaviors",{pointer:null,wheel:null}),HO(this,"_cameraController"),this._cameraController=e??t.sceneController.cameraController,this.disposable.add(new tt(()=>{var n,o;(n=this.activeBehaviors.pointer)==null||n.dispose(),(o=this.activeBehaviors.wheel)==null||o.dispose()}))}onPointerEvent(t,e){switch(e){case xt.DRAG_START:return this._onDragStart(t,e);case xt.DRAG_CONTINUE:return this._onDragContinue(t,e);case xt.DRAG_END:return this._onDragEnd(t,e);default:return!1}}onWheelEvent(t,e){switch(e){case Co.WHEEL_START:return this._onWheelStart(t,e);case Co.WHEEL_CONTINUE:return this._onWheelContinue(t,e);case Co.WHEEL_END:return this._onWheelEnd(t,e);default:return!1}}_onDragStart(t,e){return this.activeBehaviors.pointer&&this.activeBehaviors.pointer.onPointerEvent(t,xt.DRAG_END),t.pointerState.lastPointerType==="touch"?this.activeBehaviors.pointer=this.createTouchBehavior(t):this.activeBehaviors.pointer=this.createPointerBehavior(t),this.activeBehaviors.pointer?(this.activeBehaviors.pointer.onPointerEvent(t,e),this.editor.signals.command.cameraNavigationStarted.dispatch({lastOrbitPivot:t.controls.lastOrbitPivot,isWheel:!1}),!0):!1}_onDragContinue(t,e){return this.activeBehaviors.pointer?(this.activeBehaviors.pointer.onPointerEvent(t,e),this._cameraController.deviewCamera(),this.editor.signals.command.cameraNavigationContinue.dispatch(),!0):!1}_onDragEnd(t,e){return this.activeBehaviors.pointer&&(this.activeBehaviors.pointer.onPointerEvent(t,e),this.editor.signals.command.cameraNavigationEnded.dispatch(t.controls.lastOrbitPivot),this.activeBehaviors.pointer.dispose(),this.activeBehaviors.pointer=null,this._cameraController.updateEditingCamera()),!1}createPointerBehavior(t){return t.areAnyKeyCombosPressed([["Shift","RMB"],["Alt","MMB"]])?new y7t(this.editor):t.areAnyKeyCombosPressed([["Alt","RMB"],["Control","RMB"],["Meta","RMB"],["Shift","Space","RMB"]])?new H2(this.editor,t.keyState.isCmdOrCtrlDown):t.areAnyKeyCombosPressed([["MMB"],["Space","RMB"],["Space","LMB"]])?new z2(this.editor):t.areAnyKeyCombosPressed([["LMB"],["RMB"]])?new GO(this.editor,this._isPivotFixed):null}createTouchBehavior(t){const{activePointers:e}=t.pointerState;switch(e.size){case 1:return new GO(this.editor,this._isPivotFixed);case 2:return new H2(this.editor);case 3:return new z2(this.editor);default:return null}}createWheelBehavior(t){return t.areAnyKeyCombosPressed([["Meta","MSW"],["Control","MSW"]])?new H2(this.editor,t.keyState.isCmdOrCtrlDown):t.areAnyKeyCombosPressed([["Space","MSW"],["Shift","MSW"]])?new z2(this.editor):t.areAnyKeyCombosPressed([["MSW"]])&&!t.areAnyKeyCombosPressed([["Alt","MSW"]])?!s_||!Y2||t.wheelState.isPinching?new H2(this.editor,t.keyState.isCmdOrCtrlDown):new z2(this.editor):null}_onWheelStart(t,e){const{deltaX:i,deltaY:n}=t.wheelState,o=ts(Math.abs(n),LS);return Y2=!!i||o,Y2&&!W2&&!isFinite(LS)&&(LS=Math.abs(i)||Math.abs(n)),this.activeBehaviors.wheel=this.createWheelBehavior(t),this.activeBehaviors.wheel?(this.activeBehaviors.wheel.onWheelEvent(t,e),this.editor.signals.command.cameraNavigationStarted.dispatch({lastOrbitPivot:t.controls.lastOrbitPivot,isWheel:!0}),this._cameraController.deviewCamera(),!0):!1}_onWheelContinue(t,e){if(!this.activeBehaviors.wheel)return!1;const{deltaX:i}=t.wheelState;return W2=!1,i&&!Y2?(W2=!0,this._onWheelStart(t,Co.WHEEL_START),!0):(this.activeBehaviors.wheel.onWheelEvent(t,e),!0)}_onWheelEnd(t,e){return this.activeBehaviors.wheel?(W2=!1,this.activeBehaviors.wheel.onWheelEvent(t,e),this.editor.signals.command.cameraNavigationEnded.dispatch(t.controls.lastOrbitPivot),this.activeBehaviors.wheel=null,this._cameraController.updateEditingCamera(),!0):!1}onKeyboardEvent(t,e){var i,n,o,a,l,c;return(i=this.activeBehaviors.pointer)==null||i.onKeyboardEvent(t,e),(n=this.activeBehaviors.wheel)==null||n.onKeyboardEvent(t,e),e===Ai.KEY_CONTINUE||(this.activeBehaviors.pointer=this.createPointerBehavior(t),(o=this.activeBehaviors.pointer)==null||o.onKeyboardEvent(t,e),(a=this.activeBehaviors.pointer)==null||a.onPointerEvent(t,xt.DRAG_START),e===Ai.KEY_START&&(this.activeBehaviors.wheel=this.createWheelBehavior(t),(l=this.activeBehaviors.wheel)==null||l.onKeyboardEvent(t,e),(c=this.activeBehaviors.wheel)==null||c.onWheelEvent(t,Co.WHEEL_START))),!1}}var w7t=Object.defineProperty,x7t=(s,t,e)=>t in s?w7t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Ka=(s,t,e)=>(x7t(s,typeof t!="symbol"?t+"":t,e),e);const E7t=208,S7t=new Set([L.CAMERA,L.AREA_LIGHT,L.DIRECTIONAL_LIGHT,L.SPOT_LIGHT,L.POINT_LIGHT,L.AREA_LIGHT]);class QH extends Se{constructor(t){super(),this._editor=t,Ka(this,"_sceneController",this._editor.sceneController),Ka(this,"_fileSettingsController",this._editor.fileSettingsController),Ka(this,"_commentController",this._editor.commentController),Ka(this,"_isInteracting",!1),Ka(this,"_selector",new A1(this._editor)),Ka(this,"_nothingSelectedOptions",()=>{var e;return[{id:_t(),text:"Paste",iconRight:sn(de[Me.PASTE].defaultKeys),onClick:()=>wt(Me.PASTE),disabled:!this._sceneController.isAnyCopied},{id:_t(),text:"Show grid",iconLeft:this._fileSettingsController.grid?ps:"",iconRight:sn(de[Zi.GRID].defaultKeys),onClick:()=>wt(Zi.GRID),divideBefore:!0},{id:_t(),text:"Snapping off",iconLeft:this._fileSettingsController.isGridSnapEnabled?"":ps,iconRight:sn(de[co.OFF].defaultKeys),onClick:()=>wt(co.OFF),divideBefore:!0},{id:_t(),text:"Snap to grid",iconLeft:this._fileSettingsController.isGridSnapEnabled&&this._fileSettingsController.isGridSnapAbsolute?ps:"",iconRight:sn(de[co.GRID].defaultKeys),onClick:()=>wt(co.GRID)},{id:_t(),text:"Snap to increment",iconLeft:this._fileSettingsController.isGridSnapEnabled&&!this._fileSettingsController.isGridSnapAbsolute?ps:"",iconRight:sn(de[co.INCREMENT].defaultKeys),onClick:()=>wt(co.INCREMENT)},{id:_t(),text:"Show comments",iconLeft:(e=this._commentController)!=null&&e.shouldShowComments?ps:"",iconRight:sn(de[Dl.TOGGLE_EDITOR_COMMENTS].defaultKeys),onClick:()=>wt(Dl.TOGGLE_EDITOR_COMMENTS),divideBefore:!0},{id:_t(),text:"Show UI",...this._editor.isUIVisible&&{iconLeft:ps},iconRight:sn(de[Dl.TOGGLE_UI].defaultKeys),onClick:()=>wt(Dl.TOGGLE_UI)},{id:_t(),text:"Focus",iconRight:sn(de[Zi.FOCUS].defaultKeys),onClick:()=>wt(Zi.FOCUS),divideBefore:!0},{id:_t(),text:"Select all objects",iconRight:sn(de[Me.SELECT_ALL].defaultKeys),onClick:()=>wt(Me.SELECT_ALL)}]}),Ka(this,"_entitiesSelectedOptions",()=>[{id:_t(),text:"Duplicate",iconRight:sn(de[Me.DUPLICATE].defaultKeys),onClick:()=>wt(Me.DUPLICATE)},{id:_t(),text:"Copy",iconRight:sn(de[Me.COPY].defaultKeys),onClick:()=>wt(Me.COPY)},{id:_t(),text:"Delete",iconRight:sn(de[Me.DELETE].defaultKeys),onClick:()=>wt(Me.DELETE)},{id:_t(),text:"Group",iconRight:sn(de[Me.GROUP].defaultKeys),onClick:()=>wt(Me.GROUP),divideBefore:!0},{id:_t(),text:"Frame",iconRight:sn(de[Me.FRAME].defaultKeys),onClick:()=>wt(Me.FRAME)},{id:_t(),text:"Focus",iconRight:sn(de[Zi.FOCUS].defaultKeys),onClick:()=>wt(Zi.FOCUS)}]),Ka(this,"_ungroupOption",()=>({id:_t(),text:"Ungroup",iconRight:sn(de[Me.UNGROUP].defaultKeys),onClick:()=>wt(Me.UNGROUP),divideBefore:!0})),Ka(this,"_componentOption",()=>({id:_t(),text:de[Me.COMPONENT_CREATE].label,iconRight:sn(de[Me.COMPONENT_CREATE].defaultKeys),onClick:()=>wt(Me.COMPONENT_CREATE),divideBefore:!0})),Ka(this,"_componentInstanceOption",()=>({id:_t(),text:de[Me.COMPONENT_INSTANCE].label,iconRight:sn(de[Me.COMPONENT_INSTANCE].defaultKeys),onClick:()=>wt(Me.COMPONENT_INSTANCE),divideBefore:!0})),Ka(this,"_cameraSelectedOptions",()=>[{id:_t(),text:"Preview",iconRight:sn(de[Dl.VIEW_SELECTED_CAMERA].defaultKeys),onClick:()=>wt(Dl.VIEW_SELECTED_CAMERA),divideAfter:!0},{id:_t(),text:"Duplicate",iconRight:sn(de[Me.DUPLICATE].defaultKeys),onClick:()=>wt(Me.DUPLICATE)},{id:_t(),text:"Copy",iconRight:sn(de[Me.COPY].defaultKeys),onClick:()=>wt(Me.COPY)},{id:_t(),text:"Delete",iconRight:sn(de[Me.DELETE].defaultKeys),onClick:()=>wt(Me.DELETE)}]),Ka(this,"_instanceSelectedOptions",()=>[{id:_t(),text:de[Me.COMPONENT_INSTANCE_UNLINK].label,iconRight:sn(de[Me.COMPONENT_INSTANCE_UNLINK].defaultKeys),onClick:()=>wt(Me.COMPONENT_INSTANCE_UNLINK),divideBefore:!0},{id:_t(),text:"Go to main component",onClick:()=>wt(tm.GO_TO_MAIN_COMPONENT)}]),Ka(this,"_parametricPrimitiveSelectedOptions",[{id:_t(),text:de[Me.APPLY_SCALE].label,iconRight:sn(de[Me.APPLY_SCALE].defaultKeys),onClick:()=>wt(Me.APPLY_SCALE)}]),Ka(this,"_performanceOptions",[{id:_t(),divideBefore:!0,text:de[Qw.VIEW_IN_PERFORMANCE].label,onClick:()=>wt(Qw.VIEW_IN_PERFORMANCE)}])}onPointerEvent(t,e){switch(e){case xt.HOVER:return this._onPointerHover();case xt.CLICK_START:return this._onPointerDown();case xt.CLICK_END:return this._onClick(t);default:return!1}}_onPointerHover(){return this._isInteracting}_onPointerDown(){return this._isInteracting=!1,!1}_onClick(t){if(t.pointerState.lastButton!==Fn.RIGHT)return!1;const e=t.keyState.isCmdOrCtrlDown,i=new Set([Le.SCENE_ENTITY]),n=this._selector.intersect(t.pointerState.pointerNDC,t,e,i);if(n){const{selectedCollection:d}=this._editor.selectionController,{selectable:u}=n;d.has(u)||d.set(u)}const o=this.getContextMenuItems(),a=t.pointerState.pointerVP,l=t.domElement.getClientRects(),c={x:l[0].x??0,y:l[0].y??0},h=E7t;return wm.open({coord:{x:a.x+c.x-h,y:a.y+c.y},option:{width:h,hasIcons:!0,items:o},onCloseCallback:()=>{this._isInteracting=!1}}),this._isInteracting=!0,!0}getContextMenuItems(){const{selectedCollection:t}=this._editor.selectionController;if(t.sceneEntityIds.size>0){let e=[...this._entitiesSelectedOptions()];if(t.sceneEntityIds.size===1){const[n]=t.sceneEntities,o=n.type;o===L.GROUP?e[3]=this._ungroupOption():o===L.CAMERA&&(e=[...this._cameraSelectedOptions()]),n.compo.componentID?n.compo.isRoot&&(n.compo.isInstance?e.push(...this._instanceSelectedOptions()):e.push(this._componentInstanceOption())):e.push(this._componentOption()),n.isParametricShape&&e.push(...this._parametricPrimitiveSelectedOptions),S7t.has(o)||e.push(...this._performanceOptions)}const i=n=>!n.featureFlag||this._editor.featureFlagService.isEnabled(n.featureFlag);return e.filter(i)}else return[...this._nothingSelectedOptions()]}dispose(){wm.close()}}var Pw=(s=>(s.AXIS_NEGATIVE_START="AXIS_NEGATIVE_START",s.AXIS_NEGATIVE_CONTINUE="AXIS_NEGATIVE_CONTINUE",s.AXIS_END="AXIS_END",s.AXIS_POSITIVE_START="AXIS_POSITIVE_START",s.AXIS_POSITIVE_CONTINUE="AXIS_POSITIVE_CONTINUE",s))(Pw||{}),mb=(s=>(s.BUTTON_DOWN="BUTTON_DOWN",s.BUTTON_UP="BUTTON_UP",s.BUTTON_CONTINUE="BUTTON_CONTINUE",s))(mb||{}),I7t=Object.defineProperty,A7t=(s,t,e)=>t in s?I7t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,X2=(s,t,e)=>(A7t(s,typeof t!="symbol"?t+"":t,e),e);class T7t extends Se{constructor(t){super(),this.playController=t,X2(this,"_gamepadController"),X2(this,"_runningActionsIds",{}),X2(this,"_lastLeftButtonsDown",new Set),X2(this,"_lastRightButtonsDown",new Set),this._gamepadController=t.sceneController.gamepadController}get gamepads(){return navigator.getGamepads()}onKeyboardEvent(t,e){if(!this._gamepadController.gamepadCount)return!1;const n=t.keyState.lastEvent.key.replace("Key","");switch(e){case Ai.KEY_START:return this._handleKeyDown(t,n);case Ai.KEY_END:return this._handleKeyUp(t,n)}return!1}onGamepadButtonsEvent(t,e,i){if(!this._gamepadController.gamepadCount)return!1;const n=t.gamepadState.leftButtonsDown,o=t.gamepadState.rightButtonsDown;switch(e){case mb.BUTTON_DOWN:return this._handleGamepadButtonDown(t,i==="right"?o:n,i);case mb.BUTTON_UP:return this._handleGamepadButtonUp(t,i==="right"?o:n,i)}return!1}onGamepadAxesEvent(t,e,i){return!1}_handleKeyDown(t,e){return this._handleActionStart(new Set([e]),new Set([Gr.DESKTOP]),"none")}_handleKeyUp(t,e){return this._handleActionEnd(new Set([e]),new Set([Gr.DESKTOP]),"none")}_handleGamepadButtonDown(t,e,i){if(i==="left"||i==="none"){const n=as.differenceSets(e,this._lastLeftButtonsDown);let o=!1;i==="none"?o=this._handleActionStart(n,new Set([Gr.XBOX]),i):o=this._handleActionStart(n,new Set([Gr.XR]),i);for(const a of n)this._lastLeftButtonsDown.has(a)||this._lastLeftButtonsDown.add(a);return o}else{const n=as.differenceSets(e,this._lastRightButtonsDown),o=this._handleActionStart(n,new Set([Gr.XR]),i);for(const a of n)this._lastRightButtonsDown.has(a)||this._lastRightButtonsDown.add(a);return o}}_handleGamepadButtonUp(t,e,i){if(i==="left"||i==="none"){const n=as.differenceSets(this._lastLeftButtonsDown,e);let o=!1;i==="none"?o=this._handleActionEnd(n,new Set([Gr.XBOX]),i):o=this._handleActionEnd(n,new Set([Gr.XR]),i);for(const a of n)this._lastLeftButtonsDown.delete(a);return o}else{const n=as.differenceSets(this._lastRightButtonsDown,e),o=this._handleActionEnd(n,new Set([Gr.XR]),i);for(const a of n)this._lastRightButtonsDown.delete(a);return o}}_handleActionStart(t,e,i){for(const n of this._gamepadController.gamepadComponents)if(this._runningActionsIds[n.entity.id]==null&&(this._runningActionsIds[n.entity.id]=new Set),!!n.isEnabled){for(const o of n.actions.values)for(const a of o.bindings.values)if(e.has(a.device)&&!(i!=="none"&&(!a.hand||a.hand.toLowerCase()!==i))&&t.has(a.binding)){if(this._runningActionsIds[n.entity.id].has(o.id))continue;return this._runningActionsIds[n.entity.id].add(o.id),this._startInteractionsForObjects(n.entity.id,o,Wt.GAMEPAD_ACTION_START),!0}}return!1}_handleActionEnd(t,e,i){for(const n of this._gamepadController.gamepadComponents)if(this._runningActionsIds[n.entity.id]==null&&(this._runningActionsIds[n.entity.id]=new Set),!!n.isEnabled){for(const o of n.actions.values)for(const a of o.bindings.values)if(e.has(a.device)&&!(i!=="none"&&(!a.hand||a.hand.toLowerCase()!==i))&&t.has(a.binding)&&this._runningActionsIds[n.entity.id].has(o.id))return this._runningActionsIds[n.entity.id].delete(o.id),this._startInteractionsForObjects(n.entity.id,o,Wt.GAMEPAD_ACTION_END),!0}return!1}_startInteractionsForObjects(t,e,i){if(!this.playController.isPublishedMode&&!this.playController.isPlayMode)return!1;const n=Object.keys(this._gamepadInteractionsByAnimatingEntityId);let o=!1;const a=Date.now();for(const l of n){const c=this._getInteractionsForObjectId(l);if(c!=null){const h=as.getEntries(c);for(const[d,{trigger:u}]of h){if(u.type!==te.GAMEPAD||u.event!==i||u.action==null||u.targetEntityIds==null||!u.targetEntityIds.includes(t))continue;const f=u.action;(e.id===f?e:null)!=null&&(i===Wt.GAMEPAD_ACTION_START?(this.playController.startAnimationForInteraction(d,a),o=!0):i===Wt.GAMEPAD_ACTION_END&&(this.playController.startAnimationForInteraction(d,a),o=!0))}}}return o}_getInteractionsForObjectId(t){return t==null?null:this._gamepadInteractionsByAnimatingEntityId[t]}get _gamepadInteractionsByAnimatingEntityId(){return this.playController.rootStore.interactionsStore.gamepadInteractionsByAnimatingEntityId}}var P7t=Object.defineProperty,O7t=(s,t,e)=>t in s?P7t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,M7t=(s,t,e)=>(O7t(s,t+"",e),e);class L7t extends Se{constructor(t){super(),this.playController=t,M7t(this,"_sceneController",this.playController.sceneController)}dispose(){this.disposable.dispose()}onKeyboardEvent(t,e){switch(e){case Ai.KEY_START:return this._onKeyDown(t);case Ai.KEY_END:return this._onKeyUp(t);default:return!1}}_onKeyDown(t){return this._startInteractionsForObjects(t.keyState,Wt.KEY_DOWN)}_onKeyUp(t){return this._startInteractionsForObjects(t.keyState,Wt.KEY_UP)}_startInteractionsForObjects(t,e){const i=Object.keys(this._keyboardInteractionsByAnimatingEntityId);let n=!1;const o=Date.now();for(const a of i){const l=this._getKeyboardInteractionsForObjectId(a);if(l!=null){const c=as.getEntries(l);for(const[h,{trigger:d}]of c){if(d.type!==te.KEYBOARD||d.event!==e||d.key==null)continue;const u=`Key${d.key.toUpperCase()}`;e===Wt.KEY_DOWN?t.keysDown.has(u)&&(this.playController.startAnimationForInteraction(h,o),n=!0):e===Wt.KEY_UP&&t.lastEvent.key===u&&(this.playController.startAnimationForInteraction(h,o),n=!0)}}}return n}_getKeyboardInteractionsForObjectId(t){return t==null?null:this._keyboardInteractionsByAnimatingEntityId[t]}get _keyboardInteractionsByAnimatingEntityId(){return this.playController.rootStore.interactionsStore.keyboardInteractionsByAnimatingEntityId}}var R7t=Object.defineProperty,N7t=(s,t,e)=>t in s?R7t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Uu=(s,t,e)=>(N7t(s,typeof t!="symbol"?t+"":t,e),e);class j7t extends Se{constructor(t,e=L.BOX){super(),this.editor=t,this.type=e,Uu(this,"_pointPicker",new tn(this.editor)),Uu(this,"_sceneController",this.editor.sceneController),Uu(this,"_layerController",this.editor.layerController),Uu(this,"_didMove",!1),Uu(this,"_p1",new w),Uu(this,"_initialButtons",0),Uu(this,"_isInteracting",!1),Uu(this,"_p2",new w),Uu(this,"_measurementGuide"),this.disposable.add(new tt(()=>{var i;this._pointPicker.dispose(),(i=this._measurementGuide)==null||i.dispose()}))}onPointerEvent(t,e){switch(e){case xt.HOVER:return this._onPointerHover(t);case xt.CLICK_START:return this._onPointerDown(t);case xt.DRAG_CONTINUE:return this._onPointerMove(t);case xt.CLICK_END:case xt.DRAG_END:return this._onPointerUp(t);default:return!1}}_onPointerHover(t){if(this._isInteracting)return this._onPointerMove(t);const{pointerNDC:e}=t.pointerState,{intersectionPoint:i}=this._pointPicker.intersect(t,e);return this._p1.copy(i),this._didMove=!1,!0}_onPointerDown(t){return t.pointerState.lastButton!==Fn.LEFT?!1:(this._initialButtons=t.pointerState.buttonsDown,this._isInteracting=!0,!0)}_onPointerMove(t){if(!this._isInteracting||t.pointerState.buttonsDown!==this._initialButtons)return!1;this._didMove=!0;const{pointerNDC:e}=t.pointerState,{intersectionPoint:i}=this._pointPicker.intersect(t,e);return this._p2.copy(i),this.measurementGuide.continue(t,this._p1,this._p2),this.editor.signals.gizmo.changed.dispatch(),!0}_onPointerUp(t){return!this._isInteracting||t.pointerState.lastButton!==Fn.LEFT?!1:(this._didMove&&(this._isInteracting=!1,this._didMove=!1,this.editor.signals.gizmo.measureEnded.dispatch()),this._initialButtons=0,!0)}get measurementGuide(){return this._measurementGuide||(this._measurementGuide=new yn(this.editor,{variant:"Measurement"}),this.editor.helpers.add(this._measurementGuide),this.disposable.add(new tt(()=>{var t;(t=this._measurementGuide)==null||t.dispose()}))),this._measurementGuide}}var D7t=Object.defineProperty,F7t=(s,t,e)=>t in s?D7t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Qv=(s,t,e)=>(F7t(s,typeof t!="symbol"?t+"":t,e),e);class UO extends s3{constructor(t){super(),this.vertex=t,Qv(this,"_position",new w),Qv(this,"_matrix",new Lt),Qv(this,"_bbox",new Us(new w(0,0,0),new w(0,0,0))),Qv(this,"_index"),Qv(this,"_direction",new w),this._index=t.index,this._position.copy(t.position),this._direction.fromArray(t.direction),this._matrix.setPosition(this._position),this.pivotAlignment=i1.BOUNDING_BOX_CENTER}get index(){return this._index}get position(){return this._position}get direction(){return this._direction}get matrixLocal(){return this._matrix}get matrixGlobal(){return this._matrix}set matrixGlobal(t){this._position.setFromMatrixPosition(t),this._matrix.setPosition(this._position),this.vertex.position.copy(this._position)}get boundingBoxLocal(){return this._bbox}get boundingBoxGlobal(){return this._bbox}get isScaleLinked(){return!1}}function JH(s){const t=[];for(const[e,i]of s)for(const n of e)t.push(n.add(i));return new tt(()=>{for(const e of t)e.detach()})}var B7t=Object.defineProperty,k7t=(s,t,e)=>t in s?B7t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Z2=(s,t,e)=>(k7t(s,typeof t!="symbol"?t+"":t,e),e);class G7t extends t8{constructor(t){super(t),Z2(this,"_meshPosition",new w),Z2(this,"_meshRotation",new ke),Z2(this,"_meshScale",new w),Z2(this,"_coordinateSpace",Xp.LOCAL);const e=this.editor.meshController.meshComponent;e&&e.mesh.matrixWorld.decompose(this._meshPosition,this._meshRotation,this._meshScale),this.disposable.add(this._watch()),this.disposable.add(this._addSignalBindings())}_watch(){const t=Gn(()=>this.editor.sceneController.coordinateSpace,e=>{var i;((i=this._compositeGizmo)==null?void 0:i.target)!=null&&(this._compositeGizmo.target.coordinateSpace=e,this.editor.signals.gizmo.changed.dispatch())});return new tt(()=>{t()})}_addSignalBindings(){return JH([[[this.editor.signals.command.activeToolChanged,this.editor.signals.selection.selectionChanged],()=>this._setGizmo()]])}_setGizmo(){if(this.editor.meshController.mesh){if(this.editor.selectionController.selectedCollection.meshParts.length===0){this._removeGizmo();return}this._compositeGizmo||(this._compositeGizmo=this._addGizmo(this.editor.activeTool.id)),At.USE_WASM_MESH?this.setGizmoTargetWasm():this.setGizmoTarget(),this.editor.signals.gizmo.changed.dispatch()}}onPointerEvent(t,e){switch(t.pointerState.lastPointerEventType){case xt.CLICK_END:case xt.DRAG_END:return this.onPointerUp(t);case xt.DRAG_CONTINUE:return this.onPointerDrag(t);default:return super.onPointerEvent(t,e)}}setGizmoTarget(){if(!this.editor.meshController.mesh||!this._compositeGizmo)return;const t=[];this.editor.selectionController.selectedCollection.vertices.forEach(o=>t.push(o)),this.editor.selectionController.selectedCollection.edges.forEach(o=>t.push(...o.vertices())),this.editor.selectionController.selectedCollection.faces.forEach(o=>t.push(...o.vertices()));const e=new Set([...t]),i=[];e.forEach(o=>{const a=new UO(o);i.push(a)});const n=new d_(i);n.matrixLocal=new Lt().makeRotationFromQuaternion(this._meshRotation),n.coordinateSpace=this._coordinateSpace,n.pivotAlignment=i1.BOUNDING_BOX_CENTER,this._compositeGizmo.target=n}setGizmoTargetWasm(){if(!this._compositeGizmo||!this.editor.meshController.view)return;const t=this.editor.meshController.view.getSelectedIndexedVertices(),e=[];t.forEach(n=>{const o=new UO(n);e.push(o)});const i=new d_(e);i.matrixLocal=new Lt().makeRotationFromQuaternion(this._meshRotation),i.coordinateSpace=this._coordinateSpace,i.pivotAlignment=i1.BOUNDING_BOX_CENTER,this._compositeGizmo.target=i}onPointerDrag(t){if(!super.onPointerDrag(t))return!1;if(At.USE_WASM_MESH){if(!this._compositeGizmo)return!1;this.editor.meshController.updateVertexPositionsStep(this._compositeGizmo.target)}else this.editor.meshController.updateLocally();return!0}onPointerUp(t){return super.onPointerUp(t)?(At.USE_WASM_MESH&&this.editor.meshController.updateVertexPositions(),this.editor.meshController.update(),this.editor.meshController.updateSelectionHighlight(this.editor.selectionController.selectedCollection),this.editor.signals.mesher.interactionEnded.dispatch(),!0):!1}}var $H=Object.defineProperty,V7t=Object.getOwnPropertyDescriptor,H7t=(s,t,e)=>t in s?$H(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,g3=(s,t,e,i)=>{for(var n=V7t(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&$H(t,e,n),n},zO=(s,t,e)=>(H7t(s,typeof t!="symbol"?t+"":t,e),e);class bm extends s3{constructor(t,e){super(),this.editor=t,this._sceneEntity=e,zO(this,"_boundingBoxGlobal",new Us),zO(this,"_initialMatrixGlobal",new Lt),vt(this)}get matrixLocal(){return this._sceneEntity.transform.matrixLocal.clone()}get matrixGlobal(){return this._sceneEntity.transform.matrixGlobal.clone()}set matrixGlobal(t){this._sceneEntity.transform.setMatrix(t)}get boundingBoxLocal(){return this._sceneEntity.boundingBox}get boundingBoxGlobal(){const t=this._sceneEntity;return new Qn(t.transform.matrixLocal).to(Qn.GLOBAL_COORDINATE_SYSTEM).convertBoundingBox(t.boundingBox,this._boundingBoxGlobal),this._boundingBoxGlobal}get isScaleLinked(){return this._sceneEntity.transform.isScaleLinked}get isComponent(){const{sceneEntityIds:t}=this.editor.selectionController.selectedCollection;if(t.size>1)return!1;const{firstSelectedSceneEntity:e}=this.editor.selectionController;return e&&e.compo.componentID}get isLookAtable(){return this._sceneEntity.hasDirection}get spatialSounds(){const t=this._sceneEntity.getComponent(b1);return t?[...t.soundComponents.values()].filter(e=>e.soundType===nr.SPATIAL):[]}get isScaleCageable(){return this._sceneEntity.hasValidBounds}get isResizable(){return this._sceneEntity.hasResizableParameters}get size(){return this._sceneEntity.size}set size(t){this._sceneEntity.size=t}_buildActionPayload(){const t=this._sceneEntity.isFrame?P.FRAME_CONSTRAIN_CHILDREN:P.PARAMETERS_TRANSFORM,e=Array.from(this.editor.selectionController.selectedCollection.sceneEntities).filter(i=>!i.isEffectivelyPreviewing).map(i=>i.transform);return{action:t,selection:e}}onBeginInteraction(t){this._initialMatrixGlobal.copy(this.matrixGlobal),this.editor.selectionController.setIsTransformingSelection(!0),!(t!=null&&t.duplicatedOnTransform)&&(this._sceneEntity.isEffectivelyPreviewing||this.editor.stateController.recordBefore(this._buildActionPayload()))}onContinueInteraction(t){t!=null&&t.duplicatedOnTransform||this._sceneEntity.isEffectivelyPreviewing||this.editor.stateController.signals.transform.dispatch(this._buildActionPayload())}onEndInteraction(t){t!=null&&t.duplicatedOnTransform||this._sceneEntity.isEffectivelyPreviewing||this.editor.stateController.recordAfter(this._buildActionPayload())}get initialMatrixGlobal(){return this._initialMatrixGlobal}}g3([M.struct],bm.prototype,"matrixLocal");g3([M.struct],bm.prototype,"matrixGlobal");g3([M],bm.prototype,"boundingBoxLocal");g3([M.struct],bm.prototype,"boundingBoxGlobal");var U7t=Object.defineProperty,z7t=(s,t,e)=>t in s?U7t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,yr=(s,t,e)=>(z7t(s,typeof t!="symbol"?t+"":t,e),e);class Y7t extends Se{constructor(t){super(),this.editor=t,yr(this,"_pointPicker",new tn(this.editor)),yr(this,"_sceneController",this.editor.sceneController),yr(this,"_layerController",this.editor.layerController),yr(this,"signals",this.editor.signals),yr(this,"_target",null),yr(this,"_selectBehavior",new T1(this.editor)),yr(this,"_isInteracting",!1),yr(this,"_p1",new w),yr(this,"_didMove",!1),yr(this,"_p2",new w),yr(this,"_delta",new w),yr(this,"_newMatrixGlobal",new Lt),yr(this,"_deltaMatrix",new Lt),yr(this,"_wasSelectionEmpty",!1),yr(this,"_initialButtons",0),yr(this,"_initialMatrixGlobal",new Lt),yr(this,"_measurementGuide"),this.disposable.add(new tt(()=>{this._pointPicker.dispose(),this._selectBehavior.dispose(),this.editor.selectionController.setIsTransformingSelection(!1)})),this.watch()}watch(){[].push(Gn(()=>{const{sceneEntities:e}=this.editor.selectionController.selectedCollection;return e},e=>{if(e.size===1){const[i]=e,n=new bm(this.editor,i);this._target=n}else{const i=[];for(const o of e){const a=new bm(this.editor,o);i.push(a)}const n=new d_(i);this._target=n}},{fireImmediately:!0}))}onPointerEvent(t,e){switch(e){case xt.HOVER:return this._onPointerHover(t,e);case xt.CLICK_START:return this._onPointerDown(t,e);case xt.DRAG_CONTINUE:return this._onPointerMove(t);case xt.CLICK_END:case xt.DRAG_END:return this._onPointerUp(t);default:return!1}}_onPointerHover(t,e){if(this._selectBehavior.onPointerEvent(t,e),this._isInteracting)return this._onPointerMove(t);const i=t.planeSnapper.plane;this._pointPicker.intersectionPlane.normal.copy(i.normal);const{intersectionPoint:n}=this._pointPicker.intersect(t,t.pointerState.pointerNDC);return this._p1.copy(n),!!this.editor.selectionController.hoveredCollection.sceneEntityIds.size}_onPointerMove(t){if(!this._isInteracting||t.pointerState.buttonsDown!==this._initialButtons||this._target==null)return!1;this._didMove=!0;const{pointerNDC:e}=t.pointerState;this._pointPicker.referencePoint.copy(this._p1),this._pointPicker.shouldExcludeSelection=!0;const i=t.planeSnapper.plane;this._pointPicker.intersectionPlane.normal.copy(i.normal);const{intersectionPoint:n}=this._pointPicker.intersect(t,e);return this._target==null?!1:(this._p2.copy(n),this._delta.copy(this._p2).sub(this._p1),this._deltaMatrix.makeTranslation(...this._delta.toArray()),this._newMatrixGlobal.copy(this._deltaMatrix).multiply(this._initialMatrixGlobal),this._target.matrixGlobal=this._newMatrixGlobal,this._target.onContinueInteraction(),this.measurementGuide.continue(t,this._p1,this._p2),this.editor.signals.object.moved.dispatch({pointStart:this._p1,pointEnd:this._p2}),!0)}_onPointerDown(t,e){if(t.pointerState.lastButton!==Fn.LEFT)return!1;if(this._isInteracting)return!0;const{selectedCollection:i}=this.editor.selectionController;return i.sceneEntityIds.size||(this._wasSelectionEmpty=!0,this._selectBehavior.onPointerEvent(t,e),this._selectBehavior.onPointerEvent(t,xt.CLICK_END)),!i.sceneEntityIds.size||this._target==null?!1:(this._initialButtons=t.pointerState.buttonsDown,this._isInteracting=!0,this._target.onBeginInteraction(),this._initialMatrixGlobal.copy(this._target.matrixGlobal),this._pointPicker.addGlobalAxisSnappers(this._p1),!0)}_onPointerUp(t){var e;return!this._isInteracting||t.pointerState.lastButton!==Fn.LEFT?!1:(this._initialButtons=0,this._didMove?(this._didMove=!1,this._isInteracting=!1,this.editor.selectionController.setIsTransformingSelection(!1),(e=this.measurementGuide)==null||e.text.onEnd(),this.editor.signals.object.moveEnded.dispatch(),this._target==null?!1:(this._target.onEndInteraction(),this._wasSelectionEmpty&&(this.editor.selectionController.selectedCollection.removeAll(),this._wasSelectionEmpty=!1),!0)):!0)}get measurementGuide(){return this._measurementGuide||(this._measurementGuide=new yn(this.editor,{variant:"Direction",textOverlayOptions:{shouldIndicateEditable:!0}}),this.editor.helpers.add(this._measurementGuide),this._measurementGuide.changed.add(t=>{this._pointPicker.lengthRestriction=t}),this.editor.helpers.add(this._measurementGuide),this.disposable.add(new tt(()=>{var t;(t=this._measurementGuide)==null||t.dispose()}))),this._measurementGuide}}var W7t=Object.defineProperty,X7t=(s,t,e)=>t in s?W7t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,RS=(s,t,e)=>(X7t(s,typeof t!="symbol"?t+"":t,e),e);class Z7t extends Se{constructor(){super(...arguments),RS(this,"behaviors",[]),RS(this,"_targetBehaviorTypes",[]),RS(this,"activeBehaviors",{pointer:null,wheel:null})}get targetBehaviorTypes(){return this._targetBehaviorTypes}set targetBehaviorTypes(t){this._targetBehaviorTypes=t}get targetBehaviors(){if(this.targetBehaviorTypes.length===0)return this.behaviors;const t=[];for(const e of this.targetBehaviorTypes){const i=this.findBehavior(e);i&&t.push(i)}return t}findBehavior(t){return this.behaviors.find(e=>e instanceof t)}onPointerEvent(t,e){switch(e){case xt.CLICK_START:return this.targetBehaviors.some(i=>i.onPointerEvent(t,e)?(this.activeBehaviors.pointer=i,!0):!1);case xt.CLICK_END:case xt.DRAG_END:this.activeBehaviors.pointer=null;break}return this.targetBehaviors.some(i=>i.onPointerEvent(t,e))}onWheelEvent(t,e){var i;switch(e){case Co.WHEEL_START:return this.targetBehaviors.some(n=>n.onWheelEvent(t,e)?(this.activeBehaviors.wheel=n,!0):!1);case Co.WHEEL_CONTINUE:if(!this.activeBehaviors.wheel)return!1;(i=this.activeBehaviors.pointer)==null||i.onPointerEvent(t,xt.DRAG_CONTINUE);break;case Co.WHEEL_END:this.activeBehaviors.wheel=null;break}return this.targetBehaviors.some(n=>n.onWheelEvent(t,e))}onKeyboardEvent(t,e){return this.targetBehaviors.some(i=>i.onKeyboardEvent(t,e))}onXRControllersUpdate(t,e,i){return this.targetBehaviors.some(n=>n.onXRControllersUpdate(t,e,i))}onXRControllerEvent(t){return this.targetBehaviors.some(e=>e.onXRControllerEvent(t))}onColliderEvent(t){return this.behaviors.some(e=>e.onColliderEvent(t))}onGamepadButtonsEvent(t,e,i){return this.targetBehaviors.some(n=>n.onGamepadButtonsEvent(t,e,i))}onGamepadAxesEvent(t,e,i){return this.targetBehaviors.some(n=>n.onGamepadAxesEvent(t,e,i))}}const Uc={ARE_COLLIDERS_RAYCASTABLE:"are-colliders-raycastable",ARE_BOOLEANS_ENABLED:"are-booleans-enabled",ARE_SUBDIVISIONS_ENABLED:"are-subdivisions-enabled",IS_ASSET_VIEWER_ENABLED:"is-asset-viewer-enabled",IS_CHARACTER_PHYSICS_ENABLED:"is-character-physics-enabled"};var K7t=Object.defineProperty,q7t=(s,t,e)=>t in s?K7t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Sp=(s,t,e)=>(q7t(s,typeof t!="symbol"?t+"":t,e),e);const Q7t={selectstart:Wt.POINTER_DOWN,selectend:Wt.POINTER_UP};class J7t extends Se{constructor(t){var i;super(),this.playController=t,Sp(this,"_picker"),Sp(this,"_layerController",this.playController.layerController),Sp(this,"_sceneController",this.playController.sceneController),Sp(this,"_animationController",this.playController.animationController),Sp(this,"_lastHoveredObjectIds",new Set),Sp(this,"_currentHoveredObjectIds",new Set),Sp(this,"_reactionDisposers",[]),Sp(this,"_lastRay",null),this._picker=new eC(t,this._layerController.playIntersectable);const e=(i=t.viewportController.mainViewport)==null?void 0:i.camera;e!=null&&this._picker.setCamera(e)}dispose(){for(const t of this._reactionDisposers)t&&t();this.disposable.dispose()}onPointerEvent(t,e){switch(e){case xt.OVER_START:return this._onPointerOver(t);case xt.HOVER:return this._onPointerHover(t);case xt.DOUBLE_CLICK_START:case xt.CLICK_START:return this._onPointerDown(t);case xt.CLICK_END:return this._onPointerUp(t);default:return!1}}_onPointerOver(t){this._currentHoveredObjectIds.clear();const{pointerNDC:e}=t.pointerState,i=this._getIntersectingObjects(e,this._sceneController.interactiveObjects,t),n=this._startInteractionsForObjects(i,Wt.HOVER_OUTSIDE);return this._startInteractionsForObjects(i,Wt.HOVER_INSIDE)||n}_onPointerHover(t){this._currentHoveredObjectIds.clear();const{pointerNDC:e}=t.pointerState,i=this._getIntersectingObjects(e,this._sceneController.interactiveObjects,t),n=this._startInteractionsForObjects(i,Wt.HOVER_OUTSIDE);return this._startInteractionsForObjects(i,Wt.HOVER_INSIDE)||n}_onPointerDown(t){if(t.pointerState.lastButton!==Fn.LEFT)return!1;const{pointerNDC:e}=t.pointerState;return this._startInteractionsForPointerEvent(t,e,Wt.POINTER_DOWN)}_onPointerUp(t){const{pointerNDC:e}=t.pointerState;return this._startInteractionsForPointerEvent(t,e,Wt.POINTER_UP)}onXRControllersUpdate(t,e,i){const{interactiveObjects:n}=this._sceneController,o=[];for(const a of e){if(t.xrState.lastEvent==null)break;if(a instanceof OV)continue;const l=this._getIntersectingObjectsFromXRInput(a,n,i,t.xrState.lastEvent.type);o.push(...l)}return this._currentHoveredObjectIds.clear(),this._startInteractionsForObjects(o,Wt.HOVER_OUTSIDE),this._startInteractionsForObjects(o,Wt.HOVER_INSIDE),!1}onXRControllerEvent(t){const{type:e}=t.xrState.lastEvent,i=Q7t[e];return i!=null?this._handleXRTrigger(t,i):!1}_handleXRTrigger(t,e){const{xrState:i}=t,{frame:n,xrController:o,type:a}=i.lastEvent,l=this._getIntersectingObjectsFromXRInput(o,this._sceneController.interactiveObjects,n,a);return l.length<=0?!1:this._startInteractionsForObjects(l,e)}_startInteractionsForPointerEvent(t,e,i){const n=this._getIntersectingObjects(e,this._sceneController.interactiveObjects,t);return this._startInteractionsForObjects(n,i)}_startInteractionsForObjects(t,e){for(const c of t)c.userData.id!=null&&this._currentHoveredObjectIds.add(c.userData.id);const i=[...this._lastHoveredObjectIds].filter(c=>!this._currentHoveredObjectIds.has(c)),n=e===Wt.HOVER_OUTSIDE?i:t.map(c=>c.userData.id);let o=!1,a=!1;const l=Date.now();for(const c of n){const h=this._getPointerInteractionsForObjectId(c);if(h!=null){const d=as.getEntries(h);for(const[u,{trigger:f}]of d)f.event===e&&(a=this.playController.startAnimationForInteraction(u,l)||a,e===Wt.HOVER_OUTSIDE&&a&&this._lastHoveredObjectIds.delete(c),o=!0)}}for(const c of this._currentHoveredObjectIds)this._lastHoveredObjectIds.add(c);return o&&a}_getPointerInteractionsForObjectId(t){return t==null?null:this._pointerInteractionsByTriggerEntityId[t]}_getIntersectingObjects(t,e,i){i.camera.updateProjectionMatrix(),i.camera.updateMatrixWorld();const n=this.playController.featureFlagService.isEnabled(Uc.ARE_COLLIDERS_RAYCASTABLE);this._picker.setFromViewport(t,i);const o=this._picker.intersectSingleObject(e,!0,n);if(!o)return[];if(this._isIntersectionClipped(o)){const l=e.filter(c=>c!==o.object);if(l.length<e.length)return this._getIntersectingObjects(t,l,i)}return this._getObjectsWithParents(o.object)}_getIntersectingObjectsFromXRInput(t,e,i,n){var c;const o=this._lastRay&&n==="selectend"?this._lastRay:t.getIntersectionRay(i);if(!o)return[];n==="selectstart"&&((c=t.inputSource)==null?void 0:c.targetRayMode)==="screen"&&(this._lastRay=o);const a=this.playController.featureFlagService.isEnabled(Uc.ARE_COLLIDERS_RAYCASTABLE);this._picker.setFromPositionAndDirection(o.origin,o.direction);const l=this._picker.intersectSingleObject(e,!0,a);if(l&&this._isIntersectionClipped(l)){const d=e.filter(u=>u!==l.object);if(d.length<e.length)return this._getIntersectingObjectsFromXRInput(t,d,i,n)}return t.onIntersectionChanged(l),l?this._getObjectsWithParents(l.object):[]}_getObjectsWithParents(t){const e=[t];let i=t.parent;for(;i!=null;)e.push(i),i=i.parent;return e}_isIntersectionClipped(t){const i=t.object.userData.id,n=this._sceneController.getSceneEntityById(i),o=(n==null?void 0:n.getComponentsInParents(Cn))??[];for(const a of o){if(!a.parameters.isClippingEnabled)continue;if(!a.clippingPlanes.every(h=>{const d=h.distanceToPoint(t.point);return d>0||Qs(d)}))return!0}return!1}get _pointerInteractionsByTriggerEntityId(){return this.playController.rootStore.interactionsStore.pointerInteractionsByTriggerEntityId}}var $7t=Object.defineProperty,tAt=(s,t,e)=>t in s?$7t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,YO=(s,t,e)=>(tAt(s,typeof t!="symbol"?t+"":t,e),e);class so extends Se{constructor(t,e=!1,i=it.SELECT){super(),this._commandCenterController=t,this._shouldRepeat=e,this._defaultToolCommand=i,YO(this,"_spaceKeyDownTime",0),YO(this,"_didInteractWithPointer",!1)}onPointerEvent(t,e){switch(e){case xt.CLICK_START:return this._onPointerEvent();default:return!1}}onWheelEvent(t,e){switch(e){case Co.WHEEL_START:return this._onPointerEvent();default:return!1}}onKeyboardEvent(t,e){if(jG())return!1;const{key:i}=t.keyState.lastEvent;if(e===Ai.KEY_CONTINUE)return!1;const n=e!==Ai.KEY_END;switch(i){case"Space":if(n)this._spaceKeyDownTime=t.keyState.lastEvent.timeMS,this._didInteractWithPointer=!1;else{if(this._didInteractWithPointer||t.keyState.areKeysDown||t.wheelState.isScrolling||t.pointerState.arePointersDown||!(t.keyState.lastEvent.timeMS-this._spaceKeyDownTime<=500))return!1;this._shouldRepeat&&this._commandCenterController!=null?this._commandCenterController.repeat():wt(this._defaultToolCommand)}return!1}return!1}_onPointerEvent(){return this._didInteractWithPointer=!0,!1}}var eAt=Object.defineProperty,sAt=(s,t,e)=>t in s?eAt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,WO=(s,t,e)=>(sAt(s,typeof t!="symbol"?t+"":t,e),e);class iAt extends t8{constructor(t){super(t),WO(this,"_queuedDuplicatedIds"),WO(this,"_queuedCompleteAltDuplicate",!1),this.disposable.add(this._watch()),this.disposable.add(this._addSignalBindings())}_watch(){const t=Gn(()=>this.editor.sceneController.coordinateSpace,e=>this._setCoordinateSpace(e));return new tt(()=>{t()})}_addSignalBindings(){return JH([[[this.editor.signals.command.activeToolChanged,this.editor.signals.selection.selectionChanged,this.editor.signals.selection.editCameraChanged,this.editor.stateController.signals.duplicateAndTransform],()=>this._setGizmo()]])}onPointerEvent(t,e){switch(t.pointerState.lastPointerEventType){case xt.CLICK_START:return this.onPointerDown(t);case xt.CLICK_END:case xt.DRAG_END:return this.onPointerUp(t);default:return super.onPointerEvent(t,e)}}async _runAsyncDuplicate(){const t=await this.editor.sceneController.duplicateSelectedItemsFromAltDrag();t&&(this._queuedDuplicatedIds=t,this._queuedCompleteAltDuplicate&&(this._completeAltDuplicationAction(),this._queuedCompleteAltDuplicate=!1,this._queuedDuplicatedIds=void 0))}_completeAltDuplicationAction(){this._queuedDuplicatedIds&&(this.editor.stateController.signals.duplicateAndTransform.dispatch({action:P.DUPLICATE_AND_TRANSFORM,ids:this._queuedDuplicatedIds}),this.editor.stateController.recordAfter({action:P.DUPLICATE_AND_TRANSFORM}),this._duplicationEventOngoing=!1)}_setCoordinateSpace(t){var e;((e=this._compositeGizmo)==null?void 0:e.target)!=null&&(this._compositeGizmo.target.coordinateSpace=t,this.editor.signals.gizmo.changed.dispatch())}_setGizmo(){var i;(i=this._compositeGizmo)==null||i.disposeTarget();const t=this.editor.selectionController.selectedCollection.sceneEntities,{currentSelectableTypes:e}=this.editor.selectionController;if(t.size===0||!e.has(Le.SCENE_ENTITY)){this._removeGizmo();return}else this._compositeGizmo||(this._compositeGizmo=this._addGizmo(this.editor.activeTool.id));if(t.size===1){const[n]=t,o=new bm(this.editor,n);if(o.pivotAlignment=i1.OBJECT_ORIGIN,o.coordinateSpace=this.editor.sceneController.coordinateSpace,this._compositeGizmo.target=o,n.type===L.CAMERA){const a=this.editor.sceneController.cameraController.viewedCameraId,l=this.editor.sceneController.cameraController.editedCameraId,c=n.getComponent(So);(c.entity.id===a||c.entity.id===l)&&this._removeGizmo()}}else{const n=[];for(const a of t){const l=new bm(this.editor,a);n.push(l)}const o=new d_(n);o.pivotAlignment=i1.BOUNDING_BOX_CENTER,o.coordinateSpace=this.editor.sceneController.coordinateSpace,this._compositeGizmo.target=o}}onPointerDown(t){return!this._compositeGizmo||t.pointerState.lastButton!==Fn.LEFT||(this._activeSubGizmo||this.onPointerHover(t),!this._activeSubGizmo||!this._intersection)?!1:(t.keyState.isAltDown&&!this._duplicationEventOngoing&&this._activeSubGizmo.canDuplicate&&(this._duplicationEventOngoing=!0,this._runAsyncDuplicate()),super.onPointerDown(t))}onPointerUp(t){const e=super.onPointerUp(t);return this._queuedDuplicatedIds?(this._completeAltDuplicationAction(),this._queuedDuplicatedIds=void 0):this._duplicationEventOngoing&&(this._queuedCompleteAltDuplicate=!0),e}}var nAt=Object.defineProperty,oAt=(s,t,e)=>t in s?nAt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Ip=(s,t,e)=>(oAt(s,typeof t!="symbol"?t+"":t,e),e);class tU extends Se{constructor(t,e,i=!1,n=it.SELECT){super(),this.editor=t,this._object=e,this._shouldDuplicate=i,this._nextTool=n,Ip(this,"_pointPicker",new tn(this.editor)),Ip(this,"_interaction",null),Ip(this,"_objID",""),Ip(this,"_referenceLine",new a3(Te.lineMaterials.dashedLineMaterial)),Ip(this,"_processingPlacement",!1),Ip(this,"_hoverPoint",new w),Ip(this,"_interactionPlane",new Be(vi.clone())),Ip(this,"_initialButtons",0),t.helpers.add(this._referenceLine),this.disposable.add(new tt(()=>{var o;this._pointPicker.dispose(),this.editor.helpers.remove(this._referenceLine),(o=this._interaction)==null||o.dispose(),this.editor.selectionController.setIsTransformingSelection(!1)}))}get pointPicker(){return this._pointPicker}onPointerEvent(t,e){switch(e){case xt.HOVER:return this.onPointerHover(t);case xt.CLICK_START:return this._onPointerDown(t);case xt.DRAG_CONTINUE:return this._onPointerDrag(t);case xt.CLICK_END:case xt.DRAG_END:return this._onPointerUp(t);default:return!1}}onPointerHover(t,e){if(!this._interaction){const i=t.planeSnapper.plane;this._pointPicker.intersectionPlane.normal.copy(i.normal),this._interactionPlane.normal.copy(i.normal);const{pointerNDC:n}=t.pointerState,{intersectionPoint:o}=this._pointPicker.intersect(t,n);return this._hoverPoint.copy(o),this.editor.signals.gizmo.changed.dispatch(),this.editor.signals.object.drawContinued.dispatch({intersectionPlane:this._interactionPlane,boundsStart:o,boundsEnd:o}),e&&(e.x=this._hoverPoint.x,e.y=this._hoverPoint.y,e.z=this._hoverPoint.z),!0}return this._onMouseMove(t)}_onPointerDown(t){return t.pointerState.lastButton!==Fn.LEFT?!1:(this._initialButtons=t.pointerState.buttonsDown,this._interaction||this.createAndSelectMesh(),!0)}_onPointerDrag(t){return t.pointerState.buttonsDown!==this._initialButtons||!this._interaction?!1:this._onMouseMove(t)}_onPointerUp(t){return!(!this._interaction||t.pointerState.lastButton!==Fn.LEFT)}_onMouseMove(t){if(!this._interaction)return!1;this._interaction.continueInteraction(t,this._objID,t.camera);const e=this.editor.sceneController.getSceneEntityById(this._objID);return e==null||e.transform.setScale({x:1,y:1,z:1}),this.editor.signals.gizmo.changed.dispatch(),!0}async createAndSelectMesh(){this._processingPlacement||(this._isGenAIModel(this._object)?await this._placeGenAIModel(this._object):await this._placeAsset(this._object))}async _placeAsset(t){const e={x:this._hoverPoint.x,y:this._hoverPoint.y,z:this._hoverPoint.z};be.open({id:_t(),icon:r.jsx(ko,{}),text:`Loading "${t.name}"...`,options:{autoHide:!1}}),await this.editor.componentsController.addInstanceFromLibrary(t,e),be.open({id:_t(),text:`"${t.name}" placed`}),this._processingPlacement=!1,this.onPlaceComplete()}async _placeGenAIModel(t){if(!t.modelUrl)return;const e={x:this._hoverPoint.x,y:this._hoverPoint.y,z:this._hoverPoint.z},i=t.input??"model";be.open({id:_t(),icon:r.jsx(ko,{}),text:`Loading "${i}"...`,options:{autoHide:!1}}),this._processingPlacement=!1;const n=await xs(t.modelUrl);if(!n)return;new qb(this.editor.sceneController).loadFileFromUrl(n,t.input??"model",os.glb,_t(),!0,a=>{be.open({id:_t(),text:`"${i}" uploaded.`,options:{type:qn.SUCCESS}})},e,!0),this.onPlaceComplete()}onPlaceComplete(){wt(this._nextTool)}_isGenAIModel(t){return t.modelUrl!=null}}var rAt=Object.defineProperty,aAt=(s,t,e)=>t in s?rAt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,lAt=(s,t,e)=>(aAt(s,t+"",e),e);const{tool:_s}=R;class bi extends Z7t{constructor(t,e){super(),this.editor=t,this.id=e,this.disposable.add(this.bindToolOptionsKeys(t.accessController))}dispose(){super.dispose();for(const t of this.behaviors)t.dispose()}get toolOptionShortcuts(){switch(this.id){case it.SELECT:return Me;case it.MESH_SELECT:case it.EXTRUDE:case it.INSET:case it.BEVEL:case it.LOOP_CUT:return zl;case it.PEN:return JI;case it.LINE:return $I;case it.CURVE_EDIT:return g5;default:return{}}}bindToolOptionsKeys(t){return this.editor.commandController.addKeyListeners(document.body,Object.values(this.toolOptionShortcuts),!1,t)}onActivated(){for(const t of this.behaviors)t.init()}}class x8 extends bi{constructor(t){super(t,null)}}class q6 extends bi{constructor(t,e){super(t,e??_s.SELECT),this.editor=t,this.behaviors.push(new KV(t.commentController)),t.accessController.hasAccessOf(Z.VIEWER)&&this.behaviors.push(new QH(t)),t.accessController.hasAccessOf(Z.EDITOR)&&this.behaviors.push(new iAt(t)),this.behaviors.push(new s8(t)),this.behaviors.push(new so(t.commandCenterController,!0)),this.behaviors.push(new T1(t)),this.behaviors.push(new mV(t)),t.accessController.hasAccessOf(Z.EDITOR)&&this.behaviors.push(new K3t(t)),this.behaviors.push(new Li(t)),this.behaviors.push(new cd(t)),this.behaviors.push(new RV(t)),this.behaviors.push(new b8(t)),this.behaviors.push(new C8(t))}onActivated(){super.onActivated(),this.editor.selectionController.setSelectableTypes(Le.SCENE_ENTITY)}}class cAt extends bi{constructor(t){super(t,_s.SELECT_TARGET),this.editor=t,this.behaviors.push(new s8(t)),this.behaviors.push(new so(t.commandCenterController,!0)),this.behaviors.push(new T1(t)),this.behaviors.push(new mV(t)),this.behaviors.push(new Li(t)),this.behaviors.push(new cd(t))}onActivated(){super.onActivated(),this.editor.selectionController.setSelectableTypes(Le.SCENE_ENTITY)}}class hAt extends bi{constructor(t){super(t,_s.MEASURE),this.behaviors.push(new so(t.commandCenterController)),this.behaviors.push(new j7t(t)),this.behaviors.push(new T1(t)),this.behaviors.push(new Li(t))}}class dAt extends bi{constructor(t){super(t,_s.MOVE),this.editor=t,this.behaviors.push(new so(t.commandCenterController)),this.behaviors.push(new Y7t(t)),this.behaviors.push(new Li(t))}}class Yf extends bi{constructor(t,e,i){super(t,e),this.editor=t,this.behaviors.push(new so(t.commandCenterController)),this.behaviors.push(i),this.behaviors.push(new Li(t))}}class uAt extends Yf{constructor(t){super(t,_s.PLANE,new Y6t(t))}}class fAt extends Yf{constructor(t){super(t,_s.BOX,new JSt(t))}}class pAt extends Yf{constructor(t){super(t,_s.SPHERE,new wIt(t))}}class mAt extends Yf{constructor(t){super(t,_s.CYLINDER,new z4t(t))}}class gAt extends Yf{constructor(t){super(t,_s.CONE,new R4t(t))}}class _At extends Yf{constructor(t){super(t,_s.CONE,new e6t(t))}}class vAt extends Yf{constructor(t){super(t,_s.FRAME,new p6t(t))}}class yAt extends Yf{constructor(t){super(t,_s.TEXT,new VIt(t))}}class bAt extends Yf{constructor(t){super(t,_s.HUMAN,new P6t(t))}}class CAt extends bi{constructor(t){super(t,_s.XRRIG),this.behaviors.push(new so(t.commandCenterController)),this.behaviors.push(new USt(t)),this.behaviors.push(new Li(t))}}class wAt extends bi{constructor(t){super(t,_s.POINT_LIGHT),this.editor=t,this.behaviors.push(new so(t.commandCenterController)),this.behaviors.push(new oIt(t)),this.behaviors.push(new Li(t))}}class xAt extends bi{constructor(t){super(t,_s.AREA_LIGHT),this.editor=t,this.behaviors.push(new so(t.commandCenterController)),this.behaviors.push(new RSt(t)),this.behaviors.push(new Li(t))}}class EAt extends bi{constructor(t){super(t,_s.SPOT_LIGHT),this.editor=t,this.behaviors.push(new so(t.commandCenterController)),this.behaviors.push(new DIt(t)),this.behaviors.push(new Li(t))}}class SAt extends bi{constructor(t){super(t,_s.SPOT_LIGHT),this.editor=t,this.behaviors.push(new so(t.commandCenterController)),this.behaviors.push(new q4t(t)),this.behaviors.push(new Li(t))}}class IAt extends bi{constructor(t){super(t,_s.GAMEPAD),this.behaviors.push(new so(t.commandCenterController)),this.behaviors.push(new C6t(t)),this.behaviors.push(new Li(t))}}class AAt extends bi{constructor(t){super(t,_s.SOUND),this.behaviors.push(new so(t.commandCenterController)),this.behaviors.push(new NH(t,nr.STANDARD)),this.behaviors.push(new Li(t))}}class TAt extends bi{constructor(t){super(t,_s.SOUND_SPATIAL),this.behaviors.push(new so(t.commandCenterController)),this.behaviors.push(new NH(t,nr.SPATIAL)),this.behaviors.push(new Li(t))}}class PAt extends bi{constructor(t){super(t,_s.PLAY_MODE_INTERACTION),this.behaviors.push(new w4t(t)),this.behaviors.push(new T7t(t)),this.behaviors.push(new J7t(t)),this.behaviors.push(new L7t(t)),this.behaviors.push(new C8(t)),this.behaviors.push(new rEt(t)),t.fileSettingsController.isHandLocomotionEnabled&&this.behaviors.push(new RV(t)),this.behaviors.push(new b8(t)),this.behaviors.push(new Li(t)),this.behaviors.push(new sEt(t))}}class eU extends bi{constructor(t){super(t,_s.XR_SET_ANCHOR),this.behaviors.push(new r7t(t))}}class Q6 extends bi{constructor(t){super(t,_s.BOOKMARKS),this.behaviors.push(new C8(t)),this.behaviors.push(new b8(t)),this.behaviors.push(new Li(t))}}class OAt extends Q6{constructor(t){super(t),this.behaviors.unshift(new so(t.commandCenterController)),this.behaviors.push(new cd(t))}}class MAt extends bi{constructor(t){super(t,_s.EXTRUDE),this.editor=t,this.behaviors.push(new so(t.commandCenterController)),this.behaviors.push(new c6t(t)),this.behaviors.push(new c3(t)),this.behaviors.push(new Li(t)),this.behaviors.push(new cd(t))}}class LAt extends bi{constructor(t){super(t,_s.INSET),this.editor=t,this.behaviors.push(new so(t.commandCenterController)),this.behaviors.push(new N6t(t)),this.behaviors.push(new c3(t)),this.behaviors.push(new Li(t)),this.behaviors.push(new cd(t))}}class RAt extends bi{constructor(t){super(t,_s.LOOP_CUT),this.editor=t,this.behaviors.push(new so(t.commandCenterController)),this.behaviors.push(new k6t(t)),this.behaviors.push(new c3(t)),this.behaviors.push(new Li(t)),this.behaviors.push(new cd(t))}}class NAt extends bi{constructor(t){super(t,_s.MESH_SELECT),this.editor=t,this.behaviors.push(new so(t.commandCenterController,!0)),this.behaviors.push(new G7t(t)),this.behaviors.push(new s8(t)),this.behaviors.push(new nC(t)),this.behaviors.push(new T1(t)),this.behaviors.push(new c3(t)),this.behaviors.push(new Li(t)),this.behaviors.push(new cd(t))}onActivated(){super.onActivated()}}class E8 extends bi{constructor(t,e){super(t,e),this.editor=t,this._toolId=e,this.behaviors.push(new T1(t,$t.ADD)),this.behaviors.push(new Li(t)),this.behaviors.push(new cd(t))}onActivated(){super.onActivated(),this.editor.booleanController.apply(this._toolId)&&wt(it.SELECT)}}class jAt extends E8{constructor(t){super(t,_s.BOOLEAN_UNION)}}class DAt extends E8{constructor(t){super(t,_s.BOOLEAN_SUBTRACT)}}class FAt extends E8{constructor(t){super(t,_s.BOOLEAN_INTERSECT)}}class sU extends bi{constructor(t){super(t,_s.COMMENTS);const e=t.isPlayMode?it.PLAY_MODE_INTERACTION:it.SELECT;this.behaviors.push(new so(t.commandCenterController,!1,e)),this.behaviors.push(new KV(t.commentController,!0)),this.behaviors.push(new kwt(t,t.commentController)),this.behaviors.push(new Li(t))}}class BAt extends sU{constructor(t){super(t),this.behaviors.push(new cd(t))}}class kAt extends q6{constructor(t){super(t),this.behaviors.unshift(new n6t(t)),this.behaviors.unshift(new m3(t))}onActivated(){super.onActivated(),this.editor.selectionController.setSelectableTypes(Le.TEXT)}}class GAt extends bi{constructor(t){super(t,_s.PEN),this.editor=t,this.behaviors.push(new so(t.commandCenterController)),this.behaviors.push(new yEt(t,t.curveController)),this.behaviors.push(new Li(t))}}class VAt extends bi{constructor(t){super(t,_s.LINE),this.editor=t,this.behaviors.push(new so(t.commandCenterController)),this.behaviors.push(new cEt(t,t.curveController)),this.behaviors.push(new Li(t))}}class HAt extends bi{constructor(t){super(t,_s.CURVE_EDIT),this.editor=t,this.behaviors.push(new O3t(t)),this.behaviors.push(new nC(t,[L.CURVE])),this.behaviors.push(new Li(t)),this.behaviors.push(new cd(t)),this.disposable.add(new tt(()=>{this.editor.curveController.stop(),this.editor.selectionController.setSelectableTypes(Le.SCENE_ENTITY)}))}onActivated(){super.onActivated(),this.editor.selectionController.setSelectableTypes(Le.KEY_POINT,Le.CONTROL_POINT)}}class UAt extends bi{constructor(t){super(t,_s.HISTORY),this.editor=t,this.behaviors.push(new Li(t)),this.behaviors.push(new cd(t))}}class zAt extends bi{constructor(t,e,i=it.SELECT){super(t,_s.PLACE),this.editor=t,lAt(this,"placeBehavior"),this.placeBehavior=new tU(t,e,!0,i),this.behaviors.push(new so(t.commandCenterController)),this.behaviors.push(this.placeBehavior),this.behaviors.push(new Li(t))}}class iU extends bi{constructor(t){super(t,_s.ASSET_LIBRARY),this.editor=t,this.behaviors.push(new Li(t,t.assetPreviewerController.cameraController,!0))}}class YAt extends bi{constructor(t){super(t,_s.TEMPLATE_LIBRARY),this.editor=t}}var nU=Object.defineProperty,WAt=Object.getOwnPropertyDescriptor,XAt=(s,t,e)=>t in s?nU(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,ud=(s,t,e,i)=>{for(var n=WAt(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&nU(t,e,n),n},NS=(s,t,e)=>(XAt(s,typeof t!="symbol"?t+"":t,e),e);class J6{constructor(t,e){NS(this,"id"),NS(this,"trigger"),NS(this,"animations"),this.id=t;const{trigger:i,animations:n}=e;this.trigger=i,this.animations=n,td(this)}updateFromData(t){const{trigger:e,animations:i}=t;this.trigger=e,this.animations=i}}ud([E],J6.prototype,"updateFromData");class fd{constructor(t){this._rootStore=t,vt(this)}get _startStateByEntityId(){const t=new Map,e=as.getEntries(this._rootStore.sceneStore.sceneEntitiesById);for(const[i,n]of e)t.set(i,n.sceneObject.startState);return t.set(ci,this._rootStore.sceneStore.scene.startState),t}get _interactionsByCombinedId(){const t=new Map,e=as.getEntries(this._rootStore.sceneStore.sceneEntitiesById);for(const[o,a]of e){const l=a.sceneObject.interactions.entries();for(const[c,h]of l){const d=XO({entityId:o,interactionId:c}),u=this._resolveEntityId(h,o);t.set(d,new J6(c,u))}}const i=hs(this._rootStore.sceneStore.scene.interactions),n=Object.entries(i);for(const[o,a]of n){const l=XO({entityId:ci,interactionId:o});t.set(l,new J6(o,a))}return t}get interactionsByCombinedId(){return this._interactionsByCombinedId}get startStateByEntityId(){return this._startStateByEntityId}get pointerInteractionsByAnimatingEntityId(){return this._reduceInteractions(te.POINTER,Jv)}get autoCombinedIdsByAnimatingEntityId(){return Array.from(this.interactionsByCombinedId.entries()).reduce((t,[e,i])=>{const{trigger:n}=i;if(n.type===te.AUTO){const o=Jv(i);if(o==null)return t;for(const a of o){const l=t.get(a)??new Set;l.add(e),t.set(a,l)}}return t},new Map)}get pointerInteractionsByTriggerEntityId(){return this._reduceInteractions(te.POINTER,ZAt)}get keyboardInteractionsByAnimatingEntityId(){return this._reduceInteractions(te.KEYBOARD,Jv)}get colliderInteractionsByAnimatingEntityId(){return this._reduceInteractions(te.COLLIDER,Jv)}get gamepadInteractionsByAnimatingEntityId(){return this._reduceInteractions(te.GAMEPAD,Jv)}_reduceInteractions(t,e){return Array.from(this.interactionsByCombinedId.entries()).reduce((i,[n,o])=>{const{trigger:a,animations:l}=o;if(a.type===t){const c=e(o);if(c==null)return i;for(const h of c)i[h]={...i[h]??{},[n]:{trigger:a,animations:l}}}return i},{})}_resolveEntityId(t,e){const{trigger:i,animations:n}=t;let o={},a={};"targetEntityIds"in i&&i.targetEntityIds!=null&&(o={targetEntityIds:i.targetEntityIds.map(h=>h===Ms?e:h)}),"targetEntityIds2"in i&&i.targetEntityIds2!=null&&(a={targetEntityIds:i.targetEntityIds2.map(h=>h===Ms?e:h)});const l={...i,...o,...a},c={};for(const[h,d]of Object.entries(n))"sceneEntityId"in d&&d.sceneEntityId===Ms?c[h]={...d,sceneEntityId:e}:c[h]=d;return{trigger:l,animations:c}}}ud([M.struct],fd.prototype,"_startStateByEntityId");ud([M.struct],fd.prototype,"_interactionsByCombinedId");ud([M],fd.prototype,"interactionsByCombinedId");ud([M],fd.prototype,"startStateByEntityId");ud([M],fd.prototype,"pointerInteractionsByAnimatingEntityId");ud([M],fd.prototype,"autoCombinedIdsByAnimatingEntityId");ud([M],fd.prototype,"pointerInteractionsByTriggerEntityId");ud([M({equals:ja.structural})],fd.prototype,"keyboardInteractionsByAnimatingEntityId");ud([M],fd.prototype,"colliderInteractionsByAnimatingEntityId");ud([M({equals:ja.structural})],fd.prototype,"gamepadInteractionsByAnimatingEntityId");function XO({entityId:s,interactionId:t}){return`${s}:${t}`}function Jv(s){const{animations:t}=s,e=Object.values(t),i=[];for(const n of e)"sceneEntityId"in n&&n.sceneEntityId!=null?i.push(n.sceneEntityId):"sceneId"in n&&n.sceneId!=null&&i.push(n.sceneId);return i}function ZAt(s){const{trigger:t}=s;return t.type===te.POINTER||t.type===te.COLLIDER?t.targetEntityIds??[]:[]}var KAt=Object.defineProperty,qAt=(s,t,e)=>t in s?KAt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,ZO=(s,t,e)=>(qAt(s,typeof t!="symbol"?t+"":t,e),e);class QAt{constructor(t){ZO(this,"interactionsStore"),ZO(this,"sceneStore"),this.sceneStore=t,this.interactionsStore=new fd(this)}}var oU=Object.defineProperty,JAt=Object.getOwnPropertyDescriptor,$At=(s,t,e)=>t in s?oU(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,t8t=(s,t,e,i)=>{for(var n=JAt(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&oU(t,e,n),n},lg=(s,t,e)=>($At(s,typeof t!="symbol"?t+"":t,e),e);const e8t=1e3;class f_ extends oa{constructor(t,e,i,n=null){super(e),this._fileId=t,this._appContext=e,this._profile=i,this._linkId=n,lg(this,"isUIVisible",!0),lg(this,"activeTool",new x8(this)),lg(this,"activeBottomBar",null),lg(this,"animationController"),lg(this,"rootStore"),lg(this,"_hotSpotTimeout",null),lg(this,"_toggledHotSpotComponents",[]),this._isPlayMode=this._fileId!=null,this._isPublishedMode=!this._fileId&&this._linkId!=null,this.rootStore=new QAt(this.sceneController),this.animationController=new U5(this,(...o)=>{this.signals.play.animationUpdated.dispatch()}),this._disposable.add(new tt(()=>{this.keyStateController.dispose(),this.commandController.dispose(),this.commentController.dispose(),this.stateController.dispose(),this.sceneController.dispose(),this.selectionController.dispose(),this.fileController.dispose(),this.animationController.dispose()})),vt(this)}get profile(){return this._profile}get linkId(){return this._linkId}async init(){if(this._isInitialized)return;await super.init(),await this.physicsController.init();let t=!1;if(this._fileId!==null?t=await this.fileController.loadFile(this._fileId,e=>{this._isARScene=e,this._isARSceneDetermined=!0}):this._linkId!==null&&(t=await this.fileController.loadFileByLink(this._linkId,e=>{this._isARScene=e,this._isARSceneDetermined=!0}),this.isUIVisible=!1),this._isInitialized=!0,!t){this.dispose();return}this.sceneController.init(),this._isPublishedMode&&this.fileSettingsController.setGrid(!1),this.viewportController.viewports.forEach(e=>e.start(this._isPublishedMode))}initAccess(t,e,i,n,o,a){const l=super.initAccess(t,e,i,n,o,a);return this._initTools(this.accessController,this.commandController),l}_initTools(t,e){this._setActiveTool(it.PLAY_MODE_INTERACTION),this.viewportController.init(t,e),this._disposable.add(this._addCommandBindings(this.accessController,this.commandController)),this._disposable.add(this._addKeyBindings(this.accessController,this.commandController)),this._disposable.add(this._addSignalBindings())}getNeedsRenderSignals(){return[...Object.values(this.signals.object),...Object.values(this.signals.command),this.signals.play.animationUpdated]}startAnimationForInteraction(t,e){return this.animationController.startSequenceForInteraction(t,e)}resetAnimations(){this.animationController.reset()}_addSignalBindings(){const{signals:t}=this,e=[];return e.push(t.file.allObjectsLoaded.add(()=>{this.animationController.init()}),t.window.vrSessionStarted.add(({sessionMode:i,sessionDevice:n})=>{this.xrSessionMode=i,n===ol.MOBILE||n===ol.HEADSET&&i==="immersive-ar"?this._setActiveTool(it.XR_SET_ANCHOR):this._setActiveTool(it.PLAY_MODE_INTERACTION),this.resetAnimations()}),t.window.vrSessionEnded.add(()=>{this.xrSessionMode=null,this._setActiveTool(it.PLAY_MODE_INTERACTION)})),new tt(()=>{for(const i of e)i.detach()})}showHotSpots(){if(this._mainViewport==null||!this.fileSettingsController.shouldShowHotspots)return;if(this._hotSpotTimeout!=null){clearTimeout(this._hotSpotTimeout),this._hotSpotTimeout=this._getClearHotspotTimeout();return}const t=this.animationController.hotSpotEntities,e=[];for(const i of t){const n=i.getOutlineMesh(),o=i.getComponent(si),a=i.getComponent(Kl);o!=null&&o.curveType===bs.WIRE?(o.toggleHotSpotMaterial(!0),this._toggledHotSpotComponents.push(o)):a!=null&&(a.toggleHotSpotMaterial(!0),this._toggledHotSpotComponents.push(a)),n!=null&&e.push(n)}this._mainViewport.setOutlinedObjects(e),this._hotSpotTimeout=this._getClearHotspotTimeout()}_getClearHotspotTimeout(){return setTimeout(()=>{var t;(t=this._mainViewport)==null||t.setOutlinedObjects([]);for(const e of this._toggledHotSpotComponents)e.toggleHotSpotMaterial(!1);this._hotSpotTimeout=null},e8t)}_addCommandBindings(t,e){const{tool:i}=R;return e.registerCommandBindings(document.body,{[i.BOOKMARKS]:()=>this._setActiveTool(it.BOOKMARKS),[i.COMMENTS]:()=>this._setActiveTool(it.COMMENTS),[i.XR_SET_ANCHOR]:()=>{this._setActiveTool(it.XR_SET_ANCHOR)},[i.PLAY_MODE_INTERACTION]:()=>{this._setActiveTool(it.PLAY_MODE_INTERACTION)}},t)}get _mainViewport(){return this.viewportController.mainViewport}_setActiveTool(t,e){if(this.activeTool.id===t)return;const i=this.activeTool.id;this.activeTool.dispose(),this.activeTool=this._createToolById(t,e),this.signals.command.started.dispatch(),this.signals.command.activeToolChanged.dispatch(t),t===it.COMMENTS?fb.pauseGlobalTimeline():i===it.COMMENTS&&fb.resumeGlobalTimeline()}_createToolById(t,e){const{tool:i}=R;switch(t){case i.COMMENTS:return new sU(this);case i.BOOKMARKS:return new Q6(this);case i.XR_SET_ANCHOR:return new eU(this);case i.PLAY_MODE_INTERACTION:return new PAt(this);default:return console.error("No assiciated tool for toolID",t),new Q6(this)}}_addKeyBindings(t,e){return e.addKeyListeners(document.body,[it.PLAY_MODE_INTERACTION],!1,t)}_handleUndo(){this.activeTool.id===it.COMMENTS&&this.commentController.undo()}_handleRedo(){this.activeTool.id===it.COMMENTS&&this.commentController.redo()}}t8t([E],f_.prototype,"_setActiveTool");const s8t=({controller:s})=>{const t=xe.useRef(null),e=xe.useRef(null),i=l=>{wt(it.XR_SET_ANCHOR)},n=l=>{s instanceof f_&&s.resetAnimations()},o=l=>{var c;(c=s.viewportController.mainViewport)==null||c.vrRenderingController.endSession()};m.useEffect(()=>{var c;(c=e.current)==null||c.addEventListener("beforexrselect",h=>{h.preventDefault()});const l=e.current;return()=>{l==null||l.removeEventListener("beforexrselect",h=>h.preventDefault())}},[e]);const a=xe.useMemo(()=>{switch(s.anchorState){case ro.NONE:return"Anchoring not supported";case ro.PENDING:return"Slowly move your device to scan the environment";case ro.PLACING:return"Tap to place anchor";case ro.PAUSED:return"Searching for horizontal surface";case ro.PLACED:return"Anchor placed"}},[s.anchorState]);return wb.createPortal(r.jsx("div",{ref:t,className:"relative flex justify-end",id:h3.XR_OVERLAY,children:r.jsxs("div",{className:`${s.isVRActive?"block":"hidden"}`,children:[r.jsxs("div",{ref:e,children:[r.jsx("div",{className:"mr-4 mt-4",children:r.jsx(Tt,{leftIcon:aQ,onClick:o,variant:"mobile-dropshadow"})}),r.jsx("div",{className:"fixed bottom-0 left-0 right-0 mb-4 flex justify-center",children:r.jsxs("div",{className:"flex space-x-1",children:[r.jsx(Tt,{leftIcon:FQ,onClick:i,variant:"mobile-secondary",round:!0,children:"Reposition"}),s instanceof f_&&r.jsx(Tt,{leftIcon:Wy,onClick:n,variant:"mobile-secondary",round:!0,children:"Reset"})]})})]}),s.anchorState!==ro.PLACED&&r.jsx(i8t,{children:a})]})}),document.body)},S8=A(s8t),i8t=({children:s})=>r.jsx("div",{className:"fixed left-2/4 top-0 mt-8 flex -translate-x-2/4 items-center justify-center",children:r.jsx("div",{className:"box-border h-10 rounded border border-gray-60 bg-gray-70 pb-3 pl-3 pr-3 pt-3 shadow-menu",children:r.jsx(K,{children:s})})}),ji=s=>{const{profileController:t,authController:{auth:{profileID:e}}}=Pt();if(!e)return;const i=t.profilesByID.get(s??e);if(!(!s&&Vl(e)&&!i))return i||{id:by(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}},n8t=()=>{const{profileApi:s,teamController:t}=Pt(),e=t.allTeamIds,[i,n]=m.useState({});return m.useEffect(()=>{(async()=>{const o={};for(const a of e){const l=await Tf(a);o[a]=l.length}n(o)})()},[s,e,t.teamFetchTimestamp]),i};var rU=Object.defineProperty,o8t=Object.getOwnPropertyDescriptor,r8t=(s,t,e)=>t in s?rU(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,ml=(s,t,e,i)=>{for(var n=i>1?void 0:i?o8t(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&rU(t,e,n),n},Dd=(s,t,e)=>(r8t(s,typeof t!="symbol"?t+"":t,e),e);class Fa{constructor(){Dd(this,"value",0),Dd(this,"inputText",""),Dd(this,"label","Distance"),Dd(this,"x",0),Dd(this,"y",0),Dd(this,"isOpen",!1),Dd(this,"onChange"),Dd(this,"onCommit"),Dd(this,"onClose"),Dd(this,"onOpen"),vt(this)}setValue(t){this.value=t,this.onChange&&this.onChange(t)}setInitialKeyAndOpen(t){t&&(this.setInputText(t),this.value=0),this.value=0,this.open()}setInputText(t){this.inputText=t}open(){this.isOpen=!0,this.onOpen&&this.onOpen()}close(){this.isOpen=!1}commitAndClose(){this.onCommit&&this.onCommit(this.value),this.close()}clearAndClose(){this.inputText="",this.value=0,this.close(),this.onClose&&this.onClose()}setPosition(t,e){this.x=t,this.y=e}}ml([V],Fa.prototype,"value",2);ml([V],Fa.prototype,"inputText",2);ml([V],Fa.prototype,"label",2);ml([V],Fa.prototype,"x",2);ml([V],Fa.prototype,"y",2);ml([V],Fa.prototype,"isOpen",2);ml([E],Fa.prototype,"setValue",1);ml([E],Fa.prototype,"setInitialKeyAndOpen",1);ml([E],Fa.prototype,"setInputText",1);ml([E],Fa.prototype,"open",1);ml([E],Fa.prototype,"close",1);ml([E],Fa.prototype,"commitAndClose",1);ml([E],Fa.prototype,"clearAndClose",1);ml([E],Fa.prototype,"setPosition",1);function I8(s,t){const e=new CustomEvent(s,{detail:t});window.dispatchEvent(e)}const _3=s=>s===Gl.FILE_GRID_TOUR?Object.values(Gi):Object.values(li),aC=s=>{I8(Ud.ANCHOR_INTERACT_ON,s)},v3=s=>{I8(Ud.ANCHOR_INTERACT_OFF,s)},y3=(s,t=!0)=>{I8(Ud.TOUR_STEP_COMPLETE,{step:s,autoContinue:t})};var aU=Object.defineProperty,a8t=Object.getOwnPropertyDescriptor,l8t=(s,t,e)=>t in s?aU(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,gl=(s,t,e,i)=>{for(var n=i>1?void 0:i?a8t(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&aU(t,e,n),n},cg=(s,t,e)=>(l8t(s,typeof t!="symbol"?t+"":t,e),e),fs=(s=>(s.ROOT="root",s.UNITS="units",s.FILE="file",s.EDIT="edit",s.VIEW="view",s.VIEW_DIRECTION="view.direction",s.VIEW_AXES="view.axes",s.VIEW_RENDER="view.render",s.VIEW_HIERARCHY="view.hierarchy",s.SNAP_MODE="snap.mode",s.HELP="help",s))(fs||{});class Ba{constructor(t){this._editor=t,cg(this,"disposable",new Zt),cg(this,"searchText",""),cg(this,"isOpen",!1),cg(this,"page","root"),cg(this,"pageItemIds",[R.documentSetting.UNITS,R.viewport.VIEW_DIRECTION,R.viewport.VIEW_AXES,R.viewport.RENDER,R.view.HIERARCHY,R.viewport.SNAP_MODE,...Object.values(kp)]),cg(this,"commandsAsItems",[]),cg(this,"_featureFlagHelper"),vt(this),this._featureFlagHelper=new mG(this._editor.featureFlagService)}dispose(){this.disposable.dispose()}initCommands(t,e){this.disposable.add(this.addCommandBindings(t,e));const{commandController:i}=this._editor,n=Object.values(de).filter(o=>!(o.hideFromCommandCenter??!1)).filter(o=>i.isCommandAllowed(o,t));for(const o of n){const a=this._featureFlagHelper.runEffectForCommand(o,()=>{this.commandsAsItems.push(this._makeCommandCenterItem(o,n))});a&&this.disposable.add(a)}}_makeCommandCenterItem(t,e){return{id:t.id,children:t.label,iconLeft:t.icon,iconRight:this.pageItemIds.includes(t.id)?q0:void 0,backgroundColor:h8t(t.category),secondaryText:d8t(t.category),alias:t.defaultAlias,disabled:!1,keywords:t.keywords,closeOnSelect:!this.pageItemIds.includes(t.id),onClick:()=>{this.commit(t.id)},options:this.getOptionsForId(t.id,e)}}get searchableCommands(){return[...this.commandsAsItems].sort(c8t)}addCommandBindings(t,e){const{documentSetting:i,menu:n,viewport:o,view:a}=R;return e.registerCommandBindings(document.body,{[i.UNITS]:()=>{this.setPage("units")},[n.FILE]:()=>{this.setPage("file")},[n.EDIT]:()=>{this.setPage("edit")},[n.VIEW]:()=>{this.setPage("view")},[o.VIEW_DIRECTION]:()=>{this.setPage("view.direction")},[o.VIEW_AXES]:()=>{this.setPage("view.axes")},[o.RENDER]:()=>{this.setPage("view.render")},[a.HIERARCHY]:()=>{this.setPage("view.hierarchy")},[o.SNAP_MODE]:()=>{this.setPage("snap.mode")},[n.HELP]:()=>{this.setPage("help")}},t)}get filteredItems(){return Nc(this.searchableCommands,this.searchText)}open(){this.isOpen=!0,aC(li.TRY_COMMAND_CENTER)}close(){this.isOpen=!1,this.searchText="",this.page="root",v3(li.TRY_COMMAND_CENTER)}toggle(){this.isOpen?this.close():this.open()}setOpen(t=!0){t?this.open():this.close()}setPage(t){this.page=t,this.searchText="",this.open()}setInitialKeyAndOpen(t){this.setSearchText(this.searchText+t),this.open()}repeat(){var i,n;const t=this._editor.commandController.lastCommandID,e=(n=(i=this._editor.commandController.lastCommandEvent)==null?void 0:i.detail)==null?void 0:n.param;t&&this.commit(t,e)}commit(t,e){if(t){wt(t,e);return}this.filteredItems.length>0&&wt(this.filteredItems[0].id)}setSearchText(t){this.searchText=t}getOptionsForId(t,e){let i=[];switch(t){case kp.FILE:{i=Object.values(v5);break}case kp.EDIT:{i=Object.values({...Me,...J0});break}case kp.VIEW:{i=[...Object.values(Zi),...Object.values(Dl)];break}case Zi.VIEW_DIRECTION:{i=Object.values(ne);break}case Zi.VIEW_AXES:{i=Object.values(m5);break}case Zi.RENDER:{i=Object.values(E_);break}case Dl.HIERARCHY:{i=Object.values(jh);break}case Zi.SNAP_MODE:{i=Object.values(co);break}case kp.HELP:{i=Object.values(_5);break}case QI.UNITS:{i=Object.values(Gp);break}default:return}return Object.values(e).filter(o=>i.includes(o.id)).map(o=>({id:o.id,children:o.label,iconRight:this.pageItemIds.includes(o.id)?q0:sn(o.defaultKeys),onClick:()=>{this.commit(o.id),this.close()},divideBefore:o.divideBefore,options:this.getOptionsForId(o.id,e)}))}}gl([V],Ba.prototype,"searchText",2);gl([V],Ba.prototype,"isOpen",2);gl([V],Ba.prototype,"page",2);gl([M],Ba.prototype,"searchableCommands",1);gl([M],Ba.prototype,"filteredItems",1);gl([E],Ba.prototype,"open",1);gl([E],Ba.prototype,"close",1);gl([E],Ba.prototype,"toggle",1);gl([E],Ba.prototype,"setOpen",1);gl([E],Ba.prototype,"setPage",1);gl([E],Ba.prototype,"setInitialKeyAndOpen",1);gl([E],Ba.prototype,"repeat",1);gl([E],Ba.prototype,"commit",1);gl([E],Ba.prototype,"setSearchText",1);function c8t(s,t){return Rx(s.children).localeCompare(Rx(t.children))}function h8t(s){switch(s){case u0.OBJECT:return"#2951A0";case u0.TOOL:return"rgb(71,71,71)";case u0.MODELING:return"#516A28";case u0.SETTING:return"#643CA7";case u0.AI:return"linear-gradient(to bottom right, var(--ai-top-2), var(--ai-bottom-2))";default:return"rgb(71,71,71)"}}function d8t(s){if(s!=null)return s}function Rx(s){let t="";return m.Children.map(s,e=>{typeof e=="string"&&(t+=e)}),t}function Nc(s,t){t=t.toLowerCase();const e=s.filter(l=>{var c;return((c=l.alias)==null?void 0:c.toLowerCase())===t}),i=s.filter(l=>!e.includes(l)&&Rx(l.children).toLowerCase().startsWith(t)),n=s.filter(l=>{var c;return!e.includes(l)&&!i.includes(l)&&((c=l.secondaryText)==null?void 0:c.toLowerCase().startsWith(t))}),o=s.filter(l=>{var c;return!e.includes(l)&&!i.includes(l)&&!n.includes(l)&&((c=l.keywords)==null?void 0:c.some(h=>h.startsWith(t)))}),a=s.filter(l=>!e.includes(l)&&!i.includes(l)&&!n.includes(l)&&!o.includes(l)&&Rx(l.children).toLowerCase().includes(t));return[...e,...i,...n,...o,...a]}var u8t=Object.defineProperty,f8t=(s,t,e)=>t in s?u8t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,$v=(s,t,e)=>(f8t(s,typeof t!="symbol"?t+"":t,e),e);class jS extends sa{constructor(){super(),$v(this,"_pointStart",new w),$v(this,"_pointEnd",new w),$v(this,"geometry",new $n().setFromPoints([this._pointStart,this._pointEnd])),$v(this,"material",new b_({color:3223857})),$v(this,"line",new DL(this.geometry,this.material)),this.add(this.line)}get pointStart(){return this._pointStart}get pointEnd(){return this._pointStart}set pointStart(t){this._pointStart.copy(t)}set pointEnd(t){this._pointEnd.copy(t)}update(t){super.update(t);const e=this.geometry.attributes.position;e.setXYZ(0,...this._pointStart.toArray()),e.setXYZ(1,...this._pointEnd.toArray()),e.needsUpdate=!0,this.geometry.computeBoundingSphere()}}var p8t=Object.defineProperty,m8t=(s,t,e)=>t in s?p8t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,s0=(s,t,e)=>(m8t(s,typeof t!="symbol"?t+"":t,e),e);class g8t{constructor(t){this.editor=t,s0(this,"_beforeItem",null),s0(this,"_afterItem",null),s0(this,"_runActionsMap",new Map),s0(this,"_undoStack"),s0(this,"_redoStack"),s0(this,"depth",FN),this._undoStack=new $d(this.depth),this._redoStack=new $d(this.depth)}recordBefore(t){const e=M6(t.action);e&&(this._runActionsMap.set(t.action,e),this._beforeItem=e.recordBefore(this.editor.selectionController.selectedCollection.sceneEntityIds,this.editor.sceneController,t),this._beforeItem&&this._beforeItem.data.objects&&(this._beforeItem.selection=[...this.editor.selectionController.selectedCollection.sceneEntities]))}recordAfter(t){const e=this._runActionsMap.get(t.action);e&&(this._afterItem=e.recordAfter(this.editor.selectionController.selectedCollection.sceneEntityIds,this.editor.sceneController,t),this._afterItem&&this._afterItem.data.objects&&(t.selection?this._afterItem.selection=t.selection.map(i=>i.entity):this._afterItem.selection=[...this.editor.selectionController.selectedCollection.sceneEntities]),this._beforeItem!=null&&this._afterItem!=null&&(this.push({timestamp:Date.now(),before:this._beforeItem,after:this._afterItem}),this._beforeItem=null,this._afterItem=null),this._runActionsMap.delete(t.action))}push(t){this._undoStack.push(t),this._redoStack.size()>0&&this._redoStack.clear()}undo(){const t=this._undoStack.pop();if(t==null)return null;const e={lastWriter:he.sessionID,lastUpdated:Date.now()},i=t.before,n=t.after,o=Px(this.editor.sceneController,n);t.after=o;let a=!1;n&&i&&(a=Tx(this.editor.sceneController,this.editor.stateController,this.editor.signals,i,e,n)),a&&(this.editor.signals.gizmo.changed.dispatch(),i.selection&&this.editor.selectionController.selectedCollection.set(i.selection),this.editor.sceneController.hierarchy.build()),this._redoStack.push(t)}redo(){const t=this._redoStack.pop();if(t==null)return null;const e={lastWriter:he.sessionID,lastUpdated:Date.now()},i=t.after,n=t.before,o=Px(this.editor.sceneController,n);t.before=o;let a=!1;n&&i&&(a=Tx(this.editor.sceneController,this.editor.stateController,this.editor.signals,i,e,n)),a&&(this.editor.signals.gizmo.changed.dispatch(),i.selection&&this.editor.selectionController.selectedCollection.set(i.selection),this.editor.sceneController.hierarchy.build()),this._undoStack.push(t)}peekUndo(){return this._undoStack.peek()}peekRedo(){return this._redoStack.peek()}clear(){this._undoStack.clear(),this._redoStack.clear()}}const lU=S.literal(L.CURVE);go.merge(S.object({type:lU,parameters:ZD}));function _8t(s){return Ir(s,lU,ZD)}class cU{static build(t,e,i){const n=Hf.build(t,e,i),o=new _e(n,t.sceneController.statefulScene.hdrLighting);n.addComponent(o);const a=new si(n,o,Te.lineMaterials.curveMaterial);n.addComponent(a);const l=new On(n);n.addComponent(l);const c=new Ta(n);return n.addComponent(c),n}}fn.register(L.CURVE,cU,_8t);var hU=Object.defineProperty,v8t=Object.getOwnPropertyDescriptor,y8t=(s,t,e)=>t in s?hU(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,dU=(s,t,e,i)=>{for(var n=v8t(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&hU(t,e,n),n},i0=(s,t,e)=>(y8t(s,typeof t!="symbol"?t+"":t,e),e);class A8 extends mo{constructor(t){super(t,L.CURVE),i0(this,"_position",new w),i0(this,"_keyPoints",[]),i0(this,"_segments"),i0(this,"_stepSize"),i0(this,"_angleThreshold"),i0(this,"_drawingPlane"),vt(this)}set origin(t){this._position.copy(t)}set keyPoints(t){this._keyPoints=t}set segments(t){this._segments=t}set stepSize(t){this._stepSize=t}set angleThreshold(t){this._angleThreshold=t}set drawingPlane(t){this._drawingPlane=t}create(){const{_position:t,orientation:e}=this,i=new ls().setFromQuaternion(e),n=this.composeSceneObject(t,i),o=cU.build(this._editor,n,null);return this._entity=o,super._onCreated(),o}composeSceneObject(t,e,i){return{...super.composeSceneObjectWithMaterial(t,e,i),type:L.CURVE,parameters:XD}}update(){if(!this._entity)return;const t=this._entity.sceneObject.parameters;t.keyPoints=this._keyPoints.map(e=>QF(e)),t.segments=this._segments,t.stepSize=this._stepSize,t.angleThreshold=this._angleThreshold,this._drawingPlane&&(t.drawingPlane=JF(this._drawingPlane)),this._entity.transform.setPosition(this._position),this._entity.transform.setRotation({x:this.euler.x,y:this.euler.y,z:this.euler.z}),this._remoteUpdater.update()}}dU([E],A8.prototype,"create");dU([E],A8.prototype,"update");var b8t=Object.defineProperty,C8t=(s,t,e)=>t in s?b8t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,xi=(s,t,e)=>(C8t(s,typeof t!="symbol"?t+"":t,e),e);class w8t{constructor(t){this.editor=t,xi(this,"_history"),xi(this,"_isActive",!1),xi(this,"_editing",!1),xi(this,"_shouldCreateNewCurve",!0),xi(this,"_objID",""),xi(this,"_height",0),xi(this,"_currentMaterial",new hK),xi(this,"_keyPoints",[]),xi(this,"_curvePoints",[]),xi(this,"_curveType",bs.WIRE),xi(this,"_segments"),xi(this,"_stepSize"),xi(this,"_angleThreshold"),xi(this,"_drawingPlane"),xi(this,"_curvePointGizmos"),xi(this,"_handles",[]),xi(this,"_curveGuide",new Xg(new Ef)),xi(this,"_curveGuideHandles",[]),xi(this,"_root",new zs),xi(this,"_plane",new Be(vi,0)),xi(this,"_planeHelper",null),xi(this,"_sceneEntity",null),xi(this,"_disposable",new Zt),xi(this,"_lastSelectableTypes",new Set([Le.KEY_POINT,Le.CONTROL_POINT])),xi(this,"_v3",new w),xi(this,"_v3_2",new w),xi(this,"_v3_3",new w),xi(this,"undid",new ht.Signal),xi(this,"redid",new ht.Signal),this._history=new g8t(t),this._disposable.add(this._addSignalBindings())}dispose(){this._disposable.dispose()}_addSignalBindings(){const{signals:t}=this.editor,e=[];return e.push(t.command.activeToolChanged.add(i=>{if([it.PEN,it.LINE,it.CURVE_EDIT].includes(i)){if(this.editing)return;this.editor.selectionController.setSelectableTypes(...this._lastSelectableTypes);return}else this.active&&(this.stop(),this._lastSelectableTypes=new Set(this.editor.selectionController.currentSelectableTypes),this.editor.selectionController.setSelectableTypes(Le.SCENE_ENTITY))})),new tt(()=>{for(const i of e)i.detach()})}_addPlaneHelper(){this._planeHelper&&this.editor.helpers.remove(this._planeHelper),this._planeHelper=new jL(this._plane,10,11250603),this.editor.helpers.add(this._planeHelper)}get curveGuide(){return this._curveGuide}get plane(){return this._plane}get active(){return this._isActive}get editing(){return this._editing}get keyPoints(){return this._keyPoints}set keyPoints(t){this._keyPoints=t}get shouldCreateNewCurve(){return this._shouldCreateNewCurve}set shouldCreateNewCurve(t){this._shouldCreateNewCurve=t}get isLoopClosed(){let t=!1;return this.keyPoints.length>1&&(t=this.keyPoints[0].controls[0]!=null),t}start(t,e,i,n){var a;this._root=new zs,this._root.name="Curve root",this._root.position.copy(t),this._root.updateMatrixWorld(),this._plane=new Be(vi.clone(),0);const o=this.editor.sceneController.scene.units;this._stepSize=$F(o),this._angleThreshold=d6(o),this.setupCurveGuideHandles(),this.addPoint(t,null,e,i,n),this.createCurveObject(),this._curvePointGizmos=new pV(this.editor,this),this.editor.helpers.add(this._curvePointGizmos),(a=this._curvePointGizmos)==null||a.updateTarget(),this.updateCurveObject(),this._shouldCreateNewCurve=!1,this._isActive=!0}localToWorld(t,e=new w){return e.copy(t),this._root.localToWorld(e),e}addPoint(t,e,i,n,o){var d;const a=this._root.worldToLocal(t.clone()),l=e?new hx(this._root.worldToLocal(e.clone()),!o):null,c=i?new hx(this._root.worldToLocal(i.clone()),!o):null;let h;if(!this.shouldCreateNewCurve&&!this.isLoopClosed&&Wr(a,this.keyPoints[0].position))this.keyPoints[0].controls[0]=l;else{h=[l,c];const u=new Jj(Ht(),a,h,!o);this.keyPoints.push(u),h.forEach(f=>{f!=null&&!o&&this.addHandle(a,f.position)}),(d=this._curvePointGizmos)==null||d.updateTarget()}this._curveGuideHandles.forEach(u=>{u.pointStart=new w,u.pointEnd=new w}),this.shouldCreateNewCurve||this.updateCurveObject()}addHandle(t,e){const i=new jS;i.pointStart=t,i.pointEnd=e,this._handles.push(i),this._root.add(i)}createCurveObject(){const t=new A8(this.editor);t.origin=this._root.position,t.setNormal(this._plane.normal),t.keyPoints=this.keyPoints,t.segments=this._segments,t.stepSize=this._stepSize,t.angleThreshold=this._angleThreshold,t.drawingPlane=this._drawingPlane;const e=t.create();t.update(),this._objID=e.id,this._sceneEntity=e,e.highlightComponent.mesh.visible=!1}updateCurveObject(){const t=this.editor.sceneController.getSceneEntityById(this._objID);if(!t)return console.error("CurveController ~ No selected object"),!0;if(!t.getComponent(si))return console.error("CurveController ~ No line component"),!0;this.updateCurveParameters(),t.highlightComponent.updateMesh()}beginUpdateCurveParameters(){this._history.recordBefore({action:P.PARAMETERS})}updateCurveParameters(){Jt(()=>{var e;const t=(e=this._sceneEntity)==null?void 0:e.sceneObject.parameters;t&&(t.keyPoints=this.keyPoints.map(i=>QF(i)),t.curveType=this._curveType,t.segments=this._segments,t.stepSize=this._stepSize,t.angleThreshold=this._angleThreshold,t.height=this._height,this._drawingPlane&&(t.drawingPlane=JF(this._drawingPlane)))}),this.editor.stateController.signals.parameters.dispatch({action:P.PARAMETERS})}endUpdateCurveParameters(){this._history.recordAfter({action:P.PARAMETERS})}stop(){var e;if(!this.active&&!this._editing&&this.shouldCreateNewCurve)return!0;if(this.isLoopClosed||(this.keyPoints[this.keyPoints.length-1].controls[1]=null,this.updateCurveParameters()),this.editing){const i=(e=this._sceneEntity)==null?void 0:e.getComponent(si);i.curveType==bs.FILL&&(i.line.material.visible=!1),i.curveType==bs.PIPE&&(i.line.material.visible=!1,i.updateMeshMaterial(this._currentMaterial))}this._handles.forEach(i=>{this._root.remove(i)}),this.editor.helpers.remove(this._curvePointGizmos),this._root.remove(this._curveGuide),this._curveGuideHandles.forEach(i=>{this._root.remove(i)}),this.editor.helpers.remove(this._root),this._sceneEntity||([this._sceneEntity]=this.editor.selectionController.selectedCollection.sceneEntities),this._sceneEntity.computeBoundingBoxLocal();const t=Te.lineMaterials.highlightLineMaterial;return this._sceneEntity.highlightComponent.highlight(t),this._sceneEntity.highlightComponent.mesh.visible=!0,this.keyPoints.length==1&&this.editor.sceneController.remove([this._sceneEntity]),this._objID="",this._sceneEntity=null,this.keyPoints=[],this._curveType=bs.WIRE,this._handles=[],this._curveGuide.geometry=new Ef,this._shouldCreateNewCurve=!0,this._isActive=!1,this._editing=!1,this._history.clear(),delete this._segments,delete this._stepSize,delete this._angleThreshold,delete this._drawingPlane,this.editor.stateController.recordAfter({action:P.PARAMETERS}),!0}fillCurve(){if(this._sceneEntity==null)return;const t=this._sceneEntity.getComponent(si);if(!t)return console.error("CurveController ~ No line component"),!0;this.correctCurvePointsOrder(),this._curveType=bs.FILL,this.updateCurveParameters(),t.isFilled||t.fillCurve()}correctCurvePointsOrder(){if(this._curvePoints.length<3)return;const t=this._curvePoints[0],e=this._curvePoints[1],i=this._curvePoints[2],n=new Kx,o=new w;if(n.set(t,e,i),n.getNormal(o),o.y<0){this._curvePoints.reverse(),this.keyPoints.reverse();for(const a of this.keyPoints)a.controls.reverse()}}setupCurveGuideHandles(){if(this._root.add(this._curveGuide),this._curveGuideHandles.length==0){const t=new jS;this._curveGuideHandles.push(t);const e=new jS;this._curveGuideHandles.push(e)}this._root.add(this._curveGuideHandles[0]),this._root.add(this._curveGuideHandles[1]),this.editor.helpers.add(this._root)}showCurveGuide(t,e,i){const n=[],o=this._root.worldToLocal(t.clone()),a=this._root.worldToLocal(e.clone()),l=this._root.worldToLocal(i.clone());if(this.shouldCreateNewCurve)this.setupCurveGuideHandles();else{const c=this.keyPoints[this.keyPoints.length-1].position,h=new w,d=this.keyPoints[this.keyPoints.length-1].controls[1];d!=null&&h.copy(d.position);const u=c,f=o,p=h,g=a;n.push(c);const _=this._segments??N0.default;qF(u,p,g,f,_).forEach(y=>{n.push(y.clone())});const v=h6(n);this._curveGuide.geometry.setPositions(v),this._curveGuide.material=Te.lineMaterials.curveGuideMaterial}return o.equals(a)||(this.shouldCreateNewCurve||(this._curveGuideHandles[0].pointStart=o,this._curveGuideHandles[0].pointEnd=a),this._curveGuideHandles[1].pointStart=o,this._curveGuideHandles[1].pointEnd=l),this.editor.signals.gizmo.changed.dispatch(),!0}startEditing(t){this._root=new zs,this._root.name="Curve edit root",this._sceneEntity=t;const e=this._sceneEntity.getComponent(si);return e?(e.line.material.visible=!0,e.curveType==bs.PIPE&&(this._currentMaterial=e.meshMaterial.clone(),e.updateMeshMaterial(Te.semiTransparentMaterial)),delete this._segments,delete this._stepSize,delete this._angleThreshold,delete this._drawingPlane,this.setupCurve(),this._sceneEntity.highlightComponent.mesh.visible=!1,this._editing=!0,this.editor.stateController.recordBefore({action:P.PARAMETERS}),!0):(console.error("CurveController ~ No line component"),!0)}setupCurve(){if(this._sceneEntity==null)return;this._objID=this._sceneEntity.id;const t=this._sceneEntity.getComponent(si);if(!t)return console.error("CurveController ~ No line component"),!0;const e=t.entity.sceneObject.parameters;this.keyPoints=[],this.keyPoints=e.keyPoints.map(c6),this._curveType=e.curveType,e.segments&&(this._segments=e.segments),e.stepSize&&(this._stepSize=e.stepSize),e.angleThreshold&&(this._angleThreshold=e.angleThreshold),this._height=e.height??0;const i=t.entity.transform.matrixGlobal.clone();this._plane=new Be(vi.clone(),0),this.keyPoints.length>=3&&this._plane.setFromCoplanarPoints(this.keyPoints[0].position,this.keyPoints[1].position,this.keyPoints[2].position),this._drawingPlane=t.getDrawingPlane(),this._plane.applyMatrix4(i),this._root.matrixAutoUpdate=!1,this._root.matrix.copy(i),this._root.matrixWorldNeedsUpdate=!0,this.redrawCurveHandles(),this.editor.helpers.add(this._root)}setDrawingPlane(t){this._drawingPlane=t}getDrawingPlaneGlobal(){var e;const t=this._root.matrixWorld;return(e=this._drawingPlane)==null?void 0:e.clone().applyMatrix4(t)}getDrawingAxesGlobal(){if(this._drawingPlane){const t=this._root.matrixWorld,e=this._drawingPlane.clone().applyMatrix4(t),i=Math.abs(e.normal.dot(to));if(Math.abs(i-1)<im)return[Mn,ul];{const n=new w;n.crossVectors(e.normal,to).normalize();const o=new w;return o.crossVectors(n,e.normal).normalize(),[n,o]}}else return null}redrawCurveHandles(){this._handles.forEach(t=>{this._root.remove(t)}),this._handles=[];for(let t=0;t<this.keyPoints.length;t++)for(let e=0;e<2;e++){const i=this.keyPoints[t].controls[e];i!=null&&i.showHandle&&this.addHandle(this.keyPoints[t].position,i.position)}}updateKeyPoint(t,e){const i=this._root.worldToLocal(e.clone());this.keyPoints[t].controls.forEach(n=>{if(n!=null){const o=this._v3.subVectors(n.position,this.keyPoints[t].position);this._v3_2.addVectors(i,o),n.position.copy(this._v3_2)}}),this.keyPoints[t].position.copy(i),this.reRenderCurve()}updateControlPoint(t,e,i,n=!1){var a;const o=this._root.worldToLocal(i.clone());if(n){this.keyPoints[t].mirroredControlPoints=!0;const l=this.keyPoints[t].controls[0],c=this.keyPoints[t].controls[1];if(t==0&&!this.isLoopClosed&&c!=null)c.position.copy(o),c.showHandle=!0;else if(t==this.keyPoints.length-1&&!this.isLoopClosed&&l!=null)l.position.copy(o),l.showHandle=!0;else{if(l==null||c==null)return!1;l.position.copy(o),l.showHandle=!0;const h=this._v3.addVectors(this.keyPoints[t].position,this._v3_2.subVectors(this.keyPoints[t].position,o));c.position.copy(h),c.showHandle=!0}}else{(a=this.keyPoints[t].controls[e])==null||a.position.copy(o);const l=this.keyPoints[t].controls[1-e];if(this.keyPoints[t].mirroredControlPoints&&l!=null){const c=this._v3.addVectors(this.keyPoints[t].position,this._v3_2.subVectors(this.keyPoints[t].position,o));l.position.copy(c),l.showHandle=!0}}this.reRenderCurve()}resetControlPoints(t){const e=this.keyPoints[t],i=e.controls[0],n=e.controls[1];if(i!=null&&n!=null)if(Wr(i.position,e.position)&&Wr(n.position,e.position)){const o=t==this.keyPoints.length-1?this.keyPoints[0].position:this.keyPoints[t+1].position,a=t==0?this.keyPoints[this.keyPoints.length-1].position:this.keyPoints[t-1].position,l=this._v3.addVectors(a,o).divideScalar(2),c=this._v3_2.subVectors(l,e.position),h=this._v3_3.addVectors(e.position,new w(-1*c.z,c.y,c.x)),d=a.clone(),u=o.clone(),f=d.distanceTo(u)*.25;i.position.copy(this._v3.addVectors(e.position,this._v3_2.subVectors(h,e.position).normalize().multiplyScalar(f))),i.showHandle=!0,n.position.copy(this._v3.addVectors(e.position,this._v3_2.subVectors(e.position,i.position))),n.showHandle=!0,d.distanceTo(i.position)>d.distanceTo(n.position)&&(this._v3.copy(i.position),i.position.copy(n.position),n.position.copy(this._v3))}else e.controls.forEach(o=>{o!=null&&(o.position.copy(this.keyPoints[t].position),o.showHandle=!0)});else for(const o of e.controls)if(o!=null)if(Wr(o.position,e.position)){const a=t==0?this.keyPoints[1].position:this.keyPoints[t-1].position,l=this._v3.addVectors(e.position,a).divideScalar(2),c=this._v3_2.subVectors(l,e.position),h=this._v3_3.addVectors(e.position,new w(-1*c.z,c.y,c.x));o.position.copy(h),o.showHandle=!0}else o!=null&&(o.position.copy(this.keyPoints[t].position),o.showHandle=!0);this.reRenderCurve()}resetControlPoint(t,e){const i=this.keyPoints[t].controls[e];i!=null&&(i.position.copy(this.keyPoints[t].position),i.showHandle=!1,this.keyPoints[t].mirroredControlPoints=!1),this.reRenderCurve()}toggleControlPointMirroring(t){this.keyPoints[t].mirroredControlPoints=!this.keyPoints[t].mirroredControlPoints}reRenderCurve(){return this._sceneEntity==null?!1:(this.redrawCurveHandles(),this.updateCurveParameters(),!0)}get canUndo(){return this.keyPoints.length>1}undo(){var t;this.canUndo&&(this._history.undo(),(t=this._curvePointGizmos)==null||t.updateTarget(),this.setupCurve(),this.undid.dispatch())}redo(){var t;this._history.redo(),(t=this._curvePointGizmos)==null||t.updateTarget(),this.setupCurve(),this.redid.dispatch()}keyPointToPositionGlobal(t,e=new w){const n=this.keyPoints[t].position;return this.localToWorld(n,e),e}}var uU=Object.defineProperty,x8t=Object.getOwnPropertyDescriptor,E8t=(s,t,e)=>t in s?uU(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Tr=(s,t,e,i)=>{for(var n=i>1?void 0:i?x8t(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&uU(t,e,n),n},qa=(s,t,e)=>(E8t(s,typeof t!="symbol"?t+"":t,e),e);const Nx=60,p_=300,Th=p_*Nx,S8t=1/p_,fU=.1,DS=p_*fU;function I8t(s,t,e){return Math.min(Math.max(s,t),e)}function Ow(s,t){return Math.round(s/t)*t}function K2(s){return Ow(s*S8t,fU)}class gr{constructor(t){this._editor=t,qa(this,"_isSceneEntitySelected",!1),qa(this,"_selectedTriggerEvent",Wt.POINTER_DOWN),qa(this,"_isTimelineExpanded",!1),qa(this,"_selectedAnimationRows",new Set),qa(this,"_animationDropTarget",null),qa(this,"_preDragPosition",{left:0,right:0}),qa(this,"_interactionsManager"),qa(this,"_minMaxHandles",{min:0,max:Th,minHandleId:"",maxHandleId:""}),qa(this,"_draggingHandleIds",null),qa(this,"_reactionDisposers",[]),qa(this,"_disposable",new Zt),qa(this,"_selectedTimelineHandleIds",new dK),qa(this,"_timelinePositionsByAnimationId",new ho),qa(this,"_wasLastSelectionMulti",!1),this._setSelectedTriggerEventFromSelection(this._editor.selectionController.selectedCollection),this._interactionsManager=new pN(this._editor);const e=this._editor.signals.selection.selectionChanged.add(({selection:i})=>{this._setSelectedTriggerEventFromSelection(i)});this._disposable.add(new tt(()=>{e.detach()})),this._watch(),td(this)}_setSelectedTriggerEventFromSelection(t){if(t.sceneEntities.size>0){this._isSceneEntitySelected=!0,this._selectedTriggerEvent=Wt.POINTER_DOWN;const e=t.sceneEntities.values().next().value;for(const i of Object.values(Wt))if(this.hasTriggerEvent(e.id,i)){this._selectedTriggerEvent=i;break}}else this._isSceneEntitySelected=!1,this._selectedTriggerEvent=Wt.AUTO}setMoveContext(t,e){this.deselectAnimationRows(),this._preDragPosition=e,this._draggingHandleIds=t,this._minMaxHandles=this._getMinMaxHandles()}get animationDropTarget(){return this._animationDropTarget}set animationDropTarget(t){this._animationDropTarget=t}onSelectTimelineRow(t,e){switch(e){case $t.REPLACE:{this._selectedAnimationRows.clear(),this._selectedAnimationRows.add(t);break}case $t.TOGGLE:{this._selectedAnimationRows.has(t)?this._selectedAnimationRows.delete(t):this._selectedAnimationRows.add(t);break}case $t.ADD:{let i=null;if(this._selectedAnimationRows.size>0){let n="";for(n of this._selectedAnimationRows.values());if(i=n,i!=null){const o=this._getIndexOfAnimation(i),a=this._getIndexOfAnimation(t);if(o!=null&&a!=null){const l=o<a?o:a,c=o>a?o:a;for(let h=l;h<=c;h++){const d=this.timelineAnimations[h];this._selectedAnimationRows.add(d.animation.id)}}}}this._selectedAnimationRows.add(t);break}}}deselectAnimationRows(){this._selectedAnimationRows.clear()}get selectedAnimationRows(){return this._selectedAnimationRows}updateSelectedPositions(t,e,i,n){const o=this._timelinePositionsByAnimationId.get(t);if(o==null||this._draggingHandleIds==null)return;let a=0,l=Th;this._selectedAnimationIds.size>1&&this._draggingHandleIds.length===2&&(this._draggingHandleIds.includes(this._minMaxHandles.minHandleId)||(a=this._preDragPosition.left-this._minMaxHandles.min),this._draggingHandleIds.includes(this._minMaxHandles.maxHandleId)||(l=this._preDragPosition.right+Th-this._minMaxHandles.max));const c=l,h=this._getTimelineWidth(o);n&&e==="left"&&(l-=h);const d=this._applyDeltaToPosition(o,e,i,a,l);n&&(e==="left"?d.accRight=Math.min(c,d.accLeft+h):d.accLeft=Math.max(a,d.accRight-h));const u=K2(d.accLeft),f=K2(h);this._timelinePositionsByAnimationId.set(t,{...d,left:Ow(d.accLeft,DS),right:Ow(d.accRight,DS),duration:f,delay:u});for(const p of this._selectedTimelineHandleIds){const[g,_]=p.split(":"),v=this._timelinePositionsByAnimationId.get(g);if(_!=="left"&&_!=="right"||g===t||v==null)continue;let y=this._getTimelineWidth(v,!1),b=0,C=Th;const x=`${g}:left`,I=`${g}:right`;this._selectedTimelineHandleIds.has(x)&&this._selectedTimelineHandleIds.has(I)&&this._draggingHandleIds.length===2&&(this._minMaxHandles.minHandleId!==p&&(b=a+(v.left-o.left)),this._minMaxHandles.maxHandleId!==p&&(C=c-(o.right-v.right)),_==="left"?C-=y:_==="right"&&(b+=y));const O=this._applyDeltaToPosition(v,_,i,b,C);O.delay=K2(O.left),y=this._getTimelineWidth(O,!1),O.duration=K2(y),this._timelinePositionsByAnimationId.set(g,O)}}saveUpdatedTimelinePositions(){this._preDragPosition={left:0,right:0},this._draggingHandleIds=null;const t=new Set,e=[];for(const i of this._selectedTimelineHandleIds){const[n,o]=i.split(":");t.add(n)}for(const i of this._selectedAnimationIds){const n=this._timelinePositionsByAnimationId.get(i);if(n==null)continue;const o=this.timelineAnimations.find(p=>p.animation.id===i);if(o==null)return;const{interactionId:a,interactionsComponent:l,animation:c}=o,h=l.get(a);if(h==null)return;const{trigger:d,animations:u}=h,f={...u,[c.id]:{...c,duration:n.duration,delay:n.delay}};e.push({component:l,interactionId:a,trigger:d,animations:f})}this._interactionsManager.updateInteractionsIndividually(e)}get wasLastSelectionMulti(){return this._wasLastSelectionMulti}set wasLastSelectionMulti(t){this._wasLastSelectionMulti=t}get selectedTriggerEvent(){return this._selectedTriggerEvent}set selectedTriggerEvent(t){this._selectedTriggerEvent=t}get isTimelineExpanded(){return this._isTimelineExpanded}set isTimelineExpanded(t){this._isTimelineExpanded=t}hasTriggerEvent(t,e){return this._getInteractionsTriggeredBySelection(t).find(n=>n.interaction.trigger.event===e)!=null}get isSceneEntitySelected(){return this._isSceneEntitySelected}get timelinePositionsByAnimationId(){return this._timelinePositionsByAnimationId}isEntityInteractive(t){const e=this._interactionIdsByTargetEntityId.get(t);return e!=null&&e.size>0}get selectedTimelineHandleIds(){return this._selectedTimelineHandleIds}set selectedTimelineHandleIds(t){this._selectedTimelineHandleIds.clear();for(const e of t)this._selectedTimelineHandleIds.add(e)}get timelineAnimations(){const t=this._editor.stateMachineController.selectedEntities,e=t.length===1?t[0]:null,i=this._getInteractionsTriggeredBySelection((e==null?void 0:e.id)??null),n={};for(const{interactionId:d,interaction:u,interactionsComponent:f}of i){if(u==null||Object.values(u.animations).length<1||u.trigger.event!==this._selectedTriggerEvent)continue;const p=Object.values(u.animations)[0],g=Ur(p);let _;if(g?p.sceneEntityId===Ms?_=this._editor.sceneController.sceneEntitiesById[f.entity.id]:this._editor.sceneController.sceneEntitiesById[p.sceneEntityId]:_=this._editor.sceneController.statefulScene,_==null){console.warn("No entity found for animation",hs(p));continue}const v=this._labelForStateId(p.fromStateId,_.states),y=this._labelForStateId(p.toStateId,_.states),b={interactionId:d,interactionsComponent:f,animation:p,fromStateLabel:v,toStateLabel:y,trigger:u.trigger};if(Ur(p)){if(_!=null){const C=_;if(e!=null&&u.trigger.event===Wt.AUTO&&e.id!==C.id)continue;const x=n[C.id]??{};n[C.id]={...x,[d]:{...b,name:C.name}}}}else if(eb(p)){const C=n[ci]??{};n[ci]={...C,[d]:{...b,name:"Scene"}}}}const o=Object.values(n).flatMap(d=>Object.values(d)),a=this._editor.sceneController,c=(e??a.statefulScene).interactions.timelineIndicesByAnimationId;return o.sort(({animation:d},{animation:u})=>{const f=c[d.id],p=c[u.id];return f==null&&p==null?0:f==null?-1:p==null?1:f<p?-1:1})}currentStateLabelForEntity(t){const e=t===ci?this._editor.sceneController.statefulScene:this._editor.sceneController.sceneEntitiesById[t];return e!=null?this._labelForStateId(e.states.stateId,e.states):""}get _selectedAnimationIds(){const t=new Set;for(const e of this._selectedTimelineHandleIds){const[i,n]=e.split(":");t.add(i)}return t}_labelForStateId(t,e){if(t===sr)return"Any";if(t==null)return"Base";{const i=e.getState(t);return(i==null?void 0:i.name)??"Unknown"}}_getInteractionsTriggeredBySelection(t){const e=t??ci,i=this._interactionIdsByTargetEntityId.get(e),n=[];if(i==null)return n;for(const o of i){const a=this._interactionComponentsByInteractionId[o];if(a==null)continue;const l=a.get(o);l!=null&&n.push({interaction:l,interactionsComponent:a,interactionId:o})}return n}get _interactionIdsByTargetEntityId(){const t=new Map,e=this._editor.sceneController.allInteractionsComponents;for(const i of e)for(const[n,{trigger:o,animations:a}]of i.entries){let l=[];const c=Object.values(a);if(o.type===te.POINTER)l=o.targetEntityIds;else if(o.type===te.COLLIDER)l=[...o.targetEntityIds2??[],...o.targetEntityIds??[]];else if([te.AUTO,te.KEYBOARD].includes(o.type)){const h=c.length?c[0]:null;h!=null&&(Ur(h)?l=h.sceneEntityId===Ms?[i.entityId]:[h.sceneEntityId]:l=[ci])}if(o.type===te.AUTO&&l.push(ci),l!=null)for(const h of l){const d=h===Ms?i.entityId:h,u=t.get(d);u==null?t.set(d,new Set([n])):u.add(n)}}return t}get _interactionComponentsByInteractionId(){const t={};for(const e of this._editor.sceneController.allInteractionsComponents)for(const[i,n]of e.entries)t[i]=e;return t}_getTimelineVarsForAnimation(t){const e=t.delay??0,i=e*p_/Th*Th,n=(e+t.duration)*p_/Th*Th;return{left:i,right:n,accLeft:i,accRight:n,duration:t.duration,delay:t.delay??0}}dispose(){this._disposable.dispose();for(const t of this._reactionDisposers)t&&t()}_tryDeleteSelection(){const t=new Set,e=[];for(const i of this._selectedTimelineHandleIds){const[n,o]=i.split(":"),a=o==="left"?"right":"left";this._selectedTimelineHandleIds.has(`${n}:${a}`)&&t.add(n)}for(const i of t){const n=this.timelineAnimations.find(c=>c.animation.id===i);if(n==null)return;const{interactionId:o,interactionsComponent:a}=n;if(a.get(o)==null)return;e.push({component:a,interactionIds:new Set([o])})}this._interactionsManager.removeInteractions(e)}_applyDeltaToPosition(t,e,i,n,o){const a=e==="left"?"accLeft":"accRight",l=Math.max(0,n),c=Math.min(o,Th),h=I8t(t[a]+i,l,c);return{...t,[a]:h,[e]:Ow(h,DS)}}_getTimelineWidth(t,e=!0){const i=e?"accLeft":"left";return Math.max(0,t[e?"accRight":"right"]-t[i])}_setTimelinePositionsFromData(){this._timelinePositionsByAnimationId.clear();for(const t of this._editor.sceneController.allInteractionsComponents)for(const[e,i]of t.entries){const n=Object.values(i.animations);if(n.length===0)continue;const o=n[0],a=this._getTimelineVarsForAnimation(o);this._timelinePositionsByAnimationId.set(o.id,a)}}addKeyListeners(t){const e=new Uw(t),i=["del","backspace"];e.bind(i,n=>{n.repeat||(n.stopPropagation(),this._tryDeleteSelection())}),this._disposable.add(new tt(()=>{e.unbind(i)}))}_getMinMaxHandles(){let t=Th,e=0,i="",n="";const o=new Set;for(const a of this._selectedTimelineHandleIds){const[l,c]=a.split(":");o.add(l)}for(const a of o){const l=this._timelinePositionsByAnimationId.get(a);l!=null&&(l.left<t&&(t=l.left,i=`${a}:left`),l.right>e&&(e=l.right,n=`${a}:right`))}return{min:t,max:e,minHandleId:i,maxHandleId:n}}handleAnimationEntityHoverEnter(t){if(Ur(t)){const e=t.sceneEntityId,i=this._editor.sceneController.getSceneEntityById(e);i&&this._editor.selectionController.hoveredCollection.addSceneEntity(i)}}handleAnimationEntityHoverLeave(t){if(Ur(t)){const e=t.sceneEntityId,i=this._editor.sceneController.getSceneEntityById(e);i&&this._editor.selectionController.hoveredCollection.removeSceneEntity(i)}}handleAnimationEntitySelect(t){if(Ur(t)){const e=t.sceneEntityId,i=this._editor.sceneController.getSceneEntityById(e);i&&this._editor.selectionController.selectedCollection.set(i)}else eb(t)&&this._editor.selectionController.selectedCollection.removeAll()}reorderSelectedAnimationRows(t,e){if(this._editor.stateMachineController.interactionsComponents.length!==1)return;const i=this._editor.stateMachineController.interactionsComponents[0];if(i==null||this._selectedAnimationRows.size<1)return;const n=Array.from(this._selectedAnimationRows).sort((d,u)=>{const f=this._getIndexOfAnimation(d)??0,p=this._getIndexOfAnimation(u)??0;return f-p});let o=i.timelineIndicesByAnimationId;if(Object.keys(o).length<this.timelineAnimations.length){const d=Object.fromEntries(this.timelineAnimations.map(({animation:u})=>[u.id,u]).reverse());i.addTimelineIndicesForAnimations(d)}o=i.timelineIndicesByAnimationId;const a=o[t],l=this._getIndexOfAnimation(t),c=w6(this.timelineAnimations,n.length,d=>o[d.animation.id],e,a,l),h=Jw(i)?{action:P.SCENE_METADATA}:{action:P.METADATA,selection:[i]};if(this._editor.stateController.recordBefore(h),c.length!=n.length){console.warn("Error generating indices mismatched length");return}for(let d=0;d<c.length;d++){const u=c[d],f=n[d];i.setTimelineIndicesByAnimationId({[f]:u})}this._editor.stateController.signals.interactions.dispatch(h),this._editor.stateController.recordAfter(h)}_getIndexOfAnimation(t){return this.timelineAnimations.findIndex(e=>e.animation.id===t)}_watch(){const t=rt(()=>{this._setTimelinePositionsFromData()});this._reactionDisposers.push(t)}}Tr([V],gr.prototype,"_isSceneEntitySelected",2);Tr([V],gr.prototype,"_selectedTriggerEvent",2);Tr([V],gr.prototype,"_isTimelineExpanded",2);Tr([V],gr.prototype,"_selectedAnimationRows",2);Tr([V],gr.prototype,"_animationDropTarget",2);Tr([V],gr.prototype,"_selectedTimelineHandleIds",2);Tr([V],gr.prototype,"_timelinePositionsByAnimationId",2);Tr([V],gr.prototype,"_wasLastSelectionMulti",2);Tr([E],gr.prototype,"animationDropTarget",1);Tr([E],gr.prototype,"onSelectTimelineRow",1);Tr([E],gr.prototype,"deselectAnimationRows",1);Tr([E],gr.prototype,"updateSelectedPositions",1);Tr([M],gr.prototype,"timelineAnimations",1);Tr([M],gr.prototype,"_selectedAnimationIds",1);Tr([M],gr.prototype,"_interactionIdsByTargetEntityId",1);Tr([M],gr.prototype,"_interactionComponentsByInteractionId",1);Tr([E],gr.prototype,"_setTimelinePositionsFromData",1);var pU=Object.defineProperty,A8t=Object.getOwnPropertyDescriptor,T8t=(s,t,e)=>t in s?pU(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,km=(s,t,e,i)=>{for(var n=A8t(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&pU(t,e,n),n},KO=(s,t,e)=>(T8t(s,typeof t!="symbol"?t+"":t,e),e);class Wf{constructor(t){this._editor=t,KO(this,"_disposable",new Zt),KO(this,"expandedCollection",new Rs(this._editor,e=>this._editor.signals.selection.expandedChanged.dispatch({selection:e}))),vt(this),this._disposable.add(this._addSignalBindings()),this._disposable.add(new tt(()=>{this.expandedCollection.removeAll()}))}dispose(){this._disposable.dispose()}_addSignalBindings(){const t=[],{signals:e}=this._editor;return t.push(e.selection.selectionChanged.add(({selection:i})=>{for(const n of i.sceneEntities){const o=[];n.forEachParent(a=>{o.push(a)}),this.expandedCollection.add(o)}})),new tt(()=>{for(const i of t)i.detach()})}toggleThisAndChildrenExpanded(t){const e=[];e.push(t),t.forEachChildRecursive(i=>{e.push(i)}),this.isExpanded(t)?this.collapseAll(e):this.expandAll(e)}toggleExpanded(t){this.isExpanded(t)?this.collapse(t):this.expand(t)}expand(t){t.hasChildren&&this.expandedCollection.addSceneEntity(t)}collapse(t){this.expandedCollection.removeSceneEntity(t)}expandAll(t){t=t.filter(e=>e.hasChildren),this.expandedCollection.add(t)}collapseAll(t){this.expandedCollection.remove(t)}collapseAllExceptParents(t){const e=this._editor.sceneController.getParentsRecursive(t);this.expandedCollection.set(e)}expandParents(t){const e=this._editor.sceneController.getParentsRecursive(t);this.expandedCollection.add(e)}isExpanded(t){return this.expandedCollection.sceneEntityIds.has(t.id)}}km([E],Wf.prototype,"toggleThisAndChildrenExpanded");km([E],Wf.prototype,"toggleExpanded");km([E],Wf.prototype,"expand");km([E],Wf.prototype,"collapse");km([E],Wf.prototype,"expandAll");km([E],Wf.prototype,"collapseAll");km([E],Wf.prototype,"collapseAllExceptParents");km([E],Wf.prototype,"expandParents");var gt=(s=>(s.COUNT="count",s.BOOLEAN="boolean",s.STRING="string",s))(gt||{}),Mo=(s=>(s.B="byte",s.KB="kilobyte",s.MB="megabyte",s.GB="gigabyte",s))(Mo||{}),Fc=(s=>(s.MS="millisecond",s.S="second",s.M="minute",s.H="hour",s))(Fc||{}),us=(s=>(s.PX="pixels",s))(us||{}),tr=(s=>(s.POLY_COUNT="polyCount",s.GEOMETRY_BYTES_USED="geometryBytesUsed",s.HIGHEST_POLY_COUNT="highestPolyCount",s))(tr||{}),qt=(s=>(s.IS_LIBRARY_MATERIAL="isLibraryMaterial",s.MATERIAL_COUNT="materialCount",s.MATERIAL_INSTANCES_COUNT="materialInstancesCount",s.STYLE_COUNT="styleCount",s.STYLE_INSTANCES_COUNT="styleInstancesCount",s.MATERIAL_TYPE="materialType",s.STANDARD_MATERIAL_COUNT="standardMaterialCount",s.OCCLUSION_MATERIAL_COUNT="occlusionMaterialCount",s.TOON_MATERIAL_COUNT="toonMaterialCount",s.SHADOW_MATERIAL_COUNT="shadowMaterialCount",s.UNLIT_MATERIAL_COUNT="unlitMaterialCount",s.PHYSICAL_MATERIAL_COUNT="physicalMaterialCount",s.MAP_COUNT="mapCount",s.MAP_RESOLUTION="mapResolution",s.MAP_BYTES_USED="mapBytesUsed",s.LARGEST_MAP_RESOLUTION="largestMapResolution",s.MEDIAN_MAP_RESOLUTION="medianMapResolution",s))(qt||{}),Qt=(s=>(s.COMPONENT_NAME="componentName",s.IS_VISIBLE="isVisible",s.VISIBLE_OBJECT_COUNT="visibleObjectCount",s.CASTS_SHADOW="castsShadow",s.SHADOW_CASTING_OBJECT_COUNT="shadowCastingObjectCount",s.RECEIVES_SHADOW="receivesShadows",s.SHADOW_RECEIVING_OBJECT_COUNT="shadowReceivingObjectCount",s.IS_INTERACTIVE="isInteractive",s.INTERACTIVE_OBJECT_COUNT="interactiveObjectCount",s.IS_DOUBLE_SIDED="isDoubleSided",s.DOUBLE_SIDED_OBJECT_COUNT="doubleSideObjectCount",s.LIGHT_TYPE="lightType",s.DIRECTIONAL_LIGHT_COUNT="directionalLightCount",s.POINT_LIGHT_COUNT="pointLightCount",s.SPOT_LIGHT_COUNT="spotLightCount",s.AREA_LIGHT_COUNT="areaLightCount",s.LIGHT_COUNT="lightCount",s.OBJECT_TYPE="objectType",s.MESH_COUNT="meshCount",s.GROUP_COUNT="groupCount",s.FRAME_COUNT="frameCount",s.OBJECT_COUNT="objectCount",s))(Qt||{}),ao=(s=>(s.HDRI_BYTES_USED="hdriBytesUsed",s.HDRI_RESOLUTION="hdrResolution",s.HDRI_LIGHTING="hdriLighting",s.HDRI_BACKGROUND="hdriBackground",s))(ao||{}),zp=(s=>(s.GEOMETRY="geometry",s.MATERIAL="material",s.OTHER="other",s.SCENE="scene",s))(zp||{}),Ey=(s=>(s.INFO="info",s.WARN="warn",s.ERROR="error",s))(Ey||{}),me=(s=>(s.LARGE="large",s.MEDIUM="medium",s.SMALL="small",s.UNKNOWN="unknown",s))(me||{}),mt=(s=>(s.MOBIlE="mobile",s.QUEST2="quest2",s.QUEST3="quest3",s.DESKTOP="desktop",s))(mt||{}),fo=(s=>(s.OVERVIEW="overview",s.GEOMETRY="geometry",s.MATERIALS="materials",s.OTHER="other",s))(fo||{}),kl=(s=>(s.GEOMETRY="geometry",s.MATERIALS="materials",s.OTHER="other",s))(kl||{}),tl;(s=>{s.SceneInsights={[tr.POLY_COUNT]:{deviceTargets:{[mt.DESKTOP]:{warningLimit:{value:1e6,unit:gt.COUNT}},[mt.QUEST3]:{warningLimit:{value:16e4,unit:gt.COUNT}},[mt.QUEST2]:{warningLimit:{value:1e5,unit:gt.COUNT}},[mt.MOBIlE]:{warningLimit:{value:5e4,unit:gt.COUNT}}}},[qt.LARGEST_MAP_RESOLUTION]:{deviceTargets:{[mt.DESKTOP]:{warningLimit:{value:4096,unit:us.PX}},[mt.QUEST3]:{warningLimit:{value:2048,unit:us.PX}},[mt.QUEST2]:{warningLimit:{value:1024,unit:us.PX}},[mt.MOBIlE]:{warningLimit:{value:1024,unit:us.PX}}}},[qt.PHYSICAL_MATERIAL_COUNT]:{deviceTargets:{[mt.DESKTOP]:{warningLimit:{value:16,unit:gt.COUNT}},[mt.QUEST3]:{warningLimit:{value:8,unit:gt.COUNT}},[mt.QUEST2]:{warningLimit:{value:4,unit:gt.COUNT}},[mt.MOBIlE]:{warningLimit:{value:2,unit:gt.COUNT}}}},[Qt.AREA_LIGHT_COUNT]:{deviceTargets:{[mt.DESKTOP]:{warningLimit:{value:2,unit:gt.COUNT}},[mt.QUEST3]:{warningLimit:{value:1,unit:gt.COUNT}},[mt.QUEST2]:{warningLimit:{value:1,unit:gt.COUNT}},[mt.MOBIlE]:{warningLimit:{value:1,unit:gt.COUNT}}}},[Qt.SPOT_LIGHT_COUNT]:{deviceTargets:{[mt.DESKTOP]:{warningLimit:{value:8,unit:gt.COUNT}},[mt.QUEST3]:{warningLimit:{value:5,unit:gt.COUNT}},[mt.QUEST2]:{warningLimit:{value:3,unit:gt.COUNT}},[mt.MOBIlE]:{warningLimit:{value:2,unit:gt.COUNT}}}},[Qt.POINT_LIGHT_COUNT]:{deviceTargets:{[mt.DESKTOP]:{warningLimit:{value:12,unit:gt.COUNT}},[mt.QUEST3]:{warningLimit:{value:6,unit:gt.COUNT}},[mt.QUEST2]:{warningLimit:{value:4,unit:gt.COUNT}},[mt.MOBIlE]:{warningLimit:{value:3,unit:gt.COUNT}}}},[ao.HDRI_RESOLUTION]:{deviceTargets:{[mt.DESKTOP]:{warningLimit:{value:4096,unit:us.PX}},[mt.QUEST3]:{warningLimit:{value:2048,unit:us.PX}},[mt.QUEST2]:{warningLimit:{value:2048,unit:us.PX}},[mt.MOBIlE]:{warningLimit:{value:1024,unit:us.PX}}}}},s.GeometryInsights={[tr.POLY_COUNT]:{deviceTargets:{[mt.DESKTOP]:{small2Medium:{value:5e3,unit:gt.COUNT},medium2Large:{value:5e4,unit:gt.COUNT},warningLimit:{value:1e5,unit:gt.COUNT}},[mt.QUEST3]:{small2Medium:{value:1200,unit:gt.COUNT},medium2Large:{value:15e3,unit:gt.COUNT},warningLimit:{value:105e3,unit:gt.COUNT}},[mt.QUEST2]:{small2Medium:{value:800,unit:gt.COUNT},medium2Large:{value:1e4,unit:gt.COUNT},warningLimit:{value:7e4,unit:gt.COUNT}},[mt.MOBIlE]:{small2Medium:{value:600,unit:gt.COUNT},medium2Large:{value:8e3,unit:gt.COUNT},warningLimit:{value:5e4,unit:gt.COUNT}}}}},s.MaterialInsights={[qt.LARGEST_MAP_RESOLUTION]:{deviceTargets:{[mt.DESKTOP]:{small2Medium:{value:1024,unit:us.PX},medium2Large:{value:2048,unit:us.PX},warningLimit:{value:4096,unit:us.PX}},[mt.QUEST3]:{small2Medium:{value:512,unit:us.PX},medium2Large:{value:1024,unit:us.PX},warningLimit:{value:2048,unit:us.PX}},[mt.QUEST2]:{small2Medium:{value:256,unit:us.PX},medium2Large:{value:512,unit:us.PX},warningLimit:{value:1024,unit:us.PX}},[mt.MOBIlE]:{small2Medium:{value:256,unit:us.PX},medium2Large:{value:512,unit:us.PX},warningLimit:{value:1024,unit:us.PX}}}},[qt.MAP_COUNT]:{deviceTargets:{[mt.DESKTOP]:{small2Medium:{value:3,unit:gt.COUNT},medium2Large:{value:4,unit:gt.COUNT},warningLimit:{value:6,unit:gt.COUNT}},[mt.QUEST3]:{small2Medium:{value:3,unit:gt.COUNT},medium2Large:{value:4,unit:gt.COUNT},warningLimit:{value:5,unit:gt.COUNT}},[mt.QUEST2]:{small2Medium:{value:2,unit:gt.COUNT},medium2Large:{value:3,unit:gt.COUNT},warningLimit:{value:4,unit:gt.COUNT}},[mt.MOBIlE]:{small2Medium:{value:1,unit:gt.COUNT},medium2Large:{value:2,unit:gt.COUNT},warningLimit:{value:3,unit:gt.COUNT}}}}},s.OtherInsights={[Qt.POINT_LIGHT_COUNT]:{deviceTargets:{[mt.DESKTOP]:{small2Medium:{value:6,unit:gt.COUNT},medium2Large:{value:8,unit:gt.COUNT},warningLimit:{value:12,unit:gt.COUNT}},[mt.QUEST3]:{small2Medium:{value:4,unit:gt.COUNT},medium2Large:{value:5,unit:gt.COUNT},warningLimit:{value:6,unit:gt.COUNT}},[mt.QUEST2]:{small2Medium:{value:2,unit:gt.COUNT},medium2Large:{value:3,unit:gt.COUNT},warningLimit:{value:4,unit:gt.COUNT}},[mt.MOBIlE]:{small2Medium:{value:1,unit:gt.COUNT},medium2Large:{value:2,unit:gt.COUNT},warningLimit:{value:3,unit:gt.COUNT}}}},[Qt.SPOT_LIGHT_COUNT]:{deviceTargets:{[mt.DESKTOP]:{medium2Large:{value:6,unit:gt.COUNT},warningLimit:{value:8,unit:gt.COUNT}},[mt.QUEST3]:{medium2Large:{value:4,unit:gt.COUNT},warningLimit:{value:5,unit:gt.COUNT}},[mt.QUEST2]:{medium2Large:{value:2,unit:gt.COUNT},warningLimit:{value:3,unit:gt.COUNT}},[mt.MOBIlE]:{medium2Large:{value:1,unit:gt.COUNT},warningLimit:{value:2,unit:gt.COUNT}}}},[Qt.AREA_LIGHT_COUNT]:{deviceTargets:{[mt.DESKTOP]:{medium2Large:{value:1,unit:gt.COUNT},warningLimit:{value:2,unit:gt.COUNT}},[mt.QUEST3]:{medium2Large:{value:0,unit:gt.COUNT},warningLimit:{value:1,unit:gt.COUNT}},[mt.QUEST2]:{medium2Large:{value:0,unit:gt.COUNT},warningLimit:{value:1,unit:gt.COUNT}},[mt.MOBIlE]:{medium2Large:{value:0,unit:gt.COUNT},warningLimit:{value:1,unit:gt.COUNT}}}},[Qt.SHADOW_CASTING_OBJECT_COUNT]:{deviceTargets:{[mt.DESKTOP]:{warningLimit:{value:100,unit:gt.COUNT}},[mt.QUEST3]:{warningLimit:{value:50,unit:gt.COUNT}},[mt.QUEST2]:{warningLimit:{value:0,unit:gt.COUNT}},[mt.MOBIlE]:{warningLimit:{value:0,unit:gt.COUNT}}}},[Qt.SHADOW_RECEIVING_OBJECT_COUNT]:{deviceTargets:{[mt.DESKTOP]:{warningLimit:{value:100,unit:gt.COUNT}},[mt.QUEST3]:{warningLimit:{value:50,unit:gt.COUNT}},[mt.QUEST2]:{warningLimit:{value:0,unit:gt.COUNT}},[mt.MOBIlE]:{warningLimit:{value:0,unit:gt.COUNT}}}}},s.HDRInsights={[ao.HDRI_RESOLUTION]:{deviceTargets:{[mt.DESKTOP]:{small2Medium:{value:1024,unit:us.PX},medium2Large:{value:2048,unit:us.PX},warningLimit:{value:4096,unit:us.PX}},[mt.QUEST3]:{small2Medium:{value:512,unit:us.PX},medium2Large:{value:1024,unit:us.PX},warningLimit:{value:2048,unit:us.PX}},[mt.QUEST2]:{small2Medium:{value:512,unit:us.PX},medium2Large:{value:1024,unit:us.PX},warningLimit:{value:2048,unit:us.PX}},[mt.MOBIlE]:{small2Medium:{value:256,unit:us.PX},medium2Large:{value:512,unit:us.PX},warningLimit:{value:1024,unit:us.PX}}}}},s.ImpactByLightType={[$o.DIRECTIONAL]:{deviceTargets:{[mt.DESKTOP]:me.SMALL,[mt.QUEST3]:me.SMALL,[mt.QUEST2]:me.SMALL,[mt.MOBIlE]:me.SMALL}},[$o.POINT]:{deviceTargets:{[mt.DESKTOP]:me.MEDIUM,[mt.QUEST3]:me.MEDIUM,[mt.QUEST2]:me.MEDIUM,[mt.MOBIlE]:me.MEDIUM}},[$o.SPOT]:{deviceTargets:{[mt.DESKTOP]:me.MEDIUM,[mt.QUEST3]:me.MEDIUM,[mt.QUEST2]:me.MEDIUM,[mt.MOBIlE]:me.MEDIUM}},[$o.AREA]:{deviceTargets:{[mt.DESKTOP]:me.LARGE,[mt.QUEST3]:me.LARGE,[mt.QUEST2]:me.LARGE,[mt.MOBIlE]:me.LARGE}}},s.ImpactByMaterialType={[ue.Standard]:{deviceTargets:{[mt.DESKTOP]:me.SMALL,[mt.QUEST3]:me.MEDIUM,[mt.QUEST2]:me.MEDIUM,[mt.MOBIlE]:me.MEDIUM}},[ue.Unlit]:{deviceTargets:{[mt.DESKTOP]:me.SMALL,[mt.QUEST3]:me.SMALL,[mt.QUEST2]:me.SMALL,[mt.MOBIlE]:me.SMALL}},[ue.Toon]:{deviceTargets:{[mt.DESKTOP]:me.SMALL,[mt.QUEST3]:me.MEDIUM,[mt.QUEST2]:me.MEDIUM,[mt.MOBIlE]:me.MEDIUM}},[ue.Physical]:{deviceTargets:{[mt.DESKTOP]:me.MEDIUM,[mt.QUEST3]:me.LARGE,[mt.QUEST2]:me.LARGE,[mt.MOBIlE]:me.LARGE}},[ue.Shadow]:{deviceTargets:{[mt.DESKTOP]:me.MEDIUM,[mt.QUEST3]:me.LARGE,[mt.QUEST2]:me.LARGE,[mt.MOBIlE]:me.LARGE}},[ue.Occluder]:{deviceTargets:{[mt.DESKTOP]:me.SMALL,[mt.QUEST3]:me.SMALL,[mt.QUEST2]:me.SMALL,[mt.MOBIlE]:me.SMALL}}},s.FileInsights={fileSize:[{value:100,unit:Mo.MB},{value:500,unit:Mo.MB}],fileLoadTime:[{value:2,unit:Fc.S},{value:10,unit:Fc.S}]}})(tl||(tl={}));var Ut;(s=>{s.HDRI_TEXT="HDRI light",s.HDRI_ICON=gtt;function t(Q){return typeof Q=="number"?Q>0:typeof Q=="boolean"?Q:typeof Q=="string"?!!Q:Q.width>0&&Q.height>0}s.shouldDisplayValue=t;function e(Q,Gt){if(G(Q)&&G(Gt))return i(Q,Gt);if(st(Q)&&st(Gt)){const ze=p(Q),$e=p(Gt);return ze>$e}if(X(Q)&&Y(Q.value)&&X(Gt)){const ze=Q.value.width*Q.value.height,$e=C(Gt.value);return $e?ze>$e:!1}if($(Q)&&$(Gt)){const ze=c(Q),$e=c(Gt);return ze>$e}return U.warn("Mismatch in metric and threshold units"),!1}s.doesMetricExceedThreshold=e;function i(Q,Gt){if(B(Q)&&B(Gt))return Q.value>Gt.value;if(F(Q)&&F(Gt)){const ze=Q.value,$e=Gt.value;return ze&&!$e}return k(Q)&&k(Gt)||U.warn("Mismatch in metric and threshold unit types"),!1}s.doesUnitlessMetricExceedThreshold=i;function n(Q,Gt,ze){return Q<Gt?me.SMALL:Q<ze?me.MEDIUM:me.LARGE}s.getImpactByNumericThresholds=n;const o=1e3,a=60*o,l=60*a;function c(Q){switch(Q.unit){case Fc.H:return Math.floor(Q.value*l);case Fc.M:return Math.floor(Q.value*a);case Fc.S:return Math.floor(Q.value*o);case Fc.MS:default:return Q.value}}s.getMSFromTimeMetric=c;const h=1024,d=1024*h,u=1024*d;function f(Q){const Gt=p(Q);return Gt>u?{value:Gt/u,unit:Mo.GB}:Gt>d?{value:Gt/d,unit:Mo.MB}:Gt>h?{value:Gt/h,unit:Mo.KB}:{value:Gt,unit:Mo.B}}s.autoConvertMemoryMetric=f;function p(Q){switch(Q.unit){case Mo.GB:return Math.floor(Q.value*u);case Mo.MB:return Math.floor(Q.value*d);case Mo.KB:return Math.floor(Q.value*h);case Mo.B:default:return Q.value}}s.getBytesFromMemoryMetric=p;const g=1e3,_=1e3*g;function v(Q,Gt=0){let ze=Q.toString();return Q>=_?ze=(Q/_).toFixed(Gt)+"M":Q>=10*g&&(ze=(Q/g).toFixed(Gt)+"k"),ze}s.shortenCountValue=v;function y(Q,Gt=1,ze=4){const $e=vat(Q).length,Oo=zj(Q).length;let _r=0;return Oo<=Gt?_r=Oo:$e>ze?_r=Gt:_r=Math.max(Gt,ze-$e),Q.toFixed(_r)}s.toAutoFixed=y;function b(Q){return{width:Q.width,height:Q.height}}s.copySize=b;function C(Q){if(typeof Q=="number")return Q*Q;if(Y(Q))return Q.width*Q.height}s.getThresholdMapPixels=C;function x({value:Q,unit:Gt}){return typeof Q=="number"&&Gt==us.PX?{value:{width:Q,height:Q},unit:Gt}:{value:Q,unit:Gt}}s.fixMapMetricThreshold=x;function I(Q){return Y(Q)?O(Q):Q.toString()}s.stringifyMetricValue=I;function O(Q){return`${Q.width} x ${Q.height}`}s.stringifySize=O;function T(Q){if(st(Q)){const Gt=f(Q);return{value:y(Gt.value,0,3),unit:Gt.unit}}else if(B(Q))return{value:v(Q.value),unit:Q.unit};return Q}s.autoConvertMetric=T;function D(Q){const Gt=T(Q);return{value:I(Gt.value),unit:ut(Gt.unit)}}s.stringifyMetric=D;function B(Q){return Q.unit==gt.COUNT&&typeof Q.value=="number"}s.isNumericMetric=B;function F(Q){return Q.unit==gt.BOOLEAN&&typeof Q.value=="boolean"}s.isBooleanMetric=F;function k(Q){return Q.unit==gt.STRING&&typeof Q.value=="string"}s.isStringMetric=k;function Y(Q){return typeof Q=="object"&&Q.width!=null&&Q.height!=null}s.isMapSize=Y;function G(Q){return Object.values(gt).includes(Q.unit)}s.isUnitlessMetric=G;function st(Q){return Object.values(Mo).includes(Q.unit)}s.isMemoryMetric=st;function $(Q){return Object.values(Fc).includes(Q.unit)}s.isTimeMetric=$;function X(Q){return Object.values(us).includes(Q.unit)}s.isMapMetric=X;function q(Q){return new Set(Object.values(tr)).has(Q)}s.isGeometryMetric=q;function at(Q){return new Set(Object.values(qt)).has(Q)}s.isMaterialMetric=at;function bt(Q){return new Set(Object.values(Qt)).has(Q)}s.isOtherMetric=bt;function lt(Q){return new Set(Object.values(ao)).has(Q)}s.isHDRMetric=lt;function ct(Q){return nt.has(Q)}s.isInstanceCountMetric=ct;const nt=new Set([qt.MATERIAL_INSTANCES_COUNT,qt.STYLE_INSTANCES_COUNT]);function ot(Q){return q(Q)?zp.GEOMETRY:at(Q)?zp.MATERIAL:bt(Q)?zp.OTHER:lt(Q)?zp.SCENE:zp}s.getCategoryFromMetricType=ot;function Et(Q,Gt,ze){const $e=Ot(Gt,ze);if($e&&$e.deviceTargets)return $e.deviceTargets[Q]}s.getThresholdsFordDeviceTargetAndMetricType=Et;function Ot(Q,Gt){return Gt?tl.SceneInsights[Q]:q(Q)?tl.GeometryInsights[Q]:at(Q)?tl.MaterialInsights[Q]:bt(Q)?tl.OtherInsights[Q]:lt(Q)?tl.HDRInsights[Q]:tl}s.getInsightProfileForMetricType=Ot;function ut(Q){switch(Q){case Mo.B:return"B";case Mo.KB:return"KB";case Mo.MB:return"MB";case Mo.GB:return"GB";case Fc.MS:return"ms";case Fc.S:return"sec";case Fc.M:return"min";case Fc.H:return"hr";default:return""}}s.labelForUnit=ut;function yt(Q){if(Q.size==0)return"Scene";const Gt=ax(Q);return Gt?Gt.name:"Multiple"}s.labelForObjectNames=yt;function Kt(Q){if(Q.size==1){const Gt=ax(Q);if(Gt)return hb(Gt.type)}else if(Q.size>1)return"Objects";return null}s.labelForObjectTypes=Kt;function ye(Q){return Cs[Q]}s.labelForImpact=ye;const Cs={[me.UNKNOWN]:"Unknown",[me.SMALL]:"Small",[me.MEDIUM]:"Medium",[me.LARGE]:"Large"};function He(Q){return je[Q]}s.labelForOverviewCategory=He;const je={[kl.GEOMETRY]:"Geometry",[kl.MATERIALS]:"Materials",[kl.OTHER]:"Other"};function ui(Q){return ha[Q]}s.labelForMetricType=ui;const ha={[tr.POLY_COUNT]:"Polygons",[tr.GEOMETRY_BYTES_USED]:"Geometry size",[tr.HIGHEST_POLY_COUNT]:"Highest polygons",[qt.IS_LIBRARY_MATERIAL]:"Library Material",[qt.MATERIAL_COUNT]:"Materials",[qt.MATERIAL_INSTANCES_COUNT]:"Material instances",[qt.STYLE_COUNT]:"Styles",[qt.STYLE_INSTANCES_COUNT]:"Style instances",[qt.MATERIAL_TYPE]:"Material type",[qt.LARGEST_MAP_RESOLUTION]:"Largest map res.",[qt.MEDIAN_MAP_RESOLUTION]:"Median map res.",[qt.STANDARD_MATERIAL_COUNT]:"Standard materials",[qt.OCCLUSION_MATERIAL_COUNT]:"Occlusion materials",[qt.TOON_MATERIAL_COUNT]:"Toon materials",[qt.SHADOW_MATERIAL_COUNT]:"Shadow materials",[qt.UNLIT_MATERIAL_COUNT]:"Unlit materials",[qt.PHYSICAL_MATERIAL_COUNT]:"Physical materials",[qt.MAP_COUNT]:"Total maps",[qt.MAP_RESOLUTION]:"Map resolution",[qt.MAP_BYTES_USED]:"Total map size",[Qt.COMPONENT_NAME]:"Component name",[Qt.IS_VISIBLE]:"Visible/Invisible",[Qt.VISIBLE_OBJECT_COUNT]:"Visible objects",[Qt.CASTS_SHADOW]:"Casts shadows",[Qt.SHADOW_CASTING_OBJECT_COUNT]:"Objects casting shadows",[Qt.RECEIVES_SHADOW]:"Receives shadows",[Qt.SHADOW_RECEIVING_OBJECT_COUNT]:"Objects receiving shadows",[Qt.IS_INTERACTIVE]:"Interactive",[Qt.INTERACTIVE_OBJECT_COUNT]:"interactive objects",[Qt.IS_DOUBLE_SIDED]:"Double-sided",[Qt.DOUBLE_SIDED_OBJECT_COUNT]:"Double-sided objects",[Qt.LIGHT_TYPE]:"Light type",[Qt.DIRECTIONAL_LIGHT_COUNT]:"Directional lights",[Qt.POINT_LIGHT_COUNT]:"Point lights",[Qt.SPOT_LIGHT_COUNT]:"Spot lights",[Qt.AREA_LIGHT_COUNT]:"Area lights",[Qt.LIGHT_COUNT]:"Lights",[Qt.OBJECT_TYPE]:"Object type",[Qt.MESH_COUNT]:"Meshes",[Qt.GROUP_COUNT]:"Groups",[Qt.FRAME_COUNT]:"Frames",[Qt.OBJECT_COUNT]:"Objects",[ao.HDRI_BYTES_USED]:"HDRI size",[ao.HDRI_RESOLUTION]:"HDRI resolution",[ao.HDRI_LIGHTING]:"HDRI lighting",[ao.HDRI_BACKGROUND]:"HDRI background"};function uh(Q){return Vi.isMaterialFromLibrary(Q)?Q.name:bd(Q.lightingModel)+" Material"}s.getSmartMaterialName=uh;function bd(Q){return sp[Q]}s.labelForMaterialType=bd;const sp={[ue.Standard]:"Standard",[ue.Unlit]:"Unlit",[ue.Toon]:"Toon",[ue.Physical]:"Physical",[ue.Shadow]:"Shadow",[ue.Occluder]:"Occluder"};function Po(Q){return mc[Q]}s.getDefaultUnitForMetricType=Po;const mc={[tr.POLY_COUNT]:gt.COUNT,[tr.GEOMETRY_BYTES_USED]:Mo.B,[tr.HIGHEST_POLY_COUNT]:gt.COUNT,[qt.IS_LIBRARY_MATERIAL]:gt.BOOLEAN,[qt.MATERIAL_COUNT]:gt.COUNT,[qt.MATERIAL_INSTANCES_COUNT]:gt.COUNT,[qt.STYLE_COUNT]:gt.COUNT,[qt.STYLE_INSTANCES_COUNT]:gt.COUNT,[qt.MATERIAL_TYPE]:gt.STRING,[qt.LARGEST_MAP_RESOLUTION]:us.PX,[qt.MEDIAN_MAP_RESOLUTION]:us.PX,[qt.STANDARD_MATERIAL_COUNT]:gt.COUNT,[qt.OCCLUSION_MATERIAL_COUNT]:gt.COUNT,[qt.TOON_MATERIAL_COUNT]:gt.COUNT,[qt.SHADOW_MATERIAL_COUNT]:gt.COUNT,[qt.UNLIT_MATERIAL_COUNT]:gt.COUNT,[qt.PHYSICAL_MATERIAL_COUNT]:gt.COUNT,[qt.MAP_COUNT]:gt.COUNT,[qt.MAP_RESOLUTION]:us.PX,[qt.MAP_BYTES_USED]:Mo.B,[Qt.COMPONENT_NAME]:gt.BOOLEAN,[Qt.IS_VISIBLE]:gt.BOOLEAN,[Qt.VISIBLE_OBJECT_COUNT]:gt.COUNT,[Qt.CASTS_SHADOW]:gt.BOOLEAN,[Qt.SHADOW_CASTING_OBJECT_COUNT]:gt.COUNT,[Qt.RECEIVES_SHADOW]:gt.BOOLEAN,[Qt.SHADOW_RECEIVING_OBJECT_COUNT]:gt.COUNT,[Qt.IS_INTERACTIVE]:gt.BOOLEAN,[Qt.INTERACTIVE_OBJECT_COUNT]:gt.COUNT,[Qt.IS_DOUBLE_SIDED]:gt.BOOLEAN,[Qt.DOUBLE_SIDED_OBJECT_COUNT]:gt.COUNT,[Qt.LIGHT_TYPE]:gt.STRING,[Qt.DIRECTIONAL_LIGHT_COUNT]:gt.COUNT,[Qt.POINT_LIGHT_COUNT]:gt.COUNT,[Qt.SPOT_LIGHT_COUNT]:gt.COUNT,[Qt.AREA_LIGHT_COUNT]:gt.COUNT,[Qt.LIGHT_COUNT]:gt.COUNT,[Qt.OBJECT_TYPE]:gt.STRING,[Qt.MESH_COUNT]:gt.COUNT,[Qt.GROUP_COUNT]:gt.COUNT,[Qt.FRAME_COUNT]:gt.COUNT,[Qt.OBJECT_COUNT]:gt.COUNT,[ao.HDRI_BYTES_USED]:Mo.B,[ao.HDRI_RESOLUTION]:us.PX,[ao.HDRI_LIGHTING]:gt.BOOLEAN,[ao.HDRI_BACKGROUND]:gt.BOOLEAN};function Ue(Q,Gt){const{value:ze}=Q.metricInsights[Gt].metric;return Y(ze)?ze.width*ze.height:typeof ze=="boolean"?ze?1:0:ze}s.getMetricInsightValueAsNumberOrString=Ue;function Zo(Q,Gt){if(Q.metricInsights.length==0&&Gt.metricInsights.length==0)return 0;if(Q.metricInsights.length==0)return 1;if(Gt.metricInsights.length==0)return-1;const ze=Oo=>{const _r=Ue(Q,Oo),gu=Ue(Gt,Oo);return typeof _r=="string"&&typeof gu=="string"?gu.toLowerCase().localeCompare(_r.toLowerCase()):typeof _r=="string"?1:typeof gu=="string"?-1:gu-_r},$e=ze(0);return $e==0?Q.metricInsights.length>1&&Gt.metricInsights.length>1?ze(1):Gt.metricInsights.length>1?1:Q.metricInsights.length>1?-1:0:$e}s.sortMetricInsightsDescending=Zo;function gc(Q,Gt){return Zo(Gt,Q)}s.sortMetricInsightsAscending=gc;function ip(...Q){for(const Gt of Object.values(me))for(const ze of Q)if(ze==Gt)return ze;return me.UNKNOWN}s.getBiggestImpact=ip;function hv(Q){const Gt={[me.LARGE]:[],[me.MEDIUM]:[],[me.SMALL]:[],[me.UNKNOWN]:[]};for(const ze of Q){let $e=me.UNKNOWN;ze.metricInsights.length>0&&($e=ze.metricInsights[0].insight.impact),ze.itemImpact&&($e=ip($e,ze.itemImpact)),Gt[$e].push(ze)}return Gt}s.partitionCardItemDataByImpact=hv;function _c(Q){return z3.has(Q)}s.isGeometryType=_c;const z3=new Set([L.PLANE,L.SPHERE,L.BOX,L.CYLINDER,L.CONE,L.HUMAN,L.SHAPE,L.BOOLEAN,L.MODEL,L.MODEL_ANIMATED,L.IMAGE,L.TEXT,L.CURVE]);function SC(Q){return s.lightObjectTypes.has(Q)}s.isLightObjectType=SC,s.lightObjectTypes=new Set([L.DIRECTIONAL_LIGHT,L.POINT_LIGHT,L.SPOT_LIGHT,L.AREA_LIGHT]);function Cl(Q){return!IC.has(Q)}s.isPerformanceAffectingType=Cl;const IC=new Set([L.UNSUPPORTED,L.GROUP,L.FRAME,L.CAMERA,L.XRRIG,L.HEAD,L.HAND,L.FINGER]);function Y3(Q,Gt,ze,$e){const Oo=Et(Q,Gt,$e);return Oo?{level:AC(ze,Oo),impact:j1(ze,Oo)}:{level:Ey.INFO,impact:me.UNKNOWN}}s.getInsight=Y3;function AC(Q,Gt){return e(Q,Gt.warningLimit)?Ey.WARN:Ey.INFO}s.getInsightLevelForMetricAndThresholds=AC;function np(Q,Gt,ze,$e){const Oo=Et(Q,Gt,$e);return Oo?e(ze,Oo.warningLimit):!1}s.checkMetricForWarning=np;function j1(Q,Gt){return Gt.medium2Large&&e(Q,Gt.medium2Large)?me.LARGE:Gt.small2Medium?e(Q,Gt.small2Medium)?me.MEDIUM:me.SMALL:me.UNKNOWN}s.getInsightImpactForMetricAndThresholds=j1;function dv(Q,Gt){return tl.ImpactByMaterialType[Gt].deviceTargets[Q]}s.getImpactForMaterialType=dv;function D1(Q,Gt){return{level:zm(),impact:TC(Q,Gt)}}s.getInsightForLightType=D1;function zm(Q,Gt){return Ey.INFO}s.getInsightLevelForLightType=zm;function TC(Q,Gt){return tl.ImpactByLightType[Gt].deviceTargets[Q]}s.getImpactForLightType=TC;function W3(Q){return X3[Q]}s.getObjectTypeFromLightType=W3;const X3={[$o.DIRECTIONAL]:L.DIRECTIONAL_LIGHT,[$o.POINT]:L.POINT_LIGHT,[$o.SPOT]:L.SPOT_LIGHT,[$o.AREA]:L.AREA_LIGHT},Z3={[mt.DESKTOP]:"Desktop",[mt.QUEST3]:"Quest 3",[mt.QUEST2]:"Quest 2",[mt.MOBIlE]:"Phone"};function K3(Q){return Z3[Q]}s.labelForDeviceTarget=K3})(Ut||(Ut={}));var mU=Object.defineProperty,P8t=Object.getOwnPropertyDescriptor,O8t=(s,t,e)=>t in s?mU(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,We=(s,t,e,i)=>{for(var n=i>1?void 0:i?P8t(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&mU(t,e,n),n},xh=(s,t,e)=>(O8t(s,typeof t!="symbol"?t+"":t,e),e);class Ve{constructor(t){this._editor=t,xh(this,"_deviceTarget",mt.DESKTOP),xh(this,"_selectedPerformanceView",fo.OVERVIEW),xh(this,"_filteredSelection",new Rs(this._editor,()=>{})),xh(this,"_selectedMaterialId",null),xh(this,"_selectedEntityId",null),xh(this,"_selectedLightId",null),xh(this,"_selectedLightType",null),xh(this,"_disposable",new Zt),xh(this,"_monitor"),xh(this,"_selectedMaterialIds",new Set),xh(this,"_insightsByMetricAndEntity",{}),this._monitor=t.performanceMonitor,this._setFilteredEntitiesFromSelection(this._editor.selectionController.selectedCollection),this._addSignalBindings(),vt(this)}get performanceMetricsInsights(){return{}}get overview(){return{}}get filteredEntities(){return this.isSceneSelected?new Set(this.filteredSceneEntities):this._filteredSelection.sceneEntities}get selectedPerformanceView(){return this._selectedPerformanceView}set selectedPerformanceView(t){this._selectedPerformanceView=t}set deviceTarget(t){this._deviceTarget=t}get deviceTarget(){return this._deviceTarget}get selectedEntityId(){return this._selectedEntityId}get selectedEntity(){return this._selectedEntityId==null?null:this._editor.sceneController.getSceneEntityById(this._selectedEntityId)}get selectedMaterialId(){return this._selectedMaterialId}get selectedLightType(){return this._selectedLightType}set selectedLightType(t){this._selectedLightType=t}get selectedLightId(){return this._selectedLightId}get selectedLight(){if(this._selectedLightId==null)return null;const t=this._editor.sceneController.getSceneEntityById(this._selectedLightId);return t&&Ut.isLightObjectType(t.type)?t:null}_updateMaterialsFromSelection(){if(this._selectedEntityId==null)return;const t=this._editor.sceneController.getSceneEntityById(this._selectedEntityId);if(t==null)return;this._selectedMaterialIds.clear();const e=t.getComponent(_e);this._selectedMaterialId=e==null?null:e.materialID}setSelectedMaterialId(t){this._selectedMaterialId=t}setSelectedEntityId(t){this._selectedEntityId=t,this._updateMaterialsFromSelection()}setSelectedLightId(t){this._selectedLightId=t}get entityIdOrScene(){var t;return((t=this._editor.selectionController.firstSelectedSceneEntity)==null?void 0:t.id)??ci}get isSceneSelected(){const{sceneEntityIds:t}=this._editor.selectionController.selectedCollection;return t.size==0}get isSingleObjectSelected(){const{firstSelectedSceneEntity:t,selectedCollection:e}=this._editor.selectionController;return t&&e.sceneEntityIds.size==1?!(t.isGroup||t.isFrame):!1}get areMultipleObjectsSelected(){const{sceneEntityIds:t}=this._editor.selectionController.selectedCollection;if(t.size!=1)return!0;const e=ax(t);if(e){const i=this._editor.sceneController.sceneEntitiesById[e];return i?i.isGroup||i.isFrame:(U.warn("Expected entity not found in SceneController sceneEntitiesById"),!1)}return!1}get geometryMetrics(){return this.isSceneSelected?this._monitor.sceneGeometryMetrics:this._monitor.selectionGeometryMetrics}get materialMetrics(){return this.isSceneSelected?this._monitor.sceneMaterialMetrics:this._monitor.selectionMaterialMetrics}get otherMetrics(){return this.isSceneSelected?this._monitor.sceneOtherMetrics:this._monitor.selectionOtherMetrics}get hdrMetrics(){return this._monitor.sceneHDRMetrics}get sceneMetricsForWarning(){const{sceneGeometryMetrics:t,sceneMaterialMetrics:e,sceneOtherMetrics:i,sceneHDRMetrics:n}=this._monitor,o=[{metricType:tr.POLY_COUNT,metricValue:t.totalPolyCount},{metricType:qt.LARGEST_MAP_RESOLUTION,metricValue:e.largestMapSize},{metricType:qt.PHYSICAL_MATERIAL_COUNT,metricValue:e.physicalMaterialCount},{metricType:ao.HDRI_RESOLUTION,metricValue:Ut.copySize(n.hdrSize)},{metricType:Qt.AREA_LIGHT_COUNT,metricValue:i.areaLightCount},{metricType:Qt.SPOT_LIGHT_COUNT,metricValue:i.spotLightCount},{metricType:Qt.POINT_LIGHT_COUNT,metricValue:i.pointLightCount}],a=new ho;for(const{metricType:l,metricValue:c}of o)a.set(l,this.makePerformanceMetric(l,c,ci));return a}getSceneLevelWarningLimitMetric(t){const e=Ut.getThresholdsFordDeviceTargetAndMetricType(this.deviceTarget,t,!0);if(e&&e.warningLimit)return Ut.fixMapMetricThreshold(e.warningLimit)}get sceneLevelWarningsForAnalytics(){const t={};t.deviceTarget=Ut.labelForDeviceTarget(this.deviceTarget);for(const e of this.sceneMetricsForWarning.values())if(Ut.checkMetricForWarning(this.deviceTarget,e.metricType,{value:e.value,unit:e.unit},!0)){const{value:n,unit:o}=Ut.stringifyMetric(e);t[e.metricType]=o===""?`${n}`:`${n} ${o}`}return t}get sceneLevelWarningsByMetricType(){const t=new ho;for(const e of this.sceneMetricsForWarning.values()){const i=Ut.checkMetricForWarning(this.deviceTarget,e.metricType,{value:e.value,unit:e.unit},!0);t.set(e.metricType,i)}return t}get deviceTargetWarnings(){const t={[mt.DESKTOP]:!1,[mt.QUEST3]:!1,[mt.QUEST2]:!1,[mt.MOBIlE]:!1};for(const e of Object.values(mt)){let i=!1;for(const n of this.sceneMetricsForWarning.values())if(i||(i=Ut.checkMetricForWarning(e,n.metricType,{value:n.value,unit:n.unit},!0)),i)break;t[e]=i}return t}get hasSceneLevelWarning(){return this.deviceTargetWarnings[this.deviceTarget]}get lightCount(){const{directionalLightCount:t,pointLightCount:e,spotLightCount:i,areaLightCount:n}=this.otherMetrics;return t+e+i+n}get shouldDisplayHDRMetrics(){return this.hdrMetrics.isHDRLighting||this.hdrMetrics.isHDRBackground}viewSelection(){const t=this._editor.selectionController.firstSelectedSceneEntity;t!=null&&(this._selectedEntityId=t.id,this._updateMaterialsFromSelection()),this._selectedPerformanceView=fo.GEOMETRY}get filteredSceneEntities(){return Object.values(this._editor.sceneController.sceneEntitiesById).filter(t=>Ut.isPerformanceAffectingType(t.sceneObject.type))}_setFilteredEntitiesFromSelection(t){if(t.isEmpty)this._filteredSelection.set(this.filteredSceneEntities);else{this._filteredSelection.removeAll();const e=Array.from(t.sceneEntities).flatMap(i=>this._getChildrenRecursively(i));for(const i of e)Ut.isPerformanceAffectingType(i.sceneObject.type)&&this._filteredSelection.add(i)}this._filteredSelection.sceneEntities.size>0&&(this._selectedEntityId=this._filteredSelection.sceneEntities.values().next().value.id,this._updateMaterialsFromSelection())}_getChildrenRecursively(t,e=[]){if(t.children.length===0)return e.push(t),e;for(const i of t.children){const n=this._getChildrenRecursively(i,[]);e.push(...n)}return e}_addSignalBindings(){const t=this._editor.signals.file.allObjectsLoaded.add(()=>{this._setFilteredEntitiesFromSelection(this._editor.selectionController.selectedCollection)}),e=this._editor.signals.selection.selectionChanged.add(({selection:i})=>{this._setFilteredEntitiesFromSelection(i)});this._disposable.add(new tt(()=>{e.detach(),t.detach()}))}dispose(){this._disposable.dispose()}getFileLoadTimeImpact(t){return Ut.getImpactByNumericThresholds(t,Ut.getMSFromTimeMetric(tl.FileInsights.fileLoadTime[0]),Ut.getMSFromTimeMetric(tl.FileInsights.fileLoadTime[1]))}getFileSizeImpact(t){return Ut.getImpactByNumericThresholds(t,Ut.getBytesFromMemoryMetric(tl.FileInsights.fileSize[0]),Ut.getBytesFromMemoryMetric(tl.FileInsights.fileSize[1]))}get lightObjectsAndInsightsByType(){return Object.values(this._editor.sceneController.sceneEntitiesById).filter(t=>Ut.isLightObjectType(t.type)).reduce((t,e)=>(e.type in t?t[e.type].push(e):t[e.type]=[e],t),{})}makePerformanceMetric(t,e,i=this.entityIdOrScene){return{label:Ut.labelForMetricType(t),value:e,metricType:t,category:Ut.getCategoryFromMetricType(t),unit:Ut.getDefaultUnitForMetricType(t),sourceId:i}}makePerformanceInsight(t,e,i){return Ut.getInsight(this.deviceTarget,t,{value:e,unit:Ut.getDefaultUnitForMetricType(t)},i)}makePerformanceMetricInsight(t,e,i=this.entityIdOrScene){return{metric:this.makePerformanceMetric(t,e,i),insight:this.makePerformanceInsight(t,e,!1)}}_getMaterialItemImpact(t){return Ut.getImpactForMaterialType(this.deviceTarget,t)}makePerformanceMetricInsightForLightType(t,e){const i=Qt.LIGHT_TYPE;return e=e??this.entityIdOrScene,{metric:{label:Ut.labelForMetricType(i),value:hb(Ut.getObjectTypeFromLightType(t)),metricType:i,category:Ut.getCategoryFromMetricType(i),unit:gt.STRING,sourceId:e},insight:Ut.getInsightForLightType(this.deviceTarget,t)}}get performanceBarInsights(){const t=[{metricType:tr.POLY_COUNT,metricValue:this.geometryMetrics.totalPolyCount,shouldDisplay:!0},{metricType:Qt.MESH_COUNT,metricValue:this.otherMetrics.meshCount,shouldDisplay:this.areMultipleObjectsSelected},{metricType:qt.MATERIAL_COUNT,metricValue:this.materialMetrics.nonLibraryMaterialCount,shouldDisplay:this.areMultipleObjectsSelected},{metricType:qt.STYLE_COUNT,metricValue:this.materialMetrics.libraryMaterialCount,shouldDisplay:this.areMultipleObjectsSelected},{metricType:Qt.LIGHT_COUNT,metricValue:this.lightCount,shouldDisplay:this.areMultipleObjectsSelected}],e=[];for(const{metricType:i,metricValue:n,shouldDisplay:o}of t)o&&Ut.shouldDisplayValue(n)&&e.push(this.makePerformanceMetricInsight(i,n));return e}get overviewTabInsights(){const{totalPolyCount:t,highestPolyCount:e}=this.geometryMetrics,{nonLibraryMaterialCount:i,libraryMaterialCount:n,totalMapBytesUsed:o,largestMapSize:a,medianMapSize:l,totalMapCount:c,standardMaterialCount:h,unlitMaterialCount:d,toonMaterialCount:u,physicalMaterialCount:f,shadowMaterialCount:p,occlusionMaterialCount:g}=this.materialMetrics,{meshCount:_,directionalLightCount:v,pointLightCount:y,spotLightCount:b,areaLightCount:C}=this.otherMetrics;let x,I,O;if(this.isSingleObjectSelected){const{firstSelectedSceneEntity:B}=this._editor.selectionController;if(B){const F=this._editor.performanceMonitor.getEntityMaterialMetrics(B.id);x=F.isInLibrary,I=F.type,O=this._editor.performanceMonitor.getEntityOtherMetrics(B.id).lightType}}const T=[{category:kl.GEOMETRY,metricInsights:[{metricType:tr.POLY_COUNT,metricValue:t,shouldDisplay:!0},{metricType:Qt.MESH_COUNT,metricValue:_,shouldDisplay:this.areMultipleObjectsSelected},{metricType:tr.HIGHEST_POLY_COUNT,metricValue:e,shouldDisplay:this.areMultipleObjectsSelected}]},{category:kl.MATERIALS,metricInsights:[{metricType:qt.IS_LIBRARY_MATERIAL,metricValue:x?"Library Material (Style)":"Unique Material",shouldDisplay:!!x&&this.isSingleObjectSelected},{metricType:qt.MATERIAL_COUNT,metricValue:i,shouldDisplay:this.areMultipleObjectsSelected},{metricType:qt.STYLE_COUNT,metricValue:n,shouldDisplay:this.areMultipleObjectsSelected},{metricType:qt.MAP_BYTES_USED,metricValue:o,shouldDisplay:!0},{metricType:qt.LARGEST_MAP_RESOLUTION,metricValue:Ut.copySize(a),shouldDisplay:!0},{metricType:qt.MEDIAN_MAP_RESOLUTION,metricValue:Ut.copySize(l),shouldDisplay:!0},{metricType:qt.MAP_COUNT,metricValue:c,shouldDisplay:!0},{metricType:qt.MATERIAL_TYPE,metricValue:I?Ut.labelForMaterialType(I):"",shouldDisplay:!!I&&this.isSingleObjectSelected},{metricType:qt.STANDARD_MATERIAL_COUNT,metricValue:h,shouldDisplay:this.areMultipleObjectsSelected},{metricType:qt.UNLIT_MATERIAL_COUNT,metricValue:d,shouldDisplay:this.areMultipleObjectsSelected},{metricType:qt.TOON_MATERIAL_COUNT,metricValue:u,shouldDisplay:this.areMultipleObjectsSelected},{metricType:qt.PHYSICAL_MATERIAL_COUNT,metricValue:f,shouldDisplay:this.areMultipleObjectsSelected},{metricType:qt.SHADOW_MATERIAL_COUNT,metricValue:p,shouldDisplay:this.areMultipleObjectsSelected},{metricType:qt.OCCLUSION_MATERIAL_COUNT,metricValue:g,shouldDisplay:this.areMultipleObjectsSelected}]},{category:kl.OTHER,metricInsights:[{metricType:Qt.LIGHT_TYPE,metricValue:O?hb(Ut.getObjectTypeFromLightType(O)):"",shouldDisplay:!!O&&this.isSingleObjectSelected},{metricType:Qt.DIRECTIONAL_LIGHT_COUNT,metricValue:v,shouldDisplay:this.areMultipleObjectsSelected},{metricType:Qt.POINT_LIGHT_COUNT,metricValue:y,shouldDisplay:this.areMultipleObjectsSelected},{metricType:Qt.SPOT_LIGHT_COUNT,metricValue:b,shouldDisplay:this.areMultipleObjectsSelected},{metricType:Qt.AREA_LIGHT_COUNT,metricValue:C,shouldDisplay:this.areMultipleObjectsSelected},{metricType:ao.HDRI_LIGHTING,metricValue:this.hdrMetrics.isHDRLighting?"HDRI lighting enabled":"",shouldDisplay:this.hdrMetrics.isHDRLighting&&this.isSceneSelected},{metricType:ao.HDRI_BACKGROUND,metricValue:this.hdrMetrics.isHDRBackground?"HDRI background enabled":"",shouldDisplay:this.hdrMetrics.isHDRBackground&&this.isSceneSelected},{metricType:ao.HDRI_RESOLUTION,metricValue:Ut.copySize(this.hdrMetrics.hdrSize),shouldDisplay:this.shouldDisplayHDRMetrics&&this.isSceneSelected},{metricType:ao.HDRI_BYTES_USED,metricValue:this.hdrMetrics.hdrBytesUsed,shouldDisplay:this.shouldDisplayHDRMetrics&&this.isSceneSelected}]}],D={[kl.GEOMETRY]:[],[kl.MATERIALS]:[],[kl.OTHER]:[]};for(const{category:B,metricInsights:F}of T)for(const{metricType:k,metricValue:Y,shouldDisplay:G}of F)G&&Ut.shouldDisplayValue(Y)&&D[B].push(this.makePerformanceMetricInsight(k,Y));return D}get geometryTabInsights(){const t=new Map;for(const i of this.filteredEntities){if(!Ut.isGeometryType(i.type)||t.has(i.id))continue;const{polyCount:n,bytesUsed:o}=this._editor.performanceMonitor.getEntityGeometryMetrics(i.id);if(n==0)continue;const a=[{metricType:tr.POLY_COUNT,metricValue:n},{metricType:tr.GEOMETRY_BYTES_USED,metricValue:o}],l=[];for(const{metricType:c,metricValue:h}of a)Ut.shouldDisplayValue(h)&&l.push(this.makePerformanceMetricInsight(c,h,i.id));t.set(i.id,{title:i.name,entityId:i.id,objectType:i.type,metricInsights:l})}const e=Array.from(t.values()).sort(Ut.sortMetricInsightsDescending);return Ut.partitionCardItemDataByImpact(e)}get defaultEntityIdForGeometryTab(){for(const t of Object.values(this.geometryTabInsights))if(t.length>0)return t[0].entityId;return null}get materialTabInsights(){const t=new Map;for(const i of this.filteredEntities){const n=i.getComponent(_e);if(!n)continue;const o=n.materialID,a=n.lightingModel;if(t.has(o))continue;const{totalMapCount:l,totalMapBytesUsed:c,largestMapSize:h}=this._editor.performanceMonitor.getEntityMaterialMetrics(i.id),d=[{metricType:qt.LARGEST_MAP_RESOLUTION,metricValue:Ut.copySize(h)},{metricType:qt.MAP_BYTES_USED,metricValue:c},{metricType:qt.MAP_COUNT,metricValue:l}],u=[];for(const{metricType:f,metricValue:p}of d)Ut.shouldDisplayValue(p)&&u.push(this.makePerformanceMetricInsight(f,p,o));t.set(o,{title:Ut.getSmartMaterialName(n),itemImpact:this._getMaterialItemImpact(a),materialId:o,materialType:a,metricInsights:u})}const e=Array.from(t.values()).sort(Ut.sortMetricInsightsDescending);return Ut.partitionCardItemDataByImpact(e)}get defaultMaterialIdForMaterialTab(){for(const t of Object.values(this.materialTabInsights))if(t.length>0)return t[0].materialId;return null}get otherTabInsights(){const t=new Map;for(const i of this.filteredEntities){if(!Ut.isLightObjectType(i.type)||t.has(i.id))continue;const{lightType:n}=this._editor.performanceMonitor.getEntityOtherMetrics(i.id);if(!n)continue;const o=[this.makePerformanceMetricInsightForLightType(n)];t.set(i.id,{title:i.name,entityId:i.id,lightType:n,metricInsights:o})}if(this.shouldDisplayHDRMetrics&&this.isSceneSelected){const i=ao.HDRI_RESOLUTION,n=this.hdrMetrics.hdrSize,o=ci;t.set(o,{title:Ut.HDRI_TEXT,entityId:o,lightType:$o.DIRECTIONAL,isLightHDRI:!0,metricInsights:[{metric:this.makePerformanceMetric(i,n,o),insight:this.makePerformanceInsight(i,n,!1)}]})}const e=Array.from(t.values()).sort(Ut.sortMetricInsightsDescending);return Ut.partitionCardItemDataByImpact(e)}get defaultEntityIdForOtherTab(){for(const t of Object.values(this.otherTabInsights))if(t.length>0)return t[0].entityId;return null}getGeometryDetailPanelInsights(t){var c,h;const e={metricInsights:[]},{polyCount:i}=this._editor.performanceMonitor.getEntityGeometryMetrics(t.id),{isInLibrary:n,totalMapCount:o}=this._editor.performanceMonitor.getEntityMaterialMetrics(t.id);if(i==0)return e;let a="";if((c=t.compo)!=null&&c.isInstanceEntity){const d=(h=t.compo)==null?void 0:h.getRoot();d&&(a=d.name)}const l=[{metricType:Qt.COMPONENT_NAME,metricValue:a},{metricType:tr.POLY_COUNT,metricValue:i},{metricType:qt.MATERIAL_COUNT,metricValue:n?0:1},{metricType:qt.STYLE_COUNT,metricValue:n?1:0},{metricType:qt.MAP_COUNT,metricValue:o}];for(const{metricType:d,metricValue:u}of l)Ut.shouldDisplayValue(u)&&e.metricInsights.push(this.makePerformanceMetricInsight(d,u,t.id));return e}getEntitiesUsingMaterial(t){return Object.values(this._editor.sceneController.sceneEntitiesById).filter(e=>{const i=e.getComponent(_e);return(i==null?void 0:i.materialID)===t})}getMaterialDetailPanelInsights(t){const{performanceMonitor:e}=this._editor,i={metricInsights:[]},n=e.getMaterialMetrics(t);if(i.materialData=this._editor.materialController.materials[t],!i.materialData||!n)return i;const o=this.getEntitiesUsingMaterial(t),a=this._editor.performanceMonitor.getAggregateMaterialMetrics(o),l=[{metricType:qt.MATERIAL_TYPE,metricValue:Ut.labelForMaterialType(n.type),shouldDisplay:!0},{metricType:qt.MATERIAL_INSTANCES_COUNT,metricValue:o.length,shouldDisplay:!n.isInLibrary},{metricType:qt.STYLE_INSTANCES_COUNT,metricValue:o.length,shouldDisplay:n.isInLibrary},{metricType:qt.MAP_COUNT,metricValue:a.totalMapCount,shouldDisplay:!0},{metricType:qt.MAP_BYTES_USED,metricValue:a.totalMapBytesUsed,shouldDisplay:!0},{metricType:qt.LARGEST_MAP_RESOLUTION,metricValue:Ut.copySize(a.largestMapSize),shouldDisplay:!0},{metricType:qt.MEDIAN_MAP_RESOLUTION,metricValue:Ut.copySize(a.medianMapSize),shouldDisplay:!0}];for(const{metricType:c,metricValue:h,shouldDisplay:d}of l)d&&Ut.shouldDisplayValue(h)&&i.metricInsights.push(this.makePerformanceMetricInsight(c,h,t));return i}get otherDetailPanelInsights(){const t={metricInsights:[]},{directionalLightCount:e,pointLightCount:i,spotLightCount:n,areaLightCount:o}=this.otherMetrics,a=[{metricType:Qt.DIRECTIONAL_LIGHT_COUNT,metricValue:e,shouldDisplay:this.areMultipleObjectsSelected},{metricType:Qt.POINT_LIGHT_COUNT,metricValue:i,shouldDisplay:this.areMultipleObjectsSelected},{metricType:Qt.SPOT_LIGHT_COUNT,metricValue:n,shouldDisplay:this.areMultipleObjectsSelected},{metricType:Qt.AREA_LIGHT_COUNT,metricValue:o,shouldDisplay:this.areMultipleObjectsSelected},{metricType:ao.HDRI_RESOLUTION,metricValue:Ut.copySize(this.hdrMetrics.hdrSize),shouldDisplay:this.shouldDisplayHDRMetrics&&this.isSceneSelected},{metricType:ao.HDRI_BYTES_USED,metricValue:this.hdrMetrics.hdrBytesUsed,shouldDisplay:this.shouldDisplayHDRMetrics&&this.isSceneSelected}];for(const{metricType:l,metricValue:c,shouldDisplay:h}of a)h&&Ut.shouldDisplayValue(c)&&t.metricInsights.push(this.makePerformanceMetricInsight(l,c));return t}}We([V],Ve.prototype,"_deviceTarget",2);We([V],Ve.prototype,"_selectedPerformanceView",2);We([V],Ve.prototype,"_filteredSelection",2);We([V],Ve.prototype,"_selectedMaterialId",2);We([V],Ve.prototype,"_selectedEntityId",2);We([V],Ve.prototype,"_selectedLightId",2);We([V],Ve.prototype,"_selectedLightType",2);We([V],Ve.prototype,"_selectedMaterialIds",2);We([V],Ve.prototype,"_insightsByMetricAndEntity",2);We([M],Ve.prototype,"filteredEntities",1);We([M],Ve.prototype,"selectedEntityId",1);We([M],Ve.prototype,"selectedEntity",1);We([M],Ve.prototype,"selectedMaterialId",1);We([M],Ve.prototype,"selectedLightId",1);We([M],Ve.prototype,"selectedLight",1);We([E],Ve.prototype,"_updateMaterialsFromSelection",1);We([E],Ve.prototype,"setSelectedMaterialId",1);We([E],Ve.prototype,"setSelectedEntityId",1);We([E],Ve.prototype,"setSelectedLightId",1);We([M],Ve.prototype,"entityIdOrScene",1);We([M],Ve.prototype,"isSceneSelected",1);We([M],Ve.prototype,"isSingleObjectSelected",1);We([M],Ve.prototype,"areMultipleObjectsSelected",1);We([M],Ve.prototype,"geometryMetrics",1);We([M],Ve.prototype,"materialMetrics",1);We([M],Ve.prototype,"otherMetrics",1);We([M],Ve.prototype,"hdrMetrics",1);We([M.struct],Ve.prototype,"sceneMetricsForWarning",1);We([M.struct],Ve.prototype,"sceneLevelWarningsForAnalytics",1);We([M.struct],Ve.prototype,"sceneLevelWarningsByMetricType",1);We([M.struct],Ve.prototype,"deviceTargetWarnings",1);We([M],Ve.prototype,"hasSceneLevelWarning",1);We([M],Ve.prototype,"lightCount",1);We([M],Ve.prototype,"shouldDisplayHDRMetrics",1);We([E],Ve.prototype,"viewSelection",1);We([M.struct],Ve.prototype,"filteredSceneEntities",1);We([M],Ve.prototype,"lightObjectsAndInsightsByType",1);We([M],Ve.prototype,"performanceBarInsights",1);We([M],Ve.prototype,"overviewTabInsights",1);We([M.struct],Ve.prototype,"geometryTabInsights",1);We([M],Ve.prototype,"defaultEntityIdForGeometryTab",1);We([M.struct],Ve.prototype,"materialTabInsights",1);We([M],Ve.prototype,"defaultMaterialIdForMaterialTab",1);We([M.struct],Ve.prototype,"otherTabInsights",1);We([M],Ve.prototype,"defaultEntityIdForOtherTab",1);We([M.struct],Ve.prototype,"otherDetailPanelInsights",1);var Ll;(s=>{s.getMeshFromTextComponent=i=>{let n=i.mesh;for(;n.type==="TransformAdapter";)n=n.children[0];return n.type==="Mesh"?n:null},s.getTrianglesFromGeometry=i=>{var o,a;let n=0;return Number.isFinite(i.drawRange.count)?n=i.drawRange.count/3:(o=i.index)!=null&&o.count?n=i.index.count/3:(a=i.attributes.position)!=null&&a.count&&(n=i.attributes.position.count/3),n},s.parseEntitiesForGeometries=i=>{var o;const n={bytesUsed:0,triangles:0};for(const a of i){const l=a.componentWithMesh;if(l){if(l.type==pt.Group){const c=l;if(c){const h=(0,s.parseEntitiesForGeometries)(c.childEntities);n.bytesUsed+=h.bytesUsed,n.triangles+=h.triangles}}else if(l.type==pt.Mesh){const c=l;if(c){const h=c.mesh.geometry;n.bytesUsed+=uy(h),n.triangles+=(0,s.getTrianglesFromGeometry)(h)}}else if(l.type==pt.AnimatedModel){let c=0;const h=l;if(h){for(const d of h.meshes){const u=d;if(u){const f=u.geometry;n.bytesUsed+=uy(f);const p=(0,s.getTrianglesFromGeometry)(f);p>c&&(c=p)}}n.triangles+=c}}else if(l.type==pt.Line){const c=l;if(c){const h=(o=c.mesh)==null?void 0:o.geometry;h&&(n.bytesUsed+=uy(h),n.triangles+=(0,s.getTrianglesFromGeometry)(h))}}else if(l.type==pt.Text){const c=l;if(c){const h=(0,s.getMeshFromTextComponent)(c);if(h){const d=h.geometry;d&&(n.bytesUsed+=uy(d),n.triangles+=(0,s.getTrianglesFromGeometry)(d))}}}}}return n};const t=i=>{const n=new Set,o=Object.getOwnPropertyNames(i).filter(a=>a.endsWith("Texture"));for(const a of o){const l=a;if(l){const c=i[l];c&&n.add(c.uuid)}}return n},e=i=>{const n={materialIdSet:new Set,sceneMapIdSet:new Set};for(const o of i){const a=o.getComponentOf(Fs,_e);if(a){if(a.type==pt.Group){const l=a;if(l){const c=e(l.childEntities);for(const h of c.materialIdSet.values())n.materialIdSet.add(h);for(const h of c.sceneMapIdSet.values())n.sceneMapIdSet.add(h)}}else if(a.type==pt.Material){const l=a;if(l){n.materialIdSet.add(l.materialID);const c=t(l);for(const h of c.values())n.sceneMapIdSet.add(h)}}}}return n};s.getMaterialStatsFromEntities=i=>{const n=e(i);return{uniqueMaterials:n.materialIdSet.size,allMaterialMaps:n.sceneMapIdSet.size}},s.getRecursiveEntityCount=i=>{let n=0;for(const o of i){n++;const a=o.getComponentOf(Fs);a&&(n+=(0,s.getRecursiveEntityCount)(a.childEntities))}return n}})(Ll||(Ll={}));var gU=Object.defineProperty,M8t=Object.getOwnPropertyDescriptor,L8t=(s,t,e)=>t in s?gU(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,pd=(s,t,e,i)=>{for(var n=M8t(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&gU(t,e,n),n},FS=(s,t,e)=>(L8t(s,typeof t!="symbol"?t+"":t,e),e);const lh=class Mw{constructor(t){this._editor=t,FS(this,"_entityId2GeometryIds",new ho),FS(this,"_geometryId2Metrics",new ho),FS(this,"_entityId2AggregateMetrics",new ho)}static get defaultMetrics(){return{bytesUsed:0,polyCount:0}}static get defaultAggregateMetrics(){return{totalBytesUsed:0,totalPolyCount:0,highestPolyCount:0}}_getGeometryIds(t){return this._entityId2GeometryIds.get(t)}_setGeometryIds(t,e){this._entityId2GeometryIds.set(t,e)}_deleteGeometryIds(t){return this._entityId2GeometryIds.delete(t)}_getMetrics(t){return this._geometryId2Metrics.get(t)}_setMetricsMap(t,e){this._geometryId2Metrics.set(t,e)}_deleteMetrics(t){return this._geometryId2Metrics.delete(t)}_getAggregateMetrics(t){return this._entityId2AggregateMetrics.get(t)}_setAggregateMetrics(t,e){this._entityId2AggregateMetrics.set(t,e)}_deleteAggregateMetrics(t){return this._entityId2AggregateMetrics.delete(t)}getEntityMetrics(t){return this._getMetricsForEntity(t)??Mw.defaultMetrics}getAggregateMetrics(t){const e=Mw.defaultAggregateMetrics;for(const i of t){const n=this._getAggregateMetrics(i.id);n&&this._calculateAggregateMetrics(e,n)}return e}getEntityDependencyArray(t){const e=t.componentWithMesh;return e?[e.boundingBoxRevision]:[]}updateEntityMetrics(t){this._updateGeometryMetrics(t),this._updateAggregateMetricsInHierarchy(t)}deleteEntityMetrics(t){this._deleteGeometryIds(t.id),this._deleteAggregateMetrics(t.id),this._updateAggregateMetricsInHierarchy(t)}rebuildSceneMetrics(t){const{sceneEntityHierarchy:e,sceneEntitiesById:i}=t;for(const n of Object.values(i))this._updateGeometryMetrics(n);for(const n of e)this._updateAggregateMetricsRecursively(n)}_updateGeometryMetrics(t){const e=this._extractGeometryMetricsFromEntity(t);this._setGeometryIds(t.id,e)}_updateAggregateMetricsInHierarchy(t){const e=gm.getRoot(t);this._updateAggregateMetricsRecursively(e)}_updateAggregateMetricsRecursively(t){let e=Mw.defaultAggregateMetrics;if(this._getGeometryIds(t.id)){const n=t.children;if(n.length==0){const o=this._getMetricsForEntity(t.id);o&&(e=this._convertToAggregateMetrics(o))}else for(const o of n){const a=this._updateAggregateMetricsRecursively(o);this._calculateAggregateMetrics(e,a)}}return this._setAggregateMetrics(t.id,e),e}_getMetricsForEntity(t){const e=this._getGeometryIds(t);if(!e)return;let i=0,n=0;for(const o of e){const a=this._getMetrics(o);a&&(i+=a.bytesUsed,n+=a.polyCount)}return{bytesUsed:i,polyCount:n}}_convertToAggregateMetrics(t){return{totalBytesUsed:t.bytesUsed,totalPolyCount:t.polyCount,highestPolyCount:t.polyCount}}_calculateAggregateMetrics(t,e){return t.totalBytesUsed+=e.totalBytesUsed,t.totalPolyCount+=e.totalPolyCount,t.highestPolyCount=Math.max(t.highestPolyCount,e.highestPolyCount),t}_extractGeometryMetricsFromEntity(t){const e=new Set,i=o=>{const a=o.uuid;e.add(a),this._setMetricsMap(a,{bytesUsed:uy(o),polyCount:Ll.getTrianglesFromGeometry(o)})},n=t.componentWithMesh;if(!n)return e;if(n.type==pt.Mesh){const o=n;o&&i(o.mesh.geometry)}else if(n.type==pt.AnimatedModel){const o=n;if(o)for(const a of o.meshes){const l=a;l&&i(l.geometry)}}else if(n.type==pt.Line){const o=n;o&&o.mesh&&i(o.mesh.geometry)}else if(n.type==pt.Text){const o=n;if(o){const a=Ll.getMeshFromTextComponent(o);a&&i(a.geometry)}}return e}};pd([E],lh.prototype,"_setGeometryIds");pd([E],lh.prototype,"_deleteGeometryIds");pd([E],lh.prototype,"_setMetricsMap");pd([E],lh.prototype,"_deleteMetrics");pd([E],lh.prototype,"_setAggregateMetrics");pd([E],lh.prototype,"_deleteAggregateMetrics");pd([E],lh.prototype,"updateEntityMetrics");pd([E],lh.prototype,"deleteEntityMetrics");pd([E],lh.prototype,"rebuildSceneMetrics");pd([E],lh.prototype,"_updateGeometryMetrics");pd([E],lh.prototype,"_updateAggregateMetricsInHierarchy");let ty=lh;var _U=Object.defineProperty,R8t=Object.getOwnPropertyDescriptor,N8t=(s,t,e)=>t in s?_U(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,ka=(s,t,e,i)=>{for(var n=R8t(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&_U(t,e,n),n},ey=(s,t,e)=>(N8t(s,typeof t!="symbol"?t+"":t,e),e);const ra=class Bd{constructor(t){this._editor=t,ey(this,"_entityId2MaterialIds",new ho),ey(this,"_materialId2Metrics",new ho),ey(this,"_entityId2MapIds",new ho),ey(this,"_mapId2MapMetrics",new ho),ey(this,"_entityId2AggregateIds",new ho)}static mergeAggregateIds(t,e){return AE(t.materialIds,e.materialIds),AE(t.mapIds,e.mapIds),t}static get defaultMetrics(){return{type:ue.Standard,isInLibrary:!1}}static get defaultMapMetrics(){return{type:J.COLOR,size:{width:0,height:0},bytesUsed:0}}static get defaultAggregateMapMetrics(){return{totalMapCount:0,totalMapBytesUsed:0,largestMapSize:{width:0,height:0},medianMapSize:{width:0,height:0}}}static get defaultAggregateMetrics(){return{...Bd.defaultAggregateMapMetrics,libraryMaterialCount:0,nonLibraryMaterialCount:0,standardMaterialCount:0,occlusionMaterialCount:0,toonMaterialCount:0,shadowMaterialCount:0,unlitMaterialCount:0,physicalMaterialCount:0}}get _defaultAggregateIds(){return{materialIds:new Set,mapIds:new Set}}_getMaterialIds(t){return this._entityId2MaterialIds.get(t)}_setMaterialIds(t,e){this._entityId2MaterialIds.set(t,e)}_deleteMaterialIds(t){return this._entityId2MaterialIds.delete(t)}_getMetrics(t){return this._materialId2Metrics.get(t)}_setMetrics(t,e){this._materialId2Metrics.set(t,e)}_deleteMetrics(t){return this._materialId2Metrics.delete(t)}_getMapIds(t){return this._entityId2MapIds.get(t)}_setMapIds(t,e){this._entityId2MapIds.set(t,e)}_deleteMapIds(t){return this._entityId2MapIds.delete(t)}_getMapMetrics(t){return this._mapId2MapMetrics.get(t)}_setMapMetrics(t,e){this._mapId2MapMetrics.set(t,e)}_deleteMapMetrics(t){return this._mapId2MapMetrics.delete(t)}_getAggregateIds(t){return this._entityId2AggregateIds.get(t)}_setAggregateIds(t,e){this._entityId2AggregateIds.set(t,e)}_deleteAggregateIds(t){return this._entityId2AggregateIds.delete(t)}getMaterialMetrics(t){return this._getMetrics(t)??Bd.defaultMetrics}getEntityMetrics(t){let e=Bd.defaultMetrics;const i=Bd.defaultAggregateMapMetrics,n=this._getMaterialIds(t);if(n){const a=ax(n);a&&(e=this._getMetrics(a)??e)}const o=this._getMapIds(t);return o&&this._calculateAggregateMapMetrics(i,o),{...e,...i}}getAggregateMetrics(t){const e=Bd.defaultAggregateMetrics,i=this._defaultAggregateIds;for(const n of t){const o=this._getAggregateIds(n.id);o&&Bd.mergeAggregateIds(i,o)}return this._calculateAggregateMetrics(e,i),e}getEntityDependencyArray(t){const e=t.getComponent(_e);return e?[e.revision]:[]}updateEntityMetrics(t){this._updateMaterialMetrics(t),this._updateAggregateMetricsInHierarchy(t)}deleteEntityMetrics(t){this._deleteMaterialIds(t.id),this._deleteMapIds(t.id),this._deleteAggregateIds(t.id),this._updateAggregateMetricsInHierarchy(t)}rebuildSceneMetrics(t){const{sceneEntityHierarchy:e,sceneEntitiesById:i}=t;for(const n of Object.values(i))this._updateMaterialMetrics(n);for(const n of e)this._updateAggregateMetricsRecursively(n)}_updateMaterialMetrics(t){const{materialIds:e,mapIds:i}=this._extractMaterialMetricsFromEntity(t);this._setMaterialIds(t.id,e),this._setMapIds(t.id,i)}_updateAggregateMetricsInHierarchy(t){const e=gm.getRoot(t);this._updateAggregateMetricsRecursively(e)}_updateAggregateMetricsRecursively(t){const e=Bd.defaultAggregateMetrics,i=this._defaultAggregateIds,n=this._getMaterialIds(t.id);if(n){const o=t.children;if(o.length==0){const a=this._getMapIds(t.id);a&&Bd.mergeAggregateIds(i,{materialIds:n,mapIds:a}),this._calculateAggregateMetrics(e,i)}else for(const a of o){const l=this._updateAggregateMetricsRecursively(a);this._calculateAggregateMetrics(e,l),Bd.mergeAggregateIds(i,l)}}return this._setAggregateIds(t.id,i),i}_calculateAggregateMetrics(t,e){for(const i of e.materialIds){const n=this._getMetrics(i);if(n)switch(n.isInLibrary?t.libraryMaterialCount++:t.nonLibraryMaterialCount++,n.type){case ue.Standard:t.standardMaterialCount++;break;case ue.Occluder:t.occlusionMaterialCount++;break;case ue.Toon:t.toonMaterialCount++;break;case ue.Shadow:t.shadowMaterialCount++;break;case ue.Unlit:t.unlitMaterialCount++;break;case ue.Physical:t.physicalMaterialCount++;break}}return this._calculateAggregateMapMetrics(t,e.mapIds),t}_calculateAggregateMapMetrics(t,e){const i=[];for(const n of e){const o=this._getMapMetrics(n);o&&(i.push(o),t.totalMapCount++,t.totalMapBytesUsed+=o.bytesUsed)}if(i.length>0){i.sort((a,l)=>a.size.width*a.size.height-l.size.width*l.size.height);const n=i[Math.floor(i.length/2)],o=i[i.length-1];t.largestMapSize=o.size,t.medianMapSize=n.size}return t}_extractMaterialMetricsFromEntity(t){const e=this._defaultAggregateIds,i=t.getComponentOf(_e);if(i&&i.type==pt.Material){const n=i;if(n){const o=n.materialID;e.materialIds.add(o);const a=this._extractMapMetricsFromMaterial(n);AE(e.mapIds,a),this._setMetrics(o,{type:n.lightingModel,isInLibrary:Vi.isMaterialFromLibrary(n)})}}return e}_extractMapMetricsFromMaterial(t){var n,o;const e=new Set,i=Object.getOwnPropertyNames(t).filter(a=>a.endsWith("Texture"));for(const a of i){const l=a;if(l){const c=t[l];if(c&&c.isTexture){const h=c.uuid,d=Vi.estimateBytesUsed(c);e.add(h);const u=((n=c.image)==null?void 0:n.width)??0,f=((o=c.image)==null?void 0:o.height)??0;this._setMapMetrics(h,{type:this._getMapTypeFromPropertyKey(l),size:{width:u,height:f},bytesUsed:d})}}}return e}_getMapTypeFromPropertyKey(t){switch(t){case"mapTexture":return J.COLOR;case"alphaMapTexture":return J.ALPHA;case"roughnessMapTexture":return J.ROUGHNESS;case"metalnessMapTexture":return J.METALNESS;case"normalMapTexture":return J.NORMAL;case"displacementMapTexture":return J.DISPLACEMENT;case"emissiveMapTexture":return J.EMISSIVE;case"aoMapTexture":return J.AO;case"clearcoatMapTexture":return J.CLEARCOAT;case"clearcoatRoughnessMapTexture":return J.CLEARCOAT_ROUGHNESS;case"sheenColorMapTexture":return J.SHEEN_COLOR;case"sheenRoughnessMapTexture":return J.SHEEN_ROUGHNESS;case"thicknessMapTexture":return J.THICKNESS;case"transmissionMapTexture":return J.TRANSMISSION;default:return J.COLOR}}};ka([E],ra.prototype,"_setMaterialIds");ka([E],ra.prototype,"_deleteMaterialIds");ka([E],ra.prototype,"_setMetrics");ka([E],ra.prototype,"_deleteMetrics");ka([E],ra.prototype,"_setMapIds");ka([E],ra.prototype,"_deleteMapIds");ka([E],ra.prototype,"_setMapMetrics");ka([E],ra.prototype,"_deleteMapMetrics");ka([E],ra.prototype,"_setAggregateIds");ka([E],ra.prototype,"_deleteAggregateIds");ka([E],ra.prototype,"updateEntityMetrics");ka([E],ra.prototype,"deleteEntityMetrics");ka([E],ra.prototype,"rebuildSceneMetrics");ka([E],ra.prototype,"_updateMaterialMetrics");ka([E],ra.prototype,"_updateAggregateMetricsInHierarchy");let Ap=ra;var vU=Object.defineProperty,j8t=Object.getOwnPropertyDescriptor,D8t=(s,t,e)=>t in s?vU(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,du=(s,t,e,i)=>{for(var n=j8t(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&vU(t,e,n),n},qO=(s,t,e)=>(D8t(s,typeof t!="symbol"?t+"":t,e),e);const F8t=new Set([L.PLANE,L.SPHERE,L.BOX,L.CYLINDER,L.CONE,L.HUMAN,L.SHAPE,L.IMAGE,L.MODEL,L.MODEL_ANIMATED,L.BOOLEAN,L.TEXT,L.CURVE]);function B8t(s){return F8t.has(s)}function k8t(s){return s==L.GROUP}function G8t(s){return s==L.FRAME}const md=class _0{constructor(t){this._editor=t,qO(this,"_entityId2Metrics",new ho),qO(this,"_entityId2AggregateMetrics",new ho)}static get defaultHDRMetrics(){return{isHDRLighting:!1,isHDRBackground:!1,hdrSize:{width:0,height:0},hdrBytesUsed:0}}static get defaultMetrics(){return{objectType:L.UNSUPPORTED,isVisible:!0,side:Wl,castShadow:!0,receiveShadow:!0,isInteractive:!0}}static get defaultAggregateMetrics(){return{visibleObjectCount:0,shadowCastingObjectCount:0,shadowReceivingObjectCount:0,interactiveObjectCount:0,doubleSidedObjectCount:0,directionalLightCount:0,pointLightCount:0,spotLightCount:0,areaLightCount:0,meshCount:0,frameCount:0,groupCount:0,objectCount:0}}_getMetrics(t){return this._entityId2Metrics.get(t)}_setMetrics(t,e){this._entityId2Metrics.set(t,e)}_deleteMetrics(t){return this._entityId2Metrics.delete(t)}_getAggregateMetrics(t){return this._entityId2AggregateMetrics.get(t)}_setAggregateMetrics(t,e){this._entityId2AggregateMetrics.set(t,e)}_deleteAggregateMetrics(t){return this._entityId2AggregateMetrics.delete(t)}getEntityMetrics(t){return this._getMetrics(t)??_0.defaultMetrics}getAggregateMetrics(t){const e=_0.defaultAggregateMetrics;for(const i of t){const n=this._getAggregateMetrics(i.id);n&&this._calculateAggregateMetrics(e,n)}return e}getEntityDependencyArray(t){return[t.sceneObject.activeValues().isVisible,t.sceneObject.activeValues().viewSettings.side,t.sceneObject.activeValues().viewSettings.castShadow,t.sceneObject.activeValues().viewSettings.receiveShadow,t.sceneObject.activeValues().isInteractive]}updateEntityMetrics(t){this._updateOtherMetrics(t),this._updateAggregateMetricsInHierarchy(t)}deleteEntityMetrics(t){this._deleteMetrics(t.id),this._deleteAggregateMetrics(t.id),this._updateAggregateMetricsInHierarchy(t)}rebuildSceneMetrics(t){const{sceneEntityHierarchy:e,sceneEntitiesById:i}=t;for(const n of Object.values(i))this._updateOtherMetrics(n);for(const n of e)this._updateAggregateMetricsRecursively(n)}_updateOtherMetrics(t){this._extractOtherMetricsFromEntity(t)}_updateAggregateMetricsInHierarchy(t){const e=gm.getRoot(t);this._updateAggregateMetricsRecursively(e)}_updateAggregateMetricsRecursively(t){let e=_0.defaultAggregateMetrics;const i=this._getMetrics(t.id);if(i){const n=this._calculateEffectiveMetrics(t,i);e=this._convertToAggregateMetrics({...i,...n});const o=t.children;for(const a of o){const l=this._updateAggregateMetricsRecursively(a);l&&this._calculateAggregateMetrics(e,l)}}return this._setAggregateMetrics(t.id,e),e}_calculateEffectiveMetrics(t,e){if(t.parent){const i=[e];let n=t.parent;do{const o=this._getMetrics(n.id);o&&i.push(o),n=n.parent}while(n!=null);return i.reduce((o,a)=>({isVisible:o.isVisible||a.isVisible,castShadow:o.castShadow||a.castShadow,receiveShadow:o.receiveShadow||a.receiveShadow,isInteractive:o.isInteractive||a.isInteractive}))}return e}_convertToAggregateMetrics(t){return{visibleObjectCount:t.isVisible?1:0,shadowCastingObjectCount:t.castShadow?1:0,shadowReceivingObjectCount:t.receiveShadow?1:0,interactiveObjectCount:t.isInteractive?1:0,doubleSidedObjectCount:t.side==In?1:0,directionalLightCount:(t==null?void 0:t.lightType)==$o.DIRECTIONAL?1:0,pointLightCount:(t==null?void 0:t.lightType)==$o.POINT?1:0,spotLightCount:(t==null?void 0:t.lightType)==$o.SPOT?1:0,areaLightCount:(t==null?void 0:t.lightType)==$o.AREA?1:0,meshCount:B8t(t.objectType)?1:0,groupCount:k8t(t.objectType)?1:0,frameCount:G8t(t.objectType)?1:0,objectCount:1}}_calculateAggregateMetrics(t,e){return t.visibleObjectCount+=e.visibleObjectCount,t.shadowCastingObjectCount+=e.shadowCastingObjectCount,t.shadowReceivingObjectCount+=e.shadowReceivingObjectCount,t.interactiveObjectCount+=e.interactiveObjectCount,t.doubleSidedObjectCount+=e.doubleSidedObjectCount,t.directionalLightCount+=e.directionalLightCount,t.pointLightCount+=e.pointLightCount,t.spotLightCount+=e.spotLightCount,t.areaLightCount+=e.areaLightCount,t.meshCount+=e.meshCount,t.groupCount+=e.groupCount,t.frameCount+=e.frameCount,t.objectCount+=e.objectCount,t}_extractOtherMetricsFromEntity(t){const e=_0.defaultMetrics;e.objectType=t.type,e.isVisible=t.sceneObject.activeValues().isVisible,e.side=t.sceneObject.activeValues().viewSettings.side,e.castShadow=t.sceneObject.activeValues().viewSettings.castShadow,e.receiveShadow=t.sceneObject.activeValues().viewSettings.receiveShadow,e.isInteractive=t.sceneObject.activeValues().isInteractive;const i=t.getComponentOf(Kl);return i&&i.type==pt.Light&&(i instanceof Rm?e.lightType=$o.DIRECTIONAL:i instanceof rh?e.lightType=$o.POINT:i instanceof hc?e.lightType=$o.SPOT:i instanceof od&&(e.lightType=$o.AREA)),this._setMetrics(t.id,e),e}getHDRMetrics(){const t=_0.defaultHDRMetrics,e=this._editor.sceneController.statefulScene;t.isHDRLighting=e.hdrLighting.isEnabled,t.isHDRBackground=e.environment.background.parameters.type==ln.ENVIRONMENT;const i=e.environment.hdrEnvMap;return i&&(t.hdrSize={width:i.image.width??0,height:i.image.height??0},t.hdrBytesUsed=Vi.estimateBytesUsed(i)),t}};du([E],md.prototype,"_setMetrics");du([E],md.prototype,"_deleteMetrics");du([E],md.prototype,"_setAggregateMetrics");du([E],md.prototype,"_deleteAggregateMetrics");du([E],md.prototype,"updateEntityMetrics");du([E],md.prototype,"deleteEntityMetrics");du([E],md.prototype,"rebuildSceneMetrics");du([E],md.prototype,"_updateOtherMetrics");du([E],md.prototype,"_updateAggregateMetricsInHierarchy");du([M],md.prototype,"getHDRMetrics");let hg=md;var yU=Object.defineProperty,V8t=Object.getOwnPropertyDescriptor,H8t=(s,t,e)=>t in s?yU(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Ga=(s,t,e,i)=>{for(var n=i>1?void 0:i?V8t(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&yU(t,e,n),n},zu=(s,t,e)=>(H8t(s,typeof t!="symbol"?t+"":t,e),e);class aa{constructor(t){this._editor=t,zu(this,"_disposable",new Zt),zu(this,"_entityId2ReactionDisposers",new Map),zu(this,"_geometryMetrics"),zu(this,"_materialMetrics"),zu(this,"_otherMetrics"),zu(this,"_areAllObjectsLoaded"),zu(this,"_isSuspended"),zu(this,"_beginTimestamp",Number.NaN),zu(this,"_fileLoadTime",Number.NaN),vt(this),this._geometryMetrics=new ty(t),this._materialMetrics=new Ap(t),this._otherMetrics=new hg(t),this._areAllObjectsLoaded=!1,this._isSuspended=!0,this._addBindings(),U.trace("Performance Monitor created as suspended")}get isSuspended(){return this._isSuspended}get isEditorMode(){const t=this._editor;return t?!t.isPlayMode&&!t.isPublishedMode:!1}get _shouldSkipMonitoring(){return this.isSuspended||!this.isEditorMode}_setReactionDisposers(t,...e){this._clearReactionDisposers(t),this._entityId2ReactionDisposers.set(t,e)}_clearReactionDisposers(t){const e=this._entityId2ReactionDisposers.get(t);e&&e.forEach(i=>i()),this._entityId2ReactionDisposers.delete(t)}dispose(){this._disposable.dispose();for(const[t,e]of this._entityId2ReactionDisposers)e.forEach(i=>i()),this._entityId2ReactionDisposers.delete(t)}_addBindings(){if(!this.isEditorMode)return;const t=this._editor.signals.file.allObjectsLoaded.add(()=>{Jt(()=>{this._areAllObjectsLoaded=!0})});this._disposable.add(new tt(()=>{t.detach()})),this._setReactionDisposers(ci,rt(()=>{this._areAllObjectsLoaded&&this.resumeMonitoring()}))}suspendMonitoring(){return this.isSuspended||!this.isEditorMode?!1:(this.dispose(),Jt(()=>this._isSuspended=!0),U.trace("Performance monitoring suspended"),!0)}_updateEntityMetricsImmediately(t){this._geometryMetrics.updateEntityMetrics(t),this._materialMetrics.updateEntityMetrics(t),this._otherMetrics.updateEntityMetrics(t)}_rebuildSceneMetrics(){const{sceneController:t}=this._editor;this._geometryMetrics.rebuildSceneMetrics(t),this._materialMetrics.rebuildSceneMetrics(t),this._otherMetrics.rebuildSceneMetrics(t)}_registerEntityMetricsUpdates(t){this._setReactionDisposers(t.id,Gn(()=>this._geometryMetrics.getEntityDependencyArray(t),()=>this._geometryMetrics.updateEntityMetrics(t)),Gn(()=>this._materialMetrics.getEntityDependencyArray(t),()=>this._materialMetrics.updateEntityMetrics(t)),Gn(()=>this._otherMetrics.getEntityDependencyArray(t),()=>this._otherMetrics.updateEntityMetrics(t)))}resumeMonitoring(){if(!this.isSuspended||!this.isEditorMode)return!1;mj("performance-scene-metrics"),this._rebuildSceneMetrics();const{sceneEntitiesById:t}=this._editor.sceneController;for(const e of Object.values(t))this._registerEntityMetricsUpdates(e);return Jt(()=>this._isSuspended=!1),U.trace("Performance monitoring resumed"),Ft("performance-scene-metrics",this.sceneMetrics),!0}registerEntity(t,e=null){this._shouldSkipMonitoring||(this._updateEntityMetricsImmediately(t),this._registerEntityMetricsUpdates(t))}unregisterEntity(t){this._shouldSkipMonitoring||(this._geometryMetrics.deleteEntityMetrics(t),this._materialMetrics.deleteEntityMetrics(t),this._otherMetrics.deleteEntityMetrics(t),this._clearReactionDisposers(t.id))}get _sceneEntities(){return this._editor.sceneController.sceneEntityHierarchy}get _selectionEntities(){return this._editor.selectionController.selectedCollection.sceneEntities}get sceneGeometryMetrics(){return this._shouldSkipMonitoring?ty.defaultAggregateMetrics:this._geometryMetrics.getAggregateMetrics(this._sceneEntities)}get selectionGeometryMetrics(){return this._shouldSkipMonitoring?ty.defaultAggregateMetrics:this._geometryMetrics.getAggregateMetrics(this._selectionEntities)}getEntityGeometryMetrics(t){return this._shouldSkipMonitoring?ty.defaultMetrics:this._geometryMetrics.getEntityMetrics(t)}get sceneMaterialMetrics(){return this._shouldSkipMonitoring?Ap.defaultAggregateMetrics:this._materialMetrics.getAggregateMetrics(this._sceneEntities)}get selectionMaterialMetrics(){return this._shouldSkipMonitoring?Ap.defaultAggregateMetrics:this._materialMetrics.getAggregateMetrics(this._selectionEntities)}getAggregateMaterialMetrics(t){return this._shouldSkipMonitoring?Ap.defaultAggregateMetrics:this._materialMetrics.getAggregateMetrics(t)}getMaterialMetrics(t){return this._shouldSkipMonitoring?Ap.defaultMetrics:this._materialMetrics.getMaterialMetrics(t)}getEntityMaterialMetrics(t){return this._shouldSkipMonitoring?{...Ap.defaultMetrics,...Ap.defaultAggregateMapMetrics}:this._materialMetrics.getEntityMetrics(t)}get sceneOtherMetrics(){return this._shouldSkipMonitoring?hg.defaultAggregateMetrics:this._otherMetrics.getAggregateMetrics(this._sceneEntities)}get selectionOtherMetrics(){return this._shouldSkipMonitoring?hg.defaultAggregateMetrics:this._otherMetrics.getAggregateMetrics(this._selectionEntities)}getEntityOtherMetrics(t){return this._shouldSkipMonitoring?hg.defaultMetrics:this._otherMetrics.getEntityMetrics(t)}get sceneHDRMetrics(){return this._shouldSkipMonitoring?hg.defaultHDRMetrics:this._otherMetrics.getHDRMetrics()}get sceneMetrics(){return this._shouldSkipMonitoring?{...ty.defaultAggregateMetrics,...Ap.defaultAggregateMetrics,...hg.defaultAggregateMetrics,...hg.defaultHDRMetrics}:{...this._geometryMetrics.getAggregateMetrics(this._sceneEntities),...this._materialMetrics.getAggregateMetrics(this._sceneEntities),...this._otherMetrics.getAggregateMetrics(this._sceneEntities),...this._otherMetrics.getHDRMetrics()}}get fileSize(){return this.sceneGeometryMetrics.totalBytesUsed+this.sceneMaterialMetrics.totalMapBytesUsed}beginFileLoad(){this._beginTimestamp=performance.now()}endFileLoad(){return Number.isNaN(this._beginTimestamp)?!1:(this._fileLoadTime=performance.now()-this._beginTimestamp,!0)}get fileLoadTime(){return this._fileLoadTime}}Ga([V],aa.prototype,"_areAllObjectsLoaded",2);Ga([V],aa.prototype,"_isSuspended",2);Ga([M],aa.prototype,"isSuspended",1);Ga([M],aa.prototype,"_shouldSkipMonitoring",1);Ga([M],aa.prototype,"_sceneEntities",1);Ga([M],aa.prototype,"_selectionEntities",1);Ga([M],aa.prototype,"sceneGeometryMetrics",1);Ga([M],aa.prototype,"selectionGeometryMetrics",1);Ga([M],aa.prototype,"sceneMaterialMetrics",1);Ga([M],aa.prototype,"selectionMaterialMetrics",1);Ga([M],aa.prototype,"sceneOtherMetrics",1);Ga([M],aa.prototype,"selectionOtherMetrics",1);Ga([M],aa.prototype,"sceneHDRMetrics",1);Ga([M],aa.prototype,"sceneMetrics",1);Ga([M],aa.prototype,"fileSize",1);var bU=Object.defineProperty,U8t=Object.getOwnPropertyDescriptor,z8t=(s,t,e)=>t in s?bU(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,ch=(s,t,e,i)=>{for(var n=i>1?void 0:i?U8t(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&bU(t,e,n),n},dg=(s,t,e)=>(z8t(s,typeof t!="symbol"?t+"":t,e),e);class dc{constructor(){dg(this,"_selectionStart",0),dg(this,"_selectionEnd",0),dg(this,"_textComponent",null),dg(this,"_didLastChangeComeFromInput",!1),dg(this,"_selectionStartFromInput",0),dg(this,"_selectionEndFromInput",0),dg(this,"onSelectionChangeCb"),vt(this)}get selectionStart(){return this._selectionStart}get selectionEnd(){return this._selectionEnd}get didLastChangeComeFromInput(){return this._didLastChangeComeFromInput}set didLastChangeComeFromInput(t){this._didLastChangeComeFromInput=t}set selectionStart(t){this._selectionStart=t}set selectionEnd(t){this._selectionEnd=t}get isOpen(){return this._textComponent!=null}get textComponent(){return this._textComponent}set textComponent(t){this._textComponent=t}get selectionStartFromInput(){return this._selectionStartFromInput}get selectionEndFromInput(){return this._selectionEndFromInput}onSelectionChange(t,e){this._selectionStartFromInput=t,this._selectionEndFromInput=e,this._didLastChangeComeFromInput=!0,this.onSelectionChangeCb&&this.onSelectionChangeCb(t,e)}}ch([V],dc.prototype,"_selectionStart",2);ch([V],dc.prototype,"_selectionEnd",2);ch([V],dc.prototype,"_textComponent",2);ch([V],dc.prototype,"_didLastChangeComeFromInput",2);ch([M],dc.prototype,"selectionStart",1);ch([M],dc.prototype,"selectionEnd",1);ch([M],dc.prototype,"didLastChangeComeFromInput",1);ch([M],dc.prototype,"isOpen",1);ch([M],dc.prototype,"textComponent",1);ch([V],dc.prototype,"_selectionStartFromInput",2);ch([V],dc.prototype,"_selectionEndFromInput",2);ch([E],dc.prototype,"onSelectionChange",1);const Y8t=({editor:s})=>{const[t,e]=m.useState(!1),[i,n]=m.useState(os.gltf),o=s.fileController,a=m.useCallback(()=>{const u={shouldExportScene:!1,shouldValidateOnly:!1,title:o.title??"Untitled"};s.sceneController.exportFromBezi(u,i)},[s.sceneController,o.title,i]),l=m.useCallback(()=>{const u={shouldExportScene:!0,shouldValidateOnly:!1,title:o.title??"Untitled"};s.sceneController.exportFromBezi(u,i)},[s.sceneController,o.title,i]),c=m.useCallback(()=>{t?a():l()},[t,a,l]),h=m.useCallback(()=>{Bt.close()},[]),d=u=>{n(u)};return r.jsx("div",{className:W("relative flex h-full w-full flex-col","bg-gray-90"),children:r.jsxs("div",{className:"flex flex-col gap-2 p-4",children:[r.jsxs("div",{className:"flex flex-row items-center justify-end gap-2",children:[r.jsx(Jd,{weight:"strong",className:"w-full text-left",children:"Export"}),r.jsx(cs,{label:"Close",onPress:h,className:"-mr-2 -mt-2",children:po})]}),r.jsxs("div",{className:"flex w-full flex-row items-center justify-start gap-8 pt-2",children:[r.jsx(K,{children:"File format"}),r.jsx(Ys,{label:"Format",selectedKey:i,items:[{id:os.gltf,text:"glTF"},{id:os.usdz,text:"USDZ"},{id:os.stl,text:"STL"}],onSelectionChange:u=>d(u),children:u=>r.jsx(se,{id:u.id,textValue:u.text})})]}),r.jsxs("div",{className:"flex w-88 flex-col gap-2 pb-2",children:[i===os.gltf&&r.jsx("div",{className:"body2 opacity-50",children:"The glTF file format is ideal for rendering in web and mobile devices. It reduces the file size, resulting in faster load speeds."}),i===os.usdz&&r.jsx("div",{className:"body2 opacity-50",children:"The USDz file format is used by Apple and supported in iOS AR applications. The output is a zip file with USD and image files."}),i===os.stl&&r.jsx("div",{className:"body2 opacity-50",children:"The STL file format is commonly used for 3D printing."})]}),r.jsx("hr",{}),r.jsx("div",{className:"flex flex-row items-center justify-between py-2",children:r.jsx(K,{weight:"strong",children:"Include"})}),r.jsx("div",{className:"flex flex-row items-center justify-between",children:r.jsx(Pa,{className:"pl-2",variant:"secondary",size:"md",onChange:e,isSelected:t,children:r.jsx(K,{className:"opacity-50",children:"Selected objects only"})})}),r.jsxs("div",{className:"flex h-auto flex-row items-center justify-between gap-2 pt-4",children:[r.jsx(Tt,{variant:"secondary",size:"sm",className:"h-6 grow",onClick:h,children:r.jsx(K,{children:"Cancel"})}),r.jsx(Tt,{variant:"primary",size:"sm",className:"h-6 grow",onClick:c,children:r.jsx(K,{children:"Export"})})]})]})})},W8t=s=>{Bt.open({content:r.jsx(Y8t,{editor:s}),option:{outClickHide:!0,size:"auto"}})};async function X8t(){const s=pi.fileID,t=he.profileID,e=Xt.docClient;!e||!s||!t||await e.send(new Ho({TableName:RN,Item:{id:`${s}--${t}`,file:s,profile:t,viewedAt:new Date().toISOString()}}))}class BS{constructor(t){this.top=0,this.array=new Float32Array(t)}write(t){this.array[this.top++]=t.x,this.array[this.top++]=t.y,this.array[this.top++]=t.z}}class Z8t{constructor(t){this.top=0,this.array=new Float32Array(t)}write(t){this.array[this.top++]=t.x,this.array[this.top++]=t.y}}let n0=class Lw{constructor(t){this.plane=null,this.front=null,this.back=null,this.polygons=[],t&&this.build(t)}clone(){const t=new Lw;return t.plane=this.plane&&this.plane.clone(),t.front=this.front&&this.front.clone(),t.back=this.back&&this.back.clone(),t.polygons=this.polygons.map(e=>e.clone()),t}invert(){for(let e=0;e<this.polygons.length;e++)this.polygons[e].flip();this.plane&&this.plane.flip(),this.front&&this.front.invert(),this.back&&this.back.invert();const t=this.front;this.front=this.back,this.back=t}clipPolygons(t){if(!this.plane)return t.slice();let e=new Array,i=new Array;for(let n=0;n<t.length;n++)this.plane.splitPolygon(t[n],e,i,e,i);return this.front&&(e=this.front.clipPolygons(e)),this.back?i=this.back.clipPolygons(i):i=[],e.concat(i)}clipTo(t){this.polygons=t.clipPolygons(this.polygons),this.front&&this.front.clipTo(t),this.back&&this.back.clipTo(t)}allPolygons(){let t=this.polygons.slice();return this.front&&(t=t.concat(this.front.allPolygons())),this.back&&(t=t.concat(this.back.allPolygons())),t}build(t){if(!t.length)return;this.plane||(this.plane=t[0].plane.clone());const e=[],i=[];for(let n=0;n<t.length;n++)this.plane.splitPolygon(t[n],this.polygons,this.polygons,e,i);e.length&&(this.front||(this.front=new Lw),this.front.build(e)),i.length&&(this.back||(this.back=new Lw),this.back.build(i))}};class rl{constructor(t=0,e=0,i=0){this.x=t,this.y=e,this.z=i}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}clone(){return new rl(this.x,this.y,this.z)}negate(){return this.x*=-1,this.y*=-1,this.z*=-1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}times(t){return this.x*=t,this.y*=t,this.z*=t,this}dividedBy(t){return this.x/=t,this.y/=t,this.z/=t,this}lerp(t,e){return this.add(new rl().copy(t).sub(this).times(e))}unit(){return this.dividedBy(this.length())}length(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2)+Math.pow(this.z,2))}normalize(){return this.unit()}cross(t){const e=this.clone(),i=e.x,n=e.y,o=e.z,a=t.x,l=t.y,c=t.z;return this.x=n*c-o*l,this.y=o*a-i*c,this.z=i*l-n*a,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}toVector3(){return new w(this.x,this.y,this.z)}}class Lg{constructor(t,e){this.normal=t,this.w=e,this.normal=t,this.w=e}clone(){return new Lg(this.normal.clone(),this.w)}flip(){this.normal.negate(),this.w=-this.w}splitPolygon(t,e,i,n,o){let d=0;const u=[];for(let f=0;f<t.vertices.length;f++){const p=this.normal.dot(t.vertices[f].pos)-this.w,g=p<-Lg.EPSILON?2:p>Lg.EPSILON?1:0;d|=g,u.push(g)}switch(d){case 0:(this.normal.dot(t.plane.normal)>0?e:i).push(t);break;case 1:n.push(t);break;case 2:o.push(t);break;case 3:{const f=[],p=[];for(let g=0;g<t.vertices.length;g++){const _=(g+1)%t.vertices.length,v=u[g],y=u[_],b=t.vertices[g],C=t.vertices[_];if(v!=2&&f.push(b),v!=1&&p.push(v!=2?b.clone():b),(v|y)==3){const x=(this.w-this.normal.dot(b.pos))/this.normal.dot(new rl().copy(C.pos).sub(b.pos)),I=b.interpolate(C,x);f.push(I),p.push(I.clone())}}f.length>=3&&n.push(new m_(f,t.shared)),p.length>=3&&o.push(new m_(p,t.shared));break}}}static fromPoints(t,e,i){const n=new rl().copy(e).sub(t).cross(new rl().copy(i).sub(t)).normalize();return new Lg(n.clone(),n.dot(t))}}Lg.EPSILON=1e-5;class m_{constructor(t,e){this.vertices=t,this.shared=e,this.plane=Lg.fromPoints(t[0].pos,t[1].pos,t[2].pos)}clone(){return new m_(this.vertices.map(t=>t.clone()),this.shared)}flip(){this.vertices.reverse().map(t=>t.flip()),this.plane.flip()}}class jx{constructor(t,e,i,n){this.pos=new rl().copy(t),this.normal=new rl().copy(e),this.uv=new rl().copy(i),this.uv.z=0,n&&(this.color=new rl().copy(n))}clone(){return new jx(this.pos,this.normal,this.uv,this.color)}flip(){this.normal.negate()}interpolate(t,e){return new jx(this.pos.clone().lerp(t.pos,e),this.normal.clone().lerp(t.normal,e),this.uv.clone().lerp(t.uv,e),this.color&&t.color&&this.color.clone().lerp(t.color,e))}}class Nn{constructor(){this.polygons=new Array}static fromPolygons(t){const e=new Nn;return e.polygons=t,e}static fromGeometry(t,e){let i=[];const n=t.attributes.position,o=t.attributes.normal,a=t.attributes.uv,l=t.attributes.color,c=t.groups;let h;if(t.index)h=t.index.array;else{h=new Array(n.array.length/n.itemSize|0);for(let u=0;u<h.length;u++)h[u]=u}const d=h.length/3|0;i=new Array(d);for(let u=0,f=0,p=h.length;u<p;u+=3,f++){const g=new Array(3);for(let _=0;_<3;_++){const v=h[u+_],y=v*3,b=v*2,C=n.array[y],x=n.array[y+1],I=n.array[y+2],O=o.array[y],T=o.array[y+1],D=o.array[y+2],B=a==null?void 0:a.array[b],F=a==null?void 0:a.array[b+1];g[_]=new jx(new rl(C,x,I),new rl(O,T,D),new rl(B,F,0),l&&new rl(l.array[b],l.array[b+1],l.array[b+2]))}if(e===void 0&&c&&c.length>0)for(const _ of c)h[u]>=_.start&&h[u]<_.start+_.count&&(i[f]=new m_(g,_.materialIndex));else i[f]=new m_(g,e)}return Nn.fromPolygons(i.filter(u=>!isNaN(u.plane.normal.x)))}static toGeometry(t,e){let i=0;const n=t.polygons;for(const p of n)i+=p.vertices.length-2;const o=new $n,a=new BS(i*3*3),l=new BS(i*3*3),c=new Z8t(i*2*3);let h;const d=[],u=[];for(const p of n){const g=p.vertices,_=g.length;p.shared!==void 0&&(d[p.shared]||(d[p.shared]=[])),_&&g[0].color!==void 0&&(h||(h=new BS(i*3*3)));for(let v=3;v<=_;v++)(p.shared===void 0?u:d[p.shared]).push(a.top/3,a.top/3+1,a.top/3+2),a.write(g[0].pos),a.write(g[v-2].pos),a.write(g[v-1].pos),l.write(g[0].normal),l.write(g[v-2].normal),l.write(g[v-1].normal),c&&(c.write(g[0].uv),c.write(g[v-2].uv),c.write(g[v-1].uv)),h&&(g[0].color?(h.write(g[0].color),h.write(g[v-2].color),h.write(g[v-1].color)):(h.write(new w(1,1,1)),h.write(new w(1,1,1)),h.write(new w(1,1,1))))}o.setAttribute("position",new $s(a.array,3)),o.setAttribute("normal",new $s(l.array,3)),c&&o.setAttribute("uv",new $s(c.array,2)),h&&o.setAttribute("color",new $s(h.array,3));for(let p=0;p<d.length;p++)d[p]===void 0&&(d[p]=[]);if(d.length){let p=[],g=0;for(let _=0;_<d.length;_++)o.addGroup(g,d[_].length,_),g+=d[_].length,p=p.concat(d[_]);o.addGroup(g,u.length,d.length),p=p.concat(u),o.setIndex(p)}const f=new Lt().copy(e).invert();return o.applyMatrix4(f),o.computeBoundingSphere(),o.computeBoundingBox(),o}static fromMesh(t,e){const i=Nn.fromGeometry(t.geometry,e),n=new w,o=new II;o.getNormalMatrix(t.matrix);for(let a=0;a<i.polygons.length;a++){const l=i.polygons[a];for(let c=0;c<l.vertices.length;c++){const h=l.vertices[c];h.pos.copy(n.copy(h.pos.toVector3()).applyMatrix4(t.matrix)),h.normal.copy(n.copy(h.normal.toVector3()).applyMatrix3(o))}}return i}static toMesh(t,e,i){const n=Nn.toGeometry(t,e),o=new re(n,i);return o.matrix.copy(e),o.matrix.decompose(o.position,o.quaternion,o.scale),o.rotation.setFromQuaternion(o.quaternion),o.updateMatrixWorld(),o.castShadow=o.receiveShadow=!0,o}static union(t,e){const i=Nn.fromMesh(t),n=Nn.fromMesh(e);return Nn.toMesh(i.union(n),t.matrix,t.material)}static subtract(t,e){const i=Nn.fromMesh(t),n=Nn.fromMesh(e);return Nn.toMesh(i.subtract(n),t.matrix,t.material)}static intersect(t,e){const i=Nn.fromMesh(t),n=Nn.fromMesh(e);return Nn.toMesh(i.intersect(n),t.matrix,t.material)}clone(){const t=new Nn;return t.polygons=this.polygons.map(e=>e.clone()).filter(e=>Number.isFinite(e.plane.w)),t}toPolygons(){return this.polygons}union(t){const e=new n0(this.clone().polygons),i=new n0(t.clone().polygons);return e.clipTo(i),i.clipTo(e),i.invert(),i.clipTo(e),i.invert(),e.build(i.allPolygons()),Nn.fromPolygons(e.allPolygons())}subtract(t){const e=new n0(this.clone().polygons),i=new n0(t.clone().polygons);return e.invert(),e.clipTo(i),i.clipTo(e),i.invert(),i.clipTo(e),i.invert(),e.build(i.allPolygons()),e.invert(),Nn.fromPolygons(e.allPolygons())}intersect(t){const e=new n0(this.clone().polygons),i=new n0(t.clone().polygons);return e.invert(),i.clipTo(e),i.invert(),e.clipTo(i),i.clipTo(e),e.build(i.allPolygons()),e.invert(),Nn.fromPolygons(e.allPolygons())}inverse(){const t=this.clone();for(const e of t.polygons)e.flip();return t}toMesh(t,e){return Nn.toMesh(this,t,e)}toGeometry(t){return Nn.toGeometry(this,t)}}class K8t{constructor(t){this.editor=t}apply(t){if(![it.BOOLEAN_UNION,it.BOOLEAN_SUBTRACT,it.BOOLEAN_INTERSECT].includes(t))return!1;const e=this.editor.selectionController.selectedCollection.sceneEntitiesWithMesh;if(e.length<2)return!1;const[i,...n]=e,o=i.id,a=[i.getObject3D()],l=n.map(y=>y.getObject3D());if(a.length<1||l.length<1)return!1;const c=new Lt,h=[];a.forEach(y=>{if(y.geometry)c.copy(y.matrix),h.push(y.geometry.clone().applyMatrix4(y.matrix));else return!1});const d=Yw(h),u=new re(d),f=[],p=[];l.forEach(y=>{if(y.geometry)p.push(y.userData.id),f.push(y.geometry.clone().applyMatrix4(y.matrix));else return!1});const g=Yw(f),_=new re(g),v=this._modify(u,_,t);if(v){const y={x:0,y:0,z:0},b={x:0,y:0,z:0},C={x:0,y:0,z:0};Hi.decomposeMatrix4(c,y,b,C);const x=c.clone().invert();v.geometry.applyMatrix4(x),v.geometry.computeBoundingBox(),v.geometry.computeBoundingSphere(),this._update(o,p,v.geometry,i.name)}return v}async _update(t,e,i,n){this.editor.stateController.recordBefore({action:P.NEW_BOOLEAN});const o=j0(),a=$0(i),l=URL.createObjectURL(a).match(/[^/]+$/g);if(!l)return;const c=l[0];this._updateLocally(o,c,t,e,i,n),await this._updateRemotely(o,c,a,t,e,i,n),this.editor.stateController.recordAfter({action:P.NEW_BOOLEAN})}_updateLocally(t,e,i,n,o,a){this.editor.sceneController.addBooleanShape(t,e,i,n,o,a)}async _updateRemotely(t,e,i,n,o,a,l){await ks(e,i),this.editor.stateController.signals.newBoolean.dispatch({action:P.NEW_BOOLEAN,ids:new Set([t]),otherIds:[n,...o]})}_modify(t,e,i){switch(t.geometry.hasAttribute("color")&&t.geometry.deleteAttribute("color"),e.geometry.hasAttribute("color")&&e.geometry.deleteAttribute("color"),i){case it.BOOLEAN_UNION:return this._union(t,e);case it.BOOLEAN_SUBTRACT:return this._subtract(t,e);case it.BOOLEAN_INTERSECT:return this._intersect(t,e)}return null}_union(t,e){return Nn.union(t,e)}_subtract(t,e){return Nn.subtract(t,e)}_intersect(t,e){return Nn.intersect(t,e)}}var CU=Object.defineProperty,q8t=Object.getOwnPropertyDescriptor,Q8t=(s,t,e)=>t in s?CU(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,$_=(s,t,e,i)=>{for(var n=i>1?void 0:i?q8t(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&CU(t,e,n),n},Eh=(s,t,e)=>(Q8t(s,typeof t!="symbol"?t+"":t,e),e);class P1{constructor(t){this.editor=t,Eh(this,"disposable",new Zt),Eh(this,"_presenceMap",new ho),Eh(this,"_followee",null),Eh(this,"_selection",[]),Eh(this,"_networkClient",null),Eh(this,"_awareness"),Eh(this,"_awarenessSessionIds",new Map),Eh(this,"presenceSelection",new Map),Eh(this,"updateCursorPositionGlobal",e=>{this._cursorPositionGlobal||(this._cursorPositionGlobal=new w),this._cursorPositionGlobal.copy(e),this._presenceUpdate()}),Eh(this,"_cursorPositionGlobal",null),Eh(this,"setPresenceMap",async({added:e=[],updated:i=[],removed:n=[]})=>{const o=this._awareness.getStates();for(const a of e){const l=o.get(a),c=Xl[l.color].FILL,h=l.profileID,d=await dm(h);d&&this.editor.profileController.addProfile(d),this.editor.signals.presence.presenceAdded.dispatch({presence:l,colorString:c}),this._presenceMap.set(l.sessionID,l),this._awarenessSessionIds.set(a,l.sessionID)}for(const a of n){const l=this._awarenessSessionIds.get(a);if(l===void 0)continue;const c=this._presenceMap.get(l);if(c===void 0)continue;const h=c.color,d=Xl[h].FILL;this.editor.signals.presence.presenceRemoved.dispatch({sessionID:l,colorString:d}),this._presenceMap.delete(l);const u=this.presenceSelection.get(h);u==null||u.removeAll()}for(const a of i){const l=o.get(a);if(!l)continue;const c=this._presenceMap.get(l.sessionID),h=a===this._awareness.clientID;!c&&!h||(this._presenceMap.set(l.sessionID,l),this._awarenessSessionIds.set(a,l.sessionID))}this._updatePresenceSelection(this._presenceMap),this.editor.presenceHelpersController.updateCameras(this._presenceMap,this.followeeSessionID)}),vt(this),this.disposable.add(this.addSignalBindings()),this._awareness=new uK(new fK),this._awareness.on("change",this.setPresenceMap),this.initPlayer()}dispose(){this.disposable.dispose()}init(){var t,e;this._networkClient=xut(),(t=this._networkClient)==null||t.registerCallback("presence",i=>{pK(this._awareness,i,void 0)}),(e=this._networkClient)==null||e.registerCallback("connection:close",()=>{const i=Array.from(this._awareness.getStates().keys()).filter(n=>n!==this._awareness.clientID);mK(this._awareness,i,"connection closed"),i.forEach(n=>this._awareness.meta.delete(n))}),this.disposable.add(new tt(()=>{this.setPresenceMap({}),this.setFollowee(null),this._selection=[]}))}_presenceUpdate(){var d,u;const t=this._awareness.getLocalState(),e=this.editor.viewportController.mainViewport,i=e==null?void 0:e.controls,n=e==null?void 0:e.camera,o=(d=e==null?void 0:e.vrRenderingController)!=null&&d.isActive?e==null?void 0:e.renderer.xr.getCamera().matrixWorld:n==null?void 0:n.matrixWorld;if(!i||!n||!o)return;const a=n.getFocalLength(),l=this.editor.isVRActive,c={...t,transform:o.toArray(),target:i.getTarget(),spherical:i.getSpherical(),focalOffset:i.getFocalOffset(),projection:n.isPerspectiveCamera?Xe.PERSPECTIVE:Xe.ORTHOGRAPHIC,focalLength:a?Math.round(a):null,zoom:n.zoom,selectedObjIDs:this._selection,followee:this._followee,cursorPositionGlobal:this._cursorPositionGlobal,lastUpdated:Date.now(),isInVR:l};this._awareness.setLocalState(c);const h=gK(this._awareness,[this._awareness.clientID]);(u=this._networkClient)==null||u.sendAwarenessUpdate(h)}addSignalBindings(){const{signals:t}=this.editor,e=[];return e.push(t.command.cameraNavigationStarted.add(i=>{this.updateCursorPositionGlobal(i.lastOrbitPivot),this.followeeSessionID!=null&&this.setFollowee(null)})),e.push(t.presence.pointPicked.add(({point:i})=>this.updateCursorPositionGlobal(i))),e.push(t.object.drawContinued.add(i=>this.updateCursorPositionGlobal(i.boundsEnd))),e.push(t.object.penContinued.add(i=>this.updateCursorPositionGlobal(i.points[0]))),e.push(t.object.moved.add(i=>this.updateCursorPositionGlobal(i.pointEnd))),e.push(t.gizmo.continued.add(i=>i.pivotGlobal&&this.updateCursorPositionGlobal(i.pivotGlobal))),e.push(t.selection.selectionChanged.add(({selection:i})=>this.setPlayerSelection([...i.sceneEntityIds]))),e.push(t.command.activeToolChanged.add(()=>this.setFollowee(null))),e.push(t.command.cameraNavigationContinue.add(()=>this._presenceUpdate())),new tt(()=>{for(const i of e)i.detach()})}get presenceMap(){return this._presenceMap}getColorForPlayer(t){const e=this._presenceMap.get(t);return e==null?null:Xl[e.color].FILL}get followee(){return this._followee}get followeeSessionID(){var t;return((t=this._followee)==null?void 0:t.sessionID)??null}get followeeProfileID(){var t;return((t=this._followee)==null?void 0:t.profileID)??null}setFollowee(t){this._followee=t,this._presenceUpdate()}setPlayerSelection(t){this._selection=t,this._presenceUpdate()}initPlayer(){const t=this.editor.profile.id,e=Object.values(kN);let i=e[0];const n=this._awareness.getLocalState();if((n==null?void 0:n.color)!==void 0)i=n.color;else{const a=[...this._awareness.getStates().values()].map(c=>c.color),l=e.filter(c=>!a.includes(c));i=l.length>0?l[Math.floor(Math.random()*l.length)]:e[Math.floor(Math.random()*e.length)]}const o={profileID:t,sessionID:he.sessionID,color:i,selectedObjIDs:[],editingObjID:null,followee:null,transform:new Lt().toArray(),target:new w,spherical:new Kg,focalOffset:new w,projection:Jg.projection,focalLength:null,zoom:null,cursorPositionGlobal:null,lastUpdated:Date.now(),isInVR:!1};this._awareness.setLocalState(o)}_updatePresenceSelection(t){for(const[e,i]of t){if(e===he.sessionID)continue;const n=i.color,o=[];for(const l of i.selectedObjIDs){const c=this.editor.sceneController.getSceneEntityById(l);c&&o.push(c)}this.presenceSelection.has(n)||this.presenceSelection.set(n,new Rs(this.editor,l=>this.editor.signals.presence.selectionChanged.dispatch({selection:l,colorID:n}))),this.presenceSelection.get(n).set(o)}}}$_([V],P1.prototype,"_presenceMap",2);$_([V],P1.prototype,"_followee",2);$_([E],P1.prototype,"init",1);$_([E],P1.prototype,"setFollowee",1);$_([E],P1.prototype,"setPlayerSelection",1);$_([E],P1.prototype,"setPresenceMap",2);var J8t=Object.defineProperty,$8t=(s,t,e)=>t in s?J8t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Yu=(s,t,e)=>($8t(s,typeof t!="symbol"?t+"":t,e),e);class tTt{constructor(t){this.editor=t,Yu(this,"_originSnapPoint",new D6(new Set([new g0("origin")]))),Yu(this,"_boundingBoxSnapPoints",[]),Yu(this,"_centerLocal",new w),Yu(this,"_topCenterLocal",new w),Yu(this,"_topCenterGlobal",new w),Yu(this,"_bottomCenterLocal",new w),Yu(this,"_bottomCenterGlobal",new w),Yu(this,"_boundingBoxGlobal",new Us),Yu(this,"_boundingBoxPointsGlobal",new Array(8).fill(null).map(()=>new w)),this.watch()}get boundingBoxSnapPoints(){return this._boundingBoxSnapPoints}get isEnabled(){return!this.editor.keyStateController.isCmdOrCtrlDown}get isGridSnapEnabled(){return this.isEnabled&&this.editor.fileSettingsController.isGridSnapEnabled}get isGridSnapAbsolute(){return this.editor.fileSettingsController.isGridSnapAbsolute}get allSnapPoints(){return[this._originSnapPoint,...this.boundingBoxSnapPoints]}watch(){rt(()=>{this._boundingBoxSnapPoints=[];const t=this.editor.sceneController.allItems,e=this.editor.selectionController.selectedCollection.sceneEntityIds,i=this.editor.selectionController.isTransformingSelection;for(const n of t){if(e.has(n.id)&&i||!n.isEffectivelyVisible)continue;const a=new Qn(n.transform.matrixLocal).to(Qn.GLOBAL_COORDINATE_SYSTEM),l=n.boundingBox;a.convertBoundingBox(l,this._boundingBoxGlobal,this._boundingBoxPointsGlobal);const c=new D6,h=new Set;for(const g of this._boundingBoxPointsGlobal){const _=new g0("boundingBoxPoint",g);h.add(_)}l.getCenter(this._centerLocal),this._topCenterLocal.set(this._centerLocal.x,l.max.y,this._centerLocal.z),a.convertPoint(this._topCenterLocal,this._topCenterGlobal);const d=new g0("boundingBoxTopCenter",this._topCenterGlobal);h.add(d),this._bottomCenterLocal.set(this._centerLocal.x,l.min.y,this._centerLocal.z),a.convertPoint(this._bottomCenterLocal,this._bottomCenterGlobal);const u=new g0("boundingBoxTopCenter",this._bottomCenterGlobal);h.add(u),c.add(h);const f=n.transform.positionVec,p=new g0("entity position",f);c.add(new Set([p])),this._boundingBoxSnapPoints.push(c)}})}}var b3=(s=>(s.FEEDBACK="FEEDBACK",s.FILE_INVITE="FILE_INVITE",s.TEAM_INVITE="TEAM_INVITE",s))(b3||{});function H0({isOn:s=!1,onToggle:t,testid:e}){const i=s?"bg-primary/20":"bg-gray-50",n=s?"ml-3.5 bg-primary/100":"bg-gray-20";function o(){t&&t(!s)}return r.jsx("div",{className:"flex h-4 w-[30px] flex-shrink-0 items-center",onClick:o,"data-testid":e??"toggle_input",children:r.jsx("div",{className:`transition-all flex h-3 w-full flex-row items-center rounded-lg ${i} `,children:r.jsx("div",{className:`transition-all h-4 w-4 rounded-full ${n}`})})})}const QO="Tell us how Bezi can improve...",eTt=({notFoundCommand:s,onClose:t})=>{const e=ji(),[i,n]=m.useState(s?`I'm looking for a "${s}" command...`:""),[o,a]=m.useState(!0);function l(f){n(f.target.value)}function c(f){a(f)}function h(){u(),d()}function d(){n(QO),Bt.close(),t()}async function u(){const{email:f,fullName:p}=e||{};!f||!p||await h7({type:b3.FEEDBACK,subject:"Bezi Feedback",from:{email:"support@bezi.com",name:"Bezi Support"},html:`<p>${p} (${f}):</p> <p><b>${i}</b></p> <p><i>Notify updates: ${o?"Yes":"No"}</i></p>`})}return r.jsxs(dn,{title:"Share feedback",isDisabledSubmit:!i,onSubmit:h,onClose:d,children:[r.jsx("div",{className:"mt-3 flex h-auto max-h-44 w-full flex-col gap-2 overflow-y-auto pr-1",children:r.jsx(G_,{value:i,placeholder:s?"":QO,onChange:l,style:{backgroundColor:"var(--white-a10)"},autoFocus:!0})}),r.jsxs("div",{className:"mb-3 flex justify-between",children:[r.jsx(K,{children:"Notify me with updates"}),r.jsx(H0,{isOn:o,onToggle:c})]})]})},sTt=m.memo(eTt);var iTt=Object.defineProperty,nTt=(s,t,e)=>t in s?iTt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,JO=(s,t,e)=>(nTt(s,typeof t!="symbol"?t+"":t,e),e);class oTt{constructor(){JO(this,"_notFoundCommand",""),JO(this,"onCloseDialog",()=>{this._notFoundCommand=""})}openDialog(){Bt.open({content:r.jsx(sTt,{notFoundCommand:this._notFoundCommand,onClose:this.onCloseDialog}),option:{onClose:this.onCloseDialog}})}setNotFoundCommand(t){this._notFoundCommand=t}}var rTt=Object.defineProperty,aTt=(s,t,e)=>t in s?rTt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,q2=(s,t,e)=>(aTt(s,typeof t!="symbol"?t+"":t,e),e);class lTt{constructor(t){this._editor=t,q2(this,"disposable",new Zt),q2(this,"_currSelected",new Set),q2(this,"_currHovered",new Set),q2(this,"_currPresenceSelected",new Map),this.disposable.add(this._addSignalBindings())}dispose(){this.disposable.dispose()}_addSignalBindings(){const{signals:t}=this._editor,e=[];return e.push(t.selection.hoverChanged.add(({selection:i})=>{const{selectedCollection:n}=this._editor.activeSelectionController,{all:o}=i;for(const a of this._currHovered)n.has(a)||this._highlightForPresence(a)||a.unhighlight();this._currHovered.clear();for(const a of o)this._currHovered.add(a),!n.has(a)&&a.highlightForHovered();t.selection.highlightChanged.dispatch()})),e.push(t.targeting.hoverChanged.add(({selection:i})=>{const{selectedCollection:n}=this._editor.selectionController,{selectedCollection:o}=this._editor.activeSelectionController,{all:a}=i;for(const l of this._currHovered)this._highlightForPresence(l)||(n.has(l)?l.highlightForSelected():l.unhighlight());this._currHovered.clear();for(const l of a)this._currHovered.add(l),!o.has(l)&&l.highlightForHovered();t.selection.highlightChanged.dispatch()})),e.push(t.selection.selectionChanged.add(({selection:i})=>{const{all:n}=i;for(const o of this._currSelected)this._highlightForPresence(o)||o.unhighlight();this._currSelected.clear();for(const o of n)this._currSelected.add(o),o.highlightForSelected();t.selection.highlightChanged.dispatch()})),e.push(t.presence.selectionChanged.add(({selection:i,colorID:n})=>{const{selectedCollection:o,hoveredCollection:a}=this._editor.activeSelectionController;this._currPresenceSelected.has(n)||this._currPresenceSelected.set(n,new Set);const l=this._currPresenceSelected.get(n);for(const c of l)o.has(c)||a.has(c)||this._highlightForPresence(c,n)||c.unhighlight();l.clear();for(const c of i.sceneEntities)l.add(c),!o.has(c)&&(a.has(c)||c.highlightForPresence(n));t.selection.highlightChanged.dispatch()})),new tt(()=>{for(const i of e)i.detach()})}_highlightForPresence(t,e){if(t instanceof Je){for(const[i,n]of this._currPresenceSelected)if(i!==e&&n.has(t))return t.highlightForPresence(i),!0}return!1}}class cTt{static serialize(t){return t.toArray()}static deserialize(t,e=new Lt){return e.fromArray(t)}}class $6 extends Ub{constructor(t){super(e=>"",""),this.color=t,this._element.classList.add("PresenceNametag"),this._element.style.backgroundColor=t}update(t){super.update(t),this._element.style.translate=`${Math.round(this._positionViewport.x+10)}px ${Math.round(this._positionViewport.y-40)}px`}}var hTt=Object.defineProperty,dTt=(s,t,e)=>t in s?hTt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Tp=(s,t,e)=>(dTt(s,typeof t!="symbol"?t+"":t,e),e);const uTt=new NL(.14,.3,20),fTt=new ke().setFromEuler(new ls(Math.PI/2,Math.PI/4,0)),$O=.1;class pTt extends sa{constructor(t,e){super(),this.editor=t,this.presence=e,Tp(this,"disposable",new Zt),Tp(this,"material",new z5({color:Xl[this.presence.color].FILL,depthTest:!0,depthWrite:!0,shouldDarkenUnderside:!0})),Tp(this,"mesh",new re(uTt,this.material)),Tp(this,"nametag",new $6(Xl[this.presence.color].BACKGROUND)),Tp(this,"transform",new Lt),Tp(this,"_pos",new w(0,0,0)),Tp(this,"_rot",new ke(0,0,0,0)),Tp(this,"_sca",new w(1,1,1)),this.add(this.mesh),this.editor.helpers.add(this.nametag),this.nametag.setViewport(this.editor.viewportController.mainViewport);const i=this.editor.profileController.profilesByID.get(e.profileID);this.nametag.label=(i==null?void 0:i.fullName)??"Guest",this.nametag.active=!0,this.disposable.add(new tt(()=>{this.nametag.onEnd(),this.editor.helpers.remove(this.nametag)}))}dispose(){this.disposable.dispose()}hide(){this.visible=!1,this.nametag.active=!1}show(){this.visible=!0,this.nametag.active=!0}update(t){this.transform.decompose(this._pos,this._rot,this._sca),this.quaternion.copy(this._rot.multiply(fTt)),this.scaleBasedOnDistanceToCamera(t,160),this.updateMatrixWorld()}animate(){this.position.lerp(this._pos,$O),this.nametag.position.lerp(this._pos,$O)}}var mTt=Object.defineProperty,gTt=(s,t,e)=>t in s?mTt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,o0=(s,t,e)=>(gTt(s,typeof t!="symbol"?t+"":t,e),e);const tM=.1;class _Tt extends sa{constructor(t,e){super(),this.editor=t,this.presence=e,o0(this,"disposable",new Zt),o0(this,"material",new z5({color:Xl[this.presence.color].FILL,depthTest:!0,depthWrite:!0,shouldDarkenUnderside:!0})),o0(this,"_arrowHelper",new R6(this.material,.75)),o0(this,"nametag",new $6(Xl[this.presence.color].BACKGROUND)),o0(this,"positionEnd",new w),o0(this,"_direction",new w(1,0,0)),this.add(this._arrowHelper),this.addNametag(),this.editor.signals.gizmo.changed.dispatch();const i=this.editor.signals.window.vrSessionStarted.add(()=>{this.removeNametag()}),n=this.editor.signals.window.vrSessionEnded.add(()=>{this.addNametag()});this.disposable.add(new tt(()=>{i.detach(),n.detach(),this.removeNametag(),this.editor.signals.gizmo.changed.dispatch()}))}dispose(){this.disposable.dispose()}removeNametag(){this.nametag.onEnd(),this.editor.helpers.remove(this.nametag)}addNametag(){if(this.editor.isVRActive)return;this.nametag=new $6(Xl[this.presence.color].BACKGROUND),this.editor.helpers.add(this.nametag),this.nametag.setViewport(this.editor.viewportController.mainViewport);const t=this.editor.profileController.profilesByID.get(this.presence.profileID);this.nametag.label=(t==null?void 0:t.fullName)??"Guest",this.nametag.active=!0}hide(){this.visible=!1,this.nametag.active=!1}show(){this.visible=!0,this.nametag.active=!0}setDirection(t){this._direction.copy(t)}update(t){var e;super.update(t),(e=this._arrowHelper)==null||e.quaternion.setFromUnitVectors(to,this._direction)}animate(t){var e;(e=this._arrowHelper)==null||e.position.lerp(this.positionEnd,tM),this.nametag.position.lerp(this.positionEnd,tM),this.updateMatrixWorld()}}var wU=Object.defineProperty,vTt=Object.getOwnPropertyDescriptor,yTt=(s,t,e)=>t in s?wU(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,bTt=(s,t,e,i)=>{for(var n=vTt(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&wU(t,e,n),n},sy=(s,t,e)=>(yTt(s,typeof t!="symbol"?t+"":t,e),e);const CTt=new Lt,wTt=!0;class xU{constructor(t){this.editor=t,sy(this,"_presenceCameraHelpers",{}),sy(this,"_presenceCursorHelpers",{}),sy(this,"_mat4",new Lt),sy(this,"_cameraPosition",new w),sy(this,"_presenceCursorDirection",new w)}get presenceCameraHelpers(){return Object.values(this._presenceCameraHelpers)}get presenceCursorHelpers(){return Object.values(this._presenceCursorHelpers)}updateCameras(t,e){var o;const i=t.values(),n=new Set(t.keys());for(const a of Object.keys(this._presenceCameraHelpers)){const l=t.get(a);(!n.has(a)||l&&!l.isInVR)&&(this._presenceCameraHelpers[a].dispose(),delete this._presenceCameraHelpers[a])}for(const a of Object.keys(this._presenceCursorHelpers))n.has(a)||(this._presenceCursorHelpers[a].dispose(),delete this._presenceCursorHelpers[a]);if(t.size!==1){for(const a of i){let l=this._presenceCameraHelpers[a.sessionID],c=this._presenceCursorHelpers[a.sessionID];const{cursorPositionGlobal:h}=a,d=h!=null;if(a.sessionID===he.sessionID||!d){c==null||c.hide();continue}c!=null&&c.visible||c==null||c.show(),c||(c=new _Tt(this.editor,a),this._presenceCursorHelpers[a.sessionID]=c),Go.deserialize(h,c.positionEnd),cTt.deserialize(a.transform,this._mat4);const u=this._cameraPosition.setFromMatrixPosition(this._mat4);Go.deserialize(h,this._presenceCursorDirection);const f=this._presenceCursorDirection.sub(u).normalize();if(c.setDirection(f),a.sessionID===he.sessionID||((o=a.followee)==null?void 0:o.sessionID)===he.sessionID||a.sessionID===e||CTt.equals(this._mat4)){l==null||l.hide();continue}l!=null&&l.visible||l==null||l.show(),!l&&wTt&&a.isInVR&&(l=new pTt(this.editor,a),this._presenceCameraHelpers[a.sessionID]=l),l==null||l.transform.copy(this._mat4)}e!=null&&this._followCamera(e,t)}}update(t){const e=this.presenceCameraHelpers,i=this.presenceCursorHelpers;return e.length===0&&i.length===0?!1:(e.forEach(n=>{n.animate()}),i.forEach(n=>{n.animate(t)}),!0)}_followCamera(t,e){var u,f,p;const i=(u=this.editor.viewportController.activeViewport)==null?void 0:u.controls;if(!i)return;const n=e.get(t);if(!n)return;const o=n.target,a=n.spherical,l=n.focalOffset,c=n.projection,h=n.focalLength,d=n.zoom;a&&l&&o&&c&&d&&((f=this.editor.viewportController.mainViewport)==null||f.toggleOrthoMode(c),h!=null&&((p=this.editor.viewportController.mainViewport)==null||p.camera.setFocalLength(h),this.editor.fileSettingsController.setCameraFov(h)),i.zoomTo(d,!0),i.setFocalOffset(l.x,l.y,l.z,!0),i.setSpherical(a.radius,a.theta,a.phi,o.x,o.y,o.z,!0))}}bTt([E],xU.prototype,"updateCameras");var EU=Object.defineProperty,xTt=Object.getOwnPropertyDescriptor,ETt=(s,t,e)=>t in s?EU(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Gm=(s,t,e,i)=>{for(var n=i>1?void 0:i?xTt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&EU(t,e,n),n},Di=(s,t,e)=>(ETt(s,typeof t!="symbol"?t+"":t,e),e);let Xf=class extends oa{constructor(t,e,i,n=!1){super(e),this._fileID=t,this._appContext=e,this._profile=i,this._startWithTemplateLibrary=n,Di(this,"activeTool",new x8(this)),Di(this,"activeBottomBar",null),Di(this,"presenceHelpersController",new xU(this)),Di(this,"presenceController",new P1(this)),Di(this,"curveController",new w8t(this)),Di(this,"meshController",new ZV(this)),Di(this,"highlightController",new lTt(this)),Di(this,"snapController",new tTt(this)),Di(this,"booleanController",new K8t(this)),Di(this,"historyController",new o3(this)),Di(this,"feedbackController",new oTt),Di(this,"profileController",this._appContext.profileController),Di(this,"integrationsController",this._appContext.integrationsController),Di(this,"creditsController",this._appContext.creditsController),Di(this,"canvasInputController",new Fa),Di(this,"textAreaController",new dc),Di(this,"commandCenterController",new Ba(this)),Di(this,"expansionController",new Wf(this)),Di(this,"stateMachineController",new ds(this)),Di(this,"timelineController",new gr(this)),Di(this,"performanceMonitor"),Di(this,"performanceInsights"),Di(this,"targetSelectionController",new zf(this,this.signals.targeting)),Di(this,"forceMenuCommandToUseDocumentBody",!1),Di(this,"_activeSelectionController"),Di(this,"isUIVisible",!0),Di(this,"_undeletableTools",[it.PEN,it.LINE,it.CURVE_EDIT,it.MESH_SELECT,it.EXTRUDE,it.LOOP_CUT,it.INSET,it.BEVEL]),Di(this,"_showShortcuts",!1),this.performanceMonitor=new aa(this),this.performanceInsights=new Ve(this),this._activeSelectionController=this.selectionController,vt(this),this._disposable.add(this._addEventListeners())}async init(){if(this._isInitialized)return;await super.init(),await this.physicsController.init();const t=await this.fileController.loadFile(this._fileID,e=>{this._isARScene=e,this._isARSceneDetermined=!0});this._isInitialized=!0,t&&(this.presenceController.init(),this.sceneController.init(),this.commentController.activate(),this.viewportController.viewports.forEach(e=>e.start()),this._saveFileView())}initAccess(t,e,i,n,o,a){const l=super.initAccess(t,e,i,n,o,a);return this._initTools(this.accessController,this.commandController),l}_initTools(t,e){this._setActiveTool(this._startWithTemplateLibrary?it.TEMPLATE_LIBRARY:it.SELECT),this.commandCenterController.initCommands(t,e),this.viewportController.init(t,e),this._disposable.add(this._addKeyListeners(t,e)),this._disposable.add(this._addCommandBindings(t,e)),this._disposable.add(this._addSignalBindings()),this._disposable.add(new tt(()=>{this.keyStateController.dispose(),this.commandController.dispose(),this.commandCenterController.dispose(),this.historyController.dispose(),this.presenceController.dispose(),this.stateController.dispose(),this.componentsController.dispose(),this.sceneController.dispose(),this.highlightController.dispose(),this.curveController.dispose(),this.meshController.dispose(),this.selectionController.dispose(),this.expansionController.dispose(),this.commentController.dispose(),this.stateMachineController.dispose(),this.timelineController.dispose(),this.fileController.dispose(),this.activeTool.dispose(),this.performanceInsights.dispose(),this.performanceMonitor.dispose()}))}get profile(){return this._profile}_saveFileView(){this.accessController.isGuest||X8t()}_addSignalBindings(){const{signals:t}=this,e=[];return e.push(t.object.drawEnded.add(()=>{this._setActiveTool(it.SELECT)}),t.object.moveEnded.add(()=>{this._setActiveTool(it.SELECT)}),t.mesher.interactionEnded.add(()=>{const i=[...this.selectionController.currentSelectableTypes];this._setActiveTool(it.MESH_SELECT),this.selectionController.setSelectableTypes(...i)}),t.window.vrSessionStarted.add(({sessionDevice:i,sessionMode:n})=>{i===ol.MOBILE||i===ol.HEADSET&&n==="immersive-ar"?this._setActiveTool(it.XR_SET_ANCHOR):this._setActiveTool(it.SELECT)}),t.window.vrSessionEnded.add(()=>{this._setActiveTool(it.SELECT)})),new tt(()=>{for(const i of e)i.detach()})}_addEventListeners(){const t=()=>this._onWindowUnload(),e=i=>this._onMouseWheel(i);return document.addEventListener("wheel",e,{passive:!1}),window.addEventListener("beforeunload",t),new tt(()=>{window.removeEventListener("beforeunload",t),document.removeEventListener("wheel",e)})}_addKeyListeners(t,e){const i=Object.values(it).filter(n=>n!==it.PLAY_MODE_INTERACTION);return e.addKeyListeners(document.body,[...i,qw.OPEN,qw.TOGGLE,lo.STATE_MACHINE,...Object.values(Dl),...Object.values(jh)],!1,t)}_addCommandBindings(t,e){this._setActiveTool=this._setActiveTool.bind(this);const{tool:i,meshing:n,pen:o,line:a,curve:l,file:c,rootMenu:h,help:d,selectToolCommand:u,units:f,view:p,viewHierarchy:g,perf:_,bottomBar:v}=R;return e.registerCommandBindings(document.body,{[i.SELECT]:()=>{this.activeTool.id===it.SELECT&&(this.activeBottomBar?this._setActiveBottomBar(null):this.selectionController.selectedCollection.isEmpty||this.selectionController.selectedCollection.set([])),this._setActiveTool(it.SELECT),this.setActiveSelectionController(this.selectionController)},[i.XR_SET_ANCHOR]:()=>this._setActiveTool(it.XR_SET_ANCHOR),[i.SELECT_TARGET]:()=>{this._setActiveTool(it.SELECT_TARGET),this.setActiveSelectionController(this.targetSelectionController)},[i.MEASURE]:()=>this._setActiveTool(it.MEASURE),[i.MOVE]:()=>this._setActiveTool(it.MOVE),[i.PLANE]:()=>this._setActiveTool(it.PLANE),[i.BOX]:()=>this._setActiveTool(it.BOX),[i.SPHERE]:()=>this._setActiveTool(it.SPHERE),[i.CYLINDER]:()=>this._setActiveTool(it.CYLINDER),[i.CONE]:()=>this._setActiveTool(it.CONE),[i.EMPTY]:()=>this._setActiveTool(it.EMPTY),[i.POINT_LIGHT]:()=>this._setActiveTool(it.POINT_LIGHT),[i.AREA_LIGHT]:()=>this._setActiveTool(it.AREA_LIGHT),[i.SPOT_LIGHT]:()=>this._setActiveTool(it.SPOT_LIGHT),[i.DIRECTIONAL_LIGHT]:()=>this._setActiveTool(it.DIRECTIONAL_LIGHT),[i.TEXT]:()=>this._setActiveTool(it.TEXT),[i.HUMAN]:()=>this._setActiveTool(it.HUMAN),[i.XRRIG]:()=>this._setActiveTool(it.XRRIG),[i.GAMEPAD]:()=>this._setActiveTool(it.GAMEPAD),[i.PEN]:()=>this._setActiveTool(it.PEN),[i.LINE]:()=>this._setActiveTool(it.LINE),[i.FRAME]:()=>this._handleFrame(),[i.GROUP]:()=>this.sceneController.groupSelectedObjects(),[i.CAMERA]:()=>{this.sceneController.cameraController.addCamera()},[i.SOUND]:()=>this._setActiveTool(it.SOUND),[i.SOUND_SPATIAL]:()=>this._setActiveTool(it.SOUND_SPATIAL),[i.COMMENTS]:()=>this._setActiveTool(it.COMMENTS),[i.BOOLEAN_UNION]:({type:y})=>{this._setActiveTool(y)},[i.BOOLEAN_SUBTRACT]:({type:y})=>{this._setActiveTool(y)},[i.BOOLEAN_INTERSECT]:({type:y})=>{this._setActiveTool(y)},[i.ASSET_LIBRARY]:()=>this._setActiveTool(it.ASSET_LIBRARY),[i.TEMPLATE_LIBRARY]:()=>this._setActiveTool(it.TEMPLATE_LIBRARY),[i.PLACE]:y=>{const{param:b}=y.detail;this._setActiveTool(it.PLACE,b)},[u.EDIT]:()=>{this.selectionController.selectedCollection.sceneEntitiesWithCurve.length?this._setActiveTool(it.CURVE_EDIT):this.selectionController.selectedCollection.sceneEntitiesWithMesh.length?this._setActiveTool(it.MESH_SELECT):this.selectionController.selectedCollection.sceneEntitiesWithText.length?(this._setActiveTool(it.TEXT_EDIT),this.selectionController.setSelectableTypes(Le.TEXT)):this._setActiveTool(it.SELECT)},[u.TOGGLE_SPACE]:()=>this.sceneController.toggleSpace(),[u.DELETE]:()=>this._handleDelete(),[R.selectToolCommand.DUPLICATE]:()=>this.sceneController.duplicateSelectedItemsFromCommand(),[R.selectToolCommand.COPY]:()=>this.sceneController.copySelectedItems(),[R.selectToolCommand.PASTE]:()=>this.sceneController.pasteObjects(),[R.selectToolCommand.FRAME]:()=>this.sceneController.groupSelectedObjectsAsFrame(),[R.selectToolCommand.GROUP]:()=>this.sceneController.groupSelectedObjects(),[R.selectToolCommand.UNGROUP]:()=>{this.sceneController.ungroupSelectedGroup()},[R.selectToolCommand.FRAME_FIT_CHILDREN]:y=>{const b=y.detail;this.sceneController.frameFitChildren(b.param)},[R.selectToolCommand.SELECT_ALL]:()=>{this.sceneController.selectAllObjects()},[R.selectToolCommand.APPLY_SCALE]:()=>{this.sceneController.applyScale()},[R.alignment.ALIGN_MIN_X]:()=>{this.sceneController.alignSceneEntities(Mt.X,Oe.MINIMUM)},[R.alignment.ALIGN_MIN_Y]:()=>{this.sceneController.alignSceneEntities(Mt.Y,Oe.MINIMUM)},[R.alignment.ALIGN_MIN_Z]:()=>{this.sceneController.alignSceneEntities(Mt.Z,Oe.MINIMUM)},[R.alignment.ALIGN_CENTER_X]:()=>{this.sceneController.alignSceneEntities(Mt.X,Oe.CENTER)},[R.alignment.ALIGN_CENTER_Y]:()=>{this.sceneController.alignSceneEntities(Mt.Y,Oe.CENTER)},[R.alignment.ALIGN_CENTER_Z]:()=>{this.sceneController.alignSceneEntities(Mt.Z,Oe.CENTER)},[R.alignment.ALIGN_MAX_X]:()=>{this.sceneController.alignSceneEntities(Mt.X,Oe.MAXIMUM)},[R.alignment.ALIGN_MAX_Y]:()=>{this.sceneController.alignSceneEntities(Mt.Y,Oe.MAXIMUM)},[R.alignment.ALIGN_MAX_Z]:()=>{this.sceneController.alignSceneEntities(Mt.Z,Oe.MAXIMUM)},[R.alignment.TOGGLE_SCOPE]:()=>{this.sceneController.toggleAlignmentScope()},[R.distribute.DISTRIBUTE_ALONG_X]:()=>{this.sceneController.distributeSceneEntities(Mt.X)},[R.distribute.DISTRIBUTE_ALONG_Y]:()=>{this.sceneController.distributeSceneEntities(Mt.Y)},[R.distribute.DISTRIBUTE_ALONG_Z]:()=>{this.sceneController.distributeSceneEntities(Mt.Z)},[R.selectToolCommand.COLLIDER_ADD]:()=>{this.sceneController.addCollider()},[R.selectToolCommand.COLLIDER_REMOVE]:y=>{const b=y.detail;this.sceneController.removeCollider(b.param)},[R.selectToolCommand.COLLIDER_TYPE_CHANGE]:y=>{const b=y.detail;this.sceneController.colliderChangeType(b.param)},[R.selectToolCommand.COLLIDER_NAME_CHANGE]:y=>{const b=y.detail;this.sceneController.colliderChangeName(b.param)},[R.selectToolCommand.COLLIDER_TOGGLE_ENABLED]:y=>{const b=y.detail;this.sceneController.colliderToggleEnabled(b.param)},[R.selectToolCommand.SET_ALL_STATES_TO_BASE]:()=>{this.sceneController.setAllObjectStates(ys)},[R.selectToolCommand.SET_ALL_STATES_TO_START]:()=>{this.sceneController.setAllObjectStates(Ro)},[R.selectToolCommand.EMPTY_TYPE_CHANGE]:y=>{const b=y.detail;this.sceneController.emptyChangeType(b.param)},[R.selectToolCommand.COMPONENT_CREATE]:()=>{this.componentsController.createNewComponent()},[R.selectToolCommand.COMPONENT_INSTANCE]:()=>{this.componentsController.addInstanceFromSelection()},[R.selectToolCommand.COMPONENT_INSTANCE_UNLINK]:()=>{this.componentsController.unlinkInstance()},[R.instanceCommand.GO_TO_MAIN_COMPONENT]:()=>{this.componentsController.goToMainComponent()},[R.instanceCommand.RESTORE_MAIN_COMPONENT]:()=>{this.componentsController.restoreMainComponent()},[R.instanceCommand.PROMOTE_OVERRIDES]:()=>{this.componentsController.promoteInstanceToComponent()},[R.instanceCommand.RESET_OVERRIDES]:()=>{this.componentsController.resetInstanceToComponent()},[R.canvasInput.OPEN]:y=>{this.canvasInputController.setInitialKeyAndOpen(y.detail.param.key)},[R.canvasInput.CLOSE]:()=>{this.canvasInputController.close()},[R.canvasInput.COMMIT]:()=>{this.canvasInputController.commitAndClose()},[R.commandPalette.OPEN]:y=>{this.commandCenterController.setInitialKeyAndOpen(y.key)},[R.commandPalette.TOGGLE]:()=>this.commandCenterController.toggle(),[R.viewRender.AMBIENT_LIGHT]:()=>this.sceneController.setAmbientLightEnabled(!this.sceneController.scene.ambientLight.isEnabled),[n.EXIT]:()=>{this._setActiveTool(it.SELECT,void 0,!0)},[n.SELECT_FACE]:()=>{this._setActiveTool(it.MESH_SELECT),this.selectionController.setSelectableTypes(Le.FACE)},[n.SELECT_EDGE]:()=>{this._setActiveTool(it.MESH_SELECT),this.selectionController.setSelectableTypes(Le.EDGE)},[n.SELECT_VERTEX]:()=>{this._setActiveTool(it.MESH_SELECT),this.selectionController.setSelectableTypes(Le.VERTEX)},[i.MESH_SELECT]:({type:y})=>{this._setActiveTool(y)},[i.CURVE_EDIT]:({type:y})=>{this._setActiveTool(y)},[i.TEXT_EDIT]:({type:y})=>{this._setActiveTool(y)},[i.LOOP_CUT]:({type:y})=>{this._setActiveTool(y)},[i.EXTRUDE]:({type:y})=>{this._setActiveTool(y)},[i.INSET]:({type:y})=>{this._setActiveTool(y)},[i.BEVEL]:({type:y})=>{this._setActiveTool(y)},[n.TOGGLE_XRAY_VIEW]:()=>{this.meshController.setXraySelectMode(!this.meshController.isXrayViewEnabled)},[o.EXIT]:()=>this._setActiveTool(it.SELECT),[o.DELETE]:()=>{},[a.EXIT]:()=>this._setActiveTool(it.SELECT),[a.DELETE]:()=>{},[l.EXIT]:()=>this._setActiveTool(it.SELECT),[l.DELETE]:()=>{},[f.METERS]:()=>this.sceneController.setUnits(Dt.M),[f.MILLIMETERS]:()=>this.sceneController.setUnits(Dt.MM),[f.CENTIMETERS]:()=>this.sceneController.setUnits(Dt.CM),[f.FEET]:()=>this.sceneController.setUnits(Dt.FT),[f.INCHES]:()=>this.sceneController.setUnits(Dt.IN),[c.NEW_FILE]:()=>r1.newFileFlow(),[c.DUPLICATE_FILE]:()=>r1.duplicateFileFlow(),[c.SAVE_VERSION]:()=>this.historyController.saveNamedVersion(),[c.VERSION_HISTORY]:()=>this._setActiveTool(it.HISTORY),[c.EDIT_UNITS_CONVERSION]:()=>this.fileSettingsController.isUnitsConversionDialogVisible=!0,[c.EXPORT]:()=>{W8t(this)},[d.TOGGLE_SHORTCUTS_PANEL]:()=>{this.isShortcutsPanelVisible=!this.isShortcutsPanelVisible},[d.DOCUMENTATION]:()=>window.open(rj,"_blank"),[d.COMMUNITY]:()=>window.open(nj,"_blank"),[d.DISCORD]:()=>window.open(x5,"_blank"),[d.FEEDBACK]:()=>this.feedbackController.openDialog(),[d.TWITTER]:()=>window.open(oj,"_blank"),[h.NOT_FOUND]:()=>this.feedbackController.openDialog(),[g.COLLAPSE_HIERARCHY_ITEMS]:()=>this.expansionController.collapseAllExceptParents(this.selectionController.selectedCollection.sceneEntities),[g.EXPAND_HIERARCHY_ITEMS]:()=>this.expansionController.expandAll(Object.values(this.sceneController.sceneEntitiesById)),[g.TOGGLE_VISIBILITY]:y=>{var C,x;let b=(x=(C=y.detail)==null?void 0:C.param)==null?void 0:x.entities;b||(b=Array.from(this.selectionController.selectedCollection.sceneEntities)),this.sceneController.toggleVisibility(b)},[g.TOGGLE_LOCK]:y=>{var C,x;let b=(x=(C=y.detail)==null?void 0:C.param)==null?void 0:x.entities;b||(b=Array.from(this.selectionController.selectedCollection.sceneEntities)),this.sceneController.toggleLock(b)},[g.HIDE_INVERSE]:y=>{var C,x;let b=(x=(C=y.detail)==null?void 0:C.param)==null?void 0:x.entities;b||(b=Array.from(this.selectionController.selectedCollection.sceneEntities)),this.sceneController.hideInverse(b)},[g.LOCK_INVERSE]:y=>{var C,x;let b=(x=(C=y.detail)==null?void 0:C.param)==null?void 0:x.entities;b||(b=Array.from(this.selectionController.selectedCollection.sceneEntities)),this.sceneController.lockInverse(b)},[g.UNHIDE_ALL]:()=>{this.sceneController.unhideAll()},[g.UNLOCK_ALL]:()=>{this.sceneController.unlockAll()},[p.TOGGLE_EDITOR_COMMENTS]:()=>{var y;return(y=this.commentController)==null?void 0:y.toggleShouldShowComments()},[p.SYNC_ALL_FIGMA_FRAMES]:()=>this.sceneController.loadAllFigmaFrames(),[p.TOGGLE_UI]:()=>this._toggleUI(),[p.RESET_PANEL_SIZES]:()=>this.preferencesController.resetPanelDimensions(),[p.VIEW_SELECTED_CAMERA]:()=>this.sceneController.cameraController.viewSelectedCamera(),[_.TOGGLE_DEV_PERF_PANEL]:()=>this._togglePerfPanel(),[_.VIEW_IN_PERFORMANCE]:()=>this._viewInPerformance(),[v.LIBRARY]:()=>this._setActiveBottomBar(lo.LIBRARY),[v.STATE_MACHINE]:()=>this._setActiveBottomBar(lo.STATE_MACHINE),[v.PERFORMANCE]:()=>this._setActiveBottomBar(lo.PERFORMANCE),[v.GEN_AI]:y=>{var C;const b=(C=y.detail)==null?void 0:C.param;this._setGenAIBottomBar(b??null)}},t)}_toggleUI(){this.isUIVisible=!this.isUIVisible}_togglePerfPanel(){this.setIsPerfPanelVisible(!this.isPerfPanelVisible)}_viewInPerformance(){this.performanceInsights.viewSelection(),this.activeBottomBar!==lo.PERFORMANCE&&(this.activeBottomBar=lo.PERFORMANCE),Ft("view-in-performance")}_handleDelete(){this._undeletableTools.includes(this.activeTool.id)||this.sceneController.remove(this.selectionController.selectedCollection.sceneEntities)}_handleUndo(){var t;switch(this.activeTool.id){case it.MESH_SELECT:this.meshController.undo();break;case it.COMMENTS:this.commentController.undo();break;case it.PEN:case it.LINE:case it.CURVE_EDIT:this.curveController.undo();break;default:this.stateController.undo();break}(t=this.viewportController.activeViewport)==null||t.pointerStateController.repeatLastPointerMoveEvent()}_handleRedo(){var t;switch(this.activeTool.id){case it.MESH_SELECT:this.meshController.redo();break;case it.COMMENTS:this.commentController.redo();break;case it.PEN:case it.LINE:case it.CURVE_EDIT:this.curveController.redo();break;default:this.stateController.redo();break}(t=this.viewportController.activeViewport)==null||t.pointerStateController.repeatLastPointerMoveEvent()}_handleFrame(){this.selectionController.selectedCollection.sceneEntityIds.size?this.sceneController.groupSelectedObjectsAsFrame():this._setActiveTool(it.FRAME)}_setActiveTool(t,e,i=!1){var n,o,a;!i&&this.activeTool.id===t||(v3((n=de[this.activeTool.id])==null?void 0:n.tourStep),this.activeTool.dispose(),this.activeTool=this._createToolById(t,e),this.activeTool.onActivated(),(o=this.viewportController.activeViewport)==null||o.pointerStateController.repeatLastPointerMoveEvent(),this.signals.command.started.dispatch(),this.signals.command.activeToolChanged.dispatch(t),aC((a=de[t])==null?void 0:a.tourStep),this._completeTourStepByToolId(t))}_completeTourStepByToolId(t){const{tool:e}=R;let i=null;switch(t){case e.HUMAN:i=li.TRY_COMMAND_CENTER}i&&y3(i)}_createToolById(t,e){const{tool:i}=R;switch(t){case i.SELECT:return new q6(this);case i.MESH_SELECT:return new NAt(this);case i.SELECT_TARGET:return new cAt(this);case i.TEXT_EDIT:return new kAt(this);case i.MEASURE:return new hAt(this);case i.MOVE:return new dAt(this);case i.PLANE:return new uAt(this);case i.BOX:return new fAt(this);case i.SPHERE:return new pAt(this);case i.CYLINDER:return new mAt(this);case i.CONE:return new gAt(this);case i.EMPTY:return new _At(this);case i.FRAME:return new vAt(this);case i.TEXT:return new yAt(this);case i.HUMAN:return new bAt(this);case i.XRRIG:return new CAt(this);case i.GAMEPAD:return new IAt(this);case i.SOUND:return new AAt(this);case i.SOUND_SPATIAL:return new TAt(this);case i.PEN:return new GAt(this);case i.LINE:return new VAt(this);case i.POINT_LIGHT:return new wAt(this);case i.AREA_LIGHT:return new xAt(this);case i.SPOT_LIGHT:return new EAt(this);case i.DIRECTIONAL_LIGHT:return new SAt(this);case i.EXTRUDE:return new MAt(this);case i.LOOP_CUT:return new RAt(this);case i.INSET:return new LAt(this);case i.CURVE_EDIT:return new HAt(this);case i.BOOKMARKS:return new OAt(this);case i.COMMENTS:return new BAt(this);case i.BOOLEAN_UNION:return new jAt(this);case i.BOOLEAN_SUBTRACT:return new DAt(this);case i.BOOLEAN_INTERSECT:return new FAt(this);case i.HISTORY:return new UAt(this);case i.ASSET_LIBRARY:return new iU(this);case i.TEMPLATE_LIBRARY:return new YAt(this);case i.PLACE:return new zAt(this,e);case i.XR_SET_ANCHOR:return new eU(this);default:return console.error("No assiciated tool for toolID",t),new q6(this)}}_onWindowUnload(){this.historyController.saveVersionOnExit()}_onMouseWheel(t){t.ctrlKey&&t.preventDefault()}set isShortcutsPanelVisible(t){this._showShortcuts=t}get isShortcutsPanelVisible(){return this._showShortcuts}getNeedsRenderSignals(){return[...Object.values(this.signals.gizmo),...Object.values(this.signals.object),...Object.values(this.signals.command),this.signals.selection.selectionChanged,this.signals.selection.hoverChanged,this.signals.selection.highlightChanged,...Object.values(this.stateController.signals)]}_setGenAIBottomBar(t){if(this.aiController.setDefaultSearchValue(t?`${t} `:null),this.activeBottomBar===lo.GEN_AI&&!t){this.activeBottomBar=null;return}this.activeBottomBar=lo.GEN_AI}_setActiveBottomBar(t){if(this.activeBottomBar===t){this.activeBottomBar=null;return}this.activeBottomBar=t}get activeSelectionController(){return this._activeSelectionController}setActiveSelectionController(t){this._activeSelectionController=t}};Gm([V],Xf.prototype,"_activeSelectionController",2);Gm([E],Xf.prototype,"_handleFrame",1);Gm([E],Xf.prototype,"_setActiveTool",1);Gm([V],Xf.prototype,"_showShortcuts",2);Gm([E],Xf.prototype,"_setGenAIBottomBar",1);Gm([E],Xf.prototype,"_setActiveBottomBar",1);Gm([M],Xf.prototype,"activeSelectionController",1);Gm([E],Xf.prototype,"setActiveSelectionController",1);const eM=[{amount:10,price:3,generations:10},{amount:20,price:6,generations:20},{amount:50,price:15,generations:50}];function lC(s){return r.jsx("h3",{children:s.children})}const STt=({creditsController:s})=>{const[t,e]=m.useState(1),[i,n]=m.useState(!1),{billingApi:o}=Pt(),a=m.useMemo(()=>eM[t],[t]),l=m.useCallback(()=>{Bt.close()},[]),c=m.useCallback(d=>{e(d)},[]),h=m.useCallback(async()=>{n(!0),await s.purchaseCredits(o,a),n(!1)},[o,s,a]);return r.jsxs("div",{className:W("relative flex h-full w-full flex-col gap-6 p-4","bg-gray-90"),children:[r.jsx("div",{className:"flex flex-row items-center justify-end gap-2",children:r.jsx(Jd,{weight:"strong",className:"w-full text-left",children:"Get AI credits"})}),r.jsxs(K,{className:"text-left text-gray-10",children:["Each generation operation requires 1 credit. AI credits are",r.jsx("br",{}),"added to your account upon purchase."]}),r.jsx("div",{className:"flex items-center justify-between gap-3",children:Object.values(eM).map((d,u)=>r.jsx(ITt,{option:d,onSelected:()=>c(u),isSelected:u===t},u))}),r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsx(Tt,{variant:"secondary",className:"grow rounded",onClick:l,children:"Cancel"}),r.jsx(Tt,{variant:"primary",className:"grow rounded",onClick:h,disabled:i,children:"Continue to checkout"})]})]})},Cm=A(STt),ITt=A(({option:s,onSelected:t,isSelected:e})=>r.jsxs("button",{className:W("flex h-40 w-40 flex-col items-center justify-center gap-4 p-6","rounded border border-solid",e&&"border-ai-bottom1 bg-gradient-to-br from-ai-top1-20 to-ai-bottom1-20",!e&&"border-gray-60"),onClick:t,children:[r.jsxs("div",{className:"flex flex-col items-center justify-between",children:[r.jsx(n_,{children:`${s.amount}`}),r.jsxs("div",{className:"flex items-center justify-center gap-1 text-gray-10",children:[RR,r.jsx(Ze,{className:"text-gray-10",children:"credits"})]}),r.jsx(K,{className:"text-gray-10",children:`${s.generations} generations`})]}),r.jsx(lC,{children:`$${s.price}`})]})),ATt=({editor:s,isSearchEnabled:t,...e},i)=>{const[n,o]=m.useState(""),a=m.useRef(null),l=ji(),c=m.useCallback(g=>{const{aiController:_,creditsController:v}=s;if(!v.canDecrementCredits){Sf||Bt.open({content:r.jsx(Cm,{creditsController:v}),option:{outClickHide:!0,size:"auto"}});return}const y={id:_t(),value:g,author:l==null?void 0:l.id,progress:0,createdAt:Date.now(),operation:ki.TEXT_TO_3D};_.generateTextTo3D(y)},[l==null?void 0:l.id,s]),[h]=Qx.useDebouncedCallback(g=>{s.aiController.search(g)},275),d=m.useCallback(()=>{s.aiController.resetPagination(),o(""),s.aiController.searchValue="",t&&h("")},[h,s.aiController,t]),u=m.useCallback(g=>{if(g.target.value.length<1){d();return}s.aiController.resetPagination(),o(g.target.value),s.aiController.clearHistorySelection(),s.aiController.searchValue=g.target.value,t&&h(g.target.value)},[s.aiController,d,o,h,t]);m.useEffect(()=>{s.aiController.defaultSearchValue&&(u({target:{value:s.aiController.defaultSearchValue}}),a.current&&a.current.focus())},[s.aiController.defaultSearchValue,u,a]);const f=m.useCallback(()=>`Enter your prompt (e.g. ${EP[Math.floor(Math.random()*EP.length)]})`,[]),p=m.useCallback(()=>{const g=n;g&&(d(),c(g))},[d,c,n]);return r.jsx(Mi,{ref:a,className:"h-full w-full rounded bg-gray-90 text-white",placeholder:f(),value:n||"",size:"sm",rightIcon:n?po:void 0,onChange:u,onSubmit:p,onRightIconClick:d,isClean:!0,...e})},TTt=xe.forwardRef(ATt),PTt=({isReadOnly:s=!1,size:t="sm",isShowLabel:e=!1,count:i,isHideBorder:n=!1,variant:o="primary"},a)=>r.jsxs("div",{ref:a,className:W("flex items-center justify-center gap-1 rounded-xl",!n&&"border border-white/20"),children:[r.jsx(De,{variant:s?"secondary":o,children:RR}),r.jsx(K,{className:W(o==="secondary"&&"text-gray10"),children:`${i}${e?" credits":""}`})]}),T8=xe.forwardRef(PTt),OTt="_aiGradient_820x1_1",MTt={aiGradient:OTt,"ai-gradient-slide":"_ai-gradient-slide_820x1_1"},LTt=({...s},t)=>r.jsxs(Na,{ref:t,className:({isHovered:e,isPressed:i,isFocusVisible:n,isDisabled:o})=>W("flex items-center justify-between gap-2 rounded px-4 py-3",MTt.aiGradient,"hover:brightness-150 active:brightness-125",e&&"hover:brightness-150",i&&"active:brightness-125",o&&"opacity-50",n&&"shadow-focus"),"data-testid":"gen-ai-button",...s,children:[r.jsx("span",{children:"Generate"}),r.jsx(T8,{count:1,isShowLabel:!1,isHideBorder:!0,variant:"secondary"})]}),RTt=xe.forwardRef(LTt),U0=A(({icon:s,value:t,onClick:e,isShowCost:i=!1,isReadOnly:n=!1})=>r.jsx(A5,{variant:"secondary",onPress:e,isDisabled:n,rounded:!0,size:"sm",children:r.jsxs("div",{className:"flex w-full items-center justify-start gap-1",children:[r.jsx("span",{className:"flex h-8 w-8 items-center justify-center",children:s}),r.jsx(K,{className:"grow text-left",children:t}),r.jsx("div",{className:"mr-1 flex h-8 w-8 items-center justify-center",children:i&&r.jsx(T8,{count:1,isShowLabel:!1,isHideBorder:!0,variant:"secondary"})})]})}));var NTt=Object.defineProperty,jTt=(s,t,e)=>t in s?NTt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,kS=(s,t,e)=>(jTt(s,typeof t!="symbol"?t+"":t,e),e);class sM{constructor(t,e,i,n,o){this._scene=t,this._camera=e,this._renderer=i,this._renderTarget=n,this._helpersScene=o,kS(this,"_clearColorSpace"),kS(this,"_backgroundScene"),kS(this,"_clearColor",new Ge);const a=new um;this._backgroundScene=a,this._clearColorSpace=GL,this._renderTarget.isXRRenderTarget&&(this._clearColorSpace=this._renderer.outputColorSpace)}render(t){this._renderer.autoClear=!0,this._renderer.render(this._backgroundScene,this._camera),this._renderer.autoClear=!1,this._renderer.clearStencil(),this._renderer.render(this._scene,this._camera)}set background(t){this._backgroundScene.background=t}renderHelpers(){this._helpersScene.children.length<1||(this._renderer.autoClear=!1,this._renderer.clearDepth(),this._renderer.clearStencil(),this._renderer.render(this._helpersScene,this._camera))}setSize(t,e,i){this._renderer.xr.isPresenting||(this._renderer.setSize(t,e),this._renderer.setPixelRatio(i))}setClearColor(t,e){this._clearColor.set(t),this._clearColorSpace==Oa&&this._clearColor.convertLinearToSRGB(),this._renderer.setClearColor(this._clearColor,e)}setOutlinedObjects(t){return!1}dispose(){}}class DTt{constructor(t){this._editor=t}get visibleObjects(){return this._editor.sceneController.visibleObjects}get directionalLightComponents(){return this._editor.sceneController.directionalLightComponents}setPreviewData(t){}shouldRender(t){return!0}dispose(){}}var FTt=Object.defineProperty,BTt=(s,t,e)=>t in s?FTt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Hg=(s,t,e)=>(BTt(s,typeof t!="symbol"?t+"":t,e),e);const iM=.25,Wc=class tI extends re{constructor(){const t={uSize1:{value:1},uSize2:{value:10},uColor:{value:new Ge("#a0a0a0")},uDistance:{value:512},uAlphaMultiplier:{value:iM}};super(new Jc(2,2,1,1),void 0),Hg(this,"_units",Dt.M),Hg(this,"_backgroundColor",new Ge),Hg(this,"_tempColor",new Ge),this.frustumCulled=!1,this.material=new c1({uniforms:t,side:In,transparent:!0,fragmentShader:tI.fragmentShader,vertexShader:tI.vertexShader,extensions:{derivatives:!0}}),this.material.polygonOffset=!0,this.material.polygonOffsetFactor=10,this.material.polygonOffsetUnits=1,this.material.toneMapped=!1,this.material.needsUpdate=!0,this._units=Dt.M}_unitsToSizes(t){switch(t){case Dt.M:return[1,10,512];case Dt.CM:return[Hj,1,64];case Dt.MM:return[Vj,1,64];case Dt.FT:return[Y4,aat,512];case Dt.IN:return[Uj,Y4,64];case Dt.PX:return[1,10]}}setUnits(t){if(t===this._units)return this;this._units=t;const e=this._unitsToSizes(t);return this.material.uniforms.uSize1.value=e[0],this.material.uniforms.uSize2.value=e[1],this.material.uniforms.uDistance.value=e[2],this.material.uniformsNeedUpdate=!0,this.material.needsUpdate=!0,this}setColor(t){this._backgroundColor.set(t);const e=this._backgroundColor,i=e.r*.2126+e.g*.7152+e.b*.0722,n=i<.5?i+.6:i-.6;return this._tempColor.setRGB(n,n,n),this.material.uniforms.uColor.value.setRGB(this._tempColor.r,this._tempColor.r,this._tempColor.r),this.material.uniforms.uAlphaMultiplier.value=iM,this.material.uniformsNeedUpdate=!0,this.material.needsUpdate=!0,this}};Hg(Wc,"axes","xzy");Hg(Wc,"planeAxes",Wc.axes.substring(0,2));Hg(Wc,"vertexShader",`
  varying vec3 worldPosition;
  uniform float uDistance;

  void main() {
      vec3 pos = position.${Wc.axes} * uDistance;
      pos.${Wc.planeAxes} += cameraPosition.${Wc.planeAxes};
      worldPosition = pos;
      gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
  }
`);Hg(Wc,"fragmentShader",`
  varying vec3 worldPosition;
  uniform float uSize1;
  uniform float uSize2;
  uniform vec3 uColor;
  uniform float uDistance;
  uniform float uAlphaMultiplier;

  float getGrid(float size) {
      vec2 r = worldPosition.${Wc.planeAxes} / size;
      vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);
      float line = min(grid.x, grid.y);
      return 1.0 - min(line, 1.0);
  }

  void main() {
        float d = 1.0 - min(distance(cameraPosition.${Wc.planeAxes}, worldPosition.${Wc.planeAxes}) / uDistance, 1.0);
        float g1 = getGrid(uSize1);
        float g2 = getGrid(uSize2);
        gl_FragColor = vec4(uColor.rgb, mix(g2, g1, g1) * pow(d, 3.0));
        gl_FragColor.a = mix(0.5 * gl_FragColor.a, gl_FragColor.a, g2) * uAlphaMultiplier;
        if ( gl_FragColor.a <= 0.0 ) discard;
        // Convert the color to the output color space
        ${mi.colorspace_fragment}
  }
`);let kTt=Wc;var GTt=Object.defineProperty,VTt=(s,t,e)=>t in s?GTt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,kd=(s,t,e)=>(VTt(s,typeof t!="symbol"?t+"":t,e),e);const P8=class eI extends WA{constructor(t,e=vi,i=new w,n){super(),this.name=t,kd(this,"collider",new re(eI._snapperGeometry,eI._snapperMaterial)),kd(this,"origin",new w),kd(this,"normal",new w(0,1,0)),kd(this,"xDirection",new w(1,0,0)),kd(this,"plane",new Be),kd(this,"orientation",new ke),kd(this,"_m4",new Lt),kd(this,"_projection",new w),this.origin.copy(i),this.setNormal(e,n),super.init()}setNormal(t,e){this.normal.copy(t),this.plane.setFromNormalAndCoplanarPoint(t,this.origin),this.collider.lookAt(t),this.collider.position.copy(this.origin),this.xDirection.copy(new w(1,0,0)).applyQuaternion(this.orientation).normalize(),e&&this.xDirection.copy(e);const i=UTt(t,e);this.orientation.copy(i),this.xDirection.copy(Mn).applyQuaternion(this.orientation).normalize()}createHelper(t){return null}project(t){return this.plane.projectPoint(t,this._projection),{position:this._projection,orientation:this.orientation}}dispose(){this.collider.geometry.dispose(),this.collider.material.dispose()}};kd(P8,"_snapperGeometry",new Jc(1e4,1e4,2,2));kd(P8,"_snapperMaterial",new kn({side:In}));let HTt=P8;function UTt(s,t=Mn){const e=new ke().setFromUnitVectors(vi,s),i=t.clone().applyQuaternion(e);return new ke().setFromUnitVectors(new w(1,0,0),i).multiply(e)}var zTt=Object.defineProperty,YTt=(s,t,e)=>t in s?zTt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,GS=(s,t,e)=>(YTt(s,typeof t!="symbol"?t+"":t,e),e);class WTt{constructor(t){this._editor=t,GS(this,"_disposable",new Zt),GS(this,"_directionalLightComponents",[]),GS(this,"_visibleObjects",[]);const e=this._editor.signals.file.allObjectsLoaded.add(()=>{this._updateCache()}),i=this._editor.signals.object.sceneGraphChanged.add(()=>{this._updateCache()});this._disposable.add(new tt(()=>e.detach())),this._disposable.add(new tt(()=>i.detach()))}get visibleObjects(){return this._visibleObjects}get directionalLightComponents(){return this._directionalLightComponents}_updateCache(){this._directionalLightComponents=this._editor.sceneController.directionalLightComponents,this._visibleObjects=this._editor.sceneController.visibleObjects}setPreviewData(t){}shouldRender(t){return!0}dispose(){this._disposable.dispose()}}const XTt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAANQTFRFzvI/rKcokgAAAAF0Uk5TgK1eW0YAAAAMSURBVHicY2AgDQAAADAAARaJmtEAAAAASUVORK5CYII=";class VS extends _K{constructor(t,e,i){super(t,e,i)}render(t,e,i,n,o){e.isXRRenderTarget=!0,super.render(t,e,i,n,o)}}var ZTt=Object.defineProperty,KTt=(s,t,e)=>t in s?ZTt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,jc=(s,t,e)=>(KTt(s,typeof t!="symbol"?t+"":t,e),e);const qTt=new xf,SU=class IU{constructor(t,e,i,n,o){this._scene=t,this._camera=e,this._renderer=i,this._renderTarget=n,this._helpersScene=o,jc(this,"_disposable",new Zt),jc(this,"_renderSize",new ee),jc(this,"_effectComposer",new vK(this._renderer,{frameBufferType:yK,stencilBuffer:!0})),jc(this,"_outlineEffect"),jc(this,"_backgroundPass"),jc(this,"_renderPass"),jc(this,"_helperPass"),jc(this,"_clearColorSpace"),jc(this,"_backgroundScene"),jc(this,"_clearColor",new Ge),jc(this,"_clearAlpha",1),this._disposable.add(new tt(()=>{this._effectComposer.dispose()})),this._clearColorSpace=GL,this._renderTarget.isXRRenderTarget&&(this._clearColorSpace=this._renderer.outputColorSpace),this._effectComposer.autoRenderToScreen=!0;const a=new um;this._backgroundScene=a;const l=new VS(a,this._camera.perspective);l.clear=!0,this._backgroundPass=l,this._renderer.getSize(this._renderSize);const c=new VS(this._scene,this._camera);c.clear=!0,c.clearPass.setClearFlags(!1,!0,!1),this._renderPass=c;const h=this._createOutlineEffect(this._scene);this._outlineEffect=h;const d=new bK({preset:CK.HIGH,edgeDetectionMode:wK.COLOR});d.edgeDetectionMaterial.edgeDetectionThreshold=.05;const u=new xK(this._camera,d,h);u.encodeOutput=!1;const f=new VS(this._helpersScene,this._camera);f.clear=!0,f.clearPass.setClearFlags(!1,!0,!1),this._helperPass=f,this._effectComposer.addPass(l),this._effectComposer.addPass(c),this._effectComposer.addPass(f),this._effectComposer.addPass(u)}_createOutlineEffect(t){const e=new Ge(Yt.lime).convertSRGBToLinear().getHex(),i=new EK(t,this._camera,{blendFunction:SK.SCREEN,multisampling:4,edgeStrength:10,pulseSpeed:0,visibleEdgeColor:e,hiddenEdgeColor:e,blur:!0,xRay:!1,patternScale:20});return i.selection.layer=ce.OUTLINED_SELECTION,IU._textureLoader.loadAsync(XTt).then(n=>{i.patternTexture=n}),i}render(t){this._renderer.setClearColor(this._clearColor,this._clearAlpha),this._backgroundPass.enabled=this._backgroundScene.background!=null,this._renderPass.clearPass.setClearFlags(!this._backgroundPass.enabled,!0,!0),this._helperPass.enabled=this._helpersScene.children.length>0,this._effectComposer.render(t)}set background(t){this._backgroundScene.background=t}renderHelpers(){}setOutlinedObjects(t){const e=[];for(const i of t)i.traverse(n=>{n instanceof re&&e.push(n)});return this._outlineEffect.selection.set(e),!0}setSize(t,e,i){this._renderSize.width=t,this._renderSize.height=e,this._effectComposer.setSize(t,e,!1),this._outlineEffect.forceUpdate=!0}setClearColor(t,e){this._clearColor.set(t),this._clearColorSpace==Oa&&this._clearColor.convertLinearToSRGB(),this._renderer.setClearColor(this._clearColor,e),e!=null&&(this._clearAlpha=e)}dispose(){this._disposable.dispose()}};jc(SU,"_textureLoader",new kh(qTt));let nM=SU;var QTt=Object.defineProperty,JTt=(s,t,e)=>t in s?QTt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Wu=(s,t,e)=>(JTt(s,typeof t!="symbol"?t+"":t,e),e);class $Tt{constructor(t,e){this.viewport=t,this.editor=e,Wu(this,"disposable",new Zt),Wu(this,"_isPinching",!1),Wu(this,"_deltaX",0),Wu(this,"_deltaY",0),Wu(this,"_deltaMode",0),Wu(this,"_isScrolling",!1),Wu(this,"_lastWheelEvent"),Wu(this,"_lastWheelEventType"),Wu(this,"_scrollTimeout",null),this.disposable.add(this.addEventListeners())}dispose(){this.disposable.dispose()}get isPinching(){return this._isPinching}get deltaX(){return this._deltaX}get deltaY(){return this._deltaY}get deltaMode(){return this._deltaMode}get isScrolling(){return this._isScrolling}addEventListeners(){const t=this.viewport.renderer.domElement,e=i=>this.onMouseWheel(i);return t.addEventListener("wheel",e,{passive:!1}),new tt(()=>{t.removeEventListener("wheel",e)})}onMouseWheel(t){t.preventDefault(),t.stopPropagation();const{viewport:e}=this;e.updateHelpers(),this.editor.keyStateController.updateModifierKeysDown(t),this._lastWheelEvent&&t.ctrlKey!==this._lastWheelEvent.ctrlKey&&this._onWheelEnd(t),this._isScrolling?this._onWheelContinue(t):this._onWheelBegin(t),this._scrollTimeout!=null&&clearTimeout(this._scrollTimeout),this._scrollTimeout=setTimeout(()=>{this._onWheelEnd(t)},t9t),this._lastWheelEvent=t}_onWheelBegin(t){this._isScrolling=!0,!this.editor.keyStateController.isKeyPressed(Vt.CONTROL)&&t.ctrlKey&&(this._isPinching=!0),this._updateLastWheelEvent(t),this._lastWheelEventType=Co.WHEEL_START;const{viewport:e}=this;this.editor.activeTool.onWheelEvent(e,this._lastWheelEventType)&&this.editor.signals.window.viewportActivated.dispatch(this.viewport)}_onWheelContinue(t){this._updateLastWheelEvent(t),this._lastWheelEventType=Co.WHEEL_CONTINUE;const{viewport:e}=this;this.editor.activeTool.onWheelEvent(e,this._lastWheelEventType)}_onWheelEnd(t){this._isScrolling=!1,this._isPinching=!1,this._scrollTimeout=null,this._updateLastWheelEvent(t),this._lastWheelEventType=Co.WHEEL_END;const{viewport:e}=this;this.editor.activeTool.onWheelEvent(e,this._lastWheelEventType)}_updateLastWheelEvent(t){this._lastWheelEvent=t,this._deltaX=t.deltaX,this._deltaY=t.deltaY,this._deltaMode=t.deltaMode}}const t9t=350;var e9t=Object.defineProperty,s9t=(s,t,e)=>t in s?e9t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Ne=(s,t,e)=>(s9t(s,typeof t!="symbol"?t+"":t,e),e);const oM=Object.freeze(new w(0,1,0)),HS=Object.freeze(new w(0,0,1)),qs=new w,Fi=new w,Q2=new w,Xu=new w,Zu=new w,r0=new w,i9t=new Us,n9t=new Us,o9t=new ke,r9t=new ke,rM=new Wx,ug=new Kg,J2=new Kg;class a9t extends VL{constructor(t,e){super(),this.camera=t,this.domElement=e,Ne(this,"minPolarAngle",0),Ne(this,"maxPolarAngle",Math.PI),Ne(this,"minAzimuthAngle",-1/0),Ne(this,"maxAzimuthAngle",1/0),Ne(this,"restThreshold",.01),Ne(this,"dampingFactor",.05),Ne(this,"draggingDampingFactor",.25),Ne(this,"minDistance",0),Ne(this,"maxDistance",1/0),Ne(this,"infinityDolly",!1),Ne(this,"dollySpeed",1),Ne(this,"minZoom",.01),Ne(this,"maxZoom",1/0),Ne(this,"_spherical"),Ne(this,"_sphericalEnd"),Ne(this,"_yAxisUpSpace"),Ne(this,"_yAxisUpSpaceInverse"),Ne(this,"_needsUpdate",!0),Ne(this,"_hasRested",!0),Ne(this,"_state"),Ne(this,"_dollyControlAmount",0),Ne(this,"_zoomControlAmount",0),Ne(this,"_dollyControlCoord",new ee),Ne(this,"_boundaryEnclosesCamera",!1),Ne(this,"_zoomEnd"),Ne(this,"_zoom"),Ne(this,"_updatedLastTime"),Ne(this,"_boundary"),Ne(this,"_target",new w),Ne(this,"_targetEnd"),Ne(this,"_focalOffset",new w),Ne(this,"_focalOffsetEnd"),Ne(this,"_defaultPosition",this.camera.position.clone()),Ne(this,"_defaultTarget",this._target.clone()),Ne(this,"_defaultFocalOffset",this._focalOffset.clone()),Ne(this,"_defaultSpherical"),Ne(this,"_defaultZoom",this.camera.zoom),Ne(this,"_defaultFov",this.camera.perspective.fov),Ne(this,"_enableRotate",!0),Ne(this,"_enablePan",!0),Ne(this,"_enableZoom",!0),Ne(this,"_canNotifyCameraRotated",!1),Ne(this,"_canNotifyCameraTrucked",!1),Ne(this,"_canNotifyCameraDollied",!1),Ne(this,"_canGoBackToPerspectiveMode",!1),Ne(this,"lastOrbitPivot",new w),Ne(this,"_dollyInternal",(i,n,o,a=!1)=>{if(!this.enableZoom)return;this._canNotifyCameraDollied&&(this.dispatchEvent({type:Jo.DOLLY}),this.canNotifyCameraDollied=!1),this._zoomInternal(i,n,o,a);const l=!1,c=Math.pow(.95,-i*this.dollySpeed),h=this._sphericalEnd.radius*c,d=this._sphericalEnd.radius,u=d*(i>=0?-1:1);this.dollyTo(h,l),this.infinityDolly&&(h<this.minDistance||this.maxDistance===this.minDistance)&&(this.camera.getWorldDirection(qs),this._targetEnd.add(qs.normalize().multiplyScalar(u)),this._target.add(qs.normalize().multiplyScalar(u))),a&&(this._dollyControlAmount+=this._sphericalEnd.radius-d,this.infinityDolly&&(h<this.minDistance||this.maxDistance===this.minDistance)&&(this._dollyControlAmount-=u),this._dollyControlCoord.set(n,o))}),Ne(this,"truckSpeed",2),Ne(this,"verticalDragToForward",!1),Ne(this,"boundaryFriction",0),this._yAxisUpSpace=new ke().setFromUnitVectors(this.camera.up,oM),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._spherical=new Kg().setFromVector3(qs.copy(this.camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._defaultSpherical=this._spherical.clone(),this._zoom=this.camera.zoom,this._zoomEnd=this._zoom,this._targetEnd=this._target.clone(),this._focalOffsetEnd=this._focalOffset.clone(),this._boundary=new Us(new w(-1/0,-1/0,-1/0),new w(1/0,1/0,1/0))}set canNotifyCameraRotated(t){this._canNotifyCameraRotated=t}set canNotifyCameraTrucked(t){this._canNotifyCameraTrucked=t}set canNotifyCameraDollied(t){this._canNotifyCameraDollied=t}set canGoBackToPerspectiveMode(t){this._canGoBackToPerspectiveMode=t}get enableRotate(){return this._enableRotate}set enableRotate(t){this._enableRotate=t}get enablePan(){return this._enablePan}set enablePan(t){this._enablePan=t}get enableZoom(){return this._enableZoom}set enableZoom(t){this._enableZoom=t}get zoom(){return this._zoom}saveAsDefaultView(){this._defaultPosition.copy(this.camera.position),this._defaultTarget.copy(this._target.clone()),this._defaultZoom=this.camera.zoom,this._defaultFov=this.camera.perspective.getFocalLength(),this._defaultFocalOffset.copy(this._focalOffset.clone()),this._defaultSpherical.copy(this._spherical)}reset(t=!0){const e=[];return e.push(this.setPosition(...this._defaultPosition.toArray(),t)),e.push(this.setTarget(...this._defaultTarget.toArray(),t),this.setOrbitPoint(...this._defaultTarget.toArray())),e.push(this.setFocalOffset(...this._defaultFocalOffset.toArray(),t)),e.push(this.setSpherical(this._defaultSpherical.radius,this._defaultSpherical.theta,this._defaultSpherical.phi,...this._defaultTarget.toArray(),t)),this.camera.setFocalLength(this._defaultFov),e.push(this.zoomTo(this._defaultZoom,t)),Promise.all(e)}rotate(t,e,i=!1){return this.enableRotate?this.rotateTo(this._sphericalEnd.theta+t,this._sphericalEnd.phi+e,i):Promise.resolve()}rotateTo(t,e,i=!1){const n=ms.clamp(t,this.minAzimuthAngle,this.maxAzimuthAngle),o=ms.clamp(e,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=n,this._sphericalEnd.phi=o,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,i||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi),this._canNotifyCameraRotated&&(this.dispatchEvent({type:Jo.ROTATE_START}),this.canNotifyCameraRotated=!1,this._canGoBackToPerspectiveMode&&this.camera.isOrthographicCamera&&(wt(Zi.TOGGLE_ORTHOGRAPHIC),this.canGoBackToPerspectiveMode=!1));const a=!i||ts(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&ts(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(a)}_createOnRestPromise(t){return t?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:Jo.TRANSITION_START}),new Promise(e=>{const i=()=>{this.removeEventListener(Jo.REST,i),e()};this.addEventListener(Jo.REST,i)}))}setSpherical(t,e,i,n,o,a,l=!1){const c=Fi.set(n,o,a);this._targetEnd.copy(c),this._sphericalEnd.radius=t,this._sphericalEnd.theta=e,this._sphericalEnd.phi=i,this.normalizeRotations(),this._needsUpdate=!0,l||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const h=!l||ts(this._target.x,this._targetEnd.x,this.restThreshold)&&ts(this._target.y,this._targetEnd.y,this.restThreshold)&&ts(this._target.z,this._targetEnd.z,this.restThreshold)&&ts(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&ts(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&ts(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(h)}setLookAt(t,e,i,n,o,a,l=!1){const c=Fi.set(n,o,a),h=qs.set(t,e,i);this._targetEnd.copy(c),this._sphericalEnd.setFromVector3(h.sub(c).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,l||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const d=!l||ts(this._target.x,this._targetEnd.x,this.restThreshold)&&ts(this._target.y,this._targetEnd.y,this.restThreshold)&&ts(this._target.z,this._targetEnd.z,this.restThreshold)&&ts(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&ts(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&ts(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(d)}lerpLookAt(t,e,i,n,o,a,l,c,h,d,u,f,p,g=!1){const _=qs.set(n,o,a),v=Fi.set(t,e,i);ug.setFromVector3(v.sub(_).applyQuaternion(this._yAxisUpSpace));const y=Q2.set(d,u,f),b=Fi.set(l,c,h);J2.setFromVector3(b.sub(y).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(_.lerp(y,p));const C=J2.theta-ug.theta,x=J2.phi-ug.phi,I=J2.radius-ug.radius;this._sphericalEnd.set(ug.radius+I*p,ug.phi+x*p,ug.theta+C*p),this.normalizeRotations(),this._needsUpdate=!0,g||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const O=!g||ts(this._target.x,this._targetEnd.x,this.restThreshold)&&ts(this._target.y,this._targetEnd.y,this.restThreshold)&&ts(this._target.z,this._targetEnd.z,this.restThreshold)&&ts(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&ts(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&ts(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(O)}setCameraForward(t,e=!1){const i=this.getTarget(),n=this.camera.position.distanceTo(i),o=t.multiplyScalar(-n).add(i);return this.setPosition(...o.toArray(),e)}setPosition(t,e,i,n=!1){return this.setLookAt(t,e,i,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,n)}setTarget(t,e,i,n=!1){const o=this.getPosition(qs);return this.setLookAt(o.x,o.y,o.z,t,e,i,n)}setOrbitPoint(t,e,i){this.lastOrbitPivot.set(t,e,i),Xu.setFromMatrixColumn(this.camera.matrixWorldInverse,0),Zu.setFromMatrixColumn(this.camera.matrixWorldInverse,1),r0.setFromMatrixColumn(this.camera.matrixWorldInverse,2);const n=qs.set(t,e,i),o=n.distanceTo(this.camera.position),a=n.sub(this.camera.position);Xu.multiplyScalar(a.x),Zu.multiplyScalar(a.y),r0.multiplyScalar(a.z),qs.copy(Xu).add(Zu).add(r0),qs.z=qs.z+o,this.dollyTo(o,!1),this.setFocalOffset(-qs.x,qs.y,-qs.z,!1),this.moveTo(t,e,i,!1)}_zoomInternal(t,e,i,n=!1){const o=Math.pow(.95,t*this.dollySpeed);this.zoomTo(this._zoom*o),n&&(this._zoomControlAmount=this._zoomEnd,this._dollyControlCoord.set(e,i))}getTarget(t){return(t&&t.isVector3?t:new w).copy(this._targetEnd)}getSpherical(t){return(t||new Kg).copy(this._sphericalEnd)}getPosition(t){return(t&&t.isVector3?t:new w).setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).add(this._targetEnd)}getFocalOffset(t){return(t&&t.isVector3?t:new w).copy(this._focalOffsetEnd)}normalizeRotations(){const t=Math.PI*2;this._sphericalEnd.theta=this._sphericalEnd.theta%t,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=t),this._spherical.theta+=t*Math.round((this._sphericalEnd.theta-this._spherical.theta)/t)}dollyTo(t,e=!1){this._sphericalEnd.radius;const i=ms.clamp(t,this.minDistance,this.maxDistance);this._sphericalEnd.radius=i,this._needsUpdate=!0,e||(this._spherical.radius=this._sphericalEnd.radius);const n=!e||ts(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(n)}_truckInternal(t,e,i){if(!this.enablePan)return;this._canNotifyCameraTrucked&&(this.dispatchEvent({type:Jo.TRUCK}),this.canNotifyCameraTrucked=!1);const n=!1;if(this.camera.isPerspectiveCamera){const o=this.camera,a=qs.copy(o.position).sub(this._target),l=this.domElement.clientWidth/this.domElement.clientHeight,c=o.getEffectiveFOV()*ms.DEG2RAD,h=r6(c,l),d=a.length()*Math.tan(c*.5),u=a.length()*Math.tan(h*.5),f=this.truckSpeed*t*u/this.domElement.clientWidth,p=this.truckSpeed*e*d/this.domElement.clientHeight;this.verticalDragToForward?(i?this.setFocalOffset(this._focalOffsetEnd.x+f,this._focalOffsetEnd.y,this._focalOffsetEnd.z,n):this.truck(f,0,n),this.forward(-p,n)):i?this.setFocalOffset(this._focalOffsetEnd.x+f,this._focalOffsetEnd.y+p,this._focalOffsetEnd.z,n):this.truck(f,p,n)}else if(this.camera.isOrthographicCamera){const o=this.camera,a=t*(o.right-o.left)/o.zoom/this.domElement.clientWidth,l=e*(o.top-o.bottom)/o.zoom/this.domElement.clientHeight;i?this.setFocalOffset(this._focalOffsetEnd.x+a,this._focalOffsetEnd.y+l,this._focalOffsetEnd.z,n):this.truck(a,l,n)}}forward(t,e=!1){qs.setFromMatrixColumn(this.camera.matrix,0),qs.crossVectors(this.camera.up,qs),qs.multiplyScalar(t);const i=Fi.copy(this._targetEnd).add(qs);return this.moveTo(i.x,i.y,i.z,e)}truck(t,e,i=!1){this.camera.updateMatrix(),Xu.setFromMatrixColumn(this.camera.matrix,0),Zu.setFromMatrixColumn(this.camera.matrix,1),Xu.multiplyScalar(t),Zu.multiplyScalar(-e);const n=qs.copy(Xu).add(Zu),o=Fi.copy(this._targetEnd).add(n);return this.moveTo(o.x,o.y,o.z,i)}setFocalOffset(t,e,i,n=!1){this._focalOffsetEnd.set(t,e,i),this._needsUpdate=!0,n||this._focalOffset.copy(this._focalOffsetEnd);const o=!n||ts(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&ts(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&ts(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(o)}moveTo(t,e,i,n=!1){const o=qs.set(t,e,i).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,o,this.boundaryFriction),this._needsUpdate=!0,n||this._target.copy(this._targetEnd);const a=!n||ts(this._target.x,this._targetEnd.x,this.restThreshold)&&ts(this._target.y,this._targetEnd.y,this.restThreshold)&&ts(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(a)}_encloseToBoundary(t,e,i){const n=e.lengthSq();if(n===0)return t;const o=Fi.copy(e).add(t),l=this._boundary.clampPoint(o,Q2).sub(o),c=l.lengthSq();if(c===0)return t.add(e);if(c===n)return t;if(i===0)return t.add(e).add(l);{const h=1+i*c/e.dot(l);return t.add(Fi.copy(e).multiplyScalar(h)).add(l.multiplyScalar(1-i))}}update(t){const e=this.draggingDampingFactor,i=Math.min(e*t*60,1),n=this._sphericalEnd.theta-this._spherical.theta,o=this._sphericalEnd.phi-this._spherical.phi,a=this._sphericalEnd.radius-this._spherical.radius,l=qs.subVectors(this._targetEnd,this._target),c=Fi.subVectors(this._focalOffsetEnd,this._focalOffset);if(!Qs(n)||!Qs(o)||!Qs(a)||!Qs(l.x)||!Qs(l.y)||!Qs(l.z)||!Qs(c.x)||!Qs(c.y)||!Qs(c.z)?(this._spherical.set(this._spherical.radius+a*i,this._spherical.phi+o*i,this._spherical.theta+n*i),this._target.add(l.multiplyScalar(i)),this._focalOffset.add(c.multiplyScalar(i)),this._needsUpdate=!0):(this._spherical.copy(this._sphericalEnd),this._target.copy(this._targetEnd),this._focalOffset.copy(this._focalOffsetEnd)),this._dollyControlAmount!==0||this._zoomControlAmount!==0){if(this.camera.isPerspectiveCamera){const p=this.camera,g=qs.setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).normalize().negate(),_=Fi.copy(g).cross(p.up).normalize();_.lengthSq()===0&&(_.x=1);const v=Q2.crossVectors(_,g),y=this._sphericalEnd.radius*Math.tan(p.getEffectiveFOV()*ms.DEG2RAD*.5),C=(this._sphericalEnd.radius-this._dollyControlAmount-this._sphericalEnd.radius)/this._sphericalEnd.radius,x=qs.copy(this._targetEnd).add(_.multiplyScalar(this._dollyControlCoord.x*y*p.aspect)).add(v.multiplyScalar(this._dollyControlCoord.y*y));this._targetEnd.lerp(x,C),this._target.copy(this._targetEnd)}else if(this.camera.isOrthographicCamera){const p=this.camera,g=qs.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(p.near+p.far)/(p.near-p.far)).unproject(p),_=Fi.set(0,0,-1).applyQuaternion(p.quaternion),v=_.dot(p.up),y=Qs(v)?-g.dot(p.up):-g.dot(p.up)/v,b=Q2.copy(g).add(_.multiplyScalar(y));this._targetEnd.lerp(b,1-p.zoom/this._zoomControlAmount),this._target.copy(this._targetEnd)}this._dollyControlAmount=0,this._zoomControlAmount=0}const h=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,h),this._spherical.makeSafe(),this.camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this.camera.lookAt(this._target),(!Qs(this._focalOffset.x)||!Qs(this._focalOffset.y)||!Qs(this._focalOffset.z))&&(this.camera.updateMatrix(),Xu.setFromMatrixColumn(this.camera.matrix,0),Zu.setFromMatrixColumn(this.camera.matrix,1),r0.setFromMatrixColumn(this.camera.matrix,2),Xu.multiplyScalar(this._focalOffset.x),Zu.multiplyScalar(-this._focalOffset.y),r0.multiplyScalar(this._focalOffset.z),qs.copy(Xu).add(Zu).add(r0),this.camera.position.add(qs)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this.camera.position.copy(this._target),qs.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const u=this._zoomEnd-this._zoom;this._zoom+=u*i,this.camera.zoom!==this._zoom&&(Qs(u)&&(this._zoom=this._zoomEnd),this.camera.zoom=this._zoom,this.camera.updateProjectionMatrix(),this._needsUpdate=!0),this.camera.target.copy(this._target);const f=this._needsUpdate;return f&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:Jo.WAKE}),this.dispatchEvent({type:Jo.UPDATE})):f?(this.dispatchEvent({type:Jo.UPDATE}),Qs(n,this.restThreshold)&&Qs(o,this.restThreshold)&&Qs(a,this.restThreshold)&&Qs(l.x,this.restThreshold)&&Qs(l.y,this.restThreshold)&&Qs(l.z,this.restThreshold)&&Qs(c.x,this.restThreshold)&&Qs(c.y,this.restThreshold)&&Qs(c.z,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:Jo.REST}))):!f&&this._updatedLastTime&&this.dispatchEvent({type:Jo.SLEEP}),this._updatedLastTime=f,this._needsUpdate=!1,f}fitToBox(t,e=!1,i=!0,{paddingLeft:n=0,paddingRight:o=0,paddingBottom:a=0,paddingTop:l=0}={}){const c=[],h=i9t.copy(t);h.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());let d=this._sphericalEnd.theta,u=this._sphericalEnd.phi;const f=o9t.identity(),p=qs.copy(HS);if(e){const b=Math.PI/2;d=T9(d,b),u=T9(u,b),c.push(this.rotateTo(d,u,i)),p.setFromSpherical(this._sphericalEnd).normalize(),f.setFromUnitVectors(p,HS),ts(Math.abs(p.y),1)&&f.multiply(r9t.setFromAxisAngle(oM,d))}const g=n9t.makeEmpty();Fi.copy(h.min).applyQuaternion(f),g.expandByPoint(Fi),Fi.copy(h.min).setX(h.max.x).applyQuaternion(f),g.expandByPoint(Fi),Fi.copy(h.min).setY(h.max.y).applyQuaternion(f),g.expandByPoint(Fi),Fi.copy(h.max).setZ(h.min.z).applyQuaternion(f),g.expandByPoint(Fi),Fi.copy(h.min).setZ(h.max.z).applyQuaternion(f),g.expandByPoint(Fi),Fi.copy(h.max).setY(h.min.y).applyQuaternion(f),g.expandByPoint(Fi),Fi.copy(h.max).setX(h.min.x).applyQuaternion(f),g.expandByPoint(Fi),Fi.copy(h.max).applyQuaternion(f),g.expandByPoint(Fi),f.setFromUnitVectors(HS,p),g.min.x-=n,g.min.y-=a,g.max.x+=o,g.max.y+=l;const _=g.getCenter(Fi).applyQuaternion(f);c.push(this.moveTo(_.x,_.y,_.z,i));const v=this.getFocusDistance(e,g);c.push(this.dollyTo(v,i));const y=this._getFocusZoom(e,g);return c.push(this.zoomTo(y,i)),c.push(this.setFocalOffset(0,0,0,i)),Promise.all(c)}getFocusDistance(t,e){const i=rM;if(t){const d=e.getSize(qs);return this.getDistanceToFitBox(d.x,d.y,d.z)}e.getBoundingSphere(i);const n=this.camera,o=n.getEffectiveFOV()*ms.DEG2RAD,a=r6(o,n.aspect),l=i.radius/Math.sin(o/2),c=i.radius/Math.sin(a/2);return Math.max(l,c)}_getFocusZoom(t,e){const i=this.camera,n=i.right-i.left,o=i.top-i.bottom;let a=1,l=1;if(t){const h=e.getSize(qs);a=o/h.y,l=n/h.x}else{const h=rM;e.getBoundingSphere(h),l=n/h.radius/2,a=o/h.radius/2}return Math.min(a,l)}getDistanceToFitBox(t,e,i){const n=t/e,o=this.camera.getEffectiveFOV()*ms.DEG2RAD,a=this.camera.aspect;return(n<a?e:t/a)*.5/Math.tan(o*.5)+i*.5}zoomTo(t,e=!1){this._zoomEnd=ms.clamp(t,this.minZoom,this.maxZoom),this._needsUpdate=!0,e||(this._zoom=this._zoomEnd);const i=!e||ts(this._zoom,this._zoomEnd,this.restThreshold);return this._createOnRestPromise(i)}_collisionTest(){return 1/0}}var l9t=Object.defineProperty,c9t=(s,t,e)=>t in s?l9t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,iy=(s,t,e)=>(c9t(s,typeof t!="symbol"?t+"":t,e),e);const Jp=6,h9t=Jg.fov,d9t=1,Xc={NEAR:{MIN:.01,MAX:4},FAR:{MIN:200,MAX:1e4}};class O8 extends IK{constructor(t=Xe.PERSPECTIVE){super(),this._mode=t,iy(this,"orthographic",u9t()),iy(this,"perspective",f9t()),iy(this,"_positionGlobal",new w),iy(this,"target",new w),iy(this,"_z",new w),this.updateProjectionMatrix()}static isPerspective(t){return t instanceof OI||t instanceof O8&&t._mode===Xe.PERSPECTIVE}static isOrthographic(t){return!this.isPerspective(t)}get isPerspectiveCamera(){return this._mode===Xe.PERSPECTIVE}get isOrthographicCamera(){return this._mode===Xe.ORTHOGRAPHIC}updateClippingPlanes(){const t=this.target.distanceTo(this.position),{near:e,far:i}=m9t(t);this.perspective.near=e,this.perspective.far=i,this.orthographic.near=e,this.orthographic.far=i,this.updateProjectionMatrix()}setSize(t,e){const{orthographic:i,perspective:n}=this,o=t/e;n.aspect=o,i.left=Jp*o/-2,i.right=Jp*o/2,i.top=Jp/2,i.bottom=-Jp/2,n.near=Xc.NEAR.MIN,n.far=Xc.FAR.MAX,i.near=Xc.NEAR.MIN,i.far=Xc.FAR.MAX;const a=(i.top-i.bottom)*Math.atan(Math.PI*n.getEffectiveFOV()/360)/Math.PI;i.zoom=a,this.updateProjectionMatrix()}setViewOffset(t,e,i,n,o,a){this.perspective.setViewOffset(t,e,i,n,o,a),this.orthographic.setViewOffset(t,e,i,n,o,a)}clearViewOffset(){this.perspective.clearViewOffset(),this.orthographic.clearViewOffset()}updateProjectionMatrix(){this.orthographic.updateProjectionMatrix(),this.perspective.updateProjectionMatrix(),this._mode===Xe.ORTHOGRAPHIC?(this.projectionMatrix=this.orthographic.projectionMatrix,this.projectionMatrixInverse=this.orthographic.projectionMatrixInverse):(this.projectionMatrix=this.perspective.projectionMatrix,this.projectionMatrixInverse=this.perspective.projectionMatrixInverse)}setMode(t){this._mode!==t&&(this._mode=t,this.updateProjectionMatrix())}setOrtho(){const t=this._mode;return this.setMode(Xe.ORTHOGRAPHIC),t}setPerspective(){const t=this._mode;return this.setMode(Xe.PERSPECTIVE),t}toggle(){const t=this._mode===Xe.PERSPECTIVE?Xe.ORTHOGRAPHIC:Xe.PERSPECTIVE;this.setMode(t)}eye(t,e=new w){return this.getWorldPosition(this._positionGlobal),e.copy(this._positionGlobal).sub(t).normalize(),e}get zoom(){return this.orthographic.zoom}set zoom(t){this.orthographic.zoom=t}get left(){return this.orthographic.left}get right(){return this.orthographic.right}get top(){return this.orthographic.top}get bottom(){return this.orthographic.bottom}get fov(){return this.perspective.fov}set fov(t){this.perspective.fov=t,this.updateProjectionMatrix()}setFov(t){this.perspective.fov=t,this.updateProjectionMatrix()}getFocalLength(){return this.perspective.getFocalLength()}setFocalLength(t){this.perspective.setFocalLength(t),this.updateProjectionMatrix()}get near(){return this.perspective.near}get far(){return this.perspective.far}get aspect(){return this.perspective.aspect}getEffectiveFOV(){return this.perspective.getEffectiveFOV()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.perspective.position.copy(this.position),this.perspective.quaternion.copy(this.quaternion),this.perspective.scale.copy(this.scale)}}function u9t(){return new HL(-Jp/2,Jp/2,Jp/2,-Jp/2,Xc.NEAR.MIN,Xc.FAR.MAX)}function f9t(){return new OI(h9t,d9t,Xc.NEAR.MIN,Xc.FAR.MAX)}const aM=.01,p9t=5e3;function m9t(s){const t=(s-aM)/(p9t-aM),i=P5(t,0,1),n=Xc.NEAR.MIN*(1-i)+Xc.NEAR.MAX*i,o=Xc.FAR.MIN*(1-i)+Xc.FAR.MAX*i;return{near:n,far:o}}var g9t=Object.defineProperty,_9t=(s,t,e)=>t in s?g9t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Pp=(s,t,e)=>(_9t(s,typeof t!="symbol"?t+"":t,e),e);class v9t{constructor(t,e){this.viewport=t,this.editor=e,Pp(this,"disposable",new Zt),Pp(this,"_lastGamepadEvent"),Pp(this,"_lastGamepadAxisEventType"),Pp(this,"_axisDownThreshold",.5),Pp(this,"_leftAxesDown",new Set),Pp(this,"_leftButtonsDown",new Set),Pp(this,"_rightAxesDown",new Set),Pp(this,"_rightButtonsDown",new Set),this.disposable.add(this.addEventListeners())}addEventListeners(){return new tt(()=>{})}get leftAxesDown(){return this._leftAxesDown}get leftButtonsDown(){return this._leftButtonsDown}get rightAxesDown(){return this._rightAxesDown}get rightButtonsDown(){return this._rightButtonsDown}update(t){const e=navigator.getGamepads();for(const i of e)i!=null&&(this.onGamepadButtonsEvent(i,"none"),this.onGamepadAxesEvent(i,"none"));if(t!=null){const i=t.session.inputSources;for(const n of i)n.gamepad!=null&&this._handleXRControllerGamepad(n.gamepad,n.handedness)}}_handleXRControllerGamepad(t,e){this.onGamepadButtonsEvent(t,e),this.onGamepadAxesEvent(t,e)}onGamepadButtonsEvent(t,e){const{viewport:i}=this;if(t.mapping.length===0)return!1;let n=null;const o=t.mapping;for(let a=0;a<t.buttons.length;a++){const l=t.buttons[a],c=fx.getButtonName(o,a);if(c!=null)if(l.pressed){let h=!1;e==="left"||e==="none"?this._leftButtonsDown.has(c)||(this._leftButtonsDown.add(c),h=!0):this._rightButtonsDown.has(c)||(this._rightButtonsDown.add(c),h=!0),h&&(n=mb.BUTTON_DOWN,this.editor.activeTool.onGamepadButtonsEvent(i,n,e))}else{let h=!1;e==="left"||e==="none"?this._leftButtonsDown.has(c)&&(this._leftButtonsDown.delete(c),h=!0):this._rightButtonsDown.has(c)&&(this._rightButtonsDown.delete(c),h=!0),h&&(n=mb.BUTTON_UP,this.editor.activeTool.onGamepadButtonsEvent(i,n,e))}}return this._leftButtonsDown.size!==0}onGamepadAxesEvent(t,e){const{viewport:i}=this;if(t.mapping.length===0)return!1;let n=null;const o=t.mapping;for(let a=0;a<t.axes.length;a++){const l=t.axes[a],c=fx.getAxisName(o,a);if(c!=null)if(l>this._axisDownThreshold){let h=!1;e==="left"||e==="none"?this._leftAxesDown.has(c)||(this._leftAxesDown.add(c),h=!0):this._rightAxesDown.has(c)||(this._rightAxesDown.add(c),h=!0),h&&(n=Pw.AXIS_POSITIVE_START,this.editor.activeTool.onGamepadAxesEvent(i,n,e))}else if(l<-this._axisDownThreshold){let h=!1;e==="left"||e==="none"?this._leftAxesDown.has(c)||(this._leftAxesDown.add(c),h=!0):this._rightAxesDown.has(c)||(this._rightAxesDown.add(c),h=!0),h&&(n=Pw.AXIS_NEGATIVE_START,this.editor.activeTool.onGamepadAxesEvent(i,n,e))}else{let h=!1;e==="left"||e==="none"?this._leftAxesDown.has(c)&&(this._leftAxesDown.delete(c),h=!0):this._rightAxesDown.has(c)&&this._rightAxesDown.delete(c),h&&(n=Pw.AXIS_END,this.editor.activeTool.onGamepadAxesEvent(i,n,e))}}return this._leftAxesDown.size===0,!1}}var y9t=Object.defineProperty,b9t=(s,t,e)=>t in s?y9t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Rr=(s,t,e)=>(b9t(s,typeof t!="symbol"?t+"":t,e),e);class C9t extends VL{constructor(t,e){super(),this.viewport=t,this.editor=e,Rr(this,"disposable",new Zt),Rr(this,"domElement"),Rr(this,"pointerVP",new ee),Rr(this,"pointerNDC",new ee),Rr(this,"_previousPointerVP",new ee),Rr(this,"_activePointers",new Map),Rr(this,"_lastPointerEvent"),Rr(this,"_isDragging",!1),Rr(this,"_clickNumber",0),Rr(this,"_averagePointerVP",new ee),Rr(this,"_lastClickPositionVP",new ee),Rr(this,"_lastClickedMs",0),Rr(this,"_lastEvent",new w9t(xt.HOVER)),Rr(this,"_isFirstDoubleClick",!0),Rr(this,"_delta",new ee),Rr(this,"_repeatClickTimeout"),this.domElement=t.renderer.domElement,this.onPointerDown=this.onPointerDown.bind(this),this.onPointerCancel=this.onPointerCancel.bind(this),this.onPointerOver=this.onPointerOver.bind(this),this.onPointerLeave=this.onPointerLeave.bind(this),this.onPointerHover=this.onPointerHover.bind(this),this.onPointerDrag=this.onPointerDrag.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.disposable.add(this.addPointerListeners())}dispose(){this.disposable.dispose()}get activePointers(){return this._activePointers}get lastPointerType(){return this._lastEvent.pointerType}get lastPointerEventType(){return this._lastEvent.type}get buttonsDown(){return this._lastEvent.buttons}get lastButton(){return this._lastEvent.button}get arePointersDown(){return this._activePointers.size>0}get lastEvent(){return this._lastEvent}addPointerListeners(){const t=this.viewport.renderer.domElement;return t.addEventListener("pointerdown",this.onPointerDown),t.addEventListener("pointercancel",this.onPointerUp),t.addEventListener("pointermove",this.onPointerHover),t.addEventListener("pointerover",this.onPointerOver),t.addEventListener("pointerleave",this.onPointerLeave),new tt(()=>{t.removeEventListener("pointerdown",this.onPointerDown),t.removeEventListener("pointercancel",this.onPointerUp),t.removeEventListener("pointermove",this.onPointerHover),t.removeEventListener("pointerover",this.onPointerOver),t.removeEventListener("pointerleave",this.onPointerLeave),t.removeEventListener("pointermove",this.onPointerDrag),t.removeEventListener("pointerup",this.onPointerUp)})}eventToPointerVP(t){const e=this.domElement.getBoundingClientRect(),i=t.clientX-e.left,n=t.clientY-e.top;return new ee(i,n)}eventToPointer(t){return{pointerId:t instanceof PointerEvent?t.pointerId:t.button,pointerVP:this.eventToPointerVP(t)}}get _doubleClickIntervalMs(){return this.editor.preferencesController.get("doubleClickIntervalMs")}isDoubleClick(t){const e=this.eventToPointerVP(t),{pointerType:i,button:n}=t,{_lastClickedMs:o,_lastClickPositionVP:a}=this,l=i==="touch"?x9t:E9t,c=t.timeStamp-o,h=this._doubleClickIntervalMs,d=this._isFirstDoubleClick?h*2:h,u=c<=d;Ky(e,a,this._delta);const f=this._delta.length(),p=Math.abs(f)<=l;return(i==="touch"?this._activePointers.size===1:n===Fn.LEFT)&&u&&p}_updateMouseButtonsDown(t){this._lastEvent.button=t.button,this._lastEvent.buttons=t.buttons}_updateModifierKeysDown(t){this.editor.keyStateController.updateModifierKeysDown(t)}onPointerDown(t){const{viewport:e}=this;e.updateHelpers(),this._updateMouseButtonsDown(t),this._updateModifierKeysDown(t);const i=this.eventToPointerVP(t);this._activePointers.set(t.pointerId,i);const n=this.isDoubleClick(t);clearTimeout(this._repeatClickTimeout),this._repeatClickTimeout=setTimeout(()=>{this._clickNumber=0},this._doubleClickIntervalMs),n?this._clickNumber++:this._clickNumber=1,this._updateLastPointerData(t),this._lastClickPositionVP.copy(this.pointerVP),this._lastClickedMs=t.timeStamp;let o=!1;n?(this._lastEvent.type=xt.DOUBLE_CLICK_START,this._lastEvent.clicks=this._clickNumber,this._isFirstDoubleClick=!1):this._lastEvent.type=xt.CLICK_START,o=this.editor.activeTool.onPointerEvent(e,this._lastEvent.type),this.dispatchEvent({type:this._lastEvent.type}),o&&this.editor.signals.window.viewportActivated.dispatch(this.viewport),this.domElement.setPointerCapture(t.pointerId),this.domElement.addEventListener("pointermove",this.onPointerDrag),this.domElement.addEventListener("pointerup",this.onPointerUp),this.domElement.removeEventListener("pointermove",this.onPointerHover),this.domElement.removeEventListener("pointerover",this.onPointerOver),this.domElement.removeEventListener("pointerleave",this.onPointerLeave),t.stopPropagation(),this._previousPointerVP.copy(this.pointerVP)}isMouseButtonPressed(t){switch(t){case"LMB":return!!(this._lastEvent.buttons&1);case"RMB":return!!(this._lastEvent.buttons&2);case"MMB":return!!(this._lastEvent.buttons&4);default:return!1}}onPointerUp(t){const{viewport:e}=this,{_activePointers:i}=this;e.updateHelpers(),this._updateMouseButtonsDown(t),this._updateModifierKeysDown(t),this._updateLastPointerData(t);const n=t.pointerId;this._activePointers.has(n)&&this._activePointers.delete(n),this._isDragging?this._lastEvent.type=xt.DRAG_END:this._clickNumber>=2?(this._lastEvent.type=xt.DOUBLE_CLICK_END,this._lastEvent.clicks=this._clickNumber):this._lastEvent.type=xt.CLICK_END,this.editor.activeTool.onPointerEvent(e,this._lastEvent.type),this.dispatchEvent({type:this._lastEvent.type}),this._isDragging=!1,this.onPointerHover(t),i.size===0&&(this.domElement.releasePointerCapture!=null&&this.domElement.releasePointerCapture(n),this.domElement.removeEventListener("pointermove",this.onPointerDrag),this.domElement.removeEventListener("pointerup",this.onPointerUp),this.domElement.addEventListener("pointermove",this.onPointerHover),this.domElement.addEventListener("pointerover",this.onPointerOver),this.domElement.addEventListener("pointerleave",this.onPointerLeave)),t.stopPropagation(),this._previousPointerVP.copy(this.pointerVP)}get hasMoved(){return!Ff(this.pointerVP,this._previousPointerVP)}onPointerCancel(t){this._updateModifierKeysDown(t);const e=t.pointerId;this._activePointers.has(e)&&this._activePointers.delete(e),this._clickNumber=0,this._lastPointerEvent=t,this.lastEvent.button=t.button,this._lastEvent.buttons=t.buttons,t.stopPropagation()}repeatLastPointerMoveEvent(){var i,n;const t=Array.from(this._activePointers.keys()).pop(),e=new PointerEvent("pointermove",{pointerId:t??0,button:0,clientX:((i=this._lastPointerEvent)==null?void 0:i.clientX)||0,clientY:((n=this._lastPointerEvent)==null?void 0:n.clientY)||0});if(t!=null)return this.onPointerDrag(e);this.onPointerHover(e)}onPointerOver(t){this.editor.signals.window.viewportActivated.dispatch(this.viewport);const{viewport:e}=this;this.viewport.updateHelpers(),this._updateModifierKeysDown(t),this._updateLastPointerData(t),this._lastEvent.type=xt.OVER_START,this.editor.activeTool.onPointerEvent(e,this._lastEvent.type),t.stopPropagation()}onPointerLeave(t){this._updateModifierKeysDown(t);const{viewport:e}=this;this._updateLastPointerData(t),this._lastEvent.type=xt.OVER_END,this.editor.activeTool.onPointerEvent(e,this._lastEvent.type),t.stopPropagation()}onPointerHover(t){const{viewport:e}=this;this.viewport.updateHelpers(),this._updateModifierKeysDown(t),this._updateLastPointerData(t),this._lastEvent.type=xt.HOVER,this.editor.activeTool.onPointerEvent(e,this._lastEvent.type),t.stopPropagation()}_updateActivePointers(t){const e=t.pointerId,i=this._activePointers.get(e);i&&i.copy(this.eventToPointerVP(t))}onPointerDrag(t){const{viewport:e}=this;if(this.viewport.updateHelpers(),!this._isDragging){Ky(this._lastClickPositionVP,this.eventToPointerVP(t),this._delta);const i=Math.max(Math.abs(this._delta.x),Math.abs(this._delta.y))>S9t;this._isDragging=i,this._isDragging&&(this._lastEvent.type=xt.DRAG_START,this.editor.activeTool.onPointerEvent(e,this._lastEvent.type),this.dispatchEvent({type:this._lastEvent.type}))}this._isDragging&&(this._updateLastPointerData(t),this._updateActivePointers(t),this._updateModifierKeysDown(t),this._lastEvent.type=xt.DRAG_CONTINUE,this.editor.activeTool.onPointerEvent(e,this._lastEvent.type),this.dispatchEvent({type:this._lastEvent.type})),t.stopPropagation()}_updateLastPointerData(t){this._lastPointerEvent=t,this._lastEvent.pointerType=t.pointerType,this.pointerVP.copy(this.eventToPointerVP(t)),this.viewport.screenToClipPosition(this.pointerVP,this.pointerNDC)}}class w9t{constructor(t,e=0,i=0,n="mouse",o=0){this._type=t,this._button=e,this._buttons=i,this._pointerType=n,this._clicks=o}set type(t){this._type=t}get type(){return this._type}set pointerType(t){this._pointerType=t}get pointerType(){return this._pointerType}set button(t){this._button=t}get button(){return this._button}set buttons(t){this._buttons=t}get buttons(){return this._buttons}get clicks(){return this._clicks}set clicks(t){this._clicks=t}get isHover(){return this._type===xt.HOVER&&this._buttons===Gd.NONE}get isLeftClickStart(){return this._type===xt.CLICK_START&&this._button===Fn.LEFT}get isLeftClickEnd(){return this._type===xt.CLICK_END&&this._button===Fn.LEFT&&this._buttons===Gd.NONE}get isDoubleLeftClickStart(){return this._type===xt.DOUBLE_CLICK_START&&this._button===Fn.LEFT&&this._buttons===Gd.LEFT}get isDoubleLeftClickEnd(){return this._type===xt.DOUBLE_CLICK_END&&this._button===Fn.LEFT&&this._buttons===Gd.NONE}get isLeftDragStart(){return this._type===xt.DRAG_START&&this._buttons===Gd.LEFT}get isLeftDragContinue(){return this._type===xt.DRAG_CONTINUE&&this._buttons===Gd.LEFT}get isLeftDragEnd(){return this._type===xt.DRAG_END&&this._button===Fn.LEFT&&this._buttons===Gd.NONE}}const x9t=20,E9t=2,S9t=4;var I9t=Object.defineProperty,A9t=(s,t,e)=>t in s?I9t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Ts=(s,t,e)=>(A9t(s,typeof t!="symbol"?t+"":t,e),e);class Ug{constructor(t,e,i,n,o,a=130,l=!1,c=null,h){this.editor=t,this.renderer=e,this.domElement=i,this.visibleLayers=n,this.cameraView=o,this.gizmoSizePx=a,this._isPostProcessingEnabled=l,Ts(this,"disposable",new Zt),Ts(this,"frustumCaster"),Ts(this,"camera"),Ts(this,"controls"),Ts(this,"scene",new um),Ts(this,"helpersScene",new um),Ts(this,"_focusScene",null),Ts(this,"planeSnapper",new HTt("Construction Plane",vi)),Ts(this,"axesHelper",new Y5(new Kc(Kc.generateCrossVertices({size:1e5}),Kc.generateCrossColors()))),Ts(this,"gridHelper"),Ts(this,"_clearColor",new Ge),Ts(this,"_fog",new AK(this._clearColor,0,10)),Ts(this,"_renderSize",new ee),Ts(this,"_renderStrategy"),Ts(this,"backgroundColor",new Ge(c7)),Ts(this,"pointerStateController",new C9t(this,this.editor)),Ts(this,"wheelStateController",new $Tt(this,this.editor)),Ts(this,"gamepadStateController",new v9t(this,this.editor)),Ts(this,"ambientLight"),Ts(this,"_shouldRenderSceneOnly",!1),Ts(this,"_areBindingsInitialized",!1),Ts(this,"sceneController"),Ts(this,"_renderPipeline"),Ts(this,"_renderTarget"),Ts(this,"started",!1),Ts(this,"clock",new RK),Ts(this,"needsRender",!0),Ts(this,"_lastFrameNumber",-1),Ts(this,"_clearAlpha",1),Ts(this,"_orbitPoint",new w),Ts(this,"_box3",new Us),Ts(this,"_helpersBoundingBox",new Us),Ts(this,"_size",new w),Ts(this,"_isPlayingAnimations",!1),Ts(this,"_reactionDisposers",[]),this.sceneController=c||this.editor.sceneController,this.camera=new O8,this.gridHelper=new kTt,this.camera.up.copy(vi),this.camera.position.copy(this.defaultPosition),this.camera.lookAt(new w),this.camera.updateMatrixWorld(),e.outputColorSpace=Oa,e.toneMapping=UL,e.shadowMap.enabled=!0,e.shadowMap.type=zL,e.info.autoReset=!1,e.localClippingEnabled=!0;const d=i.getAttribute("data-testid")??"viewport"+_t();e.domElement.setAttribute("data-testid",`${d}Canvas`),i.appendChild(e.domElement),e.domElement.classList.add("absolute"),this.controls=new a9t(this.camera,e.domElement);const u=e.getSize(new ee),f=e.getPixelRatio(),p=new TK(u.width,u.height,zT);p.format=PK;const g=lj()===e_.IOS;this._renderTarget=new OK(u.width*f,u.height*f,{type:g?MK:zT,minFilter:YT,magFilter:YT,colorSpace:Oa,format:LK,generateMipmaps:!1,depthTexture:p,stencilBuffer:!0});const _=i.clientWidth||1,v=i.clientHeight||1;this.setSize(_,v),this.frustumCaster=new e8(this.camera),this.scene.matrixWorldAutoUpdate=!0,this.ambientLight=new Ib(this.sceneController.scene.ambientLight.color,this.sceneController.scene.ambientLight.intensity),this.mainScene.add(this.ambientLight),this.ambientLight.visible=this.sceneController.scene.ambientLight.isEnabled,this._isPostProcessingEnabled?this._renderPipeline=new nM(this.scene,this.camera,this.renderer,this._renderTarget,this.helpersScene):this._renderPipeline=new sM(this.scene,this.camera,this.renderer,this._renderTarget,this.helpersScene),h!=null?this._renderStrategy=h:this._renderStrategy=t.isPlayMode||t.isPublishedMode?new WTt(t):new DTt(t);const{fileSettingsController:y}=t,b=y.camera.fov;this.camera.setFov(b),this.watch()}dispose(){this._renderStrategy.dispose(),this.disposable.dispose()}get defaultPosition(){return new w(12,12,12)}get shouldRenderSceneOnly(){return this._shouldRenderSceneOnly}set shouldRenderSceneOnly(t){this._shouldRenderSceneOnly=t}get mainScene(){return this.scene}get focusScene(){return this._focusScene}set focusScene(t){this._focusScene=t}start(t=!1){this.started||(this.started=!0,this.shouldRenderSceneOnly=t,this.renderer.setAnimationLoop((e,i)=>this.animate(e,i)),this.disposable.add(new tt(()=>this.stop())),this._areBindingsInitialized||this.initBindings(this.editor.accessController,this.editor.commandController))}stop(){this.renderer.setAnimationLoop(null),this.started=!1}initBindings(t,e){this._areBindingsInitialized||(this._areBindingsInitialized=!0,this.disposable.add(this.addSignalBindings()),this.disposable.add(this.addCommandBindings(t,e)),this.disposable.add(this.addKeyListeners(t,e)),this.disposable.add(new tt(()=>{this.pointerStateController.dispose()})))}addKeyListeners(t,e){return e.addKeyListeners(this.domElement,[...Object.values(Zi),...Object.values(ne),...Object.values(E_)],!0,t)}registerSignals(t,e,i){for(const n of e)t.push(n.add(i))}addXRSignalBindings(){const t=[],e=this.editor.signals;return t.push(e.window.vrSessionStarted.add(i=>{this._isPostProcessingEnabled&&(this._renderPipeline.dispose(),this._renderPipeline=new sM(this.scene,this.camera,this.renderer,this._renderTarget,this.helpersScene))})),t.push(e.window.vrSessionEnded.add(()=>{this._isPostProcessingEnabled&&(this._renderPipeline.dispose(),this._renderPipeline=new nM(this.scene,this.camera,this.renderer,this._renderTarget,this.helpersScene))})),new tt(()=>{for(const i of t)i.detach()})}addSignalBindings(){const t=this.editor.getNeedsRenderSignals(),e=[];this.registerSignals(e,t,()=>{this.setNeedsRender()});const i=this.editor.signals;return e.push(i.file.allObjectsLoaded.add(()=>{this.editor.fileController.type===fm.TUTORIAL?this.sceneController.cameraController.viewFirstBookmark(!0):this._initCameraSpawnPoint(),(this.editor.isPlayMode||this.editor.isPublishedMode)&&(this.togglePlayAllBehaviors(!0),this.editor.soundController.setMuteAll(!1))})),e.push(i.window.allLargeDataDownloaded.add(()=>{(this.editor.isPlayMode||this.editor.isPublishedMode)&&this.togglePlayAllAnimations(!0)})),e.push(i.command.cameraViewChanged.add(({cameraView:n})=>{this._updateGrid(n)})),new tt(()=>{for(const n of e)n.detach()})}_initCameraSpawnPoint(){const t=this.sceneController.scene.spawn;if(!t){this.focus({enableTransition:!1});return}if(this.editor.isPlayMode){this.sceneController.cameraController.viewCameraById(t,!1);return}if(this.editor.linkId==null){this.focus({enableTransition:!1});return}this.sceneController.cameraController.viewCameraById(t,!1)}getSpawnPointTransform(){const t=this.sceneController.scene.spawn;if(t==null)return null;const e=this.sceneController.cameraController.cameraComponentsById[t];if(e==null)return null;const i=e.parameters,n=new Lt;n.copy(e.entity.transform.matrixGlobal);const o=new w(i.target.x,i.target.y,i.target.z);return{spawnPoint:n,target:o}}addCommandBindings(t,e){return e.registerCommandBindings(this.domElement,{[R.viewport.RESET_CAMERA]:()=>this.resetCamera(),[R.viewport.FOCUS]:()=>this.focus(),[R.viewport.FOCUS_ALL]:()=>this.focus({shouldFocusAll:!0}),[R.viewport.PLAY_ALL]:()=>this.togglePlayAllAnimations(),[R.viewport.PREVIEW_ALL_BEHAVIORS]:()=>this.togglePlayAllBehaviors(),[R.viewport.TOGGLE_ORTHOGRAPHIC]:()=>this.toggleOrthoMode(),[R.viewDirection.TOP]:()=>this.setCameraView(zt.TOP),[R.viewDirection.FRONT]:()=>this.setCameraView(zt.FRONT),[R.viewDirection.RIGHT]:()=>this.setCameraView(zt.RIGHT),[R.viewDirection.LEFT]:()=>this.setCameraView(zt.LEFT),[R.viewDirection.BACK]:()=>this.setCameraView(zt.BACK),[R.viewDirection.BOTTOM]:()=>this.setCameraView(zt.BOTTOM),[R.viewAxes.XZ]:()=>{this._updateGridAndAxes(zt.TOP,rn.XZ)},[R.viewAxes.XY]:()=>{this._updateGridAndAxes(zt.FRONT,rn.XY)},[R.viewAxes.YZ]:()=>{this._updateGridAndAxes(zt.RIGHT,rn.YZ)},[R.viewport.GRID]:()=>this._toggleGrid(),[R.viewRender.FOG]:()=>this._toggleFog(),[R.snap.OFF]:()=>this._setSnapMode(co.OFF),[R.snap.GRID]:()=>this._setSnapMode(co.GRID),[R.snap.INCREMENT]:()=>this._setSnapMode(co.INCREMENT)},t)}updateXR(t,e){return!1}updateBehaviors(){return!1}updateAnimations(t){return!1}animate(t,e){var n,o;const i=this.clock.getDelta();(n=this.renderer.xr)!=null&&n.isPresenting||this.sceneController.cameraController.update(this.controls,i)&&(this.camera.updateClippingPlanes(),this.setNeedsRender()),this.editor.physicsController.update(),(o=this.editor.presenceHelpersController)!=null&&o.update(this)&&this.setNeedsRender(),e&&this.updateXR(t,e)&&this.setNeedsRender(),this.updateAnimations(i)&&this.setNeedsRender(),this.updateBehaviors()&&this.setNeedsRender(),this.gamepadStateController.update(e),this.render(t)}setNeedsRender(){this.needsRender=!0}frameCapture(){this.setNeedsRender(),this.render(this._lastFrameNumber+1)}updateHelpers(){this.editor.signals.window.renderPrepared.dispatch({width:this._renderSize.x,height:this._renderSize.y}),this.helpersScene.traverse(t=>{$ut(t)&&this.visibleLayers.test(t.layers)&&t.update(this)}),this.editor.sceneHelpers.helpers.forEach(t=>t.update(this))}prepareScene(){}postSceneRender(t){}setClearColor(t){this._clearColor.set(t),this.renderer.setClearAlpha(this._clearAlpha),this._renderPipeline.setClearColor(t,this._clearAlpha),this.setNeedsRender()}setClearAlpha(t){this.renderer.setClearAlpha(t),this._clearAlpha=t,this.setNeedsRender()}render(t,e=!1){if(!this.needsRender)return;this.needsRender=!1;const{editor:{presenceHelpersController:i,helpers:n,commentController:o},scene:a,_lastFrameNumber:l,helpersScene:c,camera:h}=this;try{const d=e||this.shouldRenderSceneOnly;if(t>l){this.renderer.info.reset();const u=this._renderStrategy.visibleObjects;u.length>0&&a.add(...u);const f=this._renderStrategy.directionalLightComponents;this.renderer.shadowMap.enabled=f.length>0,f.forEach(_=>{a.add(_.objectsToRender),_.update(this)}),h.layers=this.visibleLayers,this.prepareScene();const p=(i==null?void 0:i.presenceCameraHelpers)??[];p.length>0&&a.add(...p),p.forEach(_=>{_.update(this)});const g=(i==null?void 0:i.presenceCursorHelpers)??[];g.length>0&&c.add(...g),c.add(n.scene)}if(this.updateHelpers(),!d){const u=(o==null?void 0:o.pinnedCommentComponents)??[];for(const f of u)f.update(this)}this.ambientLight.visible&&a.add(this.ambientLight),this._renderPipeline.render(this.clock.getDelta()),this.postSceneRender(t),this._renderPipeline.renderHelpers(),a.clear(),c.clear()}finally{this._lastFrameNumber=t}}get visibleObjects(){return this._renderStrategy.visibleObjects}setSize(t,e){const i=window.devicePixelRatio;this.camera.setSize(t,e),this._renderSize.set(t,e),this.renderer.xr.isPresenting||(this.renderer.setSize(t,e),this.renderer.setPixelRatio(i)),this._renderTarget.setSize(t*i,e*i),this._renderPipeline!=null&&this._renderPipeline.setSize(t,e,i),this.setNeedsRender()}onWindowResize(){this.setSize(this.domElement.offsetWidth,this.domElement.offsetHeight)}get keyState(){return this.editor.keyStateController}get pointerState(){return this.pointerStateController}get wheelState(){return this.wheelStateController}get gamepadState(){return this.gamepadStateController}forwardPointerDownEvent(t){this.pointerStateController.onPointerDown(t)}forwardWheelEvent(t){this.wheelStateController.onMouseWheel(t)}isKeyOrMouseButtonPressed(t){switch(t){case"LMB":case"RMB":case"MMB":return this.pointerStateController.isMouseButtonPressed(t);case"MSW":return this.wheelStateController.isScrolling;default:return this.editor.keyStateController.isKeyPressed(t)}}get isCmdOrCtrlDown(){return this.editor.keyStateController.isCmdOrCtrlDown}areAllKeysPressed(t){return t.every(i=>this.isKeyOrMouseButtonPressed(i))}areAnyKeyCombosPressed(t){return t.some(i=>this.areAllKeysPressed(i))}toggleOrthoMode(t,e=!0){const{editor:i}=this,{fileSettingsController:n}=i,o=n.camera.projection,a=t||(o===Xe.ORTHOGRAPHIC?Xe.PERSPECTIVE:Xe.ORTHOGRAPHIC);this.camera.setMode(a),e&&n.setCameraProjection(a)}get size(){return this.renderer.domElement.getBoundingClientRect()}screenToClipPosition(t,e=new ee){return e.x=t.x/this.size.width*2-1,e.y=t.y/this.size.height*-2+1,e}async focus(t={enableTransition:!0,shouldOrientToClosestAxis:!1,shouldPad:!1,shouldFocusAll:!1,shouldFocusHelpers:!1,shouldUseViewDirection:!1,shouldFocusVisible:!1}){const{enableTransition:e,shouldOrientToClosestAxis:i,shouldPad:n,shouldFocusAll:o,shouldFocusHelpers:a,shouldUseViewDirection:l,shouldFocusVisible:c}=t,{_box3:h,_size:d}=this,u=h.makeEmpty(),f=this._getSelectedObjects(),p=this._getHoveredObjects();if(!o&&f.length>0)gf(this._getSelectedObjects(),u);else if(!o&&p.length>0)gf(this._getHoveredObjects(),u);else if(c)gf(this._renderStrategy.visibleObjects,u);else{const y=this.sceneController.objectsWithGeometry;gf(y,u)}if(a&&(this._helpersBoundingBox.setFromObject(this.editor.helpers.scene),this._helpersBoundingBox.isEmpty()||u.union(this._helpersBoundingBox)),u.isEmpty()||!Wut(u))if(l)u.set(new w(-1,-1,-1),new w(1,1,1)).expandByScalar(2);else{this.resetCamera(!1);return}const g=u.getSize(d);g.manhattanLength()<.5&&g.set(1,1,1);const _=n?Math.max(g.x,g.y)/4:0,v={paddingLeft:_,paddingRight:_,paddingBottom:_,paddingTop:_};await this.controls.fitToBox(u,i,e,v),u.getCenter(this._orbitPoint),this.controls.lastOrbitPivot.copy(this._orbitPoint)}saveAsDefaultView(){this.controls.saveAsDefaultView()}resetCamera(t=!0){this.controls.reset()}projectWorldToVP(t,e=new w){return o6(this.camera,t,e),IF(e,this.size)}isInView(t,e=1){return EF(this.camera,this.size,t,e)}getVisibleGeometryApproximateBbox(t,e){return xF(t,this.frustumCaster,e)}setCameraView(t,e={shouldPad:!0,shouldOrientToClosestAxis:!0,shouldFrame:!0,enableTransition:!0,shouldFocusHelpers:!1}){const i=new w;return t.isVector3?i.copy(t):(i.copy(O9t(t)),this._updateGrid(t)),e.shouldFrame?(this.controls.setCameraForward(i,e.enableTransition),this.focus({enableTransition:e.enableTransition,shouldOrientToClosestAxis:!0,shouldPad:!0,shouldFocusHelpers:e.shouldFocusHelpers,shouldUseViewDirection:!0})):this.controls.setCameraForward(i,e.enableTransition)}_updateGrid(t){let e=new w,i=Mn;const n=Yt.red,o=Yt.green,a=Yt.blue;let l=n,c=a;switch(t){case zt.FRONT:case zt.BACK:e=Gj,c=o;break;case zt.RIGHT:case zt.LEFT:e=Bj,i=kj,l=o;break;case zt.TOP:case zt.BOTTOM:default:e=to}this.planeSnapper.setNormal(e,i),this.gridHelper.quaternion.copy(this.planeSnapper.orientation),this.axesHelper.quaternion.copy(this.planeSnapper.orientation),this.axesHelper.setColors([...l.toArray(),...l.toArray(),...c.toArray(),...c.toArray()])}_updateGridAndAxes(t,e){this._updateGrid(t)}_toggleGrid(){this.editor.fileSettingsController.setGrid(!this.editor.fileSettingsController.grid)}_setSnapMode(t){t==co.OFF?this.editor.fileSettingsController.isGridSnapEnabled=!1:(this.editor.fileSettingsController.isGridSnapEnabled=!0,t==co.INCREMENT?this.editor.fileSettingsController.isGridSnapAbsolute=!1:t==co.GRID&&(this.editor.fileSettingsController.isGridSnapAbsolute=!0))}_toggleFog(){this.sceneController.setFog(!this.sceneController.scene.fog.isEnabled)}_getSelectedObjects(){return this.sceneController.selectedObjects}_getHoveredObjects(){return this.sceneController.hoveredVisibleObjects}static toggleWireframe(t,e,i){t.traverse(n=>{const o=n;if(!o.userData.isHelper&&o.isMesh&&o.geometry&&o.geometry.index&&o.geometry.attributes.position){const l=o.material;if(l.isMaterial){const c=l;"wireframe"in c&&(c.wireframe=e)}}})}togglePlayAllAnimations(t){this._isPlayingAnimations=!this._isPlayingAnimations,t&&(this._isPlayingAnimations=!0),this.editor.signals.command.togglePlayAllAnimations.dispatch({start:this._isPlayingAnimations})}togglePlayAllBehaviors(t=!1){let e=this.editor.sceneController.behaviorsToUpdate.size>0;e=!e,t&&(e=!0),this.editor.signals.command.togglePlayAllBehaviors.dispatch({start:e,isEditor:!t})}setOutlinedObjects(t){this._renderPipeline.setOutlinedObjects(t)&&this.setNeedsRender()}watch(){this.disposable.add(this.addXRSignalBindings()),this._reactionDisposers.push(rt(()=>{let t=this.editor.sceneController.statefulScene.finalOpacity;this.editor.xrSessionMode==="immersive-ar"&&!this.editor.sceneController.scene.background.shouldShowInAR&&(t=0),this.setClearAlpha(t)}),rt(()=>{let t=this.editor.sceneController.statefulScene.environment.finalTexture;this.editor.xrSessionMode==="immersive-ar"&&!this.editor.sceneController.scene.background.shouldShowInAR&&(t=null),this._renderPipeline.background=t}),rt(()=>{const{parameters:t}=this.editor.sceneController.scene.background;if(t.type===ln.ENVIRONMENT)return;const e=t.color;this.setClearColor(e)}),rt(()=>{const{ambientLight:t}=this.editor.sceneController.scene;this.ambientLight.intensity=t.intensity,this.ambientLight.visible=t.isEnabled,this.ambientLight.color.set(t.color),this.setNeedsRender()}))}}const T9t=new ke().setFromUnitVectors(vi,to),P9t=T9t.clone().invert(),Ei=new w;function O9t(s){const t=Math.sin(Math.PI/4),e=t*t;switch(s){case zt.TOP:Ei.set(0,-1,0);break;case zt.BOTTOM:Ei.set(0,1,0);break;case zt.LEFT:Ei.set(1,0,0);break;case zt.RIGHT:Ei.set(-1,0,0);break;case zt.FRONT:Ei.set(0,0,-1);break;case zt.BACK:Ei.set(0,0,1);break;case zt.FRONT_RIGHT_TOP:Ei.set(-e,-t,-e);break;case zt.FRONT_LEFT_TOP:Ei.set(e,-t,-e);break;case zt.BACK_LEFT_TOP:Ei.set(e,-t,e);break;case zt.FRONT_RIGHT_BOTTOM:Ei.set(-e,t,-e);break;case zt.FRONT_LEFT_BOTTOM:Ei.set(e,t,-e);break;case zt.BACK_LEFT_BOTTOM:Ei.set(e,t,e);break;case zt.BACK_RIGHT_BOTTOM:Ei.set(-e,t,e);break;case zt.BACK_RIGHT_TOP:Ei.set(-e,-t,e);break;case zt.FRONT_RIGHT:Ei.set(-t,0,-t);break;case zt.FRONT_LEFT:Ei.set(t,0,-t);break;case zt.BACK_LEFT:Ei.set(t,0,t);break;case zt.BACK_RIGHT:Ei.set(-t,0,t);break;case zt.TOP_RIGHT:Ei.set(-t,t,0);break;case zt.TOP_LEFT:Ei.set(t,t,0);break;case zt.TOP_FRONT:Ei.set(0,t,-t);break;case zt.TOP_BACK:Ei.set(0,t,t);break;case zt.BOTTOM_RIGHT:Ei.set(-t,-t,0);break;case zt.BOTTOM_LEFT:Ei.set(t,-t,0);break;case zt.BOTTOM_FRONT:Ei.set(0,-t,-t);break;case zt.BOTTOM_BACK:Ei.set(0,-t,t);break;default:console.error("No vector defined for view. Setting up top view.",s),Ei.set(0,-1,0);break}return Ei.applyQuaternion(P9t),Ei}var M9t=Object.defineProperty,L9t=(s,t,e)=>t in s?M9t(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,fg=(s,t,e)=>(L9t(s,typeof t!="symbol"?t+"":t,e),e);let AU=null;function R9t(s){AU=s}function TU(){return AU}class N9t extends Ug{constructor(t,e){super(t,new Sb({alpha:!0,antialias:window.devicePixelRatio<2,logarithmicDepthBuffer:!1}),e,t.layerController.publishVisible,void 0,130,!1),this.editor=t,this.domElement=e,fg(this,"_sceneObject",new zs),fg(this,"_sceneObjectsGroup",new bn),fg(this,"_ambientLight",new Ib),fg(this,"_directionalLight",new Eb),fg(this,"_cameraProps"),fg(this,"_canFocus",!0),fg(this,"_cameraDirection",new w),this._cameraProps=null,this.camera.setPerspective(),this.controls.enablePan=!1,this.initBindings(),this._setDefaultEnvMap(),this.disposable.add(new tt(()=>Pf(this._sceneObject)))}_setDefaultLights(){this._ambientLight.intensity=1,this._directionalLight.position.set(1,2,3),this.scene.add(this._ambientLight),this.scene.add(this._directionalLight)}get cameraProps(){return this._cameraProps}set cameraProps(t){this._cameraProps=t}get canFocus(){return this._canFocus}set canFocus(t){this._canFocus=t}initBindings(){this.disposable.add(new tt(()=>{this.pointerStateController.dispose()}))}async _setDefaultEnvMap(){const t=await xs(sx);if(!t)return;const e=new zx;let i;try{i=await e.loadAsync(t)}catch(n){console.error("Error loading HDR image",n);return}this._generateAndSetRendererEnvironment(i)}_generateAndSetRendererEnvironment(t){t.mapping=Uy,t.encoding=YL,t.rotation=1;const{renderer:e,scene:i}=this,n=new qx(e);n.compileEquirectangularShader();const a=n.fromEquirectangular(t).texture;n.dispose(),i.environment=a}render(t){if(!this.needsRender)return;this.needsRender=!1;const{scene:e,_sceneObject:i,_lastFrameNumber:n,camera:o,renderer:a}=this;try{t>n&&(a.setClearAlpha(0),a.clearColor(),this._setDefaultLights(),i.add(this._sceneObjectsGroup),e.add(i)),a.render(e,o),this._sceneObjectsGroup.removeFromParent(),e.clear()}finally{this._lastFrameNumber=t}}async focus(){if(!this.canFocus)return;const{_box3:t,_size:e}=this,i=t.makeEmpty();if(gf([this._sceneObjectsGroup],i),i.isEmpty()){this.resetCamera();return}const n=i.getSize(e);n.manhattanLength()<.5&&n.set(1,1,1);const o=0,a={paddingLeft:o,paddingRight:o,paddingBottom:o,paddingTop:o};await this.controls.fitToBox(i,!1,!1,a),i.getCenter(this._orbitPoint),this.controls.lastOrbitPivot.copy(this._orbitPoint)}clear(){this._addObjects([]),this._sceneObject.clear(),this.scene.clear()}async addObjectFromUrl(t){const e=await xs(t);if(!e||!await xs(t))return;new qb().loadFileFromUrl(e,"preview",os.glb,_t(),!1,o=>{const a=o.data;if(a==null)return;const l=[];for(const c of a)if(c.model!=null){const h=c.model;l.push(h)}this._addObjects(l)})}_addObjects(t){const e=this._sceneObjectsGroup;for(const i of e.children){const n=i.removeFromParent();Pf(n)}for(const i of t)e.add(i);this.focus()}getCameraZoom(t=!1){var e;return(e=this.cameraProps)!=null&&e.zoom&&!t?this.cameraProps.zoom:this.controls.zoom}getCameraDirection(t=!1){var e;return(e=this.cameraProps)!=null&&e.direction&&!t?new w().fromArray(this.cameraProps.direction):(this.camera.getWorldDirection(this._cameraDirection),this._cameraDirection)}appendToDOM(t){const e=t??this.domElement,{camera:{perspective:i,orthographic:n},renderer:o}=this,[a,l,c]=I5(e);i.aspect=c,n.left=a/-2,n.right=a/2,n.top=l/2,n.bottom=l/-2,i.updateProjectionMatrix(),n.updateProjectionMatrix(),o.setSize(a,l),e.appendChild(o.domElement)}}const j9t=({editor:s,item:t,onClose:e})=>{const[,{toggleOff:i}]=ss(!0),[,n]=m.useState(0),o=m.useRef(null),a=TU(),l=m.useCallback(()=>{Bt.close(),e()},[e]),c=m.useCallback(g=>{n(g)},[]),h=m.useCallback(()=>{i()},[i]);m.useEffect(()=>{if(!o.current||!a)return;a.cameraProps=null,a.controls.enablePan=!1,a.controls.enableZoom=!0,a.controls.enableRotate=!0,a.appendToDOM(o.current);let g=null;if(s.aiController.selectedHistoryItemId?g=s.aiController.selectedVariant:g=s.aiController.selectedAssetModel,!((g==null?void 0:g.modelUrl)==null||!Vl(g==null?void 0:g.modelUrl)||(g==null?void 0:g.modelUrl.length)===0))return a.addObjectFromUrl(g.modelUrl),a==null||a.start(!0),()=>{a.appendToDOM(),a.clear(),a.stop()}},[s.aiController.selectedVariant,s.aiController.selectedHistoryItemId,s.aiController.selectedAssetModel,a,h,c]);const d=m.useMemo(()=>{let g;if(s.aiController.selectedHistoryItemId){const _=s.aiController.selectedVariant;_!=null&&_.input&&(g=`"${_.input}"`)}else{const _=s.aiController.selectedAssetModel;_!=null&&_.input&&(g=`"${_.input}"`)}return g},[s.aiController.selectedVariant,s.aiController.selectedAssetModel,s.aiController.selectedHistoryItemId]),u=m.useCallback(g=>{s.aiController.selectVariantById(g)},[s.aiController]),f=m.useCallback(()=>{if(!t||!s.aiController.selectedVariant)return;if(!s.creditsController.canDecrementCredits){Sf||Bt.open({content:r.jsx(Cm,{creditsController:s.creditsController}),option:{outClickHide:!0,size:"auto"}});return}const g={...t,id:_t(),progress:0,models:void 0,createdAt:Date.now(),operation:ki.UPSCALE};s.aiController.addToHistory(g)&&s.aiController.generate3Dto3D(g,s.aiController.selectedVariant)},[t,s.aiController,s.creditsController]),p=m.useCallback(()=>{if(!t||!s.aiController.selectedVariant)return;if(!s.creditsController.canDecrementCredits){Sf||Bt.open({content:r.jsx(Cm,{creditsController:s.creditsController}),option:{outClickHide:!0,size:"auto"}});return}const g={...t,id:_t(),progress:0,models:void 0,createdAt:Date.now(),operation:ki.TEXT_TO_3D};s.aiController.addToHistory(g)&&s.aiController.generate3DtoVariants(g,s.aiController.selectedVariant.id)},[t,s.aiController,s.creditsController]);return r.jsxs("div",{className:W("relative flex h-full w-full flex-col gap-6 p-4","bg-gradient-to-b from-darkblue to-darkgray"),children:[r.jsxs("div",{className:"flex flex-row items-start justify-end gap-2",children:[r.jsx(Jd,{weight:"strong",className:"w-full max-w-130 text-center",children:d}),r.jsx(cs,{label:"Close",onPress:l,children:po})]}),r.jsx("div",{ref:o,className:"relative h-106 w-148",children:(t==null?void 0:t.operation)===ki.TEXT_TO_3D&&r.jsxs("div",{className:"absolute bottom-0 right-0 z-10 flex flex-col gap-2 rounded-lg bg-gray-80 p-3",children:[r.jsx(U0,{icon:ox,value:"Upscale model",isShowCost:!0,onClick:f}),r.jsx(U0,{icon:ox,value:"Create variations",isShowCost:!0,onClick:p})]})}),t&&t.models&&t.operation===ki.TEXT_TO_3D&&r.jsx("div",{className:"item-center flex h-35.5 w-full justify-center gap-2",children:Object.entries(t.models).map(([g,_])=>{var b;const v=((b=s.aiController.selectedVariant)==null?void 0:b.id)===g,y=_.previewImgUrl;return r.jsx("button",{className:W("h-35.5 w-35.5 rounded-lg bg-gray-80",v&&"border border-solid border-lime"),onPointerDown:()=>u(g),children:r.jsx("img",{src:y??"",className:"h-full w-full rounded-lg",alt:""})},g)})})]})},PU=A(j9t),D9t=A(({editor:s,item:t,selectedItem:e})=>{const i=m.useCallback(()=>{Jt(()=>{s.aiController.clearVariantSelection(),s.aiController.clearHistorySelection()})},[s.aiController]),n=m.useCallback(u=>{u&&s.aiController.selectVariantById(u)},[s.aiController]),o=m.useCallback(()=>{s.signals.window.viewportActivated.dispatch(s.viewportController.viewports[0])},[s]),a=m.useCallback(u=>{u&&t.models&&t.models[u]&&(s.aiController.selectVariantById(u),Bt.open({content:r.jsx(PU,{editor:s,item:t,onClose:o}),option:{onClose:o,outClickHide:!0,size:"auto"}}))},[s,t,o]),l=m.useCallback(()=>{s.aiController.clearVariantSelection()},[s.aiController]),c=m.useCallback(u=>{if(l(),s.activeTool.id!==it.PLACE){if(!t.models)return;const f=t.models[u];if(!f)return;wt(it.PLACE,f)}},[l,s.activeTool.id,t.models]),h=m.useMemo(()=>t.operation===ki.UPSCALE?`Upscaled "${e.value}"`:`Variations for "${e.value}"`,[t,e]),d=m.useMemo(()=>!(!t.progress||t.progress<1),[t.progress]);return r.jsxs("div",{className:"mx-2 flex w-auto flex-grow flex-col items-center justify-start rounded-lg bg-gray-100",children:[r.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[r.jsx(Ze,{weight:"strong",className:"px-2",children:h}),r.jsxs(Qi,{children:[r.jsx(As,{onPress:i,children:po}),r.jsx(Ji,{children:"Close"})]})]}),r.jsx("div",{className:"flex h-full w-full items-center justify-center px-2",children:r.jsxs("div",{className:"flex h-full w-auto items-center justify-start gap-2 overflow-x-scroll",children:[t.operation===ki.TEXT_TO_3D&&r.jsx(r.Fragment,{children:Object.values([0,1,2,3]).map(u=>{var g;const f=t.models&&Object.values(t.models),p=f&&f[u];return r.jsx(lM,{editor:s,model:p,prompt:t,isSelected:((g=s.aiController.selectedVariant)==null?void 0:g.id)===(p==null?void 0:p.id)&&(p==null?void 0:p.id)!=null,previewUrl:p?p.previewUrl:void 0,previewImageUrl:p?p.previewImgUrl:void 0,onSelect:n,onDrag:c,onPreview:a,isReadOnly:!d},u)})}),t.operation===ki.UPSCALE&&r.jsx(r.Fragment,{children:Object.values([0]).map(u=>{var g;const f=t.models&&Object.values(t.models),p=f&&f[u];return r.jsx(lM,{editor:s,model:p,prompt:t,isSelected:((g=s.aiController.selectedVariant)==null?void 0:g.id)===(p==null?void 0:p.id)&&(p==null?void 0:p.id)!=null,previewUrl:p?p.previewUrl:void 0,previewImageUrl:p?p.previewImgUrl:void 0,onSelect:()=>n(p==null?void 0:p.id),onDrag:c,onPreview:()=>a(p==null?void 0:p.id),isReadOnly:!d},u)})})]})})]})}),lM=A(({editor:s,model:t,prompt:e,model:i,previewUrl:n,previewImageUrl:o,isSelected:a,isReadOnly:l,onSelect:c,onDrag:h,onPreview:d})=>{const{setDndData:u}=Pt(),[f,p]=m.useState(!1),g=m.useRef(null),_=m.useRef(null),v=m.useCallback(()=>{i&&(u(ai.GEN_AI_3D),h(i.id))},[i,h,u]),y=m.useCallback(()=>{s.activeTool.id!==it.SELECT&&wt(it.SELECT)},[s]),{dragProps:b,isDragging:C}=Ab({preview:g,getItems:()=>[{data:JSON.stringify(i)}],onDragStart:v,onDragEnd:y}),x=m.useCallback(()=>{t&&c(t.id)},[c,t]),I=n==null?void 0:n.endsWith(".mp4");m.useEffect(()=>{var T;(T=_.current)==null||T.load()},[n]);const O=m.useCallback(()=>{t&&d(t.id)},[t,d]);return r.jsxs("button",{className:W("w-min-40 relative rounded-lg bg-white/5",!f&&!a&&"border border-solid border-transparent",a&&"border border-solid border-lime",f&&!a&&"border border-solid border-white/40",C&&"opacity-50",l&&"pointer-events-none opacity-50"),onPointerDown:x,onPointerEnter:()=>p(!0),onPointerLeave:()=>p(!1),children:[r.jsxs("div",{className:"h-48 w-48",children:[!n&&o&&r.jsx("img",{className:"h-full w-full !select-all rounded-lg object-contain blur",...b,src:o,alt:"preview"}),n&&I&&r.jsxs("video",{ref:_,...b,className:"h-full w-full rounded-lg object-contain",autoPlay:!0,loop:!0,width:"150px",children:[r.jsx("source",{src:n,type:"video/mp4"}),r.jsx("track",{kind:"captions"})]}),!n&&!o&&r.jsx("div",{className:"flex h-full w-full items-center justify-center rounded-lg opacity-60",children:r.jsx(ko,{size:16})})]}),(f||a)&&i&&r.jsx("div",{className:"absolute right-0 top-0 m-1 flex items-center justify-between gap-1",children:r.jsx(cs,{label:"Preview",onPress:O,children:PR})})]})});function F9t({children:s,lastRowHandler:t}){const[e,i]=WL(),n=s.length;m.useEffect(()=>{i&&t()},[i,t,n]);const o=s.map((a,l)=>{const c={ref:void 0};return l===s.length-1&&(c.ref=e),r.jsx("div",{...c,children:a},l)});return r.jsx(r.Fragment,{children:o})}const B9t=F9t;function C3({className:s,...t}){return r.jsx(K,{className:jf("text-panelHeader",s),...t})}function k9t({className:s,children:t}){const[e,i]=WL();return r.jsx("div",{className:s,ref:e,children:i?t:null})}const G9t=k9t,V9t=A(({editor:s,onTabChange:t})=>{const[e,i]=m.useState(Oy.COMMUNITY_ASSETS),{aiController:n}=s,o=ji();m.useEffect(()=>{n.resetPagination()},[n]);const a=m.useCallback((h=!1)=>{Jt(async()=>{if(e===Oy.COMMUNITY_ASSETS)await n.loadAssetsByType(ki.UPSCALE,!0,h),n.isEmptySearchValue||await n.search(n.searchValue);else{if(!o)return;await n.loadAssetsByProfileId(o==null?void 0:o.id)}})},[n,o,e]),l=m.useCallback(()=>{a(!0)},[a]);m.useEffect(()=>{a()},[e]);const c=m.useCallback(h=>{n.resetPagination(),i(h),t(h)},[n,t]);return r.jsxs("div",{className:"flex h-full w-auto flex-col items-center justify-between gap-2 px-2 pb-2",children:[r.jsx("div",{className:"flex w-full items-center justify-between gap-2",children:r.jsx("div",{className:"flex items-center justify-between",children:Object.values(Oy).map(h=>r.jsx(Tt,{variant:e===h?"tab-active":"tab",size:"sm",rounded:!0,onClick:()=>c(h),children:r.jsx("div",{className:"flex items-center justify-center gap-2",children:r.jsx(C3,{children:Mgt[h]})})},h))})}),r.jsx("div",{className:"grid h-0 w-full flex-grow grid-cols-genAiGrid place-content-start gap-2 overflow-y-auto",children:r.jsx(H9t,{editor:s,onLoadMore:l})})]})}),H9t=A(({editor:s,onLoadMore:t})=>{const{aiController:e}=s,i=e.selectedAssetId,n=e.upscaledAssets;return r.jsx(r.Fragment,{children:r.jsx(B9t,{lastRowHandler:t,children:n.map(o=>r.jsx(U9t,{editor:s,item:o,isSelected:i===o.id},o.id))})})}),U9t=A(({editor:s,item:t,isSelected:e})=>{const{setDndData:i}=Pt(),n=m.useRef(null),[o,a]=m.useState(!1),{aiController:l}=s,c=t.previewImgUrl,h=m.useCallback(C=>{Jt(()=>{l.clearHistorySelection(),l.clearVariantSelection(),s.activeTool.id!==it.PLACE&&wt(it.PLACE,C)})},[l,s.activeTool.id]),d=m.useCallback(()=>{s.signals.window.viewportActivated.dispatch(s.viewportController.viewports[0])},[s]),u=m.useCallback(C=>{l.selectAsset(C.id)},[l]),f=m.useCallback(C=>{C&&(l.selectAsset(C.id),Bt.open({content:r.jsx(PU,{editor:s,asset:l.selectedAssetModel,onClose:d}),option:{onClose:d,outClickHide:!0,size:"auto"}}))},[l,s,d]),p=m.useCallback(()=>{t&&(i(ai.GEN_AI_3D),h(t))},[t,h,i]),g=m.useCallback(()=>{s.activeTool.id!==it.SELECT&&wt(it.SELECT)},[s]),{dragProps:_,isDragging:v}=Ab({preview:n,getItems:()=>[{data:JSON.stringify(t)}],onDragStart:p,onDragEnd:g}),y=m.useCallback(C=>{C.button===2&&(C.preventDefault(),C.stopPropagation()),u(t)},[u,t]),b=m.useCallback(()=>{f(t)},[t,f]);return r.jsx(G9t,{className:"w-min-40 h-40",children:r.jsxs("div",{role:"button",className:W("relative h-full w-full rounded bg-white/5 p-2",!o&&!e&&"border border-solid border-transparent",e&&"border border-solid border-lime",o&&!e&&"border border-solid border-white/40",v&&"opacity-50"),onPointerDown:y,onPointerEnter:()=>a(!0),onPointerLeave:()=>a(!1),children:[r.jsx("div",{className:"flex h-32 w-full items-center justify-center",children:c&&r.jsx("img",{className:"h-32 w-32 !select-all object-contain drag-auto",..._,src:c,alt:"preview"})}),r.jsx("div",{className:"flex h-4 w-full items-center justify-center opacity-60",children:!e&&t.input&&r.jsx(K,{children:`"${t.input}"`})}),(o||e)&&t&&r.jsx("div",{className:"absolute right-0 top-0 m-1 flex items-center justify-between gap-1",children:r.jsx(cs,{label:"Preview",onPress:b,children:PR})}),e&&t&&r.jsx("div",{className:W("absolute bottom-0 left-0 flex h-1/2 w-full flex-col items-center justify-end gap-2 rounded p-2","bg-gradient-to-t from-gray-90 from-65% to-transparent"),children:r.jsx(G_,{value:`"${t.input??""}"`,readOnly:!0,className:"!h-auto !border-none !bg-transparent !p-0 !text-center"})})]})})}),z9t=({editor:s})=>{const[t,e]=m.useState(!0),i=m.useCallback(n=>{e(n===Oy.COMMUNITY_ASSETS)},[]);return r.jsxs("div",{className:"relative flex h-full w-0 flex-grow flex-col rounded-t bg-gray-90",children:[r.jsx(W9t,{editor:s,isSearchEnabled:t}),r.jsx(X9t,{editor:s,onTabChange:i})]})},Y9t=A(z9t),W9t=A(({editor:s,isSearchEnabled:t})=>{const{aiController:e,creditsController:i}=s,n=m.useCallback(()=>{if(!i.canDecrementCredits){Sf||Bt.open({content:r.jsx(Cm,{creditsController:i}),option:{outClickHide:!0,size:"auto"}});return}e.generateFromSearch()},[e,i]);return r.jsxs("div",{className:"flex h-16 w-full items-center justify-between gap-2 p-2",children:[r.jsx("div",{className:"h-10 w-full rounded bg-gradient-to-br from-ai-top2 to-ai-bottom2 p-0.25",children:r.jsx(TTt,{editor:s,isSearchEnabled:t})}),r.jsx(RTt,{onPress:n})]})}),X9t=A(({editor:s,onTabChange:t})=>{m.useEffect(()=>{s.aiController.selectedHistoryItemId&&s.aiController.selectHistoryItem(s.aiController.selectedHistoryItemId)},[s.aiController,s.aiController.selectedHistoryItemId]);const e=m.useMemo(()=>s.aiController.selectedHistoryItem,[s.aiController.selectedHistoryItem]);return r.jsx(r.Fragment,{children:e?r.jsx(D9t,{editor:s,item:e,selectedItem:e}):r.jsx(V9t,{editor:s,onTabChange:t})})}),O1=({children:s,className:t,direction:e,isScrollable:i,...n})=>r.jsx("div",{className:W("mt-2 flex h-full w-full gap-1",e==="horizontal"?"flex-row":"flex-col",i&&"overflow-y-auto",t),...n,children:s}),Z9t=({editor:s})=>r.jsxs(uc,{className:"shrink-0 grow-0 basis-r-panel overflow-hidden",children:[r.jsx(Io,{children:r.jsx(Q9t,{editor:s})}),r.jsx(wC,{}),r.jsx(Io,{className:"flex grow-0 basis-[3rem] items-center overflow-hidden",children:r.jsx(J9t,{editor:s})})]}),K9t=A(Z9t),q9t=A(({aiController:s,id:t,item:e,value:i,progress:n,isSelected:o=!1,onDeleteJob:a})=>{const[l,c]=m.useState(!1),h=m.useMemo(()=>Math.floor(n*100),[n]),d=m.useMemo(()=>n<0?"Failed":n===0?"Queued":n<1?`${h}%`:n===1?void 0:"Queued",[h,n]),u=m.useMemo(()=>e.operation,[e]),f=m.useMemo(()=>u===ki.UPSCALE?r.jsx("div",{className:"shrink-0 rounded-full bg-gray-60 px-1.5 py-0.5",children:"Hi-res"}):null,[u]),p=_=>{switch(_){case"delete":a();break}},g=m.useCallback(_=>{_.stopPropagation(),s.selectHistoryItem(t)},[t,s]);return r.jsxs("div",{role:"button",onPointerDown:g,className:W("grid h-8 w-full grid-cols-genAiPromptHistoryItem gap-1 rounded px-2",o?"bg-gray-80":"bg-transparent"),onPointerEnter:()=>c(!0),onPointerLeave:()=>c(!1),children:[r.jsxs("div",{className:"flex h-8 items-center justify-start gap-1",children:[f??void 0,r.jsx(K,{className:"shrink-1",children:`${i}`})]}),r.jsxs("div",{className:"flex items-center justify-end",children:[!l&&r.jsx("div",{className:"flex h-8 items-center justify-between gap-1 opacity-60",children:r.jsx(K,{className:W(d==="Failed"&&"text-tomato"),children:d})}),l&&r.jsx(ed,{label:"More",icon:$l,onAction:p,children:r.jsx(An,{id:"delete",textValue:"Delete history item",className:"text-tomato"})})]})]})}),Q9t=A(({editor:s})=>{const{aiController:t}=s,e=ji(),i=m.useCallback(async(a=!1)=>{e&&await t.loadHistory(e==null?void 0:e.id)},[t,e]);m.useEffect(()=>{i()},[]);const n=m.useCallback(a=>{t.removeFromHistory(a)},[t]),o=m.useCallback(()=>{t.clearHistorySelection(),t.clearVariantSelection()},[t]);return r.jsxs(ae,{isScrollable:!0,children:[r.jsx(pe,{label:"Prompt history"}),r.jsx(O1,{direction:"vertical",isScrollable:!0,role:"button",onPointerDown:o,children:t.sortedHistoryItems.map(a=>r.jsx(q9t,{aiController:t,id:a.id,item:a,value:a.value,progress:a.progress??1,isSelected:a.id===t.selectedHistoryItemId,onDeleteJob:()=>n(a)},a.id))})]})}),J9t=A(({editor:s})=>{const{creditsController:t}=Pt();m.useEffect(()=>{(async()=>{await t.fetchCredits(s.profile.id)})()},[t,s.profile.id]);const e=m.useCallback(()=>{Bt.open({content:r.jsx(Cm,{creditsController:t}),option:{outClickHide:!0,size:"auto"}})},[t]);return r.jsx(ae,{children:r.jsxs("div",{className:"flex flex-row items-center justify-between gap-2",children:[r.jsx("div",{className:"flex gap-2",children:r.jsx(T8,{count:t.credits,isShowLabel:!0,isHideBorder:!0})}),!Sf&&r.jsx(Tt,{variant:"secondary",size:"sm",rounded:!0,onClick:e,children:"Get credits"})]})})}),$9t=({editor:s,selectedItem:t})=>{const{aiController:e}=s,i=m.useMemo(()=>e.selectedVariant,[e.selectedVariant]),n=m.useMemo(()=>{const{selectionController:c}=s;if(c.selectedCollection.sceneEntities.size!==1)return!1;const d=c.firstSelectedSceneEntity;return!(!d||xA.has(d.type))},[s,s.selectionController.selectedCollection.sceneEntities]),o=m.useCallback(()=>{if(!t.models||!i)return;const c=t.models[i.id];c&&s.sceneController.replaceSelectedShapeWithAsset(c)},[s.sceneController,t.models,i]),a=m.useCallback(()=>{if(!t||!i)return;if(!s.creditsController.canDecrementCredits){Sf||Bt.open({content:r.jsx(Cm,{creditsController:s.creditsController}),option:{outClickHide:!0,size:"auto"}});return}const c={...t,id:_t(),progress:0,models:void 0,createdAt:Date.now(),operation:ki.UPSCALE};s.aiController.addToHistory(c)&&s.aiController.generate3Dto3D(c,i)},[t,i,s.aiController,s.creditsController]),l=m.useCallback(()=>{if(!prompt||!i)return;if(!s.creditsController.canDecrementCredits){Sf||Bt.open({content:r.jsx(Cm,{creditsController:s.creditsController}),option:{outClickHide:!0,size:"auto"}});return}const c={...t,id:_t(),progress:0,models:void 0,createdAt:Date.now(),operation:ki.TEXT_TO_3D};s.aiController.addToHistory(c)&&s.aiController.generate3DtoVariants(c,i.id)},[t,i,s.aiController,s.creditsController]);return r.jsxs(r.Fragment,{children:[r.jsx(pe,{label:"Model tools"}),i&&r.jsx(O1,{direction:"vertical",children:r.jsxs("div",{className:"flex flex-col overflow-y-auto",children:[t.operation===ki.TEXT_TO_3D&&r.jsxs(r.Fragment,{children:[r.jsx(ii,{size:"lg",children:r.jsx(U0,{icon:ox,value:"Upscale model",isShowCost:!0,onClick:a})}),r.jsx(ii,{size:"lg",children:r.jsx(U0,{icon:ox,value:"Create variations",isShowCost:!0,onClick:l})})]}),r.jsx(ii,{size:"lg",children:r.jsx(U0,{icon:kI,value:"Replace selection with model",isShowCost:!1,onClick:o,isReadOnly:!n})})]})})]})},tPt=A($9t),ePt=({editor:s})=>{const{aiController:t}=s,e=m.useRef(null),i=m.useMemo(()=>t.selectedAssetModel,[t.selectedAssetModel]),n=m.useMemo(()=>{const{selectionController:l}=s;if(l.selectedCollection.sceneEntities.size!==1)return!1;const h=l.firstSelectedSceneEntity;return!(!h||xA.has(h.type))},[s,s.selectionController.selectedCollection.sceneEntities]),o=m.useCallback(()=>{t.clearAssetSelection()},[t]),a=m.useCallback(()=>{i&&s.sceneController.replaceSelectedShapeWithAsset(i)},[s.sceneController,i]);return m.useEffect(()=>{var l;(l=e.current)==null||l.load()},[i==null?void 0:i.previewUrl]),r.jsxs(r.Fragment,{children:[r.jsx(pe,{label:"Model details",children:i&&r.jsx(cs,{label:"Close",onPress:o,tooltipPlacement:"top",children:po})}),i&&r.jsxs(O1,{direction:"vertical",isScrollable:!0,children:[r.jsx("div",{className:"h-40 w-full rounded bg-gray-85",children:i.previewUrl&&r.jsxs("video",{ref:e,className:"h-full w-full object-contain",autoPlay:!0,loop:!0,children:[r.jsx("source",{src:i.previewUrl,type:"video/mp4"}),r.jsx("track",{kind:"captions"})]})}),r.jsx(U0,{icon:kI,value:"Replace selection with model",isShowCost:!1,onClick:a,isReadOnly:!n})]})]})},sPt=A(ePt),iPt=({editor:s})=>{const t=m.useMemo(()=>s.aiController.selectedHistoryItemId,[s.aiController.selectedHistoryItemId]),e=m.useMemo(()=>{if(t)return s.aiController.history.get(t)},[s.aiController.history,t]);return r.jsx(uc,{className:"shrink-0 grow-0 basis-r-panel",children:r.jsx(Io,{children:r.jsx(ae,{isScrollable:!0,children:e?r.jsx(tPt,{editor:s,selectedItem:e}):r.jsx(sPt,{editor:s})})})})},nPt=A(iPt),oPt=({editor:s})=>r.jsxs(R1,{children:[r.jsx(K9t,{editor:s}),r.jsx(Lf,{}),r.jsx(Y9t,{editor:s}),r.jsx(Lf,{}),r.jsx(nPt,{editor:s})]}),rPt=({editor:s,selectedType:t,asset:e,preview:i,isSelected:n=!1,isRenaming:o=!1,onNameSubmit:a,onClick:l,onContextMenu:c})=>{const{setDndData:h}=Pt(),[d,u]=m.useState(e.name);m.useEffect(()=>{u(e.name)},[e.name]);const f=m.useRef(null),p=m.useCallback(O=>{t===Ae.MATERIAL?(h(ai.LIB_STYLE),s.activeTool.id!==it.SELECT&&wt(it.SELECT)):t===Ae.COMPONENT&&(h(ai.LIB_COMPONENT),s.activeTool.id!==it.PLACE&&wt(it.PLACE,e))},[s,t,h,e]),g=m.useCallback(()=>{s.activeTool.id!==it.SELECT&&wt(it.SELECT)},[s]),_=m.useCallback(O=>{l(O)},[l]),{dragProps:v,isDragging:y}=Ab({preview:f,getItems:()=>[{data:JSON.stringify(e)}],onDragStart:p,onDragEnd:g,isDisabled:o}),b=m.useCallback(O=>{O.stopPropagation(),O.preventDefault(),u(O.target.value)},[]),C=m.useCallback(()=>{a(d)},[d,a]),x="type"in e&&e.type===Ae.COMPONENT,I=W("h-full w-full",{"object-cover":x,"object-contain":!x});return r.jsxs(r.Fragment,{children:[r.jsxs("button",{...v,className:W("group relative flex h-24 flex-col items-end justify-center overflow-hidden rounded bg-gray-80 p-2","hover:bg-hovered",n&&"border border-solid border-primary",y&&"opacity-50"),onPointerDown:_,onContextMenu:c,children:[r.jsxs("div",{className:"h-0 w-full flex-grow",children:[i&&r.jsx("img",{className:I,src:i,alt:`preview ${e.name}`}),!i&&r.jsx("div",{className:"flex h-full w-full items-center justify-center text-body1 opacity-50",children:GI})]}),r.jsx("div",{className:"z-10 flex h-6 w-full items-end justify-center gap-2",children:r.jsx(la,{className:"pointer-events-none w-full text-body2",value:d,onChange:b,onSubmit:C,readOnly:!o,selected:o,sizePadding:0,align:"center",isReceiveHover:!1,isFixedSize:!0})})]}),r.jsx(XL,{ref:f,children:()=>r.jsx("div",{className:"absolute left-0 top-0 flex h-12 w-12 flex-col gap-1 bg-lime-alpha-50 p-2",children:r.jsx("img",{className:I,src:i,alt:""})})})]})},aPt=({editor:s,isLoading:t,assets:e,selectedType:i,searchValue:n,onSearchValueChange:o,listAssets:a,onSelectAsset:l,selectedAsset:c})=>{const{renameLibMaterial:h,handleLibMaterialRemove:d}=rT(s),[u,f]=m.useState(null),p=nWt(s.materialController,e),g=m.useCallback(T=>{o(T.target.value)},[o]),_=m.useCallback(()=>{o("")},[o]),v=m.useCallback(T=>{f(T)},[]),y=m.useCallback(async(T,D)=>{i===Ae.COMPONENT?await qc({id:T.id,name:D},s.assetController):i===Ae.MATERIAL&&h(T.id,D,T),s.libraryController.updateAsset({...T,name:D}),f(null)},[s.assetController,s.libraryController,h,i]),b=m.useCallback(async T=>{if(i===Ae.MATERIAL){const D=e.find(B=>B.id===T);D&&d(D),await new Promise(B=>setTimeout(B,1e3)),a()}},[e,d,a,i]),C=m.useCallback((T,D)=>{document.dispatchEvent(new PointerEvent("pointerup"));const B=[{id:_t(),text:"Rename",onClick:()=>v(D)}];i===Ae.MATERIAL&&B.push({id:_t(),text:"Remove",onClick:()=>b(D),divideBefore:!0,status:"error"}),wm.open({coord:{x:T.clientX,y:T.clientY},option:{width:208,hasIcons:!1,items:B}})},[b,v,i]),x=m.useCallback((T,D)=>{l(D)},[l]),I=m.useCallback(()=>{a(!0)},[a]),O=bC(I);return r.jsx(Io,{children:r.jsxs(ae,{isScrollable:!0,children:[r.jsx(Mi,{className:"block h-8 w-full [&>div>button]:!bg-transparent [&>div>input]:!p-0 [&>div]:!bg-transparent",placeholder:"Search",value:n||"",size:"sm",leftIcon:jR,rightIcon:n?po:void 0,onChange:g,onRightIconClick:_}),r.jsx(O1,{direction:"vertical",isScrollable:!0,children:r.jsx("div",{className:"grid w-full flex-grow grid-cols-libraryGrid place-content-start gap-2",onScroll:O,children:e.map(T=>{var Y;const D=c===T.id,B=u===T.id,k=!("type"in T)?((Y=p[T.id])==null?void 0:Y.data)??Jit:p[T.id];return r.jsx(rPt,{editor:s,selectedType:i,asset:T,preview:k,isSelected:D,isRenaming:B,onClick:G=>x(G,T.id),onContextMenu:G=>C(G,T.id),onNameSubmit:G=>y(T,G)},T.id)})})})]})})},lPt=A(aPt),cPt=({editor:s,selectedLibrary:t,selectedType:e,onLibraryChange:i,onTypeChange:n})=>r.jsx(uc,{className:"shrink-0 grow-0 basis-r-panel",children:r.jsx(Io,{children:r.jsxs(ae,{className:"h-full",children:[r.jsx(pe,{children:r.jsx(hPt,{selectedLibrary:t,onLibraryChange:i})}),r.jsx(O1,{direction:"vertical",children:r.jsx("div",{className:"overflow-y-auto",children:r.jsx(dPt,{selectedType:e,onTypeChange:n})})})]})})}),hPt=({selectedLibrary:s,onLibraryChange:t})=>{const e=m.useCallback(n=>{t(n)},[t]),i=m.useMemo(()=>Object.values(_i).filter(n=>n!==_i.BEZI),[]);return r.jsx(Ys,{label:"Team select",selectedKey:s,onSelectionChange:e,variant:"title",children:i.map(n=>r.jsx(se,{id:n,textValue:uPt[n]},n))})},dPt=({...s})=>r.jsxs(r.Fragment,{children:[r.jsx(cM,{type:Ae.MATERIAL,...s}),r.jsx(cM,{type:Ae.COMPONENT,...s})]}),cM=({type:s,selectedType:t,onTypeChange:e})=>r.jsx(Tt,{className:"!h-8 rounded p-2 font-bold",labelClassname:"text-left",leftIcon:pPt[s],rightIcon:d5,size:"sm",variant:s===t?"secondary":"normal",onClick:()=>e(s),children:fPt[s]},`library-folder-view-${s}`),uPt={[_i.BEZI]:"Bezi Library",[_i.TEAM]:"Team Library",[_i.FILE]:"File Library"},fPt={[Ae.MATERIAL]:"Styles",[Ae.COMPONENT]:"Components"},pPt={[Ae.MATERIAL]:_g,[Ae.COMPONENT]:BR,[Ae.HDRI]:VR,[Ae.TEMPLATE]:qI,[Ae.SOUND]:c5},g_=({title:s,children:t,isEditable:e=!1,onSubmit:i})=>{const[n,o]=m.useState(null);m.useEffect(()=>{o(null)},[s]);const a=c=>{c.stopPropagation(),c.preventDefault(),o(c.target.value)},l=()=>{n==null||i==null||i(n)};return r.jsxs(pe,{label:e?void 0:s,children:[e&&i!=null&&r.jsx(la,{className:"!h-6 w-full pl-2 !text-left text-panelHeader",value:n??s,onChange:a,onSubmit:l}),t]})},M8=(s,t={isRotateEnabled:!0},e)=>{const[i,n]=m.useState(null),o=m.useRef(null);return m.useEffect(()=>{if(!s||!o.current||i!=null)return;const a=e();a!=null&&n(a)},[s,i,o,e]),m.useEffect(()=>{if(i!=null)return i.appendToDOM(o.current),i.start(),()=>{i!=null&&i.stop()}},[i]),m.useEffect(()=>{i!=null&&(i.controls.enablePan=(t==null?void 0:t.isPanEnabled)??!1,i.controls.enableRotate=(t==null?void 0:t.isRotateEnabled)??!1,i.controls.enableZoom=(t==null?void 0:t.isZoomEnabled)??!1)},[i,t]),{previewer:i,previewerRef:o}},mPt=A(({editor:s,asset:t,className:e,previewControls:i})=>{const{previewer:n,previewerRef:o}=M8(s,i,CA);return m.useEffect(()=>{if(n==null)return;const a=(t==null?void 0:t.data)??[gCt];n.addObjects(a),n.controls.reset(!1),n.focus(),n.setSceneEnvMap()},[n,s,t]),r.jsx("div",{ref:o,className:W("relative my-2 h-detail-asset-preview w-full shrink-0 rounded-md bg-secondary",e)})}),L8=s=>{const{label:t,value:e,onClickValue:i,hasWarning:n,isDisabled:o,rightContent:a}=s;return r.jsxs("div",{className:"flex h-8 w-full flex-row items-center justify-between",children:[r.jsx(K,{className:"pl-2",color:"secondary",children:`${t}: ${e}`}),a!=null?r.jsxs("div",{children:[n&&Q0,a]}):n&&r.jsx("div",{className:"px-2",children:r.jsx(De,{variant:"warning",children:Q0})}),!o&&i!=null&&r.jsxs(Qi,{children:[r.jsx(As,{onPress:i,isDisabled:o,children:mtt}),r.jsx(Ji,{placement:"top",children:"View details"})]})]})},gPt=({editor:s,asset:t})=>{const e=m.useMemo(()=>t?s.componentsController.getAllInstancesWithAssetId(t.id):null,[t,s.componentsController]),i=m.useMemo(()=>{let d=0;return e&&(d=e.length),d},[e]);function n(){e&&s.selectionController.selectedCollection.set(e)}function o(){if(!t)return null;const d=s.componentsController.getComponentWithAssetId(t.id);if(!d)return null;s.selectionController.selectedCollection.set([d])}const a=m.useMemo(()=>t?s.componentsController.getComponentWithAssetId(t.id)!=null:!1,[t,s.componentsController]),l=m.useCallback(d=>{t&&(qc({id:t.id,name:d},s.assetController),s.libraryController.updateAsset({...t,name:d}))},[t,s.assetController,s.libraryController]),c=(t==null?void 0:t.name)??"No Component Selected",h={isRotateEnabled:t!=null};return r.jsxs(r.Fragment,{children:[r.jsx(g_,{title:c,onSubmit:l,isEditable:t!=null&&s.accessController.isEditor&&a,children:r.jsxs(Qi,{children:[r.jsx(As,{onPress:o,isDisabled:t==null,children:Tb}),r.jsx(Ji,{placement:"top",children:"Go to main component"})]})}),r.jsx(mPt,{editor:s,asset:t??void 0,previewControls:h}),r.jsx(L8,{label:"Instances in scene",value:i,rightContent:t==null?null:r.jsx(cs,{label:"Select all",onPress:n,isDisabled:i===0,children:p5})})]})};var OU=Object.defineProperty,_Pt=Object.getOwnPropertyDescriptor,vPt=(s,t,e)=>t in s?OU(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,yPt=(s,t,e,i)=>{for(var n=_Pt(t,e),o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&OU(t,e,n),n},US=(s,t,e)=>(vPt(s,typeof t!="symbol"?t+"":t,e),e);const bPt=new Set([L.SHAPE,L.BOX,L.PLANE,L.CONE,L.SPHERE,L.CYLINDER,L.MODEL,L.MODEL_ANIMATED,L.HUMAN]);class MU{constructor(t){this._editor=t,US(this,"_previewEntityIds",new Set),US(this,"_defaultPreviewEntity",null),US(this,"_previewEntities",[]),this._createDefaultEntity(),vt(this)}get visibleObjects(){return this._previewEntities.map(t=>{const e=t.getObject3D();return e==null?null:(e.parent==null&&e.position.set(0,0,0),e)}).filter(t=>t!=null)}get directionalLightComponents(){return[]}get sceneTexture(){return this._editor.sceneController.statefulScene.environment.finalTexture}setPreviewData(t){const{entityIds:e}=t;e!=null&&this._setPreviewEntityIds(e)}shouldRender(t){if(t==null||t.action==null||t.selection==null)return!1;let e=!1;for(const i of t.selection)if(this._previewEntityIds.has(i.entity.id)){e=!0;break}return e}get selectionIds(){return this._editor.selectionController.selectedCollection.sceneEntityIds}_setPreviewEntityIds(t){this._disposeEntities(),this._previewEntityIds=new Set(t),this._previewEntities=this._getPreviewEntities()}_getPreviewEntities(){const t=[];if(this._previewEntityIds.size<1)return this._defaultPreviewEntity==null?t:[this._defaultPreviewEntity];for(const e of this._previewEntityIds){const i=this._editor.sceneController.getSceneEntityById(e);if(i==null||!bPt.has(i.sceneObject.type))continue;const n=this._clonePreviewComponents(i);n!=null&&t.push(n)}return t}dispose(){var t;this._disposeEntities(),(t=this._defaultPreviewEntity)==null||t.dispose()}_clonePreviewComponents(t){const e=t.sceneObject.base();let i;return Jt(()=>{i=fn.build(this._editor,e,t.parent)}),i==null?null:(i.sceneObject.materialID=t.sceneObject.materialID,i)}_createDefaultEntity(){Jt(()=>{this._defaultPreviewEntity=i8.build(this._editor,{...Do,type:L.BOX,parameters:{...kr},position:{x:0,y:0,z:0},material:Jb,id:"previewCube"})})}_disposeEntities(){for(const t of this._previewEntities)t.dispose()}}yPt([M],MU.prototype,"selectionIds");var CPt=Object.defineProperty,wPt=(s,t,e)=>t in s?CPt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,xPt=(s,t,e)=>(wPt(s,t+"",e),e);const EPt="state.material.";class SPt{constructor(t){this._editor=t,xPt(this,"_previewEntity",null),Jt(()=>{this._previewEntity=u8.build(this._editor,{...Do,id:"previewSphere",type:L.SPHERE,parameters:{...L_},position:{x:0,y:0,z:0},material:Jb})})}async setPreviewData(t,e){const{materialId:i}=t;i!=null&&(await this._setPreviewMaterial(i),e==null||e())}async _setPreviewMaterial(t){this._previewEntity!=null&&(await this._editor.materialController.loadMaterialIfMissing(t),this._previewEntity.sceneObject.materialID=t)}get visibleObjects(){return this._previewEntity==null?[]:[this._previewEntity.getObject3D()]}get directionalLightComponents(){return[]}shouldRender(t){var i;if(t==null||t.action==null||t.selection==null||!t.action.startsWith(EPt))return!1;let e=!1;for(const n of t.selection)if(n instanceof _e&&n.entity.sceneObject.materialID===((i=this._previewEntity)==null?void 0:i.sceneObject.materialID)){e=!0;break}return e}dispose(){var t;(t=this._previewEntity)==null||t.dispose()}}var IPt=Object.defineProperty,APt=(s,t,e)=>t in s?IPt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,$2=(s,t,e)=>(APt(s,typeof t!="symbol"?t+"":t,e),e);let LU=null;var R8=(s=>(s.MATERIAL="material",s.GEOMETRY="geometry",s))(R8||{});function TPt(s){LU=s}function N8(){return LU}class PPt extends Ug{constructor(t,e,i){super(t,new Sb({alpha:!0,antialias:window.devicePixelRatio<2,logarithmicDepthBuffer:!1}),e,t.layerController.publishVisible,void 0,130,!1,t.sceneController),this.editor=t,this.domElement=e,this.sceneEditor=i,$2(this,"_ambientLight",new Ib),$2(this,"_directionalLight",new Eb),$2(this,"_materialRenderStrategy"),$2(this,"_geometryRenderStrategy"),this.controls.enableRotate=!0,this.controls.enableZoom=!0,this.controls.enablePan=!1,this._materialRenderStrategy=new SPt(i),this._geometryRenderStrategy=new MU(i),this._renderStrategy=this._materialRenderStrategy,this._addRenderSignalBindings()}refresh(){this.setNeedsRender()}render(t,e){this.needsRender&&(this._setDefaultLights(),super.render(t,e))}async focus(){await super.focus({shouldFocusVisible:!0,enableTransition:!1})}appendToDOM(t){const e=t??this.domElement,{camera:{perspective:i,orthographic:n},renderer:o}=this,[a,l,c]=I5(e);i.aspect=c,n.left=a/-2,n.right=a/2,n.top=l/2,n.bottom=l/-2,i.updateProjectionMatrix(),n.updateProjectionMatrix(),o.setSize(a,l),e.appendChild(o.domElement)}_setDefaultLights(){this._ambientLight.intensity=1,this._directionalLight.position.set(1,2,3),this.scene.add(this._ambientLight),this.scene.add(this._directionalLight)}_addRenderSignalBindings(){const t=[];this.registerSignals(t,this.editor.getNeedsRenderSignals(),e=>{this._renderStrategy.shouldRender(e)&&this.setNeedsRender()}),this.registerSignals(t,this.editor.getNeedsFocusSignals(),()=>{this.focus(),setTimeout(()=>this.setNeedsRender(),1)}),this.disposable.add(new tt(()=>{for(const e of t)e.detach()}))}watch(){super.watch(),this._reactionDisposers.push(Gn(()=>{var t;return(t=this.editor.editorScene)==null?void 0:t.hdrLighting.activeValues()},async()=>{var t,e;((t=this.editor.editorScene)==null?void 0:t.hdrLighting)!=null&&(await this.editor.sceneController.statefulScene.environment.applyNewHDRLightingSettings((e=this.editor.editorScene)==null?void 0:e.hdrLighting,this),this.setNeedsRender())}))}setPreviewData(t,e){this._renderStrategy.setPreviewData(t,e),this.controls.reset(!1),this.focus()}setPreviewMode(t){t==="geometry"?this._renderStrategy=this._geometryRenderStrategy:this._renderStrategy=this._materialRenderStrategy,this.controls.reset(!1),this.focus()}dispose(){super.dispose(),this._geometryRenderStrategy.dispose(),this._materialRenderStrategy.dispose()}}const RU=A(({editor:s,asset:t,className:e,previewControls:i})=>{const{previewerRef:n,previewer:o}=M8(s,i,N8);return m.useEffect(()=>{o!=null&&(o.setPreviewMode(R8.MATERIAL),o.setPreviewData({materialId:(t==null?void 0:t.id)??Jb},()=>o.refresh()))},[o,t]),r.jsx("div",{ref:n,className:W("relative my-2 h-detail-asset-preview w-full shrink-0 rounded-md bg-secondary [&>*]:rounded-md",e)})}),OPt=({editor:s,asset:t})=>{const e=m.useMemo(()=>t||null,[t]),i=m.useMemo(()=>t?s.materialController.getAllEntitiesWithMaterial(t.id):null,[t,s.materialController]),n=m.useMemo(()=>{let h=0;return i&&(h=i.length),h},[i]);function o(){i&&s.selectionController.selectedCollection.set(i)}const a=m.useCallback(h=>{t&&($y({id:t.id,name:h}),s.libraryController.updateAsset({...t,name:h}))},[t,s.libraryController]),l=(e==null?void 0:e.name)??"No Style Selected",c={isRotateEnabled:t!=null};return r.jsxs(r.Fragment,{children:[r.jsx(g_,{title:l,onSubmit:a,isEditable:e!=null&&s.accessController.isEditor}),r.jsx(RU,{editor:s,asset:e,previewControls:c}),r.jsx(L8,{label:"Used in scene",value:n,rightContent:r.jsxs(Qi,{children:[r.jsx(As,{onPress:o,isDisabled:e==null||n===0,children:p5}),r.jsx(Ji,{placement:"top",children:"Select all"})]})})]})},MPt=({editor:s,selectedType:t,asset:e})=>r.jsx(uc,{className:"shrink-0 grow-0 basis-r-panel",children:r.jsx(Io,{children:r.jsxs(ae,{className:"h-full",children:[t===Ae.MATERIAL&&r.jsx(OPt,{editor:s,asset:e}),t===Ae.COMPONENT&&r.jsx(gPt,{editor:s,asset:e})]})})}),LPt=A(({editor:s})=>{const{selectedLibrary:t,selectedType:e,searchValue:i,isLoading:n,onLibraryChange:o,onTypeChange:a,onSearchValueChange:l,listAssets:c}=iWt(s),[h,d]=m.useState(null),u=s.libraryController.assets[h??""]??null;return r.jsxs(R1,{children:[r.jsx(cPt,{editor:s,selectedLibrary:t,selectedType:e,onLibraryChange:o,onTypeChange:a}),r.jsx(Lf,{}),r.jsx(lPt,{editor:s,isLoading:n,assets:s.libraryController.assetValues,selectedType:e,searchValue:i,onSearchValueChange:l,listAssets:c,onSelectAsset:d,selectedAsset:u?u.id:null}),r.jsx(Lf,{}),r.jsx(MPt,{editor:s,asset:u,selectedType:e})]})}),sI=s=>{const{className:t,children:e}=s;return r.jsx("div",{className:W("flex","[&:not(:last-child)]:after:mx-1 [&:not(:last-child)]:after:opacity-30 [&:not(:last-child)]:after:content-['|']",t),children:e})},NU=s=>{const{metricInsight:t,className:e,isQuiet:i,onPress:n}=s,{metric:o}=t,{value:a,unit:l}=Ut.stringifyMetric(o);let c=RPt(o.label);return typeof o.value=="number"&&o.value>1&&(c==="mesh"&&(c+="e"),c+="s"),r.jsx(sI,{className:e,children:r.jsxs(Qi,{children:[r.jsx(_7,{onPress:n,children:r.jsx(K,{color:i?"secondary":"primary",children:`${a} ${l||c}`})}),r.jsx(Ji,{placement:"top",children:o.label})]})})};function RPt(s){switch(s){case"Triangles":return"poly";case"Styles":return"style";case"Lights":return"light";case"Maps":return"map";case"Average map size":return"MB";case"Polygons":return"poly";case"Meshes":return"mesh";case"Materials":return"material";case"Total maps":return"map";case"Largest map res.":case"Light type":case"HDRI resolution":return"";default:return s}}const NPt=A(s=>{const{editor:t}=s,{sceneEntities:e}=t.selectionController.selectedCollection,i=m.useMemo(()=>Ut.labelForObjectNames(e),[e]),n=m.useMemo(()=>Ut.labelForObjectTypes(e),[e]),o=t.performanceInsights.performanceBarInsights;return r.jsxs("div",{className:"flex items-center justify-end overflow-hidden px-2",children:[r.jsx(sI,{className:"w-40 justify-end overflow-ellipsis",children:r.jsx(C3,{children:i})}),n&&r.jsx(sI,{children:r.jsx(K,{nowrap:!0,color:"secondary",children:n})}),o.map(a=>r.jsx(NU,{metricInsight:a,isQuiet:!0},`${a.metric.sourceId}-${a.metric.metricType}`))]})}),jU=s=>{const{children:t,className:e,isScrollable:i}=s;return r.jsx("div",{className:W("flex flex-shrink-0 flex-col rounded-panel bg-gray-80",i?"flex h-full flex-col":"overflow-hidden",e),children:t})},jPt=[{category:kl.GEOMETRY,messages:[{metricType:tr.POLY_COUNT,valueText:["Your scene has "," polys."],limitText:["Keep your scene under "," polys."]}]},{category:kl.MATERIALS,messages:[{metricType:qt.LARGEST_MAP_RESOLUTION,valueText:["Your largest map is ","."],limitText:["Keep all maps to "," or under."]},{metricType:qt.PHYSICAL_MATERIAL_COUNT,valueText:["You are using "," physical materials."],limitText:["Keep your physical material count to "," or under."],helperText:"Prioritize Standard or Unlit materials."}]},{category:kl.OTHER,messages:[{metricType:ao.HDRI_RESOLUTION,valueText:["Your HDRI resolution is  ","."],limitText:["Keep your HDRI resolution to "," or under."]},{metricType:Qt.AREA_LIGHT_COUNT,valueText:["Your scene has "," area lights."],limitText:["Keep your area light count "," or under."]},{metricType:Qt.SPOT_LIGHT_COUNT,valueText:["Your scene has "," spot lights."],limitText:["Keep your spot light count "," or under."]},{metricType:Qt.POINT_LIGHT_COUNT,valueText:["Your scene has "," point lights."],limitText:["Keep your point light count "," or under."]}]}],DPt=A(s=>{const{message:t,performanceInsights:e}=s,i=e.sceneMetricsForWarning.get(t.metricType),n=e.getSceneLevelWarningLimitMetric(t.metricType),o=e.sceneLevelWarningsByMetricType.get(t.metricType);if(!i||!n)return null;const a=Ut.stringifyMetric(i),l=Ut.stringifyMetric(n);return r.jsxs(r.Fragment,{children:[Ut.shouldDisplayValue(i.value)&&r.jsxs("li",{className:"text-body2 text-t-secondary",children:[t.valueText[0],r.jsx("span",{className:jf("font-bold",o&&"text-orange"),children:`${a.value} ${a.unit}`}),t.valueText[1]]},"value"),Ut.shouldDisplayValue(l.value)&&r.jsxs("li",{className:"text-body2 text-t-secondary",children:[t.limitText[0],r.jsx("span",{className:"font-bold",children:`${l.value} ${l.unit}`}),t.limitText[1]]},"limit"),t.helperText!=null&&r.jsx("li",{className:"text-body2 text-t-secondary",children:t.helperText},"helper")]})}),FPt=A(s=>{const{performanceInsights:t}=s.editor;return r.jsxs(r.Fragment,{children:[r.jsx(pe,{label:"Opportunities"}),r.jsx(O1,{direction:"vertical",isScrollable:!0,children:jPt.map(e=>{const i=Ut.labelForOverviewCategory(e.category),n=e.messages.some(o=>t.sceneLevelWarningsByMetricType.get(o.metricType));return r.jsxs(jU,{children:[r.jsxs(pe,{children:[r.jsxs("div",{className:"flex w-full items-center",children:[r.jsx(L1,{children:i}),n&&r.jsx("div",{className:"px-2",children:r.jsx(De,{variant:"warning",children:Q0})})]}),e.link&&r.jsx(bL,{className:"flex h-8 w-8 items-center justify-center",href:e.link,target:"_blank",children:r.jsx("span",{className:"text-t-secondary hover:text-white",children:Eot})})]}),r.jsx("ul",{className:"list-disc px-6 pb-2",children:e.messages.map(o=>r.jsx(DPt,{performanceInsights:t,message:o},o.metricType))})]},i)})})]})}),BPt=A(({editor:s,className:t,sceneObjectIds:e,previewControls:i})=>{const{previewer:n,previewerRef:o}=M8(s,i,N8);return m.useEffect(()=>{n!=null&&(n.setPreviewMode(R8.GEOMETRY),n.setPreviewData({entityIds:e}))},[n,e]),r.jsx("div",{ref:o,className:W("relative my-2 h-detail-asset-preview w-full shrink-0 rounded-md bg-secondary",t)})});function kPt(s){switch(s){case zp.GEOMETRY:return fo.GEOMETRY;case zp.MATERIAL:return fo.MATERIALS;default:return null}}const j8=A(s=>{const{metricInsights:t,performanceInsights:e}=s,i=n=>()=>{n!=null&&(e.selectedPerformanceView=n)};return r.jsx("div",{children:t.map(({metric:n,insight:o,rightContent:a})=>{const l=kPt(n.category),{value:c,unit:h}=Ut.stringifyMetric(n);return r.jsx(L8,{label:n.label,value:`${c} ${h}`,onClickValue:i(l),isDisabled:l==null||l===e.selectedPerformanceView,rightContent:a},`${n.sourceId}-${n.metricType}`)})})}),DU=A(s=>{const{entity:t,editor:e}=s,i=m.useCallback(()=>{e.selectionController.selectedCollection.set(new Set([t]))},[e,t]);return r.jsx(cs,{label:"Select in scene",onPress:i,children:p5})}),GPt=A(s=>{const{sceneEntity:t,editor:e}=s,i=m.useMemo(()=>[t.id],[t]),{metricInsights:n}=e.performanceInsights.getGeometryDetailPanelInsights(t);return n.length==0?null:r.jsxs(r.Fragment,{children:[r.jsx(g_,{title:t.name,children:r.jsx(DU,{entity:t,editor:e})}),r.jsxs("div",{className:"flex flex-col overflow-y-auto overflow-x-hidden",children:[r.jsx(BPt,{editor:e,sceneObjectIds:i}),r.jsx(j8,{metricInsights:n,performanceInsights:e.performanceInsights})]})]})}),VPt=A(s=>{const{materialId:t,editor:e}=s,{metricInsights:i,materialData:n}=e.performanceInsights.getMaterialDetailPanelInsights(t),o=e.performanceInsights.getEntitiesUsingMaterial(t),a=m.useCallback(()=>{e.selectionController.selectedCollection.set(new Set(o))},[e.selectionController.selectedCollection,o]);if(n==null)return null;const l=r.jsxs(Qi,{children:[r.jsx(As,{onPress:a,isDisabled:o.length==0,children:p5}),r.jsx(Ji,{placement:"top",children:"Select all in scene"})]}),c=i.map(({metric:h,insight:d})=>Ut.isInstanceCountMetric(h.metricType)?{metric:h,insight:d,rightContent:l}:{metric:h,insight:d});return r.jsxs(r.Fragment,{children:[r.jsx(g_,{title:n.name}),r.jsxs("div",{className:"flex flex-col overflow-y-auto overflow-x-hidden",children:[r.jsx(RU,{editor:e,asset:n}),r.jsx(j8,{metricInsights:c,performanceInsights:e.performanceInsights})]})]})}),HPt=A(({editor:s,selectedLight:t,selectedHDRI:e})=>{const{metricInsights:i}=s.performanceInsights.otherDetailPanelInsights;return r.jsxs(r.Fragment,{children:[t&&s.performanceInsights.filteredEntities.has(t)&&r.jsx(g_,{title:t.name,children:r.jsx(DU,{entity:t,editor:s})}),e&&r.jsx(g_,{title:"HDRI light"}),r.jsx("div",{className:"flex flex-col overflow-y-auto overflow-x-hidden",children:r.jsx(j8,{metricInsights:i,performanceInsights:s.performanceInsights})})]})}),UPt=A(s=>{const{editor:t}=s,e=t.performanceInsights.selectedPerformanceView,i=t.performanceInsights.selectedEntity,n=t.performanceInsights.selectedMaterialId,o=t.performanceInsights.selectedLight,a=t.performanceInsights.selectedLightId==ci;return r.jsx(uc,{className:"shrink-0 grow-0 basis-r-panel",children:r.jsx(Io,{children:r.jsxs(ae,{isScrollable:!0,children:[e===fo.OVERVIEW&&r.jsx(FPt,{editor:t}),i!=null&&e===fo.GEOMETRY&&r.jsx(GPt,{editor:t,sceneEntity:i}),n!=null&&e===fo.MATERIALS&&r.jsx(VPt,{editor:t,materialId:n}),(o!=null||a)&&e===fo.OTHER&&r.jsx(HPt,{editor:t,selectedLight:o,selectedHDRI:a})]})})})}),zPt=s=>{const{metricInsight:t}=s,{metric:e}=t,{value:i,unit:n}=Ut.stringifyMetric(e),o=!1,a=e.unit!=gt.BOOLEAN?`${e.label}: `:"";return r.jsx(ii,{children:r.jsxs("div",{className:"flex h-8 w-full items-center",children:[r.jsx(K,{color:"secondary",children:r.jsx("span",{className:W(""),children:`${a}${i} ${n}`})}),o]})},e.metricType)},YPt=s=>{const{metricInsights:t}=s;return r.jsx("div",{className:"h-full w-full overflow-y-auto px-2",children:t.map(e=>r.jsx(zPt,{metricInsight:e},e.metric.metricType))})},D8=s=>{const{title:t,metricInsights:e,isSelected:i,onClick:n,icon:o}=s;return r.jsx(ii,{children:r.jsxs(Na,{className:W("flex h-8 w-full items-center justify-between hover:bg-hovered",i&&"bg-active"),onPress:n,children:[r.jsxs("div",{className:"flex min-w-0 items-center gap-1 px-2",children:[o,r.jsxs(Qi,{children:[r.jsx(K,{color:i?"primary":"secondary",children:r.jsx(_7,{className:"w-full min-w-0 cursor-default overflow-hidden text-ellipsis whitespace-nowrap",onPress:n,children:t})}),r.jsx(Ji,{placement:"top",children:t})]})]}),r.jsx("div",{className:"mr-2 flex",children:e.map(a=>r.jsx(NU,{metricInsight:a,isQuiet:!i,onPress:n},`${a.metric.sourceId}-${a.metric.metricType}`))})]})})},w3=s=>{const{children:t,title:e,...i}=s;return r.jsxs(jU,{...i,className:"w-card",isScrollable:!0,children:[r.jsx(pe,{label:e}),r.jsx("div",{className:"flex h-full flex-col overflow-auto pb-2",children:t})]})},F8=({onPress:s,icon:t,tooltip:e})=>r.jsxs(Qi,{children:[r.jsx(_7,{onPress:s,children:r.jsx(Oi,{className:"opacity-secondary",color:"gray",icon:t})}),r.jsx(Ji,{placement:"top",children:e})]}),x3=s=>{const{children:t,...e}=s;return r.jsx(v7,{...e,className:"h-full w-full overflow-x-auto overflow-y-hidden",children:r.jsx(O1,{direction:"horizontal",children:r.jsx(WPt,{message:"There are no selected objects that fit the category",children:t})})})},WPt=({message:s,children:t})=>xe.Children.count(t)>0?r.jsx(r.Fragment,{children:t}):r.jsx("div",{className:"flex w-full items-center justify-center",children:r.jsx(Ze,{color:"secondary",children:s})}),XPt=A(({editor:{performanceInsights:s}})=>{m.useEffect(()=>{s.defaultEntityIdForGeometryTab&&s.setSelectedEntityId(s.defaultEntityIdForGeometryTab)},[s,s.defaultEntityIdForGeometryTab]);const t=i=>{s.setSelectedEntityId(i.entityId)},e=Object.entries(s.geometryTabInsights).filter(([i,n])=>n.length>0);return r.jsx(x3,{id:fo.GEOMETRY,children:e.map(([i,n])=>{const o=Ut.labelForImpact(i);return r.jsx(w3,{title:o,children:n.map(a=>r.jsx(D8,{metricInsights:a.metricInsights,title:a.title,icon:r.jsx(F8,{onPress:()=>t(a),icon:cb(a.objectType),tooltip:hb(a.objectType)}),isSelected:s.selectedEntityId==a.entityId,onClick:()=>t(a)},a.entityId))},i)})})}),ZPt=A(({editor:{performanceInsights:s}})=>{m.useEffect(()=>{s.defaultMaterialIdForMaterialTab&&s.setSelectedMaterialId(s.defaultMaterialIdForMaterialTab)},[s,s.defaultMaterialIdForMaterialTab]);const t=Object.entries(s.materialTabInsights).filter(([e,i])=>i.length>0);return r.jsx(x3,{id:fo.MATERIALS,children:t.map(([e,i])=>{const n=Ut.labelForImpact(e);return r.jsx(w3,{title:n,children:i.map(o=>r.jsx(D8,{metricInsights:o.metricInsights,title:o.title,icon:r.jsx(F8,{onPress:()=>s.setSelectedMaterialId(o.materialId),icon:KPt[o.materialType],tooltip:o.materialType}),isSelected:s.selectedMaterialId==o.materialId,onClick:()=>s.setSelectedMaterialId(o.materialId)},o.materialId))},e)})})}),KPt={[ue.Occluder]:_g,[ue.Standard]:_g,[ue.Physical]:_g,[ue.Shadow]:_g,[ue.Toon]:_g,[ue.Unlit]:_g},qPt=A(({editor:{performanceInsights:s}})=>{m.useEffect(()=>{s.defaultEntityIdForOtherTab&&s.setSelectedLightId(s.defaultEntityIdForOtherTab)},[s,s.defaultEntityIdForOtherTab]);const t=o=>{s.setSelectedLightId(o.entityId)},e=m.useCallback(o=>o.isLightHDRI?Ut.HDRI_ICON:cb(Ut.getObjectTypeFromLightType(o.lightType)),[]),i=m.useCallback(o=>o.isLightHDRI?Ut.HDRI_TEXT:hb(Ut.getObjectTypeFromLightType(o.lightType)),[]),n=Object.entries(s.otherTabInsights).filter(([o,a])=>a.length>0);return r.jsx(x3,{id:fo.OTHER,children:n.map(([o,a])=>{const l=Ut.labelForImpact(o);return r.jsx(w3,{title:l,children:a.map(c=>r.jsx(D8,{metricInsights:c.metricInsights,title:c.title,icon:r.jsx(F8,{onPress:()=>t(c),icon:e(c),tooltip:i(c)}),isSelected:s.selectedLightId==c.entityId,onClick:()=>t(c)},c.entityId))},o)})})}),QPt=A(({editor:{performanceInsights:s}})=>{const t=Object.entries(s.overviewTabInsights).filter(([e,i])=>i.length>0);return r.jsx(x3,{id:fo.OVERVIEW,children:t.map(([e,i])=>{const n=Ut.labelForOverviewCategory(e);return r.jsx(w3,{title:n,children:r.jsx(YPt,{metricInsights:i})},e)})})}),zS={[mt.DESKTOP]:{id:mt.DESKTOP,text:Ut.labelForDeviceTarget(mt.DESKTOP),icon:JR},[mt.QUEST3]:{id:mt.QUEST3,text:Ut.labelForDeviceTarget(mt.QUEST3),icon:a9},[mt.QUEST2]:{id:mt.QUEST2,text:Ut.labelForDeviceTarget(mt.QUEST2),icon:a9},[mt.MOBIlE]:{id:mt.MOBIlE,text:Ut.labelForDeviceTarget(mt.MOBIlE),icon:QR}};function JPt(s){return Object.values(mt).includes(s)}const $Pt=A(s=>{const{editor:t}=s,e=n=>{JPt(n)&&(t.performanceInsights.deviceTarget=n,Ft("performance-device-target-select",{deviceTarget:Ut.labelForDeviceTarget(n)}))},i=zS[t.performanceInsights.deviceTarget].icon;return r.jsx(Ys,{label:"Device target",items:Object.values(zS),selectedKey:t.performanceInsights.deviceTarget,onSelectionChange:e,className:"w-full",icon:i,valueContent:n=>r.jsx(hM,{option:zS[t.performanceInsights.deviceTarget],editor:t,...n}),children:n=>r.jsx(se,{id:n.id,textValue:n.text,children:r.jsx(hM,{option:n,editor:t})})})}),hM=A(s=>{const{editor:t,option:e}=s;return r.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[r.jsxs("div",{className:"flex flex-row items-center justify-start",children:[r.jsx(De,{children:e.icon}),r.jsx("span",{className:"ml-1",children:e.text})]}),r.jsx("div",{className:"pl-1",children:r.jsx(De,{variant:"colored",children:t.performanceInsights.deviceTargetWarnings[e.id]?Q0:n$})})]})}),tOt=A(({editor:s})=>{const{performanceInsights:t}=s,e=m.useCallback(i=>{t.selectedPerformanceView=i},[t]);return r.jsxs(Io,{className:"flex flex-grow !overflow-hidden p-2",children:[r.jsxs(ZL,{className:"flex w-full flex-col overflow-hidden",selectedKey:t.selectedPerformanceView,onSelectionChange:e,children:[r.jsxs(Rj,{children:[r.jsx(tw,{id:fo.OVERVIEW}),r.jsx(tw,{id:fo.GEOMETRY}),r.jsx(tw,{id:fo.MATERIALS}),r.jsx(tw,{id:fo.OTHER})]}),r.jsx(QPt,{editor:s}),r.jsx(XPt,{editor:s}),r.jsx(ZPt,{editor:s}),r.jsx(qPt,{editor:s})]}),r.jsx("div",{className:"absolute right-2 top-2 flex h-8 items-center",children:r.jsx($Pt,{editor:s})})]})}),eOt={[fo.OVERVIEW]:"Overview",[fo.GEOMETRY]:"Geometry",[fo.MATERIALS]:"Materials",[fo.OTHER]:"Other"},tw=({id:s})=>r.jsx(H4,{id:s,children:r.jsx(C3,{children:eOt[s]})}),sOt=A(({editor:s})=>r.jsxs(R1,{children:[r.jsx(tOt,{editor:s}),r.jsx(Lf,{}),r.jsx(UPt,{editor:s})]}));var Er=(s=>(s.TOP="TOP",s.MIDDLE="MIDDLE",s.BOTTOM="BOTTOM",s))(Er||{});const z0={[Wt.AUTO]:"Auto",[Wt.POINTER_DOWN]:"Pointer down",[Wt.POINTER_UP]:"Pointer up",[Wt.HOVER_INSIDE]:"Hover inside",[Wt.HOVER_OUTSIDE]:"Hover outside",[Wt.KEY_DOWN]:"Key down",[Wt.KEY_UP]:"Key up",[Wt.ON_COLLISION_START]:"Collider enter",[Wt.ON_COLLISION_END]:"Collider exit",[Wt.DIRECT_TOUCH_INSIDE]:"Direct touch inside",[Wt.DIRECT_TOUCH_OUTSIDE]:"Direct touch outside",[Wt.GAMEPAD_ACTION_START]:"Input start",[Wt.GAMEPAD_ACTION_END]:"Input end"},Dy={[Qe.LINEAR]:XR,[Qe.CUSTOM]:r9,[Qe.ELASTIC]:{[_n.IN]:X$,[_n.OUT]:W$,[_n.IN_OUT]:o9,Mixed:o9},[Qe.POWER1]:{[_n.IN]:z$,[_n.OUT]:Y$,[_n.IN_OUT]:n9,Mixed:n9},Mixed:r9};var iI;(s=>{function t(e,i){return e==null||i==null||e.size!==i.size?!1:Array.from(e).every(n=>i.has(n))}s.equals=t})(iI||(iI={}));const iOt=({entityId:s,targetsKey:t,targetEntityIds:e,sceneEntitiesById:i,interactionIds:n,interactionIdsKey:o,firstInteractionsComponent:a,stateMachineController:l,isAddingNewTargetEntity:c,interactions:h,isReadOnly:d})=>{var F,k,Y,G;const{hoverProps:u,isHovered:f}=Ao({}),[p,g]=m.useState(!1),_=((F=l.targetEditContext)==null?void 0:F.replacementEntityId)??null,v=(k=l.targetEditContext)==null?void 0:k.targetsKey,y=l.isSelectingNewTargetEntity&&iI.equals(n,(Y=l.targetEditContext)==null?void 0:Y.interactionIds),b=h.every(st=>st.trigger.type===te.COLLIDER),C=y&&v===t&&(_===s||_===Ms);let x;s===Ms||s===a.entityId&&!e.includes(Ms)?x="Self":s===lT?x="Mixed":s===wo?x="Any object with collider":x=(G=i[s])==null?void 0:G.name;let I=!1;b&&(I=(s===Ms?Array.from(n).map($=>{const X=l.getInteractionComponentForId($);return X==null?void 0:X.entityId}):[s]).every($=>{const X=$==null?null:i[$];return X&&X.sceneObject.colliders&&Object.keys(X.sceneObject.colliders).length>0}));const O=st=>{st===Ms||st===wo?T(s,st):T(s)},T=(st,$)=>{let X=$;$!=null&&a.entityId===$&&(X=Ms),l.removeOrReplaceTargetEntityForInteraction(n,st,X,t)},D=st=>{l.isSelectingNewTargetEntity?l.clearInteractionTargetEditContext():l.setInteractionTargetEditContext({interactionIdsKey:o,interactionIds:n,replacementEntityId:st,targetsKey:t})},B=!C&&b&&!I&&s!==wo;return r.jsx(Df,{children:r.jsx(ii,{children:r.jsxs("div",{className:W("ml-2 grid w-full items-center",C&&y&&"shadow-hoverItem",!C&&!y&&f&&"shadow-hover",d&&"pointer-events-none opacity-50"),style:{gridTemplateColumns:"32px minmax(0, 1fr) 64px"},...u,children:[r.jsx("div",{className:"flex items-center justify-center",children:r.jsx(De,{variant:"secondary",children:l5})}),r.jsxs("div",{className:"flex w-full items-center",children:[r.jsx(K,{className:W(C&&"text-placeholder"),children:C?"Choose object in scene":x}),B&&r.jsx("div",{className:"flex items-center justify-center px-2",children:r.jsx(Nb,{children:"No collider on object"})})]}),!c&&r.jsxs("div",{className:W("flex items-center justify-end",f||p?"visible":"invisible"),children:[r.jsx(cs,{label:"Replace",tooltipPlacement:"left",onPress:()=>D(s),children:UI}),r.jsxs(ed,{label:"More",icon:$l,onAction:O,onOpenChange:g,children:[x!=="Self"&&r.jsx(An,{id:Ms,textValue:"Reset to self"}),b&&s!==wo&&r.jsx(An,{id:wo,textValue:"Reset to any"}),r.jsx(An,{className:"text-tomato",textValue:"Remove"})]})]})]})})})},nOt=A(iOt),oOt=({entityId:s,targetsKey:t,targetEntityIds:e,sceneEntitiesById:i,interactionIds:n,interactionIdsKey:o,stateMachineController:a,firstInteractionsComponent:l,isReadOnly:c,gamepads:h})=>{var g;const d=(g=i[s])==null?void 0:g.name,u=h.length===0,f=_=>{a.removeOrReplaceTargetEntityForInteraction(n,s??wo,_,t)},p=()=>{const _=new c8(l.entity.editor);_.create(!1),_.dispose()};return r.jsx(Df,{children:r.jsx(ii,{children:r.jsxs("div",{className:W("flex h-8 w-full items-center justify-start",c&&"pointer-events-none opacity-50"),style:{gridTemplateColumns:"32px minmax(0, 1fr) 64px"},children:[!u&&r.jsx("div",{className:"flex h-full items-center justify-start gap-2",children:r.jsx(Ys,{className:"w-full",selectedKey:s,onSelectionChange:_=>{f(_)},isDisabled:c,valueContent:_=>r.jsxs("div",{className:"flex items-center justify-start gap-2",children:[r.jsx(De,{variant:"secondary",children:Kw}),r.jsx(K,{children:d??"None"})]}),children:h.map(_=>{const v=_.name;return r.jsx(se,{id:_.id,textValue:_.id,children:v},_.id)})})}),u&&r.jsxs("div",{className:"flex h-full w-full items-center justify-between gap-2 pl-2 shadow-hover",children:[r.jsxs("div",{className:"flex w-fit items-center justify-center gap-2",children:[r.jsx(De,{variant:"tertiary",children:Kw}),r.jsx(Nb,{children:"No inputs in the scene"}),r.jsx(K,{color:"negative",children:"No inputs in the scene."})]}),r.jsx(cs,{label:"Add input controls",onPress:p,children:Eo})]})]})})})},rOt=A(oOt),dM=1e3,aOt=100,lOt=({stateMachineController:s,interactionIds:t,isInstance:e})=>{const i=Object.values(Wt).map(o=>({key:o,displayName:z0[o]})),n=o=>{const a=BU(o),c={...fN.has(o)?{}:{targetEntityIds:[Ms]},type:a,event:o};s.replaceTriggerForInteractions(t,c)};return r.jsx(ae,{children:r.jsx(pe,{children:r.jsx(Ys,{label:"Replace mixed events",variant:"title",className:"w-full",items:i,onSelectionChange:o=>n(o),isDisabled:s.isSelectingNewTargetEntity,isReadOnly:e,children:o=>r.jsx(se,{id:o.key,textValue:o.displayName})})})})},cOt=A(s=>{const{interactionIds:t,stateMachineController:e}=s,i=m.useRef(null),n=e.getInteractionsForIds(t);if(n.length===0)return null;const o=t.values().next().value,a=e.getInteractionComponentForId(o);if(a==null)return null;const c=n[0].trigger.event,h=()=>{e.removeInteractions(t)};return r.jsxs(ae,{ref:i,children:[r.jsxs(pe,{children:[r.jsx(dOt,{triggerEvent:c,firstInteractionsComponent:a,...s,isInstance:s.isInstance}),!e.isSelectingNewTargetEntity&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(hOt,{settingsPopupRef:i,interactions:n,...s,isReadOnly:s.isInstance}),r.jsx(cs,{label:"Remove interaction",onPress:h,isReadOnly:s.isInstance,children:w_})]})]}),r.jsx(uOt,{triggerEvent:c,firstInteractionsComponent:a,interactions:n,...s,isReadOnly:s.isInstance})]})}),hOt=A(({interactionIds:s,stateMachineController:t,settingsPopupRef:e,interactions:i,isReadOnly:n})=>{const[o,a]=m.useState(!1),l=()=>{a(!o),Hs.open({content:r.jsx(kU,{interactionIds:s,stateMachineController:t,onClose:Hs.close}),option:{ref:e,width:204,margin:12,spot:Ds.TOP_RIGHT,onClose:()=>{a(!1)}}})},c=i[0],h=Object.values(c.animations)[0],d=_=>i.every(({animations:v})=>{if(Object.values(v).length<1)return!1;const y=h[_],b=Object.values(v)[0][_];return y&&b&&typeof y=="object"&&typeof b=="object"?u7(y,b):y===b})?h[_]:Hc,u=d("ease")??$w,f=u===Qe.ELASTIC?s7:tx,p=d("easeDirection")??f,g=u===Qe.POWER1||u===Qe.ELASTIC?Dy[u][p]:Dy[u];return r.jsx(cs,{label:"Curve settings",onPress:l,isActive:o,isReadOnly:n,children:g})}),dOt=A(({interactionIds:s,sceneEntitiesById:t,stateMachineController:e,timelineController:i,interactionIdsKey:n,triggerEvent:o,firstInteractionsComponent:a,isInstance:l,sceneController:c})=>{const h=Object.values(Wt),d=Object.values(h).map(f=>({key:f,displayName:z0[f]})),u=f=>{const p=BU(f),g={event:f,type:p};if(!fN.has(f)){const _=em(a);if(g.type===te.POINTER){const v=_?[Ms]:[],y=e.getTargetEntityIdsForInteractionIds(s),b=y.length>0?y:v;g.targetEntityIds=b}else if(g.type===te.COLLIDER){const v=_?[Ms]:[],y=e.getTargetEntityIdsForInteractionIds(s,"targetEntityIds"),b=y.length>0?y:v;g.targetEntityIds=b;const C=_?[wo]:[],x=e.getTargetEntityIdsForInteractionIds(s,"targetEntityIds2"),I=x.length>0?x:C;g.targetEntityIds2=I[0]===wo?void 0:I}else if(g.type===te.GAMEPAD){const v=c.gamepadController.gamepadEntities;if(v.length>0){const y=v[0];g.targetEntityIds=[y.id]}else g.targetEntityIds=[]}}i.selectedTriggerEvent=g.event,e.updateInteractions(s,g,null,!0)};return r.jsx(Ys,{label:z0[o],variant:"title",className:"w-full",items:d,selectedKey:o,onSelectionChange:f=>u(f),isDisabled:e.isSelectingNewTargetEntity,isReadOnly:l,children:f=>r.jsx(se,{id:f.key,textValue:f.displayName})})}),uOt=A(s=>{const{interactions:t}=s,e=t[0],i=e.trigger.event,n=e.trigger.type;return r.jsxs(r.Fragment,{children:[n===te.KEYBOARD&&r.jsx(pOt,{...s,isReadOnly:s.isReadOnly}),n===te.GAMEPAD&&r.jsxs(r.Fragment,{children:[r.jsx(gOt,{label:"Inputs",...s,interactions:t,isReadOnly:s.isReadOnly}),r.jsx(mOt,{...s,isReadOnly:s.isReadOnly,sceneController:s.sceneController})]}),n===te.POINTER&&r.jsx(a0,{label:"Trigger objects",...s,interactions:t,isReadOnly:s.isReadOnly}),(i===Wt.DIRECT_TOUCH_INSIDE||i===Wt.DIRECT_TOUCH_OUTSIDE)&&r.jsxs(r.Fragment,{children:[s.sceneController.bodyRigComponent==null&&r.jsx(fOt,{status:!1,statusMessage:"Add Body Rig to the scene",text:"Add Body Rig and enable direct touch"}),r.jsx(a0,{label:"Trigger objects",...s,targetsKey:"targetEntityIds",isReadOnly:s.isReadOnly})]}),i===Wt.ON_COLLISION_START&&r.jsxs(r.Fragment,{children:[r.jsx(a0,{label:"When",...s,isReadOnly:s.isReadOnly}),r.jsx(a0,{label:"Enters",...s,targetsKey:"targetEntityIds2",isReadOnly:s.isReadOnly})]}),i===Wt.ON_COLLISION_END&&r.jsxs(r.Fragment,{children:[r.jsx(a0,{label:"When",...s,isReadOnly:s.isReadOnly}),r.jsx(a0,{label:"Exits",...s,targetsKey:"targetEntityIds2",isReadOnly:s.isReadOnly})]}),r.jsxs(Fh,{children:[r.jsx(Dx,{...s,animationSetting:"duration",isReadOnly:s.isReadOnly}),r.jsx(Dx,{...s,animationSetting:"delay",isReadOnly:s.isReadOnly})]}),r.jsx(FU,{...s,isReadOnly:s.isReadOnly})]})}),Dx=A(s=>{const{interactions:t,interactionIds:e,stateMachineController:i,animationSetting:n}=s,o=t[0],a=Object.values(o.animations)[0][n],l=t.every(({animations:f})=>Object.values(f).length>0&&Object.values(f)[0][n]===a)?void 0:"Mixed",c=()=>{i.recordBeforeInteraction()},h=()=>{i.recordAfterInteraction()},d=f=>p=>{const g={[f]:p/dM};i.updateInteractions(e,null,g)},u=n.charAt(0).toUpperCase()+n.slice(1);return r.jsx(xr,{label:u,minValue:0,sensitivity:aOt,value:a?a*dM:0,formatOptions:{style:"unit",unit:"millisecond"},overrideValueString:l,onBegin:c,onChange:d(n),onEnd:h,isFixedWidth:!1,isReadOnly:s.isReadOnly})}),FU=A(s=>{const{interactions:t,interactionIds:e,stateMachineController:i}=s,n=t[0],o=Object.values(n.animations)[0],a=d=>t.every(({animations:u})=>{if(Object.values(u).length<1)return!1;const f=o[d],p=Object.values(u)[0][d];return f&&p&&typeof f=="object"&&typeof p=="object"?u7(f,p):f===p})?o[d]:Hc,l=(d,u=p=>p,f=!0)=>p=>{f&&i.recordBeforeInteraction();const g={[d]:u(p)};i.updateInteractions(e,null,g,f)},c=a("repeat"),h=a("yoyo");return r.jsxs(Fh,{children:[r.jsx(Pa,{className:"pl-2",variant:"secondary",size:"sm",isMixed:c===Hc,onChange:l("repeat",d=>d===!0?-1:void 0),isSelected:c===-1,isReadOnly:s.isReadOnly,children:r.jsx(K,{color:s.isReadOnly?"secondary":"primary",children:"Loop"})}),r.jsx(Pa,{className:"pl-2",variant:"secondary",size:"sm",onChange:l("yoyo"),isSelected:h===!0,isMixed:h===Hc,isReadOnly:s.isReadOnly,children:r.jsx(K,{color:s.isReadOnly?"secondary":"primary",children:"Ping pong"})})]})}),fOt=A(s=>{const{status:t,statusMessage:e,text:i}=s;return r.jsx(ii,{children:r.jsx(K,{color:"secondary",className:"pl-2",children:r.jsxs("div",{className:"flex",children:[!t&&r.jsx(Nb,{children:e})," ",i]})})})}),a0=A(s=>{var f,p,g;const{interactionIds:t,stateMachineController:e,firstInteractionsComponent:i,interactionIdsKey:n,sceneEntitiesById:o,label:a,interactions:l}=s,c=s.targetsKey??"targetEntityIds",h=e.getTargetEntityIdsForInteractionIds(t,c),d=()=>{e.setInteractionTargetEditContext({interactionIdsKey:n,interactionIds:t,isAddingNewTargetEntityId:!0,targetsKey:c})},u=(((f=e.interactionTargetEditContext)==null?void 0:f.interactionIdsKey)===n&&((p=e.interactionTargetEditContext)==null?void 0:p.targetsKey)===c&&((g=e.interactionTargetEditContext)==null?void 0:g.isAddingNewTargetEntityId))??!1;return r.jsxs("div",{children:[r.jsx(Gy,{label:a,isQuiet:!0,needsPadding:!1,children:r.jsx(cs,{label:"Add target object",onPress:d,isDisabled:e.isSelectingNewTargetEntity,isReadOnly:s.isReadOnly,children:Eo})}),h.map(_=>r.jsx(nOt,{entityId:_,interactions:l,targetsKey:c,firstInteractionsComponent:i,targetEntityIds:h,interactionIds:t,interactionIdsKey:n,sceneEntitiesById:o,stateMachineController:e,isAddingNewTargetEntity:u,isReadOnly:s.isReadOnly},_)),u&&r.jsx(ii,{children:r.jsxs("div",{className:"ml-2 flex w-full items-center justify-between shadow-hoverItem",children:[r.jsx(K,{className:"pl-2 text-placeholder",children:"Choose object in scene"}),r.jsx("div",{className:"flex h-8 w-8 items-center justify-center",children:UI})]})})]})}),pOt=A(({interactions:s,interactionIds:t,stateMachineController:e})=>{const i=s[0],n=i.trigger.type;let o;if(n===te.KEYBOARD){const l=i.trigger.key;o=s.every(({trigger:c})=>c.type!==te.KEYBOARD?!1:c.key===l)?l:"Mixed"}const a=l=>{if(i==null)return;const{trigger:c}=i,h={...c,key:l.charAt(l.length-1).toUpperCase()};e.updateInteractions(t,h,null)};return r.jsx(Ql,{label:"Key",isQuiet:!0,children:r.jsx(la,{size:"sm",align:"left",placeholder:"Enter key",value:o??"",onChange:l=>{a(l.target.value)},onSubmit:()=>{},className:"!h-full font-bold"})})}),mOt=A(({interactions:s,interactionIds:t,stateMachineController:e,sceneController:i})=>{const n=s[0],o=n.trigger.type;let a;if(o===te.GAMEPAD){const p=n.trigger.action;a=s.every(({trigger:g})=>g.type!==te.GAMEPAD?!1:g.action===p)?p:"Mixed"}const l="targetEntityIds",c=m.useMemo(()=>e.getTargetEntityIdsForInteractionIds(t,l),[t,e]),h=m.useMemo(()=>c.length>0?i.sceneEntitiesById[c[0]]??null:null,[c,i.sceneEntitiesById]),d=m.useMemo(()=>{if(!h)return[];const p=h.getComponent(ur);return p?p.actions.values.map(_=>_.base()):[]},[h]),u=p=>{if(n==null||d.length===0)return;const g=d.find(y=>y.id===p);if(!g)return;const{trigger:_}=n,v={..._,action:g.id};e.updateInteractions(t,v,null)},f=p=>{const g=d.find(_=>_.id===p);return g?g.id:""};return i.gamepadController.gamepadCount===0?null:r.jsx(H3,{label:"Action",isQuiet:!0,children:r.jsx(Ys,{label:"Action",variant:"title",className:"w-full",selectedKey:f(a??""),onSelectionChange:p=>u(p),isDisabled:!1,isReadOnly:!1,children:d.map(p=>r.jsx(se,{id:p.id,textValue:p.name,children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsx(K,{children:p.name})})},p.id))})})}),gOt=A(s=>{const{interactionIds:t,stateMachineController:e,firstInteractionsComponent:i,interactionIdsKey:n,sceneEntitiesById:o,interactions:a}=s,l="targetEntityIds",c=e.getTargetEntityIdsForInteractionIds(t,l),h=c[0];return r.jsx(rOt,{entityId:h,interactions:a,targetsKey:l,firstInteractionsComponent:i,targetEntityIds:c,interactionIds:t,interactionIdsKey:n,sceneEntitiesById:o,gamepads:s.sceneController.gamepadController.gamepadEntities,stateMachineController:e,isAddingNewTargetEntity:!1,isReadOnly:s.isReadOnly})});function BU(s){switch(s){case Wt.AUTO:return te.AUTO;case Wt.KEY_DOWN:case Wt.KEY_UP:return te.KEYBOARD;case Wt.GAMEPAD_ACTION_START:case Wt.GAMEPAD_ACTION_END:return te.GAMEPAD;case Wt.ON_COLLISION_START:case Wt.ON_COLLISION_END:case Wt.DIRECT_TOUCH_INSIDE:case Wt.DIRECT_TOUCH_OUTSIDE:return te.COLLIDER;default:return te.POINTER}}const Dr=180,ew=5/Dr,uM=3/Dr,Op="[+-]?(\\d*\\.)?\\d+",_Ot=new RegExp(`M(?<p1_x>${Op}),(?<p1_y>${Op}) C(?<c1_x>${Op}),(?<c1_y>${Op}) (?<c2_x>${Op}),(?<c2_y>${Op}) (?<p2_x>${Op}),(?<p2_y>${Op})`);function fM(s){if(s==null)return null;const t=s.match(_Ot);if(t==null||t.groups==null)return null;const{p1_x:e,p1_y:i,c1_x:n,c1_y:o,c2_x:a,c2_y:l,p2_x:c,p2_y:h}=t.groups;return{p1:{control:{x:parseFloat(n),y:parseFloat(o)},point:{x:parseFloat(e),y:parseFloat(i)}},p2:{control:{x:parseFloat(a),y:parseFloat(l)},point:{x:parseFloat(c),y:parseFloat(h)}}}}const vOt=({ease:s,direction:t,elasticEaseParams:e,customEaseSVGPath:i,onUpdateCustomEase:n})=>{const[o,a]=m.useState(i==null?null:fM(i));m.useEffect(()=>{s!=Qe.CUSTOM&&o!=null&&a(null),s===Qe.CUSTOM&&o==null&&a(fM(i))},[o,i,s]),m.useEffect(()=>{if(o==null)return;const{p1:{point:v,control:y},p2:{point:b,control:C}}=o,x=v.x.toFixed(2),I=v.y.toFixed(2),O=y.x.toFixed(2),T=y.y.toFixed(2),D=b.x.toFixed(2),B=b.y.toFixed(2),F=C.x.toFixed(2),k=C.y.toFixed(2),Y=`M${x},${I} C${O},${T} ${F},${k} ${D},${B}`;n(Y)},[o,n]);const l=v=>Math.min(Math.max(v,0),1),c=(v,y,b)=>{o!=null&&a(C=>C==null?null:{...C,[b]:{...C[b],control:{x:l(C[b].control.x+v/Dr),y:l(C[b].control.y-y/Dr)}}})},{moveProps:h}=zy({onMove(v){c(v.deltaX,v.deltaY,"p1")}}),{moveProps:d}=zy({onMove(v){c(v.deltaX,v.deltaY,"p2")}}),u=-ew*Dr,f=Dr*(1+2*ew),p=s===Qe.CUSTOM?i:M0.getSVGPathForEaseFunction(s,t,e,{width:Dr,height:Dr,x:0,y:0});let g=1,_=0;if(s===Qe.ELASTIC)switch(t){case _n.IN:{_=.2*Dr,g=.3;break}case _n.OUT:{_=.5*Dr,g=.3;break}case _n.IN_OUT:{_=.325*Dr,g=.35;break}}return r.jsxs("svg",{x:"0px",y:"0px",viewBox:`${u} ${u} ${f} ${f}`,width:f,height:f,children:[r.jsx("rect",{width:Dr,height:Dr,x:0,y:0,className:"fill-gray-80 stroke-gray-50 stroke-1",vectorEffect:"non-scaling-stroke non-scaling-size"}),r.jsxs("g",{transform:s===Qe.CUSTOM?`translate(0, ${Dr}) scale(${Dr}, -${Dr})`:"",children:[r.jsx("path",{d:p,vectorEffect:"non-scaling-stroke",fill:"none",className:"stroke-white",transform:`translate(0, ${_}) scale(1, ${g})`}),o!=null&&r.jsxs(r.Fragment,{children:[r.jsx("circle",{cx:o.p1.point.x,cy:o.p1.point.y,r:uM,className:"fill-white"}),r.jsx("circle",{cx:o.p2.point.x,cy:o.p2.point.y,r:uM,className:"fill-white"}),r.jsx("line",{x1:o.p1.point.x,y1:o.p1.point.y,x2:o.p1.control.x,y2:o.p1.control.y,className:"stroke-lime",vectorEffect:"non-scaling-stroke"}),r.jsx("line",{x1:o.p2.point.x,y1:o.p2.point.y,x2:o.p2.control.x,y2:o.p2.control.y,className:"stroke-lime",vectorEffect:"non-scaling-stroke"}),r.jsx("circle",{cx:o.p1.control.x,cy:o.p1.control.y,r:ew,...h,className:"fill-lime"}),r.jsx("circle",{cx:o.p2.control.x,cy:o.p2.control.y,r:ew,...d,className:"fill-lime"})]})]})]})},yOt={[Qe.POWER1]:"Ease",[Qe.ELASTIC]:"Spring",[Qe.LINEAR]:"Linear",[Qe.CUSTOM]:"Custom"},bOt={[_n.IN]:"in",[_n.OUT]:"out",[_n.IN_OUT]:"in out"},COt={[Qe.ELASTIC]:[_n.IN,_n.OUT,_n.IN_OUT],[Qe.POWER1]:[_n.IN,_n.OUT,_n.IN_OUT]},wOt=({interactionIds:s,stateMachineController:t,onClose:e,shouldShowExtraSettings:i=!1})=>{var v,y;const n=m.useRef(null);tc(n,e);const o=b=>c.every(({animations:C})=>{if(Object.values(C).length<1)return!1;const x=d[b],I=Object.values(C)[0][b];return x&&I&&typeof x=="object"&&typeof I=="object"?u7(x,I):x===I})?d[b]:Hc,a=m.useCallback(()=>t.recordBeforeInteraction(),[t]),l=m.useCallback(()=>t.recordAfterInteraction(),[t]),c=t.getInteractionsForIds(s);if(c.length<1)return null;const h=c[0];if(h==null)return null;const d=Object.values(h.animations)[0],u=o("ease")??$w,f=o("elasticEaseParams")??uw,p=u===Qe.ELASTIC?s7:tx,g=o("easeDirection")??p,_=(b,C=I=>I,x=!0)=>I=>{x&&t.recordBeforeInteraction();const O={[b]:C(I)};t.updateInteractions(s,null,O,x)};return r.jsxs("div",{ref:n,children:[r.jsx(xOt,{currentEase:u,currentEaseDirection:g,interactionIds:s,stateMachineController:t,close:e}),r.jsxs(ae,{children:[u!==Hc&&g!==Hc&&f!==Hc&&r.jsx("div",{className:"flex items-center justify-center px-2",children:r.jsx(vOt,{ease:u,direction:g,customEaseSVGPath:d.customEaseSVGPath,elasticEaseParams:f,onUpdateCustomEase:_("customEaseSVGPath")})}),u===Qe.ELASTIC&&f!=null&&r.jsxs(r.Fragment,{children:[r.jsx(Yl,{children:r.jsx(xr,{minValue:1,maxValue:2,sensitivity:.1,step:.1,label:"Wave height",value:((v=d.elasticEaseParams)==null?void 0:v.amplitude)??uw.amplitude,overrideValueString:f===Hc?f:void 0,onBegin:a,onEnd:l,onChange:_("elasticEaseParams",b=>{var C;return{period:((C=d.elasticEaseParams)==null?void 0:C.period)??uw.period,amplitude:b}},!1),isFixedWidth:!1})}),r.jsx(Yl,{children:r.jsx(xr,{minValue:.1,maxValue:1,label:"Cycle length",sensitivity:.05,step:.05,value:((y=d.elasticEaseParams)==null?void 0:y.period)??0,overrideValueString:f===Hc?f:void 0,onBegin:a,onEnd:l,onChange:_("elasticEaseParams",b=>{var C;return{period:b,amplitude:((C=d.elasticEaseParams)==null?void 0:C.amplitude)??0}},!1),isFixedWidth:!1})})]}),i&&r.jsxs(r.Fragment,{children:[r.jsx(Yl,{children:r.jsx(Dx,{interactions:c,interactionIds:s,stateMachineController:t,animationSetting:"duration"})}),r.jsx(Yl,{children:r.jsx(Dx,{interactions:c,interactionIds:s,stateMachineController:t,animationSetting:"delay"})}),r.jsx(FU,{interactions:c,interactionIds:s,stateMachineController:t})]})]})]})},xOt=A(({close:s,...t})=>r.jsxs($f,{children:[r.jsx(EOt,{...t}),r.jsx(As,{"aria-label":"Close",onPress:s,children:po})]})),EOt=A(({currentEase:s,currentEaseDirection:t,stateMachineController:e,interactionIds:i})=>{const n=[];let o="";for(const l of Object.values(Qe)){const c=yOt[l];if(l===Qe.ELASTIC||l===Qe.POWER1){const h=COt[l];for(const d of h){const u=bOt[d],f=l===Qe.POWER1||l===Qe.ELASTIC?Dy[l][d]:Dy[l],p=Ht();n.push({id:p,type:l,direction:d,displayName:`${c} ${u}`,icon:f}),s===l&&t===d&&(o=p)}}else{const h=Dy[l],d=Ht();n.push({id:d,type:l,direction:void 0,displayName:`${c}`,icon:h}),s===l&&(o=d)}}const a=(l,c)=>{e.recordBeforeInteraction();const h=l===Qe.CUSTOM?eet:void 0,d={ease:l,easeDirection:c,customEaseSVGPath:h};e.updateInteractions(i,null,d)};return r.jsx(Ys,{label:"Animation curve",variant:"title",className:"w-full",items:n,selectedKey:o,onSelectionChange:l=>{const c=n.find(h=>h.id===l);c&&a(c.type,c.direction)},children:l=>r.jsx(se,{id:l.id,textValue:l.displayName,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(De,{variant:"secondary",children:l.icon}),r.jsx("span",{className:"overflow-hidden text-ellipsis whitespace-nowrap pr-2 text-left",children:l.displayName})]})})})}),kU=A(wOt),SOt=({id:s,setIsSelected:t,selectedHandleIds:e,onMoveStart:i,onMove:n,onMoveEnd:o,positionLabel:a,onDoubleClick:l,onPointerDown:c,style:h,className:d,shouldDrawAllBorders:u})=>{const f=m.useRef(null),{moveProps:p}=zy({onMoveStart(){i()},onMoveEnd(){o()},onMove(v){n(v)}});tc(f,()=>t(!1));const g=e.has(s),_=a==="left"?"border-t-transparent border-r-transparent":"border-l-transparent border-b-transparent";return r.jsx("div",{className:`group p-1 ${d||""}`,...p,onDoubleClick:l,style:h??{},"aria-hidden":"true",ref:f,children:r.jsx("div",{className:`rotate-45 border-2 border-solid ${u?"":_} ${g?"border-lime/20":"border-secondary"}`,onPointerDown:c,children:r.jsx("div",{className:`h-2 w-2 ${g?"bg-lime":"bg-gray-20"}`})})})},pM=A(SOt),mM=({value:s,label:t,onUpdateValue:e,className:i,onBegin:n,onEnd:o,maxValue:a,isDisabled:l})=>{const[c,h]=m.useState(!1),d=m.useRef(null),u=()=>h(!1);tc(d,u);const f=g=>{h(!0),g.stopPropagation()},p=()=>{o(),u()};return c?r.jsx("div",{ref:d,className:i,children:r.jsx(xr,{value:s,minValue:0,maxValue:a,sensitivity:.1,step:.1,"aria-label":t,className:"!w-[30px] !shadow-none [&_input]:!p-0 [&_input]:!text-lime",onChange:e,autoFocus:!0,shouldSelectOnFocus:!0,shouldHideLabel:!0,onBegin:n,onEnd:p,onBlur:u,formatOptions:{style:"unit",unit:"second",unitDisplay:"narrow",maximumFractionDigits:1,minimumFractionDigits:1}})}):r.jsxs("div",{className:`${i} ${l?"":"hover:cursor-text hover:bg-white/10"} px-0.5`,onClick:f,"aria-hidden":"true",children:[s.toFixed(1),"s"]})},IOt={[Qe.POWER1]:"Ease",[Qe.ELASTIC]:"Elastic",[Qe.LINEAR]:"Linear",[Qe.CUSTOM]:"Custom"},AOt=100,TOt=40,gM=16,POt=({animation:s,interactionId:t,interactionsComponent:e,stateMachineController:i,className:n,selectedHandleIds:o,positionAndLabels:a,isPopupVisible:l,setIsPopupVisible:c,timelineController:h,scrollIntoView:d})=>{const u=`${s.id}:left`,f=`${s.id}:right`,p=m.useRef(null),g=m.useRef(null),_=m.useRef(!1),[v,y]=m.useState(!1),{setIsOverlayActive:b}=m.useContext(Q8);m.useEffect(()=>{b(!l)},[l,b]);const C=m.useCallback((ct,nt)=>{if(nt)h.selectedTimelineHandleIds=new Set(h.selectedTimelineHandleIds).add(ct);else{const ot=new Set(h.selectedTimelineHandleIds);ot.delete(ct),h.selectedTimelineHandleIds=ot}},[h]);m.useEffect(()=>{const ct=nt=>{g.current&&g.current.contains(nt.target)||(C(u,!1),C(f,!1))};return window.addEventListener("mousedown",ct),()=>{window.removeEventListener("mousedown",ct)}},[u,C,f]);const x=ct=>{h.selectedTimelineHandleIds=ct},I=ct=>()=>{h.setMoveContext([ct],{left:a.left,right:a.right}),Hs.close(),y(!0)},O=ct=>nt=>{const ot=ct==="left"?"right":"left",Et=`${s.id}:${ot}`,Ot=h.selectedTimelineHandleIds.has(Et);h.updateSelectedPositions(s.id,ct,nt.deltaX,Ot)},T=()=>{h.saveUpdatedTimelinePositions(),y(!1)},{moveProps:D}=zy({onMoveStart(){h.setMoveContext([u,f],{left:a.left,right:a.right}),Hs.close()},onMoveEnd(ct){if(setTimeout(()=>_.current=!1,0),h.saveUpdatedTimelinePositions(),p.current){const nt=p.current.getBoundingClientRect();d(nt)}},onMove(ct){Math.abs(ct.deltaX)>1&&(_.current=!0),h.updateSelectedPositions(s.id,"left",ct.deltaX,!0)}}),{onPointerDown:B,...F}=D,k=ct=>{X([u,f])(ct),B&&B(ct)},Y=ct=>{if(!(_.current||ct.shiftKey))if(l)Hs.close();else{const nt=new Set([t]);Hs.open({content:r.jsx(kU,{interactionIds:nt,stateMachineController:i,onClose:Hs.close,shouldShowExtraSettings:!0}),option:{ref:g,width:204,spot:Ds.CENTER_TOP,onClose:()=>{c(!1)}}}),c(!0)}},G=()=>{i.isEditingTextInput=!0,i.recordBeforeInteraction(e)},st=ct=>nt=>{if(isNaN(nt))return;const ot={duration:s.duration,delay:s.delay??0};ot[ct]=nt;const Et=e.get(t);if(Et==null)return;const{trigger:Ot,animations:ut}=Et,yt={...ut,[s.id]:{...s,duration:ot.duration,delay:ot.delay}};e.updateInteraction(t,Ot,yt),i.dispatchAndRecordAfterInteraction(!1,e)},$=()=>{i.isEditingTextInput=!1,i.recordAfterInteraction(e)},X=ct=>nt=>{if(!nt.shiftKey&&(!h.wasLastSelectionMulti||!h.selectedTimelineHandleIds.has(ct[0])))x(new Set(ct));else{nt.shiftKey?h.wasLastSelectionMulti=!0:h.wasLastSelectionMulti=!1;for(const ot of ct)C(ot,!0)}},q=ct=>nt=>{C(ct,nt)},at=o.has(u)||o.has(f),bt=Math.max(0,a.right-a.left),lt=()=>{p&&p.current&&p.current.focus()};return r.jsxs("div",{className:`left relative flex items-center justify-between ${bt===0?"flex-column mt-0.5":"flex-row"} ${n??""}`,style:{left:a.left-gM/4,width:bt===0?0:bt+gM*1.25},role:"button",tabIndex:0,"aria-hidden":"true",onClick:lt,ref:p,children:[r.jsx(mM,{value:a.delay,maxValue:Nx-s.duration,onUpdateValue:st("delay"),className:"absolute left-0 -translate-x-full !text-right text-body2 text-white/60",onBegin:G,onEnd:$,label:"delay",isDisabled:v}),r.jsx(pM,{onMoveStart:I(u),onMove:O("left"),onMoveEnd:T,positionLabel:"left",onDoubleClick:Y,onPointerDown:X([u]),className:"z-2",shouldDrawAllBorders:bt===0,id:u,selectedHandleIds:o,setIsSelected:q(u)}),r.jsx("div",{className:`-mx-2.5 flex h-4 w-full justify-center ${at?"bg-lime/20":"bg-secondary"}`,"aria-hidden":"true",ref:g,...F,onPointerDown:k,children:r.jsxs("button",{className:"flex w-fit flex-row items-center justify-center","aria-hidden":"true",onClick:Y,children:[bt>=AOt&&r.jsx("div",{className:"mr-1 text-body2",children:IOt[s.ease??Qe.POWER1]}),bt>=TOt&&La]})}),r.jsx(pM,{onMove:O("right"),onMoveStart:I(f),onMoveEnd:T,positionLabel:"right",onDoubleClick:Y,onPointerDown:X([f]),className:bt===0?"z-1 -mt-3":"z-1",shouldDrawAllBorders:bt===0,id:f,selectedHandleIds:o,setIsSelected:q(f)}),r.jsx(mM,{value:a.duration,onUpdateValue:st("duration"),maxValue:Nx-(s.delay??0),onBegin:G,onEnd:$,className:`absolute right-0 text-left text-body2 text-white/60 ${bt===0?"translate-x-[calc(100%+1.25rem)]":"translate-x-full"}`,label:"duration",isDisabled:v})]})},OOt=A(POt),MOt=({timelineController:s,animation:t,name:e})=>r.jsx("div",{className:"h-full w-32 border-r border-solid border-white/10 pt-0.5",children:r.jsx("button",{className:"max-w-[8rem] truncate text-left text-t-secondary hover:text-white",onPointerEnter:()=>{s.handleAnimationEntityHoverEnter(t)},onPointerLeave:()=>{s.handleAnimationEntityHoverLeave(t)},onPointerDown:()=>{s.handleAnimationEntitySelect(t)},children:e})}),LOt=({currentActiveStateLabel:s,fromStateLabel:t,toStateLabel:e,onClickFromState:i,onClickToState:n})=>{const o=s===t?"text-white":"",a=s===e?"text-white":"";return r.jsxs("div",{className:"grid w-32 grid-flow-row grid-cols-timelineStates items-center text-t-secondary",children:[r.jsx("div",{className:`mr-1 pl-4 hover:text-white ${o} truncate`,onClick:i,"aria-hidden":!0,children:t}),r.jsx("div",{className:"h-5 w-5",children:yot}),r.jsx("div",{className:`ml-1 hover:text-white ${a} truncate`,onClick:n,"aria-hidden":!0,children:e})]})},ROt=({animation:s,name:t,timelineController:e,stateMachineController:i,fromStateLabel:n,toStateLabel:o,className:a})=>{const{dndData:l,setDndData:c}=Pt(),h=m.useRef(null),d=m.useRef(null),{dragProps:u,isDragging:f}=Ab({preview:h,hasDragButton:!0,getItems:()=>[],onDragStart(){c(ai.TIMELINE)}});let{dropProps:p}=Jx({ref:d,onDrop:()=>{var I;if(l!==ai.TIMELINE)return;const C=(I=e.animationDropTarget)==null?void 0:I.position;if(C==null)return;const x=C===Er.BOTTOM?ns.AFTER:ns.BEFORE;e.animationDropTarget=null,e.reorderSelectedAnimationRows(s.id,x)},onDropMove(C){var O;if(l!==ai.TIMELINE)return;const I=(((O=d.current)==null?void 0:O.clientHeight)??0)/2;C.y<I?e.animationDropTarget={animationId:s.id,position:Er.TOP}:e.animationDropTarget={animationId:s.id,position:Er.BOTTOM}},onDropExit(){e.animationDropTarget=null}});p=f?{}:p;const g=hn({onPointerDown:C=>{let x=$t.REPLACE;C.shiftKey?x=$t.ADD:(C.ctrlKey||C.metaKey)&&(x=$t.TOGGLE),!(e.selectedAnimationRows.has(s.id)&&x===$t.REPLACE)&&e.onSelectTimelineRow(s.id,x)}},p),_=(C,x)=>()=>{if(Ur(C)){const I=C.sceneEntityId;i.setActiveStateForEntity(I,x)}else eb(C)&&i.setActiveStateForEntity(ci,x)},v=C=>{if(Ur(C)){const x=C.sceneEntityId;return e.currentStateLabelForEntity(x)}else return e.currentStateLabelForEntity(ci)},y=m.useCallback(C=>{C.shiftKey||C.metaKey||C.ctrlKey||e.onSelectTimelineRow(s.id,$t.REPLACE)},[e,s.id]),b=m.useMemo(()=>{const C=e.animationDropTarget;return(C==null?void 0:C.position)==null||(C==null?void 0:C.animationId)!==s.id?"":C.position===Er.TOP?"shadow-dropAbove":"shadow-dropBelow"},[e.animationDropTarget,s.id]);return r.jsxs("div",{className:`${a} group h-6 w-72 border-b border-solid border-white/10 first:border-t ${b} flex flex-row items-center`,...g,onClick:y,"aria-hidden":"true",ref:d,children:[r.jsx("div",{className:"p-1 opacity-0 hover:!opacity-100 group-hover:opacity-60","aria-label":"Drag to reorder",...u,children:WR}),r.jsxs("div",{className:"grid grid-flow-row grid-cols-timelineAnimationData items-center",children:[r.jsx(MOt,{timelineController:e,animation:s,name:t}),r.jsx(LOt,{fromStateLabel:n,toStateLabel:o,onClickFromState:_(s,s.fromStateId),onClickToState:_(s,s.toStateId),currentActiveStateLabel:v(s)})]}),r.jsx(XL,{ref:h,children:()=>r.jsx("div",{className:"flex w-[66vw] flex-row items-center border border-solid border-white/10 bg-lime/20 text-t-secondary",children:r.jsx("div",{className:"px-4 py-1",children:t})})})]})},NOt=A(ROt),jOt=[...Array(Nx).keys()],_M=320,DOt=()=>r.jsxs("div",{className:"pointer-events-none sticky top-0 z-[2] flex flex-row items-center justify-between bg-panel",children:[r.jsxs("div",{className:"fixed flex w-72 flex-row border-r border-solid border-border bg-panel pl-4 text-white/60",children:[r.jsx("div",{className:"ml-2 w-32 border-r border-solid border-border pb-2",children:"Object"}),r.jsx("div",{className:"ml-4 pb-2",children:"State transition"})]}),r.jsx("div",{className:"ml-80 flex flex-row items-center justify-between pb-2",children:jOt.map(s=>r.jsxs("div",{style:{minWidth:p_},children:[s,r.jsx("span",{className:"text-white/60",children:"s"})]},s))})]}),FOt=({timelineController:s,stateMachineController:t})=>{const e=t.statesComponents.map(g=>g.entity),i=m.useRef(null),n=m.useRef(null),o=s.selectedTimelineHandleIds,[a,l]=m.useState(!1),c=m.useRef(null);m.useEffect(()=>{i&&i.current&&s.addKeyListeners(i.current)},[s]),tc(n,()=>{s.deselectAnimationRows()});const h=m.useMemo(()=>s.isSceneEntitySelected?as.getEntries(z0).map(([_,v])=>{const y=s.selectedTriggerEvent===_?ps:s.hasTriggerEvent(e[0].id,_)?P4:null;return{id:_,text:v,iconLeft:r.jsx(r.Fragment,{children:y}),onClick:()=>{s.selectedTriggerEvent=_}}}):[{id:Wt.AUTO,text:z0[Wt.AUTO]}],[s,e,s.selectedTriggerEvent]),d=()=>{Ft("toggle-timeline-view",{isExpanded:!s.isTimelineExpanded}),s.isTimelineExpanded=!s.isTimelineExpanded},u=g=>{if(c.current==null)return;const _=c.current.getBoundingClientRect();if(g.right>window.innerWidth||g.left<_.left+_M){const v=g.left-_.left-_M+c.current.scrollLeft;c.current.scrollTo({left:v,behavior:"smooth"})}},f=m.useMemo(()=>r.jsx(DOt,{}),[]);let p=s.isSceneEntitySelected?e[0].name:"Scene";return e.length>1&&(p=`${e.length} Objects`),r.jsx("div",{className:W("absolute right-0 top-0 z-panel pb-2 pr-2",{"bottom-0 w-2/3":s.isTimelineExpanded,"bottom-50":!s.isTimelineExpanded}),ref:i,children:s.isTimelineExpanded?r.jsxs("div",{className:"h-full rounded-panel border border-solid border-border bg-panel pt-4 shadow-popover",children:[r.jsxs("div",{className:"ml-2 flex flex-row items-center",children:[r.jsx(jY,{round:!0,className:"-my-1.5 !h-8 !w-8",onPress:d,children:XJ}),r.jsx(Ze,{className:"mr-2 w-40 overflow-hidden text-ellipsis whitespace-nowrap font-bold",children:p}),r.jsx(Sr,{options:h,width:120,itemStyle:{gap:"6px",padding:"8px"},children:r.jsxs("div",{className:"flex flex-row items-center text-body1 text-t-secondary",children:[r.jsx("div",{className:"mr-2 text-body1",children:z0[s.selectedTriggerEvent]}),La]})})]}),r.jsx("div",{className:"h-full pt-4",children:r.jsxs("div",{className:"flex h-full w-full flex-grow flex-col overflow-auto",ref:c,children:[r.jsxs("div",{className:"relative",style:{width:`calc(${Th}px + 23rem)`},children:[f,r.jsxs("div",{className:"mt-[1px] flex flex-row items-start",children:[r.jsx("div",{className:`sticky left-0 z-[1] flex flex-col border-r border-solid border-border bg-panel text-body2 ${s.timelineAnimations.length>0?"min-w-[18rem]":""}`,ref:n,children:s.timelineAnimations.map(({name:g,interactionId:_,fromStateLabel:v,toStateLabel:y,animation:b})=>r.jsx(NOt,{className:s.selectedAnimationRows.has(b.id)?"bg-lime/20":"",animation:b,fromStateLabel:v,toStateLabel:y,name:g,stateMachineController:t,timelineController:s},_))}),r.jsx("div",{className:"w-full",children:s.timelineAnimations.map(({interactionId:g,animation:_,...v})=>{var x;const y=s.timelinePositionsByAnimationId.get(_.id);let b="";((x=s.animationDropTarget)==null?void 0:x.animationId)===_.id&&(b=s.animationDropTarget.position===Er.TOP?"shadow-dropAbove":"shadow-dropBelow");const C=s.selectedAnimationRows.has(_.id)?"bg-lime/20":"";return y==null?null:r.jsx("div",{className:`flex h-6 w-full items-center border-b border-solid border-white/10 px-9 first:border-t ${C}
                              ${b}
                            `,children:r.jsx(OOt,{...v,animation:_,interactionId:g,stateMachineController:t,timelineController:s,isPopupVisible:a,setIsPopupVisible:l,selectedHandleIds:o,positionAndLabels:y,scrollIntoView:u})},g)})})]})]}),s.timelineAnimations.length===0&&r.jsx("div",{className:"flex h-[158px] w-full items-center justify-center overflow-y-hidden",children:r.jsxs("div",{className:"fixed text-center text-body2 text-placeholder",children:[r.jsx("div",{className:"font-bold",children:e.length>1?"Timeline is only available for single selections":"No animations for this trigger yet"}),r.jsx("div",{className:"max-w-[13.5rem]",children:"All animations triggered by this object will show up in a timeline here"})]})})]})})]}):r.jsx("div",{className:"flex pt-2",children:r.jsx(Tt,{variant:"secondary",size:"sm",className:"!h-9 rounded bg-gray-70",onClick:d,disabled:t.interactionsComponents.length>1,leftIcon:OQ,children:"Show timeline"})})})},BOt=A(FOt),kOt=({editor:s})=>r.jsxs("div",{className:"relative h-full",children:[r.jsx(NK,{children:r.jsx(QZt,{interactionsComponents:s.stateMachineController.interactionsComponents,stateMachineController:s.stateMachineController,sceneEntitiesById:s.sceneController.sceneEntitiesById,sceneController:s.sceneController,timelineController:s.timelineController})}),r.jsx(BOt,{stateMachineController:s.stateMachineController,timelineController:s.timelineController})]}),GOt=({editor:s})=>!s.isUIVisible||s.accessController.isGuest?null:r.jsx(R1,{className:"flex-shrink-0 flex-grow-0 bg-gray-80",children:r.jsxs(uc,{children:[r.jsx(Io,{isFixedSize:!0,children:r.jsxs(ae,{size:"sm",className:"flex justify-between","aria-label":"Bottom bar",children:[r.jsx("div",{className:W("flex items-center"),children:r.jsx(VOt,{editor:s})}),r.jsx(NPt,{editor:s})]})}),r.jsx(wC,{}),r.jsx(HOt,{editor:s})]})}),VOt=A(s=>r.jsxs(r.Fragment,{children:[r.jsx(sw,{command:de[lo.LIBRARY],...s}),r.jsx(sw,{command:de[lo.STATE_MACHINE],...s}),r.jsx(sw,{command:de[lo.PERFORMANCE],...s,children:r.jsx(UOt,{...s})}),r.jsx(sw,{command:de[lo.GEN_AI],...s})]})),HOt=A(({editor:s})=>{const{activeBottomBar:t}=s;if(!s.isUIVisible||s.accessController.isGuest||s.activeBottomBar===null||s instanceof f_)return null;const e=s.preferencesController.get("bottomPanelHeight");return r.jsxs(VZt,{height:e,children:[t===lo.LIBRARY&&r.jsx(LPt,{editor:s}),t===lo.STATE_MACHINE&&r.jsx(kOt,{editor:s}),t===lo.PERFORMANCE&&r.jsx(sOt,{editor:s}),t===lo.GEN_AI&&r.jsx(oPt,{editor:s})]})}),sw=A(({editor:s,command:t,children:e})=>{const i=h=>{wt(t.id),Ft(t.id.replace(".","-"))},n=`${t.id}-label`,{id:o,icon:a,label:l}=t,c=s.activeBottomBar===o;return r.jsxs(zot,{isActive:c,onPress:i,size:"sm",rounded:!0,"aria-labelledby":n,children:[r.jsx(De,{variant:"inherit",children:a}),r.jsx(C3,{id:n,children:l}),e]})}),UOt=A(({editor:s})=>{const{hasSceneLevelWarning:t,sceneLevelWarningsForAnalytics:e}=s.performanceInsights;return t?(Ft("performance-scene-level-warnings",e),r.jsx(De,{variant:"warning",children:Q0})):null}),zOt=A(GOt),YOt="_commandCenterContainer_1jzzd_1",WOt="_commandCenter_1jzzd_1",XOt="_commandCenterFlyoutContent_1jzzd_25",ZOt="_commandCenterFlyoutItem_1jzzd_36",KOt="_commandCenterFlyoutItemOverlay_1jzzd_50",qOt="_commandCenterFlyoutItemIconPlace_1jzzd_60",QOt="_divideBefore_1jzzd_63",JOt="_normal_1jzzd_66",$Ot="_hovered_1jzzd_69",tMt="_commandBar_1jzzd_88",eMt="_commandBarInput_1jzzd_95",sMt="_commandCenterScrollableContent_1jzzd_106",iMt="_commandCenterItem_1jzzd_118",nMt="_commandCenterItemLeft_1jzzd_139",oMt="_commandCenterItemIcon_1jzzd_145",rMt="_commandCenterItemCategory_1jzzd_149",aMt="_commandCenterItemRight_1jzzd_152",nn={commandCenterContainer:YOt,commandCenter:WOt,commandCenterFlyoutContent:XOt,commandCenterFlyoutItem:ZOt,commandCenterFlyoutItemOverlay:KOt,commandCenterFlyoutItemIconPlace:qOt,divideBefore:QOt,normal:JOt,hovered:$Ot,commandBar:tMt,commandBarInput:eMt,commandCenterScrollableContent:sMt,commandCenterItem:iMt,commandCenterItemLeft:nMt,commandCenterItemIcon:oMt,commandCenterItemCategory:rMt,commandCenterItemRight:aMt},lMt=({selected:s=!1})=>{var i;const{activeTourStep:t}=Pt(),e=m.useCallback(()=>{wt(de[R.commandPalette.TOGGLE].id)},[]);return r.jsx(qi,{text:"Search",shortcut:(i=de[R.commandPalette.TOGGLE].defaultKeys)==null?void 0:i[0],disableOnHover:s,children:r.jsx(Tn,{"data-tour-step":li.TRY_COMMAND_CENTER,mode:t===li.TRY_COMMAND_CENTER?"primary":void 0,icon:AR,dataTestId:"logoMenuButton",selected:s,cornered:!0,onClick:e})})},GU=A(lMt),cMt=({onClick:s,className:t})=>r.jsx(qi,{text:"Clear",children:r.jsx(Tn,{className:t,icon:CR,selected:!1,disabled:!1,onClick:s})}),hMt=A(cMt),dMt=({searchText:s,prefix:t,onChangeSearchText:e,onClear:i})=>{const n=m.useRef(null);m.useEffect(()=>{var h;(h=n.current)==null||h.focus()},[n,s]);function o(h){h.stopPropagation()}function a(h){h.stopPropagation(),e(h.target.value)}function l(h){h.stopPropagation()}function c(h){h.code==="Backspace"&&t&&s===""&&i()}return r.jsxs("div",{className:nn.commandBar,children:[r.jsx(GU,{selected:!0}),(t==null?void 0:t.length)&&r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"w-32 overflow-hidden text-ellipsis whitespace-nowrap text-body2",children:t}),r.jsx(Oi,{icon:q0,fill:!0,color:"gray"})]}),r.jsx("input",{ref:n,id:"commandBarInput",className:W("w-0 flex-grow",{[nn.commandBarInput]:!0,body2:!0}),maxLength:150,autoComplete:"off",spellCheck:!1,placeholder:t?"Search":"Search commands",value:s,onChange:a,onFocus:o,onBlur:l,onKeyDown:c}),s.length>0?r.jsx(K,{color:"secondary",children:"- Spacebar to select"}):null,r.jsx(hMt,{className:"!ml-auto",onClick:i})]})},uMt=A(dMt),fMt=({option:{id:s,children:t,iconLeft:e,iconRight:i,divideBefore:n,options:o,disabled:a=!1,onClick:l},selectedSubIndex:c,setSelectedSubIndex:h})=>{const d=m.useCallback(()=>{a||h(s)},[a,s,h]),u=m.useCallback(f=>{f.stopPropagation(),!a&&(l==null||l(f))},[a,l]);return r.jsxs("div",{className:W(nn.commandCenterFlyoutItem,{[nn.divideBefore]:n,[nn.hovered]:o&&c===s,[nn.disabled]:a}),children:[typeof e=="string"||!e?r.jsx("span",{className:nn.commandCenterFlyoutItemIconPlace,children:e}):r.jsx(Oi,{className:nn.commandCenterFlyoutItemIcon,icon:e}),r.jsx("p",{children:t}),i&&(typeof i=="string"?r.jsx(K,{color:"secondary",children:i}):r.jsx(Oi,{className:nn.commandCenterFlyoutItemIcon,icon:i})),r.jsx("button",{className:nn.commandCenterFlyoutItemOverlay,onMouseEnter:d,onClick:u}),o&&c===s&&!a&&r.jsx(VU,{options:o})]})},VU=({options:s,offset:t=-1})=>{const[e,i]=m.useState();return r.jsx("div",{className:`${nn.commandCenterFlyoutContent}`,style:{top:`calc(40px * ${t+1})`},children:s.map(n=>r.jsx(fMt,{option:n,selectedSubIndex:e,setSelectedSubIndex:i},`command-center-flyout-menu-item-${n.id}`))})},pMt=A(VU),HU=m.createContext({selectedIndex:0,onChangeSelectedIndex:s=>{}}),mMt=({closeOnSelect:s=!0,iconLeft:t,iconRight:e,backgroundColor:i,secondaryText:n,secondLineText:o,alias:a,onClick:l,children:c,options:h,divideBefore:d,index:u,onChangeOpen:f,disabled:p,dataTestId:g})=>{const{selectedIndex:_,onChangeSelectedIndex:v}=m.useContext(HU),y=m.useCallback(C=>{p||(l==null||l(C),s&&f(!1))},[p,l,s,f]),b=m.useCallback(C=>{v(C)},[v]);return r.jsxs("button",{className:W({[nn.commandCenterItem]:!0,[nn.hovered]:_===u,[nn.normal]:!0,[nn.divideBefore]:d,"pointer-events-none opacity-30":p}),"data-close-on-select":s,onClick:y,onMouseEnter:()=>b(u),"data-testid":g,"aria-label":g,children:[r.jsxs("div",{className:`${nn.commandCenterItemLeft}`,children:[r.jsx("div",{className:`${nn.commandCenterItemIcon}`,children:t&&r.jsx(Oi,{icon:t,style:{background:i,width:"24px",height:"24px",borderRadius:"4px",padding:"4px"}})}),r.jsxs("div",{className:"flex flex-col items-start justify-center",children:[r.jsxs("div",{className:"flex items-center justify-start gap-2",children:[r.jsx(K,{children:c}),n&&r.jsx("span",{className:nn.commandCenterItemCategory,children:r.jsx(K,{color:"secondary",children:n})})]}),o&&r.jsx("span",{className:nn.commandCenterItemCategory,children:r.jsx(K,{className:"underline underline-offset-2",color:"secondary",children:o})})]})]}),r.jsxs("div",{className:`${nn.commandCenterItemRight}`,children:[e&&(typeof e=="string"?r.jsx(K,{color:"secondary",children:e}):r.jsx(Oi,{className:nn.commandCenterItemItemIcon,icon:e,fill:!0,color:"gray"})),!e&&r.jsx(K,{children:a})]}),h&&_===u&&!p&&r.jsx(pMt,{options:h,offset:u})]})},gMt=A(mMt),_Mt=({searchText:s,searchPrefix:t,onChangeOpen:e,onClear:i,onChangeSearchText:n,onBackspace:o,children:a,page:l})=>{const[c,h]=m.useState(0),d=m.useCallback(p=>{const g=document.querySelectorAll(`.${nn.commandCenterItem}`);let _=0,v=0;p==="down"?(g.forEach((b,C)=>{C===c&&(_=C)}),v=_===g.length-1?0:_+1):p==="up"?(g.forEach((b,C)=>{C===c&&(_=C)}),v=_?_-1:g.length-1):h(0);const y=g[v];y&&typeof v=="number"&&(h(v),y.scrollIntoView({behavior:"smooth",block:v?"center":"end"}))},[c]);m.useEffect(()=>{d()},[s]),m.useEffect(()=>{h(0)},[l]);function u(){var v;const p=document.querySelectorAll(`.${nn.commandCenterItem}`);let g=0;p.forEach((y,b)=>{b===c&&(g=b)});const _=p[g];_&&(_.click(),((v=_.attributes.getNamedItem("data-close-on-select"))==null?void 0:v.value)==="true"&&e(!1))}const f=p=>{p.code==="ArrowDown"?(p.preventDefault(),p.stopPropagation(),d("down")):p.code==="ArrowUp"?(p.preventDefault(),p.stopPropagation(),d("up")):p.key==="Enter"||p.code==="Space"&&!p.shiftKey?(p.preventDefault(),p.stopPropagation(),u()):p.code==="Escape"?(p.preventDefault(),p.stopPropagation(),e(!1)):p.code==="Backspace"&&(o==null||o())};return r.jsxs("div",{role:"menu",tabIndex:0,className:nn.commandCenter,onKeyDown:f,children:[r.jsx(uMt,{searchText:s,prefix:t,onChangeSearchText:n,onClear:i}),r.jsx("div",{className:nn.commandCenterScrollableContent,children:r.jsx(HU.Provider,{value:{selectedIndex:c,onChangeSelectedIndex:h},children:a})})]})},vMt=A(_Mt),yMt=({searchPrefix:s,children:t,onEscape:e,id:i,page:n,returnFocusTo:o,onChangeSearchPrefix:a})=>{const l=n===i;return m.useEffect(()=>{if(e&&l){const c=h=>{h.key==="Escape"&&(h.preventDefault(),h.stopPropagation(),e())};return document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}}},[l,e]),m.useEffect(()=>{l&&a&&a(s)},[s,l,a]),m.useEffect(()=>{if(l){const c=document.getElementById("commandBarInput");c==null||c.focus()}},[l]),l?r.jsx(r.Fragment,{children:t}):null},bMt=A(yMt),CMt=({editor:s})=>s.commandCenterController.isOpen?r.jsx(xMt,{editor:s}):null,wMt=A(CMt),xMt=A(({editor:s})=>{const t=s.commandCenterController,{fileApi:e}=Pt(),[i,n]=m.useState(),o=Ri(),a=m.useRef(null);tc(a,()=>t.close());const l=t.searchText,c=t.page,h=t.commandsAsItems,d=F=>{var $,X;let k=F.iconLeft,Y=F.backgroundColor??void 0;const G=F.divideBefore,st=($=F.options)==null?void 0:$.map(q=>d(q));switch(F.id){case R.viewport.GRID:k=s.fileSettingsController.grid?ps:void 0;break;case R.viewRender.FOG:k=s.sceneController.scene.fog?ps:void 0;break;case R.viewport.TOGGLE_ORTHOGRAPHIC:k=s.fileSettingsController.camera.projection===Xe.ORTHOGRAPHIC?ps:void 0;break;case R.view.TOGGLE_EDITOR_COMMENTS:k=(X=s.commentController)!=null&&X.shouldShowComments?ps:void 0;break;case R.view.TOGGLE_UI:k=s.isUIVisible?ps:void 0;break;case R.perf.TOGGLE_DEV_PERF_PANEL:k=s.isPerfPanelVisible?ps:void 0;break;case R.snap.OFF:k=s.fileSettingsController.isGridSnapEnabled?void 0:ps;break;case R.snap.GRID:k=s.fileSettingsController.isGridSnapEnabled&&s.fileSettingsController.isGridSnapAbsolute?ps:void 0;break;case R.snap.INCREMENT:k=s.fileSettingsController.isGridSnapEnabled&&!s.fileSettingsController.isGridSnapAbsolute?ps:void 0;break;case R.units.METERS:case R.units.MILLIMETERS:case R.units.FEET:case R.units.INCHES:k=s.sceneController.scene.units===uat(F.id)?ps:void 0,Y=void 0;break}return{...F,iconLeft:k,divideBefore:G,backgroundColor:Y,options:st}},u=m.useCallback(async()=>{const F=s.fileController.team;F?(await Tf(F.id)).find(G=>s.profile.id===G.profile)?o.push(Rt[z.TEAM](F.id)):o.push(Rt[z.RECENT]()):s.fileController.creator===s.profile.id?o.push(Rt[z.DRAFTS]()):o.push(Rt[z.DEFAULT]())},[o,s]);r1.newFileFlow=async()=>{const F=s.fileController.team,k=await e.createFile({creator:s.profile.id,team:F==null?void 0:F.id});if(!k.success)return;const Y=k.data;window.open(Rt[z.FILE](Y.id),"_blank"),Ft("new-file")},r1.duplicateFileFlow=async()=>{const F=s.fileController.team,k=Hr({text:"File is being duplicated...",options:{autoHide:!1}},{text:"File duplicated"},{text:"File duplication failed"}),Y=await e.duplicateFile(s.profile.id,s.fileController.id,F==null?void 0:F.id);if(!Y.success){k.fail();return}const G=Y.data;window.open(Rt[z.FILE](G.id),"_self"),k.success(),Ft("duplicate-open-file")};const f=m.useMemo(()=>{const F=Object.values(v5);return h.filter(k=>F.includes(k.id))},[h]),p=m.useMemo(()=>{const F=[Zi.VIEW_DIRECTION,Zi.VIEW_AXES,Zi.RENDER,Dl.HIERARCHY],k=[...Object.values(Zi).filter(Y=>!F.includes(Y)),...Object.values(Dl).filter(Y=>!F.includes(Y))];return[...h.filter(Y=>F.includes(Y.id)),...h.filter(Y=>k.includes(Y.id))]},[h]),g=m.useMemo(()=>{const F=Object.values({...Me,...J0});return h.filter(k=>F.includes(k.id))},[h]),_=m.useMemo(()=>{const F=Object.values(_5);return h.filter(k=>F.includes(k.id))},[h]),v=m.useMemo(()=>{const F=Object.values(ne);return h.filter(k=>F.includes(k.id))},[h]),y=m.useMemo(()=>{const F=Object.values(m5);return h.filter(k=>F.includes(k.id))},[h]),b=m.useMemo(()=>{const F=Object.values(E_);return h.filter(k=>F.includes(k.id))},[h]),C=m.useMemo(()=>{const F=Object.values(jh);return h.filter(k=>F.includes(k.id))},[h]),x=m.useMemo(()=>{const F=Object.values(co);return h.filter(k=>F.includes(k.id)).map(k=>({...k,secondaryText:void 0}))},[h]),I=m.useMemo(()=>[Dt.M,Dt.MM,Dt.CM,Dt.FT,Dt.IN].map(F=>({id:F,children:f0(F),iconLeft:s.sceneController.scene.units===F?ps:void 0,closeOnSelect:!0,alias:mw(F),onClick:()=>{s.sceneController.setUnits(F)}})),[s.sceneController.scene.units]),O=m.useMemo(()=>{const F={id:"backToFiles",children:"Back to files",iconLeft:yR,onClick:u},k=Object.values(kp),Y=h.filter(st=>k.includes(st.id));return[F,...Y]},[h,u]),D=m.useMemo(()=>{let F=[];switch(c){case fs.ROOT:l?F=t.filteredItems:F=Nc(O,l);break;case fs.FILE:F=Nc(f,l);break;case fs.EDIT:F=Nc(g,l);break;case fs.VIEW:F=Nc(p,l);break;case fs.VIEW_DIRECTION:F=Nc(v,l);break;case fs.VIEW_AXES:F=Nc(y,l);break;case fs.VIEW_RENDER:F=Nc(b,l);break;case fs.VIEW_HIERARCHY:F=Nc(C,l);break;case fs.SNAP_MODE:F=Nc(x,l);break;case fs.HELP:F=Nc(_,l);break;case fs.UNITS:F=Nc(I,l);break;default:F=[];break}if(F.find(k=>k.id===R.rootMenu.NOT_FOUND)&&(F=F.filter(k=>k.id!==R.rootMenu.NOT_FOUND)),F.length===0){const k=h.filter(G=>G.id===R.rootMenu.NOT_FOUND)[0];if(!k)return[];F=[];const Y=h.find(G=>G.id===R.bottomBar.GEN_AI);if(Y){const G={...Y};G.children=`Generate "${l}"`,G.onClick=()=>{wt(R.bottomBar.GEN_AI,l)},F.push(G)}k.children="Not what you are looking for?",k.secondLineText="Submit a feature request",k.divideBefore=!0,F.push(k),s.feedbackController.setNotFoundCommand(l)}return F},[c,l,f,g,p,v,y,b,C,x,_,I,t.filteredItems,O,h,s.feedbackController]).map(F=>d(F)),B=m.useCallback(()=>{if(c===fs.ROOT&&l===""){t.close();return}t.setPage(fs.ROOT)},[t,c,l]);return t.isOpen?r.jsx("div",{ref:a,className:nn.commandCenterContainer,style:s.isUIVisible?{}:{top:0},children:r.jsx(vMt,{searchText:l,onChangeSearchText:F=>t.setSearchText(F),onChangeOpen:F=>t.setOpen(F),onClear:B,onBackspace:()=>{l===""&&t.setPage(fs.ROOT)},page:c,searchPrefix:i,children:[fs.ROOT,fs.FILE,fs.EDIT,fs.VIEW,fs.VIEW_DIRECTION,fs.VIEW_AXES,fs.VIEW_RENDER,fs.VIEW_HIERARCHY,fs.SNAP_MODE,fs.HELP,fs.UNITS].map(F=>r.jsx(bMt,{id:F,page:c,searchPrefix:EMt(F),onChangeSearchPrefix:n,onEscape:()=>{c===fs.ROOT?t.close():t.setPage(fs.ROOT)},children:D.map(({id:k,...Y})=>r.jsx(gMt,{dataTestId:k,index:SMt(D,k),...Y,onChangeOpen:G=>{t.setOpen(G)}},k))},F))})}):null});function EMt(s){switch(s){case fs.ROOT:return;case fs.FILE:return"File";case fs.EDIT:return"Edit";case fs.VIEW:return"View";case fs.VIEW_DIRECTION:return"View Direction";case fs.VIEW_AXES:return"Grid axes";case fs.VIEW_RENDER:return"Render";case fs.VIEW_HIERARCHY:return"Hierarchy";case fs.SNAP_MODE:return"Snap Mode";case fs.HELP:return"Help";case fs.UNITS:return"Units"}}function SMt(s,t,e=0){const i=s.findIndex(n=>n.id===t)+e;return i===-1&&console.warn(`${t} not in items`),i}const IMt=222,AMt=146;function TMt({comment:s}){const[t,e]=m.useState(null),[i,n]=m.useState(!1);function o(a){a.stopPropagation(),n(!0)}return m.useEffect(()=>{s.drawing&&t==null&&xs(s.drawing).then(a=>{e(a||null)})},[s.author,s.drawing]),r.jsxs(r.Fragment,{children:[r.jsxs(uB,{children:[r.jsxs("div",{className:"flex w-full flex-row items-center justify-start",children:[r.jsx(hB,{profileID:s.author,className:"pb-1"}),r.jsx(fB,{timestamp:s.createdAt,className:"ml-2"})]}),r.jsx(lB,{message:s.message,drawing:t,onDrawingClick:o,imageWidth:IMt,imageHeight:AMt})]}),i&&s.drawing&&r.jsx(cB,{urlKey:s.drawing,onClose:()=>n(!1)})]})}function UU(s){const[t,e]=m.useState(!1),i=m.useRef(null);m.useEffect(()=>{i.current&&s.autofocus&&!t&&(i.current.focus(),e(!0))},[t,s.autofocus]);function n(){i.current&&(s.onSubmit&&i.current.value!==""&&s.onSubmit(i.current.value),i.current.value="")}function o(){s.commentController.onBeginDrawing()}function a(l){l.stopPropagation(),!l.shiftKey&&l.key==="Enter"&&(n(),l.target.blur())}return s.commentController.mode===_A.DRAWING?null:r.jsxs("div",{className:"z-comment flex min-h-[160px] flex-col bg-gray-80",children:[r.jsx(uB,{children:r.jsx(vA,{onKeyDown:a,ref:i})}),r.jsxs("div",{className:"m-3 flex justify-between gap-x-2",children:[r.jsx(qi,{text:"Draw Comment",children:r.jsx("div",{className:"h-8 w-8",children:r.jsx(Tn,{icon:IQ,mode:"secondary",rounded:!0,height:32,onClick:o,disabled:s.disabled})})}),r.jsx(Tn,{className:"grow",text:"Post",mode:"primary",height:32,width:100,onClick:n,dataTestId:"postCommentButton"})]})]})}function PMt(s){const t=ji(),e=s.commentController.popup;if(!e||!e.parent)return null;function i(d,u){s.commentController.addReply(d,u)}function n(){if(!e||!e.parent)return null;s.commentController.archiveComment(e.parent)}function o(){if(!e||!e.parent)return null;s.commentController.deleteComment(e.parent)}const a=s.commentController.commentsWithReplies[e.parent];if(!a)return null;const l=a.author===(t==null?void 0:t.id),c=[a];if(a.replies.length>0){const d=a.replies.map(u=>s.commentController.commentsWithReplies[u]);c.push(...d)}const h=[];return h.push({id:_t(),text:"Archive",onClick:()=>{n()}}),l&&h.push({id:_t(),text:"Delete",status:"error",onClick:()=>{o()}}),r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute right-[5px] top-[10px]",children:r.jsx(Sr,{options:h,width:140,spot:Ds.RIGHT_BOTTOM,children:r.jsx(W5,{icon:a$,ariaLabel:"More actions"})})}),c.map((d,u)=>r.jsx(TMt,{comment:d},u)),r.jsx(UU,{commentController:s.commentController,onSubmit:d=>{e.parent&&i(e.parent,d)},pinned:!0})]})}const OMt=A(PMt);function MMt(s){const t=s.commentController.popup;if(!t)return null;function e(i){!t||!t.target||s.commentController.addPinnedComment(t.object,t.target,i)}return r.jsx(UU,{commentController:s.commentController,onSubmit:i=>e(i),autofocus:!0,pinned:!0})}const LMt=A(MMt);function RMt(s){const{editor:t}=s,{commentController:e}=t,i=e.popup;if(!i)return null;function n(a){a.stopPropagation()}const o=e.pointerEventsEnabled?"pointer-events-auto":"pointer-events-none";return wb.createPortal(r.jsxs("div",{className:`absolute left-0 top-0 z-popup flex max-h-[400px] min-h-[160px] w-65 flex-col overflow-y-auto rounded-lg border border-solid border-gray-70 bg-gray-90 shadow-menu ${o}`,style:{translate:`${Math.round(e.activeCommentX??i.position.x)}px ${Math.round(e.activeCommentY??i.position.y)}px`},onClick:n,"aria-hidden":"true","data-testid":"commentPopup",children:[i.parent&&r.jsx(OMt,{commentController:e}),!i.parent&&r.jsx(LMt,{commentController:e})]}),document.getElementById("root"))}const zU=A(RMt);var YU=Object.defineProperty,NMt=Object.getOwnPropertyDescriptor,jMt=(s,t,e)=>t in s?YU(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,cC=(s,t,e,i)=>{for(var n=i>1?void 0:i?NMt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&YU(t,e,n),n},DMt=(s,t,e)=>(jMt(s,t+"",e),e),E3=(s=>(s[s.fileUpload=0]="fileUpload",s))(E3||{});class WU{constructor(){DMt(this,"statusItems",[]),vt(this)}}cC([V],WU.prototype,"statusItems",2);const ny=new WU;class Wh{static getStatus(){return ny}static addToStatus(t){Jt(()=>{ny.statusItems.push(t)})}static removeFromStatus(t){Jt(()=>{ny.statusItems=ny.statusItems.filter((e,i)=>e.key!==t)})}static progressStatus(t,e,i){Jt(()=>{const n=ny.statusItems.find(o=>o.key===t);n&&(n.progress=e,n.total=i)})}}cC([M],Wh,"getStatus",1);cC([E],Wh,"addToStatus",1);cC([E],Wh,"removeFromStatus",1);cC([E],Wh,"progressStatus",1);const FMt=({editor:s})=>{const{dndData:t,isDragOver:e,setIsDragOver:i}=Pt(),n=m.useRef(null),o=m.useRef(null),a=m.useMemo(()=>!t||t!==ai.UNDEFINED?!1:e,[t,e]),l=m.useCallback(v=>{const y=new w(0,0,0);new qb(s.sceneController,s.viewportController.mainViewport).loadFiles(v.items,!1,!0,!0,C=>{Wh.addToStatus({key:C.key,type:E3.fileUpload,filename:C.name})},C=>{C&&Wh.removeFromStatus(C.key)},y,C=>{Wh.progressStatus(C.key,C.loaded,C.total)})},[s]),c=m.useCallback(()=>{var v;(v=o.current)==null||v.click()},[]),h=m.useCallback(()=>{var v;(v=n.current)==null||v.click()},[]),d=m.useCallback(v=>{v.preventDefault(),i(!1),v.target.files&&l({items:v.target.files})},[l,i]),u=m.useCallback(v=>{v.preventDefault()},[]),f=m.useCallback(v=>{v.preventDefault()},[]);m.useEffect(()=>(window.addEventListener(it.IMAGE,c),window.addEventListener(it.MODEL,h),()=>{window.removeEventListener(it.IMAGE,c),window.removeEventListener(it.MODEL,h)}),[c,h]);function p(){const v=s.viewportController.mainViewport;return v?v.domElement.getBoundingClientRect():{left:0,top:0,width:0,height:0}}const g=p(),_={width:`${g.width}px`,height:`${g.height}px`,left:`${g.left}px`,top:`${g.top}px`};return a?r.jsx("div",{className:"drag-import-zone pointer-events-none",style:_,onDragOver:u,onDrop:f}):r.jsxs(r.Fragment,{children:[r.jsx("input",{ref:o,className:"hidden",type:"file",accept:Bit,onChange:d,multiple:!0}),r.jsx("input",{ref:n,className:"hidden",type:"file",accept:kit,onChange:d})]})},BMt=m.memo(FMt),kMt=({editor:s})=>{const{authController:{auth:{isDev:t}}}=Pt(),{meshing:e,tool:i}=R,n=[i.LOOP_CUT,i.EXTRUDE,i.INSET,i.BEVEL],o=[e.SELECT_FACE,e.SELECT_EDGE,e.SELECT_VERTEX];function a(d){switch(d){case zl.SELECT_FACE:return Le.FACE;case zl.SELECT_EDGE:return Le.EDGE;case zl.SELECT_VERTEX:return Le.VERTEX;default:return Le.FACE}}const l={width:"1px",height:"24px",background:"var(--gray60)"},c=m.useMemo(()=>{const d=new Set;return t||d.add(it.BEVEL),d},[t]),h=(d,u)=>{wt(it.MESH_SELECT),s.selectionController.setSelectableTypes(u)};return r.jsxs("div",{className:"mesher-toolbar",children:[o.map(d=>{var p;const u=de[d],f=a(d);return r.jsx(qi,{text:u.label,shortcut:(p=u.defaultKeys)==null?void 0:p[0],children:r.jsx(Tn,{icon:u.icon,mode:s.selectionController.currentSelectableTypes.has(f)?s.activeTool.id===it.MESH_SELECT?"primary":"secondary":"",onClick:g=>h(g,f),ariaLabel:u.label,dataTestId:`tool${Dp(u.label)}Button`})},u.id)}),r.jsx("div",{style:l}),n.map(d=>{var f;if(c.has(d))return null;const u=de[d];return r.jsx(qi,{text:u.label,shortcut:((f=u.defaultKeys)==null?void 0:f[0])??u.defaultAlias,children:r.jsx(Tn,{icon:u.icon,selected:s.activeTool.id===u.id,onClick:()=>wt(u.id),ariaLabel:u.label,dataTestId:`tool${Dp(u.label)}Button`})},u.id)}),r.jsx(Tn,{mode:"primary",text:"Done",ariaLabel:"Done",onClick:()=>wt(zl.EXIT),className:"m-1.5 !h-7 rounded !px-2"})]})},GMt=A(kMt),VMt=({editor:s,children:t})=>s.isUIVisible?r.jsx(Io,{className:"mb-panelDivider overflow-hidden rounded-t-none",isFixedSize:!0,children:r.jsx("div",{className:"flex justify-between overflow-hidden",children:t})}):null,XU=A(VMt),HMt=({editor:s})=>{const{activeTourStep:t}=Pt(),{tool:e}=R,n=s.featureFlagService.featureFlags[Uc.ARE_BOOLEANS_ENABLED]?[{label:e.MEASURE,options:[],divideAfter:!0},e.BOOLEAN_SUBTRACT,e.BOOLEAN_UNION,e.BOOLEAN_INTERSECT]:[e.MEASURE];let o=[];if(window.innerWidth<I_)o=[],o.push(e.SELECT,e.COMMENTS);else{o=[],o.push(e.SELECT,e.MOVE),o.push(e.FRAME);const d=[];d.push(e.BOX,e.PLANE,e.SPHERE,e.CYLINDER,e.CONE,{label:e.TEXT,options:[],divideAfter:!0},{label:e.EMPTY,options:[],divideAfter:!0}),d.push(e.GAMEPAD),d.push(e.HUMAN,{label:e.XRRIG,options:[],divideAfter:!0},e.POINT_LIGHT,e.AREA_LIGHT,e.SPOT_LIGHT,{label:e.DIRECTIONAL_LIGHT,options:[],divideAfter:!0}),d.push(e.SOUND),d.push(e.SOUND_SPATIAL),d.push(e.CAMERA,e.IMAGE,e.MODEL),o.push({label:"Objects",options:d,tourStep:li.CREATE_OBJECT},{label:"Draw",defaultIcon:xR,options:[e.PEN,e.LINE]},e.COMMENTS,e.ASSET_LIBRARY,{label:"Tools",defaultIcon:l$,options:n})}const a=m.useCallback(d=>{wt(d)},[]),l=d=>d.map(u=>{const f=u instanceof Object,p=f?u.label:u,{id:g,icon:_,defaultAlias:v,defaultKeys:y,label:b}=de[p];return{id:_t(),iconLeft:_,iconRight:(y==null?void 0:y[0])??v,text:b,accelerator:(y==null?void 0:y[0])??v,onClick:()=>a(g),divideAfter:f&&u.divideAfter}}),c=(d,u)=>oy(d,s.activeTool.id)?de[s.activeTool.id].icon??u:u;function h(d){return s.accessController.hasAccessOf(d.accessLevel)}return s.accessController.hasBeenInitialized?r.jsx("div",{className:"flex",children:o.map(d=>{var p,g;if(d instanceof Object){const _=d.options[0]instanceof Object?d.options[0].label:d.options[0],v=de[_],y=d.defaultIcon??v.icon??wR;return h(v)?r.jsx(Sr,{options:l(d.options),variant:"secondary",width:190,dataTestId:`${oy(d.options,s.activeTool.id)?Dp(s.activeTool.id):Dp(v.id)}Dropdown`,onOpen:()=>aC(d.tourStep),onClose:()=>v3(d.tourStep),children:r.jsx(qi,{text:d.label,children:r.jsx(Tn,{"data-tour-step":d.tourStep,mode:t===d.tourStep?"primary":void 0,icon:c(d.options,y),ariaLabel:Dp(d.label)+"ToolDropdownButton",dataTestId:`${oy(d.options,s.activeTool.id)?Dp(s.activeTool.id):Dp(v.id)}DropdownButton`,cornered:!0,selected:t?!1:oy(d.options,s.activeTool.id),disabled:t?!1:oy(d.options,s.activeTool.id)})})},d.label):null}const u=d,f=de[u];return h(f)?r.jsx(qi,{text:f.label,shortcut:((p=f.defaultKeys)==null?void 0:p[0])??f.defaultAlias,placement:"bottom",children:r.jsxs("div",{"data-tour-step":f.tourStep,className:"relative",children:[r.jsx(Tn,{mode:t===f.tourStep?"primary":void 0,icon:f.icon,dataTestId:`${Dp(f.id)}Button`,selected:t?!1:s.activeTool.id===f.id,disabled:t?!1:s.activeTool.id===f.id,onClick:()=>a(f.id)}),u===it.COMMENTS&&((g=s.commentController)==null?void 0:g.hasUnreadComments)&&r.jsx("div",{className:"absolute right-1.75 top-1.75 h-2.5 w-2.5 rounded-full bg-lime"})]})},f.id):null})}):null};function oy(s,t){return s.some(e=>e===t||e.label===t)}const UMt=A(HMt),zMt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAgSSURBVHgB7d3dbhvHFcDxM7tL9cMqyj5BKMA2WqBA5LsikRLqCeI+QdknkH3Zqq3p2lIubT+B1ScQ/ARm6tbIndUrN5IBMU9QXTRAGnL2dIYUHS5Li1JF0rsz/x9gSFpIsCjOmTlzZndGBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAiTkcA1X3/e6Gf2qRHTFJX9Fzd3fit4p83jvQMRva2qh33b//WXv2h3JWCJBK6f5ncGjd8z0tr46kFbMNXG8e493/j958aY9cykdyRwwQeAEa0Xvk6S7eardl1Q4EdKlw4E3+AnBR8AanR/4lLdXqs9EhTYxLbdh0LH0P+BfSyBCz4A/nbjjx018qRw0adCxw+aggHf+0tiflO4aGT/y7Ww838v+ADwsrTXdm/o6fg1I+k9wUCe6vPCBSPdXtq7LxGIIgA6a+1TtXlxFBBtfnT055ZEbvNot+XSxEbhouqTGHp/L/gy6LhP3uyduPJe4+0FlW76Te9W51b7VCLkiwH5tZVXhQBwvf+L6ztrEokoRoCRXG1xDcBIo//j8Et979JfrW1P9v42t1GkPiNRjQCeW+h57tOfsUunvX7vVugLPpP8xNdm+Unhopv4ut4/qoXCqEYAL83M5Btcr2XxlUXPyp4FsUx8x0UXAJ2133U1zyff6NsxlUU3XrvXOlH2VJVoJr7jogsAL1txCzwRl0WTNH1auOAmvv1aL/hFr2mimwOMbB4/dJNfU0h9cqt3//7zP1y5Ifjqyne1WiNNZV2TvKGp+cCoqbtutmHEfL/aagYrr3VfjRpdcpPS7vCjdI3Vr02edFXybvatPZxHtcqXPd3/WwgA64oDL2/+aV8iFG0AeNMmxOm/e2uXaWi+sfd/mK5Llnzqvlw3Kuu+uiSLcaqih66c9YXk0rlsUPiJr1/0irnsOSmTiKnY+0aS5til+llZtH3ezw1y6EGD16YV0yz0IovtUuqDO1sT/0/u2dVENo4fdlTkmf7HdF7+cufwvB+2mW6737kxfk01j/r28KhHAG/zzd6BawW3x6+5sujaZFl01OhdD99aYA9/NS6VchP8Z321jyd/f8qe00U9Anhpau5aq/5hmbe5eS1b8Tnylk9veqtZy/USn409U1BeLjBNmmzXJNneOHp4mEv+ZJTbD8uexV8+xrLnpOhHAM8/JGOSpFgFUtl3fx0/MlT72QE/KriJ9dsAPuPe+Pt/vbHTlsgRAE7zpF3P7cqrwn1CIYt84jsuynWA/3E6WAg6lFi4CtKvXrcbAgLgY7ceYFdrJ6NnYaNgpFVLa8+5HTziFKiwW0TM3ByhZ3tbsd0MOBLlCDDo9V1JMPrG77nKUS2rnQx3hIhPVCMAvf753BrH4Xe2F/xeQOOiGQH8Qpbr9V/R+N9Njaz7ucHmVw+imQ9FEQB+eDdZ4h/8Zj+gWfwqd5IcxJISBZ8CbR7tPvVVD8HlqXn84ubv70rAgg2A4QPfted+WBf83/y8IPmmtxXqxgFBBsDwtt/8gMY/JwGXSoMLgKn3vOPqAg2CoAKAxr9gAe6jFEwVaJDzD9IeGv/CuAqRn1eFtLt2MAFgV1eekvMvnv8b25+Es41MEAEwfrADlkCltXm0F0QQVH4O4O/rSSZ2d8ByzGsXjfep0gEw9TlXLNOpVdl6eXOnss9SVDYFGk56J/a1x7LVU5GDKk+KKxsAbtJ7j4pPCbjKkL22Utn7hiqZAk3b3Qzvl0q+5Y+jkoqpXABMPdRhHvxeobk+U9WuSZJ1Y8yHwTwkP/7ajGm41/fp3F9bRRfJKrcvkE99Jnc3uzq9++J6sZrRPPm80bd6x6hsS4X5XZ+zrNfuXC82zE+Od9sqMr/U5ftUqFJ3j1ZqBFhM1cc1/hvvLuVtvNl9XNkgmLHz27QNgq9q2q56ZVapSfC0Qx2uxO+Pc+P8Ova0EyarYtbOb8PXbjoyR2e76lVGZQJg2qEOV6U2/8us7/EnTIqa6tW5Vb64yIEXbi7wD5krbVbpsJHqjACZmXupLT/bi38mzb+WiskTvVCq6HLguQd3lQ4bqUQA+N5/EQ+zmzy50AKOGvlAKibRpHGR71PNL/R9l1OdUaAaI8ACen8vSZPPZn2Pn3hXcycJXb/ICm1i0rmmlSNVGQVKHwCLbYDa/PifD889J3juE+/lqc9aofU3Ei5uNb0ao0DpA2DRDTBJzaNpQeB7z83jvUfznngvldE7/rblaSPBUu6itVL6W9RLvQ6w1Ls9z05X8SVPf6hdoqb6ZwOMDA/h66ifzKvUTZr4oF7Ga7v0mWvLVuqVYJvmTVmWs9NVBp+qhGV4pFPLmKUP+PXej7KW+1jaZwZKnQK5/LS66QcGLlJoeJ9KmwLxsEs4XBr0s7KmQaUdAZaa/mChztKgUiptAJD+hKPMaVApUyB/aJ3t1/4lCEZZ06BSjgD9b1P29wlMf7Wc72k5U6A0YY+f0JR0UaycAWD0Q0FQTJqW8j0tZQBwjFGIlBToIj462iX/D1O9jO9t6QIgTRZxfzrKwRIAs6hlh+dQJbkhAGZx+T8BECjNzE+lZMo3AiRSuj8S5sMoI8BMJjdrgiAZLd/zFeV7HsBoR0K7Hx8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGCB/gvI8BXnhlVregAAAABJRU5ErkJggg==",YMt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAkaSURBVHgB7d2BmZs2FMDxd53gOkHpBLlOUHeCphPEmaDXCeJM0OsEd50g6QSmE1wyAe4ETid4RZX4DssCYwxYUv6/7+Pz4bMxsvXQQ4AQAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPJ0I5FR1aJ+2LrZX25ubj7JFdTrcVc/NNN37tEovJfu6umLmz67+fJa631KXa5beSnXK/doniu8l+7Elsk8mnKZ8nyqy7UTzKf+gbb6YisLMRWjntb19FhPe72cWcYHs0y5Mle2e/fdXlq253p6ULuhwtT8b1tmZn5I94NOUem7mGU/Ll1p1Fb8dzpf2bb1tJKExZgC7cU2ycaXusn9VmbgKuOmnt6ceOk/Ypv/Jh1o0h3jtjU1KcXtieU91dP7OVMJtWnOr/V037M+TcpmyraTlzI1ChlerrKe3pIeTaD+8Z5aW5hHmYHadKBrq7h367DWEVtstS3K2i2j7zPeyQzq5d7VU9XxuSZ92YzZarfKVWq3Wcr0VVHbbJvK8+C2ZFMuu9DDfYw288PeT/mZ+rJfUXV85lYnTIvqZb3RcNCVOmGq4r7Hp54yTfq7YQLavWU0z72WmfUEgnnuTi6kNtcPLXslM+kJBPO5hSAOphJoeMs4eSszYF02gfXYXxKEarf8vnKpsqltOX3PSktwfWq3/KEKt5IrcQFZBdZrJWdSuxX2g/tJFua+Z389ZtmHw0AdlaPSCJpnt25VIDDPSocCy/ggV9IRBLOnlwjoqGBRVP5GzzoOSh3U7leMeu9c9Dgduvo6fZX0eOcsqsrf6AiCQUfAA++LYmurxz1tG8FyAltG4+KelrloeD/l/sR7Vt7rS4lEYN0WO6Xlq9exRd1I5PQ4dTC59G3P6/0Wbi0RCbQChWB+gYpRSSL0jNRBbTdjW1R5diCg7wXzclt/TXXLo8epUGcr4L3uWSIT+C2i7BL9RvKy8eafUjpBy11D8GfrKVP5j7acgaD+RyIT+N5nOakRjtrzbqpUt/6NwJbzqBVIZeuaguhaAD3sQVif8VbTBVi05pPa+jfcOpetp0zlXwtmkVMK5J/X/6ek6703/7M375+7H20XL840pgUIpATJ9Px00eNTCm57/t/bZYpuubQAK2++lPT5LZh/lLd90X1z5RbOlEsA+JUj5fSn8dGb/9Gb/8ub52qsHIxMgap2riAZUNurte9K6wL/NzjYdKbkWwC1XZ1F66m/JQN1b5DZ0W2nOYW2unXd///w3va7Jj5Kw9JySIEKb/6T5OOzN+/n+Q9iR3Ro29ISDJdDAPiVopR8+MFctGdcK/CTHAeBaQkelRPQTsqxBfgi+fAD4JX/Anfg7Bc5DoK12NZgLeiUQwD4lSKnFGjnzQfPp3HnEIVagqKeHl0nAS1CQA4BcHAAyKUFWQiU5bue1+7q6Xs5PopsFGJbBBMI/7cKBEOkzu0GrV+z6+oqzMGY8mn/wFVtzUC3r5UjyXEYEQD7cytISrwA2J/53qGBQEDEYkQAtJWSGfWuEpMRdNi4nqcCohDMjwA4NEUAeMtrguGjnj9sehMQK8E8CIBDUwdAYPnmMsx7FxCVDlcpN8qY3oUBEN21sZeaOwACn2cCwrQQZt/hkw6zVVqFaSg7wQf0gp3giT6/aAVEpacDoRCMp3SDHoitfO73ORUM5lQMepHGGBEAB+PjSGa8ihVViqf9N/+oUmgNcjgSfDAkSApf+lCBrei/EpH6yPOTO/r8VsKnYWxj/z1yCAD/dIGcml7/TNcoz3MygVA//CDH1ycUEnkQ5BAAfqXI6dpYP5h3Eilz3lI9mesQfvP+VdRTtOMW5RAAO28+pwBYefPRn+laB4G5SOet9/RKIz0tO8cW4JXkwy/LThLgUiI/HeKi/SF03EXxB33lmkkXnN+rIgnR8EX7K4lMLsOilK2/sxgjJ1BZPktCOi7afy2RySUA/DQoui96hLU3/1HSU3rzOaWn8xiZAt16Te3ipwxMTTMY6drQyE9VyaIFcM1t2XrqNsZ8cyi37kXrqb9THOnaaR+8KyQyOY0OndNQgWtv/qn5Q+3F7c2Uwvg/ybfGi9KR9wfo6HVIbmdYT9wgQw97vKI//VsjP1crmxago9chxVZg481/9EaHaG9RC42/y7do/b0T9NPxd4gJbT01pX0BHXCTP7VXYSVRvkB5SolMVjfJczuKRwPGSjr8G0qHbvPkd4fG3OW78uZzGrRsHpe0AO79oX2BjUSuXsd33jpXGuj6DJQv2iPfaq8zTqK1isalAeCW4d+kOfZU4S6wvuue1z/EHuCa4W2rFjFFALjlbL0fYK8RHkxyFaXy1vXDgPf4ourx0uMBuTaC0yYMgFDFqmIKgkvWUY9bAfO+KFIhPW6Bo/reozZVALhlmdRiH+OP0VH5B7dSGr4x+PO1g0DD6VwKB+ziMGUAuOWtAz9IVU9X6z1xZQyNynbWOnUE+LNeKcA71qcUDDd1ALhlhoLAWHT4DrVb7d8D67HX8Tv8XQG+kgVpuOOhUlKf88wRAG65dxoewqPSBS7XUzvAbNfnX7QDq90B/jh3BVSbym2Vyj+NuQLALbvQ/nFsTEWarEVQu8W/76ggRjlVJXHfW6ULBYK+DJAVcrU0LHk6YwC0PmOj3Uw68kFH3kXFVfq1q3T7ns+YfMdQT98PYKs2IEe1OG75fQFtPEhCbiQyanPX5pSAt+4C6zk+pxB74tmbEy9t7tf72f3dTI1C7K2LmksxixPLe6qn93Oe3+82HO9OrEtTrp3YwcX8com8lM08mrL1tY7m/sybulylYDxdoAXwPq/Zap47Vv45zLIXH0pcbUs0dITnsUwatxJMQxcOgNbnNqnLmBtHhOzdsibdrxhZNtMBYAJwqmAwld6kkYUk7qtNgQash2nyV3LY/JvJv1NjMzZpk06YqXS3Lo2Oq7R3rcmUyTznl8ukQ//KS6rUlK/M6U6cAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADk4D8scMUeevLc6AAAAABJRU5ErkJggg==",WMt=({variant:s,onClick:t,className:e})=>{const[i,n]=m.useState(!1);function o(){n(!0),t==null||t()}return r.jsx(Tt,{size:"sm",variant:s??"primary",onClick:o,leftIcon:i?ps:P$,className:W("!w-20 rounded-sm !px-6",e??""),children:r.jsx(K,{color:s==="secondary"?"secondary":"primary",children:i?"Copied":"Copy link"})})},tv=m.memo(WMt),XMt=({editor:s})=>{const{connectController:t}=Pt(),e=s.fileController,i=m.useCallback(()=>{t.createQRCode()},[t]);m.useEffect(()=>{i()},[i]);const n=m.useMemo(()=>`${window.location.origin}/play/${e.id}`,[e.id]),o=m.useCallback(()=>{navigator.clipboard.writeText(n)},[n]),a=m.useCallback(()=>{Bt.close()},[]),l={letterSpacing:"0.5rem"};return r.jsx("div",{className:"relative flex h-full w-full bg-gray-90",children:r.jsx("div",{className:"flex w-70 flex-col justify-between",children:r.jsxs("div",{className:"flex flex-col justify-between gap-6 p-4",children:[r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("div",{className:"flex flex-row items-center justify-end gap-2",children:[r.jsx(Jd,{weight:"strong",className:"w-full text-left",children:"Open on mobile device"}),r.jsx(cs,{label:"Close",onPress:a,className:"-mr-2 -mt-2",children:po})]}),r.jsx("div",{className:"text-left text-body2",children:"Scan the QR code below."})]}),r.jsx("div",{className:"flex h-40 w-full items-center justify-center gap-4",style:l,children:r.jsx("img",{src:t.qrCode,alt:"QR code",className:"h-40 w-40"})}),r.jsxs("div",{className:"flex flex-row items-center justify-between gap-2",children:[r.jsx("div",{className:"flex h-6.5 w-full cursor-text items-center justify-start border border-border",children:r.jsx("input",{value:n,className:"body2 !pointer-events-auto h-full w-full select-all bg-transparent pl-2 text-white",type:"text",readOnly:!0})}),r.jsx("div",{className:"w-auto",children:r.jsx(tv,{onClick:o})})]}),r.jsxs("div",{className:"flex flex-col justify-between gap-2",children:[r.jsxs("div",{className:"flex items-start justify-start gap-2",children:[r.jsx("div",{className:"h-12 w-12 rounded-lg border border-border",children:r.jsx("img",{src:YMt,alt:"iOS",className:"h-12 w-12"})}),r.jsxs("div",{className:"flex w-47.5 flex-col gap-1",children:[r.jsx(K,{className:"text-left text-white",children:"iOS devices"}),r.jsxs("ol",{className:"list-decimal pl-4 text-body2 opacity-50",children:[r.jsx("li",{children:"Download XR Browser from the App Store on your iOS device."}),r.jsx("li",{children:"Open XR Browser and scan the QR code."})]})]})]}),r.jsxs("div",{className:"flex items-start justify-start gap-2",children:[r.jsx("div",{className:"h-12 w-12 rounded-lg border border-border",children:r.jsx("img",{src:zMt,alt:"Android",className:"h-12 w-12"})}),r.jsxs("div",{className:"flex w-47.5 flex-col gap-1",children:[r.jsx(K,{className:"text-left text-white",children:"Android devices"}),r.jsxs("ol",{className:"list-decimal pl-4 text-body2 opacity-50",children:[r.jsx("li",{children:"Open the file link in Chrome on your Android mobile device."}),r.jsx("li",{children:"Select the AR button."})]})]})]})]})]})})})},ZU=A(XMt);async function vM(){var o;const s=pi.fileID,t=Xt.docClient;if(!s||!t)return null;const e={TableName:a7,IndexName:"syncKeysByFile",KeyConditionExpression:"#file = :f",ExpressionAttributeNames:{"#file":"file"},ExpressionAttributeValues:{":f":s},ScanIndexForward:!1},i=await t.send(new Ti(e));if(!((o=i.Items)!=null&&o[0]))return null;const n={id:"",file:"",createdAt:"",key:""};return n.id=i.Items[0].id,n.file=i.Items[0].file,n.createdAt=i.Items[0].createdAt,n.key=i.Items[0].key,n}async function yM(s){const t=Xt.docClient;return t?(await t.send(new Ho({TableName:a7,Item:{id:s.id,file:s.file,createdAt:s.createdAt,key:s.key}})),!0):!1}async function ZMt(s){const t=he.profileID,e=Xt.docClient;return!e||!t?!1:(await e.send(new zc({TableName:a7,Key:{id:s.id}})),!0)}const KMt="https://www.notion.so/bezi3d/Unity-Integration-Documentation-f897f3ad575c4cfb9e685b51122893c5",qMt=({editor:s})=>{const{integrationsController:t}=Pt(),e=os.gltf,i="bezel_",n=s.fileController,o=m.useMemo(()=>`${window.location.origin}/file/${n.id}`,[n.id]),[a,l]=m.useState(""),[c,h]=m.useState(null),[d,u]=m.useState(!1),[f,p]=m.useState(!1),[g,_]=m.useState(!1),v=m.useCallback(async()=>{h(await vM()),c==null?u(!1):(u(!0),l(c==null?void 0:c.createdAt))},[c]),y=m.useCallback(async()=>{if(await v(),c!=null)return;p(!0);const O=i+n.id,T={shouldExportScene:!0,shouldExportBehavior:!0,shouldValidateOnly:!1,uploadSyncKey:O,title:n.title??"Untitled"},D=await s.sceneController.exportFromBezi(T,e),B={id:n.id,file:n.id,createdAt:I(),key:O};l(B.createdAt);const F=await yM(B);Ft("unity-integration:create-file-link"),D&&F&&(p(!1),u(!0))},[v,s.sceneController,n.id,n.title,e,c]),b=m.useCallback(async()=>{if(await v(),c==null)return;p(!0);const O={shouldExportScene:!0,shouldExportBehavior:!0,shouldValidateOnly:!1,uploadSyncKey:c.key,title:n.title??"Untitled"},T=await s.sceneController.exportFromBezi(O,e);c.createdAt=I(),l(c.createdAt);const D=await yM(c);Ft("unity-integration:update-file-link"),T&&D&&p(!1)},[v,s.sceneController,n.title,e,c]),C=m.useCallback(async()=>{if(await v(),c==null)return;const O=await ZMt(c),T=await nst(c.key);O&&T&&u(!1)},[v,c]);m.useEffect(()=>{v()},[v]),m.useEffect(()=>{async function O(){const T=await vM();d&&T&&l(T.createdAt)}O()},[d]);function x(){navigator.clipboard.writeText(o),_(!0)}function I(){const O=new Date,T=`${O.getFullYear()}/${O.getMonth()+1}/${O.getDate()}`,D=`${O.getHours()}:${O.getMinutes()}:${O.getSeconds()}`;return T+" "+D}return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex flex-col p-4",children:[r.jsx("div",{className:"flex flex-row items-center justify-between",children:r.jsx(K,{weight:"strong",children:"Unity Integration"})}),r.jsx("div",{className:"body2 pt-2 text-white opacity-50",children:"To export your file to Unity, you will need an access token and a file link."})]}),r.jsx("hr",{}),r.jsxs("div",{className:"flex flex-col p-4",children:[r.jsx("div",{className:"flex h-2 flex-row items-center justify-between",children:r.jsx(K,{className:"py-2",weight:"strong",children:"Step 1: Access token"})}),r.jsxs("div",{className:"py-2",children:[r.jsx("div",{className:"body2 text-white opacity-50",children:"Generate a personal access token if you dont already have one."}),r.jsx("div",{className:"pt-2",children:r.jsx(Tt,{variant:"secondary",size:"sm",className:"h-6 grow",onClick:()=>t.isUnityDialogVisible=!0,testid:"open-integration-settings",children:r.jsx(K,{children:"Open integration settings"})})})]}),r.jsx("div",{className:"flex h-8 flex-row items-center justify-between pt-2",children:r.jsx(K,{className:"py-2",weight:"strong",children:"Step 2: File link"})}),r.jsx("div",{className:"pb-2",children:r.jsx("div",{className:"body2 text-white opacity-50",children:"Copy the file link below and paste it into the Bezi Bridge inside Unity."})}),d?r.jsx(r.Fragment,{children:r.jsxs("div",{className:"border border-solid border-border p-1.5",children:[r.jsxs("div",{className:"flex h-auto flex-row items-center justify-between gap-2 py-2",children:[r.jsx("div",{className:"flex h-6.5 w-full max-w-[211px] cursor-text items-center justify-start",children:r.jsxs("div",{className:"body2 text-white opacity-50",children:["Last updated ",a]})}),r.jsx("div",{className:"w-auto",children:r.jsx(Tt,{type:"reset",variant:"auto",rightIcon:XI,size:"sm",className:"h-5 opacity-50",onClick:C})})]}),r.jsx("input",{name:"filelink",value:o,className:"body2 !pointer-events-auto h-full w-full select-all bg-transparent pl-2 text-white",type:"text",readOnly:!0}),f?r.jsxs("div",{className:"justify-left flex items-center",children:[r.jsx(ko,{}),r.jsx(K,{className:"ml-2",children:"Updating the file"})]}):r.jsxs("div",{className:"flex h-auto flex-row items-center justify-between gap-2 py-2",children:[r.jsx("div",{className:"flex h-6.5 w-full max-w-[135px] cursor-text items-center justify-start"}),r.jsx("div",{className:"w-auto",children:r.jsx(Tt,{variant:"secondary",size:"sm",onClick:b,testid:"update-file-link",children:r.jsx(K,{children:"Update"})})}),r.jsx("div",{className:"w-auto",children:r.jsx(Tt,{variant:"primary",size:"sm",className:"h-6 grow",onClick:x,leftIcon:g?xj:void 0,children:r.jsx(K,{children:g?"Copied":"Copy key"})})})]})]})}):f?r.jsxs("div",{className:"justify-left flex items-center",children:[r.jsx(ko,{}),r.jsx(K,{className:"ml-2",children:"Preparing the file link"})]}):r.jsx(r.Fragment,{children:r.jsx("div",{className:"flex h-auto flex-row items-center justify-between gap-2 py-2",children:r.jsx(Tt,{variant:"primary",size:"sm",className:"h-6 grow",onClick:y,testid:"create-file-link",children:r.jsx(K,{children:"Create file link"})})})})]}),r.jsx("hr",{}),r.jsxs("div",{className:"flex flex-col p-4",children:[r.jsx("div",{className:"flex flex-row items-center justify-between pb-2",children:r.jsx(K,{weight:"strong",children:"Need more help?"})}),r.jsx("div",{className:"flex items-center justify-between gap-2",children:r.jsx(Tt,{variant:"secondary",size:"sm",className:"grow",onClick:()=>{window.open(KMt,"_blank")},children:r.jsxs("div",{className:"flex items-center justify-center gap-1",children:[Tb,r.jsx(K,{children:"Documentation"})]})})})]})]})},QMt=A(qMt);var o1;(s=>{function t(f){return new jK(f.getFullYear(),f.getMonth()+1,f.getDate())}s.fromDate=t;function e(f){return new DK(f.getHours(),f.getMinutes())}s.timeFromDate=e;function i(f){return new Date(f.year,f.month-1,f.day)}s.toDate=i;function n(f){return t(new Date(f))}s.fromTimestamp=n;function o(f){return i(f).getTime()}s.toTimestamp=o;function a(f){return f.getTime()}s.toTimestampFromDate=a;function l(){return o(t(new Date))}s.todayTimestamp=l;function c(){const f=new Date;return f.setDate(f.getDate()+1),o(t(f))}s.tomorrowTimestamp=c;function h(f){return f.toLocaleString(void 0,{month:"long"})}s.monthString=h;function d(f){return f.toLocaleString(void 0,{weekday:"long"})}s.dayOfWeekString=d;function u(){var f;return(f=Intl.DateTimeFormat("en",{timeZoneName:"short"}).formatToParts(new Date).find(p=>p.type==="timeZoneName"))==null?void 0:f.value}s.currentTimezone=u})(o1||(o1={}));function JMt({...s}){const t=FK(BK());let e=null;s.selectedDate&&(e=new Date(s.selectedDate));const i=e?o1.fromDate(e):t,n=o=>{s.onDateChange(o1.toDate(o))};return r.jsxs(kK,{"aria-label":"Calendar",minValue:t,defaultValue:i,onChange:n,className:W("p-3",s.className??""),children:[r.jsxs("div",{className:"flex items-center justify-between pb-2",children:[r.jsx(As,{slot:"previous",children:x_}),r.jsx(KL,{className:"text-body2 font-normal"}),r.jsx(As,{slot:"next",children:d5})]}),r.jsx(GK,{children:o=>{const a=o.compare(t)===0;return r.jsx(VK,{date:o,className:({isHovered:l,isSelected:c,isOutsideMonth:h})=>W("flex h-7 w-7 items-center justify-center rounded-sm",o>=t?"text-t-secondary":"text-secondary",a&&"bg-gray-70",h&&"!text-secondary",l&&"bg-primary-faded",c&&"!bg-lime !text-black")})}})]})}const $Mt=JMt;function tLt({...s}){let t=new Date(Date.now());s.selectedDate&&(t=new Date(s.selectedDate));const e=o1.timeFromDate(t),i=o=>{s.onTimeChange(o)},n=o1.currentTimezone();return r.jsxs("div",{className:"flex w-full items-center justify-center gap-2 p-3 pt-0",children:[r.jsx(HK,{className:"w-fit",defaultValue:e,onChange:i,children:r.jsx(UK,{className:"flex items-center justify-center rounded-md border border-solid border-border p-1",children:o=>r.jsx(zK,{segment:o,className:({isHovered:a,isFocused:l})=>W("flex h-6 w-6 items-center justify-center rounded-sm",a&&"bg-primary-faded",l&&"bg-primary-faded")})})}),r.jsx(K,{children:n})]})}const eLt=tLt,sLt=A(s=>{const{triggerRef:t}=s,[e,i]=m.useState(!1),n=xe.useRef(null),[o,a]=m.useState(s.selectedDate);m.useEffect(()=>{if(!s.selectedDate){const f=new Date;f.setDate(f.getDate()+7),a(f.getTime())}},[s.selectedDate]);const l=f=>{s.commandController.isDisabled=f,i(f)};tc(n,()=>{l(!1)});const c=m.useCallback(()=>{o&&s.onDateChange(o)},[o,s]),h=m.useCallback(f=>{let p=new Date;o&&(p=new Date(o)),p.setFullYear(f.getFullYear(),f.getMonth(),f.getDate());const g=p.getTime();a(g)},[o]),d=m.useCallback(f=>{let p=new Date;o&&(p=new Date(o)),p.setHours(f.hour,f.minute);const g=p.getTime();a(g)},[o]),u=f=>{f.stopPropagation(),f.preventDefault(),close(),l(!1)};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex items-center",children:r.jsx(cs,{label:"Date picker",onPress:()=>l(!e),isDisabled:s.isDisabled,children:jtt})}),r.jsx(xm,{isKeyboardDismissDisabled:!0,isNonModal:!0,placement:"bottom left",offset:8,containerPadding:12,triggerRef:t,isOpen:e,onOpenChange:f=>{l(f)},children:r.jsx(jb,{className:"w-picker-popup",ref:n,"aria-label":"Expiration date",children:({close:f})=>r.jsxs(r.Fragment,{children:[r.jsx($f,{label:"Expiration date",children:r.jsx(Db,{close:()=>{f(),l(!1)}})}),r.jsx($Mt,{selectedDate:o,onDateChange:h}),r.jsx(eLt,{selectedDate:o,onTimeChange:d}),r.jsx("div",{className:"flex w-full p-3 pt-0",children:r.jsx(Tt,{variant:"secondary",onClick:p=>{c(),u(p)},className:"!h-8 !w-full rounded-sm",children:"Set expiration"})})]})})})]})}),iLt=({passwordController:s,onSubmit:t})=>{const[e,i]=xe.useState(!1),n=l=>{s.setTempPassword(l.target.value)},o=()=>{s.tempPassword&&(navigator.clipboard.writeText(s.tempPassword),i(!0))},a=()=>{t()};return s.password?r.jsx("div",{className:"flex h-8 items-center justify-start pl-2 pt-1",children:r.jsx(Ze,{weight:"strong",color:"secondary",children:"************"})}):r.jsx("div",{className:W("flex h-8 w-full items-center justify-start rounded",s.isPasswordProtected&&"border border-solid border-transparent",!s.isPasswordProtected&&"border border-solid border-lime"),children:r.jsx(Mi,{type:"text",size:"sm",placeholder:"Password",className:"w-full rounded",value:s.tempPassword??"",onChange:n,rightIcon:s.tempPassword?e?ps:SQ:void 0,onRightIconClick:()=>{s.tempPassword&&o()},onSubmit:a,inputClassName:"tracking-wider"})})},nLt=A(iLt),oLt=({editor:s})=>{const t=Pt(),{passwordController:e,organizationsController:i}=t,[n,o]=m.useState(!1);m.useEffect(()=>{e.getPassword(()=>o(!0))},[e]);const a=xe.useRef(null),c=i.currentOrganization!=null,h=()=>{e.deletePassword()},d=()=>{const _=zd.getFileIdFromUrl();Ft("password-set",{file:_}),e.setPasswordFromTempPassword()},u=()=>{const _=e.generateRandomPassword();e.setTempPassword(_)},f=_=>{const v=zd.getFileIdFromUrl();Ft("password-set-expiration",{file:v}),e.setPasswordExpiration(_)},p=()=>{e.setPasswordExpiration(null)},g=_=>{if(!_)return"Password never expires";const v=new Date(_);return`${v.toLocaleDateString(void 0,{weekday:"long",month:"short",day:"numeric",year:"numeric"})} at ${v.toLocaleTimeString(void 0,{minute:"2-digit",hour:"numeric"})}`};return c?r.jsxs("div",{className:"flex flex-col gap-1 py-2",children:[r.jsx(ii,{children:r.jsx(K,{className:"pl-4",children:"Advanced security for organizations"})}),r.jsx(ii,{children:r.jsx(Pa,{className:"pl-4",variant:"secondary",onChange:_=>{e.setEnabled(_)},isSelected:e.isEnabled,"aria-label":"Password protection enabled",isDisabled:!n,children:r.jsx(K,{color:"secondary",children:n?"Enable viewer access for anyone with a password":"Getting password status..."})})}),e.isEnabled&&r.jsxs(r.Fragment,{children:[r.jsx(ii,{children:r.jsxs("div",{className:"flex w-full items-center justify-between gap-2 px-4 pl-2",children:[r.jsx(nLt,{passwordController:e,onSubmit:d}),r.jsx("div",{className:"flex h-8 items-center justify-center gap-2",children:e.isPasswordProtected?r.jsx(Tt,{size:"sm",className:"!h-8 !w-16",variant:"secondary",onClick:h,children:"Reset"}):r.jsx(Tt,{size:"sm",className:"!h-8 !w-16",variant:"primary",onClick:d,children:"Set"})})]})}),!e.isPasswordProtected&&r.jsx("div",{className:"pl-2",children:r.jsx(Tt,{size:"sm",className:"!w-fit rounded-sm pl-2",variant:"normal",onClick:u,children:r.jsxs("div",{className:"flex gap-3",children:[O$,r.jsx(K,{color:"secondary",children:"Generate password"})]})})}),r.jsx(ii,{children:r.jsxs("div",{className:"flex w-full justify-between px-4 pl-2",children:[r.jsxs("div",{ref:a,className:"flex h-full items-center justify-start gap-1",children:[r.jsx(sLt,{triggerRef:a,selectedDate:e.passwordExpiration,onDateChange:f,commandController:s.commandController,isDisabled:!e.isPasswordProtected}),r.jsx(K,{color:"secondary",children:g(e.passwordExpiration)})]}),e.passwordExpiration&&r.jsx(Tt,{size:"sm",className:"!h-8 !w-16 !text-t-secondary",variant:"normal",onClick:p,children:"Clear"})]})})]})]}):null},rLt=A(oLt);function YS({icon:s,email:t,description:e,accessLevel:i,isAccessEditable:n,fileController:o,isOwner:a}){const[l,c]=m.useState(i),h=[{id:Ht(),text:GC[Z.EDITOR],iconLeft:r.jsx(r.Fragment,{children:l===Z.EDITOR&&ps}),onClick:()=>d(Z.EDITOR)},{id:Ht(),text:GC[Z.VIEWER],iconLeft:r.jsx(r.Fragment,{children:l===Z.VIEWER&&ps}),onClick:()=>d(Z.VIEWER),divideAfter:!0},{id:Ht(),text:"Remove",status:"error",iconLeft:r.jsx(r.Fragment,{}),onClick:()=>u()}];function d(f){if(!t)return;c(f);const p={...o.access,profiles:{...o.access.profiles,[t]:f}};o.setAccess(p)}function u(){if(!t)return;const f={...o.access};delete o.access.profiles[t],o.setAccess(f)}return r.jsxs("div",{className:"flex h-7 items-center justify-between py-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[s?r.jsx("div",{className:"mx-1.75 opacity-50",children:s}):r.jsx(F_,{label:t,size:"sm"}),t&&r.jsx(K,{children:t}),e&&r.jsx(K,{color:"secondary",children:e})]}),a&&r.jsx(K,{className:"pr-2",color:"secondary",children:"Owner"}),!a&&l&&n?r.jsx(Sr,{options:h,width:150,spot:Ds.RIGHT_BOTTOM,children:r.jsxs("div",{className:"flex gap-2 border border-solid border-border p-1.5",children:[r.jsx(K,{children:GC[l]}),La]})}):l?r.jsx(K,{className:"pr-2",color:"secondary",children:GC[l]}):null]})}const iw={[Z.EDITOR]:"Can edit",[Z.VIEWER]:"Can view"},aLt=({editor:s})=>{const t=Pt(),{organizationsController:e}=t,i=s.fileController,n=ji(),[o,a]=m.useState(i.access.general),l=m.useRef(null),[c,h]=m.useState(""),[d,u]=m.useState(!1),[f,p]=m.useState(null),g=m.useMemo(()=>`${window.location.origin}/file/${i.id}`,[i.id]);m.useEffect(()=>{async function T(){const D=i.creator,B=await t.profileApi.getProfile(D);p(B??null)}T()},[t.profileApi,i.creator]),m.useEffect(()=>{Ft("share-popup-open")},[]);function _(){navigator.clipboard.writeText(g)}function v(T){a(T);const D={...i.access};D.general=T,i.setAccess(D)}const y=e.currentOrganization!=null&&s.fileController.organization!=null,b=[{id:Ht(),text:y?"Anyone in the Org with the link":"Anyone with the link",iconLeft:r.jsx(r.Fragment,{children:(o===Z.EDITOR||o===Z.VIEWER)&&ps}),onClick:()=>v(Z.VIEWER)},{id:Ht(),text:"Only invited people can access",iconLeft:r.jsx(r.Fragment,{children:o===Z.NONE&&ps}),onClick:()=>v(Z.NONE)}],C=[{id:Ht(),text:iw[Z.EDITOR],iconLeft:r.jsx(r.Fragment,{children:o===Z.EDITOR&&ps}),onClick:()=>v(Z.EDITOR)},{id:Ht(),text:iw[Z.VIEWER],iconLeft:r.jsx(r.Fragment,{children:o===Z.VIEWER&&ps}),onClick:()=>v(Z.VIEWER)}],x=(T,D)=>{switch(T){case Z.EDITOR:case Z.VIEWER:return D?"Anyone in the Org with the link":"Anyone with the link";case Z.NONE:return"Only invited people can access";default:return""}},I=T=>{h(T.target.value);const D=d9(T.target.value).split(",");u(D.every(B=>i7(B)))},O=async()=>{if(!d)return;const T=d9(c).split(","),D={...i.access.profiles};for(const F of T)F in D||(D[F]=s.accessController.isEditor?Z.EDITOR:Z.VIEWER);const B={...i.access};B.profiles=D,i.setAccess(B),h(""),n&&n.fullName&&await h7({type:b3.FILE_INVITE,recipients:T.map(F=>({email:F})),subject:`${n.fullName} invited you to join "${i.title}"`,fileID:i.id,fileTitle:i.title})};return s.accessController.isLessThan(Z.VIEWER)?null:r.jsx("div",{className:"flex h-full w-full flex-col justify-between gap-2 py-2",children:r.jsxs("div",{children:[s.accessController.isGreaterThan(Z.VIEWER)&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex h-8 flex-row items-center justify-between",children:r.jsx(K,{className:"px-4 py-2",weight:"strong",children:"Invite with email"})}),r.jsxs("div",{className:"flex flex-row items-center justify-between gap-2 px-4 py-2",children:[r.jsx("div",{className:"h-auto w-[236px]",children:r.jsx(Mi,{ref:l,type:"email",className:"grow",size:"sm",placeholder:"Email, comma separated",value:c,onChange:I,onSubmit:O})}),r.jsx("div",{className:"flex h-8 items-center justify-center",children:r.jsx(Tt,{size:"sm",className:"!h-8 !w-16",variant:"primary",onClick:O,children:"Invite"})})]})]}),r.jsx("div",{className:"flex h-8 flex-row items-center justify-between",children:r.jsx(K,{className:"px-4 py-2",weight:"strong",children:"Who has access"})}),r.jsxs("div",{className:"flex flex-col gap-2 px-4 pb-2",children:[f&&r.jsx(YS,{email:f.email,fileController:i,isOwner:!0},f.email),i.team&&r.jsx(YS,{icon:Yy,description:`Everyone at ${i.team.name} can edit this file`,fileController:i,isOwner:!1}),Object.keys(i.access.profiles).length>0&&r.jsx(r.Fragment,{children:Object.entries(i.access.profiles).map(([T,D])=>r.jsx(YS,{email:T,accessLevel:D,isAccessEditable:s.accessController.isEditor,fileController:i,isOwner:!1},T))})]}),r.jsx("hr",{className:"my-2"}),r.jsxs("div",{className:"flex h-8 flex-row items-center justify-between px-4",children:[r.jsx(K,{className:"py-2",weight:"strong",children:"Share file link"}),r.jsx("div",{className:"w-auto",children:r.jsx(tv,{onClick:_,variant:"normal"})})]}),r.jsx("div",{className:"flex flex-row items-center justify-between px-4 pt-2",children:s.accessController.isEditor?r.jsxs(r.Fragment,{children:[r.jsx(Sr,{options:b,children:r.jsxs("div",{className:"flex gap-2 border border-solid border-border p-1.5",children:[r.jsx(K,{children:x(o,y)}),La]})}),o!==Z.NONE&&r.jsx(Sr,{options:C,children:r.jsxs("div",{className:"flex gap-2 border border-solid border-border p-1.5",children:[r.jsx(K,{children:iw[o]}),La]})})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(De,{variant:"secondary",children:Yy}),r.jsx(K,{color:"secondary",children:x(o,y)})]}),r.jsx(K,{className:"pr-2",color:"secondary",children:iw[o]})]})}),y&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex h-8 flex-row items-center justify-start gap-1 px-4",children:[r.jsxs(De,{variant:"secondary",children:[HR," "]}),r.jsx(K,{color:"secondary",children:"Only org members can access this file with a link"})]}),r.jsx(rLt,{editor:s})]})]})})},lLt=A(aLt),KU={on:ns.BEFORE,before:ns.BEFORE,after:ns.AFTER},qU=A(({onToggle:s,camera:t,stateId:e,cameraStates:i})=>{var a,l;let n=t.entity.name;e!=null&&(n=e===ys?"Base State":((a=i.getState(e))==null?void 0:a.name)??"Unknown");let o=t.parameters.isBookmark||i.stateIds.some(c=>{var d;return(d=i.getStateMetadata(c).cameraBookmarkData)==null?void 0:d.isBookmark});return e!=null&&(o=((l=i.getStateMetadata(e).cameraBookmarkData)==null?void 0:l.isBookmark)??o),r.jsxs("div",{className:"group flex flex-row items-center justify-start gap-0.5 py-1",children:[r.jsx("div",{className:"h-4 w-4 opacity-0 hover:opacity-100 group-hover:opacity-60",children:WR}),r.jsx(Pa,{size:"sm",isSelected:o,onChange:s,children:r.jsx(K,{children:n})})]})}),cLt=A(({camera:s,cameraController:t})=>{const e=t.getSortedCameraStates(s),i=t.getStatesComponentForCamera(s),n=e.map(a=>{let l=null;if(a.stateId===ys)l="Base State";else{const c=i.getState(a.stateId);l=c==null?void 0:c.name}return l==null?null:{id:a.stateId,isBookmark:a.isBookmark,name:l}}).filter(a=>a!=null),{dragAndDropHooks:o}=qL({getItems:a=>[...a].map(l=>({"text/plain":n.find(h=>h.id===l).name})),onReorder(a){const l=KU[a.target.dropPosition];l!=null&&a.keys.size===1&&t.reorderCameraStates(s.entity.id,a.keys.values().next().value,a.target.key,l)},renderDropIndicator(a){return r.jsx($L,{target:a,className:"outline outline-1 outline-lime"})}});return i.stateIds.length===0?null:r.jsx(QL,{items:n,className:"ml-4",selectionMode:"multiple",dragAndDropHooks:o,children:a=>r.jsx(JL,{textValue:a.id,children:r.jsx(qU,{camera:s,cameraStates:i,onToggle:l=>t.toggleCameraIsBookmark(s,a.id,l),stateId:a.id})})})}),hLt=({cameraController:s})=>{const t=m.useCallback((n,o)=>{const a=s.cameraComponentsById[n];a&&s.toggleCameraIsBookmark(a,null,o)},[s.cameraComponentsById]),e=s.sortedCamerasArray.map(n=>({id:n.entity.id,camera:n})),{dragAndDropHooks:i}=qL({getItems:n=>[...n].map(o=>({"text/plain":e.find(l=>l.id===o).camera.entity.name})),onReorder(n){const o=KU[n.target.dropPosition];o!=null&&s.reorderCameras(n.keys,n.target.key,o)},renderDropIndicator(n){return r.jsx($L,{target:n,className:"outline outline-1 outline-lime"})}});return r.jsx(QL,{"aria-label":"Cameras list",selectionMode:"multiple",items:e,dragAndDropHooks:i,children:({camera:n})=>r.jsx(JL,{textValue:n.entity.name,children:r.jsxs(r.Fragment,{children:[r.jsx(qU,{camera:n,cameraStates:s.getStatesComponentForCamera(n),onToggle:o=>t(n.entity.id,o)}),r.jsx(cLt,{camera:n,cameraController:s})]})})})},dLt=A(hLt),uLt=({editor:s})=>{const{sceneController:t}=s,e=m.useCallback(c=>{t.setSpawnPoint(c)},[t]),i=m.useMemo(()=>{const c=[];c.push({id:Ht(),text:T4,iconLeft:r.jsx(r.Fragment,{children:t.scene.spawn==null&&ps}),onClick:()=>e(null)});const h=Object.entries(t.cameraController.cameraComponentsById);h.length<=0&&c.push({id:Ht(),text:"Add Cameras to customize the start view",iconLeft:r.jsx(r.Fragment,{children:r.jsx("div",{children:FR})}),disabled:!0,divideBefore:!0,nowrap:!0});for(const[d,u]of h)c.push({id:Ht(),text:u.entity.name,iconLeft:r.jsx(r.Fragment,{children:d===t.scene.spawn&&ps}),onClick:()=>e(d)});return c},[t.cameraController.cameraComponentsById,t.cameraController.count,e,t.scene.spawn]),n=m.useMemo(()=>{const c=t.scene.spawn;if(c==null)return T4;const h=t.cameraController.cameraComponentsById[c];return h?h.entity.name:"Camera"},[t.cameraController.cameraComponentsById,t.cameraController.count,t.scene.spawn]),o=m.useCallback(c=>{s.sceneController.setShowBookmarks(c)},[s.sceneController]),a=m.useCallback(c=>{s.fileSettingsController.setShouldShowHotspots(c)},[s.fileSettingsController]),l=m.useCallback(c=>{s.fileSettingsController.isHandLocomotionEnabled=c},[s.fileSettingsController]);return r.jsx("div",{className:"flex h-full w-full flex-col justify-between gap-2 py-2",children:r.jsx("div",{children:s.accessController.isEditor&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex flex-row items-center justify-between gap-2 px-4 py-2",children:[r.jsxs("div",{className:"flex flex-col items-start justify-center gap-1",children:[r.jsx(K,{className:"font-bold",children:"Start view"}),r.jsx("div",{className:"body2 text-white opacity-50",children:"Select a camera."})]}),r.jsx(Sr,{options:i,width:236,spot:Ds.LEFT_BOTTOM,children:r.jsxs("div",{className:"flex flex-row gap-1 border border-solid border-border p-2",children:[r.jsx(K,{children:n}),La]})})]}),r.jsx("hr",{className:"my-2"}),r.jsxs("div",{className:"flex flex-row items-center justify-between gap-2 px-4 py-2",children:[r.jsxs("div",{className:"flex flex-col items-start justify-center gap-1",children:[r.jsx(K,{className:"font-bold",children:"Cameras bookmarks"}),r.jsx("div",{className:"body2 text-white opacity-50",children:"Enable viewers to select different cameras."})]}),r.jsx(H0,{isOn:s.sceneController.showBookmarks,onToggle:o})]}),s.sceneController.showBookmarks&&r.jsx(dLt,{cameraController:t.cameraController}),r.jsxs("div",{className:"flex flex-row items-center justify-between gap-2 px-4 py-2",children:[r.jsxs("div",{className:"flex flex-col items-start justify-center gap-1",children:[r.jsx(K,{className:"font-bold",children:"Interactive hotspots"}),r.jsx("div",{className:"body2 text-white opacity-50",children:"Enable interactie elements highlighting."})]}),r.jsx(H0,{isOn:s.fileSettingsController.shouldShowHotspots,onToggle:a})]}),r.jsxs("div",{className:"flex flex-row items-center justify-between gap-2 px-4 py-2",children:[r.jsxs("div",{className:"flex flex-col items-start justify-center gap-1",children:[r.jsx(K,{className:"font-bold",children:"Enable teleportation with hands"}),r.jsx("div",{className:"body2 text-white opacity-50",children:"Enable locomotion in headsets with hands."})]}),r.jsx(H0,{isOn:s.fileSettingsController.isHandLocomotionEnabled,onToggle:l})]})]})})})},fLt=A(uLt),pLt=({editor:s})=>{const t=s.fileController,e=m.useMemo(()=>`${window.location.origin}/play/${t.id}`,[t.id]);function i(){navigator.clipboard.writeText(e)}return r.jsx("div",{className:"flex h-full w-full flex-col justify-between gap-2 py-2",children:r.jsxs("div",{children:[r.jsx("div",{className:"flex h-8 flex-row items-center justify-between",children:r.jsx(K,{className:"px-4 py-2",weight:"strong",children:"Play link"})}),r.jsx("div",{className:"px-4 pb-2 text-secondary",children:r.jsxs("div",{className:"body2 text-white opacity-50",children:["Anyone with this link can interact with your prototype",r.jsx("br",{}),"but can not edit the file."]})}),r.jsxs("div",{className:"flex flex-row items-center justify-between gap-2 px-4 py-2",children:[r.jsx("div",{className:"flex h-6.5 w-full max-w-[211px] cursor-text items-center justify-start border border-border",children:r.jsx("input",{value:e,className:"body2 !pointer-events-auto h-full w-full select-all bg-transparent pl-2 text-white",type:"text",readOnly:!0})}),r.jsx("div",{className:"w-auto",children:r.jsx(tv,{onClick:i})})]})]})})},mLt=A(pLt),gLt=({editor:s})=>{const t=s.fileController,{fileApi:e}=Pt(),[i,n]=m.useState(t.access.general),[o,a]=m.useState("");m.useEffect(()=>{t.link&&t.access.isPublished&&a(`https://bezi.com/${t.link}`)},[t]),m.useEffect(()=>{t.link&&t.access.isPublished===void 0&&h(!0)},[]);const l=m.useMemo(()=>`<iframe src="https://bezi.com/${t.link}" width="100%" height="100%" frameborder="0"></iframe>`,[t.link]);function c(){navigator.clipboard.writeText(l)}async function h(f){const p={...t.access};if(p.isPublished=f,t.setAccess(p),f){const g=await e.createLink();t.setLink(g),a(`https://bezi.com/${g}`)}else t.setLink("",!0),a("")}function d(){navigator.clipboard.writeText(o)}const u=m.useMemo(()=>{var f;return(o==null?void 0:o.length)>0||((f=t.link)==null?void 0:f.length)>9&&t.access.isPublished},[o,t.link,t.access.isPublished]);return r.jsx("div",{className:"flex h-full w-full flex-col justify-between gap-2 py-2",children:i>Z.NONE&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex flex-row items-center justify-between gap-2 px-4 py-2",children:[r.jsx(K,{weight:"strong",children:"Publish to web"}),s.accessController.isEditor&&r.jsx(H0,{isOn:u,onToggle:h,testid:"toggle-published"})]}),r.jsxs("div",{className:"mx-4 flex flex-row justify-between gap-2 rounded bg-secondary p-2",children:[r.jsx(De,{children:FR}),r.jsx("div",{className:"body2 text-white opacity-50",children:"Publishing this file to web will make it publicly viewable to anyone with this short link."})]}),u?r.jsxs("div",{className:"flex flex-row items-center justify-between gap-2 px-4 py-2",children:[r.jsx("div",{className:"flex h-6.5 w-full max-w-[211px] cursor-text items-center justify-start border border-border",children:r.jsx("input",{name:"link",value:o,className:"body2 !pointer-events-auto h-full w-full select-all bg-transparent pl-2 text-white",type:"text",readOnly:!0})}),r.jsx("div",{className:"w-auto",children:r.jsx(tv,{onClick:d})})]}):null,u?r.jsxs(r.Fragment,{children:[r.jsx("hr",{className:"my-2"}),r.jsx("div",{className:"flex h-8 flex-row items-center justify-between",children:r.jsx(K,{className:"px-4 py-2",weight:"strong",children:"Embed code snippet"})}),r.jsx("div",{className:"body2 px-4 text-white opacity-50",children:"Copy and paste this code snippet to embed the published file on the web."}),r.jsx("div",{className:"h-auto w-full px-4 py-2",children:r.jsx("div",{className:"border border-solid border-border p-1.5",children:r.jsx("code",{className:"!pointer-events-auto !select-text",children:l})})}),r.jsx("div",{className:"flex h-auto w-full items-center justify-end px-4 pb-2",children:r.jsx("div",{className:"w-auto",children:r.jsx(Tt,{size:"sm",variant:"secondary",onClick:c,children:"Copy embed code"})})})]}):null]})})},_Lt=A(gLt);function vLt({editor:s}){const[t,e]=m.useState("Prototype"),i=m.useMemo(()=>{const o=[];return o.push({type:"tabGroup",title:"Share"}),o.push({type:"tab",title:"Prototype",subtitle:"Play link",icon:r.jsx(r.Fragment,{children:zR})}),s.accessController.isGreaterThan(Z.VIEWER)&&o.push({type:"tab",title:"Prototype settings",subtitle:"Viewer experience",icon:r.jsx(r.Fragment,{children:HI}),breakAfter:!0}),o.push({type:"tab",title:"Invite",subtitle:"Add contributors",icon:r.jsx(r.Fragment,{children:Yy})}),s.accessController.isGreaterThan(Z.VIEWER)&&o.push({type:"tab",title:"Publish link",subtitle:"Embed on web",icon:r.jsx(r.Fragment,{children:Tb}),breakAfter:!0}),s.accessController.isGreaterThan(Z.VIEWER)&&o.push({type:"tab",title:"Unity integration",subtitle:"Export to Unity",icon:r.jsx(r.Fragment,{children:M$})}),o},[s.accessController]),n=m.useMemo(()=>{switch(t){case"Invite":return r.jsx(lLt,{editor:s});case"Prototype":return r.jsx(mLt,{editor:s});case"Prototype settings":return r.jsx(fLt,{editor:s});case"Publish link":return r.jsx(_Lt,{editor:s});case"Unity integration":return Ft("unity-integration:open-engine-tab"),r.jsx(QMt,{editor:s})}},[t,s]);return r.jsxs("div",{className:"flex min-h-110 flex-row",children:[r.jsx("div",{className:"flex w-40 flex-col first:rounded-tl last:rounded-bl",children:i.map(o=>o.type==="tabGroup"?r.jsx("div",{className:"flex w-full flex-row items-center justify-start gap-1 px-4 py-3",children:r.jsx(K,{weight:"strong",children:o.title})},o.title):r.jsxs("div",{className:`${t===o.title?"bg-secondary":"bg-transparent"}`,children:[r.jsxs("button",{className:"flex w-full flex-row items-center justify-start gap-1 px-4 py-3",onClick:()=>e(o.title),"aria-label":o.title,children:[r.jsx("div",{className:"flex h-6 w-6 items-center justify-center opacity-secondary",children:o.icon}),r.jsxs("div",{className:"flex flex-col items-start justify-center",children:[r.jsx(K,{children:o.title}),r.jsx(K,{color:"secondary",children:o.subtitle})]})]}),o.breakAfter&&r.jsx("hr",{})]},o.title))}),r.jsx("hr",{className:"h-auto w-px"}),r.jsx("div",{className:"w-80",children:n})]})}const QU=A(vLt),yLt=({fileId:s,editor:t})=>{const e=wY(s),i=xY(s),{onTemplateCreate:n}=vd(t),[o,{toggle:a}]=ss(!1),[l,c]=m.useState(""),[h,d]=m.useState(-1),[u,f]=m.useState(null),p=m.useMemo(()=>[{label:"3D",value:0},{label:"AR",value:1},{label:"VR",value:2}],[]),g=m.useMemo(()=>e&&l&&h!==-1,[e,h,l]);m.useEffect(()=>{c((e==null?void 0:e.title)||"")},[e]);const _=m.useCallback(x=>{c(x.target.value)},[]),v=m.useCallback(x=>{if(typeof x=="number")return d(x);d(parseInt(x))},[]),y=m.useCallback(x=>{f(x)},[]),b=m.useCallback(()=>{Bt.close()},[]),C=m.useCallback(()=>{if(g)try{b(),n(s,l,u,h,o)}catch(x){console.error(x)}},[g,s,b,u,o,h,l,n]);return r.jsx(dn,{title:"Create template",description:i&&"This file is already in template library.",submitActionLabel:"Save",onSubmit:C,onClose:b,isDisabledSubmit:!g,children:!i&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[r.jsx("p",{className:"text-body2 opacity-60",children:"Preview (.PNG, .JPG or .JPEG)"}),r.jsx(av,{aspectRatio:"16/9",type:Bh.Image,initialPreviewUrlKey:e==null?void 0:e.screenshotUrlKey,accept:[Pn.PNG,Pn.JPG,Pn.JPEG],isDisabled:!e,onImport:y})]}),r.jsxs("div",{className:"mt-2 flex items-center gap-5",children:[r.jsx("p",{className:"text-body2",children:"Name *"}),r.jsx(Mi,{className:"w-0 flex-grow",size:"sm",placeholder:"Name of asset",value:l,status:l?"normal":"error",disabled:!e,onChange:_,onSubmit:C,required:!0})]}),r.jsxs("div",{className:"mt-2 flex items-center gap-5",children:[r.jsx("p",{className:"text-body2",children:"Mode *"}),r.jsx(ky,{className:"w-0 flex-grow",options:p,value:h,isDisabled:!e,onChange:v})]}),r.jsx(Pa,{className:"my-2",size:"sm",isSelected:o,isDisabled:!e,onChange:a,children:r.jsx("span",{className:"text-body2",children:"Empty template"})})]})})},bLt=A(yLt);function CLt(s){var t;if(s.inputSources.length===2){for(const e of s.inputSources)if(e.targetRayMode==="gaze")return ol.HEADSET}for(const e of s.inputSources)if(e.targetRayMode==="tracked-pointer")return ol.HEADSET;return((t=s.domOverlayState)==null?void 0:t.type)==="screen"?ol.MOBILE:ol.HEADSET}const S3=()=>{const[s,t]=m.useState(new Set),e=m.useRef(null);m.useEffect(()=>{async function a(){if(!navigator.xr){t(new Set([Vc.NOT_FOUND]));return}const l=[],[c,h]=await Promise.all([navigator.xr.isSessionSupported("immersive-vr"),navigator.xr.isSessionSupported("immersive-ar")]);c&&l.push(Vc.SUPPORTED_VR),h&&l.push(Vc.SUPPORTED_AR),t(new Set(l))}a()},[]);const i=(a,l)=>()=>{var c;l!=null&&l(),a.signals.window.vrSessionEnded.dispatch(),(c=e.current)==null||c.removeEventListener("end",i(a,l)),e.current=null},n=(a,l,c,h)=>{e.current=l;const d=CLt(l);a.signals.window.vrSessionStarted.dispatch({session:l,sessionMode:c,sessionDevice:d}),l.addEventListener("end",i(a,h))},o=async(a,l)=>{if(!navigator.xr||!s.has(Vc.SUPPORTED_AR)&&!s.has(Vc.SUPPORTED_VR))return;if(await If(()=>a.isARSceneDetermined),e.current!=null){await e.current.end(),e.current=null;return}const c=document.getElementById(h3.XR_OVERLAY),h={optionalFeatures:["local-floor","bounded-floor","hand-tracking","layers","plane-detection","hit-test","dom-overlay"],domOverlay:{root:c??wLt()}},d=s.has(Vc.SUPPORTED_AR)&&a.isARScene;let u=null;if(d)u="immersive-ar";else if(s.has(Vc.SUPPORTED_VR))u="immersive-vr";else return;const f=await navigator.xr.requestSession(u,h);f.updateTargetFrameRate!=null&&f.updateTargetFrameRate(72),n(a,f,u,l)};return{supportType:s,currentSession:e.current,startXRSession:o}};function wLt(s=h3.XR_OVERLAY){const t=document.createElement("div");return t.id=s,t.style.position="fixed",t.style.width="100%",t.style.height="100%",t.style.backgroundColor="rgba(0,0,0,0.0)",t.style.zIndex="999",t.style.pointerEvents="none",document.body.append(t),t}const xLt=({open:s,children:t,onClose:e,...i})=>{const n=m.useMemo(()=>{const o=r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-body1 font-bold",children:"Enter the interactive prototype in AR"}),r.jsx("p",{className:"text-body2 text-white/60",children:`You can experience interactions and animation in the file in Play Mode.

Prototypes can be viewed in desktop, mobile AR, and VR with the file link.`}),r.jsx("div",{className:"mt-1 flex w-full justify-end",children:r.jsx(Tt,{className:"mr-2 w-full",variant:"secondary",size:"sm",onClick:e,children:"Close"})})]});return r.jsx("div",{className:"flex w-72 flex-col gap-2 rounded-lg border border-lime bg-gray-90 p-3",children:o})},[e]);return r.jsx(fC,{...i,placement:"bottom",popoverContent:n,arrowClassName:"fill-lime",offsetSize:18,open:s,onClose:e,disableOnFocus:!0,disableOnHover:!0,children:t})},ELt=A(xLt),SLt="/XRBrowser-B23EZPI1.png",bM="https://apps.apple.com/us/app/xr-browser/id1588029989",ILt=({editor:s,onClose:t})=>{const e=s.fileController,i=m.useMemo(()=>`${window.location.origin}/play/${e.id}`,[e.id]);function n(){navigator.clipboard.writeText(i)}function o(){window.open(bM,"_blank")}return r.jsxs("div",{className:"flex w-76 flex-col justify-start gap-5 bg-gray-90 p-4",children:[r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsx(Jd,{weight:"strong",children:"View project in AR"}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx(K,{weight:"strong",children:"1. Copy the file link below"}),r.jsxs("div",{className:"flex flex-row items-center justify-between gap-2",children:[r.jsx("div",{className:"flex h-10 w-full cursor-text items-center justify-start border border-border",children:r.jsx("input",{value:i,className:"body2 !pointer-events-auto h-full w-full select-all bg-transparent pl-2 text-white",type:"text",readOnly:!0})}),r.jsx("div",{className:"w-auto",children:r.jsx(tv,{onClick:n,variant:"secondary",className:"!h-10 !rounded"})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex w-53 flex-col gap-2",children:[r.jsx(K,{weight:"strong",children:"2. Open in XR Browser app"}),r.jsx("div",{className:"body2 text-white opacity-50",children:`Paste the file link into the XR Browser app

 to view and interact
              with it in AR.`})]}),r.jsx("a",{href:bM,target:"_blank",rel:"noopener noreferrer",className:"pointer-events-auto h-12 w-12 cursor-pointer",children:r.jsx("img",{src:SLt,alt:"xrviewer",className:"h-12 w-12 rounded"})})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Tt,{variant:"secondary",size:"md",className:"rounded !p-0",onClick:t,children:"View without AR"}),r.jsx(Tt,{variant:"primary",size:"md",className:"rounded !p-0",onClick:o,children:"Open XR Browser"})]})]})},ALt=({editor:s})=>{const{startXRSession:t}=S3(),e=Ri(),i="xr"in window.navigator,n=s.isARScene&&s.isARSceneDetermined;function o(){Bt.close()}const[a,l]=m.useState();m.useEffect(()=>{l(JSON.parse(localStorage.getItem(yf.ASYNC_TOUR_STATUS)||"{}"))},[]);const c=m.useMemo(()=>{var u;return!!((u=a==null?void 0:a["editor.tour"])!=null&&u["try.ar"])},[a]),h=m.useCallback(()=>{Ft("ar-button"),l(u=>{const f={...u,"editor.tour":{"try.ar":!0}};return localStorage.setItem(yf.ASYNC_TOUR_STATUS,JSON.stringify(f)),f})},[]),d=m.useCallback(async()=>{i?!s.isPlayMode&&!s.isPublishedMode?e.push(Rt[z.FILE_PLAY](pi.fileID,!0)):await t(s):bnt&&!s.isPlayMode&&!s.isPublishedMode?window.open(Rt[z.FILE_PLAY](pi.fileID,!0)):Bt.open({content:r.jsx(ILt,{editor:s,onClose:o}),className:"!p-4 !w-fit"})},[s,i,t]);return n?r.jsx(ELt,{open:i&&!c,onClose:h,children:r.jsx(Tn,{mode:c?void 0:"primary",icon:i9,onClick:c?d:h})}):r.jsx(qi,{text:"AR Mode is not enabled for this file",children:r.jsx(Tn,{icon:i9,disabled:!0})})},B8=A(ALt),nI=({onClick:s,devices:t=["desktop","headset","mobile"],hasMainButton:e=!0,label:i="Play",variant:n="primary"})=>{const o=a=>{switch(a){case"desktop":s("desktop");break;case"headset":s("headset");break;case"mobile":s("mobile");break}};return r.jsxs("div",{className:"m-1 ml-0 flex w-fit items-center justify-center gap-0 rounded-md px-1",children:[e&&r.jsx(qi,{text:i,children:r.jsx(Tt,{"data-tour-step":li.TRY_PLAY_MODE,variant:n,className:"!h-8 !rounded-l-md !px-1",onClick:()=>s("desktop"),children:r.jsxs("div",{className:"flex items-center justify-center gap-1",children:[r.jsx(De,{shouldInvert:!0,children:R$}),r.jsx(Ze,{children:i})]})})}),!e&&r.jsx("div",{className:"flex !h-8 items-center justify-between !rounded-l-md bg-gray-70 px-2",children:r.jsx(K,{children:i})}),r.jsx(qi,{text:"Devices",children:r.jsx(ed,{label:"Devices",icon:La,onAction:o,className:"w-fit rounded-l-none rounded-r-md px-1 hover:opacity-80",variant:n,shouldMoveIconOnHover:!0,children:t.map(a=>{switch(a){case"desktop":return r.jsx(An,{id:a,textValue:"Desktop",children:r.jsxs("div",{className:"flex items-center justify-start gap-2",children:[JR,r.jsx(K,{children:"Desktop"})]})},a);case"headset":return r.jsx(An,{id:a,textValue:"Headset",children:r.jsxs("div",{className:"flex items-center justify-start gap-2",children:[GQ,r.jsx(K,{children:"Headset"})]})},a);case"mobile":return r.jsx(An,{id:a,textValue:"Mobile",children:r.jsxs("div",{className:"flex items-center justify-start gap-2",children:[QR,r.jsx(K,{children:"Mobile"})]})},a);default:return null}})})})]})};function TLt({presence:s,profile:t,followee:e,mySessionID:i,editor:n},o){const{sessionID:a,profileID:l}=s,c=a===i?Kh:Xl[s.color].FILL,h=a===i;function d(){if(e!=null)a!==i&&a!==e?n.presenceController.setFollowee({sessionID:a,profileID:l}):n.presenceController.setFollowee(null);else{if(a===i)return;n.presenceController.setFollowee({sessionID:a,profileID:l})}Ft("player-follow")}return r.jsxs("button",{ref:o,id:"profile-stamp-container",onClick:d,children:[GA(l)?r.jsx("div",{id:"profile-stamp-small",children:r.jsx("div",{id:"profile-guest-icon",children:E$})}):r.jsx(F_,{label:t.fullName||t.email,portrait:t.portrait,size:"sm",style:h?{}:{backgroundColor:c}}),r.jsx("div",{id:"profile-status",style:{backgroundColor:c,width:e===l?"20px":"4px"}})]})}const PLt=m.forwardRef(TLt);function OLt({editor:s}){const i=[...s.presenceController.presenceMap.values()].sort((n,o)=>iot(n.profileID,o.profileID));return r.jsx("div",{id:"players",children:i.map(n=>r.jsx(LLt,{presence:n,mySessionID:he.sessionID,editor:s},n.sessionID))})}const MLt=A(OLt),LLt=A(({presence:s,mySessionID:t,editor:e})=>{const[i,n]=m.useState(""),o=e.presenceController.followeeSessionID,a=s.profileID,l=ji(a);return m.useEffect(()=>{!l||!n||(GA(a)?n("Guest"):l.fullName!=null&&n(`${l.fullName}`))},[l,a,n]),l?r.jsx(qi,{text:i,children:r.jsx(PLt,{profile:l,presence:s,mySessionID:t,editor:e,followee:o})}):null}),RLt=({editor:s})=>{const{supportType:t,startXRSession:e}=S3(),i=Ri(),n=async()=>{Ft("vr-button"),!s.isPlayMode&&!s.isPublishedMode?i.push(Rt[z.FILE_PLAY](pi.fileID,!0)):await e(s)};return t.has(Vc.SUPPORTED_AR)||t.has(Vc.SUPPORTED_VR)?r.jsx(cs,{label:"Launch immersive",onPress:n,className:"!h-10 !w-10",children:r.jsx(De,{children:kQ})}):null},k8=A(RLt),NLt=({editor:s})=>{const[t,e]=m.useState("5:00"),[i,n]=m.useState(0),{connectController:o}=Pt(),a=s.fileController,l=m.useCallback(async(_=!1)=>{await o.createXRConnectCode(_);const v=o.codeExpiration;n(Date.now()+6e4*v),e(`${v}:00`)},[o]);m.useEffect(()=>{l()},[l]);const c=m.useMemo(()=>`${window.location.origin}/play/${a.id}`,[a.id]),h=m.useCallback(()=>{navigator.clipboard.writeText(c)},[c]),d=m.useCallback(()=>{o.deleteFileCode(a.id),Bt.close()},[o,a.id]),u=()=>{const _=i-Date.now(),v=Math.floor(_/1e3/60)%60,y=Math.floor(_/1e3)%60;e(`${v}:${y<10?`0${y}`:y}`),_<=0&&l(!0)};m.useEffect(()=>{if(i===0)return;const _=setInterval(()=>u(),1e3);return()=>clearInterval(_)},[i]);const f=m.useCallback(async _=>{await o.updateCodeExpiration(a.id,_)&&(n(Date.now()+6e4*_),e(`${_}:00`))},[o,a.id]),p={letterSpacing:"0.5rem"},g=m.useCallback(()=>{const v=`${window.location.origin}/connect`;window.open(v,"_blank")},[]);return r.jsx("div",{className:"relative flex h-full w-full bg-gray-90",children:r.jsxs("div",{className:"flex h-95 w-70 flex-col justify-between",children:[r.jsxs("div",{className:"flex flex-col justify-between gap-6 p-4 pb-0",children:[r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("div",{className:"flex flex-row items-center justify-end gap-2",children:[r.jsx(Jd,{weight:"strong",className:"w-full text-left",children:"Open in headset"}),r.jsx(cs,{label:"Close",onPress:d,className:"-mr-2 -mt-2",children:po})]}),r.jsxs("div",{className:"text-left text-body2",children:["In your headset, go to"," ",r.jsx("button",{onClick:g,className:"text-lime hover:opacity-50",children:"bezi.com/connect"})," ","then",r.jsx("br",{}),"enter the 6 digit code. This code will expire",r.jsx("br",{}),"when this popup closes."]})]}),r.jsxs("div",{className:"h-15 flex items-center justify-center gap-4",style:p,children:[r.jsx(n_,{className:"text-center",children:o.xrConnectCode?o.xrConnectCode.substring(0,3):"---"}),r.jsx(n_,{className:"text-center",children:o.xrConnectCode?o.xrConnectCode.substring(3,6):"---"})]}),r.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[r.jsx(Ze,{color:"secondary",className:"w-29",children:`New code in ${t}`}),r.jsx(cs,{label:"Generate",onPress:()=>l(!0),children:WI}),r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("div",{className:"flex h-full w-25 items-center justify-end",children:r.jsx(K,{className:"text-left text-gray-10",children:"New code every"})}),r.jsxs(Ys,{label:"Code expiration",selectedKey:o.codeExpiration,onSelectionChange:_=>f(_),className:"w-25",children:[r.jsx(se,{id:5,textValue:"5 minutes"}),r.jsx(se,{id:15,textValue:"15 minutes"}),r.jsx(se,{id:30,textValue:"30 minutes"}),r.jsx(se,{id:60,textValue:"1 hour"})]})]})]})]}),r.jsx("div",{className:"my-2 h-0.25 w-full bg-border"}),r.jsx("div",{className:"flex flex-col justify-between gap-6 p-4 pt-0",children:r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx(K,{className:"text-left text-gray-10",children:"Alternatively, use the link below to open the file."}),r.jsxs("div",{className:"flex flex-row items-center justify-between gap-2",children:[r.jsx("div",{className:"flex h-6.5 w-full cursor-text items-center justify-start border border-border",children:r.jsx("input",{value:c,className:"body2 !pointer-events-auto h-full w-full select-all bg-transparent pl-2 text-white",type:"text",readOnly:!0})}),r.jsx("div",{className:"w-auto",children:r.jsx(tv,{variant:"secondary",onClick:h})})]})]})})]})})},JU=A(NLt),jLt=({editor:s})=>{const{activeTourStep:t,authController:{auth:{isDev:e}}}=Pt(),{supportType:i}=S3(),n=AY(),o=m.useRef(null),a=m.useCallback(()=>{aC(li.TRY_SHARE),Hs.open({content:r.jsx(QU,{editor:s}),option:{ref:o,onClose:()=>v3(li.TRY_SHARE)}})},[s]),l=p=>{let g=Rt[z.FILE_PLAY](pi.fileID);if(t===li.TRY_PLAY_MODE){const _=Hh[li.TRY_PLAY_MODE];if(_&&_.toasts){const v=!!_.toasts.anchorInteractOn;g+=`?${Vh.IS_TOUR_STEP}=true&${Vh.TOAST}=${v.toString()}`}}switch(p){case"desktop":window.open(g,"_blank");break;case"headset":Bt.open({content:r.jsx(JU,{editor:s}),option:{outClickHide:!0,size:"auto"}});break;case"mobile":Bt.open({content:r.jsx(ZU,{editor:s}),option:{outClickHide:!0,size:"auto"}});break}},c=m.useCallback(()=>{if(t!==li.TRY_PLAY_MODE)return;!!localStorage.getItem(yf.PLAY_MODE_TOUR_STEP_DONE)&&(y3(li.TRY_PLAY_MODE),localStorage.removeItem(yf.PLAY_MODE_TOUR_STEP_DONE))},[t]);IWt(c,!1);const h=m.useMemo(()=>i.has(Vc.SUPPORTED_AR),[i]),d=m.useCallback(()=>{n(s.fileController.id)},[n,s.fileController.id]),u=m.useCallback(()=>{Bt.open({content:r.jsx(bLt,{fileId:s.fileController.id,editor:s})})},[s]),f=s.isARScene&&s.isARSceneDetermined;return r.jsxs("div",{className:"flex flex-row justify-end",children:[!Yd&&r.jsx(MLt,{editor:s}),e&&Xh==="dev"&&r.jsx(cs,{onPress:d,label:"Copy to prod",size:"md",children:bR}),e&&r.jsx(cs,{onPress:u,label:"Make as a template",size:"md",children:EQ}),e&&r.jsx(qi,{text:"Beta features",children:r.jsx(Tn,{icon:TR,"data-posthog":"early-access"})}),!s.accessController.isLessThan(Z.VIEWER)&&r.jsx("div",{ref:o,children:r.jsx(Tn,{"data-tour-step":li.TRY_SHARE,mode:"secondary",text:"Share",ariaLabel:"Share",onClick:a,className:"m-1 !h-8 rounded !px-2"})}),!Yd&&h&&r.jsx(k8,{editor:s}),!Yd&&!h&&r.jsx(nI,{onClick:l}),Yd&&!f&&r.jsx(nI,{onClick:l}),Yd&&r.jsx(B8,{editor:s})]})},DLt=A(jLt);function FLt({editor:s}){const t=[R.tool.MESH_SELECT,R.tool.EXTRUDE,R.tool.LOOP_CUT,R.tool.INSET,R.tool.BEVEL].includes(s.activeTool.id);return r.jsxs(XU,{editor:s,children:[r.jsxs("div",{className:"flex",children:[!s.accessController.isGuest&&r.jsx(GU,{}),!s.commandCenterController.isOpen&&(t?r.jsx(GMt,{editor:s}):r.jsx(UMt,{editor:s}))]}),r.jsx(DLt,{editor:s})]})}const BLt=A(FLt),kLt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH8AAAAnCAYAAAAmYJeJAAAACXBIWXMAAAEUAAABFAH7OeD/AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUoSURBVHgB7ZzvddMwEMCvPL5TJkBMAExAmIAyQd0JWiaoO0HDBEknaDtBwgSECWwmaJjguKvkRKgnR7ZlWxT/3hNJpZMs66TT6U8A6AlEvKSwwj38PYOJ5wsp+JjCD/RzDRPPE1LuAg9zAROjc1SXaJR0DIfZHh0dzUle0fciRJ7CW8qzhYlBYItMH4rafFMrROHEfC8wjMLIX2A472FiEFD7XztdUTjl+BeOEPeOFYW2igmxEm1kJ1qC2snOrShFYclW+oUl1FXxTNlAdjL5w/DZE3/ykv+NpHjmjgJ784dGdVk790SA3mkO/heXKM0n1+s71e8Onge/PfFb39Is51RsOOebPCHzfgY9Q89YYjcKCpfwj0PvMPO8m+JEaU2em4wFBjaU88C8RnaQZR52V34Ft88/7Z9Q/U/Mezyg3mxTVYJEbtIKDKMQHsg9bmkexmG+e+gAYDzl79rjufESeoLmzDV9rCEteG+hdCPRrIFB+zyX5rvNOXfe0H0JqzzbYmxS29eIqnzU+wOhTtYv0M7VeuxGMc/numzoHdjR+wF/dwBW4gy0QytiFH5OIYOnnaeS2ZgybqROaGQWvvxNoPI/WfW6dZK5I36Navaxfq6vY4GRpwSUzb4KzCs5rVmNPFuGBwynQI/vg+FtXotVnhKSeWX39ybPiGQUVlSpGaRBsCVCPVJ5WdnEKVQUrnHk1URvc34LFOgO8CWBNbYS4ko3wigvE2SraYTz8Dr7Dehpw+0gbCl/87kIjEBKyq9YUINsfHNi36CeGk6FpI0jx85hLsh943jXjzHlZqAdSptLSlta8mcQjqKwEOKvIATPlJGbtALD6Drnu6ygI9hwzkc9N1543nkhyK8EuTygXvM2+Tz1LYSyloKc3L4ok5u0AsOIrXxmBh3AeOv8Ap1Og3KDhhxlVzuqD23yOs8vhDrcemRdknL4JE5gXNgMswn/IExBUt2CTK0x7/dOtMLwlQjLsfJceZ6WmkwZSc75Fe9gXNg5e2U+Xe//oyBfYvhyVRrp7EOUdZlwfwCn3GdT+NR0vyRl5SsYn4wDNXpGDXtjxUvLuq5+Su1SMbbimZTNfh/w9q4Ipb2m8AUcr97gnkuMcdAjHbmXoBVfQgtSVv6gW748cnh/gcIH0HO9DSs7c/4eDNSrjaiKZ1I2+xsYD950OXfi+MwiN99LeGp+l9CNUopEfdU9c6J5YHRSPJOy8u9hJLhRcb89XmGPdskqXcXemEK9g+ieAURRPJOq2S/H3OLFwzeLfwpxUZemRvG5kHQW6wpcqsoP257sD+lY2h7tayH9HANu/HDHwv0FFzscWzJ1io82KFI0+2w+lzACuD+Tz4Xk3Wjjiyoky53BVrYCfXn17ED5tyD4C9VSrUbx0dslNeXzC+bQH9dGaS72TR4fV8Lf7u8OeU9gZtLuLIVy+TwtSLeEdmWjvgyTC+lczhsUzhh80LMP7valovwStElbQ7+0nZefOHPm52k8PcwcWQX6pG0hOI2HyvbVz11qhtBZ+SWEUcltG+SpzrxvBlB6F+qsEW8Kdfm9Q9+Wrh6Uieq5jgF2O9XjU7c5Bp4sYvPTzEJqY4x449gq03uqJ438R4/SVC60Ry/N2rhJHj40ue9x1LNXXDaQ35qwabqU4tGL+hx9BnqlwG2gHLES9CqhztI1rXMI/E5XQl2ejPzMxJ1iOHmLPLt8EyMyKf4/ZlL8f8yAimcn6gImkuHxv2VB7dWGbiDcGAcnNM/jT57B2sWaSIM/yAbZkuIdJdgAAAAASUVORK5CYII=",GLt=({onClose:s})=>r.jsxs("div",{className:"w-56 p-3",children:[r.jsxs("div",{className:"mb-3 flex flex-row items-center justify-between",children:[r.jsx(K,{weight:"strong",children:"Navigate this file"}),r.jsx(Tt,{leftIcon:po,variant:"icon",className:"!p-0",onClick:s})]}),r.jsxs("div",{children:[r.jsx(Gg,{label:"Orbit",keys:["left-click","Drag"]}),r.jsx(Gg,{label:"Pan",keys:["Spacebar","left-click","Drag"]}),r.jsx(Gg,{label:"Zoom",keys:[Lb("Mod"),"Scroll"]})]})]}),G8=({isBranded:s})=>{const[t,e]=m.useState(!1),i=m.useRef(null);function n(){e(!t),Hs.open({content:r.jsx(GLt,{onClose:Hs.close}),option:{ref:i,spot:Ds.RIGHT_TOP,onClose:()=>e(!1)}})}function o(){window.open(Rt[z.DEFAULT](),"_blank")}return window.innerWidth<I_?null:r.jsx(r.Fragment,{children:r.jsxs("div",{className:"absolute bottom-5 right-4 flex flex-row items-center gap-2",children:[r.jsx("div",{className:"z-popup",children:r.jsx("div",{className:"h-8 w-fit rounded bg-gray-90",children:r.jsx(As,{className:"h-8 !w-fit !rounded border border-solid border-gray-70",onPress:n,"data-testid":"help-button",isActive:t,isQuiet:!1,ref:i,children:r.jsxs("div",{className:"flex items-center justify-between px-3",children:[wot,r.jsx("span",{className:"ml-2",children:"Navigation tips"})]})})})}),s&&r.jsx("div",{onClick:o,className:"z-popup overflow-hidden !rounded border border-solid border-gray-70 bg-gray-90","aria-hidden":"true",children:r.jsxs("div",{className:"flex h-8 flex-row items-center gap-1 px-4 hover:bg-hovered active:bg-pressed",children:[r.jsx(K,{color:"secondary",className:"mr-1",children:"Made with"}),r.jsx("img",{src:kLt,className:"w-12 object-cover",alt:""})]})})]})})};var VLt=Object.defineProperty,HLt=(s,t,e)=>t in s?VLt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,va=(s,t,e)=>(HLt(s,typeof t!="symbol"?t+"":t,e),e);class $U{constructor(t,e=!1){this._container=t,this._isOrthMode=e,va(this,"_disposable",new Zt),va(this,"_pixelRatio",window.devicePixelRatio),va(this,"_renderer"),va(this,"_width",0),va(this,"_height",0),va(this,"_aspect",0),va(this,"_scene"),va(this,"_perspectiveCamera"),va(this,"_orthographicCamera"),va(this,"_activeCamera"),va(this,"_controls"),va(this,"_group",new bn),va(this,"_shouldRenderEveryFrame",!1),va(this,"_shouldRender",!1),va(this,"render",()=>{const{_shouldRenderEveryFrame:i,_shouldRender:n,_renderer:o,_scene:a,_activeCamera:l,_controls:c}=this;!i&&!n||(o.render(a,l),c.update(),this._shouldRender=!1)})}get group(){return this._group}get shouldRenderEveryFrame(){return this._shouldRenderEveryFrame}set shouldRenderEveryFrame(t){this._shouldRenderEveryFrame=t,this.render()}get shouldRender(){return this._shouldRender}set shouldRender(t){this._shouldRender=t,this.render()}_init(){this._initRenderer(),this._initScene(),this._initCamera(),this._initLights(),this._initDisposal(),this.appendToDOM(),this._scene.add(this._group),this._renderer.setAnimationLoop(this.render)}_initRenderer(){const t=new Sb({antialias:!0,powerPreference:"default",preserveDrawingBuffer:!0,alpha:!0});t.outputColorSpace=Oa,t.toneMapping=UL,t.shadowMap.enabled=!0,t.shadowMap.type=zL,t.setPixelRatio(this._pixelRatio),this._renderer=t}_initScene(){this._scene=new um}_initCamera(){const{_scene:t,_renderer:e,_isOrthMode:i}=this,n=new OI,o=new HL;t.add(n),t.add(o);const a=i?o:n;a.position.set(0,10,0),a.lookAt(0,0,0),this._controls=new YK(a,e.domElement),this._perspectiveCamera=n,this._orthographicCamera=o,this._activeCamera=a}_initLights(){}_initDisposal(){this._disposable.add(new tt(()=>{var t;this._controls.dispose(),Pf(this.group),(t=this._scene.environment)==null||t.dispose(),this._renderer.domElement.remove()}))}appendToDOM(t){const e=t??this._container,{_perspectiveCamera:i,_orthographicCamera:n,_renderer:o}=this,[a,l,c]=I5(e);i.aspect=c,n.left=a/-2,n.right=a/2,n.top=l/2,n.bottom=l/-2,i.updateProjectionMatrix(),n.updateProjectionMatrix(),o.setSize(a,l),e.appendChild(o.domElement),this._width=a,this._height=l,this._aspect=c}async captureAsUrlKey(t,e="image/jpeg",i=!0){try{return this.shouldRender=!0,await dA(this._renderer.domElement,t,.5,e,i)}catch(n){console.error(n)}}captureAsDataUrl(t="image/jpeg"){return this.shouldRender=!0,this._renderer.domElement.toDataURL(t)}clearGroup(){for(let t=this.group.children.length-1;t>=0;t--)Pf(this.group.children[t])}dispose(){this._disposable.dispose()}}var ULt=Object.defineProperty,zLt=(s,t,e)=>t in s?ULt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,WS=(s,t,e)=>(zLt(s,typeof t!="symbol"?t+"":t,e),e);const CM={[ue.Standard]:new Xr({transparent:!0}),[ue.Unlit]:new kn({toneMapped:!1,transparent:!0}),[ue.Toon]:new Bw({transparent:!0}),[ue.Physical]:new kw({transparent:!0}),[ue.Shadow]:new kn({transparent:!0}),[ue.Occluder]:new kn({colorWrite:!1,transparent:!0})};class YLt extends $U{constructor(t){super(t,!1),WS(this,"_materialType",ue.Standard),WS(this,"_material",CM[this._materialType].clone()),WS(this,"_mesh",new re),this._init()}get materialType(){return this._materialType}_init(){this._initRenderer(),this._initScene(),this._initCamera(),this._initLights(),this._initDisposal(),this._addEnvMap(),this._addModel(),this.appendToDOM(),this.adjustCamera(),this._scene.add(this._group),this._renderer.setAnimationLoop(this.render)}_initLights(){const{_scene:t,_activeCamera:e}=this,i=new Eb(16777215,1),n=new kL(16777215,2),o=new Ib(16777215);i.position.set(-1,1,-.5),n.position.set(2,-1,0),t.add(i),t.add(o),e.add(n)}async _addEnvMap(){const t=await xs(sx);if(!t)return;const e=new xf;e.onStart=(d,u,f)=>{},e.onProgress=(d,u,f)=>{},e.onLoad=()=>{};const n=await new zx(e).loadAsync(t);n.mapping=Uy,n.colorSpace=Oa,n.rotation=1;const{_renderer:o,_scene:a}=this,l=new qx(o);l.compileEquirectangularShader();const h=l.fromEquirectangular(n).texture;l.dispose(),a.environment=h,this._shouldRender=!0}_addModel(){const{_mesh:t,_material:e}=this;t.geometry=new Ma(1,32,32),t.material=e,t.matrixAutoUpdate=!1,t.updateMatrix(),this._group.add(t)}adjustCamera(){const{_controls:t,_activeCamera:e}=this;e.position.set(0,0,2.5),t.enableZoom=!1,t.enablePan=!1}updateMaterial(t){const{_material:e}=this;for(const[i,n]of Object.entries(t))i==="type"||!(i in e)||n===void 0||(e[i]=n);e.needsUpdate=!0}updateMaterialType(t){this._mesh!==null&&(this._material=CM[t].clone(),HF(this._mesh.material),this._mesh.material=this._material,this._material.needsUpdate=!0,this._materialType=t)}}class WLt extends $U{constructor(t){super(t,!0),this._init()}async loadLighting(t,e){try{const{_width:i,_group:n}=this;this.clearGroup();const a=await n7(e).loadAsync(t),{width:l,height:c}=a.image,h=l/c,d=new Jc(i,i/h),u=new kn({map:a}),f=new re(d,u);f.matrixAutoUpdate=!1,f.rotateX(-Math.PI/2),f.updateMatrix(),n.add(f),this._shouldRender=!0}catch(i){console.error(i)}}}let tz=null;function XLt(s){tz=s}function V8(){return tz}let ez=null;function ZLt(s){ez=s}function sz(){return ez}var KLt=Object.defineProperty,qLt=(s,t,e)=>t in s?KLt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,XS=(s,t,e)=>(qLt(s,typeof t!="symbol"?t+"":t,e),e);class QLt extends oa{constructor(t,e){super(t),this._appContext=t,this._profile=e,XS(this,"isUIVisible",!1),XS(this,"activeBottomBar",null),XS(this,"activeTool",new x8(this)),this.activeTool=new iU(this),this.stateController.dispose()}_handleUndo(){}_handleRedo(){}getNeedsRenderSignals(){var t;return((t=this._appContext.editor)==null?void 0:t.getNeedsRenderSignals())??[]}getNeedsFocusSignals(){var e;const t=(e=this._appContext.editor)==null?void 0:e.signals.object.geometryUpdated;return t==null?[]:[t]}get editorScene(){var t;return(t=this._appContext.editor)==null?void 0:t.sceneController.statefulScene}get profile(){return this._profile}}var JLt=Object.defineProperty,$Lt=(s,t,e)=>t in s?JLt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Nr=(s,t,e)=>($Lt(s,typeof t!="symbol"?t+"":t,e),e);class tRt extends Ug{constructor(t,e){super(t,new Sb({alpha:!0,antialias:window.devicePixelRatio<2,logarithmicDepthBuffer:!1}),e,t.layerController.publishVisible,void 0,130,!1,t.assetPreviewerController),this.editor=t,this.domElement=e,Nr(this,"id",_t()),Nr(this,"_sceneObject",new zs),Nr(this,"_countToLoad",0),Nr(this,"_countOfLoaded",0),Nr(this,"_onLoadProgressUpdate",null),Nr(this,"_onLoadComplete",null),Nr(this,"_ambientLight",new Ib),Nr(this,"_directionalLight",new Eb),Nr(this,"_cameraProps"),Nr(this,"_canFocus",!0),Nr(this,"_isOrthographic",!0),Nr(this,"_backgroundUrlKey",null),Nr(this,"_backgroundBlurriness",.1),Nr(this,"_shouldRenderBackground",!1),Nr(this,"_backgroundTexture",null),Nr(this,"_cameraDirection",new w),this._cameraProps=null,this.camera.setOrtho(),this.controls.enablePan=!1,this.initBindings(),this._setDefaultEnvMap(),this.disposable.add(new tt(()=>Pf(this._sceneObject)))}_setDefaultLights(){this._ambientLight.intensity=1,this._directionalLight.position.set(1,2,3),this.scene.add(this._ambientLight),this.scene.add(this._directionalLight)}get cameraProps(){return this._cameraProps}set cameraProps(t){this._cameraProps=t}get shouldRenderBackground(){return this._shouldRenderBackground}set shouldRenderBackground(t){this._shouldRenderBackground=t}get canFocus(){return this._canFocus}set canFocus(t){this._canFocus=t}get isOrthographic(){return this._isOrthographic}set isOrthographic(t){this._isOrthographic=t,this._isOrthographic?this.camera.setOrtho():this.camera.setPerspective()}initBindings(){const{signals:t}=this.editor,e=[];this.registerSignals(e,[t.object.geometryUpdated],({objectName:i})=>{i.includes(this.id)&&this._loadEntities()}),this.disposable.add(new tt(()=>{this.pointerStateController.dispose()}))}async _setDefaultEnvMap(){const t=await xs(sx);if(!t)return;this._backgroundUrlKey=sx;const e=new zx;let i;try{i=await e.loadAsync(t)}catch(n){console.error("Error loading HDR image",n);return}this._generateAndSetRendererEnvironment(i)}async setSceneEnvMap(){const{editor:t}=this,e=t.sceneController.scene.hdrLighting;if(this._backgroundUrlKey===e.imageURL)return;this._backgroundUrlKey=e.imageURL;const i=n7(e.fileExtension),n=await xs(e.imageURL);if(n){let o;try{o=await i.loadAsync(n)}catch(a){console.error("Error loading HDR image",a);return}o.mapping=Uy,o.encoding=YL,o.rotation=1,this._generateAndSetRendererEnvironment(o)}}_generateAndSetRendererEnvironment(t){t.mapping=Uy,t.colorSpace=Oa,t.rotation=1;const{renderer:e,scene:i}=this,n=new qx(e);n.compileEquirectangularShader();const a=n.fromEquirectangular(t).texture;n.dispose(),i.environment=a,this._backgroundTexture=a,this._shouldRenderBackground&&(i.background=this._backgroundTexture,i.backgroundBlurriness=this._backgroundBlurriness)}async _renderEntities(t){var n,o,a,l;const e={};let i=!1;for(const c of t){!i&&c.type===L.TEXT&&(i=!0);const h=c.getComponentByType(pt.Geometry);(this._onLoadProgressUpdate||this._onLoadComplete)&&(!h||h!=null&&h.geometry)&&(this._countOfLoaded++,(n=this._onLoadProgressUpdate)==null||n.call(this,this._countOfLoaded/this._countToLoad*100),this._countOfLoaded===this._countToLoad&&((o=this._onLoadComplete)==null||o.call(this)));const d=(a=c.getObject3D())==null?void 0:a.clone();d&&(c.sceneObject.parent&&e[c.sceneObject.parent]!=null?(l=e[c.sceneObject.parent])==null||l.add(d):this._sceneObject.add(d),e[c.id]=d)}this.setCameraView(this.getCameraDirection(),{shouldFrame:!0,enableTransition:!1}),this.controls.zoomTo(this.getCameraZoom()),this.controls.update(Math.random()),i&&await new Promise(c=>setTimeout(c,500)),this.setNeedsRender(),this.focus()}_loadEntities(){const{editor:{assetPreviewerController:t}}=this;this._countOfLoaded=0,this._sceneObject.clear();const e=Object.values(t.sceneEntitiesById);this._renderEntities(e)}render(t){if(!this.needsRender)return;this.needsRender=!1;const{scene:e,_sceneObject:i,_lastFrameNumber:n,camera:o,renderer:a}=this;try{t>n&&(a.clearColor(),this._shouldRenderBackground&&(this.scene.environment=this._backgroundTexture,this.scene.background=this._backgroundTexture,e.backgroundBlurriness=this._backgroundBlurriness),o.isOrthographicCamera&&(a.autoClear=!0,a.render(e,o.perspective),a.autoClear=!1,e.background=null),this._setDefaultLights(),e.add(i)),a.render(e,o),e.clear()}finally{this._lastFrameNumber=t}}async focus(){if(!this.canFocus)return;const{_box3:t,_size:e,_sceneObject:i}=this,n=t.makeEmpty();if(gf([i],n),n.isEmpty()){this.resetCamera();return}const o=n.getSize(e);o.manhattanLength()<.5&&o.set(1,1,1);const a=0,l={paddingLeft:a,paddingRight:a,paddingBottom:a,paddingTop:a};await this.controls.fitToBox(n,!1,!1,l),n.getCenter(this._orbitPoint),this.controls.lastOrbitPivot.copy(this._orbitPoint)}clear(){this.editor.assetPreviewerController.clearSceneEntities(),this._sceneObject.clear(),this.setNeedsRender()}addEntities(t,e=null,i=null){t.length&&(this._countToLoad=t.length,this._onLoadProgressUpdate=e,this._onLoadComplete=i,this.clear(),this._renderEntities(t))}async addObjects(t,e=null,i=null){if(!t.length)return;const{editor:n}=this;this._countToLoad=t.length,this._onLoadProgressUpdate=e,this._onLoadComplete=i,this.clear(),await n.materialController.loadMaterialsByObjects(t,!1);for(const o of t){let a=o.position,l=o.scale,c=o.parent;c!=null&&t.find(d=>d.id===c)!=null||(a={x:0,y:0,z:0},l={x:1,y:1,z:1},c=null),n.assetPreviewerController.addObjectFromData({...o,parent:c,position:a,scale:l,name:`${this.id}-${o.name}`,isInstance:!0})}this._loadEntities()}getCameraZoom(t=!1){var e;return(e=this.cameraProps)!=null&&e.zoom&&!t?this.cameraProps.zoom:this.controls.zoom}getCameraDirection(t=!1){var e;return(e=this.cameraProps)!=null&&e.direction&&!t?new w().fromArray(this.cameraProps.direction):(this.camera.getWorldDirection(this._cameraDirection),this._cameraDirection)}async capture(t){try{const e=this.getCameraDirection(!0);this.frameCapture();const i=t??_t();return await dA(this.renderer.domElement,i,.5),{urlKey:i,camera:{direction:e.toArray(),zoom:this.getCameraZoom(!0)}}}catch(e){console.error(e)}}appendToDOM(t){const e=t??this.domElement,{camera:{perspective:i,orthographic:n},renderer:o}=this,[a,l,c]=I5(e);i.aspect=c,n.left=a/-2,n.right=a/2,n.top=l/2,n.bottom=l/-2,i.updateProjectionMatrix(),n.updateProjectionMatrix(),o.setSize(a,l),e.appendChild(o.domElement)}}const eRt=({className:s,style:t,...e})=>{const i=Pt(),n=ji(),o=m.useRef(null),a=m.useRef(null),l=m.useRef(null),c=m.useRef(null),h=m.useRef(null),[d,u]=m.useState();return m.useEffect(()=>{if(n!=null&&d==null){const f=new QLt(i,n);u(f)}},[n]),m.useEffect(()=>{if(!(!d||!o.current||!a.current||!c.current||!l.current||!h.current||!i.editor))return XLt(new YLt(o.current)),qpt(new tRt(d,a.current)),ZLt(new WLt(l.current)),R9t(new N9t(d,c.current)),TPt(new PPt(d,h.current,i.editor)),()=>{var f,p,g,_,v;(f=V8())==null||f.dispose(),(p=CA())==null||p.dispose(),(g=sz())==null||g.dispose(),(_=TU())==null||_.dispose(),(v=N8())==null||v.dispose()}},[d,i.editor]),r.jsxs("div",{className:W("invisible absolute",s),style:t,...e,children:[r.jsx("div",{ref:o,className:"absolute h-28 w-68"})," ",r.jsx("div",{ref:a,className:"absolute h-64 w-96"}),r.jsx("div",{ref:c,className:"absolute h-160 w-160"}),r.jsx("div",{ref:l,className:"absolute h-40 w-80"}),r.jsx("div",{ref:h,className:"absolute h-64 w-96"})]})},sRt=m.memo(eRt);function H8({label:s,valueGetter:t,unit:e,labelColor:i,updateFrequency:n}){const[o,a]=m.useState(Date.now());return m.useEffect(()=>{if(n){const l=setInterval(()=>a(Date.now()),n);return()=>{clearInterval(l)}}},[n]),r.jsx(ca,{size:"sm",children:r.jsxs("div",{style:{gridTemplateColumns:"minmax(0, 2fr) minmax(0, 1fr)"},className:"col-span-full box-border grid w-full items-center",children:[r.jsx(K,{className:i&&`text-${i}`,children:s}),r.jsxs(K,{"aria-label":`${s}-value`,className:"text-white",children:[t&&t(),e&&` ${e}`]})]})})}var Fy=(s=>(s[s.FRAME_RATE=0]="FRAME_RATE",s[s.FRAME_TIME=1]="FRAME_TIME",s[s.HEAP_MEMORY=2]="HEAP_MEMORY",s))(Fy||{});const ZS=new Map,iRt={get(s){if(ZS.has(s))return ZS.get(s);{const t=new BL;return t.showPanel(s),t.dom.setAttribute("style",""),t.dom.setAttribute("class","shadow-md inline-block"),ZS.set(s,t),t}}};function KS({panel:s,isOverlay:t}){const e=m.useRef(null),i=m.useCallback(()=>{if(!e||!e.current)return;const n=iRt.get(s??Fy.FRAME_RATE);let o=!0;return requestAnimationFrame(function a(){n.update(),o&&requestAnimationFrame(a)}),e.current.appendChild(n.dom),()=>{o=!1}},[s]);return m.useEffect(()=>{i()},[i]),r.jsx("div",{ref:e,className:"RenderStats",style:t?{position:"absolute",bottom:0,right:0,zIndex:3}:{}})}const nRt=200,oRt=2e3,rRt=4,aRt=9,lRt=5,cRt=6,hRt=2,dRt=1,uRt=9,fRt=2,pRt=2,mRt=2,wM=s=>s>0?(s/1024).toFixed(2):0,ry=({label:s,valueGetter:t,unit:e})=>r.jsx(H8,{label:s,valueGetter:t,unit:e,labelColor:"lime"}),ay=({label:s,valueGetter:t,unit:e})=>r.jsx(H8,{label:s,valueGetter:t,unit:e,labelColor:"teal",updateFrequency:oRt}),ly=({label:s,valueGetter:t})=>r.jsx(H8,{label:s,valueGetter:t,labelColor:"orange",updateFrequency:nRt}),gRt=A(({editor:s,isVisible:t})=>{var T;const e=m.useCallback(()=>Ll.getRecursiveEntityCount(s.selectionController.selectedCollection.sceneEntities),[s.selectionController.selectedCollection.sceneEntities]),i=m.useCallback(()=>Ll.getMaterialStatsFromEntities(s.selectionController.selectedCollection.sceneEntities).uniqueMaterials,[s.selectionController.selectedCollection.sceneEntities]),n=m.useCallback(()=>Ll.getMaterialStatsFromEntities(s.selectionController.selectedCollection.sceneEntities).allMaterialMaps,[s.selectionController.selectedCollection.sceneEntities]),o=m.useCallback(()=>Ll.parseEntitiesForGeometries(s.selectionController.selectedCollection.sceneEntities).triangles,[s.selectionController.selectedCollection.sceneEntities]),a=m.useCallback(()=>wM(Ll.parseEntitiesForGeometries(s.selectionController.selectedCollection.sceneEntities).bytesUsed),[s.selectionController.selectedCollection.sceneEntities]),l=m.useCallback(()=>Object.values(s.sceneController.sceneEntitiesById).length,[s.sceneController.sceneEntitiesById]),c=m.useCallback(()=>Ll.parseEntitiesForGeometries(Object.values(s.sceneController.sceneEntityHierarchy)).triangles,[s.sceneController.sceneEntityHierarchy]),h=m.useCallback(()=>wM(Ll.parseEntitiesForGeometries(Object.values(s.sceneController.sceneEntityHierarchy)).bytesUsed),[s.sceneController.sceneEntityHierarchy]),d=m.useCallback(()=>Ll.getMaterialStatsFromEntities(Object.values(s.sceneController.sceneEntityHierarchy)).allMaterialMaps,[s.sceneController.sceneEntityHierarchy]),u=m.useCallback(()=>Ll.getMaterialStatsFromEntities(Object.values(s.sceneController.sceneEntityHierarchy)).uniqueMaterials,[s.sceneController.sceneEntityHierarchy]),f=(T=s.viewportController.mainViewport)==null?void 0:T.renderer,p=s.sceneController.isEditorMode?rRt:dRt,g=s.sceneController.isEditorMode?aRt:uRt,_=s.sceneController.isEditorMode?lRt:fRt,v=s.sceneController.isEditorMode?cRt:pRt,y=s.sceneController.isEditorMode?hRt:mRt,b=m.useCallback(()=>f?Math.max(0,f.info.memory.geometries-p):null,[p,f]),C=m.useCallback(()=>f?Math.max(0,f.info.memory.textures-g):null,[f,g]),x=m.useCallback(()=>f?Math.max(0,f.info.render.calls-_):null,[_,f]),I=m.useCallback(()=>f?Math.max(0,f.info.render.triangles-v):null,[f,v]),O=m.useCallback(()=>f?Math.max(0,f.info.render.lines-y):null,[y,f]);return r.jsxs(r.Fragment,{children:[s.sceneController.isEditorMode&&r.jsxs(r.Fragment,{children:[r.jsx(ry,{label:"Selection Entity Count",valueGetter:e}),r.jsx(ry,{label:"Selection Material Count",valueGetter:i}),r.jsx(ry,{label:"Selection Material Map Count",valueGetter:n}),r.jsx(ry,{label:"Selection Geom Triangles",valueGetter:o}),r.jsx(ry,{label:"Selection Geom Buffer Size",valueGetter:a,unit:"KB"})]}),r.jsx(ay,{label:"Scene Entity Count",valueGetter:l}),r.jsx(ay,{label:"Scene Material Count",valueGetter:u}),r.jsx(ay,{label:"Scene Material Map Count",valueGetter:d}),r.jsx(ay,{label:"Scene Geom Triangles",valueGetter:c}),r.jsx(ay,{label:"Scene Geom Buffer Size",valueGetter:h,unit:"KB"}),r.jsx(ly,{label:"[GL] Geometry Objects",valueGetter:b}),r.jsx(ly,{label:"[GL] Texture Objects",valueGetter:C}),r.jsx(ly,{label:"[GL] Draw Calls",valueGetter:x}),r.jsx(ly,{label:"[GL] Triangles",valueGetter:I}),r.jsx(ly,{label:"[GL] Lines",valueGetter:O}),r.jsxs("div",{style:{position:"relative",left:-4,display:"flex",flexDirection:"row"},children:[r.jsx(KS,{panel:Fy.FRAME_RATE}),r.jsx(KS,{panel:Fy.FRAME_TIME}),r.jsx(KS,{panel:Fy.HEAP_MEMORY})]})]})}),_Rt=A(({children:s,className:t,editor:e,...i})=>{const{authController:n}=Pt();if(!n.auth.isDev)return null;const o=e.isPerfPanelVisible,a=m.useCallback(()=>e.setIsPerfPanelVisible(!e.isPerfPanelVisible),[e]);return r.jsx(Na,{className:({isHovered:l,isPressed:c,isFocusVisible:h,isDisabled:d})=>W("flex flex-shrink-0 items-center justify-center",l&&!c&&!h&&"bg-hovered",c&&!o&&"bg-active",o&&"bg-active",h&&"shadow-focus",d&&"pointer-events-none opacity-30","h-4 w-full",t),onPress:a,...i,"aria-label":"Performance Stats",children:"Performance Stats"})}),vRt=({isOverlay:s,children:t})=>s?r.jsx("div",{style:{position:"absolute",left:2,bottom:4,zIndex:3,width:264,backgroundColor:"var(--panel)"},children:t}):r.jsx(r.Fragment,{children:t}),iz=A(({editor:s,isOverlay:t})=>r.jsxs(vRt,{isOverlay:t,children:[s.isPerfPanelVisible&&r.jsx(gRt,{editor:s}),r.jsx(_Rt,{editor:s})]})),yRt=({entity:s,option:t,hovered:e,icon:i})=>!e&&!t.persist?r.jsx("span",{className:"flex h-4 w-4"}):t.disabled?r.jsx("span",{className:"flex h-4 w-4"}):r.jsx(qi,{text:t.tooltip,children:r.jsx("div",{children:r.jsx("button",{className:`flex ${t.highlighted?"text-lime":"text-white opacity-secondary hover:opacity-100"} h-4 w-4`,onPointerDown:n=>{n.stopPropagation(),t.onClick(n,s)},onClick:n=>{n.stopPropagation()},onPointerUp:n=>{n.stopPropagation()},children:i})})}),qS=A(yRt),bRt=({indents:s})=>r.jsx(r.Fragment,{children:s.map((t,e)=>r.jsx("div",{className:"justify-left flex h-full w-4 pl-[6px]",children:t},`indent_${e}`))}),CRt=({entity:s,icon:t,isExpanded:e,isActive:i,isHovered:n,isSelected:o,isParentSelected:a,isInteractive:l,indents:c,onClick:h=()=>{},onEditClick:d=()=>{},onPointerDown:u=()=>{},onDragStart:f,onChangeName:p,onSubmitName:g,onHoverEnter:_=()=>{},onHoverLeave:v=()=>{},onExpandClicked:y=()=>{},className:b,onDrop:C})=>{const{dndData:x,setDndData:I}=Pt(),[O,T]=m.useState(!1),D=m.useRef(null),B=m.useMemo(()=>s.isReadOnly,[s]),F=s.canHaveChildren,k=s.hasChildren,Y=s.states.count>0,{dragProps:G,isDragging:st}=Ab({getItems(){return[]},onDragStart(yt){B||(f&&f(s),I(ai.HIERARCHY))},isDisabled:O});delete G.onClick;const{dropZoneProps:$,isDropTarget:X,dropMovePosition:q}=BWt(D,s,st,C),at=yt=>{B||T(!0)},bt={backgroundColor:o?"rgba(206, 242, 63, 0.2)":a?"rgba(255, 255, 255, 0.1)":"transparent"};function lt(yt){_(yt,s)}function ct(yt){v(yt,s)}const nt=m.useCallback(()=>{if(!X||q===null)return"";if(x===ai.HIERARCHY)if(C){if(F)return QS[q];if(q!==Er.MIDDLE)return QS[q]}else return"";else if(x===ai.LIB_STYLE)return QS[q];return""},[C,X,q,x,F]),ot=m.useMemo(()=>B?hn({onPointerDown:yt=>u(yt,s),onPointerUp:yt=>h(yt,s)},$):hn({onPointerDown:yt=>u(yt,s),onPointerUp:yt=>h(yt,s)},G,$),[G,$,s,B,h,u]),Et=m.useMemo(()=>s.isVisible?s.isEffectivelyVisible?Pb:P4:Ob,[s.isVisible,s.isEffectivelyVisible]),Ot=m.useMemo(()=>s.isLocked?HR:s.isEffectivelyLocked?P4:S$,[s.isLocked,s.isEffectivelyLocked]),ut=m.useMemo(()=>{if(!Y)return null;if(s.states.stateId==null)return"Base State";const yt=s.states.getState(s.states.stateId);return(yt==null?void 0:yt.name)??null},[s.states.stateId,s.states.stateNames,Y]);return r.jsxs("li",{style:bt,className:`flex h-8 items-center gap-1 pl-1 pr-3 ${n?"shadow-hoverItem":""} ${b??""} ${nt()}`,ref:D,onPointerEnter:lt,onPointerMove:n?void 0:lt,onPointerLeave:ct,id:`outliner_item_${s.id}`,"aria-selected":o,"aria-labelledby":`outliner_label_${s.id}`,"aria-label":`${s.name}`,"aria-expanded":s.hasChildren?e:void 0,role:"treeitem",...ot,onDoubleClick:at,children:[c&&c.length>0&&r.jsx("div",{className:"flex h-full w-fit items-center gap-1",children:r.jsx(bRt,{indents:c})}),r.jsx("button",{className:"flex h-full w-[10px] shrink-0 items-center justify-center pl-1 opacity-secondary",onClick:yt=>y(yt,s),"aria-label":"Expand Button",children:k?r.jsx(Oi,{className:`transition-transform	${e?"rotate-90":""}`,icon:q0}):""}),r.jsx("div",{className:`text-white ${s.compo.isComponentRoot?"opacity-100":"opacity-secondary"}`,children:r.jsx(Oi,{color:"gray",icon:t})}),O?r.jsx(la,{size:"sm",align:"left",value:s.name,onClick:yt=>yt.stopPropagation(),onChange:yt=>p(yt,s),onSubmit:()=>g(s.name,s),onBlur:()=>T(!1),selected:!0,id:`outliner_label_${s.id}`,className:`w-full !min-w-0 overflow-hidden text-ellipsis whitespace-nowrap !px-0 ${s.compo.componentID?"text-teal":"text-white"}`}):r.jsx("span",{className:`w-full !min-w-0 overflow-hidden text-ellipsis whitespace-nowrap !px-0 ${s.compo.componentID?"text-teal":"text-white"}`,children:r.jsxs(K,{className:"flex",id:`outliner_label_${s.id}`,nowrap:!0,children:[r.jsx("span",{className:`min-w-0 overflow-hidden text-ellipsis whitespace-nowrap ${B?"opacity-50":"opacity-100"}`,children:s.name}),ut&&r.jsx("span",{className:"ml-1 text-t-secondary",children:`(${ut})`})]})}),r.jsxs("div",{className:"flex gap-1",children:[l&&r.jsx(qi,{text:"Interactive object",children:r.jsx("div",{className:"h-4 w-4 text-lime",children:mot})}),s.type!==L.CAMERA?r.jsx("div",{className:"flex h-4 w-4"}):r.jsx(qS,{icon:wj,entity:s,option:{onClick:d,tooltip:"Edit camera",highlighted:i,persist:i,disabled:B},hovered:n}),r.jsx(qS,{entity:s,icon:Ot,option:{onClick:(yt,Kt)=>{yt.altKey?wt(jh.LOCK_INVERSE,{entities:[Kt]}):wt(jh.TOGGLE_LOCK,{entities:[Kt]})},tooltip:"Toggle lock",highlighted:!1,persist:s.isEffectivelyLocked},hovered:n}),r.jsx(qS,{entity:s,icon:Et,option:{onClick:(yt,Kt)=>{yt.altKey?wt(jh.HIDE_INVERSE,{entities:[Kt]}):wt(jh.TOGGLE_VISIBILITY,{entities:[Kt]})},tooltip:"Toggle visibility",highlighted:!1,persist:!s.isEffectivelyVisible},hovered:n})]})]})},wRt=A(CRt),QS={[Er.TOP]:"shadow-dropAbove",[Er.MIDDLE]:"shadow-focus",[Er.BOTTOM]:"shadow-dropBelow"},nz=18,xRt=15,ERt=24,SRt=48,IRt=ERt*xRt+SRt+nz,xM=s=>s.isPerfPanelVisible?IRt:nz;m.createContext({selectedIds:[]});const ARt=A(({editor:s})=>{const t=m.useRef(null),[e,i]=m.useState(!0),[n,o]=m.useState(!1),a=m.useMemo(()=>new QH(s),[s]),l=m.useCallback((k,Y)=>{if(k.compo.componentID!=null&&(Y==null||Y.compo.componentID==null||Y.compo.componentID!==k.compo.componentID))return k.compo.isInstance?pot:fot;if(k.type===L.HAND){const G=k.getComponent(fl);if(G!=null)return G.handedness==="left"?Q$:J$}if(k.type===L.AUDIO){const G=c(k);if(G!=null)return G}return cb(k.type)},[]),c=k=>{const Y=k.getComponent(b1);if(Y!=null){const G=Y.soundComponents.values().next().value;if(G!=null)return G.soundType===nr.SPATIAL?xQ:c5}return null},h=m.useCallback(()=>{s.selectionController.selectedCollection.removeAll()},[s.selectionController.selectedCollection]),d=m.useCallback((k,Y)=>{var st;if(k.stopPropagation(),k.shiftKey||k.metaKey||k.ctrlKey)return;if(k.button===2){s.selectionController.selectedCollection.sceneEntityIds.has(Y.id)||s.selectionController.selectedCollection.set(Y);const $=a.getContextMenuItems();wm.open({coord:{x:k.clientX,y:k.clientY},option:{width:208,hasIcons:!0,items:$}})}else(st=u.current)==null||st.selectedCollection.set(Y)},[a,s.selectionController.selectedCollection]),u=m.useRef(null),f=m.useCallback((k,Y)=>{i(!1),u.current=s.activeSelectionController;const{selectedCollection:G}=s.activeSelectionController,st=G.sceneEntityIds;let $=$t.REPLACE;if(k.shiftKey?$=$t.ADD:(k.ctrlKey||k.metaKey)&&($=$t.TOGGLE),$===$t.REPLACE){st.has(Y.id)||G.set(Y);return}const X=G.sceneEntities;let q=new Set;if($===$t.TOGGLE){if(G.sceneEntities.has(Y)){G.removeSceneEntity(Y);return}q=new Set([Y])}else q=s.sceneController.selectBetween(X,Y);as.concatSets(q,X);for(const at of q)at.forEachChildRecursive(bt=>{q.delete(bt)});G.set(q)},[s.sceneController,s.activeSelectionController]),p=m.useCallback((k,Y)=>{o(!1),s.stateController.signals.name.dispatch({action:P.NAME}),s.stateController.recordAfter({action:P.NAME})},[s.stateController]),g=m.useCallback((k,Y)=>{n||(s.stateController.recordBefore({action:P.NAME}),o(!0)),Y.setName(k.target.value)},[s.stateController,n]),_=m.useCallback((k,Y)=>{k.altKey?s.expansionController.toggleThisAndChildrenExpanded(Y):s.expansionController.toggleExpanded(Y)},[s.expansionController]),v=m.useCallback((k,Y)=>{Jt(()=>{s.sceneController.cameraController.previewCamera(Y.id),s.selectionController.hoveredCollection.addSceneEntity(Y)})},[s.sceneController.cameraController,s.selectionController.hoveredCollection]),y=m.useCallback((k,Y)=>{Jt(()=>{s.sceneController.cameraController.previewCamera(null),s.selectionController.hoveredCollection.removeSceneEntity(Y)})},[s.sceneController.cameraController,s.selectionController.hoveredCollection]),b=m.useCallback((k,Y)=>{const G=s.sceneController.getSceneEntityById(k);if(!G)return;const st=G.getComponent(Fs)!=null;if(Y===Er.MIDDLE&&!st)return;const $=Array.from(s.selectionController.selectedCollection.sceneEntities);switch(Y){case Er.TOP:{s.sceneController.reorder($,ns.BEFORE,G,G.parent);break}case Er.BOTTOM:{if(G.hasChildren&&s.expansionController.isExpanded(G)){s.sceneController.reorder($,ns.BEFORE,G.children.length?G.children[0]:null,G);break}s.sceneController.reorder($,ns.AFTER,G);break}default:s.sceneController.reorder($,ns.BEFORE,G.children.length?G.children[0]:null,G);break}s.expansionController.expandParents($)},[s.expansionController,s.sceneController,s.selectionController.selectedCollection.sceneEntities]),C=m.useCallback((k,Y)=>{s.activeSelectionController.hoveredCollection.addSceneEntity(Y)},[s.activeSelectionController.hoveredCollection]),x=m.useCallback((k,Y)=>{s.activeSelectionController.hoveredCollection.removeSceneEntity(Y)},[s.activeSelectionController.hoveredCollection]);function I(k,Y,G,st,$=!1){const X=s.selectionController.selectedCollection.sceneEntityIds.has(k.id),q=s.expansionController.expandedCollection.sceneEntityIds.has(k.id),at=s.activeSelectionController.hoveredCollection.sceneEntityIds.has(k.id),bt=s.timelineController.isEntityInteractive(k.id),lt=$||X,ct=X||$?void 0:b,nt=k.type===L.CAMERA;if(O.push(r.jsx(wRt,{entity:k,icon:l(k,Y),isExpanded:q,isSelected:X,isHovered:at,isInteractive:bt,isParentSelected:lt,indent:G,indents:st,onPointerDown:f,onClick:d,onEditClick:nt?D:void 0,onChangeName:g,onSubmitName:p,onDrop:ct,onExpandClicked:_,isActive:nt&&k.id===s.sceneController.cameraController.editedCameraId,onHoverEnter:nt?v:C,onHoverLeave:nt?y:x},`${k.id}`)),!q)return null;const ot=k.children,Et=ot.length;for(let Ot=0;Ot<ot.length;Ot++){const ut=ot[Ot],yt=[];if(st)for(const Kt of st)Kt===b9?yt.push(null):yt.push(Kt);yt.push(Ot===Et-1?b9:got),I(ut,k,G+1,yt,lt)}}const O=[];s.sceneController.sceneEntityHierarchy.map(k=>(I(k,null,0,[]),null));function D(k,Y){if(Y.isReadOnly)return;s.selectionController.selectedCollection.set(Y);const G=s.sceneController.cameraController.cameraComponentsById[Y.id];if(G==null)return;G.isViewfinderOn?s.sceneController.cameraController.stopEditCamera():G.editCameraStart()}function B(k){if(t.current==null)return!0;const{bottom:Y,height:G,top:st}=k.getBoundingClientRect(),$=G*.5,X=t.current.getBoundingClientRect();return st<=X.top?X.top-st<=$:Y-X.bottom<=$}function F(k){if(t.current==null)return;if(O.find(G=>G.key===k)!=null){const G=document.getElementById(`outliner_item_${k}`);if(G&&B(G))return;G==null||G.scrollIntoView()}}return m.useEffect(()=>{var Y;if(!e){i(!0);return}const k=(Y=s.selectionController.selectedCollection.lastSceneEntity)==null?void 0:Y.id;k!=null&&F(k)},[s.selectionController.selectedCollection.lastSceneEntity,t]),r.jsxs(r.Fragment,{children:[r.jsxs(Io,{className:"flex flex-col overflow-hidden",onPointerUp:h,children:[r.jsx("div",{className:"px-2 pt-2",children:r.jsx(pe,{label:"Scene"})}),r.jsx("ul",{ref:t,className:"scrollable h-full",role:"tree","aria-multiselectable":"true","aria-label":"Hierarchy",children:O})]}),s.authController.auth.isDev&&r.jsxs(r.Fragment,{children:[r.jsx(wC,{}),r.jsx(Io,{className:"overflow-hidden",style:{maxHeight:`${xM(s)}px`,flexBasis:`${xM(s)}px`},children:r.jsx(iz,{editor:s})})]})]})}),TRt=({editor:s})=>s.fileController.type===fm.TUTORIAL?r.jsx(TB,{editor:s}):r.jsx(ARt,{editor:s}),PRt=A(TRt);var ORt=Object.defineProperty,MRt=(s,t,e)=>t in s?ORt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,LRt=(s,t,e)=>(MRt(s,t+"",e),e);class RRt extends Ug{constructor(t,e,i,n,o,a=130,l=!1){super(t,e,i,n,o,a,l),this.editor=t,this.renderer=e,this.domElement=i,this.visibleLayers=n,this.cameraView=o,this.gizmoSizePx=a,this.isPostProcessingEnabled=l,LRt(this,"vrRenderingController"),WK.init(),this.editor.signals.window.viewportActivated.dispatch(this),this.editor.viewportController.mainViewport=this,this.vrRenderingController=new ySt(t,this),this.editor.soundController.syncListener(this.camera)}watch(){super.watch(),this._reactionDisposers.push(rt(()=>{const{scene:t}=this.editor.sceneController,{fog:e}=t,i=e.isEnabled,{parameters:n}=t.background;e.shouldUseBackgroundColor?this._fog.color.set(n.type===ln.ENVIRONMENT?e.color:n.color):this._fog.color.set(e.color),e.shouldUseCameraPlanes?(this._fog.near=this.camera.near,this._fog.far=this.camera.far):(this._fog.near=e.near,this._fog.far=e.far),this.scene.fog=i?this._fog:null,this.setNeedsRender()}),rt(()=>{const{ambientLight:t}=this.editor.sceneController.scene;this.ambientLight.intensity=t.intensity,this.ambientLight.visible=t.isEnabled,this.ambientLight.color.set(t.color),this.setNeedsRender()}))}get xrState(){return this.vrRenderingController}prepareScene(){const{scene:t}=this;this.editor.fileSettingsController.grid&&(t.add(this.gridHelper.setUnits(this.editor.sceneController.scene.units)),t.add(this.axesHelper)),this.vrRenderingController.setCameraLayers(this.camera.layers),t.add(this.vrRenderingController.playerGroup)}updateXR(t,e){return super.updateXR(t,e),this.vrRenderingController.update(t,e)}updateBehaviors(){return this.editor.sceneController.updateBehaviors(this)}updateAnimations(t){return super.updateAnimations(t),this.sceneController.updateAnimationMixers(t)}resetCamera(t=!0){super.resetCamera(t),this.editor.fileSettingsController.setCameraFov(Jg.fov,t),this.camera.fov=Jg.fov}_updateGridAndAxes(t,e){this.editor.fileSettingsController.setAxes(e),super._updateGridAndAxes(t,e)}}var NRt=Object.defineProperty,jRt=(s,t,e)=>t in s?NRt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Mp=(s,t,e)=>(jRt(s,typeof t!="symbol"?t+"":t,e),e);class DRt extends Ug{constructor(t,e,i,n,o=130){super(t,e,i,t.layerController.editorVisible,n,o),this.editor=t,this.renderer=e,this.domElement=i,this.cameraView=n,this.gizmoSizePx=o,Mp(this,"_skyLight",new XK(16777215,2302755,1)),Mp(this,"wireframeScene",new um),Mp(this,"_v3A",new w),Mp(this,"_v3B",new w),Mp(this,"_pln",new Be),Mp(this,"_throttledViewCamera",y_(()=>{if(this.editor.sceneController.cameraController.selectedCameraId==null)return;const l=this.editor.sceneController.cameraController.cameraComponentsById[this.editor.sceneController.cameraController.selectedCameraId];this.editor.sceneController.cameraController.viewCamera(l,this,!0,!1)},32)),Mp(this,"_changeViewDirectionTimeout"),Mp(this,"_lastCameraForward",new w),this.camera.setOrtho();const a=500;this._skyLight.name="Skylight",this._skyLight.position.setComponent(Zy,a),this.editor.viewportController.miniViewport=this}get defaultPosition(){return new w(0,12,0)}prepareScene(){const{scene:t}=this;this.editor.fileSettingsController.grid&&t.add(this.axesHelper)}render(t,e=!1){super.render(t,this.editor.sceneController.cameraController.previewedCameraId!=null||this.editor.sceneController.cameraController.selectedCameraId!=null)}postSceneRender(t){if(this.editor.sceneController.cameraController.previewedCameraId!=null||this.editor.sceneController.cameraController.selectedCameraId!=null)return;const e=new Set,{wireframeScene:i,renderer:n,_lastFrameNumber:o}=this;t>o&&(n.clearDepth(),this.editor.sceneController.visibleObjects.length>0&&(i.add(...this.editor.sceneController.visibleObjects),Ug.toggleWireframe(i,!0,e))),i.add(this._skyLight),n.render(i,this.camera),t>o&&(Ug.toggleWireframe(i,!1,e),i.clear())}addSignalBindings(){const t=new Zt,{signals:e}=this.editor,i=[];return t.add(super.addSignalBindings()),this.registerSignals(i,[e.selection.selectionChanged],({selection:n})=>{this._handleSelectionChanged(n)}),this.registerSignals(i,[e.selection.selectedCameraChanged],({camera:n})=>{this._handleSelectedCameraChanged(n)}),this.registerSignals(i,[e.selection.selectedCameraUpdated],()=>{if(this.editor.sceneController.cameraController.previewedCameraId!=null||this.editor.sceneController.cameraController.selectedCameraId!=null){this._throttledViewCamera();return}}),this.registerSignals(i,[e.selection.previewedCameraChanged],({camera:n,cameraEntityStateId:o})=>{this._handledPreviewCameraChanged(n,o)}),this.registerSignals(i,[e.gizmo.started],n=>{if(this.editor.sceneController.cameraController.previewedCameraId!=null||this.editor.sceneController.cameraController.selectedCameraId!=null||this.editor.viewportController.activeViewport===this)return;const o=this._v3A.copy(n.axisGlobal);n.gizmoName.startsWith("rotate")||this._calculateNewCameraForwardBasedOnDirection(n.axisGlobal,o),this._orientAndFocus(o,{shouldPad:!0,enableTransition:!0,shouldFocusHelpers:!1,shouldOrientToClosestAxis:!0})}),this.registerSignals(i,[e.object.moved],n=>{if(this.editor.sceneController.cameraController.previewedCameraId!=null||this.editor.sceneController.cameraController.selectedCameraId!=null){this._throttledViewCamera();return}if(this.editor.viewportController.activeViewport===this||Wr(n.pointStart,n.pointEnd))return;const o=this._v3A,a=this._v3B;a.subVectors(n.pointEnd,n.pointStart).normalize(),this._calculateNewCameraForwardBasedOnDirection(a,o),this._orientAndFocus(o,{shouldPad:!1,enableTransition:!1,shouldFocusHelpers:!0})}),this.registerSignals(i,[e.object.drawContinued],n=>{if(this.editor.sceneController.cameraController.previewedCameraId!=null||this.editor.sceneController.cameraController.selectedCameraId!=null||this.editor.viewportController.activeViewport===this)return;const o=this._v3A.copy(n.intersectionPlane.normal);o.dot(vi)>0&&o.negate(),this.setCameraView(o,{shouldFrame:!0,enableTransition:!1}),this.focus({shouldPad:!0,enableTransition:!1,shouldFocusHelpers:!0})}),this.registerSignals(i,[e.object.penContinued],n=>{if(this.editor.sceneController.cameraController.previewedCameraId!=null||this.editor.sceneController.cameraController.selectedCameraId!=null||this.editor.viewportController.activeViewport===this)return;const o=this.editor.viewportController.activeViewport,{points:a,intersectionPlane:l}=n,{planeSnapper:c}=o,h=this._v3A.copy(c.normal);let d=!1;if(a.length===1){const u=a[0];if(c.plane.distanceToPoint(u)>am){const p=this._v3A;c.plane.projectPoint(u,p);const g=this._v3B;g.subVectors(u,p).normalize(),this._calculateNewCameraForwardBasedOnDirection(g,h)}}else if(a.length===2)if(Wr(a[0],a[1]))d=!0,this._calculateNewCameraForwardBasedOnDirection(l.normal,h);else{const u=this._v3B;u.subVectors(a[0],a[1]).normalize(),this._calculateNewCameraForwardBasedOnDirection(u,h)}else if(a.length===3){if(Wr(a[1],a[2])||UG(a[1],a[2],a[0],this._v3B))return;const u=this._pln.setFromCoplanarPoints(a[0],a[1],a[2]);h.copy(u.normal)}else{const u=a[0];yxt(l,u)?h.copy(l.normal):this._calculateNewCameraForwardBasedOnDirection(l.normal,h)}this._orientAndFocus(h,{shouldPad:d,enableTransition:!0,shouldFocusHelpers:!0})}),this.registerSignals(i,[e.gizmo.continued],n=>{if(this.editor.sceneController.cameraController.previewedCameraId!=null||this.editor.sceneController.cameraController.selectedCameraId!=null){this._throttledViewCamera();return}this.editor.viewportController.activeViewport!==this&&(n.gizmoName.startsWith("rotate")||this.focus({shouldPad:!0,shouldFocusHelpers:!1,shouldOrientToClosestAxis:!0,enableTransition:!1}))}),this.registerSignals(i,[e.mesher.interactionEnded],()=>{this.editor.sceneController.cameraController.previewedCameraId!=null||this.editor.sceneController.cameraController.selectedCameraId!=null||this.editor.viewportController.activeViewport!==this&&this.focus({shouldPad:!0,enableTransition:!1})}),t.add(new tt(()=>{for(const n of i)n.detach()})),t}toggleOrthoMode(){this.camera.toggle()}_calculateNewCameraForwardBasedOnDirection(t,e=new w){const i=this._v3A;return this.editor.viewportController.activeViewport.camera.getWorldDirection(i),e.copy(i).cross(t).normalize(),e}_handleSelectionChanged(t){if(this.editor.sceneController.cameraController.selectedCameraId!=null){const e=this.editor.sceneController.cameraController.cameraComponentsById[this.editor.sceneController.cameraController.selectedCameraId];if(t.has(e.entity))return;this.editor.sceneController.cameraController.deselectCamera()}this.setCameraView(zt.TOP,{shouldFrame:!0,enableTransition:!0})}_viewSelectedCamera(t,e=null){const i=this.editor.sceneController.cameraController,n=i.cameraComponentsById[t];if(n!=null){const{type:o,parameters:a}=n.entity.sceneObject;if(o!==L.CAMERA)return;const l=n.entity.states.stateId;if(e!=null){const c=e===ys?null:e;n.entity.states.setActiveState(c)}i.viewCamera(n,this,!1,!1),this.camera.setMode(a.projection),this.camera.isPerspectiveCamera&&this.camera.setFov(a.fov??Jg.fov),n.entity.states.setActiveState(l)}}_handleSelectedCameraChanged(t){if(this.editor.sceneController.cameraController.selectedCameraId!=null){this._viewSelectedCamera(this.editor.sceneController.cameraController.selectedCameraId);return}}_handledPreviewCameraChanged(t,e){if(t!=null){this._viewSelectedCamera(t,e);return}else if(this.editor.sceneController.cameraController.selectedCameraId!=null){this._viewSelectedCamera(this.editor.sceneController.cameraController.selectedCameraId,e);return}this.camera.setOrtho(),this.setCameraView(zt.TOP,{shouldFrame:!0,enableTransition:!0})}_orientAndFocus(t,e={shouldPad:!0,enableTransition:!1,shouldFocusHelpers:!1}){var n;BRt(t);const i=((n=this.editor.viewportController.activeViewport)==null?void 0:n.camera)??this.camera;kRt(t,i),this._debouncedSetCameraView(t,{...e,shouldFrame:!0})}_debouncedSetCameraView(t,e){if(Wr(this._lastCameraForward,t)){if(clearTimeout(this._changeViewDirectionTimeout),this._changeViewDirectionTimeout=void 0,this._lastCameraForward.copy(t),e.shouldFrame)return this.focus({...e,enableTransition:!1})}else this._changeViewDirectionTimeout||(this._changeViewDirectionTimeout=setTimeout(()=>{clearTimeout(this._changeViewDirectionTimeout),this._changeViewDirectionTimeout=void 0,this._lastCameraForward.copy(t),this.setCameraView(t,e)},FRt))}}const FRt=200;function BRt(s){let t=Number.MIN_VALUE,e=vi;for(const i of rat){const n=s.dot(i);n>t&&(e=i,t=n)}return s.copy(e),s}function kRt(s,t){const e=new w;return t.getWorldDirection(e),e.dot(s)<0&&s.negate(),s}function GRt({size:s="md",className:t,placement:e="bottom",...i}){const{label:n,children:o,items:a,onSelectionChange:l,selectedKeys:c}=i,[h,d]=m.useState(!1),u=m.useCallback(f=>d(f),[]);return r.jsxs(_L,{onOpenChange:u,children:[r.jsx(Tj,{isOpen:h,size:s,className:t,"aria-label":n,children:({isHovered:f})=>r.jsxs(r.Fragment,{children:[r.jsx("span",{children:n}),r.jsx(J8,{variant:f||h?"primary":"secondary",size:s})]})}),r.jsx(xm,{placement:e,children:r.jsx(vL,{selectionMode:"multiple",className:"mousetrap min-w-[var(--trigger-width)] max-w-[250px] rounded border border-border bg-panel shadow-menu",items:a,onSelectionChange:l,selectedKeys:c,"aria-label":"Helper visibility options",children:o})})]})}const VRt=({className:s,fileSettingsController:t,...e})=>{const i=m.useMemo(()=>Object.keys(t.helperVisibility),[t.helperVisibility]),n=h=>{const d={areLightHelpersVisible:!1,areCameraHelpersVisible:!1,areCollidersVisible:!1,areFramesVisible:!1,areSoundsVisible:!1,areGamepadsVisible:!1,isBodyRigVisible:!1,isGridVisible:!1};for(const u of h)d[u]=!0;t.setHelperVisibility(d)},o=t.helperVisibility,a=[{id:"all",text:"Toggle all on/off"},{id:"areLightHelpersVisible",text:"Light objects"},{id:"areCameraHelpersVisible",text:"Camera objects"},{id:"areFramesVisible",text:"Frames (beta)"},{id:"areSoundsVisible",text:"Sounds"},{id:"isGridVisible",text:"Grid"},{id:"areCollidersVisible",text:"Colliders"},{id:"areGamepadsVisible",text:"Gamepads"}],l=Object.entries(o).reduce((h,[d,u])=>(u&&h.add(d),h),new Set);l.size===i.length&&l.add("all");const c=h=>{const d=Array.from(l).filter(u=>!h.has(u));if(d.includes("all"))n(new Set);else if(h.has("all"))if(d.length===0)n(new Set(i));else{const u=new Set(h);u.delete("all"),n(u)}else n(h)};return r.jsx("div",{className:W("right-[72px] top-0 rounded bg-gray-90",s),...e,children:r.jsxs(GRt,{items:a,label:"Helper visibility",selectedKeys:l,onSelectionChange:c,size:"lg",placement:"bottom right",className:"rounded border border-solid border-border bg-gray-90 pl-3 pr-1",children:[r.jsx(WT,{className:"w-[150px] border-b border-solid border-border",children:r.jsx(se,{id:"all",textValue:"Toggle all on/off"})}),r.jsxs(WT,{className:"w-[150px]",children:[r.jsx(se,{id:"areLightHelpersVisible",textValue:"Light objects"}),r.jsx(se,{id:"areCameraHelpersVisible",textValue:"Camera objects"}),r.jsx(se,{id:"areFramesVisible",textValue:"Frames (beta)"}),r.jsx(se,{id:"isGridVisible",textValue:"Grid"}),r.jsx(se,{id:"areCollidersVisible",textValue:"Colliders"}),r.jsx(se,{id:"areSoundsVisible",textValue:"Audio"}),r.jsx(se,{id:"isBodyRigVisible",textValue:"Body rig"}),r.jsx(se,{id:"areGamepadsVisible",textValue:"Gamepads"})]})]})})},HRt=A(VRt),URt=({className:s,style:t,size:e,matrixData:i,invertedMatrixData:n,direction:o,isViewCubeHovered:a,onAxisButtonClick:l,...c})=>r.jsx("div",{className:W("preserve-3d",s),style:{...t,...i&&{transform:`matrix3d(${i.toString()})`}},...c,children:Object.values(Mt).map(h=>{let d=!1;return h===Mt.X&&(o===zt.RIGHT||o===zt.LEFT)&&(d=!0),h===Mt.Y&&(o===zt.TOP||o===zt.BOTTOM)&&(d=!0),h===Mt.Z&&(o===zt.FRONT||o===zt.BACK)&&(d=!0),r.jsx(qat,{axis:h,shouldFlip:d,size:e,invertedMatrixData:n,isViewCubeHovered:a,onAxisButtonClick:l},`viewcube-axis-${h}`)})}),zRt=m.memo(URt),YRt=({className:s,style:t,size:e,actionIndex:i,action:n,totalActionsCount:o,...a})=>{const h=m.useMemo(()=>-(90/(o-1))*i-24,[i,o]);return r.jsx("div",{className:W("pointer-events-none absolute flex w-full items-center justify-start",e==="sm"&&"top-8",e==="md"&&"top-16",e==="lg"&&"top-24",s),style:{...t,transformOrigin:`${e==="sm"?"72px":e==="md"?"136px":"208px"}`,transform:`translate(0, -50%) rotate(${h}deg)`},...a,children:r.jsx(qi,{text:n.tooltipLabel,placement:"left",children:r.jsx("button",{className:W("pointer-events-auto relative flex animate-view-cube-popover-button items-center justify-center rounded-full border border-solid border-gray-70 bg-gray-90 hover:bg-gray-70",e==="sm"&&"h-8 w-8",e==="md"&&"h-16 w-16",e==="lg"&&"h-24 w-24"),style:{transform:`rotate(${-h}deg)`},onClick:n.onClick,children:n.icon})})})},WRt=m.memo(YRt),XRt=({className:s,style:t,size:e,popoverActions:i,...n})=>r.jsx("div",{className:W("absolute right-0 top-0 block",e==="sm"&&"h-26 w-26",e==="md"&&"h-50 w-50",e==="lg"&&"h-76 w-76",s),style:t,...n,children:i.map((o,a)=>r.jsx(WRt,{size:e,action:o,actionIndex:a,totalActionsCount:i.length},`view-cube-popover-action-${a}`))}),ZRt=m.memo(XRt),KRt={[zt.TOP]:"Top",[zt.BOTTOM]:"Bottom",[zt.RIGHT]:"Right",[zt.LEFT]:"Left",[zt.FRONT]:"Front",[zt.BACK]:"Back"},qRt=({className:s,style:t,viewportIndex:e,editor:i,size:n="md",viewportType:o,...a})=>{const{hoverProps:l,isHovered:c}=Ao({}),h=m.useRef(null),[d,u]=m.useState(c),f=hn(l,{onPointerEnter(){u(!0)}});m.useEffect(()=>{u(c)},[c]),tc(h,()=>{u(!1)});const{axesContainerRef:p,isVisible:g,isViewCubeOrbit:_,isPerspectiveCamera:v,posStyle:y,matrixData:b,invertedMatrixData:C,direction:x,popoverActions:I,onAxisButtonClick:O}=SWt(o,e,i),T=!_&&d&&(o===Jn.MAIN||o===Jn.PLAY);return g?r.jsxs("div",{className:W("absolute right-0 top-0",s),style:{...t,...y},...a,ref:h,children:[!!I.length&&d&&!_&&r.jsx(ZRt,{...l,size:n,popoverActions:I}),r.jsxs("div",{...f,ref:p,className:W("flex items-center justify-center rounded-full",n==="sm"&&"h-16 w-16",n==="md"&&"h-32 w-32",n==="lg"&&"h-48 w-48",c||_?"border border-gray-70 bg-gray-90":"border border-gray-70/50 bg-gray-90/50",v?"perspective-view-cube":"orthographic-view-cube"),children:[r.jsx(zRt,{size:n,matrixData:b,invertedMatrixData:C,isViewCubeHovered:c||_,direction:x,onAxisButtonClick:O}),!c&&!_&&x!==void 0&&r.jsx("span",{className:W("absolute text-body2",x===zt.TOP&&"left-1/2 top-2 -translate-x-1/2",(x===zt.BOTTOM||x===zt.FRONT||x===zt.BACK||x===zt.RIGHT||x===zt.LEFT)&&"bottom-2 left-1/2 -translate-x-1/2"),children:KRt[x]})]}),T&&r.jsx(HRt,{className:"absolute",fileSettingsController:i.fileSettingsController,...l})]}):null},QRt=A(qRt);function JRt({viewportType:s,editor:t,cameraView:e,renderer:i,gizmoSizePx:n=130,shouldInit:o=!1,renderSceneOnly:a=!1}){const[l,c]=m.useState(-1),h=m.useRef(null),d=m.useRef(null),{dropZoneProps:u}=DWt(h,d,t,s),f=()=>{if(!d||!d.current||!h||!h.current)return;const g=h.current.clientWidth,_=h.current.clientHeight;d.current.setSize(g,_)},[p]=Qx.useDebouncedCallback(f,0);return tR({ref:h,onResize:p}),m.useEffect(()=>{if(!h||!h.current){console.error("Viewport is not attached");return}let g;if(e!=null)g=new DRt(t,i,h.current,e,n),g.setCameraView(e,{shouldFrame:!0,enableTransition:!1}),g.saveAsDefaultView(),g.start();else{let _=t.layerController.editorVisible;s===Jn.PLAY?_=t.layerController.playVisible:s===Jn.PUBLISHED&&(_=t.layerController.publishVisible),g=new RRt(t,i,h.current,_,e,n,s!==Jn.MINI),g.focus({enableTransition:!1,shouldOrientToClosestAxis:!1,shouldPad:!0}),g.saveAsDefaultView(),g.start()}return d.current=g,c(t.viewportController.viewports.length),Jt(()=>{t.viewportController.viewports.push(g)}),o&&t.init(),()=>{g.dispose()}},[]),r.jsx("div",{...u,ref:h,tabIndex:-1,className:"Viewport",role:"application","data-testid":`${s}Viewport`,children:l!==-1&&t.isUIVisible&&r.jsx(QRt,{size:"sm",viewportType:s,viewportIndex:l,editor:t})})}const I3=A(JRt);function $Rt({editor:s}){const t=m.useRef(null),[e,i]=m.useState(),n=s.getOrCreateRenderer(Jn.MINI);m.useEffect(()=>{s&&i(r.jsx(I3,{viewportType:Jn.MINI,editor:s,cameraView:zt.TOP,gizmoSizePx:75,renderer:n}))},[s,n]);const o=m.useMemo(()=>s.sceneController.cameraController.editedCameraId,[s.sceneController.cameraController.editedCameraId]),a=window.innerWidth<I_;t.current&&(t.current.style.display=a?"none":"block");function l(){const h=s.sceneController.cameraController.selectedCameraId;h!=null&&s.sceneController.cameraController.editCamera(h)}function c(){s.sceneController.cameraController.stopEditCamera()}return r.jsxs(Io,{ref:t,className:"aspect-[3/2] overflow-hidden",isFixedSize:!0,children:[e,s.sceneController.cameraController.selectedCamera&&r.jsx("button",{className:`absolute bottom-0 right-0 m-2 flex ${o?"bg-lime":"bg-panel"}`,onPointerUp:o?c:l,children:r.jsx(K,{className:`px-3 py-1.25 ${o?"text-gray-80":"text-white"}`,children:o?"Exit edit mode":"Edit Camera"})})]})}const tNt=A($Rt),oz=({title:s,rightContent:t})=>r.jsx("div",{className:"px-2",children:r.jsx(pe,{label:s,children:t})});function eNt({commentController:s}){const[t,e]=m.useState(!0),i=s.sortedComments.filter(([o,a])=>a.archived===!0&&a.parentCommentId==null);function n(){e(o=>!o)}return i.length<1?null:r.jsxs("div",{className:"bottom-40 w-full",children:[r.jsx("hr",{}),r.jsx(oz,{title:`Archived comments (${i.length})`,rightContent:r.jsx(As,{"aria-label":"Toggle archived comments",onPress:n,children:t?x_:La})}),!t&&i.map(([o,a])=>r.jsx("div",{children:r.jsx(dB,{commentController:s,id:o,comment:a,selected:!1},o)},o)),r.jsx("hr",{})]})}const sNt=A(eNt);function iNt({editor:s}){const{commentController:t}=s;m.useEffect(()=>{t.markAllCommentsAsRead()},[t]);const e=t.sortedComments.filter(([a,l])=>l.archived===!1&&l.parentCommentId==null),i=e.length;function n(a){t.selectComment(a)}const o=`${i} comment${i===1?"":"s"}`;return r.jsxs(ae,{isPadded:!1,children:[r.jsx(oz,{title:o}),r.jsxs("div",{className:"max-h-[calc(100vh-106px)] overflow-y-scroll",children:[i===0?r.jsx(K,{color:"secondary",className:"m-3",children:"Click on any object to add a comment."}):e.map(([a,l])=>r.jsx("div",{children:r.jsx(dB,{commentController:t,id:a,comment:l,selected:t.selected===a,onSelect:c=>n(c)},a)},a)),r.jsx(sNt,{commentController:t})]})]})}const rz=A(iNt),nNt=({editor:s,subdivisionComponents:t,...e})=>{const i=m.useMemo(()=>t.length===0?null:t[0],[t]),n=m.useCallback(()=>{s.stateController.recordBefore({action:P.SUBDIVISION})},[t]),o=m.useCallback(h=>{for(const d of t)d.setSubdivision(h);s.stateController.signals.subdivision.dispatch({action:P.SUBDIVISION})},[t]),a=m.useCallback(()=>{s.stateController.recordAfter({action:P.SUBDIVISION})},[t]),l=m.useMemo(()=>y_(h=>{o(h)},100),[o]);return!i||!s.featureFlagService.featureFlags[Uc.ARE_SUBDIVISIONS_ENABLED]?null:r.jsx(ae,{isReadOnly:e.isReadOnly,children:r.jsx(bI,{children:r.jsx(vb,{label:"Subdivisions",min:0,max:5,step:1,value:i.subdivision,onBegin:n,onChange:l,onEnd:a,...i.subdivision>3&&{tooltipIcon:r.jsx(Nb,{children:"Value over 3 may impact performance"})}})})})},az=A(nNt),oNt=({isXrayViewEnabled:s})=>{const t=()=>{wt(zl.TOGGLE_XRAY_VIEW)};return r.jsxs(ae,{children:[r.jsx(pe,{label:"View settings"}),r.jsx(Yl,{children:r.jsx(Pa,{className:"pl-[8px]",variant:"secondary",size:"sm",onChange:t,isSelected:s,children:r.jsx(K,{children:"Xray Mode"})})})]})},rNt=A(oNt),aNt=({editor:s,meshController:t})=>{const e=m.useMemo(()=>{var n;return(n=t.meshComponent)==null?void 0:n.entity},[t.meshComponent]),i=m.useMemo(()=>{if(!e)return[];const n=e.getComponent(Dh);return n?[n]:[]},[e]);return r.jsxs(r.Fragment,{children:[r.jsx(az,{editor:s,subdivisionComponents:i}),r.jsx(rNt,{isXrayViewEnabled:t.isXrayViewEnabled})]})},lNt=A(aNt);function cNt({historyController:s}){const t=s.versions;m.useEffect(()=>{s.loadVersions()},[s]);async function e(n){await s.restore(n)}function i(){wt(it.SELECT)}return r.jsxs(ae,{children:[r.jsx(pe,{label:"Version History",children:r.jsx(cs,{label:"Close",onPress:i,children:po})}),r.jsxs("div",{className:"max-h-[calc(100vh-106px)] overflow-y-auto","aria-label":"File versions",children:[r.jsx(EM,{date:"Current version",name:void 0,onRestore:()=>e()}),Object.entries(t).map(([n,o])=>r.jsx(EM,{date:o.lastUpdated,name:o.name,onRestore:()=>e(n)},n))]})]})}function EM({date:s,name:t,onRestore:e}){const i=typeof s=="string"?s:not(s),n=t??i;return r.jsxs("div",{className:"group flex h-12 items-center justify-between px-3 py-0 hover:bg-hovered",children:[r.jsx(K,{className:"truncate",children:n}),r.jsx(Tn,{className:"opacity-0 group-hover:opacity-100",text:"Restore",mode:"primary",height:30,width:30,onClick:e,"aria-label":`Restore to version ${n}`})]})}const hNt=A(cNt),Yl=({children:s})=>r.jsx(ca,{children:r.jsx(G3,{numCols:1,children:s})});var dNt=Object.defineProperty,uNt=(s,t,e)=>t in s?dNt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,cy=(s,t,e)=>(uNt(s,typeof t!="symbol"?t+"":t,e),e);class fNt{constructor(t,e=2){cy(this,"_size"),cy(this,"_step"),cy(this,"_pool",[]),cy(this,"_used",[]),cy(this,"_disposeFn",i=>this.disposeItem(i)),this._size=t,this._step=e,this._inflate(this._size)}_inflate(t){for(let e=0;e<t;e++){const i=this.createItem();this._pool.push(i)}}get availableCount(){return this._pool.length}get usedCount(){return this._used.length}acquire(){this._pool.length===0&&this._inflate(this._step);const t=this._pool.pop();if(t===void 0)throw new Error(`Item of type ${typeof t} is undefined`);return this._used.push(t),t}release(t){const e=this._used.indexOf(t);if(e===-1)throw new Error(`Item of type ${typeof t} is not in use`);this._used.splice(e,1),this._pool.push(t)}releaseAll(t){for(let e=this._used.length-1;e>=0;e--){const i=this._used[e];t(i),this.release(i)}this._used=[]}dispose(){const{_pool:t,_used:e}=this;e.forEach(this._disposeFn),t.forEach(this._disposeFn),this._used=[],this._pool=[]}}var pNt=Object.defineProperty,mNt=(s,t,e)=>t in s?pNt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,SM=(s,t,e)=>(mNt(s,typeof t!="symbol"?t+"":t,e),e);const{alignmentPreviewPlaneMaterial:gNt,lineMaterials:_Nt}=Te;class vNt extends zs{constructor(){super(),SM(this,"_plane"),SM(this,"_outline");const t=new Jc,e=gNt;this._plane=new re(t,e),this._plane.layers.set(ce.OVERLAY);const i=new eR(t),n=new C_(i),a=new Ef().fromLineSegments(n),l=_Nt.alignmentPreviewLineMaterial;this._outline=new Xg(a,l),this._outline.layers.set(ce.OVERLAY),this.add(this._plane),this.add(this._outline)}updateColor(t){this._plane.material.color.set(t),this._outline.material.color.set(t)}dispose(){this._plane.geometry.dispose(),this._plane.material.dispose(),this._outline.geometry.dispose(),this._outline.material.dispose()}}class yNt extends fNt{createItem(){return new vNt}disposeItem(t){t.dispose()}}const lz=new yNt(2);let Fx=!1;const bNt=new su,v0=new C_(new eR(bNt),Te.distributionPreviewMaterial);v0.layers.set(ce.OVERLAY);const oI=[],Y0={highlightLine:0,scaleCageLine:0,scaleCageMesh:0},W0={highlightLine:new Ge,scaleCageLine:new Ge,scaleCageMesh:new Ge};function cz(s){Fx||(Fx=!0,Y0.highlightLine=Te.lineMaterials.highlightLineMaterial.opacity,Te.lineMaterials.highlightLineMaterial.opacity=0,W0.highlightLine=Te.lineMaterials.highlightLineMaterial.color,Te.lineMaterials.highlightLineMaterial.color=Yt.gray,Y0.scaleCageLine=s.gizmoMaterialController.gizmoMaterials.scaleCageMaterials.line.lineMaterial.opacity,s.gizmoMaterialController.gizmoMaterials.scaleCageMaterials.line.lineMaterial.opacity=0,W0.scaleCageLine=s.gizmoMaterialController.gizmoMaterials.scaleCageMaterials.line.lineMaterial.color,s.gizmoMaterialController.gizmoMaterials.scaleCageMaterials.line.lineMaterial.color=Yt.gray,Y0.scaleCageMesh=s.gizmoMaterialController.gizmoMaterials.scaleCageMaterials.mesh.meshMaterial.shaderOpacity,s.gizmoMaterialController.gizmoMaterials.scaleCageMaterials.mesh.meshMaterial.shaderOpacity=0,W0.scaleCageMesh=s.gizmoMaterialController.gizmoMaterials.scaleCageMaterials.mesh.meshMaterial.color,s.gizmoMaterialController.gizmoMaterials.scaleCageMaterials.mesh.meshMaterial.color=Yt.gray,s.signals.gizmo.changed.dispatch())}function hz(s){Fx&&(Fx=!1,Te.lineMaterials.highlightLineMaterial.opacity=Y0.highlightLine,Te.lineMaterials.highlightLineMaterial.color=W0.highlightLine,s.gizmoMaterialController.gizmoMaterials.scaleCageMaterials.line.lineMaterial.opacity=Y0.scaleCageLine,s.gizmoMaterialController.gizmoMaterials.scaleCageMaterials.line.lineMaterial.color=W0.scaleCageLine,s.gizmoMaterialController.gizmoMaterials.scaleCageMaterials.mesh.meshMaterial.shaderOpacity=Y0.scaleCageMesh,s.gizmoMaterialController.gizmoMaterials.scaleCageMaterials.mesh.meshMaterial.color=W0.scaleCageMesh,s.signals.gizmo.changed.dispatch())}function IM(s,t,e,i){const n=lz.acquire();switch(n.matrixAutoUpdate=!1,e.getSize(Np),e.getCenter(ef),n.rotation.set(0,0,0),n.position.set(0,0,0),n.scale.set(1,1,1),n.updateMatrix(),t){case Oe.MINIMUM:n.position.copy(e.min);break;case Oe.CENTER:n.position.copy(ef);break;case Oe.MAXIMUM:n.position.copy(e.max);break}switch(s){case Mt.X:n.updateColor(Yt.redDimmed),n.position.setY(ef.y),n.position.setZ(ef.z),n.scale.set(Np.z,Np.y,1),n.rotateY(Math.PI/2);break;case Mt.Y:n.updateColor(Yt.greenDimmed),n.position.setX(ef.x),n.position.setZ(ef.z),n.scale.set(Np.x,Np.z,1),n.rotateX(Math.PI/2);break;case Mt.Z:n.updateColor(Yt.blueDimmed),n.position.setX(ef.x),n.position.setY(ef.y),n.scale.set(Np.x,Np.y,1);break}return n.updateMatrix(),i&&n.applyMatrix4(i),n}function CNt(s){const t=new Set;for(const i of s){const{parent:n}=i;n&&n.isFrame&&t.add(n)}const e=[];for(const i of t.values())e.push({boundingBox:i.boundingBox.clone(),matrixGlobal:i.transform.matrixGlobal.clone()});return e}const AM=new Us,ef=new w,Np=new w;function U8(s,t,e,i,n){const o=[];if(n==Ea.SELECTION)tu.getBoundingBoxGlobal(t,AM),o.push(IM(e,i,AM));else{const a=CNt(t);for(const{boundingBox:l,matrixGlobal:c}of a)l.getSize(Np),l.getCenter(ef),o.push(IM(e,i,l,c))}cz(s),o.length>0&&(s.helpers.add(...o),s.signals.object.sceneGraphChanged.dispatch())}function __(s){hz(s),lz.releaseAll(t=>s.helpers.remove(t)),s.signals.object.sceneGraphChanged.dispatch()}function wNt(s,t,e,i){const n=tu.getDistributedEntityPositions(t,e,i);switch(e){case Mt.X:v0.material.color.set(Yt.redDimmed);break;case Mt.Y:v0.material.color.set(Yt.greenDimmed);break;case Mt.Z:v0.material.color.set(Yt.blueDimmed);break}v0.matrixAutoUpdate=!1;const o=new w,a=new Lt,l=new w;for(const{entity:c,globalPosition:h}of n){const d=v0.clone();c.boundingBoxGlobal.getCenter(l).sub(c.transform.positionGlobalVec),o.copy(h).sub(c.transform.positionGlobalVec),o.add(l),a.makeTranslation(...o.toArray()),c.boundingBox.getSize(d.scale),d.updateMatrix(),a.multiply(c.transform.matrixGlobal),d.applyMatrix4(a),s.helpers.add(d),oI.push(d)}cz(s),s.signals.object.sceneGraphChanged.dispatch()}function TM(s){hz(s);for(const t of oI)s.helpers.remove(t);oI.length=0,s.signals.object.sceneGraphChanged.dispatch()}function xNt(s){return s.target.dataset.hoverId}function ENt(s,t){return s==Ea.SELECTION&&t.size<2&&tu.areAllEntitiesInFrames(t)||s==Ea.FRAME&&t.size>1&&!tu.areSomeEntitiesInFrames(t)}function SNt(s){return Object.values(Ea).includes(s)}const INt=s=>{var g,_;const{editor:t}=s,e=t.selectionController.selectedCollection.sceneEntities,i=t.sceneController.alignmentScope,[n,o]=m.useState(Bs.X),[a,l]=m.useState(Bs.Y),[c,h]=m.useState(Bs.Z),d=m.useCallback(()=>{var y;const v=(y=t.viewportController.mainViewport)==null?void 0:y.camera;if(v){const[b,C,x]=u_.getWorkingAxes(v.matrixWorld);o(b),l(C),h(x)}},[(g=t.viewportController.mainViewport)==null?void 0:g.camera]);m.useEffect(()=>{var y,b;const v=(y=t.viewportController.mainViewport)==null?void 0:y.controls;return d(),v&&((b=t.viewportController.mainViewport)==null||b.controls.addEventListener("update",d)),()=>{var C;v&&((C=t.viewportController.mainViewport)==null||C.controls.removeEventListener("update",d))}},[d,(_=t.viewportController.mainViewport)==null?void 0:_.controls]),m.useEffect(()=>{ENt(i,e)&&wt(Ol.TOGGLE_SCOPE)},[e,i]);const u=m.useMemo(()=>{const v=[];return tu.areSomeEntitiesInFrames(e)&&v.push({key:Ea.FRAME,label:"Within Frame",child:SR}),e.size>1&&v.push({key:Ea.SELECTION,label:"Selected objects",child:l5}),v},[e]),f=m.useCallback(v=>{SNt(v)&&v!=i&&wt(Ol.TOGGLE_SCOPE)},[i]);return i==Ea.SELECTION&&e.size>1||i==Ea.FRAME&&tu.areSomeEntitiesInFrames(e)?r.jsxs(ae,{isReadOnly:s.isReadOnly,children:[r.jsx(pe,{label:"Align",children:r.jsx("div",{className:"flex flex-shrink-0 items-center justify-end pr-1",children:r.jsx(Wg,{options:u,onChange:f,value:i,size:"sm"})})}),r.jsxs(Yl,{children:[r.jsxs(DY,{children:[Object.values(sl).map(v=>r.jsx(ANt,{direction:v,sideAxis:n,upAxis:a,scope:i,...s},v)),r.jsx(LNt,{forwardAxis:c,scope:i,...s})]}),r.jsx(MNt,{scope:i,...s})]})]}):null},dz={[Mt.X+Oe.MINIMUM]:Ol.ALIGN_MIN_X,[Mt.Y+Oe.MINIMUM]:Ol.ALIGN_MIN_Y,[Mt.Z+Oe.MINIMUM]:Ol.ALIGN_MIN_Z,[Mt.X+Oe.CENTER]:Ol.ALIGN_CENTER_X,[Mt.Y+Oe.CENTER]:Ol.ALIGN_CENTER_Y,[Mt.Z+Oe.CENTER]:Ol.ALIGN_CENTER_Z,[Mt.X+Oe.MAXIMUM]:Ol.ALIGN_MAX_X,[Mt.Y+Oe.MAXIMUM]:Ol.ALIGN_MAX_Y,[Mt.Z+Oe.MAXIMUM]:Ol.ALIGN_MAX_Z},ANt=A(s=>{const{direction:t,sideAxis:e,upAxis:i}=s;let n=Mt.X,o=Oe.MINIMUM;switch(t){case sl.LEFT:n=wg(e),o=nw(e)?Oe.MAXIMUM:Oe.MINIMUM;break;case sl.HORIZONTAL_CENTER:n=wg(e),o=Oe.CENTER;break;case sl.RIGHT:n=wg(e),o=nw(e)?Oe.MINIMUM:Oe.MAXIMUM;break;case sl.TOP:n=wg(i),o=nw(i)?Oe.MINIMUM:Oe.MAXIMUM;break;case sl.VERTICAL_CENTER:n=wg(i),o=Oe.CENTER;break;case sl.BOTTOM:n=wg(i),o=nw(i)?Oe.MAXIMUM:Oe.MINIMUM;break}return r.jsx(PNt,{axis:n,mode:o,...s,children:TNt[t]})}),TNt={[sl.LEFT]:QQ,[sl.HORIZONTAL_CENTER]:JQ,[sl.RIGHT]:$Q,[sl.TOP]:tJ,[sl.VERTICAL_CENTER]:eJ,[sl.BOTTOM]:sJ},PNt=A(({axis:s,mode:t,scope:e,children:i,editor:n,entities:o,isReadOnly:a})=>{const l=m.useCallback(d=>{wt(dz[s+t],{entities:[...o]}),__(n)},[s,t,n,o]),c=m.useCallback(d=>{U8(n,o,s,t,e)},[s,n,o,t,e]),h=m.useCallback(()=>{__(n)},[n]);return r.jsxs(Qi,{children:[r.jsx(As,{"aria-label":`Align ${rI[t]} ${gb[s]}`,onPress:l,onHoverStart:c,onHoverEnd:h,className:"h-[31px] w-[31px]",isReadOnly:a,children:i}),r.jsx(Ji,{placement:"bottom",children:`Align ${rI[t]} ${gb[s]}`})]})}),ONt={[Mt.X]:Ay.DISTRIBUTE_ALONG_X,[Mt.Y]:Ay.DISTRIBUTE_ALONG_Y,[Mt.Z]:Ay.DISTRIBUTE_ALONG_Z},MNt=A(({editor:s,entities:t,scope:e,isReadOnly:i})=>{const n=m.useCallback(l=>{wt(ONt[l],{entities:[...t]}),TM(s)},[s,t]),o=m.useCallback(l=>{const c=xNt(l);wNt(s,t,c,e)},[s,t,e]),a=m.useCallback(()=>{TM(s)},[s]);return r.jsxs(Qi,{children:[r.jsx(ed,{"aria-label":"Distribute...",icon:iJ,onAction:n,isReadOnly:i,children:Object.values(Mt).map(l=>r.jsx(An,{id:l,textValue:`Distribute ${gb[l]}`,onHoverStart:o,onHoverEnd:a},l))}),r.jsx(Ji,{placement:"bottom",children:"Distribute..."})]})}),LNt=A(({editor:s,entities:t,forwardAxis:e,scope:i,isReadOnly:n})=>{const o=wg(e),a=m.useCallback(h=>{wt(dz[h],{entities:[...t]}),__(s)},[s,t]),c=`Align ${gb[o]}...`;return r.jsxs(Qi,{children:[r.jsx(ed,{"aria-label":c,icon:$l,onAction:a,className:"!h-[31px] !w-[31px]",isReadOnly:n,children:Object.values(Oe).map(h=>r.jsx(RNt,{mode:h,axis:o,scope:i,editor:s,entities:t},h))}),r.jsx(Ji,{placement:"bottom",children:c})]})}),RNt=A(({axis:s,mode:t,scope:e,editor:i,entities:n})=>{const o=m.useCallback(h=>{U8(i,n,s,t,e)},[s,i,n,t,e]),a=m.useCallback(()=>{__(i)},[i]),l=rI[t],c=gb[s];return r.jsx(An,{id:s+t,textValue:`Align ${l} ${c} `,onHoverStart:o,onHoverEnd:a})}),NNt=A(INt);function wg(s){switch(s){case Bs.X:case Bs._X:return Mt.X;case Bs.Y:case Bs._Y:return Mt.Y;case Bs.Z:case Bs._Z:return Mt.Z}}function nw(s){switch(s){case Bs._X:case Bs._Y:case Bs._Z:return!0;default:return!1}}const gb={[Mt.X]:"X",[Mt.Y]:"Y",[Mt.Z]:"Z"},rI={[Oe.MINIMUM]:"min",[Oe.CENTER]:"center",[Oe.MAXIMUM]:"max"},jNt=3,DNt=128;function uz(s,t,e){A3(s,"width",t,e)}function FNt(s,t,e){A3(s,"height",t,e)}function fz(s,t,e){A3(s,"depth",t,e)}function A3(s,t,e,i){if(s[t]=e,!s.areDimensionsLinked)return;if(e===0){s.width=e,s.height=e,s.depth=e;return}const n=i[t];n===0?(i.width===0&&(s.width=e),i.height===0&&(s.height=e),i.depth===0&&(s.depth=e)):n!=null&&(i.width===0?s.width=e:t!=="width"&&(s.width=e/(n/i.width)),i.height!=null&&(i.height===0?s.height=e:t!=="height"&&(s.height=e/(n/i.height))),i.depth===0?s.depth=e:t!=="depth"&&(s.depth=e/(n/i.depth)))}const T3=A(({children:s,...t})=>r.jsxs(Ls,{children:[r.jsx(Zf,{...t}),r.jsx(M1,{...t}),r.jsx(Kf,{...t}),r.jsx(Hm,{...t})]})),z8=A(({parameters:s,dimension:t,...e})=>{const[i,n]=m.useState(s.map(c=>({width:c.width,height:c.height,depth:c.depth})));m.useEffect(()=>{n(s.map(c=>({width:c.width,height:c.height,depth:c.depth})))},[s]);const o=s.reduce((c,h)=>{if(!h.areDimensionsLinked)return Fo;const d=Math.min(t==="width"?Number.MAX_VALUE:h.width,t==="height"?Number.MAX_VALUE:h.height??Number.MAX_VALUE,t==="depth"?Number.MAX_VALUE:h.depth);if(d===0||h[t]==null)return Fo;const u=d*(h[t]/c);return Math.min(c,u)},1/0),a=e.values||s.map(c=>c[t]).filter(as.isDefined),l=c=>{n(s.map((h,d)=>a[d]===0?i[d]:{width:h.width,height:h.height,depth:h.depth}))};return r.jsx(Vm,{values:a,onBegin:l,onChange:c=>{s.forEach((h,d)=>{A3(h,t,c,i[d])})},minValue:o,...e})}),Zf=A(s=>r.jsx(z8,{...s,dimension:"width",label:"W",tooltip:"Width"})),M1=A(s=>r.jsx(z8,{...s,dimension:"height",label:"H",tooltip:"Height"})),Kf=A(s=>r.jsx(z8,{...s,dimension:"depth",label:"D",tooltip:"Depth"}));A(({components:s,...t})=>r.jsx(Vm,{label:"D",tooltip:"Depth",values:t.values||s.map(e=>e.depth),onChange:e=>{s.forEach(i=>{i.depth=e})},minValue:Fo,...t}));const qf=A(s=>r.jsx(Vm,{minValue:0,scrubThreshold:3,...s})),hC=A(s=>r.jsx(Vm,{minValue:Fo/2,...s})),Vm=A(s=>r.jsx(gz,{...s,minValue:s.minValue??Fo})),pz=A(({parameters:s,...t})=>r.jsx(gd,{label:Z$,tooltip:"Radial sides",values:s.map(e=>e.segmentsAround),onChange:e=>{s.forEach(i=>i.segmentsAround=e)},minValue:jNt,maxValue:DNt,...t})),gd=A(s=>r.jsx(ev,{sensitivity:1,formatOptions:{minimumFractionDigits:0,maximumFractionDigits:0},minValue:1,scrubThreshold:10,...s})),mz=A(({parameters:s,...t})=>r.jsx(Y8,{label:ZR,tooltip:"Slice angle",values:s.map(e=>cl-e.sliceAngle),onChange:e=>{s.forEach(i=>i.sliceAngle=cl-e)},minValue:0,maxValue:cl,...t})),Y8=A(s=>r.jsx(dC,{...s,action:P.PARAMETERS})),gz=A(s=>r.jsx(Qf,{...s,action:s.action||P.PARAMETERS})),dC=A(({values:s,onChange:t,minValue:e,maxValue:i,...n})=>{const o=I7();return r.jsx(_l,{...o,...n,values:s.map(a=>ms.radToDeg(a)),onChange:a=>{t(ms.degToRad(a))},minValue:e&&ms.radToDeg(e),maxValue:i&&ms.radToDeg(i)})}),Qf=A(({values:s,onChange:t,...e})=>{const i=Sat(e.editor.sceneController.scene.units);function n(d){return mm(d,Dt.M,e.editor.sceneController.scene.units)}const o=e.minValue&&n(e.minValue),a=e.maxValue&&n(e.maxValue),l=e.step?e.step:W4[e.editor.sceneController.scene.units],c=e.sensitivity?e.sensitivity:W4[e.editor.sceneController.scene.units],h=s.map(d=>n(d));return r.jsx(_l,{...i,...e,values:h,onChange:d=>{const u=mm(d,e.editor.sceneController.scene.units,Dt.M);t(u)},sensitivity:c,step:l,minValue:o,maxValue:a})}),W8=A(({values:s,onChange:t,...e})=>r.jsx(_l,{...e,values:s.map(i=>i),onChange:t,minValue:0,maxValue:1,step:.01,sensitivity:.01,scrubThreshold:3,formatOptions:{style:"percent"}})),ev=A(s=>r.jsx(_l,{action:P.PARAMETERS,...s})),_l=A(({editor:s,label:t,tooltip:e,values:i,action:n,selection:o,components:a,onChange:l,valueString:c,onBegin:h,onEnd:d,...u})=>{const f=[...new Set(i.flat())],p=f[0],g=f.length===1?void 0:"Mixed",_=g||(c??void 0),v=m.useCallback(x=>{const{parameters:I,frameConstrainChildren:O}=s.stateController.signals;(x.action===P.FRAME_CONSTRAIN_CHILDREN?O:I).dispatch(x)},[s.stateController.signals]),y=m.useCallback(x=>{Jt(()=>{l(x)}),v({action:n,selection:o})},[n,v,l,o]),b=x=>{s.stateController.recordBefore({action:n,selection:o}),h&&h(x)},C=x=>{s.stateController.recordAfter({action:n,selection:o}),d&&d(x)};return r.jsx(GNt,{condition:typeof e=="string",wrapper:x=>r.jsx(qi,{placement:"bottom",text:e,shouldCloseOnClick:!0,children:r.jsx("span",{className:"w-full",children:x})}),children:r.jsx(xr,{label:t,"aria-label":typeof e=="string"?e:void 0,value:p,overrideValueString:_,isFixedWidth:!1,hasWideLabel:!0,onBegin:b,onEnd:C,...u,onChange:y})})}),P3=A(({children:s,...t})=>r.jsx(X8,{...t,label:"Advanced properties",children:s})),X8=A(s=>{const[t,e]=m.useState(!1);return r.jsxs(sR,{onOpenChange:i=>e(i),children:[r.jsxs(Qi,{children:[r.jsx(As,{isActive:t,children:$l}),r.jsx(Ji,{placement:"bottom",children:s.label})]}),r.jsx(xm,{isKeyboardDismissDisabled:!0,placement:"bottom",offset:8,containerPadding:12,children:r.jsx(jb,{className:"w-r-panel",children:({close:i})=>r.jsx(BNt,{...s,closeButton:r.jsx(Db,{close:i}),children:s.children})})})]})}),BNt=A(({label:s,closeButton:t,children:e})=>r.jsxs(r.Fragment,{children:[r.jsx(kNt,{label:s,closeButton:t}),r.jsx(ae,{children:e})]})),kNt=A(({label:s,closeButton:t})=>r.jsx($f,{label:s,children:t})),Hm=A(s=>r.jsx(zg,{values:s.parameters.map(t=>t.areDimensionsLinked),onChange:t=>s.parameters.forEach(e=>e.areDimensionsLinked=t),...s})),zg=A(s=>r.jsx(Z8,{action:P.PARAMETERS,...s})),Z8=A(({label:s="Constrain proportions",...t})=>r.jsx(O3,{label:s,icon:I$,disabledIcon:T$,mixedIcon:A$,...t})),O3=A(({editor:s,label:t,tooltipPlacement:e="bottom",onChange:i,icon:n,disabledIcon:o=n,mixedIcon:a=n,action:l,selection:c,values:h,...d})=>{const u=[...new Set(h)],f=u[0],g=u.length>1?a:f?n:o,_=()=>{var v;s.stateController.recordBefore({action:l,selection:c}),Jt(()=>{i&&i(!f)}),s.stateController.signals.parameters.dispatch({action:l,selection:c}),s.stateController.recordAfter({action:l,selection:c}),(v=s.viewportController.mainViewport)==null||v.domElement.focus()};return t?r.jsx(cs,{label:t,tooltipPlacement:e,onPress:_,...d,children:g}):r.jsx(As,{onPress:_,...d,children:g})}),uC=A(({editor:s,label:t,tooltipPlacement:e="bottom",onPress:i,children:n,action:o,selection:a,...l})=>{const c=h=>{var d;s.stateController.recordBefore({action:o,selection:a}),Jt(()=>{i&&i(h)}),s.stateController.signals.parameters.dispatch({action:o,selection:a}),s.stateController.recordAfter({action:o,selection:a}),(d=s.viewportController.mainViewport)==null||d.domElement.focus()};return t?r.jsx(cs,{label:t,tooltipPlacement:e,onPress:c,...l,children:n}):r.jsx(As,{onPress:c,...l,children:n})}),vl=A(({editor:s,onChange:t,action:e,selection:i,values:n,children:o,...a})=>{const l=[...new Set(n)],c=l.length>1,h=m.useCallback(d=>{s.stateController.recordBefore({action:e,selection:i}),Jt(()=>{t&&t(d)}),s.stateController.signals.parameters.dispatch({action:e,selection:i}),s.stateController.recordAfter({action:e,selection:i})},[s.stateController,t,e,i]);return r.jsx(Pa,{className:"pl-[6px]",variant:"secondary",size:"sm",onChange:h,isSelected:l[0],isMixed:c,...a,children:o})}),sv=A(({editor:s,onChange:t,action:e,selection:i,values:n,children:o,label:a,...l})=>{var u;const h=[...new Set(n)][0]??"Mixed",d=m.useCallback(f=>{var p;s.stateController.recordBefore({action:e,selection:i}),Jt(()=>{t&&t(f)}),s.stateController.signals.parameters.dispatch({action:e,selection:i}),s.stateController.recordAfter({action:e,selection:i}),(p=s.viewportController.mainViewport)==null||p.domElement.focus()},[s.stateController,(u=s.viewportController.mainViewport)==null?void 0:u.domElement,e,i,t]);return r.jsx(Ys,{"aria-label":a,selectedKey:h,onSelectionChange:d,...l,children:o})}),GNt=({condition:s,wrapper:t,children:e})=>s?t(e):e;A(({onPress:s,isOpen:t})=>r.jsx(cs,{onPress:()=>{s()},label:t?"Remove":"Add",children:t?w_:Eo}));A(({editor:s,entities:t,isReadOnly:e})=>r.jsx(K8,{editor:s,values:t.map(i=>i.isVisible),onChange:()=>{wt(jh.TOGGLE_VISIBILITY,{entities:[...t]})},isReadOnly:e}));const K8=A(({editor:s,values:t,onChange:e,isReadOnly:i})=>{const n=t.some(a=>!a)?Ob:Pb,o=m.useCallback(()=>{e&&e(!t[0])},[t,e]);return r.jsxs(Qi,{children:[r.jsx(As,{onPress:o,isReadOnly:i,children:n}),r.jsx(Ji,{placement:"bottom",children:"Toggle visibility"})]})});A(({editor:s,values:t,onChange:e})=>{const i=t.some(o=>!o)?Xw:ZI,n=m.useCallback(()=>{e&&e(!t[0])},[t,e]);return r.jsxs(Qi,{children:[r.jsx(As,{onPress:n,children:i}),r.jsx(Ji,{placement:"bottom",children:"Enable/disable"})]})});const _z=A(({editor:s,values:t,onChange:e})=>{const i=t.some(o=>!o)?g$:m$,n=m.useCallback(()=>{e&&e(!t[0])},[t,e]);return r.jsxs(Qi,{children:[r.jsx(As,{onPress:n,"aria-label":"Toggle light",children:i}),r.jsx(Ji,{placement:"bottom",children:"Toggle light"})]})}),VNt=s=>{const{editor:t}=s,{sceneController:e}=t,i=xe.useRef(null);function n(){wt(E_.AMBIENT_LIGHT)}function o(l){e.scene.ambientLight.intensity=l,e.scene.ambientLight.isEnabled=!0,t.stateController.signals.ambientLight.dispatch({action:P.AMBIENT_LIGHT})}const a=e.scene.ambientLight.isEnabled;return r.jsxs(ae,{ref:i,children:[r.jsx(pe,{label:"Ambient light"}),r.jsxs(Mf,{lastItem:r.jsx(_z,{values:[a],onChange:n,...s}),children:[r.jsx(UNt,{...s,triggerRef:i}),r.jsx(_l,{editor:t,label:Zw,tooltip:"Intensity",values:[e.scene.ambientLight.intensity],onChange:o,minValue:0,step:.01,sensitivity:.01,action:P.AMBIENT_LIGHT,isDisabled:!a})]})]})},HNt=A(VNt);function JS(s){return s.replace("#","")}const UNt=A(s=>{const{triggerRef:t}=s,[e,i]=m.useState(!1),n=xe.useRef(null);return tc(n,()=>{i(!1)}),r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(zNt,{...s,onPress:()=>i(o=>!o)}),r.jsx(YNt,{...s})]}),r.jsx(xm,{isKeyboardDismissDisabled:!0,isNonModal:!0,placement:"bottom left",offset:8,containerPadding:12,triggerRef:t,isOpen:e,onOpenChange:o=>{i(o)},children:r.jsx(jb,{className:"w-picker-popup",ref:n,"aria-label":"Ambient color picker",children:({close:o})=>r.jsx(WNt,{...s,closeButton:r.jsx(Db,{close:()=>{o(),i(!1)}}),children:r.jsx(ZNt,{...s})})})})]})}),zNt=A(s=>{const{editor:t,...e}=s,{sceneController:i}=t,{ambientLight:n}=i.scene,{color:o}=n,c=$x(o.toUpperCase()).toFormat("hsba");return r.jsx(Oj,{color:c,...e,"aria-label":"Ambient light color"})}),YNt=A(s=>{const{editor:t}=s,{sceneController:e}=t,{ambientLight:i}=e.scene,{color:n}=i,[o,a]=m.useState(""),l=m.useCallback(d=>{a(JS(d.target.value))},[]),c=m.useCallback(()=>{let d=`#${o}`;if(!S_(d)){d=i.color,a(JS(d));return}t.stateController.recordBefore({action:P.AMBIENT_LIGHT}),Jt(()=>{i.color=d,i.isEnabled=!0}),t.stateController.signals.environment.dispatch({action:P.AMBIENT_LIGHT,ambientLight:i}),t.stateController.recordAfter({action:P.AMBIENT_LIGHT})},[t.stateController,o,i]);m.useEffect(()=>{a(JS(n))},[n]);const h=i.isEnabled;return r.jsx("div",{className:"flex items-center",children:r.jsx(la,{value:o,onChange:l,onSubmit:c,align:"left",style:{fontSize:"var(--body-2)",textTransform:"uppercase",width:"48px"},isDisabled:!h})})}),WNt=A(({children:s,...t})=>r.jsxs(r.Fragment,{children:[r.jsx(XNt,{...t}),s]})),XNt=A(({closeButton:s,...t})=>r.jsx($f,{label:"Color",children:s})),ZNt=A(s=>{const{editor:t}=s,{sceneController:e}=t,{ambientLight:i}=e.scene,{color:n}=i,l=$x(n.toUpperCase()).toFormat("hsba"),[c,h]=m.useState(l),d=p=>{const g=p.toString("hex");Jt(()=>{i.color=g,i.isEnabled=!0}),h(p)},u=m.useCallback(()=>{t.stateController.recordBefore({action:P.AMBIENT_LIGHT})},[t.stateController]),f=m.useCallback(p=>{const g=e.scene.ambientLight;t.stateController.signals.environment.dispatch({action:P.AMBIENT_LIGHT,ambientLight:g}),t.stateController.recordAfter({action:P.AMBIENT_LIGHT})},[e,t.stateController]);return r.jsx(ae,{children:r.jsx(Mj,{value:c,onChangeBegin:u,onChange:d,onChangeEnd:f})})}),KNt=s=>r.jsxs(ae,{isReadOnly:s.isReadOnly,children:[r.jsx(pe,{label:"Material"}),r.jsx(ii,{size:"lg",children:r.jsx(K,{className:"px-2 opacity-50",nowrap:!0,children:"Modifying materials for animated models is currently not supported."})})]}),qNt=A(KNt),QNt=({editor:s,animationComponents:t,...e})=>{const i=m.useMemo(()=>t.length===0?null:t[0],[t]),n=m.useMemo(()=>{if(!i)return[{id:"None",text:"None"}];const h=[];return h.push({id:"None",text:"None"}),[...i.animationClips].map(d=>(h.push({id:d.uuid,text:d.name}),null)),h},[i]),o=h=>{i&&(s.stateController.recordBefore({action:P.ANIMATION_ACTIVE}),i.setSelectedAnimationClip(h),s.stateController.signals.animationActive.dispatch({action:P.ANIMATION_ACTIVE}),s.stateController.recordAfter({action:P.ANIMATION_ACTIVE}))},a=()=>{for(const h of t)h.isPlaying?h.stop():h.play()},l=()=>{i&&(s.stateController.recordBefore({action:P.ANIMATION_PARAMS}),i.toggleLoop(),s.stateController.signals.animationParams.dispatch({action:P.ANIMATION_PARAMS}),s.stateController.recordAfter({action:P.ANIMATION_PARAMS}))},c=h=>{i&&(s.stateController.recordBefore({action:P.ANIMATION_PARAMS}),i.setPlaySpeed(h),s.stateController.signals.animationParams.dispatch({action:P.ANIMATION_PARAMS}),s.stateController.recordAfter({action:P.ANIMATION_PARAMS}))};return i?r.jsxs(ae,{children:[r.jsx(pe,{label:"Animation",isReadOnly:e.isReadOnly}),r.jsx(ii,{children:r.jsx(Ys,{label:"Clip name",selectedKey:i.selectedClipId,items:n,onSelectionChange:h=>o([...i.animationClips].find(d=>d.uuid===h)||null),isReadOnly:e.isReadOnly,children:h=>r.jsx(se,{id:h.id,textValue:h.text})})}),r.jsx(mZt,{time:i.playTime,duration:i.selectedClipDuration,isPlaying:i.isPlaying,isLoop:i.isLoop,playbackSpeed:i.playSpeed,onPlayPauseToggle:a,onLoopToggle:l,onPlaybackSpeedChange:c,isReadOnly:e.isReadOnly})]}):null},JNt=A(QNt);function $Nt({children:s,isReadOnly:t}){const e=s[2];return r.jsx(ca,{children:r.jsx("div",{style:{gridTemplateColumns:e?"32px minmax(0, 1fr) minmax(0, 1.5fr) 32px 32px":"32px minmax(0, 1fr) 32px 32px"},className:W("col-span-full box-border grid w-full items-center",t&&"pointer-events-none text-gray-30"),children:s})})}function tjt({children:s}){const t=s[1];return r.jsx(ca,{children:r.jsx("div",{style:{gridTemplateColumns:t?"78px minmax(0, 1fr) 32px 32px":"minmax(0, 1fr) 32px 32px"},className:"col-span-full box-border grid w-full items-center",children:s})})}const ejt=s=>m.useMemo(()=>s.components[0],[s.components])?r.jsx(ae,{children:r.jsx(vz,{...s})}):null;A(ejt);const vz=s=>r.jsxs(Ls,{children:[r.jsx(ijt,{...s}),r.jsx(sjt,{...s})]}),sjt=A(({editor:s,components:t})=>{const e=t.map(o=>o.parameters.sizePx),i=t.some(o=>!o.isEnabled),n=o=>t.forEach(a=>{a.parameters.sizePx=o,a.updateBehaviorsObjectData()});return r.jsx(_l,{editor:s,action:P.BEHAVIORS,selection:t,label:"px",tooltip:"Size (px)",values:e,onChange:n,isFixedWidth:!1,hasWideLabel:!0,minValue:0,scrubThreshold:1,isDisabled:i})}),ijt=A(({editor:s,components:t})=>{const e=t.map(n=>n.parameters.measurementAxis),i=t.some(n=>!n.isEnabled);return r.jsxs(sv,{label:"Measurement axis",className:"w-full",onChange:n=>{t.forEach(o=>{o.parameters.measurementAxis=n,o.updateBehaviorsObjectData()})},values:e,action:P.BEHAVIORS,selection:t,editor:s,size:"sm",isDisabled:i,children:[r.jsx(se,{id:Mt.X,textValue:"X axis"}),r.jsx(se,{id:Mt.Y,textValue:"Y axis"}),r.jsx(se,{id:Mt.Z,textValue:"Z axis"})]})}),njt=({editor:s,components:t})=>r.jsx(ae,{children:r.jsx(yz,{editor:s,components:t})});A(njt);const yz=A(s=>{const t=s.components.map(i=>i.parameters.isRotationEnabled),e=s.components.some(i=>!i.isEnabled);return r.jsxs(r.Fragment,{children:[r.jsx(ii,{children:r.jsx(vl,{variant:"secondary",values:t,onChange:i=>{s.components.forEach(n=>{n.parameters.isRotationEnabled=i,n.updateBehaviorsObjectData()})},action:P.BEHAVIORS,selection:s.components,isDisabled:e,...s,children:"Rotate around target"})}),r.jsxs(Ls,{children:[r.jsx($S,{axis:"x",...s}),r.jsx($S,{axis:"y",...s}),r.jsx($S,{axis:"z",...s})]}),r.jsxs(Ls,{children:[r.jsx(t4,{axis:"x",...s}),r.jsx(t4,{axis:"y",...s}),r.jsx(t4,{axis:"z",...s})]}),r.jsxs(Ls,{children:[r.jsx(K,{color:"secondary",className:"pl-2",children:"Smooth"}),r.jsx(ojt,{...s})]})]})}),$S=A(({components:s,axis:t,...e})=>{const i=s.map(l=>l.axes[t]),n=t.toUpperCase(),o=s.some(l=>!l.isEnabled),a=l=>s.forEach(c=>{const h={...c.axes};h[t]=l,c.parameters.axes=h,c.updateBehaviorsObjectData()});return r.jsx(vl,{values:i,onChange:a,action:P.BEHAVIORS,selection:s,isDisabled:o,...e,children:n})}),t4=A(({editor:s,components:t,axis:e})=>{const i=t.map(l=>l.offset[e]),n=e.toUpperCase(),o=t.some(l=>!l.isEnabled||!l.axes[e]),a=l=>t.forEach(c=>{const h={...c.offset};h[e]=l,c.parameters.offset=h,c.updateBehaviorsObjectData()});return r.jsx(Qf,{editor:s,action:P.BEHAVIORS,selection:t,tooltip:`Offset ${n}`,label:n,values:i,onChange:a,isFixedWidth:!1,hasWideLabel:!0,isDisabled:o,valueString:o?"off":void 0})}),ojt=A(({editor:s,components:t})=>{const e=t.map(o=>o.smooth),i=t.some(o=>!o.isEnabled),n=o=>t.forEach(a=>{a.parameters.smooth=o,a.updateBehaviorsObjectData()});return r.jsx(_l,{editor:s,action:P.BEHAVIORS,selection:t,label:stt,tooltip:"Smooth factor",values:e,onChange:n,isFixedWidth:!1,hasWideLabel:!0,minValue:0,maxValue:100,scrubThreshold:3,isDisabled:i})}),rjt=s=>m.useMemo(()=>s.components[0],[s.components])?r.jsx(ae,{children:r.jsx(bz,{...s})}):null;A(rjt);const bz=s=>r.jsxs(Ls,{children:[r.jsx(ajt,{...s}),r.jsx(ljt,{...s})]}),ajt=A(({editor:s,components:t})=>{const e=t.map(n=>n.parameters.direction),i=t.some(n=>!n.isEnabled);return r.jsxs(sv,{label:"Direction",className:"w-full",onChange:n=>{t.forEach(o=>{o.parameters.direction=n,o.updateBehaviorsObjectData()})},values:e,action:P.BEHAVIORS,selection:t,editor:s,size:"sm",isDisabled:i,children:[r.jsx(se,{id:Bs.X,textValue:"X axis"}),r.jsx(se,{id:Bs.Y,textValue:"Y axis"}),r.jsx(se,{id:Bs.Z,textValue:"Z axis"}),r.jsx(se,{id:Bs._X,textValue:"-X axis"}),r.jsx(se,{id:Bs._Y,textValue:"-Y axis"}),r.jsx(se,{id:Bs._Z,textValue:"-Z axis"})]})}),ljt=A(({editor:s,components:t})=>{const e=t.map(n=>n.parameters.tilt).map(n=>n.x&&n.y?"XY tilt":n.x?"X tilt":n.y?"Y tilt":"No tilt"),i=t.some(n=>!n.isEnabled);return r.jsxs(sv,{label:"Tilt",className:"w-full",onChange:n=>{const o=n==="X tilt"||n==="XY tilt",a=n==="Y tilt"||n==="XY tilt";t.forEach(l=>{l.parameters.tilt.x=o,l.parameters.tilt.y=a,l.updateBehaviorsObjectData()})},values:e,action:P.BEHAVIORS,selection:t,editor:s,size:"sm",isDisabled:i,children:[r.jsx(se,{id:"No tilt",textValue:"No tilt"}),r.jsx(se,{id:"X tilt",textValue:"X tilt"}),r.jsx(se,{id:"Y tilt",textValue:"Y tilt"}),r.jsx(se,{id:"XY tilt",textValue:"XY tilt"})]})}),cjt=({editor:s,behaviorsComponents:t,...e})=>{const i=m.useMemo(()=>t[0],[t]);return r.jsxs(ae,{children:[r.jsx(pe,{label:"Behaviors",isReadOnly:e.isReadOnly,children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(pjt,{editor:s,behaviorsComponents:t}),r.jsx(fjt,{editor:s,behaviorsComponents:t,isReadOnly:e.isReadOnly})]})}),t.length===1?r.jsx(ujt,{behaviorsComponent:i,editor:s,isReadOnly:e.isReadOnly,isInstance:e.isInstance}):r.jsx(djt,{behaviorsComponents:t,editor:s,isReadOnly:e.isReadOnly,isInstance:e.isInstance})]})},hjt=A(cjt),djt=A(s=>{const t=s.behaviorsComponents??[];return r.jsx(r.Fragment,{children:t.length===1?r.jsx(PM,{behaviorsComponent:t[0],editor:s.editor,isReadOnly:s.isReadOnly}):t.map(e=>e.behaviors&&e.count>0?r.jsxs(m.Fragment,{children:[r.jsx(ii,{children:r.jsx(t5,{className:W("pl-2",s.isReadOnly&&"text-gray-30"),children:e.entity.name},e.entity.id)}),r.jsx(PM,{behaviorsComponent:e,editor:s.editor,isReadOnly:s.isReadOnly,isInstance:s.isInstance},e.entity.id)]},`behavior-list-${e.entity.id}`):null)})}),PM=A(({behaviorsComponent:s,editor:t,isReadOnly:e,isInstance:i})=>{const n=[...s.behaviorComponents.values()];return r.jsx(A_,{"aria-label":`Behaviors for ${s.entity.name}`,selectionMode:"multiple",items:n,children:n.map(o=>{if(!o)return null;const a=s.behaviorComponents.get(o.id);return a?r.jsx(mjt,{editor:t,behaviorComponent:a,behaviorsComponent:s,isReadOnly:e,isInstance:i},o.id):null})})}),ujt=A(({behaviorsComponent:s,editor:t,isReadOnly:e,isInstance:i})=>{const n=[...s.behaviorComponents.values()];return r.jsx(A_,{"aria-label":`Behaviors for ${s.entity.name}`,selectionMode:"multiple",items:n,children:n.map(o=>r.jsx(gjt,{editor:t,behaviorComponent:o,behaviorsComponent:s,isReadOnly:e,isInstance:i},o.id))})});function fjt({editor:s,behaviorsComponents:t,isReadOnly:e}){const i=()=>{t.forEach(n=>{n.addBehavior(ei.FOLLOW)})};return r.jsx(uC,{label:"Add behavior",action:P.BEHAVIORS,selection:t,editor:s,onPress:i,isReadOnly:e,children:Eo})}const pjt=A(({behaviorsComponents:s})=>{const t=s.some(n=>n.isPreview),e=()=>{Jt(()=>{for(const n of s)n.setUpdatePreview(!t)})};return s.reduce((n,o)=>n+o.count,0)===0?null:r.jsx(cs,{label:"Preview",isActive:t,onPress:e,"aria-label":"Preview behaviors",children:t?YR:u5})}),mjt=A(s=>{const{behaviorComponent:t}=s;return r.jsx(Df,{textValue:aI[t.parameters.type],children:r.jsxs($Nt,{isReadOnly:s.isReadOnly,children:[r.jsx(vjt,{...s}),r.jsx(t5,{className:"pl-2",children:aI[t.parameters.type]}),t.parametersComponent.behaviorType!==ei.FIXED_SIZE&&r.jsx(wz,{...s,parametersComponent:t.parametersComponent}),r.jsx(xz,{...s}),r.jsx(Ez,{...s})]})})}),gjt=A(s=>{const{behaviorComponent:t}=s,e=!t.isEnabled;if(t.removedInCurrentState)return null;function i(){if(!s.isInstance)return!1;const n=t.entity.sceneObject.overrides;return!n||Object.keys(n).length===0||!n.behaviors||!n.behaviors[t.id]||!n.behaviors[t.id].id}return r.jsxs(Df,{textValue:t.behaviorType,className:W("rounded-sm bg-gray-80 [&:not(:last-child)]:mb-[2px]",s.isReadOnly&&"pointer-events-none text-gray-30"),children:[r.jsxs(tjt,{children:[r.jsx(pe,{isQuiet:e,children:r.jsx(_jt,{variant:"title",...s,components:[t],isReadOnly:s.isReadOnly||i()})}),t.parametersComponent.behaviorType!==ei.FIXED_SIZE&&r.jsx(wz,{...s,parametersComponent:t.parametersComponent}),r.jsx(xz,{...s}),r.jsx(Ez,{...s,isReadOnly:s.isReadOnly||i()})]}),r.jsx(Cz,{...s,parametersComponent:s.behaviorComponent.parametersComponent})]})}),_jt=A(({components:s,variant:t,editor:e,isReadOnly:i,isInstance:n})=>{const{authController:{auth:{isDev:o}}}=Pt(),l=Object.values(ei).filter(d=>o?!0:d!==ei.FIXED_SIZE).map(d=>({displayName:aI[d],type:d})),c=s.some(d=>!d.isEnabled),h=s.map(d=>d.behaviorType);return r.jsx(sv,{label:"Behavior type",variant:t,items:l,onChange:d=>{Jt(()=>{s.forEach(u=>{u.behaviorType=d})})},isDisabled:c,action:P.BEHAVIORS,selection:s,values:h,editor:e,isReadOnly:i,children:d=>r.jsx(se,{id:d.type,textValue:d.displayName})})}),aI={[ei.FOLLOW]:"Follow",[ei.LOOK_AT]:"Look at",[ei.FIXED_SIZE]:"Fixed size"},vjt=A(s=>{const[t,e]=m.useState(!1);return r.jsxs(sR,{onOpenChange:i=>e(i),children:[r.jsxs(Qi,{children:[r.jsx(As,{isActive:t,isReadOnly:s.isReadOnly,children:D$}),r.jsx(Ji,{children:"Parameters"})]}),r.jsx(xm,{isKeyboardDismissDisabled:!0,placement:"left top",crossOffset:-8,offset:20,containerPadding:12,children:r.jsx(jb,{children:({close:i})=>r.jsx(yjt,{...s,close:i})})})]})}),yjt=A(s=>r.jsxs("div",{className:"w-r-panel",children:[r.jsx(bjt,{...s}),r.jsx(wZt,{children:r.jsx(Cz,{...s,parametersComponent:s.behaviorComponent.parametersComponent})})]})),Cz=A(({editor:s,parametersComponent:t})=>r.jsxs(r.Fragment,{children:[t.behaviorType===ei.FOLLOW&&r.jsx(yz,{editor:s,components:[t]}),t.behaviorType===ei.LOOK_AT&&r.jsx(bz,{editor:s,components:[t]}),t.behaviorType===ei.FIXED_SIZE&&r.jsx(vz,{editor:s,components:[t]})]})),bjt=A(({behaviorComponent:s,close:t})=>r.jsx($f,{label:`${s.behaviorType}`,children:r.jsx(Cjt,{close:t})}));function Cjt({close:s}){return r.jsxs(Qi,{children:[r.jsx(As,{onPress:s,children:po}),r.jsx(Ji,{children:"Close"})]})}const wz=A(({parametersComponent:s})=>{var h;const{hoverProps:t,isHovered:e}=Ao({}),{isFocusVisible:i,focusProps:n}=l1(),o=!s.isEnabled&&!s.isSelectingTarget,a=(h=s.targetEntity)==null?void 0:h.name,l=s.isSelectingTarget,c=e||i||l;return r.jsx("div",{...hn(t,n),tabIndex:0,className:W(o&&"opacity-50"),children:r.jsxs("div",{className:jf("flex h-8 items-center justify-between",c&&"rounded-sm",!a&&"shadow-hoverBottom",e&&"shadow-hover",(l||i)&&"shadow-focus",!c&&!a&&"mx-1"),children:[r.jsx(K,{className:W((!a||l)&&"text-placeholder",(c||a)&&"pl-1"),children:l?"Select target...":a??"Target"}),(e||i||l)&&(s.behaviorType===ei.FOLLOW||s.behaviorType===ei.LOOK_AT)&&r.jsx(wjt,{parametersComponent:s})]})})}),wjt=A(({parametersComponent:s})=>{const t=s.isSelectingTarget,e={};return r.jsx(cs,{label:"Replace target object",onPress:()=>{t?s.clearBehaviorTargetEditContext():s.setBehaviorTargetEditContext(e)},isActive:t,children:UI})}),xz=A(({editor:s,behaviorComponent:t,isReadOnly:e})=>{const i=t.isEnabled,n=o=>{t.isEnabled=o,t.updateBehaviorsObjectData(!1)};return r.jsx(O3,{label:"Enable/disable",icon:ZI,disabledIcon:Xw,action:P.BEHAVIORS,selection:[t],editor:s,values:[i],onChange:n,isReadOnly:e})});function Ez({behaviorsComponent:s,behaviorComponent:t,editor:e,isReadOnly:i,isInstance:n}){const o=()=>{s.removeBehaviorById(t.id)};return r.jsx(uC,{label:"Remove behavior",action:P.BEHAVIOR_DELETE,selection:[t],editor:e,onPress:o,isReadOnly:i,children:w_})}function xjt(s){return r.jsxs(ae,{isReadOnly:s.isReadOnly,children:[r.jsx(pe,{label:"Body rig"}),r.jsx(Ls,{children:r.jsx(Tjt,{...s})}),r.jsx(Yl,{children:r.jsx(Sz,{...s})}),r.jsx(Yl,{children:r.jsx(Ijt,{...s})}),r.jsx(Yl,{children:r.jsx(Ajt,{...s})})]})}const Ejt=A(xjt),Sz=A(({component:s,editor:t})=>{const e=Object.values(Kn).map(n=>({id:n,textValue:Sjt[n]})),i=m.useCallback(n=>{s.setHeadset(n),t.stateController.signals.parameters.dispatch({action:P.PARAMETERS})},[s,t.stateController.signals.parameters]);return r.jsx(Ys,{label:"Headset",items:e,selectedKey:s.headset,onSelectionChange:i,className:"grow","aria-label":"Headset",children:n=>r.jsx(se,{...n,"aria-label":`${n.textValue}`})})}),Sjt={[Kn.QUEST_2]:"Quest 2 controllers",[Kn.QUEST_PRO]:"Quest Pro controllers",[Kn.HANDS]:"Hands",[Kn.NONE]:"None"},Ijt=A(({component:s,...t})=>{const e=m.useCallback(i=>{s.setIsShowControllers(i)},[s]);return r.jsx(vl,{action:P.PARAMETERS,selection:[s],onChange:e,className:"pl-2",values:[s.isShowControllers],...t,children:r.jsx(K,{children:"Show controllers in headset"})})}),Ajt=A(({component:s,...t})=>{const e=m.useCallback(i=>{s.setIsDirectTouchEnabled(i)},[s]);return r.jsx(vl,{action:P.PARAMETERS,selection:[s],onChange:e,className:"pl-2",values:[s.isDirectTouchEnabled],...t,children:r.jsx(K,{children:"Direct touch"})})}),Tjt=A(({component:s,...t})=>r.jsx(Qf,{label:"H",tooltip:"Height",values:[s.height],sensitivity:.01,onChange:e=>s.height=e,minValue:1,maxValue:3,action:P.PARAMETERS,...t})),Pjt=s=>r.jsxs(ae,{isReadOnly:s.isReadOnly,children:[r.jsx(pe,{label:"Camera"}),r.jsxs(Mf,{children:[r.jsx(Mjt,{...s}),r.jsx(Ljt,{...s}),r.jsx(jjt,{...s})]})]}),Ojt=A(Pjt),Mjt=A(s=>{const{editor:t,components:e}=s,i=l=>{t.stateController.recordBefore({action:P.PARAMETERS});const c=l;e.forEach(h=>h.parameters.lensUnit=c),t.stateController.signals.parameters.dispatch({action:P.PARAMETERS}),t.stateController.recordAfter({action:P.PARAMETERS})},n=e.map(l=>l.parameters.projection),o=e.map(l=>l.parameters.lensUnit),a=n.every(l=>l===Xe.ORTHOGRAPHIC);return r.jsx(sv,{label:"Lens unit",values:o,action:P.PARAMETERS,onSelectionChange:i,isDisabled:a,...s,children:Object.values(Kr).map(l=>r.jsx(se,{id:l,textValue:Fjt[l]},l))})}),Ljt=A(s=>{const t=s.components.map(n=>n.parameters.lensUnit),e=[...new Set(t)];return(e.length===1?e[0]:Kr.FOV)===Kr.FOV?r.jsx(Rjt,{...s}):r.jsx(Njt,{...s})}),Rjt=A(s=>{const{editor:t,components:e}=s,i=e.map(l=>l.parameters.fov),n=e.every(l=>l.parameters.projection===Xe.ORTHOGRAPHIC),o=l=>{var c;e.forEach(h=>h.parameters.fov=l),e.filter(h=>h.entity.id===t.sceneController.cameraController.viewedCameraId||h.entity.id===t.sceneController.cameraController.editedCameraId).length>0&&((c=t.viewportController.mainViewport)==null||c.camera.setFov(l),t.fileSettingsController.setCameraFov(l)),t.signals.selection.selectedCameraUpdated.dispatch({camera:e[0].entity.id})},a=I7();return r.jsx(_l,{values:i,onChange:o,editor:t,action:P.PARAMETERS,label:f5,tooltip:"Field of view",minValue:10,maxValue:170,step:1,scrubThreshold:3,inactiveFractionDigits:1,isDisabled:n,...a})}),Njt=A(({editor:s,components:t})=>{function e(o){var a;t.forEach(l=>l.focalLength=o),t.filter(l=>l.entity.id===s.sceneController.cameraController.viewedCameraId||l.entity.id===s.sceneController.cameraController.editedCameraId).length>0&&((a=s.viewportController.mainViewport)==null||a.camera.setFocalLength(o),s.fileSettingsController.cameraFocalLength=o),s.signals.selection.selectedCameraUpdated.dispatch({camera:t[0].entity.id})}const i=t.every(o=>o.parameters.projection===Xe.ORTHOGRAPHIC),n=t.map(o=>o.focalLength);return r.jsx(_l,{values:n,onChange:e,editor:s,action:P.PARAMETERS,label:f5,tooltip:"Focal length",minValue:12,maxValue:135,step:1,inactiveFractionDigits:1,formatOptions:{unit:"millimeter",unitDisplay:"narrow",style:"unit",minimumFractionDigits:0,maximumFractionDigits:6},isDisabled:i})}),jjt=A(s=>{const{editor:t,components:e}=s;function i(c){const h=c?Xe.PERSPECTIVE:Xe.ORTHOGRAPHIC;e.forEach(d=>d.parameters.projection=h),e.filter(d=>d.entity.id===t.sceneController.cameraController.viewedCameraId||d.entity.id===t.sceneController.cameraController.editedCameraId).length>0&&wt(Zi.TOGGLE_ORTHOGRAPHIC)}const n=e.map(c=>c.parameters.projection),o=n.map(c=>c===Xe.PERSPECTIVE),a=[...new Set(n)],l=a.length===1?a[0]:"Mixed";return r.jsx(O3,{values:o,icon:zI,disabledIcon:YI,label:Djt[l],onChange:i,action:P.PARAMETERS,...s})}),Djt={[Xe.PERSPECTIVE]:"Perspective",[Xe.ORTHOGRAPHIC]:"Orthographic",Mixed:"Mixed"},Fjt={[Kr.FOCAL_LENGTH]:"Focal length",[Kr.FOV]:"Field of view"},Bjt=s=>{const{editor:t}=s,e=m.useMemo(()=>t.sceneController.cameraController.selectedCamera,[t.sceneController.cameraController.selectedCamera]);return r.jsxs(ae,{children:[r.jsx(pe,{label:e!=null?e.entity.name:"Personal camera"}),r.jsx(Gjt,{...s})]})},kjt=A(Bjt),Gjt=A(s=>r.jsxs(Mf,{children:[r.jsx(Ujt,{...s}),r.jsx(Hjt,{...s}),r.jsx(Vjt,{...s})]})),Vjt=A(s=>{const{editor:t}=s,{fileSettingsController:e}=t,i=e.camera,n=m.useMemo(()=>t.sceneController.cameraController.selectedCamera,[t.sceneController.cameraController.selectedCamera]);function o(){const l=i.projection===Xe.ORTHOGRAPHIC?Xe.PERSPECTIVE:Xe.ORTHOGRAPHIC;wt(Zi.TOGGLE_ORTHOGRAPHIC),n!=null&&(n.parameters.projection=l)}let a=i.projection;return n!==null&&n.entity.sceneObject.type===L.CAMERA&&(a=n.parameters.projection),r.jsx(cs,{label:Wjt[a],onPress:o,children:Xjt[a]})}),Hjt=A(({editor:s})=>{const{fileSettingsController:t}=s;return t.camera.lensUnit===Kr.FOV?r.jsx(zjt,{editor:s}):r.jsx(Yjt,{editor:s})}),Ujt=A(({editor:s})=>{const{fileSettingsController:t}=s,e=t.camera,i=m.useMemo(()=>s.sceneController.cameraController.selectedCamera,[s.sceneController.cameraController.selectedCamera]),n=l=>{const c=l;s.fileSettingsController.setCameraLensUnit(c),i!=null&&(i.parameters.lensUnit=c)};let o=e.projection;i!==null&&i.entity.sceneObject.type===L.CAMERA&&(o=i.parameters.projection);const a=o===Xe.PERSPECTIVE;return r.jsx(Ys,{label:"Lens unit",selectedKey:e.lensUnit,onSelectionChange:n,isDisabled:!a,children:Object.values(Kr).map(l=>r.jsx(se,{id:l,textValue:Zjt[l]},l))})}),zjt=A(({editor:s})=>{const{fileSettingsController:t}=s,e=t.camera,i=I7(),n=m.useMemo(()=>s.sceneController.cameraController.selectedCamera,[s.sceneController.cameraController.selectedCamera]);function o(h){var d;(d=s.viewportController.mainViewport)==null||d.camera.setFov(h),s.fileSettingsController.setCameraFov(h),n!=null&&(n.parameters.fov=h)}const a=s.fileSettingsController.camera.fov;let l=e.projection;n!==null&&n.entity.sceneObject.type===L.CAMERA&&(l=n.parameters.projection);const c=l===Xe.PERSPECTIVE;return r.jsx(_l,{values:[a],onChange:o,editor:s,action:P.PARAMETERS,label:f5,tooltip:"Field of view",minValue:10,maxValue:170,step:1,scrubThreshold:3,inactiveFractionDigits:1,isDisabled:!c,...i})}),Yjt=A(({editor:s})=>{const{fileSettingsController:t}=s,e=t.camera,i=t.cameraFocalLength,n=m.useMemo(()=>s.sceneController.cameraController.selectedCamera,[s.sceneController.cameraController.selectedCamera]),o=(n==null?void 0:n.parameters)??e;function a(d){var u;(u=s.viewportController.mainViewport)==null||u.camera.setFocalLength(d),s.fileSettingsController.cameraFocalLength=d,n!=null&&(n.focalLength=d)}const c=o.projection===Xe.PERSPECTIVE,h=n!=null?n.focalLength:i;return r.jsx(_l,{values:[h],onChange:a,editor:s,action:P.PARAMETERS,label:f5,tooltip:"Focal length",minValue:12,maxValue:135,step:1,inactiveFractionDigits:1,formatOptions:{unit:"millimeter",unitDisplay:"narrow",style:"unit",minimumFractionDigits:0,maximumFractionDigits:6},isDisabled:!c})}),Wjt={[Xe.PERSPECTIVE]:"Perspective",[Xe.ORTHOGRAPHIC]:"Orthographic"},Xjt={[Xe.PERSPECTIVE]:zI,[Xe.ORTHOGRAPHIC]:YI},Zjt={[Kr.FOCAL_LENGTH]:"Focal length",[Kr.FOV]:"Field of view"},lI=({children:s})=>r.jsx("div",{className:"w-r-panel rounded-panel border border-border bg-panel shadow-popover",children:s}),Kjt=({children:s,popoverContent:t,offsetSize:e=0,paddingSize:i=12,arrowClassName:n,open:o=!1,disableOnHover:a=!1,disableOnFocus:l=!1,disableArrow:c=!1,disablePopoverInteraction:h=!1,shouldCloseOnClick:d=!1,disableOnOutsideClick:u=!1,disableOnEscPress:f=!1,disableBackdrop:p=!1,onClose:g,zIndex:_,...v})=>{const[y,b]=m.useState(o),C=m.useRef(null),x=m.useCallback(X=>{b(X),g&&g()},[g]),{x:I,y:O,strategy:T,refs:D,context:B,update:F}=ZK({open:y,onOpenChange:x,whileElementsMounted:KK,middleware:[qK(e),QK({padding:i}),JK(),$K({element:C})],...v}),k=tq(B,{enabled:!a,move:!d}),Y=eq(B,{enabled:!l}),G=sq(B,{referencePress:d,escapeKey:!f,outsidePress:!u}),{getReferenceProps:st,getFloatingProps:$}=iq([k,Y,G]);return m.useEffect(()=>{b(o)},[o]),m.useEffect(()=>{F()},[s]),r.jsxs(r.Fragment,{children:[!p&&y&&r.jsx("div",{className:"fixed left-0 top-0 h-full w-full bg-black/30"}),m.cloneElement(s,{ref:D.setReference,...st()}),r.jsx(AI,{children:y&&t&&r.jsxs("div",{ref:D.setFloating,className:W(h&&"pointer-events-none"),style:{position:T,top:O??0,left:I??0,zIndex:_},...$(),children:[!c&&r.jsx(nq,{ref:C,context:B,className:n}),t]})})]})},fC=m.memo(Kjt),qjt=({editor:s,components:t,...e})=>r.jsxs(ae,{isReadOnly:e.isReadOnly,children:[r.jsx(pe,{label:"Colliders",children:r.jsx($jt,{isReadOnly:e.isReadOnly,components:t,editor:s})}),r.jsx(Jjt,{components:t,editor:s,isReadOnly:e.isReadOnly,isInstance:e.isInstance})]}),Qjt=A(qjt),Jjt=A(s=>{const t=s.components??[];return r.jsx(r.Fragment,{children:t.length===1?r.jsx(OM,{component:t[0],editor:s.editor,isReadOnly:s.isReadOnly,isInstance:s.isInstance}):t.map(e=>e.colliders&&Object.keys(e.colliders).length>0&&r.jsxs(m.Fragment,{children:[r.jsx(Gy,{label:e.entity.name}),r.jsx(OM,{component:e,editor:s.editor,isReadOnly:s.isReadOnly,isInstance:s.isInstance},e.entity.id)]},`collider-list-${e.entity.id}`))})}),OM=A(({component:s,editor:t,isReadOnly:e,isInstance:i})=>{const[n,o]=xe.useState();return m.useEffect(()=>{const a=t.physicsController.lastAddedColliderId;if(!a)return;const l=document.getElementById(`collider-item-${a}`);l==null||l.scrollIntoView()},[t.physicsController.lastAddedColliderId]),r.jsx(A_,{"aria-label":`Colliders for ${s.entity.name}`,selectionMode:"multiple",items:s.entity.sceneObject.colliders.values,children:s.entity.sceneObject.colliders.values.map(a=>r.jsx(tDt,{editor:t,collider:a,component:s,units:t.sceneController.scene.units,onChangeSignal:t.stateController.signals.transform,onBegin:()=>t.stateController.recordBefore({action:P.COLLIDER}),onEnd:()=>t.stateController.recordAfter({action:P.COLLIDER}),activeColliderId:n,setActiveColliderId:o,isReadOnly:e,isInstance:i},a.id))})});function $jt(s){return r.jsxs(Qi,{children:[r.jsx(As,{"aria-label":"Add collider",onPress:()=>wt(Me.COLLIDER_ADD),isReadOnly:s.isReadOnly,children:Eo}),r.jsx(Ji,{children:de[Me.COLLIDER_ADD].label})]})}const Iz=A(({collider:s,variant:t,isReadOnly:e})=>{const i=Object.values(Bn).map(n=>({displayName:Tz(n),shapeType:n}));return r.jsx(Ys,{label:"Collider type",variant:t,items:i,selectedKey:s.shape.type,onSelectionChange:n=>wt(Me.COLLIDER_TYPE_CHANGE,{colliderId:s.id,type:n}),isReadOnly:e,children:n=>r.jsx(se,{id:n.shapeType,textValue:n.displayName})})}),tDt=A(s=>{const{collider:t,component:e}=s,{shape:i}=t,n=m.useMemo(()=>{if(!s.isInstance)return!1;const o=e.entity.sceneObject.overrides;return!o||Object.keys(o).length===0||!o.colliders||!o.colliders[t.id]||!o.colliders[t.id].id},[e.entity.sceneObject.overrides,t.id,s.isInstance]);return r.jsx(Df,{textValue:Tz(i.type),id:"collider-item-"+t.id,children:r.jsxs(vZt,{children:[r.jsx(eDt,{...s}),r.jsx(Iz,{...s,isReadOnly:s.isReadOnly||n}),r.jsx(gDt,{...s}),r.jsx(_Dt,{...s,isReadOnly:s.isReadOnly||n})]})})}),eDt=A(s=>{const t=s.activeColliderId===s.collider.id;return r.jsx(vDt,{...s,open:t,onClose:()=>{s.setActiveColliderId(void 0)},children:r.jsx(As,{isActive:t,onPress:()=>{t?s.setActiveColliderId(void 0):s.setActiveColliderId(s.collider.id)},isReadOnly:s.isReadOnly,children:H$})})}),sDt=A(s=>r.jsxs(r.Fragment,{children:[r.jsx(iDt,{...s}),r.jsxs(ae,{children:[r.jsx(nDt,{...s,components:[s.collider]}),r.jsx(aDt,{...s})]})]})),iDt=A(({collider:s,close:t})=>r.jsxs($f,{children:[r.jsx(Iz,{collider:s,variant:"title"}),r.jsx(Db,{close:t})]})),nDt=A(s=>r.jsxs(r.Fragment,{children:[r.jsx(Ls,{children:Object.values(Mt).map(t=>r.jsx(oDt,{...s,axis:t},t))}),r.jsx(Ls,{children:Object.values(Mt).map(t=>r.jsx(rDt,{...s,axis:t},t))})]})),oDt=A(({axis:s,components:t,...e})=>{const i=Az("Position",s,t.map(n=>n.position));return r.jsx(Qf,{...i,...e})}),rDt=A(({axis:s,components:t,...e})=>{const i=Az("Rotation",s,t.map(n=>n.rotation));return r.jsx(dC,{...i,...e})}),Az=(s,t,e)=>{const i=xa[t],n=Yj[t];return{label:n,tooltip:`${s} ${n}`,values:e.map(o=>o[i]),onChange:o=>e.forEach(a=>{a[i]=o}),action:P.COLLIDER}},aDt=A(({collider:s,...t})=>r.jsxs(r.Fragment,{children:[r.jsx(lDt,{collider:s,...t}),r.jsx(uDt,{collider:s,...t})]})),lDt=A(({collider:s,component:t,editor:e})=>{if(s.shape.type!==Bn.BOX)return null;const i=s.shape;return r.jsxs(r.Fragment,{children:[r.jsx(hDt,{editor:e,shape:i,component:t}),r.jsx(dDt,{editor:e,shape:i,component:t}),r.jsx(cDt,{editor:e,shape:i})]})}),cDt=A(({editor:s,shape:t})=>{const e=m.useMemo(()=>[new bDt(t)],[t]);return r.jsxs(Ls,{children:[r.jsx(Zf,{editor:s,parameters:e,action:P.COLLIDER,label:qR,tooltip:"Padding X"}),r.jsx(M1,{editor:s,parameters:e,action:P.COLLIDER,label:ttt,tooltip:"Padding Y"}),r.jsx(Kf,{editor:s,parameters:e,action:P.COLLIDER,label:ett,tooltip:"Padding Z"}),r.jsx(Hm,{editor:s,parameters:e})]})}),hDt=A(({editor:s,shape:t,component:e})=>{const i=m.useMemo(()=>[new yDt(t,e)],[t,e]),{halfExtents:n}=t;function o(a){return a===1/0?"Auto":void 0}return r.jsxs(Ls,{children:[r.jsx(Zf,{editor:s,parameters:i,overrideValueString:o(n.x),action:P.COLLIDER}),r.jsx(M1,{editor:s,parameters:i,overrideValueString:o(n.y),action:P.COLLIDER}),r.jsx(Kf,{editor:s,parameters:i,overrideValueString:o(n.z),action:P.COLLIDER}),r.jsx(Hm,{editor:s,parameters:i})]})}),dDt=A(({editor:s,shape:t,component:e})=>{const{halfExtents:i}=t,n=[i.x,i.y,i.z].every(a=>a===1/0),o=a=>{s.stateController.recordBefore({action:P.COLLIDER}),Jt(()=>{if(a)i.x=1/0,i.y=1/0,i.z=1/0;else{const{size:l}=e.entity;i.x=l.x/2,i.y=l.y/2,i.z=l.z/2}}),s.stateController.signals.transform.dispatch({action:P.COLLIDER}),s.stateController.recordAfter({action:P.COLLIDER})};return r.jsx(Ls,{children:r.jsx(Pa,{className:"pl-[6px]",size:"sm",variant:"secondary",isSelected:n,onChange:o,children:r.jsx(K,{children:"Auto size"})})})}),uDt=A(({collider:s,component:t,editor:e})=>{if(s.shape.type!==Bn.SPHERE)return null;const{shape:i}=s;return r.jsxs(r.Fragment,{children:[r.jsx(fDt,{editor:e,shape:i,component:t}),r.jsx(pDt,{editor:e,shape:i,component:t}),r.jsx(mDt,{editor:e,shape:i})]})}),fDt=A(({editor:s,shape:t,component:e})=>{const i=t.radius===1/0?e.entity.boundingSphereGlobal.radius:t.radius,n=t.radius===1/0?"Auto":void 0;return r.jsx(Ls,{children:r.jsx(hC,{editor:s,label:"R",tooltip:"Radius",values:[i],overrideValueString:n,onChange:o=>{M5.shape.radius.safeParse(i).success&&(t.radius=o)},action:P.COLLIDER})})}),pDt=A(({editor:s,shape:t,component:e})=>{const{radius:i}=t,n=i===1/0,o=a=>{s.stateController.recordBefore({action:P.COLLIDER}),Jt(()=>{t.radius=a?1/0:e.entity.size.x/2}),s.stateController.signals.transform.dispatch({action:P.COLLIDER}),s.stateController.recordAfter({action:P.COLLIDER})};return r.jsx(Ls,{children:r.jsx(Pa,{className:"pl-[6px]",size:"sm",variant:"secondary",isSelected:n,onChange:o,children:r.jsx(K,{children:"Auto size"})})})}),mDt=A(({editor:s,shape:t})=>{const e=[t.radialPadding],i=n=>{const o=M5.shape.radialPadding.safeParse(n);o.success&&(t.radialPadding=o.data)};return r.jsx(Ls,{children:r.jsx(hC,{editor:s,label:qR,tooltip:"Padding",values:e,onChange:i,action:P.COLLIDER})})});function Tz(s){switch(s){case Bn.BOX:return"Box";case Bn.SPHERE:return"Sphere"}}A(({collider:s,variant:t})=>{const[e,i]=xe.useState(s.name);return r.jsx(h1,{"aria-label":"Collider name",value:e,className:"w-full",onChange:n=>{i(n)},onBlur:n=>{e!==""&&wt(Me.COLLIDER_NAME_CHANGE,{collider:s,name:e})},variant:t,minLength:1,maxLength:20,children:r.jsx(Zc,{"aria-label":"Collider name"})})});const gDt=A(({collider:s,isReadOnly:t})=>r.jsxs(Qi,{children:[r.jsx(As,{onPress:()=>wt(Me.COLLIDER_TOGGLE_ENABLED,{collider:s}),isReadOnly:t,children:s.isEnabled?Pb:Ob}),r.jsx(Ji,{children:de[Me.COLLIDER_TOGGLE_ENABLED].label})]}));function _Dt({collider:s,component:t,isReadOnly:e}){return r.jsx(As,{"aria-label":"Remove collider",onPress:()=>wt(Me.COLLIDER_REMOVE,{component:t,collider:s}),isReadOnly:e,children:w_})}const vDt=A(({open:s,children:t,onClose:e,...i})=>{const n=r.jsx(lI,{children:r.jsx(sDt,{...i,close:e})});return r.jsx(fC,{placement:"bottom-start",popoverContent:n,disableArrow:!0,offsetSize:16,open:s,onClose:e,disableOnFocus:!0,disableOnHover:!0,disableBackdrop:!0,children:t})});class yDt{constructor(t,e){this._shape=t,this._component=e}get width(){return this._shape.halfExtents.x===1/0?this._component.entity.size.x:this._shape.halfExtents.x*2}get height(){return this._shape.halfExtents.y===1/0?this._component.entity.size.y:this._shape.halfExtents.y*2}get depth(){return this._shape.halfExtents.z===1/0?this._component.entity.size.z:this._shape.halfExtents.z*2}set width(t){const e=cm.shape.halfExtents.shape.x.safeParse(t);e.success&&(this._shape.halfExtents.x=e.data/2)}set height(t){const e=cm.shape.halfExtents.shape.y.safeParse(t);e.success&&(this._shape.halfExtents.y=e.data/2)}set depth(t){const e=cm.shape.halfExtents.shape.z.safeParse(t);e.success&&(this._shape.halfExtents.z=e.data/2)}get areDimensionsLinked(){return this._shape.halfExtents.isLinked}set areDimensionsLinked(t){this._shape.halfExtents.isLinked=t}}class bDt{constructor(t){this._shape=t}get width(){return this._shape.halfExtentsPadding.x}get height(){return this._shape.halfExtentsPadding.y}get depth(){return this._shape.halfExtentsPadding.z}set width(t){const e=cm.shape.halfExtentsPadding.shape.x.safeParse(t);e.success&&(this._shape.halfExtentsPadding.x=e.data)}set height(t){const e=cm.shape.halfExtentsPadding.shape.y.safeParse(t);e.success&&(this._shape.halfExtentsPadding.y=e.data)}set depth(t){const e=cm.shape.halfExtentsPadding.shape.z.safeParse(t);e.success&&(this._shape.halfExtentsPadding.z=e.data)}get areDimensionsLinked(){return this._shape.halfExtentsPadding.isLinked}set areDimensionsLinked(t){this._shape.halfExtentsPadding.isLinked=t}}const CDt=A(({components:s,editor:t,isReadOnly:e})=>{const i=s.filter(f=>f.isEnabled),n=i.length>0,o=i.length===s.length,a=n&&o,l=i.every(f=>f.isEffectivelyInBaseState()),c=e||!l,h=m.useCallback(f=>{s.forEach(p=>{p.isEnabled=f,Ft("frame-constraint",{isEnabled:f})})},[s]),d=s.every(f=>f.isEveryMultiFaceAxesAlignedToFrame);function u(){if(!l)return"Set to base state to modify constraints";if(!d)return"Remove rotation to enable multi-face constraints"}return r.jsxs(ae,{isReadOnly:e,children:[r.jsxs(pe,{children:[r.jsxs(L1,{children:["Constraints",(!d||!l)&&r.jsx("div",{className:"itens-center flex h-8 w-8 justify-center",children:r.jsx(Nb,{children:u()})})]}),r.jsx(uC,{label:a?"Remove constraints":"Add constraints",action:P.FRAME_ANCHOR,selection:s,editor:t,onPress:()=>h(!a),isReadOnly:c,className:W(c&&"opacity-50"),children:a?w_:Eo})]}),a&&r.jsx(Ls,{children:[Mt.X,Mt.Y,Mt.Z].map(f=>r.jsx(wDt,{axis:f,editor:t,components:i},f))})]})}),wDt=A(s=>{const{axis:t,editor:e,components:i}=s,n=Yj[t],a=i.map(y=>y.constraint).filter(as.isDefined),l=Qj[t],c=a.map(y=>y[l]),h=[...new Set(c)],d=h.length>1,u=d?null:h[0],f=d?RJ:bw[t][h[0]],p=i.every(y=>y.isEnabled&&y.isEffectivelyInBaseState()),g=m.useCallback((y,b)=>{const C=i.filter(x=>x.isEnabled);e.sceneController.toggleAnchor(C,y,b),__(e)},[i,e]),_=i.every(y=>y.isAlignedToFrameInAxis(Wj[t])),v=!p||!_&&u===Zn.BOTH;return r.jsxs("div",{className:W("flex flex-row items-center",v&&"opacity-50"),children:[r.jsx(t5,{className:"flex h-full px-2",children:r.jsx(De,{variant:"secondary",children:n})}),r.jsx(Ys,{isReadOnly:!p,label:`${n}-axis constraints`,selectedKey:u,icon:f,shouldInheritFill:!1,onSelectionChange:y=>{g(t,y)},valueContent:y=>r.jsx(De,{variant:v?"secondary":"primary",children:f}),isDisabled:v,children:qj[t].map(y=>r.jsx(xDt,{type:y,isReadOnly:!p,isVisuallyDisabled:y===Zn.BOTH&&!_,...s},y))})]})}),xDt=A(({axis:s,type:t,editor:e,components:i,...n})=>{const[o,a]=m.useState(bw),l=m.useCallback(()=>{a(bw)},[]),c=m.useCallback(()=>{const u=$at[s][t],f=i.map(p=>p.entity);u.forEach(p=>{U8(e,f,s,p,Ea.FRAME)}),a(tlt)},[s,i,e,t]),h=m.useCallback(()=>{__(e),a(bw)},[e]),d=elt[s][t];return r.jsx(se,{id:t,textValue:d,onHoverStart:c,onHoverEnd:h,...n,children:r.jsx("div",{onPointerUp:l,children:r.jsx(rm,{icon:o[s][t],label:d,shouldInheritFill:!1})})})}),EDt=.01,SDt=0,IDt=100,ADt=5,TDt=({editor:s,lines:t,...e})=>{const i=m.useMemo(()=>t[0],[t]),n=()=>{s.stateController.recordBefore({action:P.PARAMETERS})},o=()=>{s.stateController.recordAfter({action:P.PARAMETERS})},a=m.useCallback(_=>{switch(n(),_){case bs.WIRE:i.removeMesh();break;case bs.FILL:i.fillCurve();break;case bs.PIPE:i.pipeCurve();break}s.stateController.signals.parameters.dispatch({action:P.PARAMETERS}),o()},[i.entity.id]),l=m.useCallback(_=>{Jt(()=>{i.entity.sceneObject.parameters.height=Number.isFinite(_)?_:0}),s.stateController.signals.parameters.dispatch({action:P.PARAMETERS})},[i.entity.id]),c=m.useCallback((_,v,y)=>{i.updatePipe(_,v,y),s.stateController.signals.parameters.dispatch({action:P.PARAMETERS})},[i.entity.id]),h=m.useCallback(_=>{Jt(()=>{i.entity.sceneObject.parameters.segments=_}),s.stateController.signals.parameters.dispatch({action:P.PARAMETERS})},[i.entity.id]),d=m.useCallback(_=>{Jt(()=>{const v=i.entity.sceneObject.parameters;v.stepSize=tB(_),v.angleThreshold=iB(_)}),s.stateController.signals.parameters.dispatch({action:P.PARAMETERS})},[i.entity.id]),u=m.useCallback(_=>{c(i.pipeRadius,_,i.pipeCap)},[i.entity.id]),f=m.useCallback(_=>{a(_)},[i.entity.id]),p=m.useCallback(_=>{c(i.pipeRadius,i.pipeShape,_)},[i.entity.id]),g=m.useCallback(()=>{s.sceneController.makeCurveIntoMesh(i.entity)&&wt(it.EXTRUDE)},[i.entity]);return r.jsxs(ae,{isReadOnly:e.isReadOnly,children:[r.jsx(pe,{label:`${i.isPlanar?"Planar":"3D"} Curve`}),r.jsx(Gy,{label:"Style",children:r.jsx(ky,{className:"w-40",options:[{label:bs.WIRE,value:bs.WIRE},{label:bs.FILL,value:bs.FILL},{label:bs.PIPE,value:bs.PIPE}],value:i.curveType,onChange:f})}),i.curveType===bs.FILL&&r.jsx(Ql,{label:"Extrude",children:r.jsx(xr,{label:"Y","data-testid":"plane-depth-param",value:i.entity.sceneObject.parameters.height??0,sensitivity:.05,onChange:l,minValue:0,onBegin:n,onEnd:o,isFixedWidth:!1,hasWideLabel:!0})}),i.curveType===bs.PIPE&&r.jsxs(r.Fragment,{children:[r.jsx(Gy,{label:"Pipe shape",children:r.jsx(ky,{className:"w-40",options:[{label:Og.SQUARE,value:Og.SQUARE},{label:Og.CIRCLE,value:Og.CIRCLE}],value:i.pipeShape,onChange:u})}),r.jsx(Ql,{label:"Size",children:r.jsx(xr,{label:"R",value:i.pipeRadius,sensitivity:EDt,onChange:_=>c(_,i.pipeShape,i.pipeCap),minValue:.001,onBegin:n,onEnd:o,isFixedWidth:!1,hasWideLabel:!0})}),r.jsx(Gy,{label:"Caps",children:r.jsx(ky,{className:"w-40",options:[{label:Yc.NONE,value:Yc.NONE},{label:Yc.FLAT,value:Yc.FLAT}],value:i.pipeCap,onChange:p})})]}),i.isAdaptiveSegmentationSupported?r.jsx(bI,{children:r.jsx(vb,{label:"Quality",min:SDt,max:IDt,step:ADt,value:i.segmentationQuality,onBegin:n,onChange:_=>d(_),onEnd:o})}):r.jsx(bI,{children:r.jsx(vb,{label:"Segments",min:N0.minimum,max:N0.maximum,step:1,value:i.curveSegments??N0.default,onBegin:n,onChange:_=>h(_),onEnd:o})}),i.curveType===bs.FILL&&r.jsx(ii,{children:r.jsx(Tt,{size:"sm",variant:"secondary",onClick:()=>g(),children:"Make into mesh"})})]})},PDt=A(TDt),Pz=A(({asset:s,controller:t,className:e,refCallback:i,onSwap:n})=>{const{id:o}=s,a=t.getPreview(o),l=Math.floor((a==null?void 0:a.elapsedPercent)??0),c=(a==null?void 0:a.isPlaying)??!1,h=s.name??"Untitled",d=!n,u=m.useMemo(()=>s.data,[s.data]),f=m.useCallback(()=>u.duration?u.duration:a?a.duration:0,[u,a]),p=m.useCallback(()=>LDt(f()),[f]),g=m.useCallback(()=>{c?t.stopPreview(o):t.playPreview(o,u.urlKey)},[t,u,o,c]),_=m.useCallback(()=>()=>{t.stopPreview(o)},[t,o]);return m.useEffect(_,[_]),r.jsxs("div",{className:W("relative flex grow flex-row items-center",e),children:[r.jsxs(Na,{className:({isHovered:v,isPressed:y,isFocusVisible:b})=>W("relative z-0 flex h-8 grow flex-row items-center justify-between rounded bg-pressed hover:bg-hovered",v&&!y&&!b&&"bg-hovered",y&&"bg-active",b&&"shadow-focus",d&&"pointer-events-none"),isDisabled:d,onPress:n,ref:i,children:[r.jsx("div",{className:"z-10 ml-2 h-4 overflow-hidden text-ellipsis text-left",children:h}),r.jsx("div",{className:"z-10 mr-2 text-right font-mono",children:p()}),r.jsx(MDt,{percent:l})]}),r.jsx(ODt,{isPlaying:c,onChange:g})]})}),ODt=A(({isPlaying:s,onChange:t})=>{const e=s?L$:u5,i=m.useCallback(()=>{t&&t()},[t]);return r.jsxs(Qi,{children:[r.jsx(As,{onPress:i,"aria-label":"Preview",children:e}),r.jsx(Ji,{placement:"bottom",children:"Preview"})]})}),MDt=A(({percent:s})=>{const t={width:`${s||0}%`};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute z-0 h-8 w-full rounded"}),r.jsx("div",{className:"absolute z-0 h-8 rounded-l bg-lime/20",style:t})]})}),MM=(s,t)=>s.toString().padStart(t,"0"),LDt=s=>{if(s===0||isNaN(s))return"";const t=Math.floor(s/1e3),e=Math.floor(t/60),i=t%60;return e===0&&i===0?"00:01":`${MM(e,2)}:${MM(i,2)}`},RDt=({item:s,closeAfterSelection:t,onSelectItem:e,onItemRemove:i,onItemEdit:n,onClose:o})=>{const[a,{toggleOn:l,toggleOff:c}]=ss(!1),h=m.useCallback(d=>{e(d.currentTarget.value),t&&o()},[e,o,t]);return r.jsxs("button",{className:W("group relative flex max-h-28 flex-col items-start justify-center gap-1 border border-solid border-transparent p-2 hover:border-white/40 active:border-white/5",{"border-white/40":a}),value:s.id,onClick:h,"aria-label":s.name,children:[s.data.preview?r.jsx("img",{className:"h-16 w-full object-cover",src:s.data.preview,alt:"preview"}):r.jsx("div",{className:"h-16 w-full bg-gray-90"}),r.jsxs("div",{className:"flex w-full",children:[r.jsx("p",{className:"w-0 flex-grow overflow-hidden text-ellipsis whitespace-nowrap text-left text-body2 text-white/6",children:s.name}),r.jsx(Oz,{item:s,className:W("hidden group-hover:block",{"!block":a}),onItemRemove:i,onItemEdit:n,onOpen:l,onClose:c})]})]})},NDt=({item:s,closeAfterSelection:t,onSelectItem:e,onItemRemove:i,onItemEdit:n,onClose:o})=>{const[a,{toggleOn:l,toggleOff:c}]=ss(!1),h=m.useCallback(p=>{e(p.currentTarget.value),t&&o()},[e,o,t]),{asset:d,controller:u}=s,f=d&&u;return r.jsxs("button",{className:W("group relative flex max-h-10 flex-col items-start justify-center gap-1 rounded p-1 hover:bg-white/10 active:bg-white/20",{"bg-white/30":a}),value:s.id,onClick:h,"aria-label":s.name,children:[" ",r.jsxs("div",{className:"flex w-full",children:[r.jsx("div",{className:"flex grow",children:f?r.jsx(Pz,{asset:s.asset,controller:s.controller}):r.jsx("p",{className:"w-0 flex-grow overflow-hidden text-ellipsis whitespace-nowrap text-left text-body2 text-white/6",children:"Missing audio preview"})}),r.jsx(Oz,{item:s,className:W("max-w-8 flex min-w-8 justify-center rounded-sm"),onItemRemove:i,onItemEdit:n,onOpen:l,onClose:c})]})]})},Oz=({item:s,className:t,onItemRemove:e,onItemEdit:i,onOpen:n,onClose:o})=>i&&e?r.jsx(Sr,{className:t,options:[{id:_t(),text:"Edit",onClick:()=>i(s.id)},{id:_t(),text:"Remove",status:"error",onClick:()=>e(s.id)}],width:100,spot:Ds.LEFT_BOTTOM,onOpen:n,onClose:o,children:r.jsx(Oi,{className:"!h-auto",icon:$l})}):null,pC=({className:s,style:t,anchor:e,onClose:i,...n})=>{const[o,a]=m.useState({}),l=m.useRef(null),c=m.useCallback(d=>{var u;d.stopPropagation(),(u=l==null?void 0:l.current)!=null&&u.contains(d.target)||i()},[i]),h=m.useCallback(()=>{if(!l.current||!e.current)return;const{top:d,left:u,width:f,height:p}=e.current.getBoundingClientRect(),{width:g,height:_}=l.current.getBoundingClientRect(),v=8,y=window.innerWidth,b=window.innerHeight,C=[d+p+6,u+f/2],x=[C[0],b-v-(C[0]+_),C[1]-g/2,y-(C[1]+g/2)];x[0]=x[0]>0?0:x[0]-v,x[1]=x[1]>0?0:x[1],x[2]=x[2]>0?0:x[2]-v,x[3]=x[3]>0?0:x[3]-v,a({top:`${C[0]}px`,left:`${C[1]}px`,transform:`translate(
        calc(-50% + ${x[3]-x[2]}px), 
        ${x[1]-x[0]}px`})},[e]);return Rb(h,500,!1),m.useLayoutEffect(()=>{h()},[]),r.jsx("div",{className:W("fixed bottom-0 left-0 right-0 top-0 z-popup",s),style:t,onClick:c,...n,children:r.jsx("div",{ref:l,className:"absolute flex w-60 flex-col gap-2 rounded-lg border border-gray-70 bg-gray-90 shadow-menu",style:o,children:n.children})})},mC=({className:s,style:t,items:e,type:i,category:n,columnCount:o=2,disabledCategories:a=new Set,disableCategory:l=!1,closeAfterSelection:c=!1,isLoading:h=!1,onAddItem:d,onCategoryChange:u,onLoadMore:f,onItemEdit:p,onItemRemove:g,onSelectItem:_,onClose:v,...y})=>{const{authController:{auth:{isDev:b}}}=Pt(),[C,x,I]=m.useMemo(()=>{let X=!!d,q=!!p,at=!!g;const bt=!b&&n===_i.BEZI;return X&&(X=!bt),q&&(q=!bt),at&&(at=!bt),[X,q,at]},[n,b,d,p,g]),O=m.useCallback(()=>{d==null||d(n)},[n,d]),T=m.useCallback(X=>{u==null||u(X)},[u]),D=m.useCallback(()=>{f==null||f(n)},[n,f]),B=bC(D),F=m.useMemo(()=>{const X=[];for(const q of Object.values(_i))a.has(q)||X.push({id:q,key:q,text:q});return X},[a]),[k,Y]=m.useMemo(()=>i===Ae.MATERIAL?[r.jsxs(r.Fragment,{children:["Click on the `+` icon to",r.jsx("br",{}),"save this material"]}),"Material Library"]:i===Ae.HDRI?[r.jsxs(r.Fragment,{children:["Click on the `+` icon to",r.jsx("br",{}),"save this HDRI"]}),"HDRI Library"]:i===Ae.SOUND?[r.jsxs(r.Fragment,{children:["Click on the `+` icon to",r.jsx("br",{}),"upload an audio file"]}),"Audio Library"]:[r.jsx(r.Fragment,{children:"Components"}),"Components Library"],[i]),G=m.useMemo(()=>e.sort((X,q)=>X.name.localeCompare(q.name)),[e]),st=m.useMemo(()=>Math.min(o,3),[o]),$=m.useMemo(()=>i===Ae.SOUND?"px-1":"gap-2 px-2",[i]);return r.jsxs(r.Fragment,{children:[r.jsxs($f,{children:[l?r.jsx("p",{className:"text-body2 font-bold",children:Y}):r.jsx(Ys,{className:W(h&&"pointer-events-none opacity-70"),label:"Category",items:F,selectedKey:n,onSelectionChange:X=>T(X),children:X=>r.jsx(se,{id:X.id,textValue:X.text})}),C&&r.jsx(cs,{label:"Add to library",onPress:O,children:Eo})]}),G.length?r.jsx("div",{className:W(`grid-cols-${st}`,"grid h-72 grid-rows-materialLib overflow-y-scroll",$),onScroll:B,"aria-label":"Library items",children:G.map(X=>i===Ae.SOUND?r.jsx(NDt,{item:X,closeAfterSelection:c,onSelectItem:_,onItemEdit:x?p:void 0,onItemRemove:I?g:void 0,onClose:v},X.id):r.jsx(RDt,{item:X,closeAfterSelection:c,onSelectItem:_,onItemEdit:x?p:void 0,onItemRemove:I?g:void 0,onClose:v},X.id))}):r.jsx("div",{className:"flex h-72 w-full items-center justify-center",children:r.jsx("p",{className:"text-center text-body2 leading-4 opacity-[0.35]",children:k})})]})},jDt=({editor:s})=>{const{sceneController:t}=s,{hdrLighting:e}=t,i=e.isEnabled;function n(){s.stateController.recordBefore({action:P.HDR_LIGHTING})}function o(){s.stateController.recordAfter({action:P.HDR_LIGHTING})}function a(h){n(),t.setHDRLighting(h),s.stateController.signals.environment.dispatch({action:P.HDR_LIGHTING,hdrLighting:h}),o()}function l(h){e!=null&&a({...e.activeValues(),isEnabled:h})}function c(h){const d={...e.activeValues(),intensity:h,isEnabled:!0};t.setHDRLighting(d),s.stateController.signals.environment.dispatch({action:P.HDR_LIGHTING,hdrLighting:d})}return r.jsxs(ae,{children:[r.jsx(pe,{label:"Environment light"}),e&&r.jsxs(Mf,{children:[r.jsx(FDt,{editor:s,hdrLighting:e}),r.jsx(W8,{editor:s,label:Zw,tooltip:"Intensity",values:[e.intensity],onChange:c,action:P.HDR_LIGHTING,isDisabled:!i}),r.jsx(_z,{editor:s,values:[e.isEnabled],onChange:l})]})]})},DDt=A(jDt),FDt=A(s=>{const{editor:t,hdrLighting:e}=s,{sceneController:i}=t,[n,{toggleOn:o,toggleOff:a}]=ss(!1),l=m.useRef(null),c=m.useCallback(d=>{t.stateController.recordBefore({action:P.HDR_LIGHTING}),i.setHDRLighting(d),t.stateController.signals.environment.dispatch({action:P.HDR_LIGHTING,hdrLighting:e}),t.stateController.recordAfter({action:P.HDR_LIGHTING})},[t.stateController,i,e]),h=m.useCallback(()=>{o(),c(e)},[o,e,c]);return r.jsxs(r.Fragment,{children:[r.jsx(Lz,{onPress:h,ref:l,...s}),n&&r.jsx(BDt,{anchor:l,onClose:a,editor:t})]})}),BDt=A(s=>{const{editor:t,anchor:e,onClose:i}=s;return r.jsx(pC,{anchor:e,onClose:i,children:r.jsx(Mz,{editor:t,onClose:i})})}),Mz=A(s=>{var T,D;const{editor:t,onClose:e}=s,{sceneController:i}=t,{listAssets:n,selectedTeam:o,selectedFile:a,onTeamChange:l,onFileChange:c}=yC(t,Gh.HDRILib,Ae.HDRI),{onHDRIRemove:h}=vd(t),d=aT(o,a),[u,f]=m.useState([]);function p(){t.stateController.recordBefore({action:P.HDR_LIGHTING})}function g(){t.stateController.recordAfter({action:P.HDR_LIGHTING})}function _(B){const F={...B,isEnabled:!0};p(),i.setHDRLighting(F),t.stateController.signals.environment.dispatch({action:P.HDR_LIGHTING,hdrLighting:F}),g()}const v=m.useCallback(B=>{var F;if(B===_i.BEZI){l(uo.BEZI),c(null);return}if(B===_i.TEAM){(F=t.fileController.team)!=null&&F.id&&(l(t.fileController.team.id),c(null));return}c(t.fileController.id)},[t.fileController.id,(T=t.fileController.team)==null?void 0:T.id,c,l]),y=m.useCallback(B=>{var Y;const F=B===_i.BEZI?"bezel":((Y=t.fileController.team)==null?void 0:Y.id)||"-",k=t.fileController.id;Bt.open({content:r.jsx(vP,{editor:t,teamId:F,fileId:k})})},[t]),b=m.useCallback(()=>{n(!0)},[n]),C=m.useCallback(B=>{const F=t.assetController.assets[B];F&&Bt.open({content:r.jsx(vP,{editor:t,asset:F})})},[t]),x=m.useCallback(B=>{h(B)},[h]);function I(B){var k;const F=t.assetController.assets[B];if(!F){console.error("Attempted to update to unknown HDR",B);return}i.statefulScene.environment.notifyHDRLightingLoading=!0,_({...YN,imageURL:F.data.urlKey,previewURL:((k=F.preview)==null?void 0:k.urlKey)||"",name:F.name,fileExtension:F.data.extension})}const O=m.useCallback(async()=>{const B=t.assetController.assetArr,F=[];for(const k of B){let Y=null;k.preview&&(Y=await xs(k.preview.urlKey)||null),F.push({id:k.id,name:k.name,data:{preview:Y}})}f(F)},[JSON.stringify(t.assetController.assetArr)]);return m.useEffect(()=>{O()},[O]),r.jsx(mC,{type:Ae.HDRI,items:u,category:d,columnCount:1,disabledCategories:(D=t.fileController.team)!=null&&D.id?void 0:new Set([_i.TEAM]),onCategoryChange:v,onAddItem:y,onLoadMore:b,onItemEdit:C,onItemRemove:x,onSelectItem:I,onClose:e,closeAfterSelection:!0})}),Lz=A(xe.forwardRef((s,t)=>{const{hdrLighting:e,onPress:i}=s,[n]=Jf([e.previewURL],{}),o=e.isEnabled;return r.jsxs(Na,{className:({isHovered:a,isPressed:l,isFocusVisible:c,isDisabled:h})=>W("flex h-7 items-center gap-2 pl-2",a&&!l&&!c&&"bg-hovered",l&&"bg-active",c&&"shadow-focus"),onPress:i,ref:t,children:[r.jsx("img",{src:n,className:"h-4 w-4 object-cover",alt:`${e.name}-hdr-preview`}),r.jsx(K,{className:W(!o&&"opacity-30"),children:e.name})]})}));function kDt(s){const t=xe.useRef(null);return r.jsxs(ae,{ref:t,children:[r.jsx(pe,{label:"Background"}),r.jsxs(Mf,{lastItem:r.jsx(HDt,{...s}),children:[r.jsx(ZDt,{...s,triggerRef:t}),s.editor.sceneController.scene.background.parameters.type===ln.COLOR&&r.jsx(VDt,{...s,parameters:s.editor.sceneController.scene.background.parameters})]}),r.jsx(Yl,{children:r.jsx(UDt,{...s})})]})}const GDt=A(kDt);function Rw(s,t=!0){let e=s.replace("#","");return t&&e.length===3&&(e=e.split("").map(i=>i+i).join("")),e}const VDt=A(s=>{const{editor:t,parameters:e}=s,{sceneController:i}=t,{background:n}=i.scene,o=m.useCallback(d=>{e.opacity=d,n.isVisible=!0,i.setEnvironmentOpacity(d),t.stateController.signals.environmentOpacity.dispatch({action:P.BACKGROUND,background:n})},[i,t.stateController.signals.environmentOpacity,e,n]),a=t.sceneController.scene.background.parameters.type,l=t.sceneController.scene.background.isVisible,c=a===ln.ENVIRONMENT,h=e.opacity;return r.jsx(W8,{editor:t,label:KR,tooltip:"Opacity",values:[h],onChange:o,action:P.BACKGROUND,isDisabled:!l||c,isReadOnly:a===ln.ENVIRONMENT})}),HDt=A(s=>{const{editor:t}=s,{sceneController:e}=t,i=m.useCallback(n=>{t.stateController.recordBefore({action:P.BACKGROUND}),Jt(()=>{e.scene.background.isVisible=n});const o=e.scene.background;t.stateController.signals.background.dispatch({action:P.BACKGROUND,background:o}),t.stateController.recordAfter({action:P.BACKGROUND})},[e,t.stateController]);return r.jsx(K8,{editor:t,values:[t.sceneController.scene.background.isVisible],onChange:i})}),UDt=A(s=>{const{editor:t}=s,{background:e}=t.sceneController.scene,i=e.shouldShowInAR,n=m.useCallback(o=>{e.shouldShowInAR=!o},[e]);return r.jsx(vl,{className:"pl-2",onChange:n,values:[!i],action:P.BACKGROUND,...s,children:r.jsx(K,{children:"Enable AR mode"})})}),zDt=A(s=>{const{editor:t,parameters:e}=s,{sceneController:i}=t,{background:n}=i.scene,{color:o}=e,[a,l]=m.useState(""),c=m.useCallback(u=>{l(Rw(u.target.value,!1))},[]),h=m.useCallback(()=>{let u=`#${a}`;if(!S_(u)){u=e.color,l(Rw(u));return}t.stateController.recordBefore({action:P.BACKGROUND}),e.color=u,n.isVisible=!0,t.stateController.signals.environment.dispatch({action:P.BACKGROUND,background:n}),t.stateController.recordAfter({action:P.BACKGROUND})},[t.stateController,a,e,n]);m.useEffect(()=>{l(Rw(o))},[o]);const d=n.isVisible;return r.jsx("div",{className:"flex items-center",children:r.jsx(la,{value:a,onChange:c,onSubmit:h,align:"left",style:{fontSize:"var(--body-2)",textTransform:"uppercase",width:"48px"},isDisabled:!d})})}),YDt=A(s=>{const{editor:t,parameters:e}=s,{sceneController:i}=t,{background:n}=i.scene,{color:o,opacity:a}=e,l=Rz(a),d=$x(o.toUpperCase()+l).toFormat("hsba"),[u,f]=m.useState(d),p=v=>{const y=v.toString("hex"),b=v.getChannelValue("alpha");Jt(()=>{e.color=y,e.opacity=b,n.isVisible=!0}),f(v)},g=m.useCallback(()=>{t.stateController.recordBefore({action:P.BACKGROUND})},[t.stateController]),_=m.useCallback(v=>{const y=i.scene.background;t.stateController.signals.environment.dispatch({action:P.BACKGROUND,background:y}),t.stateController.recordAfter({action:P.BACKGROUND})},[i,t.stateController]);return r.jsx(ae,{children:r.jsx(Mj,{value:u,hasAlpha:!0,onChangeBegin:g,onChange:p,onChangeEnd:_})})}),WDt=A(s=>r.jsx(Mz,{...s,onClose:()=>{}}));function Rz(s){return Math.round(s*255).toString(16).padStart(2,"0").toUpperCase()}const XDt=A(s=>{const{editor:t,...e}=s,{sceneController:i}=t,{background:n}=i.scene;if(n.parameters.type!==ln.COLOR)return null;const{parameters:o}=n,{color:a,opacity:l}=o,c=Rw(a),h=Rz(l),f=$x("#"+c.toUpperCase()+h).toFormat("hsba");return r.jsx(Oj,{color:f,...e})}),ZDt=A(s=>{const{editor:t,triggerRef:e}=s,{sceneController:i}=t,{hdrLighting:n}=i,[o,a]=m.useState(!1),l=xe.useRef(null);tc(l,()=>{a(!1)});const h=i.scene.background.parameters;return r.jsxs(r.Fragment,{children:[h.type===ln.COLOR?r.jsxs("div",{className:"flex items-center",children:[r.jsx(XDt,{...s,"aria-label":"Background color",onPress:()=>a(d=>!d)}),r.jsx(zDt,{...s,parameters:h})]}):r.jsx(Lz,{hdrLighting:n,...s,onPress:()=>a(d=>!d)}),r.jsx(xm,{isKeyboardDismissDisabled:!0,isNonModal:!0,placement:"bottom left",offset:8,containerPadding:12,triggerRef:e,isOpen:o,onOpenChange:d=>{a(d)},children:r.jsx(jb,{className:"w-picker-popup",ref:l,"aria-label":"Background color picker",children:({close:d})=>r.jsx(KDt,{...s,closeButton:r.jsx(Db,{close:()=>{d(),a(!1)}}),children:h.type===ln.COLOR?r.jsx(YDt,{...s,parameters:h}):r.jsx(WDt,{...s})})})})]})}),KDt=A(({children:s,...t})=>r.jsxs(r.Fragment,{children:[r.jsx(qDt,{...t}),s]})),qDt=A(({closeButton:s,...t})=>r.jsxs($f,{children:[r.jsx(QDt,{variant:"title",...t}),s]})),QDt=A(({variant:s,editor:t})=>{const e=Object.values(ln).map(o=>({displayName:JDt[o],type:o})),i=t.sceneController.scene.background.parameters.type,n=m.useCallback(o=>{const{sceneController:a}=t,l=a.scene.background;l.isVisible=!0,l.parameters=o===ln.ENVIRONMENT?Xit:XN,t.stateController.recordBefore({action:P.BACKGROUND}),t.stateController.signals.environment.dispatch({action:P.BACKGROUND,background:l}),t.stateController.recordAfter({action:P.BACKGROUND})},[t]);return r.jsx(sv,{label:"Background type",variant:s,items:e,onChange:n,action:P.BEHAVIORS,values:[i],editor:t,children:o=>r.jsx(se,{id:o.type,textValue:o.displayName})})}),JDt={[ln.COLOR]:"Color",[ln.ENVIRONMENT]:"Environment"},$Dt=({value:s,onSubmit:t})=>{const[e,i]=m.useState(ir(s)),n=m.useCallback(a=>{i(ir(a.target.value))},[]);m.useEffect(()=>{i(ir(s))},[s]);const o=m.useCallback(()=>{const a=`#${e}`,l=S_(a)?a:s;t(l),i(ir(l))},[e,t,s]);return r.jsx(la,{className:"!w-14 !text-left !text-body2 !uppercase",value:e,onChange:n,onSubmit:o})},tFt=m.memo($Dt),eFt=s=>{const{editor:t,components:e}=s,i=e.map(a=>a.parameters),n=m.useCallback(()=>{wt(Me.FRAME_FIT_CHILDREN,e)},[e]),o=P.FRAME_CONSTRAIN_CHILDREN;return r.jsxs(ae,{isReadOnly:s.isReadOnly,children:[r.jsx(pe,{label:"Frame (beta)",children:r.jsx(cs,{label:"Fit to children",onPress:n,isReadOnly:s.isReadOnly,children:zJ})}),r.jsx(T3,{...s,action:o,parameters:i}),r.jsx(ii,{children:r.jsx(vl,{values:e.map(a=>a.parameters.isClippingEnabled),action:P.PARAMETERS,onChange:a=>{e.forEach(l=>l.parameters.isClippingEnabled=a),Ft("frame-clip-content",{isEnabled:a})},selection:e,...s,children:r.jsx(K,{children:"Clip content"})})}),e.some(a=>a.parameters.isClippingEnabled)&&r.jsx(sFt,{editor:t,components:e})]})},sFt=A(s=>{const{editor:t,components:e}=s,i=m.useMemo(()=>e.find(d=>d.parameters.isClippingEnabled),[e]),n=(i==null?void 0:i.parameters.capsColor)||eD,o=m.useCallback(function(u,f){for(const p of e)f(u,p.parameters);t.stateController.signals.parameters.dispatch({action:P.PARAMETERS})},[e,t.stateController.signals.parameters]),a=m.useCallback(d=>{o(d,(u,f)=>f.capsColor=u)},[o]),l=m.useCallback(()=>{t.stateController.recordBefore({action:P.PARAMETERS})},[t.stateController]),c=m.useCallback(()=>{t.stateController.recordAfter({action:P.PARAMETERS})},[t.stateController]),h=m.useCallback(d=>{a(d)},[a]);return r.jsxs(Ls,{children:[r.jsx(vl,{values:e.map(d=>d.parameters.areCapsEnabled),action:P.PARAMETERS,onChange:d=>{let u=!1;for(const f of e){const p=f.trySetCapsEnabled(d);u||(u=p!==d)}u&&console.log("Maximum number of caps created. To ensure performance of your Bezi file, the maximum number of caps allowed for clipped frames is 64.")},selection:e,...s,children:r.jsx(K,{children:"Caps"})}),r.jsxs("div",{className:"flex items-center justify-between gap-1 pl-1",children:[r.jsx(k3,{value:n,onBegin:l,onChange:a,onEnd:c}),r.jsx(tFt,{value:n,onSubmit:h})]})]})}),iFt=A(eFt),nFt=({editor:s,gamepadComponents:t,...e})=>{const i=t[0].entity.sceneObject.activeState;return r.jsxs(ae,{children:[r.jsx(pe,{label:"Bindings",isReadOnly:e.isReadOnly,children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(lFt,{editor:s,gamepadComponents:t,isReadOnly:e.isReadOnly}),!i&&r.jsx(rFt,{editor:s,gamepadComponents:t,isReadOnly:e.isReadOnly})]})}),r.jsx(cFt,{editor:s,gamepadComponents:t,isReadOnly:e.isReadOnly})]})},oFt=A(nFt);function rFt({editor:s,gamepadComponents:t,isReadOnly:e}){const i=()=>{t.forEach(n=>{n.addNewAction()})};return r.jsx(uC,{label:"Add action",action:P.GAMEPAD,selection:t,editor:s,onPress:i,isReadOnly:e,children:Eo})}function aFt({editor:s,gamepadComponent:t,gamepadAction:e,isReadOnly:i}){const n=()=>{s.stateController.recordBefore({action:P.PARAMETERS}),t.removeAction(e),s.stateController.signals.parameters.dispatch({action:P.PARAMETERS}),s.stateController.recordAfter({action:P.PARAMETERS})};return r.jsx(uC,{label:"Remove action",action:P.GAMEPAD,selection:[t],editor:s,onPress:n,isReadOnly:i,children:w_})}const lFt=A(({editor:s,gamepadComponents:t,isReadOnly:e})=>{const i=m.useMemo(()=>t[0],[t]),n=t.map(a=>a.isEnabled),o=m.useCallback(a=>{s.stateController.recordBefore({action:P.PARAMETERS}),i.setEnabled(a),s.stateController.signals.parameters.dispatch({action:P.PARAMETERS}),s.stateController.recordAfter({action:P.PARAMETERS})},[s.stateController,i]);return r.jsx(O3,{label:n[0]===!0?"Disable":"Enable",icon:n[0]===!0?ZI:Xw,disabledIcon:Xw,action:P.GAMEPAD,selection:t,editor:s,values:n,onChange:o,isReadOnly:e})}),cFt=A(({editor:s,gamepadComponents:t,isReadOnly:e})=>{const i=m.useMemo(()=>t[0],[t]),n=m.useMemo(()=>i.actions.values.sort((o,a)=>o.id.localeCompare(a.id)),[i.actions.values]);return r.jsx(A_,{"aria-label":`Actions for ${i.entity.name}`,selectionMode:"multiple",items:t,children:n.map(o=>r.jsx(hFt,{editor:s,gamepadComponents:t,GamepadAction:o,isReadOnly:e,isDisabled:i.isEnabled===!1},Ht()))})}),hFt=A(({editor:s,gamepadComponents:t,GamepadAction:e,isReadOnly:i,isDisabled:n})=>{const[o,a]=m.useState(!1),[l,c]=m.useState(e.name),[h,d]=m.useState(!1),u=m.useMemo(()=>t[0],[t]),f=u.entity.sceneObject.activeState,p=m.useCallback((C,x)=>{s.stateController.recordBefore({action:P.PARAMETERS}),u.setBinding(e,C,x),s.stateController.signals.parameters.dispatch({action:P.PARAMETERS}),s.stateController.recordAfter({action:P.PARAMETERS})},[s.stateController,e,u]),g=m.useCallback((C,x)=>{s.stateController.recordBefore({action:P.PARAMETERS}),u.setBindingHand(e,C,x),s.stateController.signals.parameters.dispatch({action:P.PARAMETERS}),s.stateController.recordAfter({action:P.PARAMETERS})},[s.stateController,e,u]),_=C=>{i||f==null&&a(!0)},v=C=>{c(C.target.value)},y=()=>{s.stateController.recordBefore({action:P.PARAMETERS}),u.renameAction(e,l),s.stateController.signals.parameters.dispatch({action:P.PARAMETERS}),s.stateController.recordAfter({action:P.PARAMETERS})},b=m.useMemo(()=>e.bindings.values.sort((C,x)=>C.device.localeCompare(x.device)),[e.bindings.values]);return r.jsxs(Df,{textValue:e.name,className:W("rounded-sm bg-gray-80 [&:not(:last-child)]:mb-[2px]",i&&"pointer-events-none text-gray-30",n&&"opacity-50"),children:[r.jsxs(pe,{isQuiet:i,children:[r.jsx("span",{onDoubleClick:_,onPointerEnter:()=>d(!0),onPointerLeave:()=>d(!1),className:W("flex h-8 h-full max-w-37 items-center border border-solid border-transparent",(o||h)&&"!border !border-solid !border-border"),children:o?r.jsx(la,{size:"sm",align:"left",value:l,onClick:C=>C.stopPropagation(),onChange:v,onSubmit:y,onBlur:()=>a(!1),selected:!0,className:"!h-8 overflow-hidden text-ellipsis whitespace-nowrap px-2",isDisabled:i||f!=null}):r.jsx(K,{weight:"strong",className:"flex !h-8 items-center px-2",children:l})}),!f&&r.jsx(aFt,{editor:s,gamepadComponent:u,gamepadAction:e,isReadOnly:i})]}),b.map(C=>r.jsx(dFt,{deviceBinding:C,onBindingChange:x=>p(C,x),onHandChange:x=>g(C,x),isReadOnly:i},C.device))]},e.name)}),dFt=A(({deviceBinding:s,onBindingChange:t,onHandChange:e,isReadOnly:i})=>(()=>{switch(s.device){case Gr.DESKTOP:return r.jsx(uFt,{deviceBinding:s,onBindingChange:t,isReadOnly:i});case Gr.XBOX:return r.jsx(fFt,{deviceBinding:s,onBindingChange:t,isReadOnly:i});case Gr.XR:return r.jsx(pFt,{deviceBinding:s,onBindingChange:t,onHandChange:e,isReadOnly:i});default:return null}})()),uFt=A(({deviceBinding:s,onBindingChange:t,isReadOnly:e})=>{const i=s.binding,n=m.useCallback(o=>{t==null||t(o)},[t]);return r.jsx(r.Fragment,{children:r.jsxs(V3,{className:"pr-1",children:[r.jsx(K,{color:"secondary",className:"pl-2",children:"Desktop"}),r.jsx(Ys,{label:"Input binding",selectedKey:i,onSelectionChange:o=>n(o),isReadOnly:e,listClassName:"max-h-60",valueContent:o=>r.jsxs("div",{className:"flex items-center justify-start gap-2",children:[r.jsx(LM,{value:s.binding}),r.jsx(K,{children:"Key"})]}),children:Elt.map(o=>r.jsx(se,{id:o,textValue:o,children:r.jsxs("div",{className:"flex items-center justify-start gap-2",children:[r.jsx(LM,{value:o}),r.jsx(K,{children:"Key"})]})},o))})]})})}),LM=A(({value:s})=>{const t=mFt(s);return r.jsxs("div",{className:"flex h-5 min-w-5 items-center justify-center rounded-sm bg-white",children:[t&&r.jsx(De,{variant:"primary",shouldInvert:!0,children:t}),!t&&r.jsx(K,{className:"px-1 text-gray-90",weight:"strong",children:s})]})}),fFt=A(({deviceBinding:s,onBindingChange:t,isReadOnly:e})=>{const i=s.binding,n=jM(i)??"None",o=DM(i),a=m.useCallback(l=>{t==null||t(l)},[t]);return r.jsx(r.Fragment,{children:r.jsxs(V3,{children:[r.jsx(K,{color:"secondary",className:"pl-2",children:"Inputs"}),r.jsx(Ys,{label:"Input binding",selectedKey:i,onSelectionChange:l=>a(l),isReadOnly:e,listClassName:"max-h-60",valueContent:l=>r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o&&r.jsx(De,{variant:"primary",children:o}),r.jsx(K,{children:n})]}),children:Object.values(le).map(l=>{const c=jM(l);if(!c)return null;const h=DM(l);return r.jsx(se,{id:l,textValue:c,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(De,{children:h}),r.jsx(K,{children:c})]})},l)})})]})})}),pFt=A(({deviceBinding:s,onBindingChange:t,onHandChange:e,isReadOnly:i})=>{const n=m.useCallback(u=>{e==null||e(u)},[e]),o=m.useCallback(u=>{t==null||t(u)},[t]),a=s.hand??Dn.LEFT,l=s.binding,c=RM(l,a)??"None",h=NM(l,a),d=[le.RightClusterBottom,le.RightClusterRight,le.Trigger,le.Grip,le.Touchpad,le.Thumb];return r.jsx(r.Fragment,{children:r.jsxs(V3,{children:[r.jsx(K,{color:"secondary",className:"pl-2",children:"XR"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center justify-between gap-1",children:r.jsxs(Ys,{label:"XR hand",selectedKey:a,onSelectionChange:u=>n(u),isReadOnly:i,valueContent:u=>r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsx(De,{variant:"tertiary",children:a===Dn.LEFT?$T:JT}),r.jsx(K,{children:a})]}),children:[r.jsx(se,{id:Dn.LEFT,children:r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsx(De,{variant:"tertiary",children:$T}),r.jsx(K,{children:Dn.LEFT})]})},Dn.LEFT),r.jsx(se,{id:Dn.RIGHT,children:r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsx(De,{variant:"tertiary",children:JT}),r.jsx(K,{children:Dn.RIGHT})]})},Dn.RIGHT)]})}),r.jsx(Ys,{label:"XR binding",selectedKey:l,onSelectionChange:u=>o(u),isReadOnly:i,listClassName:"max-h-60",valueContent:u=>r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h&&r.jsx(De,{variant:"primary",children:h}),r.jsx(K,{children:c})]}),children:d.map(u=>{const f=RM(u,a);if(!f)return null;const p=NM(u,a);return r.jsx(se,{id:u,textValue:f,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(De,{children:p}),r.jsx(K,{children:f})]})},u)})})]})]})})}),RM=(s,t)=>{switch(s){case le.Trigger:return"Trigger";case le.Grip:return"Grip";case le.RightClusterBottom:switch(t){case Dn.LEFT:return"X";case Dn.RIGHT:return"A"}break;case le.RightClusterRight:switch(t){case Dn.LEFT:return"Y";case Dn.RIGHT:return"B"}break;case le.Touchpad:return"Touchpad";case le.Thumb:return"Stick";default:return null}},NM=(s,t)=>{switch(s){case le.Trigger:switch(t){case Dn.LEFT:return sN;case Dn.RIGHT:return eN}break;case le.Grip:switch(t){case Dn.LEFT:return $R;case Dn.RIGHT:return tN}break;case le.RightClusterBottom:switch(t){case Dn.LEFT:return wtt;case Dn.RIGHT:return Ett}break;case le.RightClusterRight:switch(t){case Dn.LEFT:return Ctt;case Dn.RIGHT:return xtt}break;case le.Touchpad:return Att;case le.Thumb:return Ttt;default:return null}},jM=s=>{switch(s){case le.RightClusterBottom:case le.RightClusterLeft:case le.RightClusterTop:case le.RightClusterRight:return"Button";case le.LeftClusterDown:case le.LeftClusterLeft:case le.LeftClusterUp:case le.LeftClusterRight:return"D-Pad";case le.LeftBumper:case le.RightBumper:return"Bumper";case le.RightTrigger:case le.LeftTrigger:return"Trigger";case le.Back:return"Select";case le.Start:return"Start";case le.LeftStick:case le.RightStick:return"Stick";default:return null}},DM=s=>{switch(s){case le.RightClusterBottom:return ytt;case le.RightClusterLeft:return btt;case le.RightClusterTop:return _tt;case le.RightClusterRight:return vtt;case le.LeftClusterDown:return Rtt;case le.LeftClusterLeft:return Ntt;case le.LeftClusterUp:return Mtt;case le.LeftClusterRight:return Ltt;case le.LeftTrigger:return sN;case le.RightTrigger:return eN;case le.LeftBumper:return $R;case le.RightBumper:return tN;case le.Back:return Itt;case le.Start:return Stt;case le.LeftStick:return Ptt;case le.RightStick:return Ott;default:return null}},mFt=s=>{switch(s){case"ArrowUp":return NR;case"ArrowDown":return La;case"ArrowLeft":return x_;case"ArrowRight":return d5;default:return null}};function gFt({editor:s,handComponent:t,...e}){const n=m.useMemo(()=>t.entity.getComponentInParents(dr),[t.entity]);return n?r.jsxs(ae,{isReadOnly:e.isReadOnly,children:[r.jsx(pe,{label:"Body rig hands"}),r.jsx(Yl,{children:r.jsx(Sz,{component:n,editor:s})}),!1]}):null}A(({index:s,handComponent:t,...e})=>r.jsx(Qf,{label:s.toUpperCase(),tooltip:`Position ${s.toUpperCase()}`,values:[t.leftHandDefaultPosition[s]],onChange:i=>{const n={...t.leftHandDefaultPosition};n[s]=i,t.setPosition(n.x,n.y,n.z)},action:P.TRANSFORM,...e}));A(({index:s,handComponent:t,...e})=>r.jsx(dC,{label:s.toUpperCase(),tooltip:`Rotation ${s.toUpperCase()}`,values:[t.leftHandDefaultRotation[s]],onChange:i=>{const n={...t.leftHandDefaultRotation};n[s]=i,t.setRotation(n.x,n.y,n.z)},action:P.TRANSFORM,...e}));const _Ft=A(gFt);function Of({command:s,children:t,onClick:e,editor:i,...n}){const o=m.useMemo(()=>s.defaultKeys?sn(s.defaultKeys):"",[s.defaultKeys]),{authController:{auth:{isDev:a}}}=Pt();return s.isDevOnly&&!a||!i.accessController.hasBeenInitialized||!i.accessController.hasAccessOf(s.accessLevel)?null:r.jsxs(Qi,{children:[r.jsx(As,{onPress:()=>{wt(s.id),e==null||e()},"aria-label":s.label,...n,children:t??s.icon}),r.jsx(Ji,{children:r.jsxs("div",{className:W({"flex justify-around gap-2":s.defaultKeys&&s.defaultKeys.length>0}),children:[r.jsx("p",{className:"text-body2",children:s.label}),r.jsx("p",{className:"text-body2 text-white/6",children:o.length>0&&o})]})})]})}function vFt({children:s,col2Item:t,col3Item:e}){return r.jsx(ca,{children:r.jsxs("div",{style:{gridTemplateColumns:"minmax(0, 1fr) 32px 32px"},className:"col-span-full box-border grid w-full items-center",children:[s,r.jsx("div",{className:"col-start-2 flex items-center justify-end",children:t}),r.jsx("div",{className:"col-start-3 flex items-center justify-end",children:e})]})})}const yFt=s=>{const{components:t}=s,e=m.useMemo(()=>t[0],[t]),i=m.useMemo(()=>{const o=e.entity.compo.getRoot();if(!o)return e.entity.name;const a=o.getComponent(Js);return!a||!a.component?e.entity.name:a.component.name},[e]),n=m.useMemo(()=>e.entity.name,[e]);return r.jsxs(ae,{isReadOnly:s.isReadOnly,children:[r.jsx(pe,{children:r.jsxs("div",{className:"flex h-4 items-center justify-start gap-2 pl-1",children:[r.jsx(De,{variant:"secondary",children:kR}),r.jsx(K,{children:i})]})}),r.jsx(vFt,{col2Item:r.jsx(Of,{command:de[tm.RESET_OVERRIDES],...s,children:WI}),col3Item:r.jsx(Of,{command:de[tm.PROMOTE_OVERRIDES],...s,children:jQ}),children:r.jsx(Na,{className:({isHovered:o,isPressed:a,isFocusVisible:l,isDisabled:c})=>W("flex h-7 items-center gap-2 pl-2",o&&!a&&!l&&"bg-hovered",a&&"bg-active",l&&"shadow-focus"),onPress:()=>{},isDisabled:!0,children:n})})]})},bFt=A(yFt);function CFt({children:s,col2Item:t,col3Item:e,col4Item:i}){return r.jsx(ca,{children:r.jsxs("div",{style:{gridTemplateColumns:"minmax(0, 1fr) 32px 32px 32px"},className:"col-span-full box-border grid w-full items-center",children:[s,r.jsx("div",{className:"col-start-2 flex items-center justify-end",children:t}),r.jsx("div",{className:"col-start-3 flex items-center justify-end",children:e}),r.jsx("div",{className:"col-start-4 flex items-center justify-end",children:i})]})})}const wFt=s=>{const[t,e]=m.useState({}),{components:i}=s,n=m.useMemo(()=>i.filter(f=>f.entity.compo.isInstanceRoot),[i]),o=m.useMemo(()=>i[0],[i]);m.useEffect(()=>{const f={};for(const p of n){const g=p.component.id;f[g]||(f[g]=[]),f[g].push(p)}e(f)},[n]);const a=m.useCallback(f=>{const p={...t};p[f]=[],delete p[f],e(p)},[t]),l=m.useMemo(()=>Object.keys(t).length,[t]),c=m.useMemo(()=>l<=1?"Instance":"Instances",[l]),h=m.useMemo(()=>l>1?!1:o.entity.editor.componentsController.doMaterialOverridesExist(),[o,l]),d=m.useMemo(()=>l>1?!1:o.entity.editor.componentsController.doTransformOverridesExist(),[o,l]),u=f=>{switch(f){case"resetAll":wt(de[tm.RESET_OVERRIDES].id);break;case"pushAll":wt(de[tm.PROMOTE_OVERRIDES].id);break;case"pushAllMaterials":o.entity.editor.componentsController.promoteInstanceToComponent("material");break;case"pushAllTransforms":o.entity.editor.componentsController.promoteInstanceToComponent("transform");break}};return l<1?null:r.jsxs(ae,{isReadOnly:s.isReadOnly,children:[r.jsx(pe,{label:c}),Object.entries(t).map(f=>{const p=f[0],g=f[1];return r.jsx(CFt,{col2Item:r.jsx(Of,{command:de[tm.GO_TO_MAIN_COMPONENT],...s,children:Tb}),col3Item:r.jsx(Of,{command:de[Me.COMPONENT_INSTANCE_UNLINK],onClick:()=>a(p),...s,children:GR}),col4Item:r.jsxs(ed,{label:"More",icon:$l,onAction:u,children:[r.jsx(An,{id:"resetAll",textValue:"Reset all changes"}),r.jsx(An,{id:"pushAll",textValue:"Push all changes to main"}),d&&r.jsx(An,{id:"pushAllTransforms",textValue:"Push transform changes"}),h&&r.jsx(An,{id:"pushAllMaterials",textValue:"Push material changes"})]}),children:r.jsx(SFt,{...s,components:g})},p)})]})},xFt=A(wFt),EFt=A(s=>{const{editor:t,components:e,anchor:i,onClose:n}=s,{onComponentReplace:o}=vd(t),[a,l]=m.useState([]),c=m.useMemo(()=>new Set([_i.BEZI]),[]),{listAssets:h,onTeamChange:d,onFileChange:u,selectedTeam:f,selectedFile:p}=yC(t,Gh.ComponentLib),g=aT(f,p),[_]=m.useState({}),v=m.useMemo(()=>e[0],[e]);m.useEffect(()=>{let x=!0;return I(),()=>{x=!1};async function I(){if(t.assetController.assetArr.length<1)return[];const O=[];for(const T of t.assetController.assetArr){if(T.preview){const D=await xs(T.preview.urlKey);D&&(_[T.preview.urlKey]=D)}O.push({id:`${T.id}`,name:T.name,data:{preview:T.preview?_[T.preview.urlKey]??"":""}})}x&&l(O)}},[t.assetController.assetArr,f]);function y(x){o(v.entity,x)}function b(){h(!1)}function C(x){switch(x){case _i.FILE:u(t.fileController.id);break;case _i.TEAM:t.fileController.team?(u(null),d(t.fileController.team.id)):(d(uo.DRAFTS),u(t.fileController.id));break}}return r.jsx(pC,{anchor:i,onClose:n,children:r.jsx(mC,{type:Ae.COMPONENT,items:a,category:g,onLoadMore:b,onCategoryChange:C,onSelectItem:y,onClose:n,closeAfterSelection:!0,disabledCategories:c})})}),SFt=A(s=>{const[t,{toggleOn:e,toggleOff:i}]=ss(!1),n=m.useRef(null),o=m.useCallback(()=>{e()},[e]);return r.jsxs(r.Fragment,{children:[r.jsx(IFt,{onPress:o,ref:n,...s}),t&&r.jsx(EFt,{anchor:n,...s,onClose:i})]})}),IFt=A(xe.forwardRef((s,t)=>{const{components:e,onPress:i}=s,n=m.useMemo(()=>{const[o]=e;return o?o.component.name:""},[e]);return r.jsxs(Na,{className:({isHovered:o,isPressed:a,isFocusVisible:l,isDisabled:c})=>W("flex h-7 items-center gap-2 pl-2",o&&!a&&!l&&"bg-hovered",a&&"bg-active",l&&"shadow-focus"),onPress:i,ref:t,"aria-label":"Instance source button",children:[r.jsx("div",{className:"flex h-4 w-4",children:kR}),r.jsx(K,{children:n})]})})),AFt=s=>r.jsxs(ae,{isReadOnly:s.isReadOnly,children:[r.jsx(PFt,{...s}),r.jsxs(EZt,{children:[r.jsx(jFt,{...s}),r.jsx(NFt,{...s}),r.jsx(MFt,{...s}),r.jsx(OFt,{...s})]}),r.jsx(VFt,{...s}),r.jsx(GFt,{...s})]}),TFt=A(AFt),PFt=A(s=>{const{lightComponents:t}=s,e=t[0],i=m.useMemo(()=>{const n=t.length;if(n===0)return"Light";if(as.areAllEqual(t.map(o=>o.entity.type))){const o=gm.objectType2Name(e.entity.type);return n>1?`${o}s (${n})`:o}return`Lights (${t.length})`},[t,e]);return r.jsx(pe,{label:i})}),OFt=A(s=>{const{lightComponents:t}=s,e=t.filter(M3);return m.useMemo(()=>e.length===t.length,[t,e])?r.jsx(P3,{...s,children:r.jsx(LFt,{...s})}):null}),MFt=A(s=>{const{lightComponents:t}=s,e=t.filter(M3);return m.useMemo(()=>e.length===t.length,[t,e])?r.jsx(Nz,{...s,label:Zw}):r.jsx(jz,{...s,label:Zw})}),LFt=A(s=>{const{lightComponents:t,editor:e}=s,i=t.filter(M3),n=m.useMemo(()=>i.length===t.length,[t,i]);return r.jsxs(r.Fragment,{children:[n&&r.jsx(Yl,{children:r.jsx(zFt,{editor:e,lightComponents:i})}),r.jsx(RFt,{...s})]})});A(s=>r.jsxs(r.Fragment,{children:[r.jsxs(Fh,{children:[r.jsx(DFt,{...s}),r.jsx(Nz,{...s,label:"Wattage"})]}),r.jsxs(Fh,{children:[r.jsx(jz,{label:"Intensity",...s}),r.jsx(FFt,{...s})]})]}));const RFt=A(({lightComponents:s,...t})=>{const e=s.filter(i=>i instanceof rh||i instanceof hc);return e.length===0?null:r.jsxs(Fh,{children:[r.jsx(BFt,{...t,lightComponents:s}),r.jsx(kFt,{...t,lightComponents:e})]})}),NFt=A(({lightComponents:s,...t})=>{const{editor:e}=t,[i,n]=m.useState(""),a=m.useMemo(()=>s[0],[s]).parameters,l=m.useCallback(function(f,p){for(const g of s)p(f,g.parameters);e.stateController.signals.parameters.dispatch({action:P.PARAMETERS})},[s,e.stateController.signals.parameters]),c=m.useCallback(u=>{n(ir(u.target.value))},[]);m.useEffect(()=>{n(ir(a.color))},[a.color]);const h=m.useCallback(u=>{n(ir(u)),l(u,(f,p)=>p.color=f)},[l]),d=m.useCallback(()=>{const u=`#${i}`;S_(u)?h(u):(h(a.color),n(ir(a.color)))},[i,h,a.color]);return r.jsx(la,{className:"!w-14 !text-left !text-body2 !uppercase",value:i,onChange:c,onSubmit:d})}),jFt=A(({lightComponents:s,...t})=>{const{editor:e}=t,n=m.useMemo(()=>s[0],[s]).parameters,o=m.useCallback(()=>{e.stateController.recordBefore({action:P.PARAMETERS})},[s]),a=m.useCallback(function(d,u){for(const f of s)u(d,f.parameters);e.stateController.signals.parameters.dispatch({action:P.PARAMETERS})},[s,e.stateController.signals.parameters]),l=m.useCallback(()=>{e.stateController.recordAfter({action:P.PARAMETERS})},[s]),c=m.useCallback(h=>{a(h,(d,u)=>u.color=d)},[a]);return r.jsx(k3,{value:n.color,onBegin:o,onChange:c,onEnd:l})}),DFt=A(({lightComponents:s,...t})=>{const e=s.filter(q8);return r.jsx(ev,{label:"lm/W",tooltip:"Luminous efficacy (lumens/watt)",sensitivity:.1,formatOptions:{minimumFractionDigits:0,maximumFractionDigits:6},minValue:1,values:e.map(i=>i.parameters.luminousEfficacy),onChange:i=>e.forEach(n=>n.parameters.luminousEfficacy=i),...t})}),FFt=A(({lightComponents:s,...t})=>{const e=s.filter(q8);return r.jsx(ev,{label:"Power",tooltip:"Power (lumens)",sensitivity:.01,formatOptions:{minimumFractionDigits:0,maximumFractionDigits:6},minValue:0,values:e.map(i=>i.power),onChange:i=>e.forEach(n=>n.power=i),...t})}),Nz=A(({lightComponents:s,label:t,...e})=>{const i=s.filter(q8);return r.jsx(ev,{label:t,tooltip:"Watts",sensitivity:.1,scrubThreshold:3,formatOptions:{minimumFractionDigits:0,maximumFractionDigits:6,style:"unit",unit:"week",unitDisplay:"narrow"},minValue:0,values:i.map(n=>n.wattage),onChange:n=>i.forEach(o=>o.wattage=n),...e})}),jz=A(({lightComponents:s,label:t,...e})=>{const i=s.filter(M3),n=s.filter(YFt),o=m.useMemo(()=>i.length===s.length,[s,i]),a=m.useMemo(()=>n.length===s.length,[s,n]);let l="Intensity";return a?l="Intensity (nits)":o&&(l="Intensity (candelas)"),r.jsx(ev,{label:t,tooltip:l,sensitivity:.1,scrubThreshold:3,formatOptions:{minimumFractionDigits:0,maximumFractionDigits:6},minValue:0,values:s.map(c=>c.parameters.intensity),onChange:c=>s.forEach(h=>h.parameters.intensity=c),...e})}),BFt=A(({lightComponents:s,...t})=>{const e=m.useMemo(()=>s.filter(n=>n instanceof hc||n instanceof rh),[s]),i=e.some(n=>n.parameters.isPhysicallyCorrect);return r.jsx(Qf,{label:"Range",tooltip:"Range",values:e.map(n=>n.parameters.distance),sensitivity:.1,onChange:n=>e.forEach(o=>{o.parameters.distance=n,o.parameters.isPhysicallyCorrect=!1}),minValue:0,action:P.PARAMETERS,isDisabled:i,...t})}),kFt=A(({lightComponents:s,...t})=>{const e=s.some(i=>i.parameters.isPhysicallyCorrect);return r.jsx(ev,{label:"Decay",tooltip:"Rate of decay",values:s.map(i=>i.parameters.decay),sensitivity:.01,onChange:i=>s.forEach(n=>{n.parameters.decay=i,n.parameters.isPhysicallyCorrect=!1}),minValue:0,action:P.PARAMETERS,isDisabled:e,...t})}),GFt=A(({lightComponents:s,...t})=>{const e=m.useMemo(()=>s.filter(o=>o instanceof Rm),[s]);if(e.length===0)return null;function i(o){e.forEach(a=>{a.parameters.shadows={...a.parameters.shadows,isEnabled:o}})}const n=e.map(o=>o.parameters.shadows.isEnabled);return r.jsx(Fh,{children:r.jsx(vl,{onChange:i,values:n,action:P.PARAMETERS,...t,children:r.jsx(K,{children:"Shadows"})})})}),VFt=A(({lightComponents:s,...t})=>{const e=m.useMemo(()=>s.filter(i=>i instanceof hc),[s]);return e.length===0?null:r.jsxs(Mf,{children:[r.jsx("span",{className:"flex w-1/2 items-center",children:r.jsx(HFt,{...t,lightComponents:e})}),r.jsx(UFt,{...t,lightComponents:e})]})}),HFt=A(({lightComponents:s,...t})=>r.jsx(dC,{label:"Spot",tooltip:"Cone angle",values:s.map(e=>e.parameters.angle),sensitivity:1,onChange:e=>s.forEach(i=>i.parameters.angle=e),minValue:0,maxValue:Math.PI/2,action:P.PARAMETERS,...t})),UFt=A(({lightComponents:s,...t})=>r.jsx(W8,{label:utt,tooltip:"Penumbra softness",values:s.map(e=>e.parameters.penumbra),sensitivity:1,onChange:e=>s.forEach(i=>i.parameters.penumbra=e),action:P.PARAMETERS,...t})),zFt=A(({lightComponents:s,...t})=>{const e=m.useCallback(i=>{s.forEach(n=>n.parameters.isPhysicallyCorrect=i)},[s]);return r.jsx(vl,{className:"pl-2",onChange:e,values:s.map(i=>i.parameters.isPhysicallyCorrect),action:P.PARAMETERS,...t,children:r.jsx(K,{children:"Physically correct"})})});function q8(s){return s instanceof rh||s instanceof hc||s instanceof od}function M3(s){return s instanceof rh||s instanceof hc}function YFt(s){return s instanceof od}const WFt=({className:s,style:t,propOptions:e,...i})=>{const[n,{toggleOn:o,toggleOff:a}]=ss(!1);return r.jsx(Sr,{className:W("relative",s),style:t,options:e,width:180,spot:Ds.RIGHT_BOTTOM,onOpen:o,onClose:a,...i,children:r.jsx(qi,{text:"Add property",children:r.jsx(Oi,{className:`${n?"opacity-100":"opacity-60"} hover:opacity-100`,icon:Eo})})})},Dz=m.memo(WFt),XFt=({advancedProp:s,value:t,onBegin:e,onValueChange:i,onEnd:n})=>{const[o,a]=m.useState(""),[l,c,h,d,u]=m.useMemo(()=>{switch(s){case"ior":return[1,2.3333,.01,1,""];default:return[0,1,1,100,"%"]}},[s]),f=m.useCallback(g=>{a(ir(g.target.value))},[]),p=m.useCallback(()=>{const g=`#${o}`;S_(g)?i(g):(i(t),a(ir(t)))},[o,i,t]);return m.useEffect(()=>{typeof t=="string"&&a(ir(t))},[s,t]),r.jsxs("div",{className:"flex min-h-[48px] items-center gap-2",children:[typeof t=="number"&&r.jsx(vb,{className:"!w-0 flex-grow",label:s,value:t*d,min:l*d,max:c*d,step:h,unit:u,onBegin:e,onChange:g=>i(g/d),onEnd:n}),typeof t=="string"&&r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"w-0 flex-grow text-body2 capitalize",children:s}),r.jsx(la,{className:"!w-14 !text-left !text-body2 !uppercase",value:o,onChange:f,onSubmit:p}),r.jsx(k3,{value:t,onBegin:e,onChange:g=>i(g),onEnd:n})]})]})},ZFt=m.memo(XFt),KFt=({className:s,style:t,material:e,onMapChange:i,onMapPropertiesChange:n,onValueChange:o,recordBefore:a,recordAfter:l,isResizableToMap:c,onResizeToMap:h,...d})=>{const[u,f]=m.useState([!0,!0,!0]);if(m.useEffect(()=>{},[e,e==null?void 0:e.meshMaterial,e==null?void 0:e.advancedEffects]),!e)return null;function p(b,C,x){b==="Glass"&&typeof x=="number"?g(C,x):b==="Sheen"?_(C,x):b==="Clearcoat"&&typeof x=="number"&&v(C,x),o(C,x)}function g(b,C){var x;e==null||((x=e.advancedEffects)==null?void 0:x.Glass)==null||(e.advancedEffects.Glass[b]=C)}function _(b,C){var x;e==null||((x=e.advancedEffects)==null?void 0:x.Sheen)==null||(e.advancedEffects.Sheen[b]=C)}function v(b,C){var x;e==null||((x=e.advancedEffects)==null?void 0:x.Clearcoat)==null||(e.advancedEffects.Clearcoat[b]=C)}function y(b){const C=[...u];C[b]=!C[b],f(C)}return r.jsx("div",{className:W("relative",s),style:t,...d,children:Object.entries(e.advancedEffects.toJS()).map((b,C)=>{const x=b[0],I=b[1];return r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-start gap-2 py-2",children:[r.jsx("button",{onClick:()=>y(C),className:`${u[C]?"":"rotate-90"}`,children:q0}),r.jsx(K,{children:x})]}),!u[C]&&Object.entries(I).map((O,T)=>{const D=O[0],B=O[1];return r.jsx(ZFt,{type:J.COLOR,advancedProp:D,value:B,map:null,material:e,onBegin:a,onValueChange:F=>{p(x,D,F)},onMapChange:(F,k)=>i(D,F,k),onMapPropertiesChange:F=>n(F),onEnd:l,isResizableToMap:c,onResizeToMap:h},`${x}-${D}`)})]},x)})})},qFt=A(KFt),QFt=({editor:s,materials:t,...e})=>{const{advancedPropOptions:i,onMapPropertiesChange:n,recordBeforeAdvancedEffects:o,onAdvancedEffectValueChange:a,recordAfterAdvancedEffects:l,isResizableToMap:c,onResizeToMap:h}=SY(s,t);return r.jsxs("div",{className:"relative mx-4 mb-2 mt-0",...e,children:[r.jsxs("div",{className:"relative mt-1 flex w-full items-center justify-between gap-3",children:[r.jsx(K,{children:"Advanced Effects"}),r.jsx(Dz,{propOptions:i})]}),r.jsx("div",{className:"mt-1 flex flex-col gap-2",children:r.jsx(qFt,{material:t[0],onMapChange:()=>{},onMapPropertiesChange:n,onValueChange:a,recordBefore:o,recordAfter:l,isResizableToMap:c,onResizeToMap:h})})]})},JFt=A(QFt),$Ft="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB/SURBVHgBrdXLDYAgEEVRMBZCUySUYyuuCTVYGYxhIdHIZ353MclszvZZ7z0YxfZ6YozWCAohuFLKBQBuM8IeLOd81F8EvrGU0ikCexgbHGEscIaRwRVGAjEYGsRiKJCCLUEqNgU52BDkYl1Qgv1AKfYBNbAGamEN1MJqVnsCbjbrxVVuTkERAAAAAElFTkSuQmCC";var Ph=(s=>(s.TILING_X="tilingX",s.TILING_Y="tilingY",s.OFFSET_X="offsetX",s.OFFSET_Y="offsetY",s.ROTATION="rotation",s))(Ph||{});const tBt=({material:s,onMapPropertiesChange:t})=>{const[e,i]=m.useState({tilingX:(s==null?void 0:s.repeatX)||1,tilingY:(s==null?void 0:s.repeatY)||1,offsetX:(s==null?void 0:s.offsetX)||0,offsetY:(s==null?void 0:s.offsetY)||0,rotation:s!=null&&s.rotation?ms.radToDeg(s.rotation):0}),n=m.useCallback((o,a)=>{const l={...e,[o]:a};i(l),t(l)},[e,t]);return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("p",{className:"w-0 flex-grow text-body2",children:"Tiling"}),r.jsx(xr,{className:"w-10 bg-white/10 [&>input]:!px-2",value:e[Ph.TILING_X],onChange:o=>n(Ph.TILING_X,o),shouldHideLabel:!0,"aria-label":"tiling x"}),r.jsx(xr,{className:"w-10 bg-white/10 [&>input]:!px-2",value:e[Ph.TILING_Y],onChange:o=>n(Ph.TILING_Y,o),shouldHideLabel:!0,"aria-label":"tiling y"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("p",{className:"w-0 flex-grow text-body2",children:"Offset"}),r.jsx(xr,{className:"w-10 bg-white/10 [&>input]:!px-2",value:e[Ph.OFFSET_X],onChange:o=>n(Ph.OFFSET_X,o),shouldHideLabel:!0,"aria-label":"offset x"}),r.jsx(xr,{className:"w-10 bg-white/10 [&>input]:!px-2",value:e[Ph.OFFSET_Y],onChange:o=>n(Ph.OFFSET_Y,o),shouldHideLabel:!0,"aria-label":"offset y"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("p",{className:"w-0 flex-grow text-body2",children:"Rotation"}),r.jsx(xr,{className:"w-10 bg-white/10 [&>input]:!px-2",value:e[Ph.ROTATION],formatOptions:{style:"unit",unit:"degree",unitDisplay:"narrow"},onChange:o=>n(Ph.ROTATION,o),shouldHideLabel:!0,"aria-label":"rotation"})]})]})},Fz=A(tBt),eBt=40,sBt=({type:s,map:t,material:e,onMapChange:i,onMapPropertiesChange:n,isResizableToMap:o,onResizeToMap:a,setTypeToImage:l})=>{const[c,h]=Jf([t==null?void 0:t.md,t==null?void 0:t.lg],{forceReturnUndefined:t==null?void 0:t.isUrlExternal}),[d,u]=m.useState(!1),[f,p]=m.useState(!1),{integrationsController:g}=Pt(),_=m.useRef(!1),{token:v,isLoadingToken:y,tokenStatus:b}=g.figma,[C,x]=m.useState((t==null?void 0:t.figmaFileUrl)??""),[I,O]=m.useState(c??null);m.useEffect(()=>{O(c??null)},[c]),m.useEffect(()=>{!y&&b!==Xi.VALID&&!g.isFigmaTokenDialogVisible&&(_.current?(_.current=!1,l()):(g.isFigmaTokenDialogVisible=!0,_.current=!0))},[y,v,b,g.isIntegrationSettingsVisible,g,l]);const T=m.useCallback(G=>{x(G??"")},[]),D=m.useCallback(async()=>{p(!0),await a(s),p(!1)},[s,a]),B=m.useCallback(async()=>{u(!0),be.open({id:Ht(),icon:r.jsx(ko,{}),text:"Syncing Figma file...",options:{autoHide:!0,visibleTime:1e4}});const{figmaImageUrl:G,error:st}=await hT(C,v);if(st||!G){be.open({id:Ht(),text:st??"Error loading Figma file",options:{type:qn.ERROR,autoHide:!0,visibleTime:3e3}}),u(!1);return}i(void 0,{referenceImgUrl:G,figmaFileUrl:C}),O(G),u(!1),be.close(),Ft("import-figma-material")},[C,v,i]),F=m.useCallback(()=>{if(!h)return;const G=document.createElement("a");G.target="_blank",G.href=h,G.download=h,G.click(),G.remove()},[h]),k=m.useCallback(()=>{O(null),x(""),i()},[i]),Y="hidden cursor-pointer group-hover:flex p-1";return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"group relative h-media-popup w-media-popup overflow-hidden",children:I?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"absolute right-1 top-1 z-textOverlay flex flex-row items-center justify-end",children:[r.jsx("button",{className:Y,onClick:F,disabled:d,children:ER}),r.jsx("button",{className:Y,onClick:k,children:XI})]}),r.jsx("img",{id:"figma-preview",className:"h-full w-full object-cover",src:I??"",alt:"Figma file"}),r.jsxs("div",{className:"absolute left-0 top-0 hidden h-full w-full flex-col justify-center gap-2 bg-black/80 p-6 group-hover:flex",children:[r.jsx(Tt,{variant:"primary",size:"sm",onClick:B,labelClassname:"flex justify-center",disabled:d,children:d?r.jsx(ko,{}):"Sync updates"}),o&&r.jsx(Tt,{size:"sm",className:"hover-bg-white/15 bg-gray-80",labelClassname:"flex justify-center",onClick:D,disabled:f,children:f?r.jsx(ko,{}):"Set to native ratio"})]})]}):r.jsx("div",{className:"flex h-full w-full justify-center bg-[#1e1e1e] object-cover opacity-50",children:r.jsx("img",{className:"mt-[30%] h-[40%] w-[40%] object-cover",src:"https://s3-alpha.figma.com/hub/file/697598809/ce5e0bb3-16b9-4d88-9bca-7d237fe725a8-cover.png",alt:"empty Figma logo"})})}),y?r.jsx("div",{className:"my-6 flex justify-center",children:r.jsx(ko,{})}):v.length>0&&r.jsxs("div",{className:"relative flex flex-col gap-3 p-3 pt-1",children:[r.jsx("div",{className:"flex items-center gap-1",children:r.jsx(la,{className:`
                    !h-6 w-full !cursor-text !bg-white/10 !px-2
                    !text-left hover:shadow-hover
                    ${C?"!text-[10px]":"!text-body2"}
                  `,size:"sm",placeholder:"Link",value:C,onChange:G=>T(G.target.value),onSubmit:C.length<eBt?void 0:B})}),r.jsx(Fz,{material:e,type:s,onMapChange:i,onMapPropertiesChange:n})]})]})},iBt=A(sBt),nBt=Br.getSupportedFormats(E5.IMAGE),Bz=nBt.map(s=>`.${s}`),FM=Bz.join(","),oBt=({type:s,map:t,material:e,onMapChange:i,onMapPropertiesChange:n,onResizeToMap:o,isResizableToMap:a})=>{const{authController:{auth:{isDev:l}}}=Pt(),c=m.useMemo(()=>t!=null&&t.isUrlExternal?t.lg:void 0,[t]),[h]=Jf([(t==null?void 0:t.md)||(t==null?void 0:t.lg)],{forceReturnUrl:c,forceReturnUndefined:!!(t!=null&&t.figmaFileUrl)}),[d,u]=m.useState(c??""),[f,p]=m.useState(h??null),[g,_]=m.useState(!1),v=m.useCallback(async()=>{_(!0),await o(s),_(!1)},[s,o]);m.useEffect(()=>{p(h??null)},[h]);const y=m.useCallback(O=>{var T;if(u(O??""),O){const D=((T=O==null?void 0:O.split(".").pop())==null?void 0:T.toLowerCase())??"";Bz.includes(`.${D}`)&&(i(void 0,{referenceImgUrl:O}),p(O))}},[i]),b=m.useCallback(O=>{if(!O.target.files)return;const T=O.target.files[0];T&&(i(T),p(URL.createObjectURL(T)),Ft("import-image-material"))},[i]),C=m.useCallback(()=>{if(!h)return;const O=document.createElement("a");let T=null,D=null;if(c)O.target="_blank",O.href=h,O.download=h;else{const B=e==null?void 0:e.mapTexture;if(!B||(T=document.createElement("canvas"),T.width=(t==null?void 0:t.originalWidth)||B.image.width,T.height=(t==null?void 0:t.originalHeight)||B.image.height,D=T.getContext("2d"),!D))return;D.scale(T.width/B.image.width,T.height/B.image.height),D.drawImage(B.image,0,0);const F=T.toDataURL("image/png");O.href=F,O.download=`${(e==null?void 0:e.name)||"material"}-${s}.png`}O.click(),O.remove(),T&&(T.remove(),D=null)},[h,s,e,t,c]),x=m.useCallback(()=>{i(),p(null)},[i]),I="hidden cursor-pointer group-hover:flex p-1";return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"group relative h-media-popup w-media-popup overflow-hidden",children:f?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"absolute right-1 top-1 z-textOverlay flex flex-row items-center justify-end",children:[r.jsx("button",{className:I,onClick:C,children:ER}),r.jsx("button",{className:I,onClick:x,children:XI})]}),r.jsx("img",{id:"image-preview",className:"h-full w-full object-cover",src:f,alt:""}),r.jsxs("div",{className:"absolute left-0 top-0 hidden h-full w-full flex-col justify-center gap-2 bg-black/80 p-6 group-hover:flex",children:[r.jsx(CI,{className:"bg-gray-100 hover:bg-white/15",size:"sm",label:"Replace image",accept:`${FM}`,onImport:b}),a&&r.jsx(Tt,{size:"sm",className:"hover-bg-white/15 bg-gray-80",labelClassname:"flex justify-center",onClick:v,disabled:g,children:g?r.jsx(ko,{}):"Set to native ratio"})]})]}):r.jsx(CI,{className:"h-full w-full [&>button]:!h-full [&>button]:!bg-gray-100 [&>button]:hover:!bg-white/15",size:"sm",label:"Upload image",accept:`${FM}`,onImport:b})}),r.jsxs("div",{className:"relative flex flex-col gap-3 p-3",children:[l&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("p",{className:"w-0 flex-grow text-body2",children:"URL"}),r.jsx(Mi,{className:`
                !w-[84px]
                [&>div>input]:!px-2 [&>div]:!h-5 [&>div]:!bg-white/10
                [&>div]:hover:shadow-hover
                ${d?"[&>div>input]:!text-[10px]":"[&>div>input]:!text-body2"}
              `,size:"sm",placeholder:"Image link",value:d,onChange:O=>y(O.target.value)})]}),r.jsx(Fz,{material:e,type:s,onMapChange:i,onMapPropertiesChange:n})]})]})},rBt=A(oBt);var Dc=(s=>(s.IMAGE="Image",s.FIGMA_FRAME="Figma Frame",s.Video="Video",s.Gradient="Gradient",s))(Dc||{});const aBt=({className:s,style:t,type:e,material:i,map:n,onMapChange:o,onMapPropertiesChange:a,isResizableToMap:l,onResizeToMap:c,...h})=>{const[d,u]=m.useState(n!=null&&n.figmaFileUrl&&n.lg?Dc.FIGMA_FRAME:Dc.IMAGE),f=m.useCallback(_=>{d!==_&&(o(),u(_))},[d,o]),p=m.useMemo(()=>[{id:_t(),text:Dc.IMAGE,iconLeft:r.jsx(r.Fragment,{children:d===Dc.IMAGE&&ps}),onClick:()=>f(Dc.IMAGE)},{id:_t(),text:Dc.FIGMA_FRAME,iconLeft:r.jsx(r.Fragment,{children:d===Dc.FIGMA_FRAME&&ps}),onClick:()=>f(Dc.FIGMA_FRAME)}],[f,d]),g=m.useCallback(()=>{Hs.close()},[]);return r.jsxs("div",{className:W("flex w-[188px] flex-col gap-2",s),style:t,...h,children:[r.jsxs("div",{className:"mb-0 ml-3 mr-2.5 mt-2 flex items-center justify-between",children:[r.jsx(Sr,{className:"pl-2 pr-1",options:p,width:100,spot:Ds.CENTER_BOTTOM,children:r.jsx(Tt,{className:"px-2 py-1",variant:"auto",size:"sm",rightIcon:La,children:d})}),r.jsx(Tt,{variant:"auto",className:"cursor-pointer",leftIcon:po,onClick:g})]}),d===Dc.IMAGE&&r.jsx(rBt,{type:e,map:n,material:i,onMapChange:o,onMapPropertiesChange:a,isResizableToMap:l,onResizeToMap:c}),d===Dc.FIGMA_FRAME&&r.jsx(iBt,{type:e,map:n,material:i,onMapChange:o,onMapPropertiesChange:a,isResizableToMap:l,onResizeToMap:c,setTypeToImage:()=>u(Dc.IMAGE)})]})},lBt=A(aBt),cBt=({className:s,style:t,type:e,value:i,map:n,material:o,requireMap:a=!1,onBegin:l,onValueChange:c,onMapChange:h,onMapPropertiesChange:d,onEnd:u,isResizableToMap:f,onResizeToMap:p,...g})=>{const _=m.useMemo(()=>n!=null&&n.isUrlExternal?n.lg:void 0,[n]),[v,y,b]=Jf([n==null?void 0:n.lg,n==null?void 0:n.md,n==null?void 0:n.sm],{forceReturnUrl:_}),[C,x]=m.useState(""),I=m.useRef(null),[O,T,D,B]=m.useMemo(()=>{switch(e){case J.ALPHA:case J.ROUGHNESS:case J.METALNESS:case J.NORMAL:case J.AO:case J.DISPLACEMENT:return[void 0,0,1,1];default:return[void 0,-1,-1,0]}},[e]),F=m.useCallback(G=>{x(ir(G.target.value))},[]),k=m.useCallback(()=>{const G=`#${C}`;S_(G)?c(G):(c(i),x(ir(i)))},[C,c,i]),Y=m.useCallback(()=>{Hs.open({content:r.jsx(lBt,{type:e,map:n,material:o,onMapChange:h,onMapPropertiesChange:d,isResizableToMap:f,onResizeToMap:p}),option:{ref:I,width:188,spot:Ds.RIGHT_BOTTOM}})},[e,n,o,h,d,f,p]);return m.useEffect(()=>{typeof i=="string"&&x(ir(i))},[e,i]),r.jsxs("div",{className:`relative flex min-h-[48px] items-center gap-2 ${s??""} ${g.disabled?"pointer-events-none opacity-disabled":"pointer-events-auto opacity-100"}`,style:t,...g,children:[e===J.COLOR?r.jsxs(r.Fragment,{children:[O&&r.jsx(Oi,{icon:O}),r.jsx("p",{className:"w-0 flex-grow text-body2 capitalize",children:(o==null?void 0:o.lightingModel)===ue.Shadow?"Shadow Color":"Color"}),r.jsx(la,{className:"!w-14 !text-left !text-body2 !uppercase",value:C,onChange:F,onSubmit:k}),r.jsx(k3,{value:i,onBegin:l,onChange:c,onEnd:u})]}):r.jsx(vb,{className:"!w-0 flex-grow",label:e,icon:O,value:parseInt((i*100).toFixed()),min:T*100,max:D*100,step:B,unit:"%",onBegin:l,onChange:G=>{c(G/100)},onEnd:u,disabled:!!(a&&!(o!=null&&o.getTexture(e)))}),r.jsx("button",{className:"m-0 h-6 w-6 p-0 opacity-70 hover:opacity-100 active:opacity-50",onClick:Y,children:r.jsx("img",{ref:I,className:"h-full w-full",src:b||y||v||$Ft,alt:""})})]})},hBt=m.memo(cBt),dBt=({className:s,style:t,material:e,properties:i,isEnabledProperty:n,getPropValueAndMap:o,onMapChange:a,onMapPropertiesChange:l,onValueChange:c,recordBefore:h,recordAfter:d,onResizeToMap:u,isResizableToMap:f,...p})=>(m.useEffect(()=>{},[e,e==null?void 0:e.meshMaterial]),r.jsx("div",{className:W("relative",s),style:t,...p,children:i.map(({type:g,requireMap:_})=>{if(!n(g)&&g!==J.COLOR)return null;const[v,y]=o(g),b=Vi.materialPropToThreeMaterialProp(g),C=(e==null?void 0:e.meshMaterial)[b]==null;return r.jsx(hBt,{type:g,value:v,map:y,disabled:C,material:e,requireMap:_,onBegin:()=>h(g),onEnd:()=>d(g),onValueChange:x=>c(g,x),onMapChange:(x,I)=>a(g,x,I),onMapPropertiesChange:x=>l(x),isResizableToMap:f,onResizeToMap:u},`material-prop-${(e==null?void 0:e.id)??"material"+_t()}-${g}`)})})),uBt=A(dBt),fBt=({className:s,style:t,editor:e,materials:i,onClose:n,...o})=>{const{materialTypeOptions:a,properties:l,propOptions:c,isEnabledProperty:h,getPropValueAndMap:d,onMapChange:u,onMapPropertiesChange:f,onValueChange:p,recordAfter:g,recordBefore:_,onResizeToMap:v,isResizableToMap:y}=SY(e,i),{rendererRef:b}=eWt(i[0]);return r.jsxs("div",{className:W("relative flex flex-col rounded-md",s),style:t,...o,children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[r.jsx(Sr,{options:a,width:190,children:r.jsxs("div",{className:"flex flex-row items-center justify-start px-2 py-1.5 font-bold",children:[r.jsxs(K,{children:[i[0].lightingModel," Material"]}),r.jsx("div",{className:"ml-2 flex w-3 items-center",children:La})]})}),r.jsxs(Qi,{children:[r.jsx(As,{onPress:n,children:po}),r.jsx(Ji,{children:"Close"})]})]}),r.jsx("div",{ref:b,className:"h-28 w-full"}),r.jsxs("div",{className:"max-h-material overflow-y-auto rounded-md",children:[r.jsxs("div",{className:"flex items-center px-4 py-2",children:[r.jsx("p",{className:"w-0 flex-grow text-body2 font-bold",children:"Properties"}),r.jsx(Dz,{className:"mr-1",propOptions:c})]}),r.jsx(uBt,{className:"mx-4 mb-2 mt-0",properties:l,material:i[0],isEnabledProperty:h,getPropValueAndMap:d,onMapChange:u,onMapPropertiesChange:f,onValueChange:p,recordAfter:g,recordBefore:_,isResizableToMap:y,onResizeToMap:v}),i[0].lightingModel===ue.Physical&&r.jsx(JFt,{editor:e,materials:i})]})]})},pBt=A(fBt),mBt=({editor:s,materials:t,preview:e,uniqueKey:i,isLibMaterial:n,updateMaterialPreviewAt:o,isReadOnly:a=!1})=>{var lt,ct,nt,ot,Et,Ot,ut,yt;const{authController:{auth:{isDev:l}}}=Pt(),{category:c,isLoading:h,materialLib:d,materialLibItems:u,disableAddMaterialToLib:f,materialLibAnchorRef:p,hideMaterialLib:g,handleLoadMore:_,handleMaterialLibOpen:v,handleMaterialLibCategoryChange:y,handleMaterialAddToLib:b,handleMaterialApplyFromLib:C,handleLibMaterialRename:x,handleLibMaterialRemove:I}=rT(s,t,n),[O,{toggleOn:T,toggleOff:D}]=ss(!1),B=m.useRef(null),F=m.useRef(null),{dropZoneProps:k,isDropTarget:Y}=FWt(F,s,t),G=m.useMemo(()=>t[0],[t]),{hoverProps:st,isHovered:$}=Ao({}),X=m.useMemo(()=>{const{name:Kt,lightingModel:ye}=G;return n?Kt:`${ye} Material`},[G,G.name,G.lightingModel,n]),q=m.useCallback(()=>{D(),Hs.close()},[D]),at=m.useCallback(()=>{T(),Hs.open({content:r.jsx(pBt,{editor:s,materials:t,onClose:q}),option:{ref:B,width:274,margin:20,spot:Ds.TOP_LEFT,onClose:D}})},[T,s,t,q,B,D]),bt=m.useCallback(()=>{if(!n)return;const Kt=G.material.material;s.stateController.recordBefore({action:P.MATERIAL,selection:t});for(const ye of t){const Cs=ye.entity.sceneObject;if(!Cs.allMaterialIDs)continue;const He=[],je=Qh({data:JSON.stringify(Kt.data)},s.materialController).id;for(const ui of Cs.allMaterialIDs)ui===ye.materialID&&He.push(je);bj(ye.entity.base,ye.materialID,He),ye.incrementRevision()}s.stateController.signals.material.dispatch({action:P.MATERIAL,selection:t}),s.stateController.recordAfter({action:P.MATERIAL,selection:t})},[s,t,G,n]);return m.useEffect(()=>{o({[i]:oT(G,!0)})},[t,G==null?void 0:G.color,G==null?void 0:G.opacity,G==null?void 0:G.roughness,G==null?void 0:G.metalness,G==null?void 0:G.normal,G==null?void 0:G.ambientOcclusion,G==null?void 0:G.mapTexture,G==null?void 0:G.alphaMapTexture,G==null?void 0:G.roughnessMapTexture,G==null?void 0:G.metalnessMapTexture,G==null?void 0:G.normalMapTexture,G==null?void 0:G.aoMapTexture,G==null?void 0:G.lightingModel,G==null?void 0:G.advancedEffects,(lt=G==null?void 0:G.advancedEffects.Glass)==null?void 0:lt.thickness,(ct=G==null?void 0:G.advancedEffects.Glass)==null?void 0:ct.transmission,(nt=G==null?void 0:G.advancedEffects.Glass)==null?void 0:nt.ior,(ot=G==null?void 0:G.advancedEffects.Sheen)==null?void 0:ot.sheen,(Et=G==null?void 0:G.advancedEffects.Sheen)==null?void 0:Et.color,(Ot=G==null?void 0:G.advancedEffects.Sheen)==null?void 0:Ot.roughness,(ut=G==null?void 0:G.advancedEffects.Clearcoat)==null?void 0:ut.clearcoat,(yt=G==null?void 0:G.advancedEffects.Clearcoat)==null?void 0:yt.roughness,o,i]),r.jsx(Df,{children:r.jsx(ii,{children:r.jsxs("div",{...k,ref:F,className:W("flex w-full items-center justify-between",$&&"shadow-hover",Y&&"shadow-focus"),...st,children:[r.jsx("div",{className:W("flex w-full items-center",a&&"pointer-events-none text-gray-30"),children:r.jsxs("button",{className:W("relative flex h-full flex-grow items-center gap-2"),onClick:at,ref:B,children:[e?r.jsxs("div",{className:"flex h-8 w-8 items-center justify-center",children:[O&&r.jsx("span",{className:"absolute left-1 top-1 h-6 w-6 rounded-full border border-white"}),r.jsx("img",{className:"h-5 w-5 object-cover",src:e,alt:""})]}):r.jsx("div",{className:"flex h-8 w-8 items-center justify-center",children:r.jsx("span",{style:{background:G.color},className:"absolute left-1 top-1 h-5 w-5 rounded-full"})}),r.jsx("p",{className:W("w-0 flex-grow overflow-hidden text-ellipsis whitespace-nowrap text-left text-body2",a?"text-gray-30":"text-white"),children:X})]})}),r.jsxs("div",{className:W("flex items-center justify-end",$&&"visible",!$&&"invisible",a&&"pointer-events-none text-gray-30"),children:[n&&r.jsx(cs,{label:"Detach style",onPress:bt,children:GR}),n?r.jsxs(cs,{label:"Replace material",onPress:v,children:[kI,r.jsx("div",{ref:p})]}):r.jsxs(cs,{label:"Material library",onPress:v,children:[qI,r.jsx("div",{ref:p})]})]}),d&&r.jsx(pC,{anchor:p,onClose:g,children:r.jsx(mC,{onClose:g,type:Ae.MATERIAL,items:u,category:c,isLoading:h,onAddItem:f?void 0:b,onCategoryChange:y,onLoadMore:_,onItemEdit:x,onItemRemove:I,onSelectItem:C,disableCategory:!l})})]})})})},gBt=A(mBt),_Bt=({editor:s,materials:t,...e})=>{const{authController:{auth:{isDev:i}}}=Pt(),{category:n,isLoading:o,materialLib:a,materialLibItems:l,materialLibAnchorRef:c,hideMaterialLib:h,handleLoadMore:d,handleMaterialLibOpen:u,handleMaterialLibCategoryChange:f,handleMaterialApplyFromLib:p,handleLibMaterialRename:g,handleLibMaterialRemove:_}=rT(s,t),{uniqueMaterialComponents:v,uniqueMaterialProps:y}=sWt(t),{updateMaterialPreviewAt:b}=IY(s,y),C=m.useMemo(()=>Object.keys(v).length,[v]);return r.jsxs(ae,{isReadOnly:e.isReadOnly,children:[r.jsx(pe,{label:C>1?"Selection Materials":"Material",children:r.jsxs(cs,{label:"Material library",onPress:u,isReadOnly:e.isReadOnly,children:[qI,r.jsx("div",{ref:c})]})}),a&&r.jsx(pC,{anchor:c,onClose:h,children:r.jsx(mC,{type:Ae.MATERIAL,items:l,isLoading:o,category:n,onCategoryChange:f,onLoadMore:d,onItemEdit:g,onItemRemove:_,onSelectItem:p,onClose:h,disableCategory:!i})}),Object.entries(v).map(([x,I])=>{var D;const O=x.startsWith("lib-"),T=O?x.slice(4):x;return r.jsx(gBt,{editor:s,materials:I,preview:(D=s.materialController.getMaterialPreview(T))==null?void 0:D.data,uniqueKey:x,isLibMaterial:O,updateMaterialPreviewAt:b,isReadOnly:e.isReadOnly},`material-panel-${x}`)})]})},vBt=A(_Bt),yBt=A(({editor:s})=>{const t=s.fileSettingsController.isGridSnapEnabled,e=s.fileSettingsController.isGridSnapAbsolute?co.GRID:co.INCREMENT;return r.jsxs(H3,{isQuiet:!0,label:"Snap",children:[r.jsxs(Ys,{label:"Snap to",selectedKey:e,onSelectionChange:i=>wt(i),isDisabled:!t,children:[r.jsx(se,{id:co.GRID,textValue:"Grid"}),r.jsx(se,{id:co.INCREMENT,textValue:"Increment"})]}),r.jsx(cs,{label:"Toggle snapping",onPress:()=>wt(t?co.OFF:e),children:t?itt:ntt})]})}),bBt=A(({editor:s})=>{const t=s.sceneController.scene.units;function e(i){s.sceneController.setUnits(i)}return r.jsx(H3,{isQuiet:!0,label:"Units",children:r.jsxs(Ys,{label:"Scene units",selectedKey:t,onSelectionChange:i=>e(i),children:[r.jsx(se,{id:Dt.M,textValue:f0(Dt.M)}),r.jsx(se,{id:Dt.CM,textValue:f0(Dt.CM)}),r.jsx(se,{id:Dt.MM,textValue:f0(Dt.MM)}),r.jsx(se,{id:Dt.FT,textValue:f0(Dt.FT)}),r.jsx(se,{id:Dt.IN,textValue:f0(Dt.IN)})]})})}),CBt=({editor:s})=>r.jsxs(ae,{children:[r.jsx(pe,{label:"Personal settings"}),r.jsx(EBt,{editor:s}),r.jsx(yBt,{editor:s}),r.jsx(bBt,{editor:s})]}),wBt=A(CBt),xBt=A(({editor:s})=>{const t=s.fileSettingsController.axes;function e(i){let n=zt.TOP;switch(i){case rn.XZ:n=zt.TOP;break;case rn.XY:n=zt.FRONT;break;case rn.YZ:n=zt.RIGHT;break}s.signals.command.cameraViewChanged.dispatch({cameraView:n}),s.fileSettingsController.setAxes(i)}return r.jsx(Wg,{options:[{key:rn.XZ,label:"XZ plane",child:"XZ"},{key:rn.XY,label:"XY plane",child:"XY"},{key:rn.YZ,label:"YZ plane",child:"YZ"}],onChange:e,value:t,size:"md"})}),EBt=A(({editor:s})=>{function t(){wt(Zi.GRID)}return r.jsxs(H3,{isQuiet:!0,label:"Grid",children:[r.jsx(xBt,{editor:s}),r.jsx(cs,{label:"Toggle grid",onPress:t,children:s.fileSettingsController.grid?Pb:Ob})]})}),SBt=({editor:s,playSettingsComponents:t,cameraComponents:e,...i})=>r.jsxs(ae,{isReadOnly:i.isReadOnly,children:[r.jsx(pe,{label:"Play mode"}),r.jsx(ABt,{editor:s,components:t}),r.jsx(TBt,{editor:s,components:e})]}),IBt=A(SBt),ABt=A(({editor:s,components:t})=>{if(t.length===0)return null;const e=t.map(i=>i.isInteractive);return r.jsx(ii,{children:r.jsx(vl,{className:"pl-2",editor:s,onChange:i=>t.forEach(n=>n.isInteractive=i),values:e,action:P.INTERACTIVE,selection:t,"aria-label":"Receives pointer events",children:r.jsx(K,{children:"Receives pointer events"})})})}),TBt=A(({editor:s,components:t})=>{if(t.length===0)return null;const e=t.map(i=>i.parameters.isBookmark);return r.jsx(ii,{children:r.jsx(vl,{className:"pl-2",editor:s,onChange:i=>t.forEach(n=>s.sceneController.cameraController.toggleCameraIsBookmark(n,null,i,!1)),values:e,action:P.PARAMETERS_CAMERA_BOOKMARK,selection:t,children:r.jsx(K,{children:"Use as bookmark"})})})}),kz=A(s=>{const{components:t}=s;return r.jsxs(ae,{isReadOnly:s.isReadOnly,children:[r.jsx(pe,{label:"Shape"}),r.jsxs(Ls,{children:[r.jsx(PBt,{...s,components:t}),r.jsx(OBt,{...s,components:t}),r.jsx(MBt,{...s,components:t}),r.jsx(Z8,{...s,values:t.map(e=>e.isScaleLinked),onChange:e=>t.forEach(i=>{i.isScaleLinked=e}),action:P.LOCKED_SCALE})]})]})}),PBt=A(s=>{const{editor:t,components:e}=s,i=m.useRef(e.map(l=>({...l.size}))),n=m.useCallback(()=>{e.forEach((l,c)=>{i.current[c]={...l.size}}),t.stateController.recordBefore({action:P.TRANSFORM})},[e,t.stateController]),o=l=>{e.forEach((c,h)=>{const d={...c.size};d.x=l,c.setSize(d,i.current[h]),i.current[h]=d})},a=e.map(l=>l.parameters);return r.jsx(Zf,{...s,values:e.map(l=>l.entity.size.x),action:P.TRANSFORM,onBegin:n,onChange:o,parameters:a})}),OBt=A(s=>{const{editor:t,components:e}=s,i=m.useRef(e.map(l=>({...l.size}))),n=m.useCallback(()=>{e.forEach((l,c)=>{i.current[c]={...l.size}}),t.stateController.recordBefore({action:P.TRANSFORM})},[e,t.stateController]),o=l=>{e.forEach((c,h)=>{const d={...c.size};d.y=l,c.setSize(d,i.current[h]),i.current[h]=d})},a=e.map(l=>l.parameters);return r.jsx(M1,{...s,values:e.map(l=>l.entity.size.y),action:P.TRANSFORM,onBegin:n,onChange:o,parameters:a})}),MBt=A(s=>{const{editor:t,components:e}=s,i=m.useRef(e.map(l=>({...l.size}))),n=m.useCallback(()=>{e.forEach((l,c)=>{i.current[c]={...l.size}}),t.stateController.recordBefore({action:P.TRANSFORM})},[e,t.stateController]),o=l=>{e.forEach((c,h)=>{const d={...c.size};d.z=l,c.setSize(d,i.current[h]),i.current[h]=d})},a=e.map(l=>l.parameters);return r.jsx(Kf,{...s,values:e.map(l=>l.entity.size.z),action:P.TRANSFORM,onBegin:n,onChange:o,parameters:a})}),LBt=A(s=>r.jsxs(ae,{isReadOnly:s.isReadOnly,children:[r.jsx(pe,{label:"Shadows"}),r.jsxs(Ls,{children:[r.jsx(RBt,{...s}),r.jsx(NBt,{...s})]})]})),RBt=A(({editor:s,settingsComponents:t})=>{const e=t.map(i=>i.castShadow);return r.jsx(vl,{editor:s,onChange:i=>t.forEach(n=>n.setCastShadow(i)),values:e,action:P.VIEW_SETTINGS,selection:t,children:r.jsx(K,{children:"Cast"})})}),NBt=A(({editor:s,settingsComponents:t})=>{const e=t.map(i=>i.receiveShadow);return r.jsx(vl,{editor:s,onChange:i=>t.forEach(n=>n.setReceiveShadow(i)),values:e,action:P.VIEW_SETTINGS,selection:t,children:r.jsx(K,{children:"Receive"})})}),BM={[Pi.NONE]:"None",[Pi.FULL_AXES]:"Cross",[Pi.HALF_AXES]:"Axes",[Pi.BOX]:"Box"},jBt={[Pi.NONE]:r.jsx("div",{className:"w-4"}),[Pi.FULL_AXES]:OR,[Pi.HALF_AXES]:VI,[Pi.BOX]:MR},DBt=A(({entities:s})=>{const t=[...s].filter(o=>o.sceneObject.type===L.GROUP);if(t.length===0)return null;const e=t.map(o=>o.sceneObject.parameters.helperType),i=[...new Set(e)],n=i.length===1?i[0]:"Mixed";return r.jsx(Ys,{label:"Display as",selectedKey:n,icon:n===Pi.NONE?void 0:FBt[n],onSelectionChange:o=>{wt(Me.EMPTY_TYPE_CHANGE,{entities:t,type:o})},children:Object.values(Pi).map(o=>r.jsx(se,{id:o,textValue:BM[o],children:r.jsx(rm,{icon:jBt[o],label:BM[o]})},o))})}),FBt={Mixed:r.jsx("div",{className:"w-4"}),[Pi.NONE]:r.jsx("div",{className:"w-4"}),[Pi.FULL_AXES]:OR,[Pi.HALF_AXES]:VI,[Pi.BOX]:MR},BBt=A(s=>r.jsxs(ae,{isReadOnly:s.isReadOnly,children:[r.jsx(pe,{label:"Visibility"}),r.jsxs(Mf,{children:[r.jsx(kBt,{...s}),r.jsx(GBt,{...s}),r.jsx(VBt,{...s,isReadOnly:s.isReadOnly})]})]})),kBt=A(s=>{const{entities:t}=s,e=m.useMemo(()=>s.settingsComponents.length>0,[s.settingsComponents]),i=m.useMemo(()=>s.lightComponents.length>0,[s.lightComponents]),n=m.useMemo(()=>[...t].filter(h=>h.type===L.GROUP),[t]),o=m.useMemo(()=>[...t].filter(h=>h.type===L.FRAME),[t]),a=m.useMemo(()=>n.length>0&&n.length===s.settingsComponents.length,[n.length,s.settingsComponents]),l=m.useMemo(()=>o.length>0&&o.length===s.settingsComponents.length,[o.length,s.settingsComponents]),c=m.useMemo(()=>!!(e&&i||n.length&&s.settingsComponents.length&&n.length===s.settingsComponents.length&&i||n.length&&s.settingsComponents.length&&n.length!==s.settingsComponents.length),[n,i,e,s.settingsComponents]);return r.jsxs(r.Fragment,{children:[c&&r.jsx(HBt,{}),!c&&e&&!a&&!l&&r.jsx(UBt,{...s}),!c&&i&&r.jsx(zBt,{...s}),!c&&a&&r.jsx(DBt,{...s}),!c&&l&&r.jsx(K,{className:"pl-2",children:"None"})]})}),GBt=A(({editor:s,opacityComponents:t})=>t.length===0?null:r.jsx(_l,{editor:s,formatOptions:{style:"percent"},values:t.map(e=>e.rawOpacity),onChange:e=>{t.forEach(i=>{i.setOpacity(e)})},minValue:0,maxValue:1,step:.01,sensitivity:.01,scrubThreshold:3,action:P.LAYER_OPACITY,label:KR,tooltip:"Layer opacity"})),VBt=A(({editor:s,entities:t,isReadOnly:e})=>r.jsx(K8,{editor:s,values:[...t].map(i=>i.isVisible),onChange:()=>{wt(jh.TOGGLE_VISIBILITY,{entities:[...t]})},isReadOnly:e})),HBt=A(()=>r.jsx(Ys,{label:"Visualization",selectedKey:"MIxed",children:r.jsx(se,{id:"Mixed",textValue:"Mixed"})})),UBt=A(({editor:s,settingsComponents:t})=>{const e=t.map(a=>a.side),i=[...new Set(e)],n=i.length===0?Wl:i[0]??"Mixed",o=m.useCallback(a=>{s.stateController.recordBefore({action:P.VIEW_SETTINGS,selection:t}),t.forEach(l=>{l.setSide(a),s.stateController.signals.side.dispatch({action:P.VIEW_SETTINGS,selection:t})}),s.stateController.recordAfter({action:P.VIEW_SETTINGS,selection:t})},[s.stateController,t]);return r.jsxs(Ys,{label:"Sides",selectedKey:n,icon:ow[n],onSelectionChange:a=>{o(a)},children:[r.jsx(se,{id:Wl,textValue:"Front-sided",children:r.jsx(rm,{icon:ow[Wl],label:"Front-sided"})}),r.jsx(se,{id:In,textValue:"Double-sided",children:r.jsx(rm,{icon:ow[In],label:"Double-sided"})}),r.jsx(se,{id:Z0,textValue:"Back-sided",children:r.jsx(rm,{icon:ow[Z0],label:"Back-sided"})})]})}),ow={[Wl]:ctt,[In]:dtt,[Z0]:htt},zBt=A(({editor:s,lightComponents:t})=>{const e=m.useMemo(()=>!t.some(c=>c instanceof Rm),[t]),i=m.useMemo(()=>t.every(c=>c instanceof rh),[t]);let n=[];n=t.map(c=>{const{parameters:h}=c;return h.shouldShowLightBloom?"BLOOM":h.shouldShowLightRenderMesh?"SOURCE":h.shouldShowHelper?"HELPER":"NONE"});const o=[...new Set(n)],a=o.length===1?o[0]:"Mixed",l=m.useCallback(c=>{s.stateController.recordBefore({action:P.PARAMETERS,selection:t}),t.forEach(h=>{const d=h.parameters;c==="BLOOM"?(d.shouldShowLightBloom=!0,d.shouldShowLightRenderMesh=!0,d.shouldShowHelper=!0):c==="SOURCE"?(d.shouldShowLightBloom=!1,d.shouldShowLightRenderMesh=!0,d.shouldShowHelper=!0):c==="HELPER"?(d.shouldShowLightBloom=!1,d.shouldShowLightRenderMesh=!1,d.shouldShowHelper=!0):c==="NONE"&&(d.shouldShowLightBloom=!1,d.shouldShowLightRenderMesh=!1,d.shouldShowHelper=!1),s.stateController.signals.side.dispatch({action:P.PARAMETERS,selection:t})}),s.stateController.recordAfter({action:P.PARAMETERS,selection:t})},[s.stateController,t]);return r.jsxs(Ys,{label:"Display as",selectedKey:a,icon:a==="NONE"?void 0:Gz[a],onSelectionChange:c=>{l(c)},children:[r.jsx(rw,{helper:"NONE"}),r.jsx(rw,{helper:"HELPER"}),e&&r.jsx(rw,{helper:"SOURCE"}),i&&r.jsx(rw,{helper:"BLOOM"})]})}),rw=({helper:s})=>r.jsx(se,{id:s,textValue:kM[s],children:r.jsx(rm,{icon:Gz[s],label:kM[s]})},s),kM={NONE:"None",HELPER:"Helper",SOURCE:"Source",BLOOM:"Bloom"},Gz={Mixed:r.jsx("div",{className:"w-4"}),NONE:r.jsx("div",{className:"w-4"}),HELPER:rtt,SOURCE:att,BLOOM:ltt},YBt=s=>{const t=s.components.map(e=>e.parameters);return r.jsxs(ae,{isReadOnly:s.isReadOnly,children:[r.jsx(pe,{label:"Size"}),r.jsxs(Ls,{lastItem:r.jsx(Hm,{...s,parameters:t}),children:[r.jsx(Zf,{...s,parameters:t}),r.jsx(Kf,{...s,parameters:t})]})]})},WBt=A(YBt),XBt=A(s=>r.jsxs(ae,{isReadOnly:s.isReadOnly,children:[r.jsx(pe,{label:"Box"}),r.jsx(T3,{...s,parameters:s.components.map(t=>t.parameters)}),r.jsxs(Ql,{label:"Bevel",isQuiet:!0,children:[r.jsx(qBt,{label:h5,...s}),r.jsx(QBt,{...s})]})]})),ZBt=s=>s.constrainedBevelOffset,KBt=(s,t)=>{s.parameters.bevelOffset=t},qBt=A(({components:s,...t})=>{const e=Math.min(...s.map(n=>n.maxBevelOffset)),i=Math.min(...s.map(n=>Bf([n.parameters.width,n.parameters.height,n.parameters.depth],t.editor.sceneController.scene.units)));return r.jsx(qf,{tooltip:"Bevel radius",values:s.map(ZBt),onChange:n=>s.forEach(o=>KBt(o,n)),maxValue:e,step:i,sensitivity:i,...t})}),QBt=A(({components:s,...t})=>{const e=s.every(i=>i.parameters.bevelOffset===0);return r.jsx(gd,{label:KI,tooltip:"Bevel steps",values:s.map(i=>i.parameters.bevelSegments),onChange:i=>s.forEach(n=>{n.parameters.bevelSegments=i}),maxValue:Q1t,isDisabled:e,...t})});function e4(s,t,e,i){const n=s.parameters.width;i(s.parameters,t,e);const o=s.parameters.width;s.parameters.areRadiiLinked?(s.parameters.radiusTop=o/2,s.parameters.radiusBottom=o/2):(s.parameters.radiusTop===n/2&&(s.parameters.radiusTop=o/2),s.parameters.radiusBottom===n/2&&(s.parameters.radiusBottom=o/2))}const JBt=s=>{const{components:t}=s,e=t.map(a=>a.parameters),[i,n]=m.useState(t.map(a=>({width:a.parameters.width,height:a.parameters.height,depth:a.parameters.depth}))),o=t[0].parameters.areDimensionsLinked;return m.useEffect(()=>{n(t.map(a=>({width:a.parameters.width,height:a.parameters.height,depth:a.parameters.depth})))},[t,o]),r.jsxs(ae,{isReadOnly:s.isReadOnly,children:[r.jsx(pe,{label:"Cylinder"}),r.jsxs(Ls,{children:[r.jsx(Zf,{onChange:a=>t.forEach((l,c)=>{e4(l,a,i[c],uz)}),...s,parameters:e}),r.jsx(M1,{onChange:a=>t.forEach((l,c)=>{e4(l,a,i[c],FNt)}),...s,parameters:e}),r.jsx(Kf,{onChange:a=>t.forEach((l,c)=>{e4(l,a,i[c],fz)}),...s,parameters:e}),r.jsx(Hm,{...s,parameters:e})]}),r.jsxs(Ls,{children:[r.jsx(akt,{...s}),r.jsx(pz,{...s,parameters:e}),r.jsx(mz,{...s,parameters:e}),r.jsx(P3,{...s,children:r.jsx(tkt,{...s})})]})]})},$Bt=A(JBt),tkt=A(s=>{const{components:t}=s;return r.jsxs(r.Fragment,{children:[r.jsxs(Ql,{label:"Radius",isQuiet:!0,children:[r.jsx(okt,{...s}),r.jsx(rkt,{...s}),r.jsx(zg,{values:t.map(e=>e.parameters.areRadiiLinked),onChange:e=>t.forEach(i=>{i.parameters.areRadiiLinked=e}),...s})]}),r.jsxs(Ql,{label:"Bevel radius",isQuiet:!0,children:[r.jsx(ekt,{...s}),r.jsx(skt,{...s}),r.jsx(zg,{values:t.map(e=>e.parameters.areBevelOffsetsLinked),onChange:e=>t.forEach(i=>{i.parameters.areBevelOffsetsLinked=e}),...s})]}),r.jsxs(Ql,{label:"Bevel sides",isQuiet:!0,children:[r.jsx(ikt,{...s}),r.jsx(nkt,{...s}),r.jsx(zg,{values:t.map(e=>e.parameters.areBevelSegmentsLinked),onChange:e=>t.forEach(i=>{i.parameters.areBevelSegmentsLinked=e}),...s})]})]})}),ekt=A(({components:s,...t})=>{const e=Math.min(...s.map(i=>Bf([i.parameters.radiusTop*2,i.parameters.height],t.editor.sceneController.scene.units)));return r.jsx(qf,{label:"T",tooltip:"Top bevel radius",values:s.map(i=>i.constrainedBevelOffsetTop),onChange:i=>s.forEach(n=>{n.parameters.bevelOffsetTop=i,n.parameters.areBevelOffsetsLinked&&(n.parameters.bevelOffsetBottom=i)}),maxValue:Math.min(...s.map(i=>i.maxBevelOffsetTop)),step:e,sensitivity:e,...t})}),skt=A(({components:s,...t})=>{const e=Math.min(...s.map(i=>Bf([i.parameters.radiusBottom*2,i.parameters.height],t.editor.sceneController.scene.units)));return r.jsx(qf,{label:"B",tooltip:"Bottom bevel radius",values:s.map(i=>i.constrainedBevelOffsetBottom),onChange:i=>s.forEach(n=>{n.parameters.bevelOffsetBottom=i,n.parameters.areBevelOffsetsLinked&&(n.parameters.bevelOffsetTop=i)}),maxValue:Math.min(...s.map(i=>i.maxBevelOffsetBottom)),step:e,sensitivity:e,...t})}),ikt=A(({components:s,...t})=>r.jsx(gd,{label:"T",tooltip:"Top bevel sides",values:s.map(e=>e.parameters.bevelSegmentsTop),onChange:e=>s.forEach(i=>{i.parameters.bevelSegmentsTop=e,i.parameters.areBevelSegmentsLinked&&(i.parameters.bevelSegmentsBottom=e)}),minValue:1,maxValue:sH,...t})),nkt=A(({components:s,...t})=>r.jsx(gd,{label:"B",tooltip:"Bottom bevel sides",values:s.map(e=>e.parameters.bevelSegmentsBottom),onChange:e=>s.forEach(i=>{i.parameters.bevelSegmentsBottom=e,i.parameters.areBevelSegmentsLinked&&(i.parameters.bevelSegmentsTop=e)}),minValue:1,maxValue:sH,...t})),X0=Fo/2,okt=A(({components:s,...t})=>{const e=s.reduce((i,n)=>{if(!n.parameters.areRadiiLinked||n.parameters.radiusBottom===0)return X0;const o=n.parameters.radiusTop/n.parameters.radiusBottom,a=Math.max(o*X0,X0);return Math.min(i,a)},1/0);return r.jsx(hC,{label:"T",tooltip:"Top radius",values:s.map(i=>i.parameters.radiusTop),onChange:i=>s.forEach(n=>{const{radiusTop:o,radiusBottom:a,areRadiiLinked:l}=n.parameters;l&&o!==0&&i!==0&&(n.parameters.radiusBottom=i/(o/a)),n.parameters.radiusTop=i;const c=Math.max(n.parameters.radiusTop,n.parameters.radiusBottom);n.parameters.width=c*2,n.parameters.depth=c*2}),minValue:e,...t})}),rkt=A(({components:s,...t})=>{const e=s.reduce((i,n)=>{if(!n.parameters.areRadiiLinked||n.parameters.radiusTop===0)return X0;const o=n.parameters.radiusBottom/n.parameters.radiusTop,a=Math.max(o*X0,X0);return Math.min(i,a)},1/0);return r.jsx(hC,{label:"B",tooltip:"Bottom radius",values:s.map(i=>i.parameters.radiusBottom),onChange:i=>s.forEach(n=>{const{radiusTop:o,radiusBottom:a,areRadiiLinked:l}=n.parameters;l&&a!==0&&i!==0&&(n.parameters.radiusTop=i/(a/o)),n.parameters.radiusBottom=i;const c=Math.max(n.parameters.radiusTop,n.parameters.radiusBottom);n.parameters.width=c*2,n.parameters.depth=c*2}),minValue:e,...t})}),akt=A(({components:s,...t})=>{const e=Math.min(...s.map(i=>Bf([i.parameters.radiusTop*2,i.parameters.radiusBottom*2,i.parameters.height],t.editor.sceneController.scene.units)));return r.jsx(qf,{label:h5,tooltip:"Bevel radius",values:s.map(i=>[i.constrainedBevelOffsetTop,i.constrainedBevelOffsetBottom]).flat(),onChange:i=>{s.forEach(n=>{n.parameters.bevelOffsetTop=i,n.parameters.bevelOffsetBottom=i})},maxValue:Math.min(...s.map(i=>i.maxBevelOffsetTop),...s.map(i=>i.maxBevelOffsetBottom)),step:e,sensitivity:e,...t})}),lkt=s=>{const t=s.components.map(e=>e.parameters);return r.jsxs(ae,{isReadOnly:s.isReadOnly,children:[r.jsx(pe,{label:"Size"}),r.jsxs(Ls,{lastItem:r.jsx(Hm,{...s,parameters:t}),children:[r.jsx(Zf,{...s,parameters:t}),r.jsx(M1,{...s,parameters:t}),r.jsx(Kf,{...s,parameters:t})]})]})},ckt=A(lkt),hkt=s=>{const[t,e]=m.useState(!1);return r.jsxs(ae,{isReadOnly:s.isReadOnly,children:[r.jsx(pe,{label:"Plane"}),r.jsxs(Ls,{children:[r.jsx(Zf,{...s,parameters:s.components.map(i=>i.parameters)}),r.jsx(M1,{...s,minValue:0,parameters:s.components.map(i=>i.parameters)}),r.jsx(Kf,{...s,parameters:s.components.map(i=>i.parameters)}),r.jsx(Hm,{...s,parameters:s.components.map(i=>i.parameters)})]}),r.jsxs(Ql,{label:"Bend",isQuiet:!0,children:[r.jsx(pkt,{...s}),r.jsx(fkt,{...s})]}),r.jsxs(Ql,{label:"Corners",isQuiet:!0,lastItem:r.jsx(cs,{label:"Independent corners",isActive:t,isQuiet:!0,onPress:()=>e(!t),children:FJ}),children:[r.jsx(mkt,{...s}),r.jsx(ukt,{...s})]}),t&&r.jsx(gkt,{...s}),r.jsxs(Ql,{label:"Bevel",isQuiet:!0,children:[r.jsx(ykt,{...s}),r.jsx(bkt,{...s})]})]})},dkt=A(hkt),ukt=A(({components:s,...t})=>{const e=s.every(i=>Object.values(i.parameters.radii).every(n=>n===0));return r.jsx(gd,{label:KI,tooltip:"Corner sides",values:s.map(i=>i.parameters.radiusSegments),minValue:px.minimum,maxValue:px.maximum,onChange:i=>s.forEach(n=>{n.parameters.radiusSegments=i}),isDisabled:e,...t})}),fkt=A(({components:s,...t})=>{const e=s.every(i=>i.parameters.bendAngle===0);return r.jsx(gd,{label:ott,tooltip:"Bend steps",values:s.map(i=>i.parameters.bendSegments),minValue:mx.minimum,maxValue:mx.maximum,onChange:i=>s.forEach(n=>{n.parameters.bendSegments=i}),isDisabled:e,...t})}),pkt=A(s=>{const{components:t}=s;return r.jsx(Y8,{label:IR,tooltip:"Bend angle",values:t.map(e=>e.parameters.bendAngle),onChange:e=>t.forEach(i=>{i.parameters.bendAngle=e}),minValue:-cl,maxValue:cl,...s})}),mkt=A(s=>{const{components:t}=s,e=Math.min(...t.map(n=>n.maxCornerRadius)),i=Math.min(...t.map(n=>Bf([n.parameters.width,n.parameters.depth],s.editor.sceneController.scene.units)));return r.jsx(qf,{label:h5,tooltip:"Corner radius",values:t.map(n=>Object.values(n.constrainedRadii)).flat(),onChange:n=>{t.forEach(o=>{const a={...o.parameters.radii};a.tl=n,a.tr=n,a.bl=n,a.br=n,o.parameters.radii=a})},step:i,sensitivity:i,maxValue:e,...s})}),gkt=A(s=>{const{components:t}=s,e=Math.min(...t.map(n=>n.maxCornerRadius)),i=t.map(n=>n.parameters);return r.jsxs(yZt,{children:[r.jsx(aw,{index:"tl",maxValue:e,...s,parameters:i}),r.jsx(aw,{index:"tr",maxValue:e,...s,parameters:i}),r.jsx(aw,{index:"br",maxValue:e,...s,parameters:i}),r.jsx(aw,{index:"bl",maxValue:e,...s,parameters:i})]})}),aw=A(({index:s,components:t,...e})=>r.jsx(Vm,{label:_kt[s],tooltip:vkt[s]+"corner radius",values:t.map(i=>i.constrainedRadii[s]),onChange:i=>t.forEach(n=>{const o={...n.parameters.radii};o[s]=i,n.parameters.radii=o}),...e})),_kt={tl:BJ,tr:kJ,br:VJ,bl:GJ},vkt={tl:"Top left ",tr:"Top right ",br:"Bottom right ",bl:"Bottom left "},ykt=A(s=>{const{components:t}=s,e=Math.min(...t.map(i=>Bf([i.parameters.width,i.parameters.height,i.parameters.depth],s.editor.sceneController.scene.units)));return r.jsx(qf,{label:t$,tooltip:"Bevel radius",values:t.map(i=>i.constrainedBevelOffset),onChange:i=>t.forEach(n=>n.parameters.bevelOffset=i),maxValue:Math.min(...s.components.map(i=>i.maxBevelOffset)),step:e,sensitivity:e,...s})}),bkt=A(({components:s,...t})=>{const e=s.every(i=>i.parameters.bevelOffset===0);return r.jsx(gd,{label:KI,tooltip:"Bevel steps",values:s.map(i=>i.parameters.bevelSegments),onChange:i=>s.forEach(n=>{n.parameters.bevelSegments=i}),minValue:gx.minimum,maxValue:gx.maximum,isDisabled:e,...t})}),Ckt=A(s=>r.jsxs(ae,{isReadOnly:s.isReadOnly,children:[r.jsx(pe,{label:"Size"}),r.jsx(xkt,{...s})]})),wkt=A(s=>r.jsxs(ae,{children:[r.jsx(pe,{label:"Size"}),r.jsx(Ekt,{...s})]})),xkt=A(s=>r.jsxs(Ls,{lastItem:r.jsx(X8,{...s,label:"Radius",children:r.jsx(Vz,{...s})}),children:[r.jsx(Hz,{...s}),r.jsx(Skt,{...s}),r.jsx(Uz,{...s})]})),Ekt=A(s=>r.jsxs(Ls,{lastItem:r.jsx(X8,{...s,label:"Radius",children:r.jsx(Vz,{...s})}),children:[r.jsx(Hz,{...s}),r.jsx(Uz,{...s})]})),Vz=A(({components:s,...t})=>r.jsx(Ls,{children:r.jsx(hC,{...t,label:"R",tooltip:"Radius",values:s.map(e=>e.parameters.radius),onChange:e=>s.forEach(i=>{i.parameters.radius=e})})})),Hz=A(s=>{const{components:t}=s,e=i=>{t.forEach(n=>n.parameters.radius=i/2)};return r.jsx(Vm,{label:"W",tooltip:"Width",...s,values:t.map(i=>i.parameters.radius*2),action:P.PARAMETERS,onChange:e})}),Skt=A(s=>{const{components:t}=s,e=i=>{t.forEach(n=>n.parameters.radius=i/2)};return r.jsx(Vm,{label:"H",tooltip:"Height",...s,values:t.map(i=>i.parameters.radius*2),action:P.PARAMETERS,onChange:e})}),Uz=A(s=>{const{components:t}=s,e=i=>{t.forEach(n=>n.parameters.radius=i/2)};return r.jsx(Vm,{label:"D",tooltip:"Depth",...s,values:t.map(i=>i.parameters.radius*2),action:P.PARAMETERS,onChange:e})}),Ikt=s=>{const t=s.components.map(e=>e.parameters);return r.jsxs(ae,{isReadOnly:s.isReadOnly,children:[r.jsx(pe,{label:"Sphere"}),r.jsx(T3,{...s,parameters:t}),r.jsx(Ls,{lastItem:r.jsx(P3,{...s,children:r.jsx(Pkt,{...s})}),children:r.jsx(Tkt,{...s})})]})},Akt=A(Ikt),Tkt=A(({components:s,...t})=>r.jsx(Y8,{label:ZR,tooltip:"Slice angle",values:s.map(e=>wS-e.parameters.sliceYAngle),onChange:e=>s.forEach(i=>{i.parameters.sliceYAngle=wS-e}),minValue:0,maxValue:wS-uIt,...t})),Pkt=A(s=>r.jsx(Okt,{...s})),Okt=A(s=>{const{components:t}=s;return r.jsxs(Ql,{label:"Segments",isQuiet:!0,children:[r.jsx(Mkt,{...s}),r.jsx(Lkt,{...s}),r.jsx(zg,{values:t.map(e=>e.parameters.areSegmentsLinked),onChange:e=>t.forEach(i=>{i.parameters.areSegmentsLinked=e}),...s})]})}),Mkt=A(({components:s,...t})=>{const e=s.reduce((n,o)=>Math.min(n,o.minSegmentsDown),1/0),i=s.reduce((n,o)=>Math.max(n,o.maxSegmentsDown),Number.NEGATIVE_INFINITY);return r.jsx(gd,{label:"W",tooltip:"Segments down",values:s.map(n=>n.parameters.segmentsDown),onChange:n=>s.forEach(o=>{if(o.parameters.areSegmentsLinked){const a=o.parameters.segmentsAround/o.parameters.segmentsDown;o.parameters.segmentsAround=n*a}o.parameters.segmentsDown=n}),minValue:e,maxValue:i,...t})}),Lkt=A(({components:s,...t})=>{const e=s.reduce((n,o)=>Math.min(n,o.minSegmentsAround),1/0),i=s.reduce((n,o)=>Math.max(n,o.maxSegmentsAround),Number.NEGATIVE_INFINITY);return r.jsx(gd,{label:"H",tooltip:"Segments around",values:s.map(n=>n.parameters.segmentsAround),onChange:n=>s.forEach(o=>{if(o.parameters.areSegmentsLinked){const a=o.parameters.segmentsDown/o.parameters.segmentsAround;o.parameters.segmentsDown=n*a}o.parameters.segmentsAround=n}),minValue:e,maxValue:i,...t})}),Rkt=s=>r.jsxs(ae,{isReadOnly:s.isReadOnly,children:[r.jsx(pe,{label:"Size"}),r.jsxs(Ls,{lastItem:r.jsx(Hm,{...s,parameters:s.components.map(t=>t.parameters)}),children:[r.jsx(jkt,{...s}),r.jsx(Dkt,{...s})]}),r.jsx(Ls,{children:r.jsx(Fkt,{...s})})]}),Nkt=A(Rkt);function uf(s){return s.parameters.width===1/0?s.computedSize.width:s.parameters.width}function Rg(s){return s.parameters.depth===1/0?s.computedSize.height:s.parameters.depth}const jkt=A(s=>{const{components:t}=s,[e,i]=m.useState(t.map(l=>({width:uf(l),depth:Rg(l)})));m.useEffect(()=>{i(t.map(l=>({width:uf(l),depth:Rg(l)})))},[t]);const n=t.map(uf),o=l=>{i(t.map((c,h)=>n[h]===0?e[h]:{width:uf(c),depth:Rg(c)}))},a=l=>{const c=wa.shape.width.safeParse(l);if(!c.success)return;const h=c.data;if(h===1/0)for(const d of t){const{width:u}=d.computedSize,{width:f}=d.blockSize;let p=0;d.parameters.textAlign==="right"?p=u-f:d.parameters.textAlign==="center"&&(p=(u-f)/2);const g=Hi.translateLocalToGlobal(Mn.clone().multiplyScalar(p),d.entity.transform.matrixGlobal);d.entity.transform.setMatrix(g)}t.forEach((d,u)=>{h===1/0?d.parameters.width=h:uz(d.parameters,h,e[u])})};return r.jsx(Zf,{...s,values:t.map(uf),overrideValueString:t[0].parameters.width===1/0?"Auto":void 0,action:P.PARAMETERS_TRANSFORM,onBegin:o,onChange:a,parameters:s.components.map(l=>l.parameters)})}),Dkt=A(s=>{const{components:t}=s,[e,i]=m.useState(t.map(l=>({width:uf(l),depth:Rg(l)})));m.useEffect(()=>{i(t.map(l=>({width:uf(l),depth:Rg(l)})))},[t]);const n=t.map(uf),o=l=>{i(t.map((c,h)=>n[h]===0?e[h]:{width:uf(c),depth:Rg(c)}))},a=l=>{const c=wa.shape.depth.safeParse(l);if(!c.success)return;const h=c.data;if(h===1/0)for(const d of t){const{height:u}=d.computedSize,{height:f}=d.blockSize;let p=0;d.parameters.verticalAlign==="bottom"?p=u-f:d.parameters.verticalAlign==="middle"&&(p=(u-f)/2);const g=Hi.translateLocalToGlobal(ul.clone().multiplyScalar(p),d.entity.transform.matrixGlobal);d.entity.transform.setMatrix(g)}t.forEach((d,u)=>{h===1/0?d.parameters.depth=h:fz(d.parameters,h,e[u])})};return r.jsx(Kf,{...s,values:t.map(Rg),overrideValueString:t[0].parameters.depth===1/0?"Auto":void 0,action:P.PARAMETERS_TRANSFORM,onBegin:o,onChange:a,parameters:s.components.map(l=>l.parameters)})}),Fkt=A(s=>{const{components:t}=s;return r.jsx(gz,{label:IR,tooltip:"Curve radius",values:t.map(e=>e.parameters.curveRadius),onChange:e=>t.forEach(i=>{i.parameters.curveRadius=e}),...s})}),Bkt=s=>{const t=s.components.map(e=>e.parameters);return r.jsxs(ae,{isReadOnly:s.isReadOnly,children:[r.jsx(pe,{label:"Cone"}),r.jsx(T3,{...s,parameters:t}),r.jsxs(Ls,{children:[r.jsx(Gkt,{...s}),r.jsx(pz,{...s,parameters:t}),r.jsx(mz,{...s,parameters:t}),r.jsx(P3,{...s,children:r.jsx(Vkt,{...s})})]})]})},kkt=A(Bkt),Gkt=A(s=>{const{components:t}=s,e=Math.min(...t.map(i=>Bf([i.parameters.width,i.parameters.height,i.parameters.depth],s.editor.sceneController.scene.units)));return r.jsx(qf,{label:h5,tooltip:"Bevel radius",values:t.map(i=>[i.constrainedBevelOffsetTop,i.constrainedBevelOffsetBottom]).flat(),onChange:i=>t.forEach(n=>{n.parameters.bevelOffsetTop=i,n.parameters.bevelOffsetBottom=i}),maxValue:Math.min(...s.components.map(i=>i.maxBevelOffset)),step:e,sensitivity:e,...s})}),Vkt=A(s=>{const{components:t}=s;return r.jsxs(r.Fragment,{children:[r.jsxs(Ql,{label:"Bevel radius",isQuiet:!0,children:[r.jsx(Hkt,{...s}),r.jsx(Ukt,{...s}),r.jsx(zg,{values:t.map(e=>e.parameters.areBevelOffsetsLinked),onChange:e=>t.forEach(i=>{i.parameters.areBevelOffsetsLinked=e}),...s})]}),r.jsxs(Ql,{label:"Bevel sides",isQuiet:!0,children:[r.jsx(zkt,{...s}),r.jsx(Ykt,{...s}),r.jsx(zg,{values:t.map(e=>e.parameters.areBevelSegmentsLinked),onChange:e=>t.forEach(i=>{i.parameters.areBevelSegmentsLinked=e}),...s})]})]})}),Hkt=A(({components:s,...t})=>{const e=Math.min(...s.map(i=>Bf([i.parameters.width,i.parameters.height,i.parameters.depth],t.editor.sceneController.scene.units)));return r.jsx(qf,{label:"T",tooltip:"Top bevel radius",values:s.map(i=>i.constrainedBevelOffsetTop),onChange:i=>s.forEach(n=>{n.parameters.bevelOffsetTop=i,n.parameters.areBevelOffsetsLinked&&(n.parameters.bevelOffsetBottom=i)}),maxValue:Math.min(...s.map(i=>i.maxBevelOffsetTop)),step:e,sensitivity:e,...t})}),Ukt=A(({components:s,...t})=>{const e=Math.min(...s.map(i=>Bf([i.parameters.width,i.parameters.height,i.parameters.depth],t.editor.sceneController.scene.units)));return r.jsx(qf,{label:"B",tooltip:"Bottom bevel radius",values:s.map(i=>i.constrainedBevelOffsetBottom),onChange:i=>s.forEach(n=>{n.parameters.bevelOffsetBottom=i,n.parameters.areBevelOffsetsLinked&&(n.parameters.bevelOffsetTop=i)}),maxValue:Math.min(...s.map(i=>i.maxBevelOffsetBottom)),step:e,sensitivity:e,...t})}),zkt=A(({components:s,...t})=>r.jsx(gd,{label:"T",tooltip:"Top bevel sides",values:s.map(e=>e.parameters.bevelSegmentsTop),onChange:e=>s.forEach(i=>{i.parameters.bevelSegmentsTop=e,i.parameters.areBevelSegmentsLinked&&(i.parameters.bevelSegmentsBottom=e)}),...t})),Ykt=A(({components:s,...t})=>r.jsx(gd,{label:"B",tooltip:"Bottom bevel sides",values:s.map(e=>e.parameters.bevelSegmentsBottom),onChange:e=>s.forEach(i=>{i.parameters.bevelSegmentsBottom=e,i.parameters.areBevelSegmentsLinked&&(i.parameters.bevelSegmentsTop=e)}),...t})),Wkt=({editor:s,shapes:t,...e})=>{const i=t[0].entity.sceneObject,n=m.useMemo(()=>t[0],[t]),o=m.useCallback(c=>c===L.IMAGE?L.PLANE:c,[]),a=m.useMemo(()=>t.filter(c=>o(c.objectType)===o(n.objectType)),[t,n,o]),l=()=>{switch(n.objectType){case L.BOX:return r.jsx(XBt,{components:a,editor:s,isReadOnly:e.isReadOnly});case L.CYLINDER:return r.jsx($Bt,{components:a,editor:s,isReadOnly:e.isReadOnly});case L.CONE:return r.jsx(kkt,{components:a,editor:s,isReadOnly:e.isReadOnly});case L.SPHERE:return r.jsx(Akt,{components:a,editor:s,isReadOnly:e.isReadOnly});case L.IMAGE:case L.PLANE:return r.jsx(dkt,{components:a,editor:s,isReadOnly:e.isReadOnly});case L.TEXT:return r.jsx(Nkt,{components:a,editor:s,isReadOnly:e.isReadOnly});case L.POINT_LIGHT:return r.jsx(Ckt,{components:a,editor:s,isReadOnly:e.isReadOnly});case L.SPOT_LIGHT:return r.jsx(wkt,{components:a,editor:s,isReadOnly:e.isReadOnly});case L.AREA_LIGHT:return r.jsx(WBt,{components:a,editor:s,isReadOnly:e.isReadOnly});case L.HUMAN:case L.MODEL:return r.jsx(ckt,{components:a,editor:s,isReadOnly:e.isReadOnly});case L.SHAPE:return r.jsx(kz,{components:a.map(c=>c.entity.transform),editor:s,isReadOnly:e.isReadOnly})}};return i.type===L.CURVE?null:r.jsx(r.Fragment,{children:l()})},Xkt=A(Wkt),Zkt=A(({editor:s,component:t})=>{const e=m.useMemo(()=>[t],[t]),i=e.map(o=>o.soundType===nr.SPATIAL),n=m.useCallback(o=>{e.forEach(a=>{a.soundType=o?nr.SPATIAL:nr.STANDARD}),Ft("audio-spatial",{isEnabled:o})},[e]);return r.jsxs("div",{className:"mt-2",children:[r.jsxs(Mf,{children:[r.jsx(Kkt,{editor:s,component:t}),r.jsx(Jkt,{editor:s,component:t}),r.jsx("div",{})]}),r.jsx(ii,{children:r.jsx(vl,{className:"pl-2",editor:s,onChange:n,values:i,action:P.SOUND_PARAMS,selection:e,"aria-label":"Spatial",children:r.jsx(K,{children:"Spatial"})})}),t.soundType===nr.SPATIAL&&r.jsxs(Mf,{children:[r.jsx($kt,{editor:s,component:t}),r.jsx(sGt,{editor:s,component:t})]})]})}),Kkt=A(s=>r.jsxs("div",{className:"mr-1 flex flex-row items-center justify-between",children:[r.jsx(qkt,{...s}),r.jsx(Qkt,{...s})]})),qkt=A(({component:s,editor:t})=>{const[e,i]=m.useState({action:P.SOUND_PARAMS}),{playbackStatus:n}=s.parameters,o=m.useCallback(a=>{a==null||a===s.parameters.playbackStatus||(t.stateController.recordBefore(e),s.setPlaybackStatus(a),t.stateController.signals.sound.dispatch(e),t.stateController.recordAfter(e))},[e,s,t.stateController]);return r.jsx(Ys,{label:"Playback status",size:"sm",className:"ml-2 !h-6 w-full max-w-[calc(100%_-_4px)] rounded-sm",items:ult,selectedKey:n,onSelectionChange:o,children:({type:a,label:l,icon:c})=>r.jsx(se,{id:a,textValue:l,children:r.jsx(rm,{icon:c,label:l})})})}),Qkt=A(({component:s,editor:t})=>{const[e,i]=m.useState({action:P.SOUND_PARAMS}),{playbackMode:n}=s.parameters,o=m.useCallback(()=>{t.stateController.recordBefore(e)},[t.stateController,e]),a=m.useCallback(c=>{c==null||c===s.parameters.playbackMode||(s.setPlaybackMode(c),t.stateController.signals.sound.dispatch(e))},[e,s,t.stateController.signals.sound]),l=m.useCallback(()=>{t.stateController.recordAfter(e)},[t.stateController,e]);return r.jsx("div",{className:"flex flex-row",children:r.jsx(Wg,{options:[{key:e1.ONCE,label:"Play once",child:nQ},{key:e1.LOOP,label:"Loop",child:UR}],onBegin:o,onChange:a,onEnd:l,value:n,size:"sm"})})}),Jkt=A(({editor:s,component:t})=>{const e=[t];return r.jsx(_l,{editor:s,formatOptions:{style:"percent"},values:e.map(i=>i.parameters.volume),onChange:i=>{e.forEach(n=>{n.setVolume(i)})},minValue:0,maxValue:1,step:.01,sensitivity:.01,scrubThreshold:3,action:P.SOUND_PARAMS,label:c5,tooltip:"Volume"})}),$kt=A(s=>{const{editor:t,component:e}=s;return r.jsxs("div",{className:"flex grow flex-row justify-between",children:[r.jsx(tGt,{editor:t,component:e}),r.jsx(eGt,{editor:t,component:e})]})}),tGt=A(({editor:s,component:t})=>{const e=[t];return r.jsx(Qf,{editor:s,values:e.map(i=>i.parameters.range),onChange:i=>{e.forEach(n=>{n.setRange(i)})},minValue:0,step:.1,sensitivity:.1,scrubThreshold:3,action:P.SOUND_PARAMS,label:"R",tooltip:"Range"})}),eGt=A(({editor:s,component:t})=>{const e=[t];return r.jsx(Qf,{editor:s,values:e.map(i=>i.parameters.decay),onChange:i=>{e.forEach(n=>{n.setDecay(i)})},minValue:0,step:.1,sensitivity:.1,scrubThreshold:3,action:P.SOUND_PARAMS,label:"D",tooltip:"Decay"})}),sGt=A(({component:s,editor:t})=>{const[e,i]=m.useState({action:P.SOUND_PARAMS}),{interpolationType:n}=s.parameters,o=m.useCallback(()=>{t.stateController.recordBefore(e)},[t.stateController,e]),a=m.useCallback(c=>{s.setInterpolationType(c),t.stateController.signals.sound.dispatch(e)},[e,s,t.stateController.signals.sound]),l=m.useCallback(()=>{t.stateController.recordAfter(e)},[t.stateController,e]);return r.jsx("div",{className:"flex flex-row justify-end",children:r.jsx(Wg,{options:[{key:ux.LINEAR,label:"Linear",child:XR},{key:ux.LOGARITHMIC,label:"Logarithmic",child:U$}],onBegin:o,onChange:a,onEnd:l,value:n||G7.interpolationType,size:"sm"})})}),iGt=({editor:s,asset:t,entityUses:e,onDeleted:i})=>{const{onSoundRemove:n}=vd(s),o=m.useCallback(()=>{Bt.close()},[]),a=m.useCallback(()=>{const p=Hr({text:"Removing audio...",options:{autoHide:!1}},{text:"Successfully removed audio"},{text:"Failed removing audio"});try{if(o(),!(t!=null&&t.id))throw new Error("Asset ID not found");p.load();const{id:g}=t;n(g).then(()=>{i(g),p.success()})}catch(g){p.fail(),console.error(g)}},[t,o,i,n]),l=(t==null?void 0:t.name)||"Sound",c=e.length,h=c>0,f=`${`${l} is currently referenced by ${c}`} ${c===1?"object":"objects"}.`;return r.jsx(dn,{title:`Remove ${l}`,description:f,submitActionLabel:"Remove",onSubmit:a,onClose:o,children:h?r.jsx("div",{className:"my-2",children:e.map((p,g)=>r.jsxs("span",{children:[p,g!==e.length-1?", ":""]},g))}):r.jsx("div",{className:"mb-2"})})},nGt=A(iGt),oGt=({editor:s,soundsComponents:t,...e})=>{const i=m.useMemo(()=>t[0],[t]);return r.jsxs(ae,{isReadOnly:e.isReadOnly,children:[r.jsx(pe,{label:"Audio"}),t.length===1?r.jsx(aGt,{soundsComponent:i,editor:s,isReadOnly:e.isReadOnly,isInstance:e.isInstance}):r.jsx(hGt,{soundsComponents:t,editor:s,isReadOnly:e.isReadOnly,isInstance:e.isInstance})]})},rGt=A(oGt),GM=A(({soundsComponent:s,editor:t,isReadOnly:e,isInstance:i})=>{const n=[...s.soundComponents.values()];return r.jsx(A_,{"aria-label":`Sounds for ${s.entity.name}`,selectionMode:"multiple",items:n,children:n.map(o=>{if(!o)return null;const a=s.soundComponents.get(o.id);return a?r.jsx(lGt,{editor:t,soundComponent:a,soundsComponent:s,isReadOnly:e,isInstance:i},o.id):null})})}),aGt=A(({soundsComponent:s,editor:t,isReadOnly:e,isInstance:i})=>{const n=[...s.soundComponents.values()];return r.jsx(A_,{"aria-label":`Sounds for ${s.entity.name}`,selectionMode:"multiple",items:n,children:n.map(o=>r.jsx(cGt,{editor:t,soundComponent:o,soundsComponent:s,isReadOnly:e,isInstance:i},o.id))})}),zz=A(s=>{const{editor:t,soundComponent:e}=s,{hasSound:i,isLoading:n}=e,[o,a]=m.useState(!1),l=m.useRef(null),c=i?t.soundController.getSoundAsset(e.assetId):null,h=m.useCallback(f=>{l.current=f},[]),d=m.useCallback(()=>{a(!0)},[]),u=m.useCallback(()=>{a(!1)},[]);return r.jsxs(r.Fragment,{children:[r.jsx(ii,{children:n?r.jsx(Yz,{}):c?r.jsx(Pz,{asset:c,controller:t.soundController,className:"ml-2",refCallback:h,onSwap:d}):r.jsx(dGt,{editor:t,component:e})}),(c||n)&&r.jsx(Zkt,{editor:t,component:e}),o&&r.jsx(uGt,{editor:t,component:e,anchor:l,onClose:u})]})}),lGt=A(s=>{const{id:t,soundType:e}=s.soundComponent;return r.jsx(Df,{id:t,textValue:e,className:W("mt-0.5 rounded-sm bg-gray-80 py-2 [&:not(:last-child)]:pb-[2px]",s.isReadOnly&&"pointer-events-none text-gray-30"),children:r.jsx(zz,{...s})})}),cGt=A(s=>{const{id:t,soundType:e}=s.soundComponent;return r.jsx(Df,{id:t,textValue:e,className:W("mt-0.5 rounded-sm bg-gray-80 py-2 [&:not(:last-child)]:pb-[2px]",s.isReadOnly&&"pointer-events-none text-gray-30"),children:r.jsx(zz,{...s})})}),hGt=A(s=>{const t=s.soundsComponents??[];return r.jsx(r.Fragment,{children:t.length===1?r.jsx(GM,{soundsComponent:t[0],editor:s.editor,isReadOnly:s.isReadOnly}):t.map(e=>e.sounds&&e.count>0?r.jsxs(m.Fragment,{children:[r.jsx(ii,{children:r.jsx(t5,{className:W("pl-2",s.isReadOnly&&"text-gray-30"),children:e.entity.name},e.entity.id)}),r.jsx(GM,{soundsComponent:e,editor:s.editor,isReadOnly:s.isReadOnly,isInstance:s.isInstance},e.entity.id)]},`sound-list-${e.entity.id}`):null)})}),Yz=A(()=>r.jsxs("div",{className:"mx-2 flex grow flex-row items-center gap-3 rounded border border-gray-50 p-2",children:[r.jsx("div",{className:"h-4 w-4",children:r.jsx(ko,{})}),r.jsx("div",{className:"text-white/30",children:"Loading..."})]})),dGt=A(s=>{const{editor:t,component:e}=s,[i,{toggleOn:n,toggleOff:o}]=ss(!1),a=m.useRef(null),l=m.useCallback(()=>{e.clearAssetId()},[e]),c=m.useCallback(d=>{t.soundController.updateComponentSoundAsset(e,d)},[e,t.soundController]),h=m.useCallback(()=>{n()},[n]);return r.jsxs("div",{className:"ml-2 flex grow",children:[e.isLoading?r.jsx(Yz,{}):r.jsx(pGt,{onPress:h,ref:a,...s}),i&&r.jsx(Wz,{anchor:a,onPick:c,onDelete:l,onClose:o,editor:t})]})}),uGt=A(s=>{const{editor:t,component:e,anchor:i,onClose:n}=s,o=m.useCallback(()=>{e.clearAssetId()},[e]),a=m.useCallback(l=>{t.soundController.updateComponentSoundAsset(e,l)},[e,t.soundController]);return r.jsx(Wz,{anchor:i,onPick:a,onDelete:o,onClose:n,editor:t})}),Wz=A(s=>{const{editor:t,anchor:e,onPick:i,onDelete:n,onClose:o}=s;return r.jsx(pC,{anchor:e,onClose:o,children:r.jsx(fGt,{editor:t,onPick:i,onDelete:n,onClose:o})})}),fGt=A(s=>{var I,O;const{editor:t,onPick:e,onDelete:i,onClose:n}=s,{listAssets:o,selectedTeam:a,selectedFile:l,onTeamChange:c,onFileChange:h}=yC(t,Gh.SoundLib,Ae.SOUND),d=aT(a,l),[u,f]=m.useState([]),p=m.useCallback(T=>{var D;if(T===_i.BEZI){c(uo.BEZI),h(null);return}if(T===_i.TEAM){(D=t.fileController.team)!=null&&D.id&&(c(t.fileController.team.id),h(null));return}h(t.fileController.id)},[t.fileController.id,(I=t.fileController.team)==null?void 0:I.id,h,c]),g=m.useCallback(T=>{var F;const D=T===_i.BEZI?"bezel":((F=t.fileController.team)==null?void 0:F.id)||"-",B=t.fileController.id;Bt.open({content:r.jsx(yP,{editor:t,teamId:D,fileId:B})})},[t]),_=m.useCallback(()=>{o(!0)},[o]),v=m.useCallback(T=>{const D=t.assetController.assets[T];D&&Bt.open({content:r.jsx(yP,{editor:t,asset:D})})},[t]),y=m.useCallback(T=>{i(),t.soundController.removeSoundAsset(T);const D=[...u],B=D.findIndex(F=>F.id===T);D.splice(B,1),f(D)},[t.soundController,i,u]),b=m.useCallback(T=>{const D=t.assetController.assets[T];if(!D)return;const B=t.soundController.getUsedEntityNames(Object.values(t.sceneController.sceneEntitiesById),D.id);Bt.open({content:r.jsx(nGt,{editor:t,asset:D,entityUses:B,onDeleted:y})})},[t,y]);function C(T){const D=t.assetController.assets[T];if(!D){console.error("Attempted to update to unknown audio",T);return}e(D)}const x=m.useCallback(async()=>{const T=t.assetController.assetArr,D=[];for(const B of T){let F=null;B.preview&&(F=await xs(B.preview.urlKey)||null),D.push({id:B.id,name:B.name,data:{preview:F},asset:B,controller:t.soundController})}f(D)},[JSON.stringify(t.assetController.assetArr)]);return m.useEffect(()=>{x()},[x]),r.jsx(mC,{type:Ae.SOUND,items:u,category:d,columnCount:1,disabledCategories:(O=t.fileController.team)!=null&&O.id?void 0:new Set([_i.TEAM]),onCategoryChange:p,onAddItem:g,onLoadMore:_,onItemEdit:v,onItemRemove:b,onSelectItem:C,onClose:n,closeAfterSelection:!0})}),pGt=A(xe.forwardRef((s,t)=>{const{onPress:e}=s;return r.jsx(Na,{className:({isHovered:i,isPressed:n,isFocusVisible:o,isDisabled:a})=>W("my-2 flex h-8 grow items-center justify-center rounded border border-dashed border-gray-50 px-2",i&&!n&&!o&&"bg-hovered",n&&"bg-active",o&&"shadow-focus"),onPress:e,ref:t,children:r.jsx(K,{children:"Select a file"})})})),mGt=s=>{const{editor:t}=s,{sceneController:e}=t,i=m.useCallback(l=>{l===gE&&(l=null),e.setSpawnPoint(l)},[e]),n=Object.entries(e.cameraController.cameraComponentsById),o=m.useMemo(()=>{const l=[];l.push({id:gE,text:T4}),n.length<=0&&l.push({id:"info",text:"Add Cameras to customize the start view"});for(const[c,h]of n)l.push({id:c,text:h.entity.name});return l},[n]),a=e.scene.spawn??gE;return r.jsxs(ae,{children:[r.jsx(pe,{label:"Play mode"}),r.jsx(xZt,{label:"Start view",isQuiet:!0,children:r.jsx(Ys,{label:"Start view",items:o,selectedKey:a,disabledKeys:["info"],onSelectionChange:l=>i(l),children:l=>r.jsx(se,{id:l.id,textValue:l.text})})})]})},gGt=A(mGt),_Gt="_dropdownContainer_1nwzf_1",vGt="_dropdownOverlay_1nwzf_4",yGt="_disabled_1nwzf_16",bGt="_dropdownContent_1nwzf_20",CGt="_sub_1nwzf_28",wGt="_dropdownItem_1nwzf_38",xGt="_divideAfter_1nwzf_60",EGt="_divideBefore_1nwzf_63",SGt="_dropdownItemIcon_1nwzf_69",IGt="_dropdownItemLabel_1nwzf_73",AGt="_normal_1nwzf_89",TGt="_info_1nwzf_92",PGt="_warn_1nwzf_95",OGt="_error_1nwzf_98",MGt="_hovered_1nwzf_101",Rl={dropdownContainer:_Gt,dropdownOverlay:vGt,disabled:yGt,dropdownContent:bGt,sub:CGt,dropdownItem:wGt,divideAfter:xGt,divideBefore:EGt,dropdownItemIcon:SGt,dropdownItemLabel:IGt,normal:AGt,info:TGt,warn:PGt,error:OGt,hovered:MGt},LGt=({option:{id:s,text:t,iconLeft:e,iconLeftFadeIn:i,iconRight:n,iconRightFadeIn:o,divideAfter:a,divideBefore:l,status:c="normal",options:h,disabled:d=!1,nowrap:u=!1,onIconLeftClick:f,onClick:p,onIconRightClick:g},index:_,subDropdownID:v,setSubDropdownIndex:y,onClose:b,style:C})=>{const x=m.useCallback(()=>{d||y(s)},[d,s,y]),I=m.useCallback(B=>{d||(B.stopPropagation(),Hs.close(),p==null||p(s),b==null||b())},[d,p,b,s]),O=m.useCallback(B=>{!f||d||(B.stopPropagation(),Hs.close(),f==null||f(s),b==null||b())},[d,f,b,s]),T=m.useCallback(B=>{!g||d||(B.stopPropagation(),Hs.close(),g==null||g(s),b==null||b())},[d,g,b,s]),D=m.useCallback(B=>{d||B.key!=="Enter"||(Hs.close(),p==null||p(s),b==null||b())},[d,p,b,s]);return r.jsxs("li",{className:W("group",Rl.dropdownItem,a&&Rl.divideAfter,l&&Rl.divideBefore,h&&v===s&&Rl.hovered,d&&Rl.disabled,Rl[c]),role:"menuitem",tabIndex:_===0?-1:0,onMouseEnter:x,onClick:I,onKeyDown:D,style:C,children:[r.jsx("button",{onClick:O,className:W(i&&"transition-all opacity-0 group-hover:opacity-100"),children:e&&(typeof e=="string"?r.jsx(K,{color:"secondary",children:e}):r.jsx(Oi,{className:`${Rl.dropdownItemIcon}`,icon:e}))}),r.jsx("button",{className:u?"w-full text-left":Rl.dropdownItemLabel,onClick:I,children:r.jsx(K,{nowrap:u,children:t})}),r.jsx("button",{onClick:T,className:W(o&&"transition-all opacity-0 group-hover:opacity-100"),children:n&&(typeof n=="string"?r.jsx(K,{color:"secondary",children:n}):r.jsx(Oi,{className:`${Rl.dropdownItemIcon}`,icon:n}))}),h&&v===s&&!d&&r.jsx(Xz,{options:h,onClose:b,sub:!0})]})},Xz=({options:s,sub:t,onClose:e,itemStyle:i,dataTestId:n})=>{const[o,a]=m.useState();return r.jsx("div",{className:W(Rl.dropdownContent,t&&Rl.sub),role:"menu","data-testid":n??"",children:s.map((l,c)=>r.jsx(LGt,{index:c,option:l,subDropdownID:o,setSubDropdownIndex:a,onClose:e,style:i},`dropdown-item-${l.id}`))})},RGt=({className:s,style:t,itemStyle:e,options:i,variant:n="primary",spot:o=Ds.LEFT_BOTTOM,width:a,children:l,disabled:c,onOpen:h,onClose:d,handleClickOverride:u,dataTestId:f,...p})=>{const g=m.useRef(null),{hoverProps:_,isHovered:v}=Ao({isDisabled:c}),y=m.useCallback(C=>{C.stopPropagation(),Hs.open({content:r.jsx(Xz,{options:i,onClose:d,itemStyle:e,dataTestId:f?f+"Items":"Items"}),option:{ref:g,variant:n,spot:o,width:a,onClose:d}}),h==null||h()},[i,d,e,f,n,o,a,h]),b=m.useCallback(C=>{if(c)return;(u?u(y):y)(C)},[c,y,u]);return r.jsx("div",{ref:g,"data-testid":f?f+"Trigger":"Trigger",className:W(Rl.dropdownContainer,c&&Rl.disabled,s,v&&!c?"bg-hovered":""),style:t,onClick:b,onKeyDown:()=>{},role:"button",tabIndex:0,...hn(p,_),children:l})},Sr=m.memo(RGt),Hs={open:()=>{},close:()=>{}};var Ds=(s=>(s.LEFT_TOP="leftTop",s.CENTER_TOP="centerTop",s.RIGHT_TOP="rightTop",s.LEFT_BOTTOM="leftBottom",s.CENTER_BOTTOM="centerBottom",s.RIGHT_BOTTOM="rightBottom",s.TOP_LEFT="topLeft",s.MIDDLE_LEFT="middleLeft",s.BOTTOM_LEFT="bottomLeft",s.TOP_RIGHT="topRight",s.MIDDLE_RIGHT="middleRight",s.BOTTOM_RIGHT="bottomRight",s))(Ds||{});const NGt="_popupOverlay_1rbdv_1",jGt="_popupContainer_1rbdv_9",DGt="_primary_1rbdv_15",FGt="_secondary_1rbdv_18",BGt="_fade_1rbdv_21",kGt="_show_1rbdv_21",GGt="_fadeIn_1rbdv_1",VGt="_hide_1rbdv_25",HGt="_fadeOut_1rbdv_1",VM={popupOverlay:NGt,popupContainer:jGt,primary:DGt,secondary:FGt,fade:BGt,show:kGt,fadeIn:GGt,hide:VGt,fadeOut:HGt};function UGt({layer:s,content:t,option:e,handlePopupClose:i}){const[n,o]=m.useState({}),a=m.useRef(null),l=m.useRef([0,0,0,0,0,0,0,0]),{isOverlayActive:c}=m.useContext(Q8),h=m.useCallback(f=>{var p;f.stopPropagation(),(p=a==null?void 0:a.current)!=null&&p.contains(f.target)||i()},[i]),d=m.useCallback(()=>{if(!a.current||!e.ref.current)return;const{spot:f,margin:p}=e,g=8;let _=[0,0],v=[0,0,0,0],y=[0,0];const b=window.innerWidth,C=window.innerHeight,{top:x,left:I,width:O,height:T}=e.ref.current.getBoundingClientRect(),{width:D,height:B}=a.current.getBoundingClientRect();l.current[0]===b&&l.current[1]===C&&l.current[2]===x&&l.current[3]===I&&l.current[4]===O&&l.current[5]===T&&l.current[6]===D&&l.current[7]===B||(l.current=[b,C,x,I,O,T,D,B],f===Ds.LEFT_BOTTOM?(_=[x+T+p,I],v=[_[0],C-(_[0]+B),_[1],b-(_[1]+D)]):f===Ds.CENTER_BOTTOM?(_=[x+T+p,I+O/2],v=[_[0],C-(_[0]+B),_[1]-D/2,b-(_[1]+D/2)],y[0]=-50):f===Ds.RIGHT_BOTTOM?(_=[x+T+p,I+O],v=[_[0],C-(_[0]+B),_[1]-D,b-_[1]],y[0]=-100):f===Ds.LEFT_TOP?(_=[x-p,I],v=[_[0]-B,C-_[0],_[1],b-(_[1]+D)],y[1]=-100):f===Ds.CENTER_TOP?(_=[x-p,I+O/2],v=[_[0]-B,C-_[0],_[1]-D/2,b-(_[1]+D/2)],y=[-50,-100]):f===Ds.RIGHT_TOP?(_=[x-p,I+O],v=[_[0]-B,C-_[0],_[1]-D,b-_[1]],y=[-100,-100]):f===Ds.TOP_LEFT?(_=[x,I-p],v=[_[0],C-(_[0]+B),_[1]-D,b-_[1]],y[0]=-100):f===Ds.MIDDLE_LEFT?(_=[x+T/2,I-p],v=[_[0]-B/2,C-(_[0]+B/2),_[1]-D,b-_[1]],y=[-100,-50]):f===Ds.BOTTOM_LEFT?(_=[x+T,I-p],v=[_[0]-B,C-_[0],_[1]-D,b-_[1]],y=[-100,-100]):f===Ds.TOP_RIGHT?(_=[x,I+O+p],v=[_[0],C-(_[0]+B),_[1],b-(_[1]+D)]):f===Ds.MIDDLE_RIGHT?(_=[x+T/2,I+O+p],v=[_[0]-B/2,C-(_[0]+B/2),_[1],b-(_[1]+D)],y[1]=-50):f===Ds.BOTTOM_RIGHT&&(_=[x+T,I+O+p],v=[_[0]-B,C-_[0],_[1],b-(_[1]+D)],y[1]=-100),v[0]=v[0]>0?0:v[0]-g,v[1]=v[1]>0?0:v[1]-g,v[2]=v[2]>0?0:v[2]-g,v[3]=v[3]>0?0:v[3]-g,o({top:`${_[0]}px`,left:`${_[1]}px`,transform:`translate(
        calc(${y[0]}% + ${v[3]-v[2]}px),
        calc(${y[1]}% + ${v[1]-v[0]}px)`}))},[e]);Rb(d,500,!1),m.useLayoutEffect(()=>{d()},[]),m.useEffect(()=>()=>{var f;(f=e.onClose)==null||f.call(e)},[e]);const u=`absolute top-0 left-0 bottom-0 right-0 ${c?"":"pointer-events-none"}`;return r.jsx("div",{className:u,style:{zIndex:s+10},onClick:h,"data-testid":"popup-overlay","aria-hidden":"true",children:r.jsx("div",{ref:a,className:`${VM.popupContainer} ${VM[e.variant]} pointer-events-auto`,style:{...n,...e.width&&{width:`${e.width}px`},...e.height&&{height:`${e.height}px`}},children:t})})}const zGt={variant:"primary",spot:Ds.RIGHT_BOTTOM,margin:6},Q8=m.createContext({isOverlayActive:!0,setIsOverlayActive:s=>{}}),YGt=()=>{const[s,t]=m.useState([]),e=m.useCallback(({content:n,option:o})=>{const a={content:n,option:{...zGt,...o}};t(l=>[...l,a])},[]),i=m.useCallback(()=>{t(n=>{const o=[...n];return o.pop(),o})},[]);return m.useEffect(()=>{Hs.open=e,Hs.close=i},[i,e]),r.jsx(r.Fragment,{children:s.map((n,o)=>r.jsx(UGt,{layer:o,content:n.content,option:n.option,handlePopupClose:i},`popup-layer-${o}`))})},WGt=m.memo(YGt),XGt=({value:s,options:t,onChange:e,dropdownWidth:i=216,variant:n,size:o})=>r.jsx(ZGt,{size:o,children:r.jsxs(DY,{children:[r.jsx(KGt,{value:s,options:t.map(a=>a.text),onChange:e,variant:n,size:o}),r.jsx(Sr,{options:t,width:i,spot:Ds.RIGHT_BOTTOM,children:r.jsx(qGt,{variant:n,size:o})})]})}),ZGt=s=>{const{children:t,size:e="md"}=s;return r.jsx("div",{className:W("group w-full hover:shadow-hover",e==="sm"&&"h-sm",e==="md"&&"h-md",e==="lg"&&"h-lg"),children:t})},KGt=s=>{const{value:t,options:e,onChange:i,size:n="md",variant:o}=s,a=xe.useRef(null),{isFocused:l,isFocusVisible:c,focusProps:h}=l1({isTextInput:!0}),[d,u]=xe.useState(-1),[f,p]=xe.useState(t);xe.useEffect(()=>{p(t)},[t]);const g=C=>{const x=C.target.value,I=e.find(O=>O.toLowerCase().startsWith(x.toLowerCase()));I?(p(I),u(x.length)):(p(x),u(-1))};xe.useEffect(()=>{const C=a.current;if(C&&t!==""){if(d===-1)return;const x=f.length;C.setSelectionRange(d,x)}},[f,d,t]);const _={value:f},v={onKeyDown:C=>{C.key==="Enter"&&(C.stopPropagation(),C.target.blur())},onKeyUp:C=>{C.code==="Escape"&&(C.stopPropagation(),C.target.blur())},onBlur:C=>{i(C.target.value),d===-1&&p(t)}},y=wWt(a,l,c,!0),b=c?"shadow-focus":l?"shadow-active":void 0;return r.jsx("input",{ref:a,className:W("w-full",n==="sm"&&"h-sm",n==="md"&&"h-md",n==="lg"&&"h-lg","pl-2","bg-transparent bg-clip-padding fill-white",b,o==="title"&&"font-bold leading-8 tracking-wide"),onChange:g,...hn(y,_,h,v),spellCheck:"false"})},qGt=s=>{const{size:t="md",isDisabled:e,variant:i}=s,{isHovered:n,hoverProps:o}=Ao({isDisabled:e});return r.jsx("span",{className:W("flex shrink-0 grow-0 items-center justify-center hover:bg-white/15 group-hover:shadow-hover",t==="sm"&&"h-sm w-sm basis-sm",t==="md"&&"h-md w-md basis-md",t==="lg"&&"h-lg w-lg basis-lg"),...hn({},o),children:r.jsx(De,{variant:i==="title"||n?"primary":"secondary",children:La})})},QGt=s=>{const{options:t,value:e,size:i="md",dropdownWidth:n}=s;return r.jsx(Sr,{className:"w-full",options:t,width:n??150,spot:Ds.LEFT_BOTTOM,children:r.jsx(JGt,{size:i,children:e})})},JGt=s=>{const{children:t,isDisabled:e,size:i="md"}=s,{isHovered:n,hoverProps:o}=Ao({isDisabled:e});return r.jsxs("div",{className:W("group box-border w-full min-w-0 cursor-default",i==="sm"&&"h-sm",i==="md"&&"h-md",i==="lg"&&"h-lg","flex grow items-center","overflow-hidden text-ellipsis whitespace-nowrap","pl-2","fill-icon","hover:shadow-hover"),...hn(o),children:[r.jsx($Gt,{children:t}),r.jsx(J8,{size:i,variant:n?"primary":"secondary"})]})},$Gt=({children:s})=>r.jsx("span",{className:"flex max-w-[calc(100%_-_12px)] overflow-hidden text-ellipsis whitespace-nowrap after:inline-block after:w-[1px] after:content-[''] group-hover:grow",children:r.jsx(K,{children:s})}),J8=s=>{const{size:t="md",variant:e}=s;return r.jsx("span",{className:W("flex shrink-0 grow-0 items-center justify-center",t==="sm"&&"h-sm w-sm basis-sm",t==="md"&&"h-md w-md basis-md",t==="lg"&&"h-lg w-lg basis-lg"),children:r.jsx(De,{variant:e,children:xot})})};function tVt({editor:s,texts:t,...e}){const i=t[0],n=i.parameters.fontFamily,o=i.parameters.fontWeight,a=i.parameters.fontId,{fonts:l}=s.fontProvider,c=m.useCallback(()=>s.stateController.recordBefore({action:P.PARAMETERS}),[s.stateController]),h=m.useCallback(()=>s.stateController.recordAfter({action:P.PARAMETERS}),[s.stateController]),d=m.useCallback(function(T,D,B){const F=D.safeParse(T);if(!F.success)return;const k=F.data;Jt(()=>{for(const Y of t)B(k,Y.parameters)}),s.stateController.signals.parameters.dispatch({action:P.PARAMETERS})},[t,s.stateController.signals.parameters]),u=m.useCallback(O=>{c(),Jt(()=>{O()}),s.stateController.signals.parameters.dispatch({action:P.PARAMETERS}),h()},[s.stateController.signals.parameters,c,h]),f=O=>{const T=wa.shape.textAlign.safeParse(O);T.success&&u(()=>t.forEach(D=>D.parameters.textAlign=T.data))},p=O=>{const T=wa.shape.verticalAlign.safeParse(O);T.success&&u(()=>t.forEach(D=>D.parameters.verticalAlign=T.data))},g=O=>{const T=wa.shape.letterCase.safeParse(O);T.success&&u(()=>t.forEach(D=>D.parameters.letterCase=T.data))},_=m.useCallback(O=>{const T=wa.shape.fontFamily.safeParse(O);if(!T.success)return;const D=T.data;l.find(B=>B.family===D)&&u(()=>{Jt(()=>{t.forEach(k=>{k.parameters.fontFamily=D,k.parameters.fontId=void 0});const B=l.find(k=>k.family===D);if(!B)return;Object.keys(B.files).includes(o)||t.forEach(k=>k.parameters.fontWeight="regular")})})},[l,u,t,o]),v=m.useCallback(O=>{const T=wa.shape.fontWeight.safeParse(O);if(!T.success)return;const D=T.data;u(()=>{t.forEach(B=>B.parameters.fontWeight=D)})},[u,t]),y=m.useMemo(()=>l.map(O=>({id:O.family,text:O.family,iconLeft:r.jsx(r.Fragment,{children:n===O.family?ps:void 0}),onClick:()=>_(O.family)})),[l,n,_]),b=m.useMemo(()=>{let O=[];if(a)O=["custom"];else{const T=l.find(D=>D.family===n);if(!T)return[];O=Object.keys(T.files)}return O.map(T=>{const D=HM(T);return{id:T,text:D,iconLeft:r.jsx(r.Fragment,{children:o===T?ps:void 0}),onClick:()=>v(T)}})},[l,n,o,a,v]),C=m.useRef(null),x=m.useCallback(()=>{C.current&&(C.current.value="",C.current.click())},[]),I=async O=>{const T=O.target.files;if(!T||T.length===0)return;const[D]=T,B=URL.createObjectURL(D).match(/[^/]+$/g);if(!B)return;const F=B[0];try{const k=await ist(F,D);k?u(()=>{t.forEach(Y=>Y.parameters.fontFamily=D.name),t.forEach(Y=>Y.parameters.fontWeight="custom"),t.forEach(Y=>Y.parameters.fontId=k)}):console.error("Font file upload failed")}catch(k){console.error("Error during font file upload:",k)}};return r.jsxs(ae,{isReadOnly:e.isReadOnly,children:[r.jsx(pe,{label:"Text"}),r.jsx(CZt,{children:r.jsx(G_,{value:t[0].parameters.text,onBegin:c,onChange:O=>d(O.target.value,wa.shape.text,(T,D)=>D.text=T),onSubmit:h})}),r.jsxs(Yl,{children:[r.jsx(XGt,{value:n,options:y,onChange:_}),r.jsxs(cs,{label:"Import font",onPress:x,children:[r.jsx("input",{className:"hidden",ref:C,type:"file",accept:".ttf,.otf,.woff",onChange:I}),NQ]})]}),r.jsxs(Fh,{children:[r.jsx(QGt,{value:HM(o),options:b,dropdownWidth:150}),r.jsx(xr,{label:"pt",value:t[0].parameters.fontSize,sensitivity:1,onBegin:c,onChange:O=>{d(O,wa.shape.fontSize,(T,D)=>{D.fontSize=T})},onEnd:h,minScrubValue:1,minValue:Fo,isFixedWidth:!1,size:"md"})]}),r.jsxs(Fh,{children:[r.jsx(qi,{text:"Letter spacing",shouldCloseOnClick:!0,children:r.jsx("span",{className:"w-full",children:r.jsx(xr,{label:lJ,value:t[0].parameters.letterSpacing,sensitivity:.01,step:.01,onBegin:c,onChange:O=>d(O,wa.shape.letterSpacing,(T,D)=>D.letterSpacing=T),onEnd:h,minValue:0,isFixedWidth:!1,size:"md"})})}),r.jsx(qi,{text:"Line height",shouldCloseOnClick:!0,children:r.jsx("span",{className:"w-full",children:r.jsx(xr,{label:aJ,value:t[0].parameters.lineHeight==="normal"?t[0].computedLineHeight:t[0].parameters.lineHeight,overrideValueString:t[0].parameters.lineHeight==="normal"?"Auto":void 0,sensitivity:.01,step:.01,onBegin:c,onChange:O=>d(O,wa.shape.lineHeight,(T,D)=>D.lineHeight=T),onEnd:h,minValue:0,isFixedWidth:!1,size:"md"})})})]}),r.jsxs(Fh,{children:[r.jsx(s4,{children:r.jsx(Wg,{options:[{key:"left",label:"Text align left",child:XQ},{key:"center",label:"Text align center",child:ZQ},{key:"right",label:"Text align right",child:KQ},{key:"justify",label:"Text align justified",child:qQ}],onChange:f,value:t[0].parameters.textAlign})}),r.jsx(s4,{children:r.jsx(Wg,{options:[{key:"top",label:"Align top",child:nJ},{key:"middle",label:"Align middle",child:oJ},{key:"bottom",label:"Align bottom",child:rJ}],value:t[0].parameters.verticalAlign,onChange:p})})]}),r.jsx(Fh,{children:r.jsx(s4,{children:r.jsx(Wg,{options:[{key:"as-typed",label:"As typed",child:r.jsx("span",{children:"-"})},{key:"uppercase",label:"Uppercase",child:jJ},{key:"lowercase",label:"Lowercase",child:DJ},{key:"title-case",label:"Title case",child:NJ}],onChange:g,value:t[0].parameters.letterCase})})})]})}const eVt=A(tVt);function HM(s){return s.replace("italic"," Italic").replace("100","Thin").replace("200","ExtraLight").replace("300","Light").replace("400","Regular").replace("500","Medium").replace("600","SemiBold").replace("700","Bold").replace("800","ExtraBold").replace("900","Black").replace("regular","Regular").replace("custom","Custom")}const s4=({children:s})=>r.jsx("div",{className:W("first:pl-1"),children:s}),sVt=s=>{const{components:t}=s;return r.jsx(r.Fragment,{children:r.jsxs(ae,{isReadOnly:s.isReadOnly,children:[r.jsx(pe,{label:"Transform"}),r.jsxs(Ls,{children:[r.jsx(i4,{...s,index:"x"}),r.jsx(i4,{...s,index:"y"}),r.jsx(i4,{...s,index:"z"})]}),r.jsxs(Ls,{children:[r.jsx(n4,{...s,index:"x"}),r.jsx(n4,{...s,index:"y"}),r.jsx(n4,{...s,index:"z"})]}),r.jsxs(Ls,{children:[r.jsx(o4,{...s,index:"x"}),r.jsx(o4,{...s,index:"y"}),r.jsx(o4,{...s,index:"z"}),r.jsx(Z8,{...s,values:t.map(e=>e.isScaleLinked),onChange:e=>t.forEach(i=>{i.isScaleLinked=e}),action:P.LOCKED_SCALE})]})]})})},iVt=A(sVt),i4=A(({index:s,components:t,...e})=>r.jsx(Qf,{label:s.toUpperCase(),tooltip:`Position ${s.toUpperCase()}`,values:t.map(i=>i.position[s]),onChange:i=>t.forEach(n=>{if(n.position.isProxy){const o={...n.position.activeValues()};o[s]=i,n.setPosition(o)}}),action:P.TRANSFORM,...e})),n4=A(({index:s,components:t,...e})=>r.jsx(dC,{label:s.toUpperCase(),tooltip:`Rotation ${s.toUpperCase()}`,values:t.map(i=>i.rotation[s]),onChange:i=>t.forEach(n=>{if(n.rotation.isProxy){const o={...n.rotation.activeValues()};o[s]=i,n.setRotation(o)}}),action:P.TRANSFORM,...e})),o4=A(({index:s,components:t,...e})=>r.jsx(_l,{label:s.toUpperCase(),tooltip:`Scale ${s.toUpperCase()}`,values:t.map(i=>i.scale[s]),onChange:i=>t.forEach(n=>{const{x:o,y:a,z:l}=n.scale;if(n.scale.isProxy){const c={...n.scale.activeValues()};if(n.isScaleLinked)switch(i||(i=n.scale[s]>0?-vf:vf),s){case"x":{a&&o&&(c.y=i/(o/a)),l&&o&&(c.z=i/(o/l));break}case"y":{o&&a&&(c.x=i/(a/o)),l&&a&&(c.z=i/(a/l));break}case"z":{o&&l&&(c.x=i/(l/o)),a&&l&&(c.y=i/(l/a));break}}c[s]=i,n.setScale(c)}}),isReadOnly:e.isReadOnly||t.some(i=>!i.isScaleEditable),action:P.TRANSFORM,sensitivity:.01,step:.01,...e})),nVt=A(({editor:s})=>r.jsxs(r.Fragment,{children:[r.jsx(gGt,{editor:s}),r.jsx(GDt,{editor:s}),r.jsx(DDt,{editor:s}),r.jsx(HNt,{editor:s}),r.jsx(kjt,{editor:s}),r.jsx(wBt,{editor:s})]})),oVt=A(({editor:s})=>{const{selectionController:t,accessController:e}=s;if(!e.isEditor)return null;const{selectedCollection:i}=t,n=i.sceneEntities,[o]=n,a=[...n];let l=!1,c=!1;for(const ut of a)if(ut.isEffectivelyPreviewing&&(l=!0),ut.isReadOnly&&(c=!0),l&&c)break;let h=!1,d=!1,u=!1,f=!1,p=!1,g=!1,_=!1,v=!1,y=!1,b=!1,C=!1,x=!1,I=!1,O=!1,T=!1,D=!1,B=!1,F=!1,k=!1,Y=!1,G=!1;const st=o.sceneObject.isInstance,$=o.parent!=null&&o.parent.sceneObject.isInstance;for(const ut of o.components)ut.type===pt.Transform&&(h=!0),ut.type===pt.Material&&(d=!0),ut.type===pt.Text&&(u=!0),ut.type===pt.Frame&&(f=!0),ut.type===pt.Geometry&&(p=!0),ut.type===pt.Modifier&&(g=!0),ut.type===pt.PlaySettings&&(_=!0),ut.type===pt.Animation&&(v=!0),ut.type===pt.Settings&&(y=!0),ut.type===pt.Line&&(b=!0),ut.type===pt.Camera&&(C=!0),ut.type===pt.Light&&(x=!0),ut.type===pt.BodyRig&&(I=!0),ut.type===pt.Hand&&(O=!0),ut.type===pt.Behaviors&&(T=!0),ut.type===pt.Collider&&(D=!0),ut.type===pt.Sounds&&(B=!0),ut.type===pt.Constraint&&(F=!0),ut.type===pt.AnimatedModel&&(k=!0),ut.type===pt.Instance&&(Y=!0),ut.type===pt.Gamepad&&(G=!0);const{isGroup:X,hasChildren:q,constraint:at}=o,bt=X&&!q,lt=O||I;function ct(ut){const yt=[];return n.forEach(Kt=>{const ye=Kt.getComponent(ut);ye&&yt.push(ye)}),yt}function nt(ut){const yt=[];return n.forEach(Kt=>{const ye=Kt.getComponentsInChildren(ut);for(const Cs of ye)yt.push(Cs)}),yt}function ot(ut){const yt=[];return n.forEach(Kt=>{const ye=Kt.getComponentByType(ut);ye&&yt.push(ye)}),yt}const Et=!lt&&X&&!f;F=!!at;const Ot=F;return r.jsxs(r.Fragment,{children:[h&&!lt&&r.jsx(NNt,{editor:s,entities:n}),Ot&&r.jsx(CDt,{editor:s,components:ot(pt.Constraint)}),h&&r.jsx(iVt,{editor:s,components:ct(qe),isReadOnly:c||l}),f&&r.jsx(iFt,{editor:s,components:ot(pt.Frame)}),Et&&r.jsx(kz,{editor:s,components:ot(pt.Transform)}),(p||u||x)&&r.jsx(Xkt,{editor:s,shapes:[...ot(pt.Geometry),...ot(pt.Text),...ot(pt.Light)]}),Y&&!$&&r.jsx(xFt,{editor:s,components:ct(Js)}),Y&&$&&r.jsx(bFt,{editor:s,components:ct(Js)}),G&&r.jsx(oFt,{editor:s,gamepadComponents:ct(ur)}),u&&r.jsx(eVt,{editor:s,texts:ct(zr)}),b&&r.jsx(PDt,{editor:s,lines:ct(si)}),C&&r.jsx(Ojt,{editor:s,components:ct(So)}),x&&r.jsx(TFt,{editor:s,lightComponents:[...ct(Kl)]}),I&&r.jsx(Ejt,{editor:s,component:o.getComponent(dr)}),O&&r.jsx(_Ft,{editor:s,handComponent:o.getComponent(fl)}),k&&r.jsx(qNt,{editor:s,animatedModelComponents:ct(eh)}),g&&r.jsx(az,{editor:s,subdivisionComponents:ot(pt.Modifier)}),(y||q||X||x)&&!lt&&r.jsx(BBt,{editor:s,settingsComponents:ct(On),opacityComponents:ct(z_),lightComponents:ct(Kl),entities:n}),(d||q)&&(!st||$)&&!lt&&r.jsx(vBt,{editor:s,materials:nt(_e)}),v&&r.jsx(JNt,{editor:s,animationComponents:ct(_o)}),B&&r.jsx(rGt,{editor:s,soundsComponents:ct(b1),isInstance:$}),T&&!lt&&!G&&r.jsx(hjt,{editor:s,behaviorsComponents:ct(sc),isInstance:$}),D&&!G&&r.jsx(Qjt,{editor:s,components:ct(Fl),isInstance:$}),(_||C)&&!bt&&r.jsx(IBt,{editor:s,playSettingsComponents:ct(Ta),cameraComponents:ct(So)}),y&&!lt&&r.jsx(LBt,{editor:s,settingsComponents:ct(On)})]})}),rVt=({editor:s})=>{const{selectionController:t,accessController:e}=s;if(!e.isEditor)return null;const{selectedCollection:i}=t,n=i.sceneEntities,o=n.size,[a]=n;return M(()=>(a==null?void 0:a.components.size)||0).get(),r.jsx(r.Fragment,{children:o<1?r.jsx(nVt,{editor:s}):r.jsx(oVt,{editor:s})})},aVt=A(rVt),lVt=({editor:s})=>{let t=null;switch(s.activeTool.id){case R.tool.MESH_SELECT:t=r.jsx(lNt,{editor:s,meshController:s.meshController});break;case R.tool.HISTORY:t=r.jsx(hNt,{historyController:s.historyController});break;case R.tool.COMMENTS:t=r.jsx(rz,{editor:s});break;default:t=r.jsx(aVt,{editor:s});break}if(!s.isUIVisible||window.innerWidth<I_)return null;const e=s.preferencesController.get("rightPanelWidth");return r.jsx(uc,{className:"shrink grow-0",style:{flexBasis:e,maxWidth:e},children:r.jsx(Io,{className:"scrollbar-hide flex flex-col bg-gray-100",children:t})})},cVt=A(lVt);function hVt(s){return r.jsxs("div",{id:"banner",children:[r.jsx("img",{id:"banner-image",src:O_,alt:""}),r.jsx("div",{id:"banner-body",children:r.jsx(Ze,{children:s.body})}),r.jsx(Tn,{dataTestId:"continueToSignInButton",mode:"primary",text:s.buttonText,onClick:s.buttonOnClick})]})}const dVt=({editor:s})=>{const t=Ri(),e=Sm();function i(){t.push(Rt[z.START](),{prevPathName:e.pathname})}return s.accessController.isGuest?r.jsx(hVt,{body:"Create an account or sign in to collaborate on Bezi",buttonText:"Continue",buttonOnClick:i}):null},Zz=A(dVt),A0=(s,t={})=>{const e=new Set;for(const n of s)e.add(n.type);const i={...t,types:Array.from(e)};return console.log("state-new payload",i),i};function uVt({editor:s,statesComponents:t}){const e=m.useMemo(()=>t[0],[t]),i=m.useMemo(()=>{const f=e.entity.compo.isInstance,p=e.entity.compo.isRoot,g=e.entity.parent;let _=!1,v=!1;return g&&(g.compo.componentID!=null&&(_=!0),v=g.compo.isInstance),f&&(!p||_&&v)},[e.entity.compo.isInstance,e.entity.compo.isRoot,e.entity.parent]),n=new Set(t.map(f=>f.entity.id)),o=m.useMemo(()=>{var f;if(e.entity.isPartOfFrame){let p=null;for(const g of t){const _=(f=g.entity.getComponent(Uh))==null?void 0:f.frame;if(!_)break;if(p&&p!==_){p=null;break}p=_}return p}return null},[t,e]),a=m.useMemo(()=>{if(o){const f=o.entity.getComponent(Xb);if(f.stateIds.length>0)return f}return null},[o]),l=m.useCallback((f,p)=>{s.stateController.recordBefore({action:f,ids:p})},[s.stateController]),c=m.useCallback((f,p,g)=>{f.dispatch({action:p,ids:g}),s.stateController.recordAfter({action:p,ids:g})},[s.stateController]),h=m.useCallback(f=>{if(!(t.length<=0)){l(P.ACTIVE_STATE,n);for(const p of t)p.setActiveState(f);c(s.stateController.signals.activeState,P.ACTIVE_STATE,n)}},[t]),d=m.useCallback(f=>{a&&(l(P.ACTIVE_STATE,new Set([a.entity.id])),a.setActiveState(f),c(s.stateController.signals.activeState,P.ACTIVE_STATE,new Set([a.entity.id])))},[a]),u=m.useCallback((f,p)=>{if(f==null||p.length===0)return;const g=new Set([e.entity.id]);l(P.STATE_METADATA,g),e.renameState(f,p),c(s.stateController.signals.states,P.STATE_METADATA,g)},[c,s.stateController.signals.states,l,e]);return r.jsx("div",{className:"relative w-full overflow-auto rounded-panel bg-panel p-2",children:r.jsx(pe,{children:t[0].stateIds.length>0?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex w-full items-center gap-1",children:[r.jsx("div",{className:"flex h-8 w-4 items-center justify-center",children:r.jsx(hI,{statesComponents:t,handleUpdateActiveState:h})}),r.jsx(cI,{statesComponents:t,active:e.stateId,handleUpdateActiveState:h,isReadOnly:i,handleRenameState:u})]}),r.jsxs("div",{className:"flex flex-shrink-0 items-center justify-end",children:[r.jsx(a4,{editor:s,statesComponents:t}),r.jsx(r4,{editor:s,statesComponents:t})]})]}):o&&a?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex h-8 w-4 items-center justify-center",children:r.jsx(hI,{statesComponents:[a],handleUpdateActiveState:d})}),r.jsx(K,{className:"text-regular w-16 text-t-secondary",children:`(${o.entity.name})`}),r.jsx(cI,{statesComponents:[a],active:a.stateId,handleUpdateActiveState:d,isReadOnly:!0,handleRenameState:()=>{},className:"!w-16"})]}),r.jsxs("div",{className:"flex flex-shrink-0 items-center justify-end",children:[r.jsx("div",{className:"mr-2 h-12 w-0.5 bg-border"}),r.jsx(a4,{editor:s,statesComponents:t}),r.jsx(r4,{editor:s,statesComponents:t})]})]}):r.jsxs(r.Fragment,{children:[r.jsx(K,{weight:"strong",className:"pl-2",children:"States"}),!i&&r.jsxs("span",{className:"flex",children:[r.jsx(a4,{editor:s,statesComponents:t}),r.jsx(r4,{editor:s,statesComponents:t})]})]})})})}const r4=A(({editor:s,statesComponents:t})=>{const e=new Set(t.map(a=>a.entity.id)),i=(a,l)=>{s.stateController.recordBefore({action:a,ids:l})},n=(a,l,c)=>{a.dispatch({action:l,ids:c}),s.stateController.recordAfter({action:l,ids:c})},o=m.useCallback(()=>{if(t.length<=0)return;i(P.STATE_ADD,e);for(const h of t)h.addStateAndInteraction();const{sceneEntities:a}=s.selectionController.selectedCollection,c=A0(a,{fromMiniStateBar:!0});Ft("state-machine-add-state",c),n(s.stateController.signals.addState,P.STATE_ADD,e)},[t]);return r.jsxs(Qi,{children:[r.jsx(As,{onPress:o,"aria-label":"Add state",isDisabled:!s.accessController.hasAccessOf(Z.EDITOR),children:Eo}),r.jsx(Ji,{children:"Add State"})]})}),a4=A(({statesComponents:s,...t})=>r.jsx(Of,{command:de[lo.STATE_MACHINE],"data-tour-step":li.TRY_STATE_MACHINE,...t}));function cI({statesComponents:s,active:t,handleRenameState:e,isReadOnly:i=!1,className:n=void 0}){const o=s[0],a=s[0].getState(t??""),[l,c]=m.useState(),h=t!=null&&a!=null?a.name:"Base State",d=f=>{c(f.target.value)},u=()=>{o.stateId!=null&&(l&&e(o.stateId,l),c(void 0))};return r.jsx("div",{className:W("flex h-8 w-full items-center justify-between",n&&n),children:a?r.jsx(la,{size:"sm",align:"left",value:l??(a==null?void 0:a.name),onChange:d,onSubmit:u,className:"w-full !px-2 !py-3.5","aria-label":"State name input",readOnly:i}):r.jsx(K,{className:"pl-2","aria-label":"State name",children:h})})}const fVt=A(cI);function hI({statesComponents:s,handleUpdateActiveState:t}){const e=m.useMemo(()=>s[0],[s]),i=m.useCallback(()=>{if(s.length<=0)return;const o=e.getNextStateId();t(o)},[s]),n=m.useCallback(()=>{if(s.length<=0)return;const o=e.getPreviousStateId();t(o)},[s]);return r.jsxs("div",{className:"flex h-8 flex-col items-center justify-between",children:[r.jsx("button",{className:"flex h-4 w-4 items-center justify-center rounded-sm hover:bg-secondary",onClick:n,"aria-label":"prev state",children:NR}),r.jsx("button",{className:"flex h-4 w-4 items-center justify-center rounded-sm hover:bg-secondary",onClick:i,"aria-label":"next state",children:La})]})}const pVt=A(uVt);function mVt({editor:s,scene:t}){const e=m.useCallback(c=>{s.stateController.recordBefore({action:c})},[s.stateController]),i=m.useCallback((c,h)=>{c.dispatch({action:h}),s.stateController.recordAfter({action:h})},[s.stateController]),n=m.useCallback(c=>{e(P.SCENE_ACTIVE_STATE),t.states.setActiveState(c),i(s.stateController.signals.sceneActiveState,P.SCENE_ACTIVE_STATE)},[s.stateController.signals.sceneActiveState,t]),o=m.useCallback((c,h)=>{c==null||h.length===0||(e(P.SCENE_STATE_METADATA),t.states.renameState(c,h),i(s.stateController.signals.sceneStates,P.SCENE_STATE_METADATA))},[i,s.stateController.signals.sceneStates,e,t.states]),a=m.useCallback(()=>{e(P.SCENE_STATE_ADD),t.states.addStateAndInteraction();const{sceneEntities:c}=s.selectionController.selectedCollection,d=A0(c,{fromMiniStateBar:!0});Ft("state-machine-add-state",d),i(s.stateController.signals.sceneStates,P.SCENE_STATE_ADD)},[s.stateController.signals.sceneStates,t]),l=m.useMemo(()=>[t.states],[t.states]);return r.jsx(ae,{children:t.states.stateIds.length>0?r.jsxs(pe,{children:[r.jsxs("div",{className:"flex w-full items-center gap-1",children:[r.jsx("div",{className:"flex h-8 w-4 items-center justify-center",children:r.jsx(hI,{statesComponents:l,handleUpdateActiveState:n})}),r.jsx(fVt,{statesComponents:l,active:t.states.stateId,handleUpdateActiveState:n,isReadOnly:!1,handleRenameState:o})]}),r.jsxs("div",{className:"flex flex-shrink-0 items-center justify-end",children:[r.jsx(UM,{editor:s,scene:t}),r.jsx(cs,{onPress:a,label:"Add state",isDisabled:!s.accessController.hasAccessOf(Z.EDITOR),children:Eo})]})]}):r.jsx(pe,{label:"States",children:r.jsxs("span",{className:"flex",children:[r.jsx(UM,{editor:s,scene:t}),r.jsx(cs,{onPress:a,label:"Add state",isDisabled:!s.accessController.hasAccessOf(Z.EDITOR),children:Eo})]})})})}const gVt=A(mVt),UM=A(({scene:s,...t})=>r.jsx(Of,{command:de[lo.STATE_MACHINE],"data-tour-step":li.TRY_STATE_MACHINE,...t})),_Vt=A(({editor:s})=>{if(s.activeTool.id!==it.SELECT||s.activeBottomBar===lo.STATE_MACHINE)return null;const t=s.selectionController.selectedCollection,e=t.sceneEntities;for(const o of t.sceneEntities)if(o.parent!=null&&o.parent.isBodyRigPart)return null;const i=e.size;function n(o){const a=[];return e.forEach(l=>{const c=l.getComponent(o);c&&a.push(c)}),a}return r.jsx(vVt,{className:"w-fit",children:i?r.jsx(pVt,{editor:s,statesComponents:n(Xb)}):r.jsx(gVt,{editor:s,scene:s.sceneController.statefulScene})})}),vVt=A(({children:s,className:t})=>r.jsx("div",{className:W("absolute bottom-[12px] left-1/2 z-panel w-r-panel -translate-x-1/2 rounded border border-border bg-panel",t),children:s}));function yVt(s){return r.jsxs("div",{className:"file-load-container mb-1 flex flex-row items-center justify-center gap-2 rounded p-3",children:[r.jsx(ko,{}),r.jsx(K,{children:`Uploading "${s.filename}"...`})]})}const bVt=()=>r.jsx("div",{className:"status-panel",children:Wh.getStatus().statusItems.map((s,t)=>{switch(s.type){case E3.fileUpload:return r.jsx(yVt,{filename:s.filename,progress:s.progress,total:s.total},t);default:return null}})}),CVt=A(bVt),wVt=s=>{const{editor:t,entities:e}=s,{compo:i}=rWt(t,e),n=e.every(o=>o.type===L.CAMERA);return r.jsxs(r.Fragment,{children:[n&&r.jsx(SVt,{...s}),i.isComponentEntity&&r.jsx(IVt,{...s}),!i.isInstanceRoot&&!i.isComponentEntity&&!i.isInstanceEntity&&!n&&r.jsx(EVt,{...s})]})},xVt=A(wVt),EVt=A(({entities:s,...t})=>{const e=m.useMemo(()=>s[0],[s]),i=m.useMemo(()=>e.isReadOnly,[e]);return r.jsxs("div",{className:"flex w-full items-center",style:{opacity:i?.5:1,pointerEvents:i?"none":"auto"},children:[r.jsx(Of,{command:de[it.MESH_SELECT],...t}),r.jsx(Of,{command:de[Me.COMPONENT_CREATE],...t,children:BR})]})}),SVt=A(({editor:s,entities:t})=>{const e=s.sceneController.cameraController,i=m.useMemo(()=>t[0].getComponent(So),[t]);if(i==null)return null;const n=m.useCallback(()=>{if(i.entity.isReadOnly)return;const a=!i.isViewfinderOn;i.setViewfinderOn(a),a?e.editCamera(i.entity.id):e.stopEditCamera()},[e,i]),o=m.useMemo(()=>i?i.entity.isReadOnly:!1,[i]);return r.jsx("div",{className:"flex w-full items-center",style:{opacity:o?.5:1,pointerEvents:o?"none":"auto"},children:!i.entity.isReadOnly&&r.jsx(cs,{onPress:n,label:"Edit camera",isActive:i.isViewfinderOn,children:wj})})}),IVt=A(({entities:s,...t})=>r.jsx("div",{className:"flex w-full items-center",children:r.jsx(Of,{command:de[it.MESH_SELECT],...t})})),AVt=({editor:s})=>{const e=s.selectionController.selectedCollection.sceneEntities;return r.jsx("div",{className:"mesher-toolbar",children:r.jsx(xVt,{editor:s,entities:Array.from(e)})})},TVt=A(AVt),PVt=({editor:s})=>{const[t,e]=m.useState(""),i=m.useCallback(o=>{e(o.target.value)},[]),n=m.useCallback(()=>{s.fileController.setTitle(t)},[s.fileController,t]);return m.useEffect(()=>{e(s.fileController.title)},[s.fileController.title]),r.jsx(la,{className:"toolbar-title",value:t,onChange:i,onSubmit:n,readOnly:!s.accessController.isEditor})},OVt=A(PVt),MVt=({editor:s})=>{const n=s.selectionController.selectedCollection.sceneEntities.size?r.jsx(TVt,{editor:s}):r.jsx(OVt,{editor:s});return!s.isUIVisible||s.activeTool.id!==R.tool.SELECT?null:r.jsx("div",{className:"toolbar",children:n})},LVt=A(MVt),RVt=s=>s.editor.presenceController.followee?r.jsx(jVt,{...s}):r.jsx(DVt,{...s}),NVt=A(RVt),jVt=A(({editor:s})=>{var i;const{presenceMap:t,followee:e}=s.presenceController;if(e!=null){const{sessionID:n,profileID:o}=e,a=ji(o),l=t.get(n);if(l){const c=(i=Xl[l.color])==null?void 0:i.BACKGROUND,h=(a==null?void 0:a.fullName)??"Guest";return r.jsx(Kz,{style:{background:c},children:r.jsx(qz,{style:{background:c},children:r.jsxs(K,{className:"!text-white",children:["Following ",h]})})})}}return null}),DVt=A(({editor:s})=>{const t=m.useCallback(()=>{s.sceneController.cameraController.stopEditCamera()},[s.sceneController.cameraController]);if(s.sceneController.cameraController.editedCameraId!=null){const e=s.sceneController.cameraController.selectedCamera;if(e!=null){const i=Kh;return r.jsx(Kz,{style:{background:i},children:r.jsxs(qz,{style:{background:i},children:[r.jsx(K,{className:"!text-gray-100",children:`Editing ${e.entity.name}`}),r.jsx("button",{onPointerUp:t,children:r.jsx("div",{className:"!text-gray-100",children:_ot})})]})})}}return null}),Kz=({children:s,...t})=>r.jsx("div",{className:"absolute h-[4px] w-full",...t,children:s}),qz=({children:s,...t})=>r.jsx("div",{className:"absolute left-1/2 top-4 flex -translate-x-1/2 items-center justify-center gap-1 rounded-[100px] px-2 py-1",...t,children:s}),FVt=A(()=>{const s=Sm(),t=Pt(),{editor:e,setEditor:i,passwordController:n}=t,o=ji(),{params:a}=MI(),l=n.isPasswordProtected,c=n.isPasswordValid;return m.useEffect(()=>{var d;if(!o||e!=null)return;const h=new Xf(a.fileID,t,o,(d=s.state)==null?void 0:d.startWithTemplateLibrary);return window.history.replaceState({},document.title),t.authController.auth.isDev&&Object.defineProperty(window,"editor",{value:h,writable:!1,configurable:!0}),h.init(),i(h),()=>{delete window.editor}},[o,s.state]),m.useEffect(()=>{if(e)return()=>{e.dispose(),i(null)}},[e,i]),l&&!c&&e&&e.accessController.accessLevel<Z.VIEWER?r.jsx(Fj,{file:a.fileID,onPasswordValidated:()=>{}}):e&&e.accessController.hasBeenInitialized?r.jsx(r.Fragment,{children:e.accessController.isGuest?r.jsx(BVt,{editor:e}):r.jsx(kVt,{editor:e})}):null}),BVt=A(({editor:s})=>r.jsxs("div",{className:"flex h-full w-full flex-col bg-gray-100",children:[r.jsxs(uc,{children:[r.jsx(Qz,{editor:s}),r.jsx(R1,{className:"overflow-y-auto",children:r.jsx(Jz,{editor:s})}),r.jsx(Zz,{editor:s}),r.jsx(G8,{})]}),r.jsx($z,{editor:s})]})),kVt=A(({editor:s})=>r.jsxs("div",{className:"flex h-full w-full flex-col bg-gray-100",children:[r.jsxs(uc,{children:[r.jsx(Qz,{editor:s}),r.jsxs(R1,{className:"relative overflow-y-auto",children:[r.jsx(VVt,{editor:s}),r.jsx(GVt,{editor:s}),r.jsx(Lf,{children:r.jsx(_4,{resizeDirection:kc.RIGHT,preferenceKey:"leftPanelWidth",dimensions:wf.SIDE,editor:s})}),r.jsx(Jz,{editor:s}),r.jsx(Lf,{children:r.jsx(_4,{resizeDirection:kc.LEFT,preferenceKey:"rightPanelWidth",dimensions:wf.SIDE,editor:s})}),r.jsx(cVt,{editor:s}),r.jsx(_Vt,{editor:s})]}),r.jsx(wC,{children:s.activeBottomBar!=null&&r.jsx(_4,{resizeDirection:kc.UP,preferenceKey:"bottomPanelHeight",dimensions:wf.BOTTOM,editor:s})}),r.jsx(zOt,{editor:s})]}),r.jsx($z,{editor:s})]})),Qz=A(({editor:s})=>r.jsxs(r.Fragment,{children:[r.jsx(BLt,{editor:s}),r.jsx(LVt,{editor:s})]})),GVt=A(({editor:s})=>{if(!s.isUIVisible||window.innerWidth<I_)return null;const t=s.preferencesController.get("leftPanelWidth");return r.jsxs(uc,{className:"shrink grow-0",style:{flexBasis:t,maxWidth:t},children:[r.jsx(tNt,{editor:s}),r.jsx(wC,{}),r.jsx(PRt,{editor:s})]})}),VVt=A(({editor:s})=>!s.isUIVisible||window.innerWidth<I_||!s.isShortcutsPanelVisible?null:r.jsxs(r.Fragment,{children:[r.jsx(uc,{className:"min-w-[var(--left-panel-width)] max-w-[var(--left-panel-width)] ",children:r.jsx(hgt,{editor:s})}),r.jsx(Lf,{})]})),Jz=A(({editor:s})=>{const t=s.getOrCreateRenderer(Jn.MAIN);return r.jsxs(Io,{className:"overflow-hidden",style:{flexGrow:4},children:[r.jsx(I3,{viewportType:Jn.MAIN,editor:s,renderer:t}),r.jsx(NVt,{editor:s}),r.jsx(Pat,{editor:s}),r.jsx(Umt,{editor:s}),r.jsx(pB,{editor:s})]})}),$z=A(({editor:s})=>r.jsxs(r.Fragment,{children:[r.jsx(HVt,{editor:s}),r.jsx(mgt,{editor:s}),r.jsx(wMt,{editor:s}),r.jsx(CVt,{}),r.jsx(BMt,{editor:s}),r.jsx(zU,{editor:s}),r.jsx(vB,{fileSettingsController:s.fileSettingsController}),r.jsx(Hpt,{integrationsController:s.integrationsController}),r.jsx(kpt,{fileSettingsController:s.fileSettingsController}),r.jsx(sRt,{}),r.jsx(Dmt,{editor:s})]})),HVt=A(({editor:s})=>r.jsxs(r.Fragment,{children:[r.jsx(S8,{controller:s}),r.jsx(wA,{editor:s})]})),UVt=()=>r.jsx(FVt,{});function gC(){const{search:s}=Sm();return m.useMemo(()=>new URLSearchParams(s),[s])}function $8(s){const t=gC();return m.useMemo(()=>s.map(i=>t.get(i)),[s,t])}const zVt="_editor_1885i_1",YVt="_editorView_1885i_6",WVt="_publisherToolbar_1885i_12",Nw={editor:zVt,editorView:YVt,publisherToolbar:WVt},zM="!h-8 bg-panel overflow-hidden min-w-[40px] flex items-center",YM="!bg-gray-70 !text-primary";function XVt({cameraComponent:s,cameraStates:t,selected:e,items:i,handleBookmarkClick:n}){return t.stateIds.filter(a=>a!==an&&a!==Hp).length===0?r.jsx("div",{className:W(zM,"px-4 hover:bg-hovered",{[YM]:e}),onClick:()=>n(s,ys),"aria-hidden":"true",children:r.jsx(K,{className:"truncate",color:e?"positive":void 0,children:s.entity.name})}):r.jsx(Ys,{className:W(zM,"!pl-4 pr-2",{[YM]:e}),items:i,selectedKey:t.stateId==null||t.stateId===an||t.stateId===Hp?ys:t.stateId,onSelectionChange:a=>{n(s,a)},selectChevronVariant:e?"active":void 0,"aria-label":"Camera bookmark",children:a=>r.jsx(se,{id:a.id,textValue:a.text})})}function ZVt({sceneController:s,isReadOnly:t}){const e=s.cameraController.sortedCamerasArray,i=s.cameraController.playModeCameraId,n=(a,l)=>{s.cameraController.setPlayModeCamera(a,l)},o=a=>{const l=a.entity.name,c=s.cameraController.getStatesComponentForCamera(a);return s.cameraController.getSortedCameraStates(a).filter(({isBookmark:d,stateId:u})=>d&&(u===ys||c.getState(u)!=null)).map(({stateId:d})=>{const u=d===ys?null:c.getState(d),f=`${l} (${(u==null?void 0:u.name)??"Base State"})`;return{id:d,key:d,text:f}})};return t&&e.length<1?null:r.jsx("div",{className:"bookmarks-toolbar",children:e.map(a=>a.parameters.isBookmark?r.jsx(XVt,{cameraComponent:a,cameraStates:s.cameraController.getStatesComponentForCamera(a),selected:i===a.entity.id,items:o(a),handleBookmarkClick:n},a.entity.id):null)})}const tY=A(ZVt),KVt=({onClickReset:s,playController:t})=>{const e=m.useRef(null),[i,{toggleOn:n,toggleOff:o}]=ss(),{authController:{auth:{isDev:a}}}=Pt(),l=m.useCallback(()=>{Hs.open({content:r.jsx(QU,{editor:t}),option:{ref:e,onClose:o}}),n()},[t,n,o]),c=h=>{switch(h){case"desktop":break;case"headset":Bt.open({content:r.jsx(JU,{editor:t}),option:{outClickHide:!0,size:"auto"}});break;case"mobile":Bt.open({content:r.jsx(ZU,{editor:t}),option:{outClickHide:!0,size:"auto"}});break}};return r.jsxs("div",{className:"flex",children:[a&&r.jsx(qi,{text:"Beta features",children:r.jsx(Tn,{icon:TR,"data-posthog":"early-access"})}),r.jsx(cs,{label:"Reset",onPress:s,size:"md",children:Wy}),Yd?r.jsx(B8,{editor:t}):r.jsx(k8,{editor:t}),r.jsx(nI,{hasMainButton:!1,variant:"secondary",label:"Open in",devices:["headset","mobile"],onClick:c}),r.jsx("div",{ref:e,children:r.jsx(Tn,{selected:i,disabled:i,mode:"primary",text:"Share",ariaLabel:"Share",onClick:l,className:"m-1 !h-8 rounded !px-2"})})]})},qVt=({playController:s})=>{var f;const[t,e]=m.useState(!1),i=m.useRef(null);m.useEffect(()=>{if(!t)return;const p=g=>{i.current!=null&&i.current.contains(g.target)==!1&&e(!1)};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[t]);const n=()=>{e(!t)},o=Ri(),a=m.useCallback(()=>{var g;const p=s.fileController.team;p?o.push(Rt[z.TEAM](p.id)):s.fileController.creator===((g=s.profile)==null?void 0:g.id)?o.push(Rt[z.DRAFTS]()):o.push(Rt[z.DEFAULT]())},[o,s.fileController.creator,s.fileController.team,(f=s.profile)==null?void 0:f.id]),l=()=>{o.push(Rt[z.FILE](pi.fileID))},c=p=>{s.resetAnimations()},h="h-10 text-left w-full p-3 hover:bg-lime/20 active:bg-lime/10",d=de[it.COMMENTS],u=()=>{const p=s.activeTool.id===it.COMMENTS?it.PLAY_MODE_INTERACTION:it.COMMENTS;wt(p)};return r.jsxs(r.Fragment,{children:[r.jsxs(XU,{editor:s,children:[r.jsxs("div",{className:"flex flex-row items-center",children:[r.jsx(qi,{text:"Menu",children:r.jsx(Tn,{icon:AR,cornered:!0,onClick:n,selected:t})}),r.jsx(qi,{text:"Comments",children:r.jsx(Tn,{icon:d.icon,onClick:u,selected:s.activeTool.id===it.COMMENTS})})]}),r.jsx(KVt,{onClickReset:c,playController:s}),r.jsx("div",{className:"absolute left-[50%] z-panel -translate-x-[50%] py-3 text-body1",children:s.fileController.title})]}),s.sceneController.showBookmarks&&r.jsx("div",{className:`toolbar ${Nw.publisherToolbar} !top-10`,children:r.jsx(tY,{sceneController:s.sceneController,isReadOnly:!0})}),t&&r.jsxs("div",{ref:i,className:"absolute left-3 top-10 z-panel w-65 rounded-b-lg border-x border-b border-solid border-gray-70 bg-gray-90 shadow-menu",children:[r.jsxs("button",{className:`${h} flex flex-row items-center`,onClick:a,children:[r.jsx(Oi,{icon:yR,className:"mr-2 h-6 w-6 p-1"}),r.jsx(K,{children:"Back to files"})]}),r.jsx("button",{onClick:l,className:`${h} rounded-b-lg`,children:r.jsx(K,{className:"ml-8",children:"View as file"})})]})]})},QVt=A(qVt),JVt=A(({controller:s})=>s.activeTool.id!==R.tool.COMMENTS?null:r.jsx(uc,{className:"shrink-0 grow-0 basis-[var(--right-panel-width)]",children:r.jsx(Io,{className:"scrollbar-hide flex flex-col bg-gray-100",children:r.jsx(rz,{editor:s})})})),$Vt=A(()=>{const s=Pt(),t=ji(),{params:e}=MI(),[i,n]=m.useState(),o=gC(),a=Ri(),l=s.passwordController.isPasswordProtected,c=s.passwordController.isPasswordValid,{supportType:h,startXRSession:d,currentSession:u}=S3();return m.useEffect(()=>{if(t!=null&&i==null){const f=new f_(e.fileID,s,t);s.authController.auth.isDev&&Object.defineProperty(window,"playModeController",{value:f,writable:!1,configurable:!0}),f.init(),n(f)}},[t]),m.useEffect(()=>{h.has(Vc.SUPPORTED_AR)&&o.has("xr")&&u==null&&i!=null&&d(i,()=>{a.goBack()})},[h]),m.useEffect(()=>{if(i)return()=>i.dispose()},[i]),l&&!c?r.jsx(Fj,{file:e.fileID,onPasswordValidated:()=>{}}):i&&i.accessController.hasBeenInitialized?r.jsxs("div",{className:"flex h-full w-full flex-col bg-gray-100",children:[r.jsxs(uc,{children:[r.jsx(QVt,{playController:i}),r.jsxs(R1,{className:"relative overflow-y-auto",children:[r.jsx(tHt,{editor:i}),r.jsx(Lf,{}),r.jsx(JVt,{controller:i}),r.jsx(Zz,{editor:i}),r.jsx(G8,{isBranded:!1}),i.authController.auth.isDev&&r.jsx(iz,{editor:i,isOverlay:!0})]})]}),r.jsx(pB,{editor:i}),r.jsx(zU,{editor:i}),r.jsx(S8,{controller:i}),r.jsx(wA,{editor:i})]}):null}),tHt=A(({editor:s})=>{const t=s.getOrCreateRenderer(Jn.MAIN,{logarithmicDepthBuffer:!0});return r.jsx(Io,{className:"overflow-hidden",style:{flexGrow:4},children:r.jsx(I3,{viewportType:Jn.PLAY,editor:s,shouldInit:!0,renderSceneOnly:!0,renderer:t})})}),eHt=()=>r.jsx($Vt,{}),sHt=({children:s})=>r.jsx("div",{className:W("relative flex h-full w-full flex-col gap-2 p-6"),children:s}),iv=A(sHt),iHt=({children:s})=>r.jsx("div",{className:"flex items-center justify-between px-2",children:s}),nv=A(iHt),nHt=({children:s})=>r.jsx("div",{className:"flex items-center gap-2.5",children:s}),Qc=A(nHt),oHt=({children:s})=>r.jsx("h2",{className:"text-h3 md:text-h2",children:s}),eY=A(oHt),rHt=()=>{const{route:{routeName:s}}=Pt();return r.jsx(eY,{children:s?ff[s]:"Files"})},_C=A(rHt);var cn=(s=>(s.STARTER="Starter",s.TEAM="Team",s.ENTERPRISE="Enterprise",s))(cn||{}),Vr=(s=>(s.MONTHLY="Monthly",s.YEARLY="Yearly",s))(Vr||{}),ov=(s=>(s.INCOMPLETE="incomplete",s.INCOMPLETE_EXPIRED="incomplete_expired",s.ON_TRIAL="trialing",s.ACTIVE="active",s.PAST_DUE="past_due",s.CANCELED="canceled",s.UNPAID="unpaid",s))(ov||{});const aHt=S.object({id:S.string(),expirationDate:S.string(),payerId:S.string(),planType:S.nativeEnum(cn),subscriberId:S.string(),externalSubscriptionId:S.string(),numberOfSeats:S.number(),status:S.nativeEnum(ov),createdAt:S.string(),updatedAt:S.string()}),lHt=S.object({cancelAt:S.string(),willCancelAtPeriodEnd:S.boolean(),canceledAt:S.string()}),sY=S.object({cancelationData:S.optional(lHt)});S.object({data:sY}).merge(aHt);const cHt={expirationDate:"",externalSubscriptionId:"",planType:cn.ENTERPRISE,status:ov.ACTIVE},hHt={planType:cn.STARTER,expirationDate:"",status:ov.ACTIVE};var iY=(s=>(s.PERSONAL="personal",s.TEAM="team",s))(iY||{});const dHt={[cn.STARTER]:{personal:15,team:3},[cn.TEAM]:{personal:1/0,team:100},[cn.ENTERPRISE]:{personal:1/0,team:1/0}},uHt=[{planLevel:cn.STARTER,pricesByCycleType:{[Vr.MONTHLY]:"Free",[Vr.YEARLY]:"Free"},planDescription:"For individuals and students",planDetails:["Unlimited collaborators","15 personal files","3 files per team","30 MB per file","Unlimited access to headsets and mobile prototypes"]},{planLevel:cn.TEAM,pricesByCycleType:{[Vr.MONTHLY]:"$100",[Vr.YEARLY]:"$80"},priceDescriptionsByCycleType:{[Vr.MONTHLY]:"/seat /mo",[Vr.YEARLY]:"/seat /mo (annual)"},planDescription:"For small to medium teams",planDetails:["Everything in Starter and...","Unlimited personal files","100 files per team","100 MB per file"]},{planLevel:cn.ENTERPRISE,pricesByCycleType:{[Vr.MONTHLY]:"Custom",[Vr.YEARLY]:"Custom"},planDescription:"For medium to large teams",planDetails:["Unlimited files per team","Unlimited MB per file","Org workspace (permissions and user management)","Advanced security","Priority customer success","SSO","SLA/MSA"]}];var nY=Object.defineProperty,fHt=(s,t,e)=>t in s?nY(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,_d=(s,t,e,i)=>{for(var n=void 0,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&nY(t,e,n),n},Sh=(s,t,e)=>(fHt(s,typeof t!="symbol"?t+"":t,e),e);class dl{constructor(t){Sh(this,"_id"),Sh(this,"_subscriberId"),Sh(this,"_externalSubscriptionId"),Sh(this,"_expirationDate"),Sh(this,"_planType"),Sh(this,"_payerId"),Sh(this,"_createdAt"),Sh(this,"_updatedAt"),Sh(this,"_numberOfSeats"),Sh(this,"_status"),Sh(this,"_data"),this._id=t.id,this._subscriberId=t.subscriberId,this._externalSubscriptionId=t.externalSubscriptionId,this._expirationDate=t.expirationDate,this._planType=t.planType,this._payerId=t.payerId,this._numberOfSeats=t.numberOfSeats,this._status=t.status,this._createdAt=t.createdAt,this._updatedAt=t.updatedAt,this._data=t.data,vt(this)}get id(){return this._id}get data(){return this._data}get subscriberId(){return this._subscriberId}set subscriberId(t){this._subscriberId=t}get externalSubscriptionId(){return this._externalSubscriptionId}set externalSubscriptionId(t){this._externalSubscriptionId=t}get payerId(){return this._payerId}set payerId(t){this._payerId=t}get planType(){return this._planType}set planType(t){this._planType=t}get expirationDate(){return this._expirationDate}set expirationDate(t){this._expirationDate=t}get status(){return this._status}set status(t){this._status=t}get numberOfSeats(){return this._numberOfSeats}set numberOfSeats(t){this._numberOfSeats=t}get createdAt(){return this._createdAt}get updatedAt(){return this._updatedAt}set updatedAt(t){this._updatedAt=t}update(t){const e=Object.entries(t);for(const[i,n]of e)this[i]=n}static serialize(t){const{id:e,expirationDate:i,data:n,payerId:o,planType:a,subscriberId:l,externalSubscriptionId:c,status:h,numberOfSeats:d,createdAt:u,updatedAt:f}=t;return{id:e,data:JSON.stringify(n),expirationDate:i,payerId:o,planType:a,subscriberId:l,externalSubscriptionId:c,status:h,numberOfSeats:d,createdAt:u,updatedAt:f}}static deserialize(t){const{id:e,data:i,expirationDate:n,payerId:o,planType:a,subscriberId:l,externalSubscriptionId:c,status:h,numberOfSeats:d,createdAt:u,updatedAt:f}=t;let p=null;try{p=i==null||i.length===0?{}:JSON.parse(i),sY.parse(p)}catch(g){return console.error(g),null}return{id:e,data:p,expirationDate:n,payerId:o,planType:a,subscriberId:l,externalSubscriptionId:c,status:h,numberOfSeats:d,createdAt:u,updatedAt:f}}}_d([V],dl.prototype,"_id");_d([V],dl.prototype,"_subscriberId");_d([V],dl.prototype,"_externalSubscriptionId");_d([V],dl.prototype,"_expirationDate");_d([V],dl.prototype,"_planType");_d([V],dl.prototype,"_payerId");_d([V],dl.prototype,"_createdAt");_d([V],dl.prototype,"_updatedAt");_d([V],dl.prototype,"_numberOfSeats");_d([V],dl.prototype,"_status");_d([V],dl.prototype,"_data");var oY=Object.defineProperty,pHt=Object.getOwnPropertyDescriptor,mHt=(s,t,e)=>t in s?oY(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,vC=(s,t,e,i)=>{for(var n=i>1?void 0:i?pHt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&oY(t,e,n),n},l4=(s,t,e)=>(mHt(s,typeof t!="symbol"?t+"":t,e),e);const Bx={[cn.STARTER]:"Starter",[cn.TEAM]:"Team",[cn.ENTERPRISE]:"Enterprise"};class rv{constructor(t){this._store=t,l4(this,"_subscriptionsById",V.map()),l4(this,"_isInitialized",!1),l4(this,"setIsInitialized",e=>{this._isInitialized=e}),vt(this)}get isInitialized(){return this._isInitialized}initTeamSubscriptions(t){if(!this._isInitialized){this._subscriptionsById.clear();for(const e of t){const i=dl.deserialize(e);i!=null&&this._subscriptionsById.set(i.subscriberId,new dl(i))}this._initEnterpriseSubscriptions(),this.setIsInitialized(!0)}}get teamIdsWithSubscriptions(){return new Set(this._subscriptionsByTeamId.keys())}get _subscriptionsByTeamId(){const t=new Map,i=this._store.teamController.allTeamIds;for(const n of this._subscriptionsById.values())n.planType===cn.TEAM&&i.has(n.subscriberId)&&t.set(n.subscriberId,n);return t}getSubscriptionForTeam(t){if(this._subscriptionsByTeamId.has(t))return this._subscriptionsByTeamId.get(t);{const{teamController:e}=this._store,i=e.getTeam(t);return i==null||i.organization==null?void 0:this._subscriptionsById.get(i.organization)}}updateSubscription(t,e){const i=this._subscriptionsById.get(t);if(i==null){console.error("Unable to update subscription with id",t);return}i.update(e)}_initEnterpriseSubscriptions(){var i;const{organizationsController:t}=this._store,e=t.organizations;for(const n of e){const o=((i=t.organizationMemberIdsByOrganizationId.get(n.id))==null?void 0:i.size)??0,a=this._makeEnterpriseSubscription(n,o);this._subscriptionsById.set(n.id,a)}}_makeEnterpriseSubscription(t,e){return new dl({...cHt,id:t.id,data:{},payerId:t.id,subscriberId:t.id,createdAt:t.createdAt??"",updatedAt:t.updatedAt??"",numberOfSeats:e})}}vC([V],rv.prototype,"_subscriptionsById",2);vC([V],rv.prototype,"_isInitialized",2);vC([E],rv.prototype,"setIsInitialized",2);vC([M],rv.prototype,"teamIdsWithSubscriptions",1);vC([M],rv.prototype,"_subscriptionsByTeamId",1);const gHt="https://www.bezi.com/contact-sales",_Ht=s=>{const{planLevel:t,priceText:e,priceSubText:i,planDescription:n,planDetails:o,isCurrentPlan:a,isSelected:l,isDisabled:c,isAdmin:h,onSelect:d}=s;let u="";a?u="Current Plan":l?u=h?"Select Plan":"Contact your team admin":t===cn.ENTERPRISE&&(u="Contact Sales");const f=()=>{d(t)};return r.jsxs("div",{className:W("w-80 rounded-lg border border-solid p-8",l&&"border-primary/25 bg-primary/10",!l&&"border-white/20 bg-white/10"),children:[r.jsx("div",{className:"mb- mb-6 text-h3 font-bold text-text",children:Bx[t]}),r.jsxs("div",{className:"mb-5 text-h2 font-bold",children:[e,i&&r.jsxs("span",{className:"text-body1 text-t-secondary",children:[" ",i]})]}),r.jsx(Ze,{className:"font-bold",children:n}),r.jsxs(Tt,{variant:l?"primary":"secondary",disabled:c,className:"my-6",labelClassname:"flex items-center justify-center gap-1",onClick:f,children:[a?ps:void 0,u]}),o.map(p=>r.jsxs("div",{className:"mb-3 flex flex-row items-center justify-start gap-3 [&>svg]:shrink-0",children:[r$,r.jsx(Ze,{children:p})]},p))]})},rY=({currentPlanLevel:s,onContinue:t,isAdmin:e})=>{const[i,n]=m.useState(Vr.YEARLY),o=c=>{c===cn.ENTERPRISE?window.open(gHt):t(c,i)},a=c=>{n(c?Vr.YEARLY:Vr.MONTHLY)},l=()=>{Bt.close()};return r.jsxs("div",{className:"rounded-panel bg-panel p-8",children:[r.jsx(As,{className:"absolute right-2 top-2",onPress:l,children:po}),r.jsxs("div",{className:"mx-auto text-center",children:[r.jsx("div",{className:"mb-2 text-h3 font-bold",children:"Select a plan that's right for you"}),r.jsxs("div",{className:"mb-6 flex items-center justify-center gap-2",children:[r.jsx(Ze,{className:"text-t-secondary",children:"Annual discount (save 20%)"}),r.jsx(H0,{isOn:i===Vr.YEARLY,onToggle:a})]})]}),r.jsx("div",{className:"flex flex-row items-stretch gap-5 p-2",children:uHt.map(c=>r.jsx(_Ht,{onSelect:o,...c,priceText:c.pricesByCycleType[i],priceSubText:c.priceDescriptionsByCycleType&&c.priceDescriptionsByCycleType[i],isCurrentPlan:c.planLevel===s,isSelected:c.planLevel!==cn.ENTERPRISE&&c.planLevel!==s,isDisabled:c.planLevel===s||!e&&c.planLevel===cn.TEAM,isAdmin:e},c.planLevel))})]})},WM=s=>{const{percentage:t,className:e,isError:i,label:n,labelClassName:o}=s;return r.jsxs("div",{className:e,children:[r.jsx("div",{className:W("h-1 w-full rounded-full bg-white/20"),children:r.jsx("div",{className:W("h-1 rounded-full",{"bg-orange":i,"bg-lime":!i}),style:{width:`${t}%`}})}),n&&r.jsx(K,{className:W("mt-1",o),children:n})]})},aY=s=>{var D;const{billingApi:t}=Pt(),{subscriptionData:e,teamFilesUsed:i,profileId:n,team:o,numberOfMembers:a,isAdmin:l}=s,{planType:c,expirationDate:h,status:d,data:u}=e;if(c===cn.ENTERPRISE)return null;const f=d===ov.INCOMPLETE,p=(u==null?void 0:u.cancelationData)!==null&&((D=u==null?void 0:u.cancelationData)==null?void 0:D.canceledAt)!=null,g=c!==cn.STARTER,_=dHt[c][iY.TEAM],v=g?`Your subscription ${p?"expires":"renews"} on ${new Date(h).toLocaleDateString()}`:"Ready to upgrade your plan? Upgrade to get access to more team files, storage, and other premium features.",y=i>=_,b=Math.min(i/_*100,100),C=()=>{if(f)return null;const B=r.jsx(WM,{percentage:b,isError:y,label:`${i} / ${_} team files used`,labelClassName:W({"text-orange font-bold flex-1":y})});if(c===cn.TEAM){const F=a,k=e.numberOfSeats??1,Y=Math.min(F/k*100,100),G=F>k;return r.jsxs("div",{className:"grid w-full grid-flow-col grid-cols-2 gap-3",children:[B,r.jsx(WM,{percentage:Y,isError:G,label:`${F} / ${e.numberOfSeats??1} seats assigned`,labelClassName:W({"text-orange font-bold flex-1":G})})]})}return B},x=f?"Your subscription payment is processing":`This team is currently on the ${Bx[c]} Plan`,I=async(B,F)=>{await t.goToPlanUpgradeCheckout(o,F,"team-subscription-settings")},O=()=>{Ft("view-plans"),Bt.open({content:r.jsx(rY,{onContinue:I,currentPlanLevel:c,isAdmin:l}),option:{size:"auto"}})},T=async()=>{Ft("manage-subscription");const B=await t.getCustomerPortalUrl(window.location.toString(),n);U.debug(`Redirecting to: ${B}`),window.location.href=B};return r.jsxs("div",{className:"flex flex-row flex-wrap items-center justify-between py-2",children:[r.jsxs("div",{className:"mb-4 w-94",children:[r.jsx(Ze,{className:"mb-3.5 font-bold",children:x}),C(),r.jsx(K,{className:"mt-3 text-t-secondary",nowrap:!0,children:f?"Your subscription payment is currently processing. Updates could take up to 15 minutes to reflect in your account.":v})]}),!f&&!g&&r.jsx(Tt,{variant:"auto",labelClassname:"flex flex-row items-center justify-end gap-1",onClick:O,children:r.jsx(K,{children:"View plans"})}),l&&!f&&g&&r.jsxs(Tt,{variant:"auto",labelClassname:"flex flex-row items-center justify-end gap-1",onClick:T,children:[r.jsx(K,{children:"Manage subscription"}),r.jsx("span",{className:"text-t-secondary hover:text-white",children:Tb})]})]})},lY=s=>{const{planLevel:t,className:e,size:i}=s;if(t!==cn.STARTER)return null;const n=i==="sm";return r.jsx("div",{className:W("rounded-full bg-white/10",e,{"px-2 py-1":n,"p-3":!n}),children:n?r.jsx(K,{children:Bx[t]}):r.jsxs(Ze,{className:"font-bold text-text",children:[Bx[t]," Plan"]})})},vHt=({className:s,style:t,...e})=>r.jsxs("div",{className:W("relative m-3 flex h-0 flex-grow flex-col items-center justify-center border border-dashed border-white/40",s),style:t,...e,children:[r.jsx("div",{className:"w-40",children:S5}),r.jsx("p",{className:"mt-7 text-body1 text-white/40",children:"No projects yet"})]}),yHt=m.memo(vHt),bHt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHwAAAB8CAYAAACrHtS+AAAACXBIWXMAAAInAAACJwG+ElQIAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAdCSURBVHgB7Z1NbFRVFMdPLRISWq3UxFJNGZSERBNsA5GFms7ElUEp7Aws2i4Qw8IUwsaNnboRYtTpSmVDMSm4o3ypiYuOUhJjIB0gIZmkhrbBtiRCp7YE2oLj/N/4XmeGTmnpu/ed4Zxf8nj3zbRD0t+c8+7nu2XpDKSI4SlSRKHChaHChaHChaHChaHChaHChaHChaHChaHChaHChaHChaHChaHChaHChaHChaHChaHChaHChaHChaHChbGClKKkUimKx+POGVRVVTlHOBymUkWFFwC5nZ2djmgc8wHpO3bsoObm5tKTn1Y8YrFYOiMT8/QXfWTEp69fv54uFcrwDwkHUd3a2ko9PT15r1fUhqhmS9g5g5nJFN1OJmjsYjzv5xDxR48edaKeO+KFQ3YkEqFEIuG9Bsn1e9ud83xMjQw60hPfdThll66uLifNc0a8cEQ2RIGVlVWO6Fd3ty3qdyG7r701L+L7+/upvr6euMJe+ODgIJni1KlT1NY2J3f7D/20ZuPSZfV92kIDZ4455VAo5EhHmucIW+EQjegrVlP2mzcOfr3oyC4E9/bTHzR46T0ajVJ7eztxhKVwyMZ91WR054KoRnQvB6T1n/dEnDKie3x8nDjCrh1eTHaoopxCq8vJD1IzaUqMz3rXuG8vF1TwcEC822HDsY3OSvhCkR3dtJqaX15FfhC/OUuRX7IRiIpaXcSf5hQ+x63AoX7AUTibvnQ0i3Jlh6pXUsvWNWSax6mkFaNmc6NXtnU7WioshM8nu/fjDc7ZNG6nih8gW7i4/e/cCFy4K9v9A3my15iXLZFAhXOQjSYVx88yRWDCuUQ2+sZNfBbX3rZAhHNK426/uB+MXfrVKzc2NhJHrAvneM92u0WXA744A6e7vGuu4+RWhXOtoEHUcqMcI2cuLS0tbPvSrQrfuXMn29o4Rr1yhzqXAmS70Q3RXPvRgTXhiO6H2tmMml6Qjb7wpUqH7MS3Ue8asjFixhVrwnM7IsIbKli2syEbo17Xjnc+8mfdwZJC2bnDrRzRSYwFoC39xxdtdK075gyG1IWbvB40vDc1OkTDvT0P3fNx38bBHRVeBLfWnVvzXgjMmnFnzqANjrSOOW5onnFK8boQwQCor2BCJCJ+/fr1TsvE1kSORyE+wmvXraItby2/CTU5cd87klem8t5z57ijbY7ZrUFGvHjhkB39ZiP5iSv9zPGbdKkvRSND95zXIR0RH+QUKE3pBqh8dgVtebuKOjJfpLNXtzpfKGQSFwhvaGgIZMxchVtg++4aOtG3mXbte8l7rXAOgC1UuCUQ9QcPvUJfHn/NKQPbkzWBCrdM5L3n6cSFzV6Kh2x0OdtChQdAbd0qOnLudS/Skd73799PNlDhAQHpSO8usVjMSltdhQcIavK5FbmOjg4yjQoPmL2frPNS+0IPIfALFR4wkG0zylU4A3btezEvyk3OaVfhDIDs9zOdMy7Hji1/jl0xVDgTwtuqvXLu0yj8RoUzYeOmCq9ssuKmwpmAtI62OUDvm6n7uApnRO6ImgoXwNo6FS4WFS6A0eF7XtnUNCgVzojJ1H2vbGqpkgpnRPJqdvKj+9RmE6hwJlw8P+GVTa4tV+FMiJ/72yubfEivCmdC/OyccJMPE1DhDDjdPUYj/9fQUTvXlP6Ec+TzIa9seoGCCg+Ywug2vQJVhQcIliDZjG6gwgMCnSwfbrvsRbet9eUqPAAKZSOV21pcqMItgzQO2bm9aidPnrS2hFiFWwS9aYWysV7c5lMb9ZEfFkBUR/clM8Lnhjwhu7e31/ojOlW4IXCfTl69Q0cODeaJBkHJBiUjHLsY+LU7y+CdB14ZFSe0hf1gdHjaGdNGyi587IdLkLIBa+GJG3e9ctefd53DbxB9hRFoiqBlA7aVttbuYeq5MkFPChxkA5YRDtldv9/2rrc/Q1T7NPlCMtP07b0zd1294Wmqe9OfzXMqXyinlRVlVLF2Bf12OEW3B7I7J3GRDdgJL5S9t5roI5/2uklOE3XnbCcG2e9+Ve1I8ouZqTT9eOAWS9mAVUo3LXvPjUzt+d/stUTZgI1wlW0HFsJVtj0CF66y7RKocJuyK2vK6Z3PnvNV9tTYg5KSDQKrpduWjciuqPFns1owdOEenT88kYnw7H9SCrJBIMLRoZK6O9e96afskUywHRg1J3ssMUP930/SaObsgqFNDHFylw0CEW5S9p6/smfgh2zco5GyRy9P0/CFabo1MJv3PodHYi+FwDtezvyTPfxg8sFcZIPpjKyfMvfYxwW/76bsQtzdi7jvcVKINeHF1kqNzJIxIGtminwFabupqckRzXVvsoWwJhwpDwfXfbXnw13UB8lYDYIz1x0HF0tZOu3XKLNSCuicNmGocGGocGGocGGocGGocGGocGGocGGocGGocGGocGGocGGocGGocGGocGGocGGocGGocGGocGGocGGocGGocGGocGGocGGocGH8Bw3VaV06yUneAAAAAElFTkSuQmCC",CHt=()=>{const{profileApi:s}=Pt(),[t,e]=m.useState(""),[i,n]=m.useState(),o=m.useCallback(async()=>{if(!t)return;const l=await s.getProfile(t);n(l)},[s,t]),a=m.useCallback(l=>{e(l.target.value),n(void 0)},[]);return r.jsxs(dn,{className:"gap-4",title:"Dev Tool",submitActionLabel:"Look Up",onSubmit:o,isDisabledSubmit:!t,isHiddenClose:!0,children:[r.jsx(Mi,{placeholder:"Profile ID Lookup",value:t,onChange:a,onSubmit:o,autoFocus:!0,required:!0}),i&&r.jsxs(r.Fragment,{children:[r.jsx("p",{children:i.fullName}),r.jsx("p",{children:i.email})]})]})},wHt=m.memo(CHt);var dI;(s=>{async function t(e){try{return await oq(e),{success:!0,data:e}}catch(i){return U.error("Error changing password",i),{success:!1,errors:EHt(xHt(i))}}}s.changePassword=t})(dI||(dI={}));function xHt(s){if(!(s instanceof Error))return 1;switch(s.name){case"AuthValidationErrorCode":return 3;case"TooManyRequestsException":return 2;case"InvalidParameterException":return 4;default:return 0}}function EHt(s){const t={formErrors:[],fieldErrors:{}};switch(s){case 0:t.formErrors=["Unknown error. Please try again."];break;case 1:t.formErrors=["Unknown error. Please try again."];break;case 3:t.fieldErrors.oldPassword=["The old password does not match."];break;case 4:t.fieldErrors.oldPassword=["The old password does not match."];break}return t}const SHt=S.object({oldPassword:S.string().nonempty().nonempty("Please provide a current password"),newPassword:E7}),tT=({onSuccess:s,formSchema:t,submitFn:e})=>{const[i,n]=m.useState("idle"),[o,a]=m.useState(),[l]=CC();return{handleSubmit:m.useCallback(async h=>{h.preventDefault();const d=new FormData(h.currentTarget),u=Fb(t,d);if(!u.success){a(u.errors);return}n("processing");const f=await e(u.data);if(!f.success){a(f.errors),n("idle");return}a(void 0),s(u.data,f.data)},[t,s,e]),errors:o,formState:i,focusRef:l,setFormState:n}},IHt=({...s})=>{const{handleSubmit:t,errors:e,formState:i,focusRef:n}=tT(s);return{handleSubmit:t,errors:e,formState:i,focusRef:n}};function AHt({onSuccess:s}){const{handleSubmit:t,errors:e,focusRef:i,formState:n}=IHt({onSuccess:s,formSchema:SHt,submitFn:dI.changePassword}),o=n==="processing";return r.jsxs(d1,{validationErrors:e==null?void 0:e.fieldErrors,onSubmit:t,children:[r.jsxs(h1,{name:"oldPassword",type:"password",isRequired:!0,"aria-label":"Current password",children:[r.jsx(Zc,{ref:i,placeholder:"Current password",variant:"form"}),r.jsx(T_,{})]}),r.jsx(x7,{name:"newPassword",label:"New password"}),r.jsx(f1,{type:"submit",isDisabled:o,children:o?"Resetting password...":"Confirm new password"}),r.jsx(u1,{children:e==null?void 0:e.formErrors})]})}const THt=AHt;var jw=(s=>(s.CONFIRM_PASSWORD="confirmPassword",s.NEW_PASSWORD="newPassword",s.SUCCESS_UPDATE="successUpdate",s))(jw||{});const PHt=()=>{const[s,t]=m.useState(jw.CONFIRM_PASSWORD),e=m.useCallback(()=>{Bt.close()},[]);return s===jw.CONFIRM_PASSWORD?r.jsxs(dn,{className:"gap-4",title:"Change your password",onClose:e,isHiddenClose:!0,children:[r.jsx(THt,{onSuccess:()=>{t(jw.SUCCESS_UPDATE)}}),r.jsx("div",{className:"flex justify-center",children:r.jsx(b7,{onCancel:e})})]}):r.jsx(dn,{className:"gap-4",title:"Success",description:"Your password has been changed.",submitActionLabel:"Done",onSubmit:e,isHiddenClose:!0})},OHt=A(PHt),MHt="_passwordValidation_pcob5_1",cY={passwordValidation:MHt},LHt=()=>{const{profileApi:s}=Pt(),t=ji(),[e,i]=m.useState((t==null?void 0:t.fullName)||""),n=m.useCallback(()=>{Bt.close()},[]),o=m.useCallback(l=>{tst(l.target.value)&&i(l.target.value)},[]),a=m.useCallback(async()=>{!t||!e||(s.updateProfile(t.id,{fullName:e}),await iR({userAttributes:{name:e}}),n())},[t,e,s,n]);return r.jsx(dn,{className:"gap-4",title:"Change name",submitActionLabel:"Save",onSubmit:a,onClose:n,children:r.jsx(Mi,{className:cY.nameChangeTextField,placeholder:"Full Name",value:e,onChange:o,onSubmit:a})})},RHt=A(LHt),NHt=()=>{const{profileApi:s}=Pt(),t=ji(),[e,i]=m.useState((t==null?void 0:t.email)||""),[n,o]=m.useState(""),a=m.useCallback(()=>{Bt.close()},[]),l=m.useCallback(h=>{i(h.target.value)},[]),c=m.useCallback(()=>{if(!t||!i7(e)){o("Please use a valid email address.");return}(async()=>{try{o(""),await iR({userAttributes:{email:e}}),s.updateProfile(t.id,{email:e}),a()}catch(h){String(h).startsWith("AliasExistsException")&&o("Another account already exists with this email")}})()},[t,e,s,a]);return r.jsx(dn,{className:"gap-4",title:"Change email",submitActionLabel:"Save",onSubmit:c,onClose:a,children:r.jsx(Mi,{className:cY.nameChangeTextField,placeholder:"Email",status:n?"error":"normal",statusLabel:n,value:e,onChange:l,onSubmit:c})})},jHt=A(NHt),DHt=hr();var uI;(s=>{async function t(e){const i=await By.deleteProfile(e.profileId);if(!i.success)return{success:!1,errors:By.profileError2ErrorMessage(i.error)};if(e.loginIdP!==qg.COGNITO)return{success:!0,data:i.data};const n=await fI.getAndDeleteUser();return n.success?{success:!0,data:e}:{success:!1,errors:By.profileError2ErrorMessage(n.error)}}s.deleteAccount=t})(uI||(uI={}));var By;(s=>{async function t(i){try{const n=await DHt.graphql({query:fct,variables:{input:{id:i}}}),{errors:o,data:a}=n;return o?(U.error("Error deleting profile",o),{success:!1,error:XM(o[0])}):{success:!0,data:a}}catch(n){return{success:!1,error:XM(n)}}}s.deleteProfile=t;function e(i){const n={formErrors:[],fieldErrors:{}};switch(i){case 0:n.formErrors=["Unknown error. Please try again."];break;case 1:n.formErrors=["Unknown error. Please try again."];break;case 2:n.formErrors=["Too many requests. Please try again later."];break}return n}s.profileError2ErrorMessage=e})(By||(By={}));function XM(s){if(!(s instanceof Error))return 1;switch(s.name){case"TooManyRequestsException":return 2;default:return 0}}var fI;(s=>{async function t(){try{return{success:!0,data:await rq()}}catch(n){return U.error("Error getting current user",n),{success:!1,error:FHt(n)}}}s.getCurrentUser=t;async function e(){const n=await s.getCurrentUser();return n.success?await i():{success:!1,error:n.error}}s.getAndDeleteUser=e;async function i(){try{return await aq(),{success:!0}}catch(n){return U.error("Error deleting user",n),{success:!1,error:BHt(n)}}}s.deleteUser=i})(fI||(fI={}));function FHt(s){if(!(s instanceof Error))return 1;switch(s.name){case"TooManyRequestsException":return 2;case"AuthTokenConfigException":return 0;default:return 0}}function BHt(s){if(!(s instanceof Error))return 1;switch(s.name){case"TooManyRequestsException":return 2;case"AuthTokenConfigException":return 0;default:return 0}}const eT="delete my account";S.literal(eT);const kHt=S.object({profileId:S.string(),loginIdP:S.nativeEnum(qg),confirmationString:S.literal(eT)}),ZM="delete my account",GHt=({...s})=>{const[t,e]=m.useState(!1),{handleSubmit:i,errors:n,formState:o}=tT(s);return{handleSubmit:i,handleChange:l=>{e(l===ZM)},errors:n,formState:o,confirmationString:ZM,isValid:t}};function VHt({onSuccess:s,loginIdP:t,profileId:e}){const{handleSubmit:i,errors:n,formState:o,isValid:a,handleChange:l}=GHt({onSuccess:s,formSchema:kHt,submitFn:uI.deleteAccount}),c=o==="processing";return r.jsxs(d1,{validationErrors:n==null?void 0:n.fieldErrors,onSubmit:i,children:[r.jsx(Zc,{name:"profileId",value:e,type:"hidden"}),r.jsx(Zc,{name:"loginIdP",value:t,type:"hidden"}),r.jsxs(h1,{name:"confirmationString",type:"text",isRequired:!0,"aria-label":"Confirmation text",onChange:l,autoComplete:"off",children:[r.jsx(Zc,{variant:"form"}),r.jsx(T_,{})]}),r.jsx(f1,{type:"submit",isDisabled:c||!a,children:c?"Deleting account...":"Delete account"}),r.jsx(u1,{children:n==null?void 0:n.formErrors})]})}const HHt=VHt,UHt=()=>{const{authController:s}=Pt(),t=ji(),e=m.useCallback(()=>{Bt.close()},[]);if(!t||!s.auth.user)return null;const i=t.id,n=s.auth.user.loginIdP;return r.jsxs(dn,{className:"gap-4",title:"Delete account?",onClose:e,isHiddenClose:!0,children:[r.jsx("p",{children:"Deleting your account will delete the data associated with you. Are you sure you want to permanently delete your account?"}),r.jsx("p",{children:`To confirm, please type "${eT}" below.`}),r.jsx(HHt,{onSuccess:()=>{window.location.assign(Rt[z.SIGN_OUT]())},loginIdP:n,profileId:i}),r.jsx("div",{className:"flex justify-center",children:r.jsx(b7,{onCancel:e})})]})},zHt=m.memo(UHt),YHt=({currentTeam:s,closeActionLabel:t,onSubmitAddMembers:e,onCancelAddMembers:i})=>{const{isProcessing:n,toggleOnIsProcessing:o,toggleOffIsProcessing:a,teamApi:l,teamController:c,subscriptionsController:h}=Pt(),[d,u]=m.useState({0:{},1:{},2:{}}),f=m.useRef(0),p=m.useCallback(()=>{const b=Object.values(d).length;u(C=>({...C,[b]:{}})),f.current=b},[d]),g=m.useCallback(b=>{u(C=>({...C,[parseInt(b.target.name)]:{value:b.target.value}}))},[]),_=()=>{i==null||i()},v=m.useCallback(async()=>{if(!s)return;let b=!0;const C=[];for(const[x,{value:I}]of Object.entries(d)){let O;I?i7(I)?C.push(I):O="Invalid email":O=void 0,O&&(b=!1,u(T=>({...T,[x]:{value:I,error:O}})))}e==null||e(),b&&(o(),await l.inviteTeamMembers(C,s),c.teamFetchTimestamp=Date.now(),Ft("invite new teammates"),a(),Bt.close())},[s,l,c,a,o,d,e]),y=m.useMemo(()=>{if(s==null||s.organization!=null)return null;const b=h.getSubscriptionForTeam(s.id);return(b==null?void 0:b.planType)===cn.TEAM?b:null},[s,h]);return r.jsxs(dn,{title:"Add your collaborators",closeActionLabel:t,isDisabledSubmit:n||!Object.values(d).length,onSubmit:v,onClose:_,children:[r.jsx("p",{className:"text-body2 text-t-secondary",children:"Invite other to join this team. You can control permission settings after inviting them on the Settings page."}),y&&r.jsxs(r.Fragment,{children:[r.jsx(K,{className:"-mb-1 mt-1 font-bold text-t-secondary",children:"Billing for new team members"}),r.jsx("p",{className:"text-body2 text-t-secondary",children:"New team members will be automatically added to your next bill at the end of your monthly billing cycle."})]}),r.jsx("div",{className:"mt-3 flex h-auto max-h-44 w-full flex-col gap-2 overflow-y-auto pr-1",children:Object.values(d).map(({value:b,error:C},x)=>r.jsx(Mi,{placeholder:"Email",name:`${x}`,value:b||"",status:C?"error":"normal",statusLabel:C,onChange:g,onSubmit:v,required:!0,autoFocus:x===f.current},x))}),r.jsx(Tt,{className:"mb-3 mt-2 [&>div]:opacity-60",labelClassname:"!flex-grow-0",variant:"auto",size:"sm",leftIcon:Eo,onClick:p,children:"Add more"})]})},L3=m.memo(YHt),WHt=({shouldRedirect:s=!0,onSubmitNewTeam:t,onCancelNewTeam:e})=>{const i=Ri(),{isProcessing:n,toggleOnIsProcessing:o,toggleOffIsProcessing:a,teamApi:l,authController:c}=Pt(),h=ji(),[d,u]=m.useState(""),f=m.useCallback(()=>{y3(Gi.CREATE_TEAM),e==null||e()},[e]),p=m.useCallback(async()=>{if(!h||!(h!=null&&h.email)||!c.auth.user)return;o();const _=await l.createTeam(d);_&&(Ft("new-team"),a(),Bt.close(),t==null||t(_.id),s!=!1&&(i.push(Rt[z.TEAM](_.id)),Bt.open({content:r.jsx(L3,{currentTeam:_,closeActionLabel:"Skip for now"}),option:{onClose:f}})))},[h,c.auth.user,o,l,d,a,i,f,t,s]),g=m.useCallback(_=>{u(_.target.value)},[]);return r.jsx(dn,{title:"Create a team",description:"You can invite others to join after creating your team.",submitActionLabel:"Create team",isDisabledSubmit:n||!d,onSubmit:p,onClose:f,children:r.jsx(Mi,{className:"my-3",placeholder:"Team name",value:d,onChange:g,onSubmit:p,required:!0,autoFocus:!0})})},hY=m.memo(WHt),XHt=({fileID:s,fileName:t,onClose:e})=>{const{isProcessing:i,toggleOnIsProcessing:n,toggleOffIsProcessing:o,fileApi:a,filesController:l}=Pt(),c=xY(s),h=m.useCallback(()=>{e(),Bt.close()},[e]),d=m.useCallback(async()=>{n(),l.deleteFile(s),await a.deleteFile(s),c&&await yy(c.id),o(),Ft("delete-file"),h()},[a,s,l,h,c,o,n]);return r.jsx(dn,{className:"gap-4",title:`Delete "${t}"?`,description:"This permanently deletes the file and its associated data.",submitActionLabel:"Delete file",submitVariant:"destructive",onSubmit:d,onClose:h,isDisabledSubmit:i})},ZHt=m.memo(XHt),KHt=({teamID:s})=>{const t=Ri(),{isProcessing:e,toggleOnIsProcessing:i,toggleOffIsProcessing:n,authController:o,billingApi:a,teamApi:l,teamController:c}=Pt(),h=m.useCallback(()=>{Bt.close()},[]),d=m.useCallback(async()=>{const _=()=>{be.open({id:`team-delete-error-${s}`,text:"Error deleting team",options:{type:qn.ERROR}})};i();const v=o.auth.profileID;if(v==null){console.error("Unable to delete team, no profile",s);return}let y=!1;try{y=await a.cancelSubscriptions(s,v)}catch(b){console.error("Unable to delete subscription",b),_(),n();return}y?(await l.deleteTeam(s),c.deleteTeam(s)):_(),n(),Ft("delete-team"),h(),t.push(Rt[z.DEFAULT]())},[o.auth.profileID,a,i,l,s,c,n,h,t]),[u,f]=m.useState(""),p=c.getTeam(s),g=_=>{f(_.target.value)};return r.jsxs(dn,{className:"gap-4",title:`Delete ${(p==null?void 0:p.name)??""}?`,submitActionLabel:"Permanently delete team",submitVariant:"destructive",onSubmit:d,onClose:h,isDisabledSubmit:e||u!==(p==null?void 0:p.name),children:[r.jsxs("p",{className:"text-body2 text-t-secondary",children:["This will permanently delete the team ",p==null?void 0:p.name,". Deleting this team will delete all associated data, such as projects, files, prototypes, for all users."]}),r.jsx("p",{className:"text-body2 text-t-secondary",children:"To confirm, enter the name of the team below:"}),r.jsx(Mi,{placeholder:"Enter name of team",size:"sm",className:"mb-1 border border-solid border-border",value:u,onChange:g})]})},qHt=m.memo(KHt),QHt=({onAdd:s})=>{const[t,e]=m.useState("New in Bezi"),[i,n]=m.useState(""),[o,a]=m.useState(""),[l,c]=m.useState(null),[h,{toggle:d}]=ss(!1),u=m.useMemo(()=>t&&l&&i&&o,[t,l,i,o]),f=m.useCallback(y=>{e(y.target.value)},[]),p=m.useCallback(y=>{n(y.target.value)},[]),g=m.useCallback(y=>{a(y)},[]),_=m.useCallback(y=>{c(y)},[]),v=m.useCallback(()=>{!t||!l||!i||!o||(s(t,i,o,l),Bt.close())},[t,l,i,o,s]);return r.jsxs(dn,{title:"Create an announcement",submitActionLabel:"Save",onSubmit:v,isDisabledSubmit:!u,children:[r.jsx("p",{className:"text-body2 opacity-60",children:"Preview (.PNG, .JPG, .JPEG or .GIF) *"}),r.jsx(av,{aspectRatio:"16/9",type:Bh.Image,accept:[Pn.PNG,Pn.JPG,Pn.JPEG,Pn.GIF],onImport:_}),r.jsx("p",{className:"text-body2",children:"Banner *"}),r.jsx(Mi,{size:"sm",placeholder:"Banner",value:t,status:t?"normal":"error",onChange:f,required:!0}),r.jsx("p",{className:"text-body2",children:"Title *"}),r.jsx(Mi,{size:"sm",placeholder:"Title",value:i,status:i?"normal":"error",onChange:p,required:!0}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"text-body2",children:"Description *"}),r.jsx(Tt,{className:"!w-auto",variant:"secondary",size:"sm",onClick:d,children:"Preview"})]}),r.jsx("div",{className:"h-27 w-full",children:h?r.jsx("div",{className:"relative h-full w-full before:pointer-events-none before:absolute before:bottom-0 before:h-1/2 before:w-full before:bg-gradient-to-t before:from-dialog before:content-['']",children:r.jsx(e5,{remarkPlugins:[s5,i5],className:"h-full w-full overflow-auto pb-8 text-body1 text-white/60 [&_a]:underline",children:o})}):r.jsx(G_,{value:o,placeholder:"Description",onChange:y=>g(y.target.value),style:{backgroundColor:"var(--white-a10)"}})})]})},JHt=m.memo(QHt),$Ht=({announcement:s,onEdit:t})=>{const[e,i]=m.useState(s.data.banner),[n,o]=m.useState(s.data.title),[a,l]=m.useState(s.data.description),[c,h]=m.useState(null),[d,{toggle:u}]=ss(!1),f=m.useMemo(()=>e&&n&&a,[e,a,n]),p=m.useCallback(b=>{i(b.target.value)},[]),g=m.useCallback(b=>{o(b.target.value)},[]),_=m.useCallback(b=>{l(b)},[]),v=m.useCallback(b=>{h(b)},[]),y=m.useCallback(()=>{!e||!n||!a||(t(s.id,e,n,a,c),Bt.close())},[e,n,a,t,s.id,c]);return r.jsxs(dn,{title:"Create an announcement",submitActionLabel:"Save",onSubmit:y,isDisabledSubmit:!f,children:[r.jsx("p",{className:"text-body2 opacity-60",children:"Preview (.PNG, .JPG, .JPEG or .GIF) *"}),r.jsx(av,{aspectRatio:"16/9",type:Bh.Image,accept:[Pn.PNG,Pn.JPG,Pn.JPEG,Pn.GIF],onImport:v,initialPreviewUrlKey:s.data.preview}),r.jsx("p",{className:"text-body2",children:"Banner *"}),r.jsx(Mi,{size:"sm",placeholder:"Banner",value:e,status:e?"normal":"error",onChange:p,required:!0}),r.jsx("p",{className:"text-body2",children:"Title *"}),r.jsx(Mi,{size:"sm",placeholder:"Title",value:n,status:n?"normal":"error",onChange:g,required:!0}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"text-body2",children:"Description *"}),r.jsx(Tt,{className:"!w-auto",variant:"secondary",size:"sm",onClick:u,children:"Preview"})]}),r.jsx("div",{className:"h-27 w-full",children:d?r.jsx("div",{className:"relative h-full w-full before:pointer-events-none before:absolute before:bottom-0 before:h-1/2 before:w-full before:bg-gradient-to-t before:from-dialog before:content-['']",children:r.jsx(e5,{remarkPlugins:[s5,i5],className:"h-full w-full overflow-auto pb-8 text-body1 text-white/60 [&_a]:underline",children:a})}):r.jsx(G_,{value:a,placeholder:"Description",onChange:b=>_(b.target.value),style:{backgroundColor:"var(--white-a10)"}})})]})},tUt=m.memo($Ht),eUt=({announcement:s,onRemove:t})=>{const{isProcessing:e,toggleOnIsProcessing:i,toggleOffIsProcessing:n}=Pt(),o=m.useCallback(()=>{i(),t(s.id),n(),Bt.close()},[s.id,t,n,i]);return r.jsx(dn,{className:"gap-4",title:"Delete this announcement?",description:`This permanently deletes "${s.data.title}"`,submitActionLabel:"Continue",submitVariant:"destructive",onSubmit:o,isDisabledSubmit:e})},sUt=m.memo(eUt),iUt=({tutorialId:s,aspectRatio:t})=>r.jsx(lq,{width:"70vw",height:"auto",style:{aspectRatio:`${t}`},url:`https://www.youtube.com/watch?v=${s}`,controls:!0,playing:!0,playsinline:!0}),nUt=m.memo(iUt),oUt=({className:s,style:t,file:e,animate:i=!0,isAdmin:n=!1,...o})=>{var X,q,at,bt,lt,ct;const a=Ri(),{route:{routeName:l},fileApi:c,filesController:h,authController:{auth:{profileID:d,isDev:u}},teamController:f}=Pt(),p=ji(),g=AY(),[_,{toggleOff:v}]=ss(!!e.screenshot),[y,b]=m.useState(!1),[C,x]=m.useState(!1),[I,O]=m.useState(e.title),T=m.useCallback(async()=>{var Cs,He,je;if(!d)throw"User profile invalid.";const nt=l===z.GALLERY,ot=!!((Cs=e.team)!=null&&Cs.id),Et=e.creator===d,Ot=!!f.teamsByID.get(((He=e.team)==null?void 0:He.id)||""),ut=nt||ot&&!Ot||!ot&&!Et,yt=Hr({text:`File "${e.title}" is being duplicated...`,options:{autoHide:!1}},nt?null:{text:"File duplicated",...ut&&{actionText:"Go to drafts",onActionClick:()=>a.push(Rt[z.DRAFTS]())}},{text:"File duplication failed"}),Kt=await c.duplicateFile(d,e.id,ut||(je=e.team)==null?void 0:je.id);if(!Kt.success){yt.fail();return}const ye=Kt.data;return ut||h.addFile(ye),yt.success(),ye},[e.creator,e.id,(X=e.team)==null?void 0:X.id,e.title,c,h,a,d,l,f.teamsByID]),D=m.useCallback(()=>{g(e.id)},[g,e.id]),B=m.useCallback(async()=>{if(l===z.GALLERY)try{const nt=await T();if(!nt)throw Error();a.push(Rt[z.FILE](nt.id))}catch(nt){console.warn("Could not duplicate file",nt)}else a.push(Rt[z.FILE](e.id))},[e.id,T,a,l]),F=m.useCallback(()=>{navigator.clipboard.writeText(`${window.location.origin}/file/${e.id}`)},[e.id]),k=m.useCallback(()=>{b(!0),Bt.open({content:r.jsx(ZHt,{fileID:e.id,fileName:e.title,onClose:()=>b(!1)}),option:{onClose:()=>b(!1)}})},[e.id,e.title]),Y=m.useCallback(()=>{x(!0)},[]),G=m.useCallback(nt=>{O(nt.target.value)},[]),st=m.useCallback(()=>{bD(e.id,I),x(!1)},[e.id,I]),$=m.useCallback(nt=>{var Kt;if(l===z.GALLERY||!p)return;const ot=e.access.general===Z.EDITOR,Et=p.email in e.access.profiles,Ot=d===e.creator,ut=!!f.teamsByID.get(((Kt=e.team)==null?void 0:Kt.id)??""),yt=n||ot&&(Et||Ot||ut);document.dispatchEvent(new PointerEvent("pointerup")),wm.open({coord:{x:nt.clientX,y:nt.clientY},option:{items:[{id:"open",text:"Open",onClick:B},{id:"copy",text:"Copy Link",onClick:F},{id:"duplicate",text:"Duplicate",onClick:T},...u&&Xh==="dev"?[{id:"copyToProd",text:"Copy to prod",onClick:D,status:"warn"}]:[],...yt?[{id:"rename",text:"Rename",onClick:Y,divideBefore:!0},{id:"delete",text:"Delete",status:"error",onClick:k,divideBefore:!0}]:[]]}})},[l,p,e.access.general,e.access.profiles,e.creator,(q=e.team)==null?void 0:q.id,d,f.teamsByID,n,B,F,T,u,D,Y,k]);return r.jsxs("button",{className:W("relativeborder-none bg-noneoutline-none group",y&&"border-1 !border-solid border-tomato",s),style:t,onContextMenu:$,"data-screenshot":e.screenshot,"data-file":e.id,"data-testid":e.id,...o,children:[r.jsx("div",{className:W("flex aspect-video w-full justify-end overflow-hidden bg-canvas",{"animate-file-grid-skeleton-load":i&&_},"rounded"),onClick:B,onKeyDown:()=>{},role:"button",tabIndex:0,"data-screenshot":e.screenshot,"data-file":e.id,children:!!e.screenshot&&r.jsx("img",{className:"transition-transform pointer-events-none h-full w-full object-cover group-hover:scale-125",alt:"",src:e.screenshot,onError:({currentTarget:nt})=>{v(),nt.style.display="none"},onLoad:v,loading:"lazy"})}),r.jsxs("div",{className:"pointer-events-none flex items-center gap-2.5 px-0 pt-3",children:[l===z.GALLERY&&r.jsx("img",{className:"h-9 w-9 rounded-full",src:bHt,loading:"lazy",alt:""}),r.jsxs("div",{children:[r.jsx(la,{className:"pointer-events-none h-5 w-full py-2 font-bold",value:I,onChange:G,onSubmit:st,readOnly:!C,selected:C,sizePadding:0,align:"left",isReceiveHover:!1,isFixedSize:!0}),r.jsx("p",{className:"pl-1 text-left text-body2 text-t-secondary",children:`${d&&!((at=e.team)!=null&&at.name)&&e.creator===d?"Drafts  ":(bt=e.team)!=null&&bt.name?l===z.GALLERY?`Created by ${(lt=e.team)==null?void 0:lt.name}`:`${(ct=e.team)==null?void 0:ct.name}  `:""}${l===z.GALLERY?"":_j(e.updatedAt)}`})]})]})]})},KM=A(oUt),rUt=({className:s,style:t,animate:e=!0,...i})=>r.jsxs("div",{className:W("pointer-events-none relative m-1 border-none bg-none p-2 outline-none",s),style:t,...i,children:[r.jsx("div",{className:W("relative aspect-video w-full overflow-hidden bg-canvas",{"animate-file-grid-skeleton-load":e})}),r.jsx("div",{className:W("relative mt-3 h-9 w-full overflow-hidden bg-canvas",{"animate-file-grid-skeleton-load":e})})]}),aUt=m.memo(rUt),lUt=({className:s,style:t,...e})=>{const[i,n]=B3();return r.jsx("div",{ref:i,className:W("scrollbar-hide relative grid h-0 w-full flex-grow grid-cols-fileGrid place-content-start overflow-y-auto",s),style:t,...e,children:xb(n*3,o=>r.jsx(aUt,{},`loading-file-grid-item-${o}`))})},cUt=m.memo(lUt),hUt={planType:cn.STARTER,expirationDate:"",status:ov.ACTIVE},dUt=()=>{const{route:{routeName:s},filesController:{allFiles:t,allFilesSorted:e},authController:{auth:{profileID:i}},subscriptionsController:n}=Pt(),o=D3(),a=LY(o==null?void 0:o.id),l=m.useMemo(()=>{const u=a.find(f=>f.id===i);return u?u.access===Sa.Admin:!1},[a,i]),{loading:c}=nT(),h=n.getSubscriptionForTeam((o==null?void 0:o.id)??""),d=m.useMemo(()=>s===z.RECENT?t:e,[t,e,s]);return!c&&d.length===0?r.jsx(yHt,{}):c?r.jsx(cUt,{}):!h&&s===z.TEAM?r.jsxs("div",{className:"scrollbar-hide relative flex overflow-y-auto",children:[r.jsx("div",{className:"relative grid w-full flex-grow grid-cols-fileGrid place-content-start gap-8 p-2",children:d.map(u=>r.jsx(KM,{file:u},u.id))}),o&&i&&r.jsx("div",{className:"sticky right-0 top-0 ml-12 w-60",children:r.jsx(aY,{subscriptionData:hUt,teamFilesUsed:d.length,profileId:i,team:o,numberOfMembers:a.length,isAdmin:l})})]}):r.jsx("div",{className:"scrollbar-hide relative grid w-full flex-grow grid-cols-fileGrid place-content-start gap-8 overflow-y-auto p-2",children:d.map(u=>r.jsx(KM,{file:u},u.id))})},R3=A(dUt),uUt=({...s})=>{const{onFileCreate:t}=nT();return r.jsx(Tt,{className:"rounded","data-tour-step":Gi.CREATE_FILE,leftIcon:Eo,onClick:t,variant:"primary",children:r.jsx(Ze,{children:"New file"})})},N3=A(uUt),fUt=()=>r.jsxs(iv,{children:[r.jsxs(nv,{children:[r.jsx(Qc,{children:r.jsx(_C,{})}),r.jsx(Qc,{children:r.jsx(N3,{})})]}),r.jsx(R3,{})]}),pUt=A(fUt),mUt=()=>r.jsxs(iv,{children:[r.jsxs(nv,{children:[r.jsx(Qc,{children:r.jsx(_C,{})}),r.jsx(Qc,{children:r.jsx(N3,{})})]}),r.jsx(R3,{})]}),qM=A(mUt),gUt=()=>r.jsxs(iv,{children:[r.jsxs(nv,{children:[r.jsx(Qc,{children:r.jsx(_C,{})}),r.jsx(Qc,{children:r.jsx(N3,{})})]}),r.jsx(R3,{})]}),_Ut=A(gUt),sT=s=>{const{featureFlagService:t}=Pt();return t.featureFlags[s]},vUt=()=>sT(Uc.IS_ASSET_VIEWER_ENABLED)?r.jsxs(A5,{size:"md",className:"gap-1 rounded-md",isFullWidth:!1,variant:"secondary",children:[r.jsx(De,{children:Eo}),r.jsx(Ze,{color:"black",children:"Add assets"})]}):null,yUt=A(vUt),bUt=()=>{const s=Ri(),t=D3(),e=m.useCallback(()=>{Bt.open({content:r.jsx(L3,{currentTeam:t})})},[t]),i=m.useCallback(()=>{t&&s.push(`${Rt[z.TEAM](t.id)}/${iT.SETTINGS}`)},[s,t]),n=m.useCallback(o=>{switch(o){case"AddMembers":e();break;case"Settings":i();break}},[e,i]);return r.jsxs(ed,{label:"More",icon:WJ,onAction:n,children:[r.jsx(An,{id:"AddMembers",textValue:"Add members",children:r.jsxs("div",{className:"flex items-center gap-2.5",children:[r.jsx(Oi,{icon:Yy}),r.jsx(K,{children:"Add members"})]})}),r.jsx(An,{id:"Settings",textValue:"Settings",children:r.jsxs("div",{className:"flex items-center gap-2.5",children:[r.jsx(Oi,{icon:HI}),r.jsx(K,{children:"Settings"})]})})]})},CUt=A(bUt);var v_=(s=>(s.FILES="FILES",s.ASSETS="ASSETS",s))(v_||{});const wUt=s=>{const{isHovered:t,isSelected:e,...i}=s,n=e||t?"primary":"secondary";return r.jsx(De,{variant:n,...i})},xUt=()=>sT(Uc.IS_ASSET_VIEWER_ENABLED)?r.jsx(v7,{id:v_.ASSETS}):null,EUt=A(xUt),SUt=()=>r.jsx(v7,{id:v_.FILES,className:"h-full w-full",children:r.jsx(R3,{})}),IUt=A(SUt),AUt=()=>{const{teamController:s}=Pt(),{activeTab:t}=s,e=i=>{const n=i;s.activeTab=n};return r.jsxs(ZL,{className:"flex h-full w-full flex-col overflow-hidden",selectedKey:t,onSelectionChange:e,children:[r.jsx(TUt,{}),r.jsx(IUt,{}),r.jsx(EUt,{})]})},TUt=()=>sT(Uc.IS_ASSET_VIEWER_ENABLED)?r.jsxs(Rj,{children:[r.jsx(H4,{id:v_.FILES,children:s=>r.jsx(QM,{renderProps:s,icon:HJ,label:"Files"})}),r.jsx(H4,{id:v_.ASSETS,children:s=>r.jsx(QM,{renderProps:s,icon:l5,label:"Assets"})})]}):null,QM=({renderProps:s,icon:t,label:e})=>r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(wUt,{...s,children:t}),r.jsx(K,{weight:"strong",children:e})]}),PUt=A(AUt),OUt=({currentTeam:s})=>r.jsxs(iv,{children:[r.jsxs(nv,{children:[r.jsxs(Qc,{children:[r.jsx(eY,{children:s?s.name:"Unknown team"}),r.jsx(CUt,{})]}),r.jsxs(Qc,{children:[r.jsx(yUt,{}),r.jsx(N3,{})]})]}),r.jsx(PUt,{})]}),MUt=A(OUt),LUt=({className:s,style:t,announcement:e,animate:i=!0,onEdit:n,onRemove:o,...a})=>{const[l]=Jf([e.data.preview],{}),[c,{toggleOff:h}]=ss(!0),d=m.useCallback(()=>{Bt.open({content:r.jsx(tUt,{announcement:e,onEdit:n})})},[e,n]),u=m.useCallback(()=>{Bt.open({content:r.jsx(sUt,{announcement:e,onRemove:o})})},[e,o]);return r.jsxs("div",{className:W("group relative m-3 flex aspect-announcementItem flex-col border-none bg-canvas p-1",s),style:t,...a,children:[r.jsx("div",{className:W("pointer-events-none relative flex aspect-announcementPreview w-full justify-end overflow-hidden",{"animate-announcement-grid-skeleton-load":i&&c}),children:l&&r.jsx("img",{className:"h-full w-full object-cover",src:l,alt:"",onError:({currentTarget:f})=>{h(),f.style.display="none"},onLoad:h,loading:"lazy"})}),r.jsxs("div",{className:"flex h-0 flex-grow flex-col gap-2 p-4 text-white",children:[r.jsxs("div",{className:"flex justify-between gap-2",children:[r.jsx("p",{className:"line-clamp-1 text-body1",children:e.data.banner}),r.jsx("p",{className:"whitespace-nowrap text-body1",children:e.createdAt.substring(0,10)})]}),r.jsx("h4",{className:"line-clamp-1",children:e.data.title}),r.jsx("div",{className:"relative h-0 flex-grow before:pointer-events-none before:absolute before:bottom-0 before:h-1/2 before:w-full before:bg-gradient-to-t before:from-canvas before:content-['']",children:r.jsx(e5,{remarkPlugins:[s5,i5],className:"h-full w-full overflow-auto pb-8 text-body1 text-white/60 [&_a]:underline",linkTarget:"_blank",children:e.data.description})}),r.jsxs("div",{className:"hidden items-center justify-end gap-2 group-hover:flex",children:[r.jsx(Tt,{size:"sm",onClick:d,variant:"secondary",children:"Edit"}),r.jsx(Tt,{size:"sm",onClick:u,variant:"destructive",children:"Remove"})]})]})]})},RUt=A(LUt),NUt=({className:s,style:t,...e})=>r.jsxs("div",{className:W("relative m-3 flex h-full flex-col items-center justify-center border border-dashed border-white/40",s),style:t,...e,children:[r.jsx("div",{className:"w-40",children:S5}),r.jsx("p",{className:"mt-7 text-body1 text-white/40",children:"No announcements yet"})]}),jUt=m.memo(NUt),DUt=({className:s,style:t,animate:e=!0,...i})=>r.jsx("div",{className:W("pointer-events-none relative m-1 border-none bg-none p-2 outline-none",s),style:t,...i,children:r.jsx("div",{className:W("relative aspect-announcementItem w-full overflow-hidden bg-canvas",{"animate-announcement-grid-skeleton-load":e})})}),FUt=m.memo(DUt),BUt=({className:s,style:t,...e})=>{const[i,n]=B3();return r.jsx("div",{ref:i,className:W("scrollbar-hide relative grid h-0 w-full flex-grow grid-cols-announcementGrid place-content-start overflow-y-auto",s),style:t,...e,children:xb(n,o=>r.jsx(FUt,{},`loading-announcement-grid-item-${o}`))})},kUt=m.memo(BUt),GUt=()=>{const{announcements:s,loading:t,onScroll:e,onAdd:i,onEdit:n,onRemove:o}=NWt(),a=m.useCallback(()=>{Bt.open({content:r.jsx(JHt,{onAdd:i})})},[i]);return r.jsxs(iv,{children:[r.jsxs(nv,{children:[r.jsx(Qc,{children:r.jsx(_C,{})}),r.jsx(Qc,{children:r.jsx(Tt,{leftIcon:Eo,onClick:a,variant:"secondary",children:"Add announcement"})})]}),!t&&s.length===0?r.jsx(jUt,{}):t&&s.length===0?r.jsx(kUt,{}):r.jsx("div",{className:"scrollbar-hide relative grid h-0 w-full flex-grow grid-cols-announcementGrid place-content-start overflow-y-auto",onScroll:e,children:s.map(l=>r.jsx(RUt,{announcement:l,onEdit:n,onRemove:o},l.id))})]})},VUt=({className:s,style:t,prompt:e,...i})=>r.jsxs("div",{className:W("relative m-8 flex h-full flex-col items-center justify-center border border-dashed border-white/40",s),style:t,...i,children:[r.jsx("div",{className:"w-40",children:S5}),r.jsx(Ze,{className:"mt-3 max-w-106 text-center text-body1 text-white/80",children:e})]}),c4=m.memo(VUt),Yg=A(({title:s,options:t,selectedOption:e,onOptionSelected:i})=>r.jsxs("div",{className:"flex items-center justify-start gap-1",children:[r.jsxs(K,{className:"opacity-60",children:[s,":"]}),r.jsx(Ys,{label:s,selectedKey:e,onSelectionChange:n=>{i(n)},children:t.map(n=>r.jsx(se,{id:n,textValue:n,children:r.jsx(K,{children:n})},n))})]})),j3=({className:s,style:t,organization:e,shouldShowHeader:i,backRoute:n,backRouteName:o,onBackClicked:a,...l})=>{const c=Ri(),h=o??"Back to Admin settings",d=m.useCallback(()=>{a?a():n?c.push(n):e?c.push(`${Rt[z.ORGANIZATION](e.id)}`):c.push(`${Rt[z.RECENT]()}`)},[n,c,a,e]);return r.jsx("div",{className:W("flex h-16 items-center justify-between px-3",s),style:t,...l,children:i&&r.jsx("div",{className:"flex items-center gap-2.5",children:r.jsx(Tt,{leftIcon:x_,onClick:d,variant:"normal",children:h})})})},HUt=({organizationsController:s,className:t,style:e,organization:i,...n})=>{const{authController:{auth:{profileID:o}}}=Pt(),[a,l]=m.useState("All"),[c,h]=m.useState("All"),[d,u]=m.useState("Name");m.useEffect(()=>{s.getOrganizationMembers(i.id)},[i.id,s]);const f=m.useMemo(()=>Object.values(s.organizationMembers),[s.organizationMembers]),p=m.useMemo(()=>a==="All"?f:f.filter(v=>v.role===a),[f,a]),g=m.useMemo(()=>c==="Internal"?p.filter(v=>{var y;return(y=v.email)==null?void 0:y.endsWith(i.domain)}):c==="External"?p.filter(v=>{var y;return!((y=v.email)!=null&&y.endsWith(i.domain))}):p,[c,p,i.domain]),_=m.useMemo(()=>[...g].sort((v,y)=>d==="Name"&&v.fullName&&y.fullName?v.fullName.localeCompare(y.fullName):(d==="Last Active"&&v.lastActive&&y.lastActive,y.lastActive-v.lastActive)),[g,d]);return r.jsxs("div",{className:W("relative flex h-full w-full flex-col gap-14 px-7 py-4",t),style:e,...n,children:[r.jsx(j3,{organizationsController:s,organization:i,shouldShowHeader:!0}),r.jsx("div",{className:"relative box-border flex h-0 w-full flex-grow flex-col items-center justify-start overflow-auto px-5 py-4",children:r.jsxs("div",{className:"flex w-full max-w-3xl flex-col gap-6",children:[r.jsx("div",{className:"flex flex-col justify-start text-left",children:r.jsx(lC,{className:"m-0 text-white",children:`Members (${f.length})`})}),r.jsxs("div",{className:"flex w-full flex-col items-center justify-start overflow-y-scroll",children:[r.jsxs("div",{className:"flex w-full items-center justify-end gap-8",children:[r.jsx(Yg,{title:"Role",options:["All","Admin","Member"],selectedOption:a,onOptionSelected:l}),r.jsx(Yg,{title:"Domain",options:["All","Internal","External"],selectedOption:c,onOptionSelected:h}),r.jsx(Yg,{title:"Sorty by",options:["Name"],selectedOption:d,onOptionSelected:u})]}),r.jsx(zUt,{}),r.jsx("hr",{className:"w-full"}),_.map((v,y)=>r.jsxs(r.Fragment,{children:[r.jsx(YUt,{member:v,organizationsController:s,isSelf:v.id===o},v.id),r.jsx("hr",{className:"w-full"},`${v.id}-hr`)]}))]})]})})]})},UUt=A(HUt),zUt=()=>r.jsxs("div",{className:W("flex w-full items-center justify-between gap-6 py-3"),children:[r.jsx("div",{className:"flex flex-grow items-center justify-start gap-3",children:r.jsx(K,{weight:"strong",children:"Name"})}),r.jsx("div",{className:"flex w-42 items-center justify-between",children:r.jsx(K,{weight:"strong",className:"pl-2",children:"Role"})})]}),YUt=A(({organizationsController:s,member:t,isSelf:e=!1})=>{const[,i]=m.useState(!1),n=["Admin","Member"],o=l=>{s.updateMemberRole(t.id,l)},a=l=>{switch(l){case"RemoveMember":s.removeOrganizationMember(t.id);break}};return r.jsxs("div",{className:W("flex w-full items-center justify-between gap-6 py-3"),children:[r.jsxs("div",{className:"flex flex-grow items-center justify-start gap-3",children:[r.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-gray-60",children:r.jsx("img",{className:"rounded-full",src:"/images/avatar.png",alt:""})}),r.jsxs("div",{className:"flex flex-col justify-start text-left",children:[r.jsx(K,{weight:"strong",children:t.fullName}),r.jsx(K,{className:"opacity-60",children:t.email})]})]}),r.jsxs("div",{className:"flex w-42 items-center justify-between",children:[r.jsx(Ys,{label:t.role,selectedKey:t.role,onSelectionChange:l=>{o(l)},children:n.map(l=>r.jsx(se,{id:l,textValue:l,children:r.jsx(K,{children:l})},l))}),!e&&r.jsx(ed,{label:"More",icon:$l,onAction:a,onOpenChange:i,children:r.jsx(An,{id:"RemoveMember",textValue:"Remove Member",className:"text-tomato"})})]})]})}),WUt=({organizationsController:s,className:t,style:e,currentOrganization:i,...n})=>i?r.jsxs("div",{className:W("relative flex h-full w-full flex-col gap-14 px-7 py-4",t),style:e,...n,children:[r.jsx(j3,{organizationsController:s,organization:i,shouldShowHeader:!1}),r.jsx(XUt,{organizationsController:s,organization:i})]}):null,XUt=A(({organizationsController:s,className:t,style:e,organization:i,...n})=>{const o=Ri(),a=m.useCallback(()=>{o.push(`${Rt[z.ORGANIZATION](i.id)}/${_b.MEMBERS}`)},[o,i]),l=m.useCallback(()=>{o.push(`${Rt[z.ORGANIZATION](i.id)}/${_b.TEAMS}`)},[o,i]);return r.jsx("div",{className:"relative box-border flex h-0 w-full flex-grow flex-col items-center justify-start overflow-auto px-5 py-4",children:r.jsxs("div",{className:"flex w-full max-w-3xl flex-col gap-8",children:[r.jsxs("div",{className:"flex items-center justify-start gap-5",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center",children:r.jsx("img",{src:s.organizationLogoUrl??"",alt:"",loading:"lazy"})}),r.jsxs("div",{className:"flex flex-col justify-start text-left",children:[r.jsx(lC,{className:"m-0 text-white",children:i.name}),r.jsx(Ze,{className:"opacity-60",children:`@${i.domain}`})]})]}),r.jsx("hr",{}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx(Jd,{weight:"strong",children:"Members"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(K,{className:"flex-grow",children:`There are ${s.organizationMemberIds.size} members in your organization.`}),r.jsx(Tt,{rounded:!0,onClick:a,variant:"secondary",className:"!h-6 !w-37.5",children:"View all members"})]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx(Jd,{weight:"strong",children:"Teams"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(K,{className:"flex-grow",children:`There are ${s.organizationTeamIds.size} teams in your organization.`}),r.jsx(Tt,{rounded:!0,onClick:l,variant:"secondary",className:"!h-6 !w-37.5",children:"View all teams"})]})]})]})})}),ZUt=A(WUt),KUt=({teamID:s,onTeamDeleted:t})=>{const{isProcessing:e,toggleOnIsProcessing:i,toggleOffIsProcessing:n,teamApi:o,teamController:a}=Pt(),l=m.useCallback(()=>{Bt.close()},[]),c=m.useCallback(async()=>{i();const h=await o.deleteTeam(s);h&&(a.deleteTeam(s),n(),Ft("delete-team"),l(),t&&t(h))},[i,o,s,a,n,l,t]);return r.jsx(dn,{className:"gap-4",title:"Delete this team?",description:"This permanently deletes the team, its files, and its associated data.",submitActionLabel:"Delete",submitVariant:"destructive",onSubmit:c,onClose:l,isDisabledSubmit:e})},qUt=m.memo(KUt),QUt=({organizationsController:s,className:t,style:e,organization:i,team:n,onBackClicked:o,...a})=>{const l=Ri(),[c,h]=m.useState("All"),[d,u]=m.useState("All"),[f,p]=m.useState("Name"),[,g]=m.useState(!1),{teamApi:_}=Pt();m.useEffect(()=>{s.viewTeamMembers(n.id)},[s,n.id]);const v=m.useMemo(()=>s.organizationTeamMembers,[s.organizationTeamMembers]),y=m.useMemo(()=>c==="All"?v:v.filter(T=>T.role===c),[v,c]),b=m.useMemo(()=>d==="All"?y:y.filter(T=>{var D;return(D=T.email)==null?void 0:D.includes(d)}),[y,d]),C=m.useMemo(()=>[...b].sort((T,D)=>f==="Name"&&T.fullName&&D.fullName?T.fullName.localeCompare(D.fullName):(f==="Last Active"&&T.updatedAt&&D.updatedAt,D.lastActive-T.lastActive)),[b,f]),x=T=>{const D=Rt[z.TEAM](T);return l.push(D)},I=T=>{_.deleteTeam(T),l.push(Rt[z.ORGANIZATION](i.id))},O=T=>{switch(T){case"ViewFiles":x(n.id);break;case"DeleteTeam":I(n.id);break}};return r.jsxs("div",{className:W("relative flex h-full w-full flex-col gap-14 px-7 py-4",t),style:e,...a,children:[r.jsx(j3,{organizationsController:s,organization:i,shouldShowHeader:!0,backRouteName:"Back to Teams",onBackClicked:o}),r.jsx("div",{className:"relative box-border flex h-0 w-full flex-grow flex-col items-center justify-start overflow-auto px-5 py-4",children:r.jsxs("div",{className:"flex w-full max-w-3xl flex-col gap-6",children:[r.jsxs("div",{className:"flex justify-between pr-1 text-left",children:[r.jsx(lC,{className:"m-0 text-white",children:`${n.name} (${v.length})`}),r.jsxs(ed,{label:"More",icon:$l,onAction:O,onOpenChange:g,children:[r.jsx(An,{id:"ViewFiles",textValue:"View Files"}),r.jsx(An,{id:"DeleteTeam",textValue:"Delete team",className:"text-tomato"})]})]}),r.jsxs("div",{className:"flex w-full flex-col items-center justify-start overflow-y-scroll",children:[r.jsxs("div",{className:"flex w-full items-center justify-end gap-8",children:[r.jsx(Yg,{title:"Role",options:["All","Admin","Member"],selectedOption:c,onOptionSelected:h}),r.jsx(Yg,{title:"Domain",options:["All"],selectedOption:d,onOptionSelected:u}),r.jsx(Yg,{title:"Sorty by",options:["Name"],selectedOption:f,onOptionSelected:p})]}),r.jsx($Ut,{}),r.jsx("hr",{className:"w-full"}),C.map((T,D)=>r.jsxs(r.Fragment,{children:[r.jsx(tzt,{member:T,team:n,organizationsController:s},D),r.jsx("hr",{className:"w-full"})]}))]})]})})]})},JUt=A(QUt),$Ut=()=>r.jsxs("div",{className:W("flex w-full items-center justify-between gap-6 py-3"),children:[r.jsx("div",{className:"flex flex-grow items-center justify-start gap-3",children:r.jsx(K,{weight:"strong",children:"Name"})}),r.jsx("div",{className:"flex w-42 items-center justify-between",children:r.jsx(K,{weight:"strong",className:"pl-2",children:"Role"})})]}),tzt=A(({organizationsController:s,member:t,team:e})=>{const i=["Admin","Member"],n=o=>{s.updateTeamMemberRole(t.id,e.id,o)};return r.jsxs("div",{className:W("flex w-full items-center justify-between gap-6 py-3"),children:[r.jsxs("div",{className:"flex flex-grow items-center justify-start gap-3",children:[r.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-gray-60",children:r.jsx("img",{className:"rounded-full",src:"/images/avatar.png",alt:""})}),r.jsxs("div",{className:"flex flex-col justify-start text-left",children:[r.jsx(K,{weight:"strong",children:t.fullName}),r.jsx(K,{className:"opacity-60",children:t.email})]})]}),r.jsx("div",{className:"flex w-42 items-center justify-between",children:r.jsx(Ys,{label:t.role,selectedKey:t.role,onSelectionChange:o=>{n(o)},children:i.map(o=>r.jsx(se,{id:o,textValue:o,children:r.jsx(K,{children:o})},o))})})]})}),ezt=({organizationsController:s,className:t,style:e,organization:i,...n})=>{const o=Ri(),[a,l]=m.useState("Team name"),[c,h]=m.useState(null);m.useEffect(()=>{s.getOrganizationTeams(i.id)},[i.id,s]);const d=m.useMemo(()=>Object.values(s.organizationTeams),[s.organizationTeams]),u=m.useMemo(()=>[...d].sort((_,v)=>a==="Team name"?_.name.localeCompare(v.name):a==="Last Active"?v.lastActive-_.lastActive:a==="Members"?v.members-_.members:v.lastActive-_.lastActive),[d,a]),f=_=>{const v=Rt[z.TEAM](_);return o.push(v)},p=_=>{Bt.open({content:r.jsx(qUt,{teamID:_,onTeamDeleted:v=>{v&&s.deleteOrganizationTeam(_)}})})},g=(_,v)=>{switch(v){case"ViewMembers":h(r.jsx(JUt,{team:_,organization:i,organizationsController:s,onBackClicked:()=>h(null)}));break;case"ViewFiles":f(_.id);break;case"DeleteTeam":p(_.id);break}};return c||r.jsxs("div",{className:W("relative flex h-full w-full flex-col gap-14 px-7 py-4",t),style:e,...n,children:[r.jsx(j3,{organizationsController:s,organization:i,shouldShowHeader:!0}),r.jsx("div",{className:"relative box-border flex h-0 w-full flex-grow flex-col items-center justify-start overflow-auto px-5 py-4",children:r.jsxs("div",{className:"flex w-full max-w-3xl flex-col gap-6",children:[r.jsx("div",{className:"flex flex-col justify-start text-left",children:r.jsx(lC,{className:"m-0 text-white",children:`Teams (${d.length})`})}),r.jsxs("div",{className:"flex w-full flex-col items-center justify-start overflow-y-scroll",children:[r.jsx("div",{className:"flex w-full items-center justify-end gap-8",children:r.jsx(Yg,{title:"Sorty by",options:["Team name","Members"],selectedOption:a,onOptionSelected:l})}),r.jsx(izt,{}),r.jsx("hr",{className:"w-full"}),u.map((_,v)=>r.jsxs(r.Fragment,{children:[r.jsx(nzt,{team:_,onMoreMenuAction:y=>g(_,y)},_.id),r.jsx("hr",{className:"w-full"},`${_.id}-hr`)]}))]})]})})]})},szt=A(ezt),izt=()=>r.jsxs("div",{className:W("flex w-full items-center justify-between gap-6 py-3"),children:[r.jsx("div",{className:"flex w-44 items-center justify-start gap-3",children:r.jsx(K,{weight:"strong",children:"Team Name"})}),r.jsx("div",{className:"flex flex-grow items-center justify-start gap-3",children:r.jsx(K,{weight:"strong",children:"Admin"})}),r.jsx("div",{className:"flex w-42 items-center justify-between",children:r.jsx(K,{weight:"strong",children:"Members"})})]}),nzt=A(({team:s,onMoreMenuAction:t})=>{var n,o;const[,e]=m.useState(!1),i=s.name.charAt(0).toUpperCase();return r.jsxs("div",{className:W("flex w-full items-center justify-between gap-6 py-3"),children:[r.jsxs("div",{className:"flex w-44 items-center justify-start gap-3",children:[r.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded bg-gray-60",children:r.jsx(Ze,{weight:"strong",children:i})}),r.jsx(K,{weight:"strong",children:s.name})]}),r.jsxs("div",{className:"flex flex-grow items-center justify-start gap-3",children:[r.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-gray-60",children:r.jsx("img",{className:"rounded-full",src:"/images/avatar.png",alt:""})}),r.jsxs("div",{className:"flex flex-col justify-start text-left",children:[r.jsx(K,{weight:"strong",children:(n=s.admin)==null?void 0:n.fullName}),r.jsx(K,{className:"opacity-60",children:(o=s.admin)==null?void 0:o.email})]})]}),r.jsxs("div",{className:"flex w-42 items-center justify-between",children:[r.jsx(K,{children:`${s.members} Members`}),r.jsxs(ed,{label:"More",icon:$l,onAction:t,onOpenChange:e,children:[r.jsx(An,{id:"ViewMembers",textValue:"View Members"}),r.jsx(An,{id:"ViewFiles",textValue:"View Files"}),r.jsx(An,{id:"DeleteTeam",textValue:"Delete team",className:"text-tomato"})]})]})]})});var y0=(s=>(s.TEAM_NAME_CHANGE="teamNameChange",s))(y0||{});const ozt=({className:s,style:t,currentTeam:e,...i})=>{const n=Ri(),{isProcessing:o,toggleOnIsProcessing:a,toggleOffIsProcessing:l,teamApi:c,teamController:h,subscriptionsController:d,filesController:u,authController:{auth:{profileID:f}}}=Pt(),p=LY(e.id),[g,_]=m.useState(),[v,y]=m.useState(e.name),b=m.useRef(null),C=d.getSubscriptionForTeam(e.id)??hHt;nT();const x=u.allFiles.length,I=m.useCallback(()=>{e&&n.push(Rt[z.TEAM](e.id))},[n,e]),O=m.useCallback(()=>{Bt.open({content:r.jsx(L3,{currentTeam:e})})},[e]),T=m.useCallback(()=>{_(y0.TEAM_NAME_CHANGE)},[]),D=m.useCallback(q=>{y(q.target.value)},[]),B=m.useCallback(()=>{Bt.open({content:r.jsx(qHt,{teamID:e.id})})},[e.id]),F=m.useCallback(async()=>{a(),g===y0.TEAM_NAME_CHANGE&&(await c.updateTeamName(e.id,v),_(void 0)),l()},[e.id,g,c,v,l,a]),k=async q=>{q.email&&(await c.removeTeamMember(e.id,Yp(q.email)),h.teamFetchTimestamp=Date.now())},Y=async q=>{q.email&&(await c.removeTeamMember(e.id,Yp(q.email)),h.deleteTeam(e.id),n.push(Rt[z.DEFAULT]()))};tc(b,()=>{y(e.name),_(void 0)});const G=p.find(q=>q.id===f);if(!G)return null;const st=G.access===Sa.Admin,$=q=>[{id:"remove-from-team",text:"Remove from team",onClick:()=>k(q)}],X=q=>[{id:"leave-team",text:"Leave team",onClick:()=>Y(q)}];return r.jsxs("div",{className:W("relative flex h-full w-full flex-col gap-14 px-7 py-4",s),style:t,...i,children:[r.jsxs("div",{className:"flex h-16 items-center justify-between px-3",children:[r.jsx("div",{className:"flex items-center gap-2.5",children:r.jsx(Tt,{leftIcon:x_,onClick:I,variant:"normal",disabled:o,children:"Back to files"})}),r.jsx("div",{className:"flex items-center gap-2.5",children:r.jsx(Tt,{leftIcon:Yy,onClick:O,variant:"secondary",disabled:o,children:"Add members"})})]}),r.jsx("div",{className:"relative box-border flex h-0 w-full flex-grow flex-col items-center justify-start overflow-auto px-5 py-4",children:r.jsxs("div",{className:"flex w-full max-w-xl flex-col",children:[r.jsxs("div",{className:W("pb-8",g!==y0.TEAM_NAME_CHANGE&&"flex w-full items-center justify-between"),children:[g===y0.TEAM_NAME_CHANGE&&st?r.jsx(Mi,{ref:b,value:v,onChange:D,onSubmit:F,disabled:o}):r.jsx("h2",{className:"m-0 text-white",children:v}),g!==y0.TEAM_NAME_CHANGE&&r.jsx(lY,{planLevel:C.planType})]}),r.jsx("hr",{}),r.jsx("div",{className:"mx-0 mb-5 mt-10",children:r.jsx("h3",{children:`Members (${p.length})`})}),r.jsx("div",{className:"mb-5 max-h-96 overflow-auto",children:p.map(q=>{const{id:at,email:bt,fullName:lt,access:ct,portrait:nt}=q;return r.jsxs("div",{className:"flex items-center justify-between px-0 py-3",children:[r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"mr-4",children:r.jsx(F_,{label:lt||bt,portrait:nt,size:"md"})}),r.jsxs("div",{className:"flex flex-col justify-center",children:[r.jsx("p",{children:lt}),r.jsx("p",{className:"text-t-secondary",children:bt})]})]}),st&&at===f?r.jsx("p",{className:"text-t-secondary",children:ct}):st?r.jsx(Sr,{options:$(q),width:150,children:r.jsxs("div",{className:"flex gap-2 border border-border p-1.5",children:[r.jsx("p",{className:"text-t-secondary",children:ct}),r.jsx("div",{className:"mt-0.5 opacity-50",children:La})]})}):at===f?r.jsx(Sr,{options:X(q),width:150,children:r.jsxs("div",{className:"flex gap-2 border border-border p-1.5",children:[r.jsx("p",{className:"text-t-secondary",children:ct}),r.jsx("div",{className:"mt-0.5 opacity-50",children:La})]})}):r.jsx("p",{className:"text-t-secondary",children:ct})]},at)})||""}),st&&r.jsxs(r.Fragment,{children:[r.jsx("hr",{}),r.jsx("div",{className:"mx-0 mb-5 mt-10",children:r.jsx("h3",{children:"Settings"})}),f&&r.jsx(aY,{subscriptionData:C,teamFilesUsed:x,profileId:f,team:e,numberOfMembers:p.length,isAdmin:st}),r.jsxs("div",{className:"flex items-center justify-between px-0 py-3",children:[r.jsxs("div",{className:"flex flex-col justify-center",children:[r.jsx("p",{className:"font-bold",children:"Rename team"}),r.jsx("p",{className:"text-t-secondary",children:v})]}),r.jsx(Tt,{variant:"auto",onClick:T,children:"Rename"})]}),r.jsxs("div",{className:"flex items-center justify-between px-0 py-3",children:[r.jsxs("div",{className:"flex flex-col justify-center",children:[r.jsx("p",{className:"font-bold",children:"Delete team"}),r.jsx("p",{className:"text-t-secondary",children:"This permanently deletes the team and all its files"})]}),r.jsx(Tt,{className:"!w-fit rounded-sm !px-5",variant:"destructive",onClick:B,size:"sm",children:"Delete team"})]})]})]})})]})},rzt=A(ozt),azt=({className:s,style:t,...e})=>r.jsxs("div",{className:W("relative m-3 flex h-full flex-col items-center justify-center border border-dashed border-white/40",s),style:t,...e,children:[r.jsx("div",{className:"w-40",children:S5}),r.jsx("p",{className:"mt-7 text-body1 text-white/40",children:"No tutorials yet"}),r.jsx("p",{className:"mt-3 text-center text-body1 text-white/80",children:"Please contact support team"})]}),lzt=m.memo(azt),czt=({className:s,style:t,animate:e=!0,...i})=>r.jsxs("div",{className:W("pointer-events-none relative m-1 border-none bg-none p-2 outline-none",s),style:t,...i,children:[r.jsx("div",{className:W("relative aspect-video w-full overflow-hidden bg-canvas",{"animate-file-grid-skeleton-load":e})}),r.jsx("div",{className:W("relative mt-3 h-6 w-full overflow-hidden bg-canvas",{"animate-file-grid-skeleton-load":e})})]}),hzt=m.memo(czt),dzt=({className:s,style:t,...e})=>{const[i,n]=B3();return r.jsx("div",{ref:i,className:W("scrollbar-hide relative grid h-0 w-full flex-grow grid-cols-fileGrid place-content-start overflow-y-auto",s),style:t,...e,children:xb(n*3,o=>r.jsx(hzt,{},`loading-file-grid-item-${o}`))})},uzt=m.memo(dzt),fzt=({className:s,style:t,tutorial:e,animate:i=!0,...n})=>{const o=m.useMemo(()=>{const{high:h,medium:d,standard:u,maxres:f}=e.data.thumbnails;return d||h||u||f},[e.data.thumbnails]),[a,{toggleOff:l}]=ss(!!o),c=m.useCallback(()=>{Bt.open({content:r.jsx(nUt,{tutorialId:e.id,aspectRatio:o?o.width/o.height:16/9}),option:{size:"auto"}})},[o,e.id]);return r.jsxs("button",{className:W("group relative m-1 border-none bg-none p-2 outline-none",s),style:t,onClick:c,...n,children:[r.jsxs("div",{className:W("pointer-events-none relative flex aspect-video w-full justify-end overflow-hidden rounded-2xl bg-canvas",{"animate-file-grid-skeleton-load":i&&a}),children:[!!o&&r.jsx("img",{className:"transition-transform h-full w-full object-cover",alt:"",src:o.url,onError:({currentTarget:h})=>{l(),h.style.display="none"},onLoad:l,loading:"lazy"}),r.jsx("div",{className:"absolute hidden h-full w-full items-center justify-center bg-black/50 group-hover:flex",children:r.jsx(Oi,{icon:Cot})})]}),r.jsx("div",{className:"pointer-events-none flex items-center gap-2.5 px-0 py-3",children:r.jsx("div",{className:"w-full",children:r.jsx("p",{className:"mb-0.5 truncate text-left font-bold text-white",children:e.data.title})})})]})},pzt=A(fzt),mzt=()=>{const{authController:{auth:{isDev:s}}}=Pt(),{tutorials:t,loading:e,onScroll:i,onRefresh:n}=CWt();return r.jsxs(iv,{children:[r.jsxs(nv,{children:[r.jsx(Qc,{children:r.jsx(_C,{})}),s&&r.jsx(Qc,{children:r.jsx(Tt,{leftIcon:WI,onClick:n,variant:"primary",children:"Refresh"})})]}),!e&&t.length===0?r.jsx(lzt,{}):e&&t.length===0?r.jsx(uzt,{}):r.jsx("div",{className:"scrollbar-hide relative grid h-0 w-full flex-grow grid-cols-fileGrid place-content-start overflow-y-auto",onScroll:i,children:t.map(o=>r.jsx(pzt,{tutorial:o},o.id))})]})},gzt=A(mzt),_zt=()=>{const{route:{routeName:s},organizationsController:t}=Pt(),{page:e}=n5(),i=D3(),n=m.useMemo(()=>t.currentOrganization,[t.currentOrganization]),o=m.useMemo(()=>{if(!i&&(s===z.TEAM||s===z.TEAM_PAGE||s===z.TEAM_JOIN))return r.jsx(c4,{prompt:"Team doesn't exist or you don't have access to the team"});if(s===z.ORGANIZATION||s===z.ORGANIZATION_PAGE)if(n){if(!t.isOrganizationAdmin)return r.jsx(c4,{prompt:"You don't have access to the organization settings. Please contact the organization admin for access."})}else return r.jsx(c4,{prompt:"Organization doesn't exist or you don't have access to the organization"});if(s===z.TEAM_PAGE&&(e==null?void 0:e.toLowerCase())===iT.SETTINGS)return i?r.jsx(rzt,{currentTeam:i}):null;if(s===z.ORGANIZATION)return r.jsx(ZUt,{organizationsController:t,currentOrganization:n});if(s===z.ORGANIZATION_PAGE){if(!n)return null;if((e==null?void 0:e.toLowerCase())===_b.MEMBERS)return r.jsx(UUt,{organizationsController:t,organization:n});if((e==null?void 0:e.toLowerCase())===_b.TEAMS)return r.jsx(szt,{organizationsController:t,organization:n})}return s===z.TUTORIALS?r.jsx(gzt,{}):s===z.ANNOUNCEMENTS?r.jsx(GUt,{}):s===z.RECENT?r.jsx(_Ut,{}):s===z.DRAFTS?r.jsx(pUt,{}):s===z.GALLERY?r.jsx(qM,{}):s===z.TEAM?r.jsx(MUt,{currentTeam:i}):r.jsx(qM,{})},[i,s,e,n,t]);return m.useEffect(()=>{document.title=i?`${i.name} | Bezi`:"Bezi"},[i,i==null?void 0:i.name]),r.jsx("div",{className:W("relative flex h-full w-0 flex-grow flex-col"),children:o})},vzt=A(_zt),yzt=({className:s,style:t,...e})=>{const{route:{routeName:i},toggleOnIsProcessing:n,toggleOffIsProcessing:o,fileApi:a,filesController:l}=Pt(),[c,h]=m.useState(),[d,u]=m.useState(),f=m.useRef(null),p=m.useCallback(b=>{f.current&&(f.current.style.display=b?"block":"none")},[]),g=m.useCallback((b,C)=>{f.current&&(f.current.style.top=`${C+4}px`,f.current.style.left=`${b+4}px`)},[]),_=m.useCallback(b=>{const C=document.elementFromPoint(b.clientX,b.clientY),x=(C==null?void 0:C.getAttribute("data-file"))||void 0,I=(C==null?void 0:C.getAttribute("data-screenshot"))||void 0;h(x),u(I)},[]),v=m.useCallback(b=>{c&&(p(!0),g(b.clientX,b.clientY))},[c,g,p]),y=m.useCallback(async b=>{const C=c;if(p(!1),h(void 0),u(void 0),!C)return;n();const x=document.elementFromPoint(b.clientX,b.clientY),I=x==null?void 0:x.getAttribute("data-team");I&&Vl(I)&&await a.updateFile(C,{team:I},!0)&&l.deleteFile(C),o()},[a,c,l,p,o,n]);return m.useEffect(()=>{if(i!==z.GALLERY)return document.addEventListener("pointerdown",_),document.addEventListener("pointermove",v),document.addEventListener("pointerup",y),()=>{document.removeEventListener("pointerdown",_),document.removeEventListener("pointermove",v),document.removeEventListener("pointerup",y)}},[v,y,_,i]),i===z.GALLERY?null:r.jsx("div",{ref:f,className:W("pointer-events-none fixed z-10 hidden h-14 w-24 -translate-x-1/2 -translate-y-1/2 border-2 border-lime opacity-60",s),style:t,...e,children:d!=null?r.jsx("img",{className:"h-full w-full",src:d,alt:""}):r.jsx("div",{className:"h-full w-full bg-canvas"})})},bzt=m.memo(yzt),Czt=({className:s,style:t,to:e,target:i="_history_push",selected:n=!1,label:o,icon:a,teamID:l,disabled:c=!1,onClick:h,index:d,rightContent:u,...f},p)=>{const g=m.useMemo(()=>{const _=d==null?Math.floor(Math.random()*wE.length):d%wE.length;return a?null:wE[_]},[]);return r.jsxs("button",{ref:p,className:W("flex h-10 w-full shrink-0 select-none items-center justify-between rounded text-white outline-none",n?"bg-white/10":"hover:bg-white/5",s),style:t,"data-to":e,"data-target":i,"data-team":l,onClick:h,disabled:c,...f,children:[r.jsxs("div",{className:"pointer-events-none ml-4 flex items-center justify-between",children:[r.jsx("div",{className:W("flex h-6 w-6 items-center justify-center rounded shadow-navbarItemIcon",a?"bg-gray-70 text-white":"font-bold text-white"),style:{...g&&{background:`${g}`}},children:r.jsx("span",{className:W(a?"opacity-60":"text-body1"),children:a||o[0]})}),r.jsx("label",{className:"ml-2 hidden truncate text-body1 md:block",children:o})]}),u??null]})},Tl=m.memo(m.forwardRef(Czt)),wzt=({className:s,style:t,...e})=>{const i=Ri(),{route:{routeName:n},organizationsController:o,authController:{auth:{profileID:a}}}=Pt(),l=m.useCallback(d=>{if(!o.currentOrganization)return;const{to:u,target:f}=d.currentTarget.dataset;if(u)return f==="_history_push"?i.push(u):window.open(u,f)},[i,o.currentOrganization]),c=m.useMemo(()=>o.currentOrganization,[o.currentOrganization]);m.useEffect(()=>{!a||!c||o.getIsOrganizationAdmin(a)},[a,c,o]);const h=m.useMemo(()=>o.isOrganizationAdmin,[o.isOrganizationAdmin]);return m.useEffect(()=>{c&&o.getOrganizationLogoUrl(c.id)},[c,c==null?void 0:c.logoUrl,o]),o.organizations.length===0||!c?null:r.jsxs("div",{className:W("flex w-full flex-col items-center gap-2 bg-none px-2 pb-2 pt-4 text-white outline-none",h&&"border-b border-l-0 border-r-0 border-t-0 border-solid border-gray-60",s),style:t,...e,children:[r.jsxs("div",{className:"flex w-full items-center gap-1 pl-3",children:[r.jsx("div",{className:"h-8 w-8 rounded-full bg-white",children:r.jsx("img",{src:o.organizationLogoUrl||"",alt:"",loading:"lazy",className:"rounded-full"})}),r.jsx("div",{className:"ml-2 flex flex-col justify-start text-left",children:r.jsx(Ze,{weight:"strong",children:c.name})})]}),h&&r.jsx(Tl,{to:Rt[z.ORGANIZATION](c.id),icon:HI,label:ff[z.ORGANIZATION],selected:n===z.ORGANIZATION,onClick:l})]})},xzt=A(wzt),Ezt="_profileMenuPopupContainer_1j3k6_1",Szt="_profileMenuItem_1j3k6_4",Izt="_white_1j3k6_11",Azt="_tomato_1j3k6_14",h4={profileMenuPopupContainer:Ezt,profileMenuItem:Szt,white:Izt,tomato:Azt},Tzt=({className:s,style:t,anchorRef:e,...i})=>{const{authApi:n,authController:o,integrationsController:a}=Pt(),l=o.auth.isDev,c=m.useCallback(async()=>{await n.signOut()},[n]),h=m.useCallback(()=>{Hs.close(),Hs.open({content:r.jsx(Hzt,{anchorRef:e}),option:{ref:e,width:360,spot:Ds.TOP_RIGHT}})},[e]),d=m.useCallback(()=>{Bt.open({content:r.jsx(wHt,{})})},[]),u=m.useCallback(()=>{a.isIntegrationSettingsVisible=!0},[a]),f=m.useMemo(()=>[{label:"Account settings",color:"white",icon:d5,onClick:h},{label:"Integrations",color:"white",onClick:u},{label:"Log out",color:"tomato",onClick:c}],[h,u,c]);return r.jsxs("div",{className:W(h4.profileMenuPopupContainer,s),style:t,...i,children:[f.map(({label:p,icon:g,color:_,onClick:v},y)=>p?r.jsx(Tt,{className:`${h4.profileMenuItem} ${h4[_]}`,rightIcon:g,onClick:v,children:r.jsx(Ze,{children:p})},`profile-menu-item-${y}`):null),l&&o.auth.profileID&&r.jsxs(r.Fragment,{children:[r.jsx(Tt,{className:"!w-26",onClick:d,children:"Dev tool"}),r.jsx("p",{"aria-label":"dev profileId",className:"px-8 pb-2 text-body2 text-t-secondary",children:`dev:${o.auth.profileID}`})]})]})},dY=A(Tzt),Pzt="_accountSettingsPopupContainer_9y25y_1",Ozt="_section_9y25y_7",Mzt="_row_9y25y_14",Lzt="_backButton_9y25y_22",Rzt="_portrait_9y25y_27",Nzt="_title_9y25y_30",jzt="_sectionTitle_9y25y_34",Dzt="_nameChangeTextField_9y25y_43",Fzt="_lime_9y25y_47",Bzt="_deleteAccountButton_9y25y_50",kzt="_column_9y25y_53",Gzt="_fileInput_9y25y_65",ri={accountSettingsPopupContainer:Pzt,section:Ozt,row:Mzt,backButton:Lzt,portrait:Rzt,title:Nzt,sectionTitle:jzt,nameChangeTextField:Dzt,lime:Fzt,deleteAccountButton:Bzt,column:kzt,fileInput:Gzt},Vzt=({className:s,style:t,anchorRef:e,...i})=>{const{profileApi:n,creditsController:o,authController:a}=Pt(),l=ji(),{isCognitoUser:c}=a,h=m.useCallback(()=>{Hs.close(),Hs.open({content:r.jsx(dY,{anchorRef:e}),option:{ref:e,width:360,spot:Ds.TOP_RIGHT}})},[e]),d=m.useCallback(async v=>{const{files:y}=v.target;if(!y||!l)return;const b=y[0],C=`portrait-${l.id}`;try{const x=await pm.convertImageFileToDataURL(b),{dataUrl:I}=await bf(x,{width:60});if(!I)throw new Error("Resizing image failed");const T=await(await fetch(I)).blob(),D=new File([T],b.name,{type:"image/png"});await n.updateProfilePhoto(l.id,C,D)}catch(x){console.error(x)}},[l,n]),u=m.useCallback(()=>{Bt.open({content:r.jsx(RHt,{})}),Hs.close()},[]),f=m.useCallback(()=>{Bt.open({content:r.jsx(jHt,{})}),Hs.close()},[]),p=m.useCallback(()=>{Bt.open({content:r.jsx(OHt,{})}),Hs.close()},[]),g=m.useCallback(()=>{Bt.open({content:r.jsx(Cm,{creditsController:o}),option:{outClickHide:!0,size:"auto"}})},[o]),_=m.useCallback(()=>{Bt.open({content:r.jsx(zHt,{})}),Hs.close()},[]);return r.jsx(r.Fragment,{children:r.jsxs("div",{className:W(ri.accountSettingsPopupContainer,s),style:t,...i,children:[r.jsx("div",{className:ri.section,children:r.jsxs("div",{className:W(ri.row,"!p-0"),children:[r.jsx(Tt,{className:"!w-25 !pl-3",leftIcon:x_,onClick:h,variant:"normal",rounded:!0,children:r.jsx(Ze,{children:"Back"})}),r.jsx("p",{className:ri.sectionTitle,children:"Account settings"})]})}),l&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:ri.section,children:r.jsxs("div",{className:ri.row,children:[r.jsx(F_,{className:ri.portrait,label:l.fullName||l.email,portrait:l.portrait,size:"lg"}),r.jsx("input",{type:"file",className:ri.fileInput,id:"profile-image-input",accept:"image/*",onChange:d}),r.jsx(Tt,{className:ri.lime,variant:"auto",htmlFor:"profile-image-input",children:r.jsx(Ze,{children:"Upload photo"})})]})}),r.jsxs("div",{className:ri.section,children:[r.jsxs("div",{className:ri.row,children:[r.jsx("p",{className:ri.title,children:"Name"}),r.jsxs("div",{className:ri.column,children:[r.jsx("p",{className:"text-secondary-color",children:l.fullName}),r.jsx(Tt,{className:ri.lime,variant:"auto",onClick:u,children:r.jsx(Ze,{children:"Change name"})})]})]}),r.jsxs("div",{className:ri.row,children:[r.jsx("p",{className:ri.title,children:"Email"}),r.jsxs("div",{className:ri.column,children:[r.jsx("p",{className:"text-secondary-color",children:l.email}),c&&r.jsx(Tt,{className:ri.lime,variant:"auto",onClick:f,children:r.jsx(Ze,{children:"Change email"})})]})]}),c&&r.jsxs("div",{className:ri.row,children:[r.jsx("p",{className:ri.title,children:"Password"}),r.jsx(Tt,{className:ri.lime,variant:"auto",onClick:p,children:r.jsx(Ze,{children:"Change password"})})]})]}),r.jsx("div",{className:ri.section,children:r.jsxs("div",{className:ri.row,children:[r.jsx("p",{className:ri.title,children:"Credits"}),r.jsxs("div",{className:ri.column,children:[r.jsxs("div",{className:"flex gap-1",children:[r.jsx("div",{children:LR}),r.jsx("p",{className:"text-white",children:`${o.credits} credits`})]}),!Sf&&r.jsx(Tt,{className:ri.lime,variant:"auto",onClick:g,children:r.jsx(Ze,{children:"Get credits"})})]})]})}),r.jsx("div",{className:ri.section,children:r.jsxs("div",{className:ri.row,children:[r.jsx("p",{className:ri.title,children:"Account"}),r.jsxs("div",{className:ri.column,children:[r.jsx(Tt,{className:ri.deleteAccountButton,variant:"auto",onClick:_,children:r.jsx(Ze,{children:"Delete account"})}),r.jsx("p",{className:"text-secondary-color",children:"This action is permanent"})]})]})})]})]})})},Hzt=A(Vzt),Uzt=({className:s,style:t,...e})=>{const i=ji(),n=m.useRef(null),o=m.useCallback(()=>{Hs.open({content:r.jsx(dY,{anchorRef:n}),option:{ref:n,width:360,spot:Ds.TOP_RIGHT}})},[]);return i?r.jsx("div",{className:W("flex w-full flex-col items-center justify-start","border-b border-l-0 border-r-0 border-t-0 border-solid border-gray-60"),children:r.jsxs("button",{className:W("flex w-full items-center bg-none p-4 text-white outline-none hover:bg-hovered active:bg-pressed",s),style:t,onClick:o,"aria-label":"File grid profile button",...e,children:[r.jsx("div",{ref:n,className:"absolute left-68 top-0"}),r.jsx(F_,{label:i.fullName||i.email,portrait:i.portrait}),r.jsxs("div",{className:"ml-2 flex flex-col justify-start text-left",children:[r.jsx(Ze,{weight:"strong",children:i.fullName}),r.jsx("p",{className:"text-t-secondary",children:i.email})]})]})}):null},zzt=A(Uzt),Yzt=({className:s,style:t,...e})=>{const i=Ri(),{route:{routeName:n},teamController:o,subscriptionsController:a,authController:{auth:{isDev:l}}}=Pt(),{teamID:c}=n5(),h=f=>{const p=a.getSubscriptionForTeam(f);return a.isInitialized?r.jsx(lY,{planLevel:(p==null?void 0:p.planType)??cn.STARTER,size:"sm",className:"mr-2"}):null},d=m.useCallback(f=>{const{to:p,target:g}=f.currentTarget.dataset;if(p)return g==="_history_push"?i.push(p):window.open(p,g)},[i]),u=m.useCallback(()=>{aC(Gi.CREATE_TEAM),Bt.open({content:r.jsx(hY,{})})},[]);return r.jsxs("div",{className:W("left-0 flex h-full min-w-navbar flex-col overflow-x-hidden bg-panel md:w-l-panel",s),style:t,...e,children:[r.jsxs("div",{className:"flex h-0 w-full flex-grow flex-col overflow-y-hidden",children:[r.jsx(zzt,{}),r.jsx(xzt,{}),r.jsxs("div",{className:"flex w-full flex-col overflow-y-auto overflow-x-hidden px-2 pt-4",children:[r.jsx(Tl,{to:Rt[z.RECENT](),icon:x$,label:ff[z.RECENT],selected:n===z.RECENT,onClick:d}),r.jsx(Tl,{to:Rt[z.DRAFTS](),icon:MQ,label:ff[z.DRAFTS],selected:n===z.DRAFTS,teamID:Ty.team,onClick:d}),r.jsx(Tl,{to:Rt[z.GALLERY](),icon:GI,label:ff[z.GALLERY],selected:n===z.GALLERY,onClick:d}),r.jsx(Tl,{to:Rt[z.TUTORIALS](),icon:u5,label:ff[z.TUTORIALS],selected:n===z.TUTORIALS,onClick:d}),l&&r.jsx(Tl,{to:Rt[z.ANNOUNCEMENTS](),icon:$l,label:ff[z.ANNOUNCEMENTS],selected:n===z.ANNOUNCEMENTS,onClick:d}),r.jsx("p",{className:"mb-2 ml-4 mt-5 w-full text-body1 font-bold text-white",children:"Teams"}),o.allTeams.map((f,p)=>r.jsx(Tl,{to:Rt[z.TEAM](f.id),label:f.name||"",selected:c===f.id,teamID:f.id,onClick:d,rightContent:h(f.id),index:p},f.id)),r.jsx(Tl,{"data-tour-step":Gi.CREATE_TEAM,className:"[&>div>label]:!opacity-60",icon:Eo,label:"Create a team",selected:!1,onClick:u})]})]}),r.jsxs("div",{className:"w-full border-0 border-t-2 border-t-border p-2",children:[r.jsx(Tl,{to:rj,target:"_blank",icon:V$,label:"Documentation",teamID:Ty.team,onClick:d}),r.jsx(Tl,{to:nj,target:"_blank",icon:DQ,label:"Help Center",onClick:d}),r.jsx(Tl,{to:x5,target:"_blank",icon:B$,label:"Discord",onClick:d})]})]})},Wzt=A(Yzt),Xzt=()=>(jWt(),r.jsxs("div",{className:"flex h-full w-full flex-col bg-gray-100",children:[r.jsxs("div",{className:"flex h-0 w-full flex-grow",children:[r.jsx(Wzt,{}),r.jsx(Srt,{children:r.jsx(vzt,{})})]}),r.jsx(bzt,{}),r.jsx(vB,{fileSettingsController:null})]})),Fd=A(Xzt),Zzt=({text:s,shortcut:t,children:e,zIndex:i=100001,...n})=>{const o=m.useMemo(()=>r.jsxs("div",{className:W("bg-gray-100 p-2 text-center",{"flex justify-around gap-2":t}),children:[r.jsx("p",{className:"text-body2",children:s}),r.jsx("p",{className:"text-body2 text-white/6",children:t})]}),[s,t]);return r.jsx(fC,{popoverContent:o,arrowClassName:"fill-gray-100",offsetSize:8,disableOnOutsideClick:!0,disableOnEscPress:!0,disablePopoverInteraction:!0,disableBackdrop:!0,zIndex:i,...n,children:e})},qi=A(Zzt),Kzt=()=>(Ia?uY():window.location.replace("/start"),null);function uY(){const s=window.location.href.split(window.location.origin)[1];window.location.replace(`https://www.bezi.com${s}`)}function qzt(){const s=Pt(),{params:t}=MI(),[e,i]=m.useState(),[n,o]=m.useState();if(m.useEffect(()=>{if(e!=null)return;if(!lL(t.linkID)){uY();return}const l=new f_(null,s,void 0,t.linkID),c=l.getOrCreateRenderer(Jn.MAIN,{logarithmicDepthBuffer:!0});o(c),i(l)},[]),!e||!n||!lL(t.linkID))return null;const a=()=>{e.resetAnimations()};return r.jsxs("div",{className:Nw.editor,children:[r.jsx(I3,{viewportType:Jn.PUBLISHED,editor:e,shouldInit:!0,renderSceneOnly:!0,renderer:n}),r.jsxs("div",{className:Nw.editorView,children:[e.sceneController.showBookmarks&&r.jsx("div",{className:`toolbar ${Nw.publisherToolbar}`,children:r.jsx(tY,{sceneController:e.sceneController,isReadOnly:!0})}),r.jsxs("div",{className:"absolute right-4 mt-2 flex flex-row overflow-hidden rounded border border-solid border-gray-70 bg-panel",children:[Yd&&r.jsxs(r.Fragment,{children:[r.jsx(qi,{text:"Reset",children:r.jsx(Tt,{variant:"menu",onClick:a,children:Wy})}),r.jsx(B8,{editor:e})]}),!Yd&&r.jsxs(r.Fragment,{children:[r.jsx(qi,{text:"Reset",children:r.jsx(Tt,{variant:"menu",onClick:a,children:Wy})}),r.jsx(k8,{editor:e})]})]}),r.jsx(G8,{isBranded:!0})]}),r.jsx(S8,{controller:e}),r.jsx(wA,{editor:e})]})}const Qzt=A(qzt),Jzt=()=>r.jsx(Qzt,{}),$zt=()=>{const s=Ri(),t=Pt(),{authApi:e}=t,i=m.useCallback(()=>{s.push(Rt[z.START]())},[s]),n=m.useCallback(()=>{s.push(Rt[z.DEFAULT]())},[s]),o=m.useCallback(async()=>{U.trace("CompletelySignOut Started"),await e.signOut(!0,!0),document.cookie.split(";").forEach(function(a){document.cookie=a.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),localStorage.clear(),sessionStorage.clear(),caches.keys().then(function(a){a.forEach(function(l){caches.delete(l)})}),indexedDB.deleteDatabase("meshEditDatabase"),i()},[e,i]);return m.useEffect(()=>{o()},[o]),r.jsxs("div",{className:"flex h-full w-full flex-col items-center justify-center",children:[r.jsx("button",{className:"cursor-pointer",onClick:n,children:r.jsx("img",{alt:"Logo",src:O_})}),r.jsx(Ze,{children:"Please wait, clearing cache and signing you out"}),r.jsxs(K,{children:["If not redirected shortly please refresh page and try to"," ",r.jsx("a",{href:Rt[z.START](),children:"login again"})]})]})},tYt=A($zt);var al=(s=>(s.UNKNOWN_ERROR="UNKNOWN_ERROR",s.UNHANDLED_ERROR="UNHANDLED_ERROR",s.TOO_MANY_REQUESTS="TOO_MANY_REQUESTS",s.NETWORK_ERROR="NETWORK_ERROR",s))(al||{}),pI=(s=>(s.NETWORK_ERROR="NETWORK_ERROR",s.MISSING_PARAMETERS="MISSING_PARAMETERS",s))(pI||{}),Rh=(s=>(s.MISSING_PARAMETERS="MISSING_PARAMETERS",s.USER_NOT_FOUND="USER_NOT_FOUND",s.USER_ALREADY_AUTHENTICATED="USER_ALREADY_AUTHENTICATED",s.SERVICE_ERROR="SERVICE_ERROR",s.NO_EMAIL="NO_EMAIL",s))(Rh||{});const eYt=()=>{const[s,t]=m.useState(void 0),e=m.useCallback(async()=>{try{U.trace("Starting auth0ClientAuthenticate");const a=await Vn.getAuth0Client();if(!a){U.error("Unable to authenticate - No Auth0 Client");return}const l=await a.getTokenSilently({authorizationParams:{redirect_uri:b5,ignoreCache:!0},detailedResponse:!0});U.debug("getTokenSilentlyResponse",l);const c=await a.getIdTokenClaims();if(!c)throw new Error("No token claims found from Auth0");if(!(await Vn.signInWithAuth0(c)).success){U.debug("Error getToken",s),await f7(1e3),U.recordEvent(Wd.AUTH0_CLIENT_CHECK_SESSION_STARTED),await a.checkSession({authorizationParams:{redirect_uri:`${window.location.origin}/start`}}),await a.getTokenSilently();const d=await a.getIdTokenClaims();if(!d)throw new Error("No token claims found from Auth0");const u=await Vn.signInWithAuth0(d);if(!u.success){t(nYt(u.error));return}}U.recordEvent(Wd.AUTH0_CLIENT_GET_TOKEN_COMPLETE),window.location.assign("/recent")}catch(a){U.error("Failure in auth0ClientAuthenticate",a),U.recordEvent(Bc.AUTH0_CLIENT_FAILED_AUTHENTICATIN,a)}},[s]),i=gC(),n=m.useMemo(()=>i.get("code"),[i]),o=m.useMemo(()=>i.get("state"),[i]);return m.useEffect(()=>{n&&o&&e()},[e,n,o]),r.jsx(r.Fragment,{children:s?r.jsx(iYt,{errorMessage:s}):r.jsx(fY,{})})},sYt=()=>r.jsx(fY,{}),fY=()=>{const s=Ri(),t=m.useCallback(()=>{s.push(Rt[z.DEFAULT]())},[s]),e=m.useCallback(()=>{s.push(Rt[z.SIGN_IN]())},[s]);return r.jsxs("div",{className:"flex h-full w-full flex-col items-center justify-center",children:[r.jsx("button",{className:"cursor-pointer",onClick:t,children:r.jsx("img",{alt:"Logo",src:O_})}),r.jsx(Ze,{children:"Please wait, confirming authorization with identity provider..."}),r.jsxs(K,{children:["If not redirected shortly please refresh page or try to"," ",r.jsx(i_,{onPress:e,children:"login again"})]})]})},iYt=({errorMessage:s})=>{const t=Ri(),e=m.useCallback(()=>{t.push(Rt[z.DEFAULT]())},[t]),i=m.useCallback(()=>{t.push(Rt[z.SIGN_IN]())},[t]);return s?r.jsxs("div",{className:"flex h-full w-full flex-col items-center justify-center",children:[r.jsx("button",{className:"cursor-pointer",onClick:e,children:r.jsx("img",{alt:"Logo",src:O_})}),r.jsx(Ze,{children:s}),r.jsx(K,{children:r.jsx(i_,{onPress:i,children:"Log in"})})]}):null};function nYt(s){switch(s){case al.TOO_MANY_REQUESTS:return"Too many requests - please try again in a few minutes.";default:return"Unknown error. Please try again."}}const oYt=({teams:s,onSelectTeam:t,onCreateTeam:e,onContinue:i,selectedTeamId:n})=>{const o=n8t(),[a,l]=m.useState(!1),c=async()=>{l(!0),await i(),l(!1)},h=()=>{Ft("teams-upgrade-create-team"),e()},d=()=>{const u=Rt[z.RECENT]();window.location.assign(u)};return r.jsxs("div",{className:"max-w-106 rounded-lg bg-panel px-2.5 py-7",children:[r.jsx("div",{className:"mb-2.5 px-7 text-h4 font-bold",children:"Which team would you like to upgrade to the Teams Plan?"}),r.jsxs("div",{className:"mb-2.5 p-3",children:[s.map((u,f)=>r.jsx(Tl,{label:u.name||"",selected:n===u.id,teamID:u.id,onClick:()=>t(u.id,o[u.id]),className:"pr-4",index:f,rightContent:`${o[u.id]??0}
                ${o[u.id]==null||o[u.id]>1?"seats":"seat"}`},u.id)),r.jsx(Tl,{className:"[&>div>label]:!opacity-60",icon:Eo,label:"Create a team",selected:!1,onClick:h})]}),r.jsxs("div",{className:"flex gap-2 px-7",children:[r.jsx(Tt,{variant:"secondary",size:"sm",onClick:d,children:"Cancel"}),r.jsx(Tt,{variant:"primary",size:"sm",onClick:c,disabled:n==null||a,children:"Continue"})]})]})};var _f=(s=>(s.SELECT_TEAM="selectTeam",s.CREATE_TEAM="createTeam",s.ADD_MEMBERS="addmembers",s))(_f||{});const rYt="cycle",d4=[_f.SELECT_TEAM,_f.CREATE_TEAM,_f.ADD_MEMBERS],pY=A(s=>{const{initialUpgradeStep:t}=s,[e]=$8([rYt]),[i,n]=m.useState(t??_f.SELECT_TEAM),{teamController:o,billingApi:a,organizationsController:l,subscriptionsController:c}=Pt(),[h,d]=m.useState(null),u=m.useMemo(()=>{if(h!=null)return o.teamsByID.get(h.teamId)},[h,o]),f=m.useMemo(()=>o.allTeams.filter(v=>c.teamIdsWithSubscriptions.has(v.id)===!1),[o.allTeams,c.teamIdsWithSubscriptions]);if(!c.isInitialized)return null;if(l.currentOrganization!=null)return r.jsx(LI,{to:Rt[z.RECENT]()});const p=(v,y=1)=>{d({teamId:v,numberOfMembers:y})},g=(v=!1)=>{const y=d4.indexOf(i),b=v?Math.max(0,y-1):Math.min(d4.length-1,y+1);n(d4[b])},_=async()=>{if(h==null||u==null)return;const v=(e==null?void 0:e.toLowerCase())==="monthly"?Vr.MONTHLY:Vr.YEARLY,y=`${window.location.protocol}//${window.location.host}${Rt[z.TEAM_PAGE](u.id)}`;await a.goToPlanUpgradeCheckout(u,v,"teams-upgrade-flow",y)};return r.jsxs("div",{className:"flex h-full w-full items-center justify-center bg-black",children:[i===_f.SELECT_TEAM&&r.jsx(oYt,{onContinue:_,onCreateTeam:g,selectedTeamId:(h==null?void 0:h.teamId)??null,onSelectTeam:p,teams:f}),i===_f.CREATE_TEAM&&r.jsx(yI,{isCloseDisabled:!0,children:r.jsx(hY,{shouldRedirect:!1,onSubmitNewTeam:v=>{p(v),g()},onCancelNewTeam:()=>g(!0)})}),i===_f.ADD_MEMBERS&&r.jsx(yI,{isCloseDisabled:!0,children:r.jsx(L3,{closeActionLabel:"Skip for now",onSubmitAddMembers:_,onCancelAddMembers:_,currentTeam:u})})]})}),mY=({onNextPage:s})=>{const{profileApi:t,authController:{auth:{profileID:e,user:i}}}=Pt(),[n,o]=m.useState();m.useEffect(()=>{i!=null&&i.name&&o(i==null?void 0:i.name)},[i==null?void 0:i.name]);function a(c){o(c.target.value)}async function l(){e&&n&&(await t.updateProfile(e,{fullName:n}),Ft("nux-create-name")),s()}return r.jsx("div",{className:"flex h-full w-full items-center justify-center bg-black",children:r.jsxs("div",{className:"flex h-[700px] w-[600px] flex-col justify-center rounded-[var(--panel-radius)] bg-gray-90 p-10",children:[r.jsx("h2",{children:"Nice to meet you!"}),r.jsx(Ze,{color:"secondary",className:"mt-2",children:"Were excited to have you join us."}),r.jsx("div",{className:"my-8",children:r.jsx(Mi,{placeholder:"Name",value:n,onChange:a,onSubmit:l,autoFocus:!0,required:!0})}),r.jsx(Tt,{variant:"primary",disabled:!n,onClick:l,children:r.jsx(Ze,{children:"Continue"})})]})})},aYt=()=>{const{authController:{auth:{user:s}}}=Pt(),t=Ri(),[e]=$8([Vh.PREV_PATH_NAME]);m.useEffect(()=>{s&&Bnt(s.email)},[s]);function i(){t.push(e||Rt[z.DRAFTS]())}return r.jsx(mY,{onNextPage:i})},lYt=()=>{const[s,t]=m.useState(!1),e=()=>{t(!0)};return s?r.jsx(pY,{initialUpgradeStep:_f.CREATE_TEAM}):r.jsx(mY,{onNextPage:e})},cYt=()=>{const[s]=$8([Vh.IS_TEAM_UPGRADE]);return s==="true"?r.jsx(lYt,{}):r.jsx(aYt,{})},hYt=()=>({onAuth0Login:m.useCallback(async()=>{try{await Vn.redirectToAuth0Login()}catch(t){U.error("Error in Auth0Login",t)}},[])}),gY=()=>{const{onAuth0Login:s}=hYt();return r.jsx(cq,{domain:EN,clientId:SN,authorizationParams:{redirect_uri:b5},children:r.jsx(T5,{onPress:s,children:"Use single sign-on"})})};function _Y(s){return r.jsx(hq,{fallback:r.jsx(r.Fragment,{}),onError:t=>U.error("Failed to load Google Sign In",t),children:r.jsx(dYt,{...s})})}function dYt(s){const{authApi:t}=Pt(),{formState:e,setFormState:i}=s,[n,o]=m.useState(""),a=c=>{switch(c){case Ww.EMAIL_UNVERIFIED:return"You must verify your email with address with Google";case al.TOO_MANY_REQUESTS:return"Too many requests - please try again later";default:return"Something went wrong. Please contact support@bezi.com for help."}},l=m.useCallback(async c=>{if(e==="processing")return;i("processing");const h=await t.signInWithGoogle(c);h.success?window.location.toString().includes("recent")||window.location.assign("/recent"):(o(a(h.error)),i("idle"))},[t,e,i]);return m.useEffect(()=>{google.accounts.id.initialize({client_id:Rst,callback:l}),google.accounts.id.renderButton(document.getElementById("google-sign-in"),{theme:"outline",size:"large",width:`${Math.min(window.innerWidth-100,412)}px`,text:"continue_with"})},[l]),r.jsxs(r.Fragment,{children:[r.jsx("div",{id:"google-sign-in",className:"h-[44px]"}),r.jsx("div",{children:n})]})}function uYt({initialData:s,onEmailChange:t,onSubmit:e,errors:i,formState:n,emailInputRef:o,emailLabel:a="Email",state2Label:l}){const c=l[n];return r.jsxs(d1,{validationErrors:i==null?void 0:i.fieldErrors,onSubmit:e,children:[r.jsx(Dj,{defaultValue:s==null?void 0:s.email,inputRef:o,label:a,onChange:t}),r.jsx(x7,{name:"password",label:"Password",isDisabled:n==="redirecting",defaultValue:s==null?void 0:s.password}),r.jsx(f1,{type:"submit",isDisabled:n!=="idle",children:c}),r.jsx(u1,{children:i==null?void 0:i.formErrors})]})}const vY=uYt,fYt={idle:"Log in",processing:"Logging in...",redirecting:"Redirecting..."};function pYt(s){const{initialData:t,handleEmailChange:e,handleSubmit:i}=s;return r.jsx(vY,{initialData:t,...s,onEmailChange:e,onSubmit:i,state2Label:fYt})}const mYt=pYt,mI={async resendSignUpCode(s){U.trace("CognitoAuthService: resendSignUpCode called");try{const t=await dq({username:s});return{success:!0,data:t}}catch(t){return U.trace("CognitoAuthService: resendSignUpCode error",U.cleanObject(t)),{success:!1,error:gYt(t)}}},async signIn(s){try{return U.trace("CognitoAuthService: signIn called"),{success:!0,data:await nR(s)}}catch(t){return U.trace("CognitoAuthService: signIn error",U.cleanObject(t)),{success:!1,error:_Yt(t)}}}};function gYt(s){if(!(s instanceof Error))return al.UNKNOWN_ERROR;switch(s.name){case"ResendConfirmationException":return pI.NETWORK_ERROR;case"AuthValidationErrorCode":return pI.MISSING_PARAMETERS;default:return al.UNHANDLED_ERROR}}function _Yt(s){if(!(s instanceof Error))return al.UNKNOWN_ERROR;switch(s.name){case"UserAlreadyAuthenticatedException":return Rh.USER_ALREADY_AUTHENTICATED;case"UserNotFoundException":return Rh.USER_NOT_FOUND;case"InitiateAuthException":return Rh.SERVICE_ERROR;case"RespondToAuthChallengeException":return Rh.SERVICE_ERROR;case"AuthValidationErrorCode":return Rh.MISSING_PARAMETERS;case"AuthTokenConfigException":return Rh.SERVICE_ERROR;default:return al.UNHANDLED_ERROR}}const vYt=S.object({email:S.string().email().nonempty(),verificationCode:S.string().nonempty()});var gI;(s=>{async function t({email:e,verificationCode:i}){const n=await Vn.confirmSignUp(e,i);return bYt(n,yYt)}s.confirmSignUp=t})(gI||(gI={}));function yYt(s){const i={formErrors:[],fieldErrors:{}};switch(s){case Dg.UNHANDLED_ERROR:i.formErrors=["Unknown error. Please try again."];break;case Dg.UNKNOWN_ERROR:i.formErrors=["Something went wrong. Please try again."];break;case Dg.CODE_MISMATCH:i.fieldErrors.verificationCode=["Verification code is incorrect. Please try again."];break}return i}function bYt(s,t){return s.success?s:{success:!1,errors:t(s.error)}}const CYt=({onSuccess:s})=>{const[t,{toggleOn:e,toggleOff:i}]=ss(!1),[n,o]=m.useState(),[a]=CC();return{handleSubmit:m.useCallback(async c=>{c.preventDefault();const h=new FormData(c.currentTarget),d=Fb(vYt,h);if(!d.success){o(d.errors);return}e();const u=await gI.confirmSignUp(d.data);if(!u.success){if(o(u.errors),Object.keys(u.errors.fieldErrors).length===0&&u.errors.formErrors.length===0){s(d.data);return}i();return}o(void 0),s(d.data)},[s,i,e]),errors:n,isProcessing:t,inputRef:a}};function wYt({email:s,onSuccess:t}){const{handleSubmit:e,errors:i,inputRef:n,isProcessing:o}=CYt({onSuccess:t});return r.jsxs(d1,{validationErrors:i==null?void 0:i.fieldErrors,onSubmit:e,children:[r.jsx(Zc,{name:"email",value:s,type:"hidden"}),r.jsxs(h1,{name:"verificationCode",type:"text",isRequired:!0,"aria-label":"Verification code",children:[r.jsx(Zc,{ref:n,placeholder:"Verification code",variant:"form"}),r.jsx(T_,{})]}),r.jsx(f1,{type:"submit",isDisabled:o,children:o?"Verifying code...":"Continue"}),r.jsx(u1,{children:i==null?void 0:i.formErrors})]})}const xYt=wYt,EYt=({data:s,onCancel:t})=>{const{email:e}=s,{state:i}=Sm(),{authApi:n}=Pt(),o=m.useCallback(async()=>{try{await n.signInWithUserPassword(s.email,s.password);const l=(i==null?void 0:i.prevPathName)===Rt[z.TEAMS_UPGRADE](),c=new URLSearchParams;if((i==null?void 0:i.prevPathName)!=null&&c.set(Vh.PREV_PATH_NAME,i==null?void 0:i.prevPathName),l!=null){c.set(Vh.IS_TEAM_UPGRADE,`${l.toString()}`);const h=(i==null?void 0:i.prevParams)??{};for(const[d,u]of Object.entries(h))c.set(d,u)}window.location.assign(`${Rt[z.WELCOME]()}${c.size>0?`?${c.toString()}`:""}`)}catch(l){console.error(l)}},[n,s.email,s.password,i==null?void 0:i.prevParams,i==null?void 0:i.prevPathName]),a=m.useCallback(()=>{mI.resendSignUpCode(e)},[e]);return r.jsxs(r.Fragment,{children:[r.jsx(P_,{children:"Verification code"}),r.jsxs("div",{className:"text-body2",children:["We sent an email to ",r.jsx("b",{children:e})," with your verification code. Didn't get it? Check your spam folder or",r.jsx(i_,{className:"ml-1",onPress:a,children:"resend it."})]}),r.jsx(xYt,{email:e,onSuccess:o}),r.jsx(jj,{email:e,onCancel:t})]})},yY=A(EYt),bY=({onEmailChange:s,...t})=>{const{handleSubmit:e,errors:i,formState:n,focusRef:o,setFormState:a}=tT(t),l=m.useCallback(async c=>{s(c),Vn.userMustUseAuth0(c)&&(a("redirecting"),await Vn.redirectToAuth0Login())},[s,a]);return{handleSubmit:e,errors:i,formState:n,setFormState:a,handleEmailChange:l,emailInputRef:o}},SYt=S.object({email:S.string().email().nonempty(),password:S.string().nonempty()});var _I;(s=>{async function t(n,{email:o,password:a}){const l=await n.signInWithUserPassword(o,a);return l===jn.USER_NOT_CONFIRMED?{success:!0,data:l}:l!==jn.SIGNED_IN?{success:!1,errors:IYt(l)}:{success:!0,data:l}}s.signIn=t;function e(n){return Vn.userMustUseAuth0(n)}s.checkEmailForOrganization=e;async function i(){await Vn.redirectToAuth0Login()}s.redirectToAuth0Login=i})(_I||(_I={}));function IYt(s){const t={formErrors:[],fieldErrors:{}};switch(s){case jn.SIGNED_IN:break;case jn.USER_NOT_FOUND:t.formErrors.push("That email and password combination is incorrect.");break;case jn.NOT_AUTHORIZED:t.formErrors.push("That email and password combination is incorrect.");break;case jn.USER_NOT_CONFIRMED:t.fieldErrors.email=["User not verified. Please check your email for a confirmation code."];break;case jn.TOO_MANY_REQUESTS:t.formErrors.push("Too many requests. Please try again in a few minutes.");break;default:t.formErrors.push("Something went wrong. Please try again.")}return t}const AYt=s=>{const{authApi:t}=Pt();return bY({...s,formSchema:SYt,submitFn:async e=>await _I.signIn(t,e)})},u4=()=>{const[s,t]=m.useState(""),[e,i]=m.useState(""),[n,o]=m.useState("initial"),a=m.useCallback((c,h)=>{h===jn.USER_NOT_CONFIRMED&&(t(c.email),i(c.password),o("verification"))},[]),l=AYt({onEmailChange:t,onSuccess:a});return r.jsxs(g7,{children:[r.jsx(w7,{}),r.jsxs(C7,{children:[n==="initial"&&r.jsxs(r.Fragment,{children:[r.jsx(P_,{children:"Log in to Bezi"}),r.jsx(_Y,{...l}),r.jsx(mYt,{initialData:{email:s,password:e},...l}),r.jsx(TYt,{email:s})]}),n==="verification"&&r.jsx(yY,{data:{email:s,password:e},onCancel:()=>o("initial")})]})]})},TYt=s=>r.jsxs(y7,{children:[r.jsx(gY,{}),r.jsx(PYt,{...s}),r.jsx(OYt,{...s})]}),PYt=s=>{const{email:t}=s,e=Ri(),i=m.useCallback(()=>{const n=Yp(t);e.push(Rt[z.FORGOT_PASSWORD](n))},[e,t]);return r.jsx(T5,{onPress:i,children:"Reset password"})},OYt=s=>{const t=Ri(),{state:e}=Sm(),i=m.useCallback(()=>{t.push(Rt[z.SIGN_UP](),e)},[t,e]);return r.jsx(Nj,{label:"No account?",onPress:i,children:"Sign up"})},MYt={idle:"Create account",processing:"Creating account...",redirecting:"Redirecting..."};function LYt(s){const{initialData:t,handleEmailChange:e,handleSubmit:i}=s;return r.jsx(vY,{initialData:t,...s,onEmailChange:e,onSubmit:i,emailLabel:"Work email",passwordMinLength:8,state2Label:MYt})}const RYt=LYt,NYt=S.object({email:S.string().email().nonempty(),password:E7});var vI;(s=>{async function t({email:i,password:n}){const o=await Vn.signUp(i,n);return o.success?{success:!0,data:o.data}:{success:!1,errors:jYt(o.error)}}s.signUp=t;async function e(i){Vn.userMustUseAuth0(i)&&await Vn.redirectToAuth0Login()}s.checkEmailForOrganization=e})(vI||(vI={}));function jYt(s){const t={formErrors:[],fieldErrors:{}};switch(s){case jg.UNHANDLED_ERROR:t.formErrors=["Unknown error. Please try again."];break;case jg.UNKNOWN_ERROR:t.formErrors=["Unknown error. Please try again."];break;case jg.USERNAME_EXISTS:t.fieldErrors.email=["This email is already taken. Please log in."];break}return t}const DYt=s=>bY({...s,formSchema:NYt,submitFn:vI.signUp}),FYt=A(({onSuccess:s,initialData:t})=>{const[e,i]=m.useState(""),n=DYt({onEmailChange:i,onSuccess:s});return r.jsxs(r.Fragment,{children:[r.jsx(P_,{children:"Sign up for Bezi"}),r.jsx(_Y,{...n}),r.jsx(RYt,{initialData:t,...n}),r.jsx(BYt,{email:e})]})}),BYt=A(({email:s})=>r.jsxs(y7,{children:[r.jsx(GYt,{}),r.jsx(gY,{}),r.jsx(kYt,{email:s})]})),kYt=({email:s})=>{const t=Ri(),e=m.useCallback(()=>{t.push(Rt[z.SIGN_IN]())},[t]);return r.jsx(Nj,{label:"Already have an account?",onPress:e,children:"Sign in"})},GYt=A(()=>{const s=m.useCallback(()=>{window.open(tnt,"_blank")},[]),t=m.useCallback(()=>{window.open(ent,"_blank")},[]);return r.jsxs(K,{color:"secondary",nowrap:!0,children:["By registering, you agree to Bezis",r.jsx(i_,{className:"mx-1 font-bold",onPress:s,children:"Privacy Policy"}),"and",r.jsx(i_,{className:"ml-1 font-bold",onPress:t,children:"Terms of Use"})]})}),VYt=()=>{const[s,t]=m.useState(),[e,i]=m.useState("initial");return r.jsxs(g7,{children:[r.jsx(w7,{}),r.jsxs(C7,{children:[e==="initial"&&r.jsx(FYt,{onSuccess:n=>{t(n),i("verification")},initialData:s}),e==="verification"&&s&&r.jsx(yY,{data:s,onCancel:()=>i("initial")})]})]})};var z=(s=>(s.DEFAULT="default",s.RECENT="recent",s.DRAFTS="drafts",s.GALLERY="gallery",s.TUTORIALS="tutorials",s.REDIRECT="login",s.START="start",s.SIGN_UP="signup",s.SIGN_IN="signin",s.COMPLETE_SSO_LOGIN="complete_sso_login",s.COMPLETE_GOOGLE_LOGIN="complete_google_login",s.FORGOT_PASSWORD="forgot_password",s.WELCOME="welcome",s.COMMUNITY="community",s.FILE="file",s.FILE_LINK="file_link",s.FILE_PLAY="file_play",s.INTEGRATIONS="integrations",s.TEAM="team",s.TEAM_JOIN="team_join",s.TEAMS_UPGRADE="team_upgrade",s.TEAM_PAGE="team_page",s.ANNOUNCEMENTS="announcements",s.ORGANIZATION="organization",s.ORGANIZATION_PAGE="organization_page",s.CONNECT="connect",s.SIGN_OUT="sign_out",s))(z||{}),iT=(s=>(s.SETTINGS="settings",s))(iT||{}),_b=(s=>(s.SETTINGS="settings",s.TEAMS="teams",s.MEMBERS="members",s))(_b||{});const ff={[z.RECENT]:"Recently opened",[z.DRAFTS]:"Drafts",[z.GALLERY]:"Gallery",[z.TUTORIALS]:"Tutorials",[z.INTEGRATIONS]:"",[z.FILE]:"",[z.FILE_LINK]:"",[z.FILE_PLAY]:"",[z.TEAM_JOIN]:"",[z.TEAM_PAGE]:"",[z.TEAMS_UPGRADE]:"",[z.TEAM]:"",[z.REDIRECT]:"",[z.START]:"Start",[z.SIGN_IN]:"Log in",[z.SIGN_UP]:"Sign up",[z.COMPLETE_SSO_LOGIN]:"Complete SSO login",[z.COMPLETE_GOOGLE_LOGIN]:"Complete Google login",[z.FORGOT_PASSWORD]:"Forgot password",[z.WELCOME]:"Welcome",[z.COMMUNITY]:"Community",[z.DEFAULT]:"",[z.ANNOUNCEMENTS]:"Announcements",[z.ORGANIZATION]:"Admin settings",[z.ORGANIZATION_PAGE]:"",[z.CONNECT]:"Connect",[z.SIGN_OUT]:"Sign Out"},HYt={[z.RECENT]:"home-recent-loaded",[z.DRAFTS]:"home-drafts-loaded",[z.GALLERY]:"home-gallery-loaded",[z.TUTORIALS]:"home-tutorials-loaded",[z.INTEGRATIONS]:"integrations-loaded",[z.FILE]:"file-loaded",[z.FILE_LINK]:"file-link-loaded",[z.FILE_PLAY]:"file-play-loaded",[z.TEAM_JOIN]:"team-join-loaded",[z.TEAM_PAGE]:"team-page-loaded",[z.TEAMS_UPGRADE]:"team-upgrade-loaded",[z.TEAM]:"team-loaded",[z.START]:"nux-landing",[z.SIGN_IN]:"login",[z.SIGN_UP]:"signup",[z.COMPLETE_SSO_LOGIN]:"complete-sso-login",[z.COMPLETE_GOOGLE_LOGIN]:"complete-google-login",[z.FORGOT_PASSWORD]:"forgot-password",[z.REDIRECT]:"redirect",[z.WELCOME]:"nux-welcome",[z.COMMUNITY]:"community-loaded",[z.DEFAULT]:"website-loaded",[z.ANNOUNCEMENTS]:"annoucements-loaded",[z.ORGANIZATION_PAGE]:"organization-page-loaded",[z.ORGANIZATION]:"organization-loaded",[z.CONNECT]:"connect-loaded",[z.SIGN_OUT]:"sign-out"},Rt={[z.FILE]:s=>`/file/${s||":fileID"}`,[z.FILE_PLAY]:(s,t)=>`/play/${s||":fileID"}${t?"?xr":""}`,[z.TEAM_JOIN]:(s,t)=>`/team/${s||":teamID"}/join/${t||":recipient"}`,[z.TEAM_PAGE]:(s,t)=>`/team/${s||":teamID"}/${t||":page"}`,[z.TEAMS_UPGRADE]:()=>"/teams-upgrade",[z.TEAM]:s=>`/team/${s||":teamID"}`,[z.ORGANIZATION_PAGE]:(s,t)=>`/organization/${s||":organizationID"}/${t||":page"}`,[z.ORGANIZATION]:s=>`/organization/${s||":organizationID"}`,[z.INTEGRATIONS]:s=>`/integrations/${s||":app"}/auth`,[z.RECENT]:()=>"/recent",[z.DRAFTS]:()=>"/drafts",[z.GALLERY]:()=>"/gallery",[z.TUTORIALS]:()=>"/tutorials",[z.REDIRECT]:(s,t)=>`/start?code=${s||":code"}&state=${t||":state"}`,[z.START]:()=>"/start",[z.SIGN_UP]:()=>"/signup",[z.SIGN_IN]:()=>"/login",[z.COMPLETE_SSO_LOGIN]:()=>"/complete-sso-login",[z.COMPLETE_GOOGLE_LOGIN]:()=>"/complete-google-login",[z.FORGOT_PASSWORD]:s=>s?`/forgot-password?email=${s}`:"/forgot-password",[z.WELCOME]:()=>"/welcome",[z.COMMUNITY]:()=>"/community",[z.CONNECT]:()=>"/connect",[z.FILE_LINK]:(s,t)=>`/${s||":linkID"}${t?"?xr":""}`,[z.DEFAULT]:()=>"/",[z.ANNOUNCEMENTS]:()=>"/announcements",[z.SIGN_OUT]:()=>"/signout"},UYt={[z.SIGN_OUT]:{routeName:z.SIGN_OUT,path:Rt[z.SIGN_OUT](),component:tYt},[z.FILE]:{routeName:z.FILE,path:Rt[z.FILE](),component:UVt},[z.FILE_PLAY]:{routeName:z.FILE_PLAY,path:Rt[z.FILE_PLAY](),component:eHt},[z.TEAM_JOIN]:{routeName:z.TEAM_JOIN,path:Rt[z.TEAM_JOIN](),component:Fd,secure:!0},[z.TEAM_PAGE]:{routeName:z.TEAM_PAGE,path:Rt[z.TEAM_PAGE](),component:Fd,secure:!0},[z.TEAM]:{routeName:z.TEAM,path:Rt[z.TEAM](),component:Fd,secure:!0},[z.TEAMS_UPGRADE]:{routeName:z.TEAMS_UPGRADE,path:Rt[z.TEAMS_UPGRADE](),component:pY,secure:!0},[z.ORGANIZATION_PAGE]:{routeName:z.ORGANIZATION_PAGE,path:Rt[z.ORGANIZATION_PAGE](),component:Fd,secure:!0},[z.ORGANIZATION]:{routeName:z.ORGANIZATION,path:Rt[z.ORGANIZATION](),component:Fd,secure:!0},[z.INTEGRATIONS]:{routeName:z.INTEGRATIONS,path:Rt[z.INTEGRATIONS](),component:void 0},[z.RECENT]:{routeName:z.RECENT,path:Rt[z.RECENT](),component:Fd,secure:!0},[z.DRAFTS]:{routeName:z.DRAFTS,path:Rt[z.DRAFTS](),component:Fd,secure:!0},[z.GALLERY]:{routeName:z.GALLERY,path:Rt[z.GALLERY](),component:Fd,secure:!0},[z.TUTORIALS]:{routeName:z.TUTORIALS,path:Rt[z.TUTORIALS](),component:Fd,secure:!0},[z.ANNOUNCEMENTS]:{routeName:z.ANNOUNCEMENTS,path:Rt[z.ANNOUNCEMENTS](),component:Fd,secure:!0},[z.REDIRECT]:{routeName:z.REDIRECT,path:Rt[z.REDIRECT](),component:u4},[z.START]:{routeName:z.START,path:Rt[z.START](),component:u4},[z.SIGN_IN]:{routeName:z.SIGN_IN,path:Rt[z.SIGN_IN](),component:u4},[z.SIGN_UP]:{routeName:z.SIGN_UP,path:Rt[z.SIGN_UP](),component:VYt},[z.COMPLETE_SSO_LOGIN]:{routeName:z.COMPLETE_SSO_LOGIN,path:Rt[z.COMPLETE_SSO_LOGIN](),component:eYt},[z.COMPLETE_GOOGLE_LOGIN]:{routeName:z.COMPLETE_GOOGLE_LOGIN,path:Rt[z.COMPLETE_GOOGLE_LOGIN](),component:sYt},[z.FORGOT_PASSWORD]:{routeName:z.FORGOT_PASSWORD,path:Rt[z.FORGOT_PASSWORD](),component:Zrt},[z.WELCOME]:{routeName:z.WELCOME,path:Rt[z.WELCOME](),component:cYt,secure:!0},[z.COMMUNITY]:{routeName:z.COMMUNITY,path:Rt[z.COMMUNITY](),component:nat},[z.CONNECT]:{routeName:z.CONNECT,path:Rt[z.CONNECT](),component:$rt},[z.FILE_LINK]:{routeName:z.FILE_LINK,path:Rt[z.FILE_LINK](),component:Jzt},[z.DEFAULT]:{routeName:z.DEFAULT,path:Rt[z.DEFAULT](),component:Kzt}},CY=s=>{U.recordPageView(),WYt(s.routeName);const[t,e]=m.useState(!0);return r.jsx(r.Fragment,{children:r.jsxs(Q8.Provider,{value:{isOverlayActive:t,setIsOverlayActive:e},children:[r.jsx(uq,{...s}),r.jsx(oXt,{}),r.jsx(yI,{}),r.jsx(WGt,{}),r.jsx(JXt,{})]})})},zYt=A(s=>{const{state:t}=Sm(),{authController:e}=Pt();return e.auth.state?e.auth.state===jn.SIGNED_IN&&[z.DEFAULT,z.START,z.SIGN_IN].includes(s.routeName)?r.jsx(LI,{to:(t==null?void 0:t.prevPathName)||Rt[z.RECENT]()}):r.jsx(CY,{...s}):null}),YYt=A(s=>{var n;const{authController:t}=Pt(),e=Sm(),i=gC();return t.auth.state?t.auth.state!==jn.SIGNED_IN?r.jsx(LI,{to:{pathname:Rt[z.START](),state:{prevPathName:e.pathname,prevRouteName:s.routeName,prevParams:{...s.routeName===z.TEAM_JOIN?{recipient:(n=s.computedMatch)==null?void 0:n.params.recipient}:Object.fromEntries(i.entries())}}}}):r.jsx(CY,{...s}):null}),WYt=s=>{const{setRoute:t}=Pt(),e=Sm();m.useEffect(()=>{t({...e,routeName:s})},[e,s,t]),m.useEffect(()=>{s&&Ft(HYt[s])},[s])},D3=s=>{const t=Ri(),{toggleOnIsProcessing:e,toggleOffIsProcessing:i,teamApi:n,teamController:o,subscriptionsController:a}=Pt(),{teamID:l,recipient:c}=n5(),h=ji(),d=m.useMemo(()=>{if(a.isInitialized)return o.teamsByID.get(s??l)},[s,l,o.teamsByID,a.isInitialized]),u=m.useCallback(async()=>{if(d||!l||!h||!c||vN(c)!==(h==null?void 0:h.email))return;e();const p=await n.getTeam(l);if(!p){i();return}if(!(await Tf(l)).find(v=>v.profile===h.email&&v.access===Sa.InvitePending)){i(),t.push(Rt[z.DEFAULT]());return}n.addTeamMember(l,c,h.id),o.addTeam(p),i(),t.push(Rt[z.TEAM](l))},[d,l,h,c,e,n,o,i,t]);return m.useEffect(()=>{u()},[u]),d},XYt=()=>{const{authApi:s}=Pt();return r.jsx(wrt,{isKeyboardDismissDisabled:!0,defaultOpen:!0,isOpen:!0,children:r.jsx(gL,{className:"relative outline-none",role:"alertdialog",children:r.jsxs("div",{className:"flex flex-col justify-center gap-4",children:[r.jsx(KL,{slot:"title",className:"my-0 text-h4 font-semibold",children:"Sign in to continue"}),r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsx("p",{className:"text-body1",children:"Your session has ended. Please sign in again."}),r.jsx("div",{className:"mt-1 flex",children:r.jsx(A5,{size:"md",className:"rounded-md",onPress:async()=>{await s.signOut()},children:r.jsx(Ze,{color:"black",children:"Sign in"})})})]})]})})})},ZYt=A(XYt);async function KYt(){const s=he.profileID,t=Xt.docClient;if(!s||!t)return[];const i=(await t.send(new Ti({TableName:RN,IndexName:"fileViewsByProfile",ScanIndexForward:!1,KeyConditionExpression:"profile = :p",ExpressionAttributeValues:{":p":s}}))).Items;return i?i.map(o=>o.file):[]}let pg=null;const nT=()=>{var C,x;const s=Ri(),{isProcessing:t,activeTourStep:e,toggleOnIsProcessing:i,toggleOffIsProcessing:n,route:{routeName:o},authController:{auth:{profileID:a}},fileApi:l,filesController:c}=Pt(),h=ji(),{teamID:d}=n5(),[u,{toggleOn:f,toggleOff:p}]=ss(),[g,_]=m.useState(),{showModal:v}=Irt(),y=m.useCallback(async()=>{var k,Y,G;if(!a||!h||t)return;const I=Hr({text:"Creating file...",options:{autoHide:!1}},{text:"Opening file..."},{text:"Failed creating file..."});i(),I.load();const T=await(async()=>e===Gi.CREATE_FILE?l.duplicateFile(a,Pnt):l.createFile({creator:a,team:d}))();if(!T.success){n(),I.fail();const st=T.error.type;_(st),(st===lf.MISSING_PAYLOAD_RESPONSE||st===lf.NO_PROFILE)&&v(ZYt);return}const D=T.data;(o===z.DRAFTS||o===z.TEAM)&&c.addFile(D),I.success();const B=!Object.values(((G=(Y=(k=h.data)==null?void 0:k.nux)==null?void 0:Y.tourStatus)==null?void 0:G[Gl.EDITOR_TOUR])||{}).filter(st=>!st).length,F=e!==Gi.CREATE_FILE&&B;s.push({pathname:Rt[z.FILE](D.id),state:{startWithTemplateLibrary:F}}),y3(Gi.CREATE_FILE),n(),Ft("new-file")},[a,h,(x=(C=h==null?void 0:h.data)==null?void 0:C.nux)==null?void 0:x.tourStatus,t,i,n,e,o,s,l,d,c]);m.useEffect(()=>{c.clearFiles(),f()},[c,o,d,f]);const b=m.useCallback(async()=>{if(!h)return;pg==null||pg.stop();let I=null;if(o===z.RECENT&&!d){pg=$g(KYt());const T=await pg.start();I=l.getFiles(T)}else o===z.DRAFTS&&!d?I=l.getFilesByTeam(void 0,a):o===z.GALLERY&&!d?I=l.getFilesByTeam(gst,void 0):(o===z.TEAM||o===z.TEAM_JOIN||o===z.TEAM_PAGE)&&d&&(I=l.getFilesByTeam(d,void 0));if(I===null)return;pg=$g(I);const O=await pg.start();c.addFiles(O.filter(Boolean)),p()},[h,o,d,c,p,l,a]);return Rb(b,Dit,!0,!0),{loading:u,onFileCreate:y,status:g}},wY=s=>{const{fileApi:t}=Pt(),[e,i]=m.useState(null),n=m.useCallback(async()=>{const o=await t.getFile(s);i(o||null)},[s,t]);return m.useEffect(()=>{n()},[n]),e},xY=s=>{const[t,e]=m.useState([]),i=m.useCallback(async()=>{const n=await B_(Ae.TEMPLATE,uo.BEZI,s,null,null,-1);e((n==null?void 0:n[0])||[])},[s]);return m.useEffect(()=>{i()},[i]),t[0]},qYt=({className:s,style:t,material:e,onSubmit:i,...n})=>{const[o,a]=m.useState(e.name),l=m.useRef(null),c=m.useCallback(u=>{a(u.target.value)},[]),h=m.useCallback(()=>{Bt.close()},[]),d=m.useCallback(()=>{o&&(h(),i(o))},[o,h,i]);return m.useEffect(()=>{var u,f;(u=l.current)==null||u.focus(),(f=l.current)==null||f.select()},[]),r.jsx(dn,{title:"Save this material to library",submitActionLabel:"Save",onSubmit:d,onClose:h,isDisabledSubmit:!o,children:r.jsx(Mi,{className:"my-2",ref:l,size:"sm",placeholder:"Title of material",value:o,status:o?"normal":"error",onChange:c,onSubmit:d,required:!0})})},QYt=m.memo(qYt),JYt=({className:s,style:t,material:e,onSubmit:i,...n})=>{const[o,a]=m.useState(e.name),l=m.useRef(null),c=m.useCallback(u=>{a(u.target.value)},[]),h=m.useCallback(()=>{Bt.close()},[]),d=m.useCallback(()=>{o&&(h(),i(e.id,o))},[o,h,i,e.id]);return m.useEffect(()=>{var u,f;(u=l.current)==null||u.focus(),(f=l.current)==null||f.select()},[]),r.jsx(dn,{title:"Rename Material",submitActionLabel:"Save Changes",onSubmit:d,onClose:h,isDisabledSubmit:!o,children:r.jsx(Mi,{className:"my-2",ref:l,size:"sm",placeholder:"Title of material",value:o,status:o?"normal":"error",onChange:c,onSubmit:d,required:!0})})},$Yt=m.memo(JYt),f4={...ij,...ej,...sj},tWt=(s,t)=>{var n;let e="-",i="-";return t===_i.BEZI?(e="bezel",i="-"):t===_i.TEAM?(e=((n=s.fileController.team)==null?void 0:n.id)||"-",i="-"):(e="-",i=s.fileController.id),[e,i]},oT=(s,t=!1)=>{var e,i,n,o,a,l,c,h;return{color:new Ge(parseInt(`0x${ir(s.color)}`)),opacity:s.opacity,roughness:s.roughness,metalness:s.metalness,normalScale:new ee(s.normal,s.normal),aoMapIntensity:s.ambientOcclusion,map:s.mapTexture,alphaMap:s.alphaMapTexture,roughnessMap:s.roughnessMapTexture,metalnessMap:s.metalnessMapTexture,normalMap:s.normalMapTexture,aoMap:s.aoMapTexture,thickness:(e=s.advancedEffects.Glass)==null?void 0:e.thickness,transmission:(i=s.advancedEffects.Glass)==null?void 0:i.transmission,ior:(n=s.advancedEffects.Glass)==null?void 0:n.ior,sheen:(o=s.advancedEffects.Sheen)==null?void 0:o.sheen,sheenColor:new Ge(parseInt(`0x${ir(((a=s.advancedEffects.Sheen)==null?void 0:a.color)??"000000")}`)),sheenRoughness:(l=s.advancedEffects.Sheen)==null?void 0:l.roughness,clearcoat:(c=s.advancedEffects.Clearcoat)==null?void 0:c.clearcoat,clearcoatRoughness:(h=s.advancedEffects.Clearcoat)==null?void 0:h.roughness,type:t?s.lightingModel:void 0}},EY=(s,t=!1)=>{var e,i,n,o,a,l,c,h;return{color:new Ge(parseInt(`0x${ir(s.color)}`)),opacity:s.opacity,roughness:s.roughness,metalness:s.metalness,normalScale:new ee(s.normal,s.normal),aoMapIntensity:s.ambientOcclusion,map:null,alphaMap:null,roughnessMap:null,metalnessMap:null,normalMap:null,aoMap:null,thickness:(e=s.advancedEffects.Glass)==null?void 0:e.thickness,transmission:(i=s.advancedEffects.Glass)==null?void 0:i.transmission,ior:(n=s.advancedEffects.Glass)==null?void 0:n.ior,sheen:(o=s.advancedEffects.Sheen)==null?void 0:o.sheen,sheenColor:new Ge(parseInt(`0x${ir(((a=s.advancedEffects.Sheen)==null?void 0:a.color)??"000000")}`)),sheenRoughness:(l=s.advancedEffects.Sheen)==null?void 0:l.roughness,clearcoat:(c=s.advancedEffects.Clearcoat)==null?void 0:c.clearcoat,clearcoatRoughness:(h=s.advancedEffects.Clearcoat)==null?void 0:h.roughness,type:t?s.lightingModel:void 0}},rT=(s,t=[],e=!1)=>{var nt;const{libParams:i,setLibParams:n}=Pt(),[o,{toggleOn:a,toggleOff:l}]=ss(!1),[c,{toggleOn:h,toggleOff:d}]=ss(!1),[u,f]=m.useState("-"),[p,g]=m.useState(s.fileController.id),[_,v]=m.useState({}),[y,b]=m.useState({}),{updateMaterialPreviewAt:C}=IY(s,y),x=m.useRef(null),I=m.useRef(null),O=m.useRef({}),T=m.useMemo(()=>p!=="-"?_i.FILE:u==="bezel"?_i.BEZI:_i.TEAM,[u,p]),D=m.useMemo(()=>Object.values(_).map(({id:ot,name:Et})=>{var Ot;return{id:ot,name:Et,data:{preview:((Ot=s.materialController.getMaterialPreview(ot))==null?void 0:Ot.data)??""}}}),[s.materialController,_]),B=m.useMemo(()=>e,[e]),F=m.useCallback(async(ot=!0)=>{if(c||ot&&!x.current)return;let Et;if(h(),p!=="-"?Et=await sA(p,null,16,ot?x.current:null):u!=="-"&&(Et=await iA(u,null,16,ot?x.current:null)),!Et){d();return}const[Ot,ut]=Et;v(yt=>{const Kt={...yt};for(const ye of Ot)Kt[ye.id]=ye;return Kt}),x.current=ut,d()},[c,h,p,u,d]),k=m.useCallback(ot=>{var yt;const Et=t[0].material,Ot=_t();Et.material.data.preview={lg:Ot};const ut=Qh({name:ot,file:s.fileController.id,team:((yt=s.fileController.team)==null?void 0:yt.id)||"-",data:JSON.stringify(Et.material.data)},s.materialController);s.stateController.recordBefore({action:P.MATERIAL,selection:t});for(const Kt of t)Kt.entity.sceneObject.materialID=ut.id;v(Kt=>({[ut.id]:s.materialController.materials[ut.id],...Kt})),s.stateController.signals.material.dispatch({action:P.MATERIAL,selection:t}),s.stateController.recordAfter({action:P.MATERIAL,selection:t}),s.libraryController.addAsset(ut,Ae.MATERIAL)},[s.fileController.id,(nt=s.fileController.team)==null?void 0:nt.id,s.libraryController,s.materialController,s.stateController,t]),Y=m.useCallback((ot,Et,Ot)=>{var Cs;const ut=Ot??_[ot];if(!ut)return;const yt={...ut,name:Et},Kt={lastWriter:he.sessionID,lastUpdated:Date.now()};(Cs=s.materialController.materials[ot])==null||Cs.setName(Et),v(He=>({...He,[ot]:yt})),$y({id:ot,name:yt.name,team:yt.team,file:yt.file,data:JSON.stringify(yt.data),lastWriter:Kt.lastWriter});for(const He of Object.values(s.sceneController.sceneEntitiesById)){const je=He.sceneObject;if(je.allMaterialIDs&&je.allMaterialIDs.includes(ot)){Ws([{...je.clone(),...Kt}]);break}}const ye=hs(s.sceneController.scene.baseValues());ye.lastUpdated=Kt.lastUpdated,ye.lastWriter=Kt.lastWriter,Aa(s.fileController.id,ye).catch(He=>{console.warn("File scene updated failed:",He)})},[_,s]),G=m.useCallback(ot=>{const Et={lastWriter:he.sessionID,lastUpdated:Date.now()};for(const ut of Object.values(s.sceneController.sceneEntitiesById)){const yt=ut.sceneObject;if(!yt.allMaterialIDs)continue;const Kt=[];for(const ye of yt.allMaterialIDs)if(ye===ot.id){const Cs=Qh({data:JSON.stringify(ot.data)},s.materialController);Kt.push(Cs.id)}Kt.length&&(bj(yt.base(),ot.id,Kt),Ws([{...yt.clone(),...Et}]))}v(ut=>{const yt={...ut};return delete yt[ot.id],yt}),s.materialController.deleteMaterial(ot.id),$y({id:ot.id,name:"Material",team:"-",file:"-",data:JSON.stringify(ot.data),lastWriter:Et.lastWriter});const Ot=hs(s.sceneController.scene.baseValues());Ot.lastUpdated=Et.lastUpdated,Ot.lastWriter=Et.lastWriter,Aa(s.fileController.id,Ot).catch(ut=>{console.warn("File scene updated failed:",ut)})},[s]),st=m.useCallback(ot=>{const Et=_[ot];Et&&G(Et)},[_,G]),$=m.useCallback(()=>{F(!0)},[F]),X=m.useCallback(()=>{var ot,Et;f(((ot=i[Gh.MaterialLib])==null?void 0:ot.team)||"-"),g(((Et=i[Gh.MaterialLib])==null?void 0:Et.file)||s.fileController.id),v({}),b({}),a()},[s.fileController.id,i,a]),q=m.useCallback(ot=>{const[Et,Ot]=tWt(s,ot);f(Et),g(Ot),v({}),b({}),n(ut=>({...ut,[Gh.MaterialLib]:{team:Et,file:Ot}}))},[s,n]);m.useEffect(()=>{o&&F(!1)},[u,p,o]);const at=m.useCallback(()=>{B||Bt.open({content:r.jsx(QYt,{material:t[0].material.material,onSubmit:k})})},[t,k,B]),bt=m.useCallback(ot=>{const Et=_[ot];Et&&Bt.open({content:r.jsx($Yt,{material:Et,onSubmit:Y})})},[Y,_]),lt=m.useCallback(ot=>{typeof ot=="string"?st(ot):G(ot)},[st,G]),ct=m.useCallback(ot=>{const Et=_[ot];Et&&F3(s,Et,t)},[s,t,_]);return m.useEffect(()=>{for(const ot of Object.values(_)){const Et=ot.data;O.current={...O.current,[ot.id]:EY(Et)},b(O.current)}},[_]),m.useEffect(()=>{for(const ot of Object.values(_)){const{map:Et,alphaMap:Ot,roughnessMap:ut,metalnessMap:yt,normalMap:Kt,aoMap:ye}=ot.data,Cs={map:Et,alphaMap:Ot,roughnessMap:ut,metalnessMap:yt,normalMap:Kt,aoMap:ye};for(const[He,je]of Object.entries(Cs))je&&CN([je.sm,je.md,je.lg],ui=>{if(ui&&(ui.colorSpace=He==="map"?Oa:RL,ui.generateMipmaps=!0),!O.current[ot.id])return;const ha={[ot.id]:{...O.current[ot.id],[He]:ui}};O.current={...O.current,...ha},C(ha)})}},[_,C]),{category:T,isLoading:c,materialLib:o,materialLibItems:D,disableAddMaterialToLib:B,materialLibAnchorRef:I,hideMaterialLib:l,handleLoadMore:$,handleMaterialLibOpen:X,handleMaterialLibCategoryChange:q,handleMaterialAddToLib:at,handleMaterialApplyFromLib:ct,handleLibMaterialRename:bt,handleLibMaterialRemove:lt,renameLibMaterial:Y}},SY=(s,t)=>{const e=m.useMemo(()=>t[0],[t]),i=m.useMemo(()=>[{type:J.COLOR,default:!0},{type:J.ALPHA},{type:J.ROUGHNESS},{type:J.METALNESS},{type:J.NORMAL,requireMap:!0}],[]),n=m.useMemo(()=>[{type:jl.GLASS},{type:jl.SHEEN},{type:jl.CLEARCOAT}],[]),o=m.useCallback(T=>Mh.isEnabled(e.mask,T),[e.mask]),a=m.useCallback(T=>{s.stateController.recordBefore({action:P.MATERIAL_MASK,selection:t});const D=Mh.toggle(e.mask,T),B=Mh.isEnabled(D,T);let F=t[0].opacity,k=t[0].roughness,Y=t[0].metalness,G=t[0].normal;const st=t[0].ambientOcclusion,$=t[0].displacement;if(!B)switch(T){case J.ALPHA:F=KN;break;case J.ROUGHNESS:k=qN;break;case J.METALNESS:Y=QN;break;case J.NORMAL:G=JN;break;case J.AO:G=tj;break;case J.DISPLACEMENT:G=$N;break}for(const X of t)X.mask=D,X.opacity=F,X.roughness=k,X.metalness=Y,X.normal=G,X.ambientOcclusion=st,X.displacement=$;s.stateController.signals.materialMask.dispatch({action:P.MATERIAL_MASK,selection:t}),s.stateController.recordAfter({action:P.MATERIAL_MASK,selection:t})},[s.stateController,e.mask,t]),l=m.useCallback(()=>{s.stateController.recordBefore({action:P.ADVANCED_EFFECTS,selection:t})},[s.stateController,t]),c=m.useCallback(()=>{s.stateController.signals.advancedEffects.dispatch({action:P.ADVANCED_EFFECTS,selection:t})},[s.stateController,t]),h=m.useCallback(()=>{s.stateController.recordAfter({action:P.ADVANCED_EFFECTS,selection:t})},[s.stateController,t]),d=m.useCallback(T=>{l();for(const D of t)if(D.advancedEffects[T]!=null)D.advancedEffects[T]=void 0;else{switch(T){case jl.GLASS:{D.advancedEffects.Glass={...f4.Glass};break}case jl.SHEEN:{D.advancedEffects.Sheen={...f4.Sheen};break}case jl.CLEARCOAT:{D.advancedEffects.Clearcoat={...f4.Clearcoat};break}}D.enableAdvancedEffect(T)}c(),h()},[t,c,h,l]),u=m.useCallback(T=>{s.stateController.recordBefore({action:P.MATERIAL_TYPE,selection:t});for(const D of t)D.setMeshMaterial(T);s.stateController.signals.materialType.dispatch({action:P.MATERIAL_TYPE,selection:t}),s.stateController.recordAfter({action:P.MATERIAL_TYPE,selection:t})},[s.stateController,t]),f=m.useMemo(()=>{const T=[];for(const D in ue)T.push({id:D,text:D,onClick:()=>u(D),iconLeft:r.jsx(r.Fragment,{children:e.lightingModel===D&&r.jsx(Oi,{icon:ps})})});return T},[e.lightingModel,e,u]),p=m.useMemo(()=>i.map(({type:T,default:D})=>({id:_t(),text:T,iconLeft:r.jsx(r.Fragment,{children:(D||o(T))&&r.jsx(Oi,{icon:ps})}),onClick:()=>{a(T)},disabled:D})),[o,i,a]),g=m.useMemo(()=>n.map(({type:T})=>({id:_t(),text:T,iconLeft:r.jsx(r.Fragment,{children:e.advancedEffects!=null&&e.advancedEffects[T]!=null&&r.jsx(Oi,{icon:ps})}),onClick:()=>{d(T)}})),[n,e.advancedEffects,d]),_=m.useCallback(T=>{switch(T){case J.COLOR:return[e.color,e.map];case J.ALPHA:return[e.opacity,e.alphaMap];case J.ROUGHNESS:return[e.roughness,e.roughnessMap];case J.METALNESS:return[e.metalness,e.metalnessMap];case J.NORMAL:return[e.normal,e.normalMap];case J.AO:return[e.ambientOcclusion,e.aoMap];case J.DISPLACEMENT:return[e.displacement,e.displacementMap];default:return[1,null]}},[e.alphaMap,e.ambientOcclusion,e.aoMap,e.color,e.displacement,e.displacementMap,e.map,e.metalness,e.metalnessMap,e.normal,e.normalMap,e.opacity,e.roughness,e.roughnessMap]),v=m.useCallback(async(T,D,B)=>{D&&be.open({id:_t(),icon:r.jsx(ko,{}),text:`Uploading "${D.name}"...`,options:{autoHide:!1}});let F=null,k=null,Y=!1;if(D||B!=null&&B.referenceImgUrl&&B.figmaFileUrl){const G=(B==null?void 0:B.referenceImgUrl)==null?null:{figmaFrameUrl:B.figmaFileUrl,figmaImageUrl:B.referenceImgUrl},st=(B==null?void 0:B.imageFlipY)??G===null,$=await nx(D,st,G);F=$.texture,k=$.urlKey,G&&(Y=!0),k!=null&&(Tg[k.sm]=F,Tg[k.md]=F,Tg[k.lg]=F)}else if(B!=null&&B.referenceImgUrl&&!B.figmaFileUrl){k={isUrlExternal:!0,lg:B.referenceImgUrl};const G={lowestPowerOfTwo:!0,crossOrigin:"anonymous"},{dataUrl:st}=await bf(B.referenceImgUrl,G);F=await yj(st)}for(const G of t)G.setTextureUrlKey(T,k),Y&&(G.setMeshMaterial(ue.Unlit),G.opacity=ix);s.stateController.signals.materialMap.dispatch({action:P.MATERIAL_MAP,selection:t}),D&&be.close()},[s.stateController.signals.materialMap,t]),y=m.useCallback(T=>{for(const D of t)D.repeatX=T.tilingX,D.repeatY=T.tilingY,D.offsetX=T.offsetX,D.offsetY=T.offsetY,D.rotation=ms.degToRad(T.rotation);s.stateController.signals.materialMap.dispatch({action:P.MATERIAL_MAP,selection:t})},[s.stateController.signals.materialMap,t]),b=m.useMemo(()=>t.every(T=>fG.includes(T.entity.type)),[t]),C=m.useCallback(async T=>{for(const D of t){const B=D.getUrlKeyByType(T);if(!(B==null||B.lg==null))try{const F=await xs(B.lg);if(F!=null){const k=await bN(F);if(k.width&&k.height){const Y=D.entity;s.sceneController.tryResizeEntity(Y,k.width,k.height)}}}catch(F){console.error(F)}}},[s.sceneController,t]),x=m.useCallback((T,D)=>{switch(T){case J.COLOR:for(const B of t)B.color=D;s.stateController.signals.color.dispatch({action:P.COLOR,selection:t});break;case J.ALPHA:for(const B of t)B.opacity=D;s.stateController.signals.opacity.dispatch({action:P.OPACITY,selection:t});break;case J.ROUGHNESS:for(const B of t)B.roughness=D;s.stateController.signals.roughness.dispatch({action:P.ROUGHNESS,selection:t});break;case J.METALNESS:for(const B of t)B.metalness=D;s.stateController.signals.metalness.dispatch({action:P.METALNESS,selection:t});break;case J.NORMAL:for(const B of t)B.normal=D;s.stateController.signals.normal.dispatch({action:P.NORMAL,selection:t});break;case J.AO:for(const B of t)B.ambientOcclusion=D;s.stateController.signals.ao.dispatch({action:P.AO,selection:t});break;case J.DISPLACEMENT:for(const B of t)B.displacement=D;s.stateController.signals.displacement.dispatch({action:P.DISPLACEMENT,selection:t});break}},[s.stateController.signals.ao,s.stateController.signals.color,s.stateController.signals.displacement,s.stateController.signals.metalness,s.stateController.signals.normal,s.stateController.signals.opacity,s.stateController.signals.roughness,t]),I=m.useCallback(T=>{switch(T){case J.COLOR:s.stateController.recordBefore({action:P.COLOR,selection:t});break;case J.ALPHA:s.stateController.recordBefore({action:P.OPACITY,selection:t});break;case J.ROUGHNESS:s.stateController.recordBefore({action:P.ROUGHNESS,selection:t});break;case J.METALNESS:s.stateController.recordBefore({action:P.METALNESS,selection:t});break;case J.NORMAL:s.stateController.recordBefore({action:P.NORMAL,selection:t});break;case J.AO:s.stateController.recordBefore({action:P.AO,selection:t});break;case J.DISPLACEMENT:s.stateController.recordBefore({action:P.DISPLACEMENT,selection:t});break}},[s.stateController,t]),O=m.useCallback(T=>{switch(T){case J.COLOR:s.stateController.recordAfter({action:P.COLOR,selection:t});break;case J.ALPHA:s.stateController.recordAfter({action:P.OPACITY,selection:t});break;case J.ROUGHNESS:s.stateController.recordAfter({action:P.ROUGHNESS,selection:t});break;case J.METALNESS:s.stateController.recordAfter({action:P.METALNESS,selection:t});break;case J.NORMAL:s.stateController.recordAfter({action:P.NORMAL,selection:t});break;case J.AO:s.stateController.recordAfter({action:P.AO,selection:t});break;case J.DISPLACEMENT:s.stateController.recordAfter({action:P.DISPLACEMENT,selection:t});break}},[s.stateController,t]);return{materialTypeOptions:f,updateMaterialType:u,properties:i,propOptions:p,advancedProperties:n,advancedPropOptions:g,isEnabledProperty:o,getPropValueAndMap:_,onMapChange:v,onMapPropertiesChange:y,onValueChange:x,recordBefore:I,recordAfter:O,isResizableToMap:b,onResizeToMap:C,onAdvancedEffectValueChange:c,recordBeforeAdvancedEffects:l,recordAfterAdvancedEffects:h}},eWt=s=>{var i,n,o,a,l,c,h,d;const t=m.useRef(null),e=V8();return m.useEffect(()=>{if(!(!t.current||!e))return e.adjustCamera(),e.appendToDOM(t.current),e.shouldRenderEveryFrame=!0,()=>{e.appendToDOM(),e.shouldRenderEveryFrame=!1}},[e]),m.useEffect(()=>{if(!s||!e)return;e.materialType!==(s==null?void 0:s.lightingModel)&&e.updateMaterialType(s==null?void 0:s.lightingModel);const u=oT(s);e.updateMaterial(u)},[e,s,s==null?void 0:s.color,s==null?void 0:s.opacity,s==null?void 0:s.roughness,s==null?void 0:s.metalness,s==null?void 0:s.normal,s==null?void 0:s.ambientOcclusion,s==null?void 0:s.mapTexture,s==null?void 0:s.alphaMapTexture,s==null?void 0:s.roughnessMapTexture,s==null?void 0:s.metalnessMapTexture,s==null?void 0:s.normalMapTexture,s==null?void 0:s.aoMapTexture,s==null?void 0:s.lightingModel,s==null?void 0:s.advancedEffects,(i=s==null?void 0:s.advancedEffects.Glass)==null?void 0:i.thickness,(n=s==null?void 0:s.advancedEffects.Glass)==null?void 0:n.transmission,(o=s==null?void 0:s.advancedEffects.Glass)==null?void 0:o.ior,(a=s==null?void 0:s.advancedEffects.Sheen)==null?void 0:a.sheen,(l=s==null?void 0:s.advancedEffects.Sheen)==null?void 0:l.color,(c=s==null?void 0:s.advancedEffects.Sheen)==null?void 0:c.roughness,(h=s==null?void 0:s.advancedEffects.Clearcoat)==null?void 0:h.clearcoat,(d=s==null?void 0:s.advancedEffects.Clearcoat)==null?void 0:d.roughness]),{rendererRef:t}},IY=(s,t)=>{const e=V8(),i=m.useCallback(n=>{if(!e)return;e.adjustCamera();const o=Object.entries(n||t),a=!!n;for(const[l,c]of o){c.type&&c.type!=e.materialType&&e.updateMaterialType(c.type);const h=l.includes("lib-"),d=h?l.slice(4):l;let u=s.materialController.getMaterialPreview(d);u&&!a||(u||(u={}),u.urlKey||(u.urlKey=_t()),e.updateMaterial(c),e.captureAsUrlKey(u.urlKey,"image/png",h).then(f=>{f&&(u.data=f,s.materialController.setMaterialPreview(d,u))}))}},[t,s.materialController,e]);return m.useEffect(()=>{i()},[i]),{updateMaterialPreviewAt:i}},sWt=(s,t=!0)=>{const[e,i]=m.useState({}),[n,o]=m.useState({}),a=s.map(c=>c.id).join(),l=m.useCallback(()=>{const c={},h={};for(const d of s){let u="";t?u=JSON.stringify(d.keyData):u=d.materialID,Vi.isMaterialFromLibrary(d)&&(u=`lib-${d.materialID}`),c[u]?c[u].push(d):(c[u]=[d],h[u]=oT(d,!0))}i(c),o(h)},[s,t,a]);return m.useEffect(()=>{l()},[l]),{uniqueMaterialComponents:e,uniqueMaterialProps:n}};function F3(s,t,e=[]){if(e.length!==0){s.stateController.recordBefore({action:P.MATERIAL,selection:e}),s.materialController.addMaterial(t);for(const i of e)i.entity.sceneObject.materialID=t.id,i.incrementRevision();s.stateController.signals.material.dispatch({action:P.MATERIAL,selection:e}),s.stateController.recordAfter({action:P.MATERIAL,selection:e})}}let hy=null;const iWt=s=>{var b;const[t,e]=m.useState(""),[i]=Qx.useDebounce(t,300),[n,{toggleOn:o,toggleOff:a}]=ss(!1),[l,c]=m.useState(_i.FILE),[h,d]=m.useState(Ae.MATERIAL),u=m.useRef(null),f=m.useCallback(C=>{c(C)},[]),p=m.useCallback(C=>{s.libraryController.setLibraryType(C),d(C)},[s.libraryController]),g=m.useCallback(C=>{e(C)},[]),[_,v]=m.useMemo(()=>{var C;switch(l){case _i.BEZI:return[uo.BEZI,null];case _i.TEAM:return[((C=s.fileController.team)==null?void 0:C.id)??null,null];default:return[null,s.fileController.id]}},[s.fileController.id,(b=s.fileController.team)==null?void 0:b.id,l]),y=m.useCallback(async(C=!1)=>{C||(u.current=null,o());let x=null;const I=64;hy==null||hy.stop(),h===Ae.MATERIAL?_?x=iA(_,i,I,u.current):v&&(x=sA(v,i,I,u.current)):_?x=bA(h,_,null,null,i,I,u.current):v&&(x=B_(h,null,v,null,i,I,u.current)),hy=$g(x);const O=await hy.start();if(!O)return;const[T,D]=O;s.libraryController.addAssets(T,h,!C),u.current=D,C||a()},[i,s.libraryController,v,h,_,a,o]);return m.useEffect(()=>{y()},[y]),{selectedLibrary:l,selectedType:h,searchValue:t,isLoading:n,onLibraryChange:f,onTypeChange:p,onSearchValueChange:g,listAssets:y}},nWt=(s,t)=>{const[e,i]=m.useState({}),n=m.useMemo(()=>!("type"in(t[0]??{})),[t]),o=m.useCallback(async()=>{var l;let a=[];if(n){a=await ex(t.map(h=>{var d,u;if(!((d=s.getMaterialPreview(h.id))!=null&&d.data))return(u=h.data.preview)==null?void 0:u.lg}));const c={};for(const[h,d]of t.entries()){const u=a[h];u&&(c[d.id]={urlKey:(l=d.data.preview)==null?void 0:l.lg,data:u})}s.appendMaterialPreviews(c)}else{a=await ex(t.map(h=>{var d;return(d=h.preview)==null?void 0:d.urlKey}));const c={};for(const[h,d]of t.entries()){const u=a[h];u&&(c[d.id]=u)}i(c)}},[t,s,n]);return m.useEffect(()=>{if(n){const a={};for(const l of t){const c=l.data;a[l.id]=EY(c,!0)}o()}else o()},[n,t,o]),n?s.materialPreviews:e},oWt="ai",yC=(s,t=Gh.AssetLib,e=Ae.COMPONENT)=>{var Y,G,st,$,X,q;const{fileApi:i,libParams:n,setLibParams:o}=Pt(),[a,l]=m.useState(((Y=n[t])==null?void 0:Y.searchVal)||null),[c]=Qx.useDebounce(a,300),[h,{toggleOn:d,toggleOff:u}]=ss(!1),f=m.useRef(null),[p,g]=m.useState([]),[_,v]=m.useState(t===Gh.TemplateLib?uo.BEZI:((G=n[t])==null?void 0:G.team)||((st=s.fileController.team)==null?void 0:st.id)||uo.BEZI),[y,b]=m.useState(t===Gh.TemplateLib||(($=n[t])==null?void 0:$.file)===null?null:((X=n[t])==null?void 0:X.file)||s.fileController.id),[C,x]=m.useState(((q=n[t])==null?void 0:q.type)||e),I=m.useCallback(()=>{wt(it.SELECT)},[]),O=m.useCallback(at=>{at===uo.BEZI&&y!==oWt&&b("-"),v(at)},[y]),T=m.useCallback(at=>{b(at)},[]),D=m.useCallback(at=>{x(at)},[]),B=m.useCallback(at=>{l(at)},[]);m.useEffect(()=>{o(at=>({...at,[t]:{team:_,file:y,type:C,searchVal:c}}))},[_,y,C,c,o,t]);const F=m.useCallback(async()=>{let at=[];_===uo.BEZI?at=[]:_&&(at=await i.getFilesByTeam(_,void 0)),g(at)},[i,_]);m.useEffect(()=>{F()},[F]);const k=m.useCallback(async(at=!1)=>{at||(f.current=null,d(),s.assetController.clearAssets());let bt;const lt=C===Ae.TEMPLATE?-1:16;if(y&&y!=="-"?bt=await B_(C,null,y,null,c,lt,f.current):bt=await bA(C,_,null,null,c,lt,f.current),!bt)return;const[ct,nt]=bt;s.assetController.addAssets(ct),f.current=nt,at||u()},[c,s.assetController,y,_,C,u,d]);return m.useEffect(()=>{k()},[k]),{files:p,selectedTeam:_,selectedFile:y,selectedType:C,searchValue:a,isLoading:h,onClose:I,onTeamChange:O,onFileChange:T,onTypeChange:D,onSearchValueChange:B,listAssets:k}},vd=s=>{const{fileApi:t,authController:{auth:{profileID:e}}}=Pt(),i=m.useCallback(()=>{s.componentsController.createNewComponent()},[s.componentsController]),n=m.useCallback(async x=>{await qc(x,s.assetController)},[s.assetController]),o=m.useCallback(x=>{s.componentsController.unlinkInstance(x)},[s.componentsController]),a=m.useCallback(async x=>{yy(x,s.assetController);const I=await eo(s.fileController.id,null,0,!1),O=Object.values(I).filter(({asset:T})=>T==null?void 0:T.includes(x));o(O)},[s.assetController,s.fileController.id,o]),l=m.useCallback((x,I)=>{s.componentsController.replaceInstance(x,I)},[s.componentsController]),c=m.useCallback(x=>{const I=s.assetController.assets[x];I&&wt(it.PLACE,I)},[s.assetController.assets]),h=m.useCallback(x=>{s.componentsController.goToMainComponent(x)},[s.componentsController]),d=m.useCallback(x=>{s.componentsController.restoreMainComponent(x)},[s.componentsController]),u=m.useCallback(async(x,I,O,T,D)=>{const B=Hr({text:`Uploading "${x}" to HDRI library...`,options:{autoHide:!1}},{text:`Uploaded "${x}" to HDRI library`},{text:"Failed creating HDRI"});let F;try{Ft("library-new-hdri"),F=await lb.uploadHDRIFileAsAsset(x,O,T,D,I,s.assetController),B.success()}catch{B.fail()}return F},[s.assetController]),f=m.useCallback(async(x,I,O,T)=>{try{Ft("library-edit-hdri");let D=null,B=null,F=null;if(O&&T){if(F=T.name.split(".").pop()||null,!F)throw Error("Missing file extension");D=_t(),B=_t(),await Promise.all([ks(D,O),ks(B,T)])}await qc({id:x,name:I,lastWriter:he.sessionID,...D&&{preview:JSON.stringify({urlKey:D,camera:{direction:[0,0,0]}})},...B&&F&&{data:JSON.stringify({urlKey:B,extension:F})}},s.assetController)}catch(D){console.error(D)}},[s.assetController]),p=m.useCallback(x=>{Ft("library-remove-hdri"),yy(x,s.assetController)},[s.assetController]),g=m.useCallback(async(x,I,O,T)=>{const D=Hr({text:`Uploading "${x}" to audio library...`,options:{autoHide:!1}},{text:`Uploaded "${x}" to audio library`},{text:"Failed creating audio"});let B;try{Ft("library-new-audio"),B=await lb.uploadSoundFileAsAsset(x,I,O,T,s.assetController),D.success()}catch{D.fail()}return B},[s.assetController]),_=m.useCallback(async x=>{Ft("library-remove-audio"),await yy(x,s.assetController)},[s.assetController]),v=m.useCallback(async(x,I,O,T,D)=>{const B=Hr({text:`Uploading "${I}" to template library...`,options:{autoHide:!1}},{text:`Uploaded "${I}" to template library`},{text:"Failed creating template"});try{const F=_t();let k=null;O&&(k=_t(),await ks(k,O)),await ab({id:F,name:I,type:Ae.TEMPLATE,team:uo.BEZI,file:x,data:JSON.stringify({mode:T,isStarterTemplate:D}),isPrivate:!1,lastWriter:he.sessionID,...k&&{preview:JSON.stringify({urlKey:k,camera:{direction:[0,0,0]}})}},s.assetController),B.success()}catch{B.fail()}},[s.assetController]),y=m.useCallback(async(x,I,O,T,D)=>{const B=Hr({text:"Saving changes to template library...",options:{autoHide:!1}},{text:"Saved changes to template library"},{text:"Failed editing template"});try{let F=null;O&&(F=_t(),await ks(F,O)),await qc({id:x,name:I,data:JSON.stringify({mode:T,isStarterTemplate:D}),lastWriter:he.sessionID,...F&&{preview:JSON.stringify({urlKey:F,camera:{direction:[0,0,0]}})}},s.assetController),B.success()}catch{B.fail()}},[s.assetController]),b=m.useCallback(async x=>{var O;if(!e)return;const I=Hr({text:"Template is being applied...",options:{autoHide:!1}},{text:"Applied template"},{text:"Applying template is failed"});try{if(wt(it.SELECT),!(await t.duplicateFile(e,x,(O=s.fileController.team)==null?void 0:O.id,s.fileController.id,s.fileController)).success)throw Error();I.success()}catch{I.fail()}},[s.fileController,t,e]),C=m.useCallback(x=>{const I=Hr({text:"Template is being removed...",options:{autoHide:!1}},{text:"Removed template"},{text:"Removing template is failed"});try{yy(x,s.assetController),I.success()}catch{I.fail()}},[s.assetController]);return{onComponentCreate:i,onComponentUpdate:n,onComponentUnlink:o,onComponentRemove:a,onComponentReplace:l,onComponentPlace:c,onMainComponentSelect:h,onMainComponentRestore:d,onHDRICreate:u,onHDRIEdit:f,onHDRIRemove:p,onSoundCreate:g,onSoundRemove:_,onTemplateCreate:v,onTemplateEdit:y,onTemplateRemove:C,onTemplateSelect:b}},aT=(s,t)=>m.useMemo(()=>t?_i.FILE:s===uo.BEZI?_i.BEZI:_i.TEAM,[t,s]),rWt=(s,t)=>{const[e,i]=m.useState(""),[n,o]=m.useState(null),a=m.useMemo(()=>t[0].compo,[t]),l=m.useMemo(()=>a.componentID?s.componentsController.restoringMainComponents.has(ym(a.componentID)):!1,[a.componentID,JSON.stringify(s.componentsController.restoringMainComponents)]),c=m.useCallback(u=>{i(u.target.value)},[]),h=m.useCallback(()=>{s.stateController.recordBefore({action:P.NAME}),t.forEach(u=>u.setName(e)),s.stateController.signals.name.dispatch({action:P.NAME}),s.stateController.recordAfter({action:P.NAME}),t.forEach(async u=>{u.compo.componentID&&await qc({id:ym(u.compo.componentID),name:u.name},s.assetController)})},[s.assetController,s.stateController,t,e]);m.useEffect(()=>{i(t[0].name)},[t,t[0].name]);const d=m.useCallback(async()=>{if(!a.isInstanceRoot||!a.componentID)return;const u=await u6(a.componentID);if(!u)return;const f=await s.fileApi.getFile(u.file);o(!u.source||!f)},[a.componentID,s.fileApi,l]);return m.useEffect(()=>{d()},[d]),{compo:a,name:e,shouldRestoreMainComponent:n,isRestoringMainComponent:l,onNameChange:c,onNameSubmit:h}},Jf=(s,{forceReturnUrl:t,forceReturnUndefined:e})=>{const[i,n]=m.useState([]),o=m.useCallback(async()=>{if(t){n([t]);return}if(e){n([void 0]);return}const a=await ex(s);n(a)},[e,t,JSON.stringify(s)]);return m.useEffect(()=>{o()},[o]),i},bC=(s,t=0)=>m.useCallback(i=>{const{scrollHeight:n,scrollTop:o,clientHeight:a}=i.target;Math.floor(n-o-t)<=a&&s()},[s,t]),AY=()=>{const{fileApi:s}=Pt();return m.useCallback(async e=>{be.open({id:_t(),icon:r.jsx(ko,{}),text:`Copying dev file "${e}" to prod...`,options:{autoHide:!1}});const i=await s.duplicateFile(he.profileID,e,void 0,void 0,void 0,!0);be.open({id:_t(),text:i?`Copied "${e}" to prod`:`Failed copying "${e}" to prod`})},[s])},TY=s=>{const[t,e]=m.useState([]),i=m.useCallback(()=>{const{innerWidth:n,innerHeight:o}=window;e([n,o]),s==null||s(n,o)},[s]);return m.useEffect(()=>(window.addEventListener("resize",i),i(),()=>{window.removeEventListener("resize",i)}),[i]),t},aWt=()=>{const{activeTourStep:s,toggleOnTourStepVisible:t,toggleOffTourStepVisible:e}=Pt(),{onContinue:i}=Um(),n=m.useCallback(l=>{var d;const c=l.detail;if(!c||c!==s)return;const h=Hh[c];pw((d=h==null?void 0:h.toasts)==null?void 0:d.anchorInteractOn),h!=null&&h.shouldHideWhenAnchorInteractOn&&e()},[s,e]),o=m.useCallback(l=>{var h,d;const c=l.detail;!c||c!==s||(pw((d=(h=Hh[c])==null?void 0:h.toasts)==null?void 0:d.anchorInteractOff),t())},[s,t]),a=m.useCallback(l=>{var u,f;const c=l.detail,h=c.step,d=c.autoContinue;!h||h!==s||(pw((f=(u=Hh[h])==null?void 0:u.toasts)==null?void 0:f.complete),d&&i())},[s,i]);m.useEffect(()=>(window.addEventListener(Ud.ANCHOR_INTERACT_ON,n),window.addEventListener(Ud.ANCHOR_INTERACT_OFF,o),window.addEventListener(Ud.TOUR_STEP_COMPLETE,a),()=>{window.removeEventListener(Ud.ANCHOR_INTERACT_ON,n),window.removeEventListener(Ud.ANCHOR_INTERACT_OFF,o),window.removeEventListener(Ud.TOUR_STEP_COMPLETE,a)}),[n,o,a])},lWt=()=>{var u,f;const{route:{routeName:s},allToursDone:t,activeTour:e,setActiveTour:i,setActiveTourStep:n,toggleOffAllToursDone:o,toggleOnAllToursDone:a,toggleOnTourStepVisible:l,toggleOffTourStepVisible:c}=Pt(),h=ji(),d=m.useMemo(()=>!Yd&&!t&&!!e,[e,t]);return m.useEffect(()=>{let p=null;(s===z.RECENT||s===z.DRAFTS||s===z.GALLERY||s===z.TUTORIALS||s===z.TEAM)&&(p=Gl.FILE_GRID_TOUR),s===z.FILE&&(p=Gl.EDITOR_TOUR),i(p)},[s,i]),m.useEffect(()=>{var C,x;if(!e||!h){c(),n(null);return}if(!((x=(C=h.data)==null?void 0:C.nux)!=null&&x.tourStatus))return a();const p=h.data.nux.tourStatus[Gl.FILE_GRID_TOUR],g=h.data.nux.tourStatus[Gl.EDITOR_TOUR];if([...Object.values(p),...Object.values(g)].filter(I=>!I).length===0)return a();o(),l();const v=_3(e),y=e===Gl.FILE_GRID_TOUR?p:g;let b=null;for(const I of v)if(!y[I]){b=I;break}n(b)},[e,h,(f=(u=h==null?void 0:h.data)==null?void 0:u.nux)==null?void 0:f.tourStatus,n,o,c,a,l]),{isVisible:d}},cWt=()=>{const{activeTourStep:s}=Pt(),[t,e]=m.useState(null),i=m.useCallback(()=>{if(!s)return e(null);const n=document.querySelector(`[data-tour-step="${s}"]`);e(n)},[s]);return Rb(i,1e3,!0,!0),t},hWt=()=>{const{activeTourStep:s}=Pt(),t=cWt(),[e,i]=m.useState();m.useEffect(()=>{i(null)},[s]);const n=m.useCallback(()=>{i(t==null?void 0:t.getBoundingClientRect())},[t]);return TY(n),e},Um=()=>{var l,c,h,d;const{activeTour:s,activeTourStep:t,profileApi:e}=Pt(),i=ji(),n=m.useCallback(u=>{i&&e.updateProfileNux(i.id,{tourStatus:u})},[i,e]),o=m.useCallback(()=>{var _,v;if(!i||!((v=(_=i.data)==null?void 0:_.nux)!=null&&v.tourStatus)||!s)return;const u=i.data.nux.tourStatus,f={},p=_3(s);for(const y of p)f[y]=!0;const g={...u,[s]:f};n(g),Ft("nux-tour-skip",{tour:s})},[s,i,(c=(l=i==null?void 0:i.data)==null?void 0:l.nux)==null?void 0:c.tourStatus,n]),a=m.useCallback(()=>{var p,g;if(!i||!((g=(p=i.data)==null?void 0:p.nux)!=null&&g.tourStatus)||!s||!t)return;const u=i.data.nux.tourStatus,f={...u,[s]:{...u[s],[t]:!0}};n(f),Ft("nux-tour-step-complete",{tour:s,step:t})},[s,t,i,(d=(h=i==null?void 0:i.data)==null?void 0:h.nux)==null?void 0:d.tourStatus,n]);return{onSkip:o,onContinue:a}},dWt=()=>{var o,a;const{activeTour:s}=Pt(),t=ji(),{onContinue:e}=Um(),i=m.useMemo(()=>{var c,h;if(!t||!((h=(c=t.data)==null?void 0:c.nux)!=null&&h.tourStatus))return;const l=t.data.nux.tourStatus[Gl.FILE_GRID_TOUR];return{[Gi.CREATE_PROFILE]:l[Gi.CREATE_PROFILE],[Gi.CREATE_FILE]:l[Gi.CREATE_FILE],[Gi.CREATE_TEAM]:l[Gi.CREATE_TEAM],[Gi.JOIN_COMMUNITY]:l[Gi.JOIN_COMMUNITY]}},[t,(a=(o=t==null?void 0:t.data)==null?void 0:o.nux)==null?void 0:a.tourStatus]),n=m.useMemo(()=>!(s!==Gl.FILE_GRID_TOUR||!i||Object.values(i).filter(c=>!c).length===0),[s,i]);return{status:i,isVisible:n,onSkip:e}},uWt=()=>{const s=Ri(),{activeTour:t,activeTourStep:e}=Pt(),i=ji(),{onContinue:n}=Um(),o=m.useMemo(()=>{var l,c;return!(!i||!((c=(l=i.data)==null?void 0:l.nux)!=null&&c.tourStatus)||t!==Gl.FILE_GRID_TOUR||e!==Gi.DONE_ALL_TOURS)},[t,e,i]),a=m.useCallback((l=!1)=>{n(),!l&&s.push(Rt[z.GALLERY]())},[s,n]);return{isVisible:o,onDone:a}},fWt=()=>{const{activeTour:s,activeTourStep:t,setActiveTourStep:e}=Pt(),i=m.useMemo(()=>{if(!s)return[];const o=_3(s),a=[];let l=!0;for(const c of o){if(c===li.START_EDITOR_TOUR)continue;let h=!1;c===t&&(l=!1,h=!0),a.push({step:c,completed:l,active:h})}return a},[s,t]),n=m.useCallback(o=>{const a=o.currentTarget.value;e(a)},[e]);return{progressStatus:i,onClickDot:n}};async function pWt(s){try{const t=Xt.docClient;if(!t)throw new Error("DynamoDBDocumentClient client not found");await t.send(new Ho({TableName:jN,Item:s}))}catch(t){console.error(t)}}async function mWt(s){return Promise.all(s.map(t=>pWt(t)))}const gWt="https://www.googleapis.com/youtube/v3/playlistItems",_Wt="PLqbA2OpBvs84mqPX6RaUmnZ1niDaSXSro",vWt=async({part:s=`${A4.SNIPPET},${A4.STATUS}`,playlistId:t=_Wt,maxResults:e=100,pageToken:i})=>{let n=`${gWt}?part=${s}&maxResults=${e}&playlistId=${t}&key=${_st}`;i&&(n=`${n}&pageToken=${i}`);try{return await(await fetch(n)).json()}catch(o){console.error(o)}},PY=async(s,t=[])=>{const e=await vWt(s||{});if(!e)return t;const i=[...t,...e.items],n=e.nextPageToken;return n?PY({...s,pageToken:n},i):i},yWt=async s=>{var t;try{const e=Xt.docClient;if(!e)throw new Error("DynamoDBDocumentClient client not found");const i=s?{ExclusiveStartKey:{id:s}}:{},n=await e.send(new fq({...i,TableName:jN})),o=n.Items,a=(t=n.LastEvaluatedKey)==null?void 0:t.id;return[o.map(c=>bWt(c)),a]}catch(e){console.error(e)}};function bWt(s){const{id:t,data:e}=s;return{id:t,...e&&{data:JSON.parse(e)}}}const CWt=()=>{const[s,t]=m.useState([]),[e,{toggleOn:i,toggleOff:n}]=ss(),o=m.useRef(),a=m.useCallback(async(d=!1)=>{if(d&&!o.current)return;i();const u=await yWt(o.current);if(n(),!u)return;const[f,p]=u;o.current=p,t(d?g=>[...g,...f]:f)},[n,i]),l=m.useCallback(async()=>{i();const u=(await PY()).map(({snippet:f,status:p})=>p.privacyStatus==="public"?{id:f.resourceId.videoId,data:JSON.stringify({title:f.title,thumbnails:f.thumbnails})}:null).filter(Boolean);await mWt(u),o.current=void 0,a()},[a,i]),c=m.useCallback(()=>{a(!0)},[a]),h=bC(c);return m.useEffect(()=>{a()},[a]),{tutorials:s,loading:e,onScroll:h,onRefresh:l}},B3=()=>{const[s,t]=m.useState(0),e=m.useRef(null);return m.useLayoutEffect(()=>{if(!e.current)return;const i=window.getComputedStyle(e.current),n=i.getPropertyValue("grid-template-rows").split(" ").length,o=i.getPropertyValue("grid-template-columns").split(" ").length;t(n*o)},[]),[e,s]};function wWt(s,t,e,i){const n=m.useRef(null),o=m.useRef(!1),a=m.useRef(!1);m.useEffect(()=>{const d=s.current;d!=null&&(t?e&&i?(n.current=setTimeout(()=>{d.select()}),d.select()):(d.setSelectionRange(d.selectionEnd,d.selectionEnd),n.current!=null&&clearTimeout(n.current)):n.current!=null&&clearTimeout(n.current))},[t,e,s,i]);const l=m.useCallback(()=>{o.current=!0},[]),c=m.useCallback(()=>{const d=s.current;d!=null&&(!o.current&&!a.current&&d.selectionStart===d.selectionEnd&&d.select(),o.current=!1,document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",c))},[l,s]);return{onPointerDown:()=>{o.current=!1,a.current=t,document.addEventListener("pointermove",l),document.addEventListener("pointerup",c)}}}const xWt=(s,t)=>{const e=m.useMemo(()=>new MutationObserver(function(){t()}),[t]);m.useEffect(()=>{if(!s)return;const i={attributes:!0,childList:!0,characterData:!0};return e.observe(s,i),()=>{e.disconnect()}},[s,e])},EWt=s=>{const[t,e]=m.useState(null),i=m.useCallback(()=>{const n=document.querySelector(s);e(n)},[s]);return Rb(t?void 0:i,1e3),t},SWt=(s,t,e)=>{const i=EWt("#right-panel"),[n,{toggleOn:o,toggleOff:a}]=ss(!1),[l,c]=m.useState({}),[h,d]=m.useState(O9(new Lt().identity())),u=m.useRef(null),f=m.useRef(!1),p=m.useMemo(()=>e.viewportController.viewports[t],[e.viewportController.viewports,t]),g=m.useMemo(()=>e.fileSettingsController.camera.projection===Xe.PERSPECTIVE&&(s===Jn.MAIN||s===Jn.PLAY),[e.fileSettingsController.camera.projection,s]),_=m.useMemo(()=>pq&&p&&s!==Jn.PUBLISHED&&!!e.activeTool.findBehavior(Li),[e.activeTool,p,s]),v=m.useCallback(()=>{if(s===Jn.MINI)return c({top:4,right:4});const Y=i==null?void 0:i.firstElementChild;if(!Y)return c({top:8,right:8});const{left:G}=Y.getBoundingClientRect(),st=window.innerWidth;return c({top:8,right:st-G+8})},[s,i]);xWt(i,v),TY(v);const[y,b]=m.useMemo(()=>{const Y=new Lt().fromArray(h),G=new ls().setFromRotationMatrix(Y);Y.invert();const[st,$,X]=[Math.round(fE(G.x)),Math.round(fE(G.y)),Math.round(fE(G.z))];let q;return st===-90&&$===0&&X===0&&(q=zt.TOP),st===90&&$===0&&X===0&&(q=zt.BOTTOM),Math.abs(st)===180&&$===-90&&X===0&&(q=zt.RIGHT),Math.abs(st)===180&&$===90&&X===0&&(q=zt.LEFT),st===0&&$===0&&X===0&&(q=zt.FRONT),Math.abs(st)===180&&$===0&&Math.abs(X)===180&&(q=zt.BACK),[Y.elements,q]},[h]),C=m.useCallback(()=>{let Y=zt.TOP;switch(e.fileSettingsController.axes){case rn.XZ:Y=zt.TOP;break;case rn.XY:Y=zt.FRONT;break;case rn.YZ:Y=zt.RIGHT;break}e.signals.command.cameraViewChanged.dispatch({cameraView:Y})},[e.fileSettingsController.axes,e.signals.command.cameraViewChanged]),x=m.useMemo(()=>s===Jn.MINI?[]:[{icon:YJ,tooltipLabel:"Focus",onClick:()=>{wt(Zi.FOCUS),C()}},{icon:g?zI:YI,tooltipLabel:g?"Perspective":"Orthographic",onClick:()=>{wt(Zi.TOGGLE_ORTHOGRAPHIC),p.controls.canGoBackToPerspectiveMode=!1}},{icon:VI,tooltipLabel:"Reset",onClick:()=>{wt(Zi.RESET_CAMERA),C()}}],[s,g,C,p.controls]),I=m.useCallback(Y=>{const G=Y.target.value;wt(G),g&&(wt(Zi.TOGGLE_ORTHOGRAPHIC),p.controls.canGoBackToPerspectiveMode=!0)},[g,p.controls]),O=m.useCallback(()=>{const Y=new Lt;Y.extractRotation(p.camera.matrixWorldInverse);const G=O9(Y);d(G)},[p.camera.matrixWorldInverse]),T=m.useCallback(()=>{C()},[C]),D=m.useCallback(()=>{f.current=!0},[]),B=m.useCallback(Y=>{f.current&&(e.activeTool.targetBehaviorTypes=[Li],p.pointerStateController.onPointerDown(Y),o())},[e.activeTool,o,p.pointerStateController]),F=m.useCallback(()=>{f.current=!1},[]),k=m.useCallback(()=>{n&&(e.activeTool.targetBehaviorTypes=[],a(),F())},[e.activeTool,n,F,a]);return m.useEffect(()=>{const Y=u.current;return O(),p.controls.addEventListener("update",O),p.controls.addEventListener("rotate_start",T),Y==null||Y.addEventListener("pointerdown",D),Y==null||Y.addEventListener("pointermove",B),Y==null||Y.addEventListener("pointerup",F),p.pointerStateController.addEventListener(xt.DRAG_END,k),p.pointerStateController.addEventListener(xt.CLICK_END,k),p.pointerStateController.addEventListener(xt.DOUBLE_CLICK_END,k),()=>{p.controls.removeEventListener("update",O),p.controls.removeEventListener("rotate_start",T),Y==null||Y.removeEventListener("pointerdown",D),Y==null||Y.removeEventListener("pointermove",B),Y==null||Y.removeEventListener("pointerup",F),p.pointerStateController.removeEventListener(xt.DRAG_END,k),p.pointerStateController.removeEventListener(xt.CLICK_END,k),p.pointerStateController.removeEventListener(xt.DOUBLE_CLICK_END,k)}},[O,T,p.controls,D,B,F,p.pointerStateController,k]),{axesContainerRef:u,isVisible:_,isViewCubeOrbit:n,isPerspectiveCamera:g,posStyle:l,matrixData:h,invertedMatrixData:y,direction:b,popoverActions:x,onAxisButtonClick:I}},IWt=(s,t=!0)=>{m.useEffect(()=>(t&&s(),window.addEventListener("focus",s),()=>{window.removeEventListener("focus",s)}),[s,t])},AWt=(s,t)=>{m.useEffect(()=>(window.addEventListener(s,t),()=>{window.removeEventListener(s,t)}),[t,s])},TWt=({announcements:s,activeAnnouncementId:t,previewUrls:e,onContinue:i,onDotClick:n})=>{const o=m.useCallback(()=>{Bt.close()},[]);return r.jsxs("div",{className:"-m-6 flex h-auto flex-col gap-2",children:[r.jsxs("div",{className:"relative flex aspect-announcementPreview w-full justify-center overflow-hidden",children:[r.jsx("img",{className:"h-full w-full object-cover",src:e[t],alt:"",loading:"lazy"}),s.length>1&&r.jsx("div",{className:"absolute bottom-3 flex gap-1.5",children:s.map((a,l)=>r.jsx("button",{className:"flex h-3 w-3 cursor-pointer items-center justify-center",value:l,onClick:n,children:r.jsx("span",{className:W("h-1.5 w-1.5 rounded-full",t===l?"bg-lime":"bg-white/40")})},`announcement-progress-dot-${a.id}`))})]}),r.jsxs("div",{className:"flex flex-col gap-2 p-4 text-white",children:[r.jsx("p",{className:"line-clamp-1 text-body1",children:s[t].data.banner}),r.jsx("h4",{className:"line-clamp-2",children:s[t].data.title}),r.jsx("div",{className:"relative before:pointer-events-none before:absolute before:bottom-0 before:h-8 before:w-full before:bg-gradient-to-t before:from-dialog before:content-['']",children:r.jsx(e5,{remarkPlugins:[s5,i5],className:"h-full max-h-[30vh] w-full overflow-auto pb-8 text-body1 text-white/60 [&_a]:underline",linkTarget:"_blank",children:s[t].data.description})})]}),r.jsxs("div",{className:"flex gap-2 px-4 pb-4",children:[s.length>1&&r.jsx(Tt,{variant:"secondary",size:"sm",onClick:o,children:"Close"}),r.jsx(Tt,{variant:"primary",size:"sm",onClick:i,children:t===s.length-1?"Done":"Next"})]})]})},PWt=m.memo(TWt);async function OWt(s){try{const t=Xt.docClient;if(!t)throw new Error("DynamoDBDocumentClient client not found");await t.send(new Ho({TableName:C5,Item:{...s,type:"announcement"}}))}catch(t){console.error(t)}}async function MWt(s){try{const t=Xt.docClient;if(!t)throw new Error("DynamoDBDocumentClient client not found");await t.send(new K0({TableName:C5,Key:{type:"announcement",createdAt:s.createdAt},UpdateExpression:"set #data = :data, #updatedAt = :updatedAt",ConditionExpression:"id = :id",ExpressionAttributeNames:{"#data":"data","#updatedAt":"updatedAt"},ExpressionAttributeValues:{":id":s.id,":data":s.data,":updatedAt":s.updatedAt}}))}catch(t){console.error(t)}}async function LWt(s,t){try{const e=Xt.docClient;if(!e)throw new Error("DynamoDBDocumentClient client not found");await e.send(new zc({TableName:C5,Key:{type:"announcement",createdAt:t},ConditionExpression:"id = :id",ExpressionAttributeValues:{":id":s}}))}catch(e){console.error(e)}}const OY=async(s,t)=>{try{const e=Xt.docClient;if(!e)throw new Error("DynamoDBDocumentClient client not found");const i=s?{ExclusiveStartKey:s}:{},n=await e.send(new Ti({...i,TableName:C5,KeyConditionExpression:"#type = :type",ExpressionAttributeNames:{"#type":"type"},ExpressionAttributeValues:{":type":"announcement"},ScanIndexForward:!1,...t&&{Limit:t}})),o=n.Items,a=n.LastEvaluatedKey;return[o.map(c=>RWt(c)),a]}catch(e){console.error(e)}};function RWt(s){const{id:t,data:e,createdAt:i,updatedAt:n}=s;return{id:t,...e&&{data:JSON.parse(e)},createdAt:i,updatedAt:n}}const NWt=()=>{const[s,t]=m.useState([]),[e,{toggleOn:i,toggleOff:n}]=ss(),o=m.useRef(),a=m.useCallback(async(f=!1)=>{if(e||f&&!o.current)return;i();const p=await OY(o.current);if(n(),!p)return;const[g,_]=p;o.current=_,t(f?v=>[...v,...g]:g)},[e,n,i]),l=m.useCallback(async(f,p,g,_)=>{const v=Hr({text:`Saving "${p}"...`,options:{autoHide:!1}},{text:`Saved "${p}"`},{text:"Faild saving an announcement"});try{const y=_t(),b=_t(),C=new Date().toISOString();await ks(b,_);const x={id:y,data:{preview:b,banner:f,title:p,description:g},createdAt:C,updatedAt:C};await OWt({id:y,data:JSON.stringify(x.data),createdAt:C,updatedAt:C}),t(I=>[x,...I]),v.success()}catch{v.fail()}},[]),c=m.useCallback(async(f,p,g,_,v)=>{const y=Hr({text:`Saving "${g}"...`,options:{autoHide:!1}},{text:`Saved "${g}"`},{text:"Faild saving an announcement"});try{const b=[...s],C=b.findIndex(({id:T})=>T===f);if(C===-1)throw new Error;let x;const I=new Date().toISOString();v&&(x=_t(),await ks(x,v));const O={...b[C],data:{...b[C].data,...x&&{preview:x},banner:p,title:g,description:_},updatedAt:I};await MWt({id:O.id,data:JSON.stringify(O.data),createdAt:O.createdAt,updatedAt:I}),b[C]=O,t(b),y.success()}catch{y.fail()}},[s]),h=m.useCallback(async f=>{const p=Hr({text:"Removing an announcement...",options:{autoHide:!1}},{text:"Removed an announcement"},{text:"Faild removing an announcement"});try{const g=[...s],_=g.findIndex(({id:v})=>v===f);if(_===-1)throw new Error;await LWt(f,g[_].createdAt),g.splice(_,1),t(g),p.success()}catch{p.fail()}},[s]),d=m.useCallback(()=>{a(!0)},[a]),u=bC(d);return m.useEffect(()=>{a()},[]),{announcements:s,loading:e,onScroll:u,onAdd:l,onEdit:c,onRemove:h}},jWt=()=>{const{profileApi:s}=Pt(),t=ji(),[e,i]=m.useState([]),n=Jf(e.map(({data:f})=>f.preview),{}),[o,a]=m.useState(0),l=m.useCallback(async()=>{var b,C,x,I;if(!t||!t.email||t.email==="test-editor@bezel.it"||!!Object.values(((x=(C=(b=t.data)==null?void 0:b.nux)==null?void 0:C.tourStatus)==null?void 0:x[Gl.FILE_GRID_TOUR])||{}).filter(O=>!O).length)return;const p=await OY(void 0,Yit);if(!p)return;const g=p[0].reverse(),_=(I=t.data)==null?void 0:I.lastAnnounced;if(!_)return i(g);const v=new Date(_),y=g.filter(O=>v<new Date(O.createdAt));i(y)},[t]);m.useEffect(()=>{l()},[l]);const c=m.useCallback(f=>{t&&s.updateProfile(t.id,{data:JSON.stringify({...t.data,lastAnnounced:f})})},[t,s]),h=m.useCallback(()=>{c(e[e.length-1].createdAt)},[c,e]),d=m.useCallback(()=>{if(o===e.length-1){Bt.close();return}c(e[o].createdAt),a(o+1)},[o,e,c]),u=m.useCallback(f=>{a(parseInt(f.currentTarget.value))},[]);return m.useEffect(()=>{e.length!==0&&Bt.open({content:r.jsx(PWt,{announcements:e,activeAnnouncementId:o,previewUrls:n,onContinue:d,onDotClick:u}),option:{onClose:h}})},[o,h,d,u,n,e]),e};function MY(s,t=new Set){const e=[];return t.forEach(i=>{const n=i.getComponentsInChildren(s);for(const o of n)e.push(o)}),e}const DWt=(s,t,e,i)=>{const{dndData:n,setDndData:o,setIsDragOver:a}=Pt(),l=m.useRef(!1),c=m.useMemo(()=>(i===Jn.MAIN||i===Jn.MINI)&&(n===ai.LIB_COMPONENT||n===ai.LIB_STYLE||n===ai.GEN_AI_3D),[n,i]),[h,d]=m.useMemo(()=>{const x=e.activeTool.findBehavior(T1),I=e.activeTool.findBehavior(tU);return[x,I]},[e.activeTool]),u=m.useCallback(x=>{t.current===null||!c||(t.current.screenToClipPosition(x,t.current.pointerStateController.pointerNDC),n===ai.LIB_STYLE?h==null||h.onHover(t.current):(n===ai.LIB_COMPONENT||n===ai.GEN_AI_3D)&&(d==null||d.onPointerHover(t.current)))},[c,n,t,d,h]),f=m.useCallback((x,I,O)=>{if(!e.viewportController.mainViewport)return;e.viewportController.mainViewport.screenToClipPosition(x,e.viewportController.mainViewport.pointerStateController.pointerNDC);const T=e.viewportController.mainViewport.pointerStateController.pointerNDC,D=new MV;D.setFromViewport(T,I),D.intersectGround(O)},[e.viewportController.mainViewport]),p=m.useCallback(async x=>{if(!x.items||x.items.length===0)return;const I=[];for(const B of x.items){if(B.kind!=="file")continue;const F=await B.getFile();F&&I.push(F)}if(I.length===0)return;const O={x:x.x,y:x.y},T=new w(0,0,0);O&&e.viewportController.mainViewport&&f(O,e.viewportController.mainViewport,T),new qb(e.sceneController,e.viewportController.mainViewport).loadFiles(I,!1,!0,!0,B=>{Wh.addToStatus({key:B.key,type:E3.fileUpload,filename:B.name})},B=>{B&&Wh.removeFromStatus(B.key)},T,B=>{Wh.progressStatus(B.key,B.loaded,B.total)})},[e.sceneController,e.viewportController.mainViewport,f]),g=m.useCallback(async x=>{if(a(!1),o(null),t.current===null||!n)return;if(n===ai.UNDEFINED){p(x);return}if(!c)return;const I=await x.items[0].getText("data"),O=JSON.parse(I);if(n===ai.LIB_STYLE){const T=e.selectionController.hoveredCollection.sceneEntities,D=e.selectionController.selectedCollection.sceneEntities;let B=!1;for(const k of T)if(D.has(k)){B=!0;break}const F=MY(_e,B?D:T);F3(e,O,F)}else(n===ai.LIB_COMPONENT||n===ai.GEN_AI_3D)&&(d==null||d.createAndSelectMesh())},[c,n,e,p,t,d,o,a]),_=m.useCallback(x=>{const I=x.ctrlKey!==x.metaKey;I!==l.current&&e.keyStateController.updateModifierKeysDown(x),l.current=I,n||(o(ai.UNDEFINED),a(!0))},[n,e.keyStateController,o,a]),v=m.useCallback(()=>{a(!1),n===ai.UNDEFINED&&o(null)},[n,o,a]),{dropProps:y,isDropTarget:b}=Jx({ref:s,onDropMove:u,onDrop:g});return{dropZoneProps:m.useMemo(()=>hn({onDragOver:_,onDragLeave:v},y),[y,v,_]),isDropTarget:b}},FWt=(s,t,e)=>{const{dndData:i}=Pt(),n=m.useMemo(()=>i===ai.LIB_STYLE,[i]),o=m.useCallback(async c=>{if(!n)return;const h=await c.items[0].getText("data"),d=JSON.parse(h);i===ai.LIB_STYLE&&F3(t,d,e)},[n,i,t,e]),{dropProps:a,isDropTarget:l}=Jx({ref:s,onDrop:o});return{dropZoneProps:a,isDropTarget:l&&n}},BWt=(s,t,e,i)=>{const{dndData:n}=Pt(),[o,a]=m.useState(null),l=m.useCallback(p=>{var g;if(n===ai.HIERARCHY){const _=((g=s.current)==null?void 0:g.clientHeight)??0,v=t.canHaveChildren?_/4:_/2;p.y<v?a(Er.TOP):p.y>_-v?a(Er.BOTTOM):a(Er.MIDDLE)}else n===ai.LIB_STYLE&&a(Er.MIDDLE)},[n,t,s]),c=m.useCallback(async p=>{if(n===ai.HIERARCHY)i&&o&&i(t.id,o);else if(n===ai.LIB_STYLE){const g=t.editor.selectionController.selectedCollection.sceneEntities,_=g.has(t),v=MY(_e,_?g:new Set([t]));if(v.length!==0){const y=await p.items[0].getText("data"),b=JSON.parse(y);F3(t.editor,b,v)}}a(null)},[n,o,t,i]),h=m.useCallback(()=>{a(null)},[]),{dropProps:d,isDropTarget:u}=Jx({ref:s,onDrop:c,onDropMove:l,onDropExit:h});return{dropZoneProps:m.useMemo(()=>{if(!e&&(i||n!==ai.HIERARCHY))return d},[n,d,e,i]),isDropTarget:u,dropMovePosition:o}},CC=()=>{const s=m.useRef(null);return m.useEffect(()=>{var t;(t=s.current)==null||t.focus()},[]),[s]},LY=s=>{const{profileApi:t,teamController:e}=Pt(),i=D3(s),[n,o]=m.useState([]);return m.useEffect(()=>{(async()=>{if(!i)return;const a=await Tf(i.id),c=(await Promise.all(a.map(h=>h.access===Sa.InvitePending?{id:h.id,email:h.profile}:t.getProfile(h.profile)))).map((h,d)=>({...h,access:a[d].access}));o(c)})()},[t,i,e.teamFetchTimestamp]),n},kWt="relative min-width-[40px] max-width-[320px] h-4 px-1 py-0.5 bg-transparent outline-none border-hidden cursor-default font-inherit",GWt={sm:"text-body2 leading-4",md:"text-body1 leading-4.5",lg:"text-body1 leading-4.5"},VWt={left:"text-left",center:"text-center",right:"text-right"},HWt=({className:s,style:t,value:e,placeholder:i,selected:n=!1,readOnly:o=!1,isActivateOnDoubleClick:a=!1,size:l="lg",align:c="center",onChange:h,onSubmit:d,onClick:u,onDoubleClick:f,onKeyDown:p,onBlur:g,sizePadding:_,isDisabled:v,isReceiveHover:y=!0,isFixedSize:b=!1,...C})=>{const x=m.useRef(null),I=m.useRef(!1),[O,T]=m.useState(a?!0:o),D=_??10,{hoverProps:B,isHovered:F}=Ao({isDisabled:o||!y}),[k,Y]=m.useState(!1),G=m.useCallback(lt=>{u==null||u(lt),!a&&(I.current||(I.current=!0,Y(!0),setTimeout(()=>{var ct;return(ct=x.current)==null?void 0:ct.select()},10)))},[u,a]),st=m.useCallback(lt=>{if(f==null||f(lt),a){if(I.current)return;a&&T(!1),I.current=!0,Y(!0),setTimeout(()=>{var ct;return(ct=x.current)==null?void 0:ct.select()},10)}},[f,a]),$=m.useCallback(lt=>{h==null||h(lt)},[h]),X=m.useCallback(lt=>{lt.preventDefault()},[]),q=m.useCallback(()=>{a&&T(!0),Y(!1),setTimeout(()=>{var lt;return I.current&&((lt=x.current)==null?void 0:lt.focus())},10),g==null||g()},[a,g]),at=m.useCallback(()=>{var lt;a&&T(!0),I.current&&(I.current=!1,(lt=x.current)==null||lt.blur(),Y(!1),g==null||g(),d==null||d())},[g,d,a]),bt=m.useCallback(lt=>{lt.metaKey&&lt.code==="KeyG"&&lt.preventDefault(),lt.stopPropagation(),lt.key==="Enter"?at():p==null||p(lt)},[at,p]);return tc(x,at),m.useEffect(()=>{n&&(I.current=!0,x.current&&(x.current.focus(),x.current.select()))},[n]),m.useEffect(()=>{T(o)},[o]),r.jsx("input",{ref:x,type:"text",placeholder:i,style:t,spellCheck:"false",autoCapitalize:"false",autoComplete:"false",autoCorrect:"false",value:e,size:b?30:Math.max(1,((e==null?void 0:e.length)??20)+D),onClick:O?void 0:G,onDoubleClick:st,onChange:O?void 0:$,onBlur:O?void 0:q,onKeyDown:O?void 0:bt,onDragStart:O?void 0:X,readOnly:O,className:W(`${VWt[c]} ${GWt[l]} ${kWt}`,o&&"mousetrap pointer-events-none",s,(F||k)&&"shadow-hover",v&&"opacity-50"),...hn(C,B)})},la=m.memo(HWt),wm={open:()=>{},close:()=>{}},UWt="_contextMenuContainer_qona8_1",zWt="_contextMenuContent_qona8_5",YWt="_sub_qona8_15",WWt="_contextMenuItem_qona8_21",XWt="_divideAfter_qona8_43",ZWt="_divideBefore_qona8_46",KWt="_disabled_qona8_49",qWt="_contextMenuItemIcon_qona8_52",QWt="_contextMenuItemIconPlace_qona8_56",JWt="_normal_qona8_64",$Wt="_info_qona8_67",tXt="_warn_qona8_70",eXt="_error_qona8_73",sXt="_hovered_qona8_82",Pl={contextMenuContainer:UWt,contextMenuContent:zWt,sub:YWt,contextMenuItem:WWt,divideAfter:XWt,divideBefore:ZWt,disabled:KWt,contextMenuItemIcon:qWt,contextMenuItemIconPlace:QWt,normal:JWt,info:$Wt,warn:tXt,error:eXt,hovered:sXt},iXt=({item:{id:s,text:t,iconLeft:e,iconRight:i,divideAfter:n,divideBefore:o,status:a="normal",items:l,disabled:c=!1,onClick:h},hasIcons:d,subContextMenuID:u,setSubContextMenuIndex:f})=>{const p=m.useCallback(()=>{c||(h==null||h(),wm.close())},[c,h]);return r.jsxs("button",{className:W(Pl.contextMenuItem,n&&Pl.divideAfter,o&&Pl.divideBefore,l&&u===s&&Pl.hovered,c&&Pl.disabled,Pl[a]),onPointerEnter:()=>f(s),onClick:p,children:[d&&(typeof e=="string"||!e?r.jsx("span",{className:Pl.contextMenuItemIconPlace,children:e}):r.jsx(Oi,{className:Pl.contextMenuItemIcon,icon:e})),r.jsx("p",{children:t}),d&&(typeof i=="string"||!i?r.jsx("span",{className:Pl.contextMenuItemIconPlace,children:i}):r.jsx(Oi,{className:Pl.contextMenuItemIcon,icon:i})),l&&u===s&&r.jsx(RY,{items:l,hasIcons:d,sub:!0})]})},RY=m.forwardRef(({width:s,items:t,hasIcons:e=!1,sub:i},n)=>{const[o,a]=m.useState();return r.jsx("div",{ref:n,className:W(Pl.contextMenuContent,i&&Pl.sub),style:{...s&&{width:`${s}px`}},children:t.map(l=>r.jsx(iXt,{item:l,subContextMenuID:o,setSubContextMenuIndex:a,hasIcons:e},`contextmenu-item-${l.id}`))})});let p4;const nXt=({className:s,style:t,...e})=>{const[i,n]=m.useState(),[o,a]=m.useState(),[l,c]=m.useState({}),h=m.useRef(null),d=m.useRef(null),u=m.useCallback(({coord:g,option:_,onCloseCallback:v})=>{n(g),a(_),p4=v},[]),f=m.useCallback(()=>{var g;(g=o==null?void 0:o.onClose)==null||g.call(o),n(void 0),a(void 0),p4&&p4()},[o]),p=m.useCallback(g=>{g.preventDefault()},[]);return tc(h,f),m.useEffect(()=>(window.addEventListener("contextmenu",p),wm.open=u,wm.close=f,()=>{window.removeEventListener("contextmenu",p)}),[p,f,u]),m.useLayoutEffect(()=>{if(!d.current||!i||!o)return;const g=window.innerWidth,_=window.innerHeight,{width:v,height:y}=d.current.getBoundingClientRect(),[b,C]=[i.x+v>g,i.y+y>_];c({left:b?i.x-v:i.x,top:C?i.y-y:i.y})},[o,i]),i&&o?r.jsx("div",{ref:h,className:W(Pl.contextMenuContainer,s),style:{...t,...l},...e,children:r.jsx(RY,{ref:d,width:o.width,items:o.items,hasIcons:o.hasIcons})}):null},oXt=m.memo(nXt),Bt={open:()=>{},close:()=>{}},rXt="_dialogContainer_1kvvw_1",aXt="_dialogOverlay_1kvvw_12",lXt="_dialogContent_1kvvw_22",cXt="_sm_1kvvw_33",hXt="_md_1kvvw_37",dXt="_lg_1kvvw_41",uXt="_auto_1kvvw_45",lw={dialogContainer:rXt,dialogOverlay:aXt,dialogContent:lXt,sm:cXt,md:hXt,lg:dXt,auto:uXt},m4={outClickHide:!0,size:"md"},fXt=({className:s,style:t,children:e,isCloseDisabled:i,...n})=>{const[o,a]=m.useState(e),[l,c]=m.useState(m4),[h,d]=m.useState(""),u=m.useCallback(({content:g,option:_,className:v})=>{a(g),c({...m4,..._}),d(v??"")},[]),f=m.useCallback(()=>{var g;i!==!0&&(a(void 0),c(m4),(g=l.onClose)==null||g.call(l))},[l,i]);m.useEffect(()=>{Bt.open=u,Bt.close=f},[f,u]);const p=m.useCallback(g=>{o&&g.code==="Escape"&&f()},[o,f]);return AWt("keydown",p),o?r.jsxs("div",{className:`${lw.dialogContainer} ${s??""}`,style:{...t},...n,children:[r.jsx("button",{className:lw.dialogOverlay,onClick:l.outClickHide?f:void 0,disabled:i}),r.jsx("div",{className:`${lw.dialogContent} ${lw[l.size]} ${h??""}`,children:o})]}):null},yI=m.memo(fXt),pXt=({className:s,style:t,title:e,description:i,submitActionLabel:n="Submit",closeActionLabel:o="Cancel",submitVariant:a="primary",isHiddenClose:l=!1,isDisabledSubmit:c=!1,children:h,onSubmit:d,onClose:u,...f})=>{const p=m.useCallback(()=>{Bt.close(),u==null||u()},[u]);return r.jsxs("div",{className:W("flex flex-col gap-2",s),style:t,...f,children:[r.jsx("div",{className:"items-between flex",children:e&&r.jsx("p",{className:"text-body1 font-bold text-white",children:e})}),i&&r.jsx("p",{className:"text-body2 text-white/60",children:i}),h,r.jsxs("div",{className:"flex gap-2",children:[!l&&r.jsx(Tt,{variant:"secondary",size:"sm",className:"rounded-sm",onClick:p,children:o}),d&&r.jsx(Tt,{variant:a,size:"sm",className:"rounded-sm",onClick:d,disabled:c,children:n})]})]})},dn=m.memo(pXt),mXt="_notificationContainer_5bdfh_1",gXt="_notificationOverlay_5bdfh_17",_Xt="_notifText_5bdfh_27",vXt="_notifLine_5bdfh_30",yXt="_notifButton_5bdfh_35",bXt="_leftTop_5bdfh_39",CXt="_centerTop_5bdfh_45",wXt="_rightTop_5bdfh_51",xXt="_leftMiddle_5bdfh_57",EXt="_centerMiddle_5bdfh_63",SXt="_rightMiddle_5bdfh_68",IXt="_leftBottom_5bdfh_74",AXt="_centerBottom_5bdfh_80",TXt="_rightBottom_5bdfh_86",PXt="_fade_5bdfh_92",OXt="_show_5bdfh_92",MXt="_fadeIn_5bdfh_1",LXt="_hide_5bdfh_96",RXt="_fadeOut_5bdfh_1",NXt="_slide_5bdfh_100",jXt="_slideInLeftTop_5bdfh_1",DXt="_slideInCenterTop_5bdfh_1",FXt="_slideInRightTop_5bdfh_1",BXt="_slideInLeftMiddle_5bdfh_1",kXt="_slideInRightMiddle_5bdfh_1",GXt="_slideInLeftBottom_5bdfh_1",VXt="_slideInCenterBottom_5bdfh_1",HXt="_slideInRightBottom_5bdfh_1",UXt="_slideOutLeftTop_5bdfh_1",zXt="_slideOutCenterTop_5bdfh_1",YXt="_slideOutRightTop_5bdfh_1",WXt="_slideOutLeftMiddle_5bdfh_1",XXt="_slideOutRightMiddle_5bdfh_1",ZXt="_slideOutLeftBottom_5bdfh_1",KXt="_slideOutCenterBottom_5bdfh_1",qXt="_slideOutRightBottom_5bdfh_1",Ku={notificationContainer:mXt,notificationOverlay:gXt,notifText:_Xt,notifLine:vXt,notifButton:yXt,leftTop:bXt,centerTop:CXt,rightTop:wXt,leftMiddle:xXt,centerMiddle:EXt,rightMiddle:SXt,leftBottom:IXt,centerBottom:AXt,rightBottom:TXt,fade:PXt,show:OXt,fadeIn:MXt,hide:LXt,fadeOut:RXt,slide:NXt,slideInLeftTop:jXt,slideInCenterTop:DXt,slideInRightTop:FXt,slideInLeftMiddle:BXt,slideInRightMiddle:kXt,slideInLeftBottom:GXt,slideInCenterBottom:VXt,slideInRightBottom:HXt,slideOutLeftTop:UXt,slideOutCenterTop:zXt,slideOutRightTop:YXt,slideOutLeftMiddle:WXt,slideOutRightMiddle:XXt,slideOutLeftBottom:ZXt,slideOutCenterBottom:KXt,slideOutRightBottom:qXt},g4={spot:Lk.CENTER_BOTTOM,motion:Rk.SLIDE,type:qn.DEFAULT,animateTime:300,visibleTime:1e4,autoHide:!0,manualHide:!0},QXt=({className:s,style:t,...e})=>{const[i,n]=m.useState(),[o,a]=m.useState(),[l,c]=m.useState(),[h,d]=m.useState(),[u,f]=m.useState(),[p,g]=m.useState(g4),[_,{toggleOn:v,toggleOff:y}]=ss(!1),b=m.useCallback(x=>{x.id!==i&&(n(x.id),a(x.text),c(x.icon),d(x.actionText),x.onActionClick&&f(()=>x.onActionClick),g({...g4,...x.options||{}}),v())},[i,v]),C=m.useCallback(()=>{!_||!o||(y(),setTimeout(()=>{var x;a(void 0),g(g4),(x=p.onClose)==null||x.call(p)},p.animateTime))},[_,o,y,p]);return jot(p.autoHide?C:void 0,p.visibleTime),m.useEffect(()=>{be.open=b,be.close=C},[C,b]),o?r.jsxs("div",{className:W(Ku.notificationContainer,s,Ku[p.spot],Ku[p.motion],_?Ku.show:Ku.hide),style:{...t,animationDuration:`${p.animateTime/1e3}s`,backgroundColor:p.type===qn.SUCCESS?"var(--lime)":p.type===qn.ERROR?"var(--tomato)":"var(--toast)"},...e,children:[p.manualHide&&r.jsx("button",{className:Ku.notificationOverlay,onClick:C}),l,r.jsx("div",{className:`${Ku.notifText}`,style:{color:p.type===qn.SUCCESS?"var(--toast)":"var(--white)"},children:r.jsx(K,{children:o})}),h&&r.jsxs("div",{className:Ku.notifButton,children:[r.jsx("div",{className:Ku.notifLine}),r.jsx(Tn,{small:!0,textColor:"positive",text:h,onClick:u,height:40})]})]}):null},JXt=m.memo(QXt),$Xt="_sliderContainer_ok3a3_1",tZt="_body_ok3a3_9",eZt="_row_ok3a3_16",sZt="_labelContainer_ok3a3_21",iZt="_textInputContainer_ok3a3_28",nZt="_textInput_ok3a3_28",oZt="_focus_ok3a3_45",rZt="_disabled_ok3a3_45",aZt="_slider_ok3a3_1",lZt="_active_ok3a3_95",Ih={sliderContainer:$Xt,body:tZt,row:eZt,labelContainer:sZt,textInputContainer:iZt,textInput:nZt,focus:oZt,disabled:rZt,slider:aZt,active:lZt},cZt=({className:s,style:t,label:e="",icon:i,unit:n="",value:o=0,min:a=0,max:l=100,step:c=1,tooltipIcon:h,disableTextInput:d=!1,disabled:u=!1,onBegin:f,onChange:p,onEnd:g,..._})=>{const[v,{toggleOn:y,toggleOff:b}]=ss(!1),[C,{toggleOn:x,toggleOff:I}]=ss(!1),[O,T]=m.useState(`${Math.round(o/c)*c}`),D=m.useRef(null),B=m.useRef(!1),F=m.useCallback(X=>{const q=parseFloat(X.target.value);B.current||(f==null||f(o),B.current=!0),p==null||p(q)},[p,f,o]),k=m.useCallback(X=>{T(X.target.value)},[]),Y=m.useCallback(()=>{var X;x(),(X=D.current)==null||X.select(),f==null||f(o)},[f,x,o]),G=m.useCallback(()=>{const X=P5(parseFloat(O)||a,a,l);I(),p==null||p(X),g==null||g(X),T(`${Math.round(X/c)*c}`)},[l,a,p,g,c,O,I]),st=m.useCallback(X=>{var q;X.stopPropagation(),X.key==="Enter"&&((q=D.current)==null||q.blur())},[]),$=m.useCallback(()=>{b(),g==null||g(o),B.current=!1},[g,b,o]);return m.useEffect(()=>{T(`${Math.round(o/c)*c}`)},[o,c]),r.jsxs("div",{className:W(Ih.sliderContainer,v&&Ih.active,s),style:t,..._,children:[i&&r.jsx(Oi,{icon:i}),r.jsxs("div",{className:Ih.body,children:[r.jsxs("div",{className:Ih.row,children:[r.jsxs("div",{className:Ih.labelContainer,children:[r.jsx("p",{children:e}),h]}),!d&&r.jsxs("div",{className:W(Ih.textInputContainer,C&&Ih.focus,u&&Ih.disabled),children:[r.jsx("input",{ref:D,className:Ih.textInput,type:"text",value:O,onChange:k,onFocus:Y,onBlur:G,onKeyDown:st,disabled:u}),r.jsx("span",{children:n})]})]}),r.jsx("input",{className:W(Ih.slider,u&&Ih.disabled),type:"range",value:o,min:a,max:l,step:c,onChange:F,onPointerDown:y,onPointerUp:$,disabled:u,"data-testid":e})]})]})},vb=m.memo(cZt),hZt=({className:s,style:t,value:e,onBegin:i,onChange:n,onEnd:o,onClose:a,...l})=>{const[c,{toggleOn:h,toggleOff:d}]=ss(!1),u=m.useRef(""),f=m.useCallback(()=>{h(),i(),document.addEventListener("pointerup",()=>{d(),o(u.current)},{once:!0})},[i,o,d,h]),p=m.useCallback(g=>{c&&(n(g),u.current=g)},[c,n]);return r.jsxs("div",{className:"rounded-panel bg-popup pb-3",style:t,...l,children:[r.jsxs("div",{className:"flex justify-between p-3",children:[r.jsx("p",{className:"text-body2 font-bold",children:"Color"}),r.jsx(Tt,{variant:"auto",size:"sm",leftIcon:po,onClick:a})]}),r.jsx("div",{id:"colorpicker-popup",children:r.jsx(mq,{onPointerDown:f,color:e,onChange:p})})]})},dZt=({className:s,style:t,value:e,onBegin:i,onChange:n,onEnd:o,...a})=>{const l=m.useRef(null),c=m.useCallback(()=>{Hs.close()},[]),h=m.useCallback(()=>{Hs.open({content:r.jsx(hZt,{value:e,onBegin:i,onEnd:o,onChange:n,onClose:c}),option:{ref:l,width:188,spot:Ds.RIGHT_BOTTOM}})},[c,i,n,o,e]);return r.jsx("button",{ref:l,className:W("flex h-8 w-8 items-center justify-center"),onClick:h,...a,children:r.jsx("div",{className:W("relative h-4 w-4 border-none p-0 shadow-inset outline-none"),style:{...t,background:e}})})},k3=m.memo(dZt),uZt=({className:s,style:t,options:e,value:i,isDisabled:n=!1,onChange:o,...a})=>{const l=m.useCallback(c=>{if(typeof i=="number")return o(parseFloat(c.currentTarget.value));o(c.currentTarget.value)},[o,i]);return r.jsx("div",{className:W("relative flex",s),style:t,...a,children:e.map(({label:c,value:h},d)=>r.jsx("button",{className:W("mi min-w-[50px] flex-1 border border-solid border-white/10 px-2 py-1 text-[11px] hover:bg-lime/20",i===h&&"bg-white/10",n&&"pointer-events-none opacity-60"),value:h,onClick:l,disabled:n,children:c},`radio-${c}-${d}`))})},ky=m.memo(uZt),fZt=({className:s,style:t,variant:e="primary",size:i="md",round:n=!1,testid:o,isMixed:a=!1,isDisabled:l,...c})=>{const h=RI(c),d=m.useRef(null),{inputProps:u}=gq(c,h,d),{isFocusVisible:f,focusProps:p}=l1();return r.jsxs("label",{className:W("relative flex items-center",i==="sm"&&"gap-[6px]",i!=="sm"&&"gap-2",l&&"opacity-50",s),style:t,"data-testid":o??"checkbox_input",children:[r.jsx(SI,{children:r.jsx("input",{...u,...p,ref:d})}),r.jsxs("div",{className:W("flex items-center justify-center",e==="primary"&&(h.isSelected||a?"bg-primary/20":"border border-white bg-transparent"),e==="secondary"&&(h.isSelected||a?"bg-primary/20":"border border-white/50 bg-none"),e==="third"&&(h.isSelected||a?"bg-white":"border border-white/35 bg-none"),e==="forth"&&(h.isSelected||a?"bg-black":"border border-black/50 bg-none"),n&&"rounded-full",i==="sm"&&"h-3 w-3 rounded-sm",i==="md"&&"h-5 w-5 rounded",i==="lg"&&"h-6 w-6 rounded-md",f&&"border !border-orange"),children:[!a&&r.jsx("span",{className:W(e==="primary"&&(h.isSelected?"text-lime":"hidden"),e==="secondary"&&(h.isSelected?"text-lime":"hidden"),e==="third"&&(h.isSelected?"text-black":"text-white/35"),e==="forth"&&(h.isSelected?"text-white":"hidden")),children:xj}),a&&r.jsx("span",{className:W(e==="primary"&&"text-lime",e==="secondary"&&"text-lime",e==="third"&&"text-black",e==="forth"&&"text-white"),children:""})]}),c.children]})},Pa=m.memo(fZt),pZt=({className:s,style:t,time:e=0,duration:i=0,isPlaying:n,isLoop:o,playbackSpeed:a,onPlayPauseToggle:l,onPlayTimeChange:c,onLoopToggle:h,onPlaybackSpeedChange:d,...u})=>r.jsxs(r.Fragment,{children:[r.jsx(ii,{size:"sm",children:r.jsx("span",{className:"mx-2 flex h-0.5 w-full items-center rounded bg-gray-100",children:r.jsx("div",{className:"h-full rounded bg-gray-60",style:{width:`${e/i*100}%`}})})}),r.jsxs(bZt,{children:[r.jsx(As,{onPress:l,isActive:n,children:n?N$:u5}),r.jsx(As,{onPress:h,isActive:o,isReadOnly:u.isReadOnly,children:UR}),r.jsx(Ys,{className:"w-full",label:"Playback speed",selectedKey:a,items:gZt,onSelectionChange:f=>d==null?void 0:d(f),isReadOnly:u.isReadOnly,children:f=>r.jsx(se,{id:f.id,textValue:f.text})}),r.jsxs("div",{className:"body2 flex items-center justify-end gap-1 pr-2 text-t-secondary",children:[e.toFixed(2)," / ",i.toFixed(2)]})]})]}),mZt=m.memo(pZt),gZt=[{id:-2,text:"-2x"},{id:-1,text:"-1x"},{id:1,text:"1x"},{id:2,text:"2x"},{id:4,text:"4x"}],ae=xe.forwardRef(function({children:t,size:e="md",isPadded:i=!0,isReadOnly:n=!1,isScrollable:o=!1,className:a,...l},c){return r.jsx(Io,{ref:c,className:W(o?"flex h-full flex-col":"overflow-visible","[&:not(:last-child)]:mb-panelDivider","[&:last-child]:flex-1",e==="sm"&&"py-1",e==="md"&&"py-2",i&&"px-2",n&&"pointer-events-none text-gray-30",a),isFixedSize:!0,...l,children:t})});ae.displayName="Panel";const ca=({numRows:s=1,children:t,size:e="md",isPadded:i=!0,...n})=>{const o=_Zt[e];return r.jsx("div",{style:{gridTemplateRows:`repeat(${s}, ${o}px)`},className:W("relative box-border grid grid-cols-[repeat(31,1fr)]",s>1&&"mb-2 mt-0.5",s===1&&"items-center"),...n,children:t})},_Zt={sm:24,md:32,lg:40},NY=({align:s,children:t,numRows:e=1,start:i=1,end:n=32})=>r.jsx("div",{style:{gridColumnStart:i,gridColumnEnd:n,gridRow:`span ${e}`},className:W("relative box-border flex w-full items-center",s==="right"&&"justify-end",s==="center"&&"justify-center"),children:t});function vZt({children:s}){return r.jsx(ca,{children:r.jsx("div",{style:{gridTemplateColumns:"32px minmax(0, 1fr) 32px 32px"},className:"col-span-full box-border grid w-full items-center",children:s})})}function Gy({label:s,isQuiet:t=!1,children:e,needsPadding:i=!0}){return r.jsxs(V3,{needsPadding:i,children:[r.jsx("div",{className:"w-full",children:r.jsx(L1,{isQuiet:t,children:s})}),e&&r.jsx("div",{className:"flex flex-shrink-0 justify-end",children:e})]})}function bI({children:s}){return r.jsx("div",{className:"mb-4 mt-2",children:r.jsx(ii,{children:r.jsx("div",{className:"flex h-full w-full items-center justify-between px-2",children:s})})})}function pe({label:s,children:t,isQuiet:e=!1,isReadOnly:i=!1}){return r.jsx(ii,{children:r.jsxs("div",{className:"flex h-full w-full items-center justify-between text-body2 font-semibold leading-8 tracking-wide",children:[s&&r.jsx(L1,{isQuiet:e,isReadOnly:i,children:s}),t]})})}function ii({size:s="md",children:t,...e}){return r.jsx(ca,{size:s,...e,children:r.jsx(NY,{children:t})})}const G3=({children:s,numCols:t=3})=>{const e={1:"minmax(0, 1fr) 32px",2:"minmax(0, 1fr) minmax(0, 1fr) 32px",3:"minmax(0, 1fr) minmax(0, 1fr) minmax(0, 1fr) 32px",4:"minmax(0, 1fr) minmax(0, 1fr) minmax(0, 1fr) minmax(0, 1fr) 32px",5:"minmax(0, 1fr) minmax(0, 1fr) minmax(0, 1fr) minmax(0, 1fr) minmax(0, 1fr) 32px",6:"minmax(0, 1fr) minmax(0, 1fr) minmax(0, 1fr) minmax(0, 1fr) minmax(0, 1fr) minmax(0, 1fr) 32px"};return r.jsx("div",{style:{gridTemplateColumns:e[t]},className:"col-span-full box-border grid w-full items-center",children:s})},Ql=({label:s,isQuiet:t=!1,children:e,lastItem:i})=>r.jsxs(Ls,{lastItem:i,children:[r.jsx(L1,{isQuiet:t,children:s}),e]}),Fh=({children:s,lastItem:t,isPadded:e=!0})=>r.jsx(ca,{isPadded:e,children:r.jsxs(G3,{numCols:2,children:[s,r.jsx("div",{className:"col-start-3 flex items-center justify-end",children:t})]})}),Ls=({children:s,lastItem:t,isPadded:e=!0})=>r.jsx(ca,{isPadded:e,children:r.jsxs(G3,{numCols:3,children:[s,r.jsx("div",{className:"col-start-4 flex items-center justify-end",children:t})]})}),yZt=({children:s})=>r.jsx(ca,{children:r.jsx("div",{className:"col-span-full flex h-full w-full items-center pl-1",children:r.jsx(G3,{numCols:4,children:s})})});function V3({children:s,needsPadding:t=!0,className:e=""}){return r.jsx(ii,{children:r.jsx("div",{className:W("flex h-full w-full items-center justify-between",t&&"pr-2",e??""),children:s})})}function bZt({children:s}){return r.jsx(ca,{children:r.jsx("div",{style:{gridTemplateColumns:"32px 32px 64px minmax(0, 1fr)"},className:"col-span-full box-border grid w-full items-center",children:s})})}const CZt=({children:s})=>r.jsx(ca,{numRows:2,children:r.jsx(NY,{numRows:2,children:s})});function $f({label:s,children:t}){return r.jsx("div",{className:"rounded-md border-b-border bg-gray-90 px-2 py-1 [&:not(:last-child)]:border-b",children:r.jsx(pe,{label:s,children:t})})}function wZt({children:s}){return r.jsx("div",{className:"bg-gray-90 px-2 py-2 [&:not(:last-child)]:border-b",children:s})}function xZt({label:s,isQuiet:t=!1,children:e,lastItem:i}){return r.jsx(ca,{children:r.jsxs("div",{style:{gridTemplateColumns:"minmax(0, 1fr) minmax(0, 2fr) 32px"},className:"col-span-full box-border grid w-full items-center",children:[r.jsx(L1,{isQuiet:t,children:s}),e,r.jsx("div",{className:"col-start-3 flex items-center justify-end",children:i})]})})}function EZt({children:s}){return r.jsx(ca,{children:r.jsxs("div",{style:{gridTemplateColumns:"minmax(0, 2fr) minmax(0, 1fr) 32px"},className:"col-span-full box-border grid w-full items-center",children:[r.jsxs("span",{className:"flex items-center",children:[s[0],s[1]]}),s[2],s[3]]})})}const H3=({label:s,isQuiet:t=!1,children:e,lastItem:i})=>r.jsxs(Fh,{lastItem:i,children:[r.jsx(L1,{isQuiet:t,children:s}),e]});function Mf({children:s,lastItem:t}){return r.jsx(ca,{children:r.jsxs("div",{style:{gridTemplateColumns:"minmax(0, 2fr) minmax(0, 1fr) 32px"},className:"col-span-full box-border grid w-full items-center",children:[s,r.jsx("div",{className:"col-start-3 flex items-center justify-end",children:t})]})})}const L1=({isQuiet:s=!1,isReadOnly:t=!1,children:e})=>r.jsx(K,{className:W("flex items-center pl-2",s&&"text-text-secondary",t&&"text-gray-30"),children:e});function SZt(s,t){s=oR(s,"actionGroup");const{isEmphasized:e,isDisabled:i,orientation:n="horizontal",staticColor:o,overflowMode:a="wrap",onAction:l,buttonLabelBehavior:c,summaryIcon:h,size:d="sm"}=s,u=_q(t),f=m.useRef(null),p=vq({...s,suppressTextValueWarning:!0});let{actionGroupProps:g}=yq(s,p,u);const _=n==="vertical",{styleProps:v}=NI(s),y=m.useMemo(()=>[...p.collection].every(G=>typeof G.rendered!="string"),[p.collection]),[{visibleItems:b,hideButtonText:C,isMeasuring:x},I]=bq({visibleItems:p.collection.size,hideButtonText:c==="hide"&&y,isMeasuring:!1}),O=p.selectionManager.selectionMode,T=m.useCallback(()=>{if(a==="wrap"||n==="vertical"&&O!=="none")return;const G=st=>{if(u.current&&f.current){const $=Array.from(u.current.children),X=n==="horizontal"?f.current.offsetWidth:f.current.offsetHeight,q=st<p.collection.size;let at=0,bt=0;if(q){const lt=$.pop();lt&&(at+=n==="horizontal"?JM(lt,!1,!0):$M(lt,!1,!0))}for(const[lt,ct]of $.entries())if(at+=n==="horizontal"?JM(ct,lt===0,lt===$.length-1):$M(ct,lt===0,lt===$.length-1),at<=X)bt++;else break;return O!=="none"&&bt<p.collection.size?0:bt}return st};I(function*(){let st=c==="hide"&&y;yield{visibleItems:p.collection.size,hideButtonText:st,isMeasuring:!0};let $=G(p.collection.size),X=$<p.collection.size&&$>0;$<p.collection.size&&c==="collapse"&&y&&(yield{visibleItems:p.collection.size,hideButtonText:!0,isMeasuring:!0},$=G(p.collection.size),X=$<p.collection.size&&$>0,st=!0),yield{visibleItems:$,hideButtonText:st,isMeasuring:X},X&&(yield{visibleItems:G($),hideButtonText:st,isMeasuring:!1})})},[u,p.collection,I,a,O,c,y,n]),D=m.useMemo(()=>({get current(){var G;return(G=f.current)==null?void 0:G.parentElement}}),[f]);tR({ref:a!=="wrap"?D:void 0,onResize:T}),rR(T,[T,p.collection]);let B=[...p.collection],F=null,k={};if(a==="collapse"&&b===0&&(k=Yx(s,{labelable:!0}),g={}),a==="collapse"&&b<p.collection.size){const G=B.slice(b);B=B.slice(0,b),F=r.jsx(TZt,{...k,items:G,onAction:l,isDisabled:i,isEmphasized:e,staticColor:o,state:p,summaryIcon:h,hideButtonText:C,isOnlyItem:b===0,orientation:n})}const Y={...v.style,flexBasis:x?"100%":void 0};return r.jsx(Cq,{children:r.jsx("div",{...v,style:Y,ref:f,children:r.jsxs("div",{...g,ref:u,className:W("flex",_&&"flex-col"),children:[B.map(G=>r.jsx(AZt,{onAction:l,isDisabled:i,isEmphasized:e,staticColor:o,item:G,state:p,hideButtonText:C,orientation:n,size:d},G.key)),F]})})})}const IZt=m.forwardRef(SZt);function AZt({item:s,state:t,isDisabled:e,isEmphasized:i,staticColor:n,onAction:o,hideButtonText:a,size:l="sm",orientation:c}){const h=m.useRef(null);let{buttonProps:d}=aR({key:s.key},t);e=e||t.disabledKeys.has(s.key);const u=t.selectionManager.isSelected(s.key),{hoverProps:f}=Ao({isDisabled:e}),p=Yx(s.props);o&&!e&&(d=hn(d,{onPress:()=>o(s.key)}));const g=S4(),[_,v]=m.useState("");rR(()=>{var b;a&&v((b=document.getElementById(g))==null?void 0:b.textContent)},[a,s.rendered,g]);let y=r.jsx(lR,{...hn(d,f,p),children:r.jsx(wq,{children:r.jsxs(o5,{slots:{text:{id:a?g:null,isHidden:a}},children:[r.jsx(r.Fragment,{}),r.jsx(LZt,{ref:h,isSelected:u,isDisabled:e,staticColor:n,"aria-label":s["aria-label"],"aria-labelledby":s["aria-label"]==null&&a?g:void 0,size:l,children:s.rendered})]})})});return a&&_&&(y=r.jsx(qi,{text:_,children:r.jsx("span",{children:y})})),s.wrapper&&(y=s.wrapper(y)),y}function TZt({state:s,isDisabled:t,isEmphasized:e,staticColor:i,items:n,onAction:o,summaryIcon:a,hideButtonText:l,isOnlyItem:c,orientation:h,...d}){const u=n[0].key,{buttonProps:f}=aR({key:u},s);delete f.onPress,delete f.role,delete f["aria-checked"];const{hoverProps:p}=Ao({isDisabled:t}),g=d["aria-label"]||(d["aria-labelledby"]?void 0:"");let _=d["aria-labelledby"];const v=S4(),y=S4();if(s.selectionManager.selectionMode==="none"&&(a=null),!a&&s.selectionManager.selectionMode==="single"&&s.selectionManager.disallowEmptySelection&&s.selectionManager.firstSelectedKey!=null){const b=s.collection.getItem(s.selectionManager.firstSelectedKey);b&&(a=b.rendered,typeof a=="string"&&(a=r.jsx(r5,{children:a})),_=`${_??y} ${v}`)}return a&&(a=r.jsxs(r.Fragment,{children:[r.jsx(xq,{}),r.jsx("span",{children:a})]})),r.jsxs(Eq,{align:c?"start":"end",direction:h==="vertical"?"end":"bottom",children:[r.jsx(o5,{slots:{text:{id:l?v:null,isHidden:l}},children:r.jsx(lR,{...hn(f,p),children:r.jsx(jY,{...d,id:y,"aria-label":g,"aria-labelledby":_,isDisabled:t,staticColor:i,children:a||r.jsx(Sq,{})})})}),r.jsx(Iq,{items:n,disabledKeys:s.disabledKeys,selectionMode:s.selectionManager.selectionMode,selectedKeys:s.selectionManager.selectedKeys,disallowEmptySelection:s.selectionManager.disallowEmptySelection,onSelectionChange:b=>s.selectionManager.setSelectedKeys(b),onAction:o,children:b=>r.jsx(cR,{textValue:b.textValue,...Yx(b.props),children:b.rendered})})]})}function JM(s,t,e){const i=window.getComputedStyle(s);return s.offsetWidth+(t?0:kx(i.marginLeft))+(e?0:kx(i.marginRight))}function $M(s,t,e){const i=window.getComputedStyle(s);return s.offsetHeight+(t?0:kx(i.marginTop))+(e?0:kx(i.marginBottom))}function kx(s){const t=parseInt(s,10);return isNaN(t)?0:t}const Wg=({options:s,value:t,onChange:e,size:i="sm",onBegin:n,onEnd:o})=>{const a=m.useCallback(l=>{n&&n();const[c]=l;e(c),o&&o()},[n,e,o]);return r.jsx(IZt,{selectionMode:"single",selectedKeys:[t],onSelectionChange:a,buttonLabelBehavior:"hide",size:i,children:s.map(({child:l,key:c,label:h})=>r.jsxs(cR,{children:[l,r.jsx(r5,{children:h})]},c))})};function PZt(s,t){s=jI(s),s=oR(s,"actionButton");const{isDisabled:e,children:i,autoFocus:n,holdAffordance:o,round:a,className:l,...c}=s,h=Cb(t),{buttonProps:d,isPressed:u}=mL(s,h),{hoverProps:f,isHovered:p}=Ao({isDisabled:e}),{styleProps:g}=NI(c),_=xe.Children.toArray(s.children).every(v=>!xe.isValidElement(v));return r.jsx(DI,{autoFocus:n,children:r.jsxs("button",{...g,...hn(d,f),ref:h,className:W("flex h-6 w-6 items-center justify-center [&>svg]:opacity-60 hover:[&>svg]:opacity-100",u&&"bg-pressed",p&&"bg-hovered","hover:bg-hovered active:bg-pressed",a?"rounded-full":"","svg-container",l),children:[o&&r.jsx(Aq,{}),r.jsx(o5,{slots:{icon:{size:"S"},text:{}},children:typeof i=="string"||_?r.jsx(r5,{children:i}):r.jsx(De,{children:i})})]})})}const jY=xe.forwardRef(PZt);function OZt(s,t){s=jI(s);const{isDisabled:e,autoFocus:i}=s,n=Cb(t),o=RI(s),{buttonProps:a}=hR(s,o,n),{hoverProps:l,isHovered:c}=Ao({isDisabled:e});return r.jsx(DI,{focusRingClass:"shadow-focus",autoFocus:i,children:r.jsx("button",{...hn(a,l),tabIndex:o.isSelected?0:-1,ref:n,className:"group relative flex h-full w-full items-center justify-center",children:r.jsx("div",{className:W("absolute rounded-full bg-icon-disabled group-hover:h-1 group-hover:w-1 group-hover:bg-white",!c&&!o.isSelected&&"h-0.5 w-0.5",(c||o.isSelected)&&"h-1 w-1",o.isSelected&&"ring-1 ring-white")})})})}xe.forwardRef(OZt);function MZt(s,t){s=jI(s);const{isDisabled:e,children:i,autoFocus:n,size:o="sm",...a}=s,l=Cb(t),c=RI(s),{buttonProps:h,isPressed:d}=hR(s,c,l),{hoverProps:u,isHovered:f}=Ao({isDisabled:e}),{styleProps:p}=NI(a),g=xe.Children.toArray(s.children).every(_=>!xe.isValidElement(_));return r.jsx(DI,{focusRingClass:"shadow-focus",autoFocus:n,children:r.jsx("button",{...p,...hn(h,u),tabIndex:c.isSelected?0:-1,ref:l,className:W("flex items-center justify-center rounded-sm",o==="sm"&&"h-6 w-6",o==="md"&&"h-8 w-8",d&&"bg-pressed",f&&"bg-hovered",c.isSelected&&"bg-active","hover:bg-hovered active:bg-pressed"),children:r.jsx(o5,{slots:{icon:{size:"S"},text:{}},children:typeof i=="string"||g?r.jsx(r5,{children:i}):i})})})}const LZt=xe.forwardRef(MZt),DY=({children:s})=>r.jsx("div",{className:"flex h-full w-full items-center",children:s}),RZt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJsAAACbCAYAAAB1YemMAAAACXBIWXMAAALFAAACxQGJ1n/vAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAARPSURBVHgB7d2LbRtHEIDhYZAC3EEuHcgd0BVEqUB0BXYqEFNB7AokVRCnAjEVxB1wU4HSwWQmRyKyJJ/1uL2d3f0/YEHArwOMH6t7cVcEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOBWgkWo6ol9nNz6peRjtVolAV7KAhtsnNu40a/7y8ZGgOeygN59I7K79jbWAjyWBfPKxrU+37kAj/HC0I7eCzBFx/OzuZwI8BAdLwbmdC3AQyyOC53fWhrS5H02HX8EvZM8ruze2E7uH/PGPl7JvC7tWG8FcfmMoPlsFjzejTTkO8Eccp3M+22UuWfLYqqOTceT8q2UlzMIYivNQ7MPv2L7QVCFKmO7FdogMSTJ5x9pRHWxBQzNfZY8/K0QYishaGhiQXhsOaLYSUOqiS1qaLd8lPn9Kg2pIrYKQnMfZN7Z7bK1FyvDx1ZJaHI4t5prJkrS2KzmQsdWS2hHFpzPbnP8OP2lxdfFw8ZWW2hHFom/i/bcWclnx5/t3/gkDQoZ2+ERTXWhHVksW/vwB+jpCX9tZ+N1q6G5qDObxzZIxSwaP8H/Ucbodl/5Yz6TXdp4Y3/2TevftPpekJVHJ2NQx1efjs86u/saH7Et6HDzt1u8YoTFEBsWQ2xYDOdsM7AT/1P7+Eny8CvWv2V8s+RzzW+BENs8/CpzIwuwsHf2cWVjV9vVLD9G67O2cWFjr+PXBwepBLHVbWPDV0GqYn0QYquf3yTe6rgK0iCBEVs7BhvXGniNEGJryyCBgyO29vz3xkzE4IitTR7c79HO4YitXYOMt0jCILa2rTXQ4tDE1r7foixOQ2zt89BCrNFLbH3ItTDikxBbH3ydt7UURmz9OJXCiK0fud63ezRi68dQ+qqU2PoySEHE1peiz0uJDYshNiyG2LAYYutL0a8BEltfkhREbB0pvbANsfWj+ApKxNaPP6UwYuvHpRRGbH1IERYiJLY+hNhTgdjalw7r+hZHbO0Ls1MMsbXtY5RZzRFbu5KNrQRCbG1KMm7kEWpJVGJrT5IxtCTBEFtbkgQNzRFbO3zrydeRF3VmtfD6JRtvLbKdBEds9fLHT1eHDXWrQGx1STb+sPGphpnsrlZjS5LvzvlDD7R3kk+S8XXuXc27u4Tly3Pq44VaXRGVeUJs+5p2OOldzbc+kgS+p4T7ao0tCaFVp8YLhCQToeVasHjq7Yk7e7/PbfjW8fECE+dsk+doh13qcthMHPNc87rRwFsEVU8fjm2v8UI707wILTe9H9teCQ056Jex7ZXQkIv+H9teCQ056RjbXsuEtp045pnmRWhLs/9wX7d/mPj9C81jO3HMM83Lt98eBHFoe6H5bObbbofYXwoH2lZoHtkHZTaLR8uEdqrz8sB809n32uFMtpJKaKYZYOr5qscm8zyGSjIug5AEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACE9y8EftB0MOqRdwAAAABJRU5ErkJggg==",NZt=({className:s,style:t,...e})=>r.jsx("div",{className:W(yF.loaderContainer,s),style:t,...e,children:r.jsx("img",{src:RZt,alt:""})});m.memo(NZt);const jZt="_importButtonContainer_1dnfp_1",DZt={importButtonContainer:jZt},FZt=({className:s,style:t,accept:e=".glb,.fbx,.obj,.stl,.jpg,.jpeg,.png,.json,.zip",label:i="Import",size:n="md",variant:o="secondary",disabled:a=!1,onImport:l,...c})=>{const h=m.useRef(null),d=m.useCallback(()=>{h.current&&(h.current.value="",h.current.click())},[]);return r.jsxs("div",{className:W(DZt.importButtonContainer,s),style:t,...c,children:[r.jsx("input",{ref:h,type:"file",accept:e,onChange:l}),r.jsx(Tt,{size:n,variant:o,disabled:a,onClick:d,children:i})]})},CI=m.memo(FZt);var Bh=(s=>(s[s.Image=0]="Image",s[s.HDRI=1]="HDRI",s[s.Audio=2]="Audio",s))(Bh||{}),Pn=(s=>(s.JPEG=".jpeg",s.JPG=".jpg",s.PNG=".png",s.HDR=".hdr",s.EXR=".exr",s.GIF=".gif",s.MP3=".mp3",s.WAV=".wav",s))(Pn||{});const BZt=({className:s,style:t,type:e=Bh.Image,aspectRatio:i,initialPreviewUrlKey:n,accept:o=[Pn.JPEG,Pn.JPG,Pn.PNG],isDisabled:a=!1,onPreviewChange:l,onImport:c,...h})=>{const[d]=Jf([n],{}),[u,{toggleOn:f,toggleOff:p}]=ss(!!n),[g,_]=m.useState(),[v,y]=m.useState(),b=m.useCallback(async C=>{try{if(!C.target.files||!C.target.files[0])throw Error("Missing file");const x=C.target.files[0],I=x.name.split(".").pop();if(!I)throw Error("Missing file extension");if(!o.includes(`.${I}`)){const T=e===Bh.Audio?Mg.UnsupportedAudio:Mg.UnsupportedFile;be.open({id:_t(),text:T});return}if(e===Bh.Audio){const{isValidSize:T}=yyt(x);if(!T){be.open({id:_t(),text:Mg.ExceedsAudioSize});return}y(x.name)}else{f();let T=URL.createObjectURL(x);if(e===Bh.HDRI){const D=sz();if(!D)throw Error("Lighting previewer is not ready");await D.loadLighting(T,I),T=D.captureAsDataUrl()}_(T)}c==null||c(x)}catch(x){console.error(x)}},[o,f,e,c]);return m.useEffect(()=>{n&&f()},[n,f]),m.useEffect(()=>{d&&_(d)},[d]),m.useEffect(()=>{if(u)return l==null?void 0:l();l==null||l(g)},[u,g,v,l]),r.jsxs("div",{className:W("group relative w-full bg-canvas",a&&"pointer-events-none",s),style:{aspectRatio:i,...t},...h,children:[g&&r.jsx("img",{className:W("h-full w-full object-cover",u&&"invisible"),style:{aspectRatio:i},src:g,alt:"",onLoad:p}),v&&r.jsx("div",{className:W("flex h-full w-full items-center justify-center",u&&"invisible"),children:r.jsx(K,{className:"text-t-secondary",children:v})}),r.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:u?r.jsxs("div",{className:"flex gap-2 opacity-60",children:[r.jsx(ko,{size:10}),r.jsx("span",{className:"text-body2",children:"Loading..."})]}):r.jsx(CI,{className:W("w-50",g||v?"hidden group-hover:flex":"flex",a&&"!hidden"),size:"sm",variant:"primary",label:`Upload File (${o.join(", ").toUpperCase()})`,accept:o.join(", "),onImport:b})})]})},av=m.memo(BZt),kZt=({children:s,className:t,isFixedSize:e,...i},n)=>r.jsx("div",{ref:n,className:jf("relative overflow-auto rounded-panel bg-panel",e?"shrink-0 grow-0":"min-w-0 flex-1",t),...i,children:s}),Lf=s=>{const{children:t}=s;return r.jsx("div",{className:"relative h-full w-panelDivider shrink-0",children:t})},wC=s=>{const{children:t}=s;return r.jsx("div",{className:"relative h-panelDivider w-full shrink-0",children:t})},R1=({children:s,className:t,...e})=>r.jsx("div",{className:jf("flex h-full w-full min-w-0 flex-1",t),...e,children:s}),uc=({children:s,className:t,...e})=>r.jsx("div",{className:jf("flex h-full w-full flex-1 flex-col",t),...e,children:s}),Io=xe.forwardRef(kZt),GZt=s=>{const{height:t,children:e,...i}=s;return r.jsx("div",{...i,style:{height:`${t}px`},children:e})},VZt=A(GZt);var kc=(s=>(s.UP="UP",s.DOWN="DOWN",s.LEFT="LEFT",s.RIGHT="RIGHT",s))(kc||{});const _4=A(s=>{const{resizeDirection:t,onBegin:e,onContinue:i,onEnd:n,isDisabled:o,editor:a,preferenceKey:l,dimensions:c}=s,[h,d]=m.useState(!1),{moveProps:u}=zy({onMoveStart(){o||(d(!0),e==null||e())},onMove(_){let v=0;switch(t){case kc.UP:v=-_.deltaY;break;case kc.DOWN:v=_.deltaY;break;case kc.LEFT:v=-_.deltaX;break;case kc.RIGHT:v=_.deltaX;break}i==null||i(v);const y=a.preferencesController.get(l),b=Tq(y+v,c.MIN,c.MAX);a.preferencesController.set(l,b)},onMoveEnd(){d(!1),n==null||n()}}),f=t===kc.RIGHT||t===kc.LEFT,p=t===kc.UP||t===kc.DOWN,g=()=>{a.preferencesController.set(l,c.DEFAULT)};return r.jsx("div",{className:W("absolute z-panelResizer",{"-top-1 h-2 w-full":p,"hover:cursor-row-resize":p&&!o,"-right-1 top-0 h-full w-2":f,"hover:cursor-col-resize":f&&!o,"pointer-events-none":o}),...u,onDoubleClick:g,"aria-hidden":!0,children:h&&wb.createPortal(r.jsx("div",{className:W("fixed bottom-0 left-0 right-0 top-0",{"cursor-row-resize":p,"cursor-col-resize":f})}),document.body)})}),HZt=({fromX:s,fromY:t,toX:e,toY:i,fromNode:n})=>{const o=n==null?s:n.positionAbsolute.x+n.width/2,a=n==null?t:n.positionAbsolute.y+n.height/2,[l]=dR({sourceX:o,sourceY:a,targetX:e,targetY:i});return r.jsx("g",{className:"z-0",children:r.jsx("path",{className:"stroke-lime",fill:"none",d:l})})};function UZt(s){const{className:t,backgroundClassName:e,titleContent:i,...n}=s;return r.jsx("div",{className:t??"",children:r.jsxs(Pq,{...n,proOptions:{hideAttribution:!0},className:"react-flow",children:[i??null,r.jsx(Oq,{className:e??"",color:BN}),r.jsx(Mq,{className:"react-flow-controls"})]})})}const v4=24,l0=12,tL=(s,t,e)=>{const{x:i,y:n,w:o,h:a}=s,l=o/2,c=a/2,h=Math.abs(t.x),d=Math.abs(t.y),u=h>d,f=u?l/h:c/d,p=u?c/d:l/h;let g=Math.min(f,p);return e&&(g=-g),{x:i+g*t.x,y:n+g*t.y}},zZt=({id:s,style:t={},markerEnd:e,data:i,source:n,target:o})=>{const a=I4(m.useCallback($=>$.nodeInternals.get(n),[n])),l=I4(m.useCallback($=>$.nodeInternals.get(o),[o]));if(a==null||l==null)return null;const c=a.positionAbsolute.x+a.width/2,h=a.positionAbsolute.y+a.height/2,d=l.positionAbsolute.x+l.width/2,u=l.positionAbsolute.y+l.height/2,f=d-c,p=u-h,g=Math.sqrt(f*f+p*p),_=f/g,v=p/g,y={x:_,y:v},b={x:c,y:h,w:a.width,h:a.height},C=tL(b,y,!1),x={x:d,y:u,w:l.width,h:l.height},I=tL(x,y,!0),O=(C.x+I.x)/2,T=(C.y+I.y)/2,D=Math.round(ms.radToDeg(Math.atan2(p,f))),[B]=dR({sourceX:c,sourceY:h,targetX:d,targetY:u});let F=O-l0,k=T-l0,Y=F,G=k;if(i!=null&&i.isBidirectional){const $=Math.hypot(I.x-C.x,I.y-C.y),X=.7*(v4/$),q=.5+X,at=.5-X;F=q*I.x+(1-q)*C.x-l0,k=q*I.y+(1-q)*C.y-l0,Y=at*I.x+(1-at)*C.x-l0,G=at*I.y+(1-at)*C.y-l0}const st=($,X,q,at,bt)=>{const lt=(i==null?void 0:i.selectedEdgeId)===s&&$===(i==null?void 0:i.selectedEdgeDirection);return r.jsx("foreignObject",{width:v4,height:v4,x:q,y:at,className:"edgebutton-foreignobject",requiredExtensions:"http://www.w3.org/1999/xhtml",children:r.jsx(fC,{placement:"top",popoverContent:r.jsx(r.Fragment,{children:i==null?void 0:i.popoverContent}),disableArrow:!0,offsetSize:16,open:lt,onClose:i==null?void 0:i.onClose,disableOnFocus:!0,disableOnHover:!0,disableBackdrop:!0,children:r.jsx("div",{children:r.jsx("button",{className:W("mr-2 rounded-full p-1 text-black",{"bg-lime":lt,"bg-gray-20 hover:bg-gray-10":!lt}),onClick:X,children:vot({transform:`rotate(${bt}deg)`})})})})})};return i==null?null:r.jsxs(r.Fragment,{children:[r.jsx("path",{id:s,style:t,className:"react-flow__edge-path",d:B,markerEnd:e}),st(i.idA,i.onClickA,F,k,D),(i==null?void 0:i.isBidirectional)&&st(i.idB,i.onClickB,Y,G,D+180)]})},YZt=({stateMachineController:s,timelineController:t,sceneController:e,sceneEntitiesById:i})=>{const n=m.useRef(null),o=s.selectedInteractionIdsGrouped,a=()=>{const f=o[0][1].values().next().value,p=s.getInteractionForId(f);if(p==null)return;const g=Object.values(p.animations)[0];s.addInteraction(g.fromStateId,g.toStateId)},l=m.useMemo(()=>s.interactionsComponents.some(f=>Jw(f)?!1:f.entity.parent&&f.entity.parent.sceneObject.isInstance),[s.interactionsComponents]),c=s.interactionsComponents.length,h=o.some(([f,p])=>f===xI),d=c>1?`${h?"Mixed":"Shared"} events (${c})`:"Events";return o.length===0?null:r.jsxs("div",{className:"max-h-96 overflow-y-auto",ref:n,children:[r.jsx($f,{label:d,children:r.jsx(cs,{label:"Add interaction",onPress:a,isDisabled:s.isSelectingNewTargetEntity,isReadOnly:l,children:Eo})}),o.map(([f,p],g)=>r.jsx(m.Fragment,{children:f===xI?r.jsx(lOt,{stateMachineController:s,interactionIds:p,isInstance:l}):r.jsx(cOt,{interactionIdsKey:f,stateMachineController:s,timelineController:t,sceneController:e,interactionIds:p,sceneEntitiesById:i,isInstance:l})},f))]})},eL=A(YZt),WZt=s=>({connectionNodeId:s.connectionNodeId}),XZt=({id:s,data:t})=>{const e=m.useRef(null),[i,n]=m.useState(Ya.Top),[o,a]=m.useState(null),{connectionNodeId:l}=I4(WZt),c=l&&l!==s;m.useEffect(()=>{!t.isSelected&&o!=null&&a(null)},[o,t]);const h=c?"group-hover:opacity-100":"",d=l==null?"!pointer-events-none":"",f=`group absolute !border-none !rounded-none !bg-transparent flex items-center justify-center ${{[Ya.Right]:"!w-4 !h-8 !-right-1",[Ya.Left]:"!w-4 !h-8 !-left-1",[Ya.Bottom]:"!-bottom-1 !w-[calc(100%-1.5rem)] !h-4",[Ya.Top]:"!-top-1 !w-[calc(100%-1.5rem)] !h-4"}[i]}`,p=`opacity-0 !absolute !w-[calc(100%-1.5rem)] !h-[calc(100%-1.5rem)] !left-3 !rounded-md !bg-transparent !border-lime ${h} ${d}`,g=`w-2 h-2 bg-lime border-none !right-1 opacity-0 rounded-full pointer-events-none transition delay-75 ${c?"":"group-hover:opacity-100"}`,_=C=>{if(e.current==null||l!==null)return;const x=e.current.getBoundingClientRect();C.clientX<x.left&&i!==Ya.Left?n(Ya.Left):C.clientX>x.right&&i!==Ya.Right?n(Ya.Right):C.clientY<x.top&&i!==Ya.Top?n(Ya.Top):C.clientY>x.bottom&&i!==Ya.Bottom&&n(Ya.Bottom)},v=()=>{t.isRenameable&&a(t.label)},y=()=>{o!=null&&t.onRename(o),a(null)},b=C=>{t.onMouseDown!=null&&t.onMouseDown(s)};return r.jsxs("div",{className:"relative flex flex-row items-center p-3",onMouseMove:_,onMouseDownCapture:b,children:[r.jsxs("div",{className:W("group max-w-[100px] overflow-hidden text-ellipsis rounded-md",{"bg-userEmerald":s===Ro,"bg-userBlue":s===sr,"bg-gray-70":s!==Ro&&s!==sr,"hover:outline":t.isTargetable,"outline outline-1 outline-lime":t.isSelected,"outline outline-1 outline-white/40":t.isActive&&!t.isSelected,"outline-solid outline-white/40":!t.isSelected&&!t.isActive,"px-3 py-2":o==null,"p-2":o!=null}),ref:e,onDoubleClick:v,children:[o!=null?r.jsx(la,{size:"md",align:"center",value:o,onChange:C=>{a(C.target.value)},onSubmit:y,className:"w-full overflow-hidden text-ellipsis whitespace-nowrap !px-0 text-body2",sizePadding:0,onBlur:y,selected:!0}):r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"w-full w-full overflow-hidden text-ellipsis whitespace-nowrap",children:t.label}),t.badge&&r.jsx("span",{className:"absolute right-[6px] top-[6px] flex h-4 w-4 items-center justify-center rounded-full border border-solid border-white/40 bg-gray-70 text-body2",children:t.badge})]}),t.isTargetable&&r.jsx(XT,{className:p,type:"target",position:Ya.Left})]}),r.jsx(XT,{className:f,type:"source",position:i,children:r.jsx("div",{className:g,"data-testid":`${s}-source`})})]})},ZZt=m.memo(XZt),wI="interaction",Sy="stateNode",jp=200,KZt={[Sy]:ZZt},qZt={[wI]:zZt},sL="w-[calc(33%+1rem)]",iL="w-full",QZt=A(({interactionsComponents:s,stateMachineController:t,timelineController:e,sceneController:i,sceneEntitiesById:n})=>{const o=t.statesComponents,[a,l,c]=Lq([]),[h,d,u]=Rq([]),f=m.useRef(null),p=Nq(),g=m.useRef(!1),[_,v]=m.useState(!0),[y,b]=m.useState(e.isTimelineExpanded?sL:iL),C=m.useCallback(()=>{e.isTimelineExpanded?b(sL):b(iL)},[e.isTimelineExpanded]);m.useEffect(()=>{C()},[C,e.isTimelineExpanded]),m.useEffect(()=>{f.current!=null&&t.addKeyListeners(f.current)},[t]),m.useEffect(()=>{t.needsReframe&&(setTimeout(()=>{p.fitView()},0),t.needsReframe=!1)},[p,t,t.needsReframe]);const x=m.useCallback(lt=>{const ct=nt=>{const ot=nt===ys?null:nt;t.setActiveState(ot)};lt!==sr&&(lt===Ro?t.setActiveToStartState():ct(lt),t.setSelectedStateId(lt))},[t]);m.useEffect(()=>{var Kt,ye,Cs,He,je,ui,ha,uh,bd,sp;let lt=jp/2,ct=jp/2;const nt=t.statesComponents.length>0?t.statesComponents[0]:null,ot=(Kt=nt==null?void 0:nt.getStateMetadata(ys))==null?void 0:Kt.nodePosition,Et=(ye=nt==null?void 0:nt.getStateMetadata(sr))==null?void 0:ye.nodePosition,Ot=(Cs=nt==null?void 0:nt.getStateMetadata(Ro))==null?void 0:Cs.nodePosition,ut=t.statesComponents.length>1?{badge:`${t.statesComponents.length}`}:{},yt=[{id:Ro,type:Sy,zIndex:1,data:{label:"Start",isTargetable:!1,isSelected:!1,isActive:t.selectedStateId===Ro,isRenameable:!1,onRename:Po=>{}},position:{x:(Ot==null?void 0:Ot.x)??lt,y:(Ot==null?void 0:Ot.y)??ct}},{id:ys,type:Sy,zIndex:1,data:{...ut,label:"Base State",isTargetable:!0,isActive:o.length>0&&o[0].stateId==null,isSelected:t.selectedStateId===ys,isRenameable:!1,onRename:Po=>{},onMouseDown:x},position:{x:(ot==null?void 0:ot.x)??lt+jp,y:(ot==null?void 0:ot.y)??ct}},{id:sr,type:Sy,data:{...ut,label:"Any State",isTargetable:!1,isSelected:!1,isActive:!1,isRenameable:!1,onRename:Po=>{},onMouseDown:x},position:{x:(Et==null?void 0:Et.x)??lt+2*jp,y:(Et==null?void 0:Et.y)??ct}}];lt+=jp,ct+=jp/2;for(const Po of t.nodeStateIds){const mc=(He=nt==null?void 0:nt.getStateMetadata(Po))==null?void 0:He.nodePosition;let Ue=((je=nt==null?void 0:nt.getState(Po))==null?void 0:je.name)??`State ${Po}`;Po===((ui=t.duplicatedNodeContext)==null?void 0:ui.duplicatedId)?Ue=((ha=nt==null?void 0:nt.getState(t.duplicatedNodeContext.originalId))==null?void 0:ha.name)??`State ${t.duplicatedNodeContext.originalId}`:Po===((uh=t.duplicatedNodeContext)==null?void 0:uh.originalId)&&(Ue=((bd=nt==null?void 0:nt.getState(t.duplicatedNodeContext.duplicatedId))==null?void 0:bd.name)??`State ${t.duplicatedNodeContext.duplicatedId}`);const Zo=gc=>ip=>{t.renameState(gc,ip)};yt.push({id:Po,type:Sy,zIndex:((sp=t.duplicatedNodeContext)==null?void 0:sp.duplicatedId)===Po?0:1,data:{...ut,label:Ue,isTargetable:!0,isActive:(nt==null?void 0:nt.stateId)===Po,isSelected:t.selectedStateId===Po,isRenameable:!0,onRename:Zo(Po),onMouseDown:x},position:{x:(mc==null?void 0:mc.x)??lt,y:(mc==null?void 0:mc.y)??ct}}),lt+=jp}l(yt)},[t.statesComponents,t.nodeStateIds,t.selectedStateId,t.duplicatedNodeContext,o,x,l,t]);const I=m.useCallback(()=>{t.setSelectedEdge(null)},[t]);m.useEffect(()=>{var ct,nt,ot,Et,Ot;const lt=[];for(const[ut,yt]of t.edgesById.entries()){const Kt=(ct=yt.values().next())==null?void 0:ct.value,ye=t.getInteractionForId(Kt);if(Kt==null||ye==null)continue;const Cs=Object.values(ye.animations)[0];let He=Cs.fromStateId??ys,je=Cs.toStateId??ys;t.duplicatedNodeContext!=null&&(He===t.duplicatedNodeContext.originalId?He=t.duplicatedNodeContext.duplicatedId:je===t.duplicatedNodeContext.originalId&&(je=t.duplicatedNodeContext.duplicatedId));const ui=ha=>{const uh=Array.from(ha);return t.getIsEdgeBidirectional(uh)};He!=je&&lt.push({id:ut,source:He,target:je,style:ut===((nt=t.selectedEdgeIdAndDirection)==null?void 0:nt.edgeId)?{stroke:Kh,strokeWidth:2}:{stroke:g9,strokeWidth:1},data:{onClickA:()=>t.setSelectedEdge(ut,He),onClickB:()=>t.setSelectedEdge(ut,je),isBidirectional:ui(yt),idA:He,idB:je,selectedEdgeDirection:(ot=t.selectedEdgeIdAndDirection)==null?void 0:ot.fromStateId,selectedEdgeId:(Et=t.selectedEdgeIdAndDirection)==null?void 0:Et.edgeId,popoverContent:r.jsx(lI,{children:r.jsx(eL,{sceneEntitiesById:n,stateMachineController:t,timelineController:e,sceneController:i})}),onClose:I},type:wI})}t.startState&&t.startState!==cT&&t.startState!==Hc&&lt.push({id:Ro,source:Ro,target:t.startState,style:Ro===((Ot=t.selectedEdgeIdAndDirection)==null?void 0:Ot.edgeId)?{stroke:Kh,strokeWidth:2}:{stroke:g9,strokeWidth:1},data:{onClickA:()=>{t.setSelectedEdge(Ro)},onClickB:()=>{t.setSelectedEdge(Ro)},isBidirectional:!1,selectedEdgeId:t.selectedEdgeIdAndDirection,shouldOpenImmediately:!1,popoverContent:r.jsx(lI,{children:r.jsx(eL,{sceneEntitiesById:n,stateMachineController:t,timelineController:e,sceneController:i})}),onClose:I},type:wI}),d(lt)},[a,t.allInteractionIds,t.selectedEdgeIdAndDirection,t.startState,t.duplicatedNodeContext,t,d,n,e,i,I]);const O=m.useCallback(()=>{t.addState(),g.current=!0},[t]),T=(lt,ct)=>{x(ct.id)},D=(lt,ct)=>{t.handleNodeHoverEnter(ct.id)},B=lt=>{lt.stopPropagation(),_&&(t.setSelectedStateId(null),t.setSelectedEdge(null))},F=(lt,ct)=>{if(lt.altKey){t.duplicateSelectedState(ct.position);return}t.recordBeforeStates(P.STATE_METADATA)},k=(lt,ct)=>{t.saveStateMetadata(ct.id,{nodePosition:ct.position}),t.duplicatedNodeContext&&t.clearDuplicateContext()},Y=({source:lt,target:ct})=>{if(lt==null||ct==null||lt===ct)return;if(lt===Ro){t.setStartState(ct);return}const nt=lt===ys?null:lt,ot=ct===ys?null:ct;t.addInteraction(nt,ot,!0)},G=(lt,{nodeId:ct})=>{v(!1),t.newConnectionId=ct},st=lt=>{if(lt.target.classList.contains("react-flow__pane")&&f.current!=null){const{top:ct,left:nt}=f.current.getBoundingClientRect(),ot=p.getNodes()[0],Et=ot.width??0,Ot=ot.height??0,ut=p.project({x:lt.clientX-nt,y:lt.clientY-ct});ut.x-=Et/2,ut.y-=Ot/2,t.newConnectionId===Ro?t.addStateAndStartState(ut):t.addStateAndInteraction(ut)}setTimeout(()=>v(!0),0),t.newConnectionId=null};let $;o.length>1?$=`${o.length} Objects`:$=sm(o[0])?o[0].entity.name:"Scene";const X=()=>{t.clearInteractionTargetEditContext()},q=lt=>{g.current&&p.fitView(),c(lt),g.current=!1},at=sm(o[0]),bt=m.useMemo(()=>{var ct;if(!at)return null;let lt=null;for(const nt of o){if(!nt.entity.isPartOfFrame)break;const ot=(ct=nt.entity.getComponent(Uh))==null?void 0:ct.frame;if(!ot)break;if(lt&&lt!==ot){lt=null;break}lt=ot}return lt},[at,o]);return r.jsxs(Io,{className:"h-full basis-full",ref:f,children:[r.jsx(UZt,{className:`${y} h-full`,onInit:C,titleContent:r.jsx(ae,{children:r.jsx(pe,{children:r.jsxs("div",{className:"flex items-center justify-start gap-2 pl-1",children:[bt&&r.jsxs(r.Fragment,{children:[r.jsx(De,{variant:"secondary",children:cb(bt.entity.type)}),r.jsx("span",{className:"text-t-secondary",children:bt.entity.name}),r.jsx(De,{variant:"secondary",children:q0})]}),at&&r.jsx(De,{variant:"secondary",children:cb(o[0].entity.type)}),$]})})}),autoPanOnConnect:!1,autoPanOnNodeDrag:!1,fitView:!0,maxZoom:1.25,onNodesChange:q,onEdgesChange:u,onNodeClick:T,onNodeMouseEnter:D,onNodeDragStart:F,onNodeDragStop:k,onPaneClick:B,onConnect:Y,onConnectStart:G,onConnectEnd:st,connectionMode:jq.Strict,nodes:a,edges:h,nodesDraggable:!0,nodeTypes:KZt,edgeTypes:qZt,connectionLineComponent:HZt,connectionLineType:Dq.Straight}),r.jsx("div",{className:"fixed bottom-0 left-0 pb-5 pl-3",children:r.jsx(Tt,{variant:"secondary",size:"sm",leftIcon:Eo,onClick:O,className:"!h-9 rounded bg-gray-70",children:"New state"})}),r.jsx("div",{className:`absolute left-0 top-0 h-full w-full ${t.isSelectingNewTargetEntity?"":"pointer-events-none"}`,onClick:X,"aria-hidden":"true"})]})});var FY=Object.defineProperty,JZt=Object.getOwnPropertyDescriptor,$Zt=(s,t,e)=>t in s?FY(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,vs=(s,t,e,i)=>{for(var n=i>1?void 0:i?JZt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&FY(t,e,n),n},Qo=(s,t,e)=>($Zt(s,typeof t!="symbol"?t+"":t,e),e);const ys="base",Ms="entity_self",lT="entity_mixed",wo="entity_any",xI="interaction_mixed",Hc="Mixed",Ro="start_state",cT="deleted",tKt=[ys,sr];class ds{constructor(t){this._editor=t,Qo(this,"_selectedFromStateId",null),Qo(this,"_duplicatedNodeContext",null),Qo(this,"_needsReframe",!1),Qo(this,"_selectedEdgeAndDirection",null),Qo(this,"_interactionTargetEditContext",null),Qo(this,"_selectedStateId",null),Qo(this,"_setTargetEntitiesBinding"),Qo(this,"_newConnectionId",null),Qo(this,"_numSelectionEventsByEventName",{}),Qo(this,"_isEditingTextInput",!1),Qo(this,"_disposable",new Zt),Qo(this,"_statesManager"),Qo(this,"_interactionsManager"),Qo(this,"recordBeforeInteraction",e=>{let i=this.interactionsComponents;e!=null&&(Array.isArray(e)?i=e:i=[e]),this._interactionsManager.recordBeforeInteraction(i)}),Qo(this,"recordAfterInteraction",e=>{let i=this.interactionsComponents;e!=null&&(Array.isArray(e)?i=e:i=[e]),this._interactionsManager.recordAfterInteraction(i)}),Qo(this,"dispatchAndRecordAfterInteraction",(e=!0,i)=>{const n=i==null?this.interactionsComponents:[i];this._interactionsManager.dispatchAndRecordAfterInteraction(n,e)}),Qo(this,"recordBeforeStates",e=>{this._statesManager.recordBeforeStates(this.nonInstanceStatesComponents,e)}),Qo(this,"saveStateMetadata",(e,i)=>{this._statesManager.saveStateMetadata(this.statesComponents,e,i)}),this._setTargetEntitiesBinding=this._editor.signals.targeting.selectionChanged.add(this._updateTargetEntitiesFromSelection.bind(this)),this._disposable.add(new tt(()=>{this._setTargetEntitiesBinding!=null&&this._setTargetEntitiesBinding.detach()})),this._statesManager=new O4(this._editor),this._interactionsManager=new pN(this._editor),vt(this)}get interactionsManager(){return this._interactionsManager}setInteractionTargetEditContext(t){this._editor.targetSelectionController.selectedCollection.removeAll(),this._editor.targetSelectionController.hoveredCollection.removeAll(),wt(it.SELECT_TARGET),this._interactionTargetEditContext=t}clearInteractionTargetEditContext(){wt(it.SELECT),this._interactionTargetEditContext=null}get newConnectionId(){return this._newConnectionId}set newConnectionId(t){this._newConnectionId=t}get needsReframe(){return this._needsReframe}set needsReframe(t){Jt(()=>{this._needsReframe=t})}get targetEditContext(){return this._interactionTargetEditContext}get allInteractionIds(){return this.interactionsComponents.flatMap(t=>t.entries).map(([t,e])=>t)}get startState(){if(this.statesComponents.length<1)return null;let t=this.statesComponents[0].startState;const e=this.statesComponents.every(i=>i.startState===t);return t=t??ys,e?t:Hc}setStartState(t){if(this.nonInstanceStatesComponents.length<1)return;const e=t===ys?null:t;this._statesManager.setStartState(this.nonInstanceStatesComponents,e)}setActiveToStartState(){this._statesManager.setActiveStateToStartState(this.statesComponents)}get duplicatedNodeContext(){return this._duplicatedNodeContext}clearDuplicateContext(){var a,l;if(this._duplicatedNodeContext==null||this.statesComponents.length<1)return;const t=this._duplicatedNodeContext.originalId,e=this._duplicatedNodeContext.duplicatedId,i=this.statesComponents[0],n=(a=i.getStateMetadata(this._duplicatedNodeContext.originalId))==null?void 0:a.nodePosition,o=(l=i.getStateMetadata(this._duplicatedNodeContext.duplicatedId))==null?void 0:l.nodePosition;n&&o&&(this._statesManager.saveStateMetadata(this.statesComponents,t,{nodePosition:{...o}}),this._statesManager.saveStateMetadata(this.statesComponents,e,{nodePosition:{...n}})),this._duplicatedNodeContext=null}get nonInstanceStatesComponents(){return this._filterOutInstances(this.statesComponents)}get nonInstanceInteractionsComponents(){return this._filterOutInstancesWithInteractions(this.interactionsComponents)}get nodeStateIds(){if(this.statesComponents.length===0)return[];const t=this.statesComponents[0].stateIds,e=t.reduce((n,o)=>{const a=this.statesComponents[0].getState(o);return a!=null?n[o]=a.name:o===ys&&(n[o]="Base State"),n},{});return this.statesComponents.reduce((n,o)=>{const a=n.stateIds.filter(l=>{var c;return o.stateIds.includes(l)&&((c=o.getState(l))==null?void 0:c.name)===n.stateNamesById[l]});return{...n,stateIds:a}},{stateIds:t,stateNamesById:e}).stateIds}get isSelectingNewTargetEntity(){return this._interactionTargetEditContext!=null}get interactionTargetEditContext(){return this._interactionTargetEditContext}get isEditingTextInput(){return this._isEditingTextInput}set isEditingTextInput(t){this._isEditingTextInput=t}get selectedInteractionIdsGrouped(){const t=new Map;if(this.interactionsComponents.length<1||this._selectedEdgeAndDirection==null||this._selectedFromStateId==null)return[];if(this._selectedEdgeAndDirection.edgeId===Ro)return[];const e=this.edgesById.get(this._selectedEdgeAndDirection.edgeId);if(e==null||e.size===0)return[];this._numSelectionEventsByEventName={};const i=new Map,n=new Set,o=new Set;for(const a of e){const l=this._interactionsComponentsByInteractionId.get(a),c=l==null?void 0:l.get(a);if(l==null||c==null||Object.values(c.animations).length===0)continue;const h=Object.values(c.animations)[0];if((h.fromStateId==null?ys:h.fromStateId)!==this._selectedFromStateId)continue;const u=l.entityId,f=c.trigger.event,p=i.get(f)??new Map,g=p.get(u)??new Set;g.add(a),p.set(u,g),i.set(f,p),n.add(f),o.add(u)}for(const a of n){const l=i.get(a);if(l==null||l.size<o.size)continue;const c=Array.from(l.values()).reduce((h,d)=>(d.size<h&&(h=d.size),h),Number.MAX_SAFE_INTEGER);this._numSelectionEventsByEventName[a]=c}for(const[a,l]of i.entries()){const c=this._numSelectionEventsByEventName[a];for(const h of l.values()){const d=h.values();for(let u=0;u<c;u++){const f=d.next().value;if(f!=null){const p=this._makeSelectedInteractionIdsKey(a,u),g=t.get(p)??new Set;g.add(f),t.set(p,g)}}}}return t.size===0&&t.set(xI,e),Array.from(t.entries())}get edgesById(){const t=new Map;if(this.interactionsComponents.length<1)return new Map;for(const o of this.interactionsComponents){t.set(o.entityId,new Map);for(const[a,l]of o.entries)for(const[c,h]of Object.entries(l.animations)){const d=h.fromStateId==null?ys:h.fromStateId,u=h.toStateId==null?ys:h.toStateId,f=this._getStartEndKey(d,u),p=o.entityId,g=t.get(p);if(g.has(f)){const _=g.get(f);_==null||_.add(a)}else g.set(f,new Set([a]));t.set(p,g)}}const e=Array.from(t.values().next().value.keys()),{commonInteractionIdsByStartAndEndState:i}=Array.from(t.values()).reduce((o,a)=>{const l=[];for(const c of o.sharedKeys)if(a.has(c)){const h=a.get(c)??new Set,d=o.commonInteractionIdsByStartAndEndState.get(c);for(const u of h.values())d.add(u);o.commonInteractionIdsByStartAndEndState.set(c,d),l.push(c)}else o.commonInteractionIdsByStartAndEndState.delete(c);return o.sharedKeys=l,o},{commonInteractionIdsByStartAndEndState:t.values().next().value,sharedKeys:e}),n=new Map;for(const[o,a]of i.entries()){const l=o.split(":"),c=this.getEdgeKey(l[0],l[1]),h=n.get(c)??new Set;for(const d of a.values())h.add(d);n.set(c,h)}return n}removeOrReplaceTargetEntityForInteraction(t,e,i,n="targetEntityIds"){const o=Array.from(t).map(a=>({interactionId:a,component:this._interactionsComponentsByInteractionId.get(a)})).filter(({component:a})=>a!=null);this._interactionsManager.removeOrReplaceTargetEntityForInteractions(o,e,i,n)}get selectedEdgeIdAndDirection(){return this._selectedEdgeAndDirection}get selectedStateId(){return this._selectedStateId}setSelectedStateId(t){this._selectedStateId=t,t!=null&&(this._selectedEdgeAndDirection=null,this._selectedFromStateId=null)}setSelectedEdge(t,e=""){this._selectedEdgeAndDirection=t==null?null:{edgeId:t,fromStateId:e},this._selectedFromStateId=e,t!=null&&(this._selectedStateId=null)}getTargetEntityIdsForInteractionIds(t,e="targetEntityIds"){if(t.size<1)return[];const i=Array.from(t).map(o=>{var u,f;const a=this._interactionsComponentsByInteractionId.get(o);if(a==null)return[];const l=a.entityId,c=a.get(o);if(!c)return;const{trigger:h}=c;let d=[];return(h.type===te.POINTER||h.type===te.GAMEPAD)&&e==="targetEntityIds"?d=(u=h[e])==null?void 0:u.slice():h.type===te.COLLIDER&&(d=(f=h[e])==null?void 0:f.slice()),d&&d.includes(l)&&t.size>1&&d.push(Ms),d}),n=i.reduce((o,a)=>a==null?o??[]:o==null?o??[]:o.filter(c=>a.includes(c)),i[0]);return n==null||i[0]==null?[wo]:n.length===0&&i[0].length>0?[lT]:n}tryDeleteSelection(){this._deleteSelectedState(),this._deleteSelectedInteractions()}_getStartEndKey(t,e){return`${t}:${e}`}getEdgeKey(t,e){const i=[t,e];return i.sort(),i.join(":")}addKeyListeners(t){const e=new Uw(t),i=["del","backspace"];e.bind(i,o=>{o.repeat||(o.stopPropagation(),this.tryDeleteSelection())});const n=["command+d","ctrl+d"];e.bind(n,o=>{o.repeat||(o.preventDefault(),o.stopPropagation(),this.duplicateSelectedState())}),this._disposable.add(new tt(()=>{e.unbind(i),e.unbind(n)}))}dispose(){this._disposable.dispose()}setActiveStateForEntity(t,e){const i=new O4(this._editor);let n=[];if(t===ci)n=[this._editor.sceneController.statefulScene.states];else{const o=this._editor.sceneController.sceneEntitiesById[t];if(o==null)return;n=[o.states]}i.setActiveState(n,e)}addInteraction(t,e,i=!1){const n=this.nonInstanceInteractionsComponents;if(n.length<1)return;const o=this.getEdgeKey(t??ys,e??ys),a=this.edgesById.get(o),l=a==null?[]:this.getInteractionsForIds(a);if(i&&l.some(({animations:p})=>Object.values(p).length>0&&Object.values(p)[0].fromStateId===t&&Object.values(p)[0].toStateId===e))return null;const c=this._interactionsManager.addInteraction(n,t,e,l);if(c==null||c.length<1)return;Ft("state-machine:add-interaction"),i&&this.setSelectedEdge(o,t??ys);const h=c[0],u=h.component.get(h.interactionId).trigger.event,f=this._numSelectionEventsByEventName[u]==null?0:this._numSelectionEventsByEventName[u]+1;this._numSelectionEventsByEventName[u]=f}removeInteractions(t){const e=Array.from(t),i=this._getInteractionsAndComponentsForInteractionIds(e);this._interactionsManager.removeInteractions(i)}replaceTriggerForInteractions(t,e){if(t.size<1)return;const i=this.getInteractionForId(t.values().next().value);if(i==null||Object.values(i.animations).length<1)return;const n=Object.values(i.animations)[0],{interactionIdsAndComponentByEntityId:o}=Array.from(t).reduce((c,h)=>{var f;const d=this._interactionsComponentsByInteractionId.get(h);if(d==null)return c;const u=((f=c.interactionIdsAndComponentByEntityId[d.entityId])==null?void 0:f.interactionIds)??new Set;return u.add(h),c.interactionIdsAndComponentByEntityId[d.entityId]={interactionIds:u,component:d},c},{interactionIdsAndComponentByEntityId:{}}),a=Object.values(o).map(({component:c})=>c);this.recordBeforeInteraction(a);const l=Object.values(o);this._interactionsManager.removeInteractions(l,!1),this._interactionsManager.addInteraction(a,n.fromStateId,n.toStateId,[],!1,e),this.recordAfterInteraction(a)}updateInteractions(t,e,i,n=!0){const o=Array.from(t).map(a=>({interactionId:a,component:this._interactionsComponentsByInteractionId.get(a)})).filter(({component:a})=>a!=null);this._interactionsManager.updateInteractionsComponents(o,e,i,n)}_filterOutInstances(t){return this._isSceneStatesComponentArray(t)?t:t.filter(i=>!(i.entity.compo.isInstanceEntity&&!i.entity.compo.isInstanceRoot))}_isStatesComponentArray(t){return t[0]instanceof Xb}_isSceneStatesComponentArray(t){return t[0]instanceof Qk}_filterOutInstancesWithInteractions(t){return t[0]instanceof T6?t:t.filter(i=>!(i.entity.compo.isInstanceEntity&&!i.entity.compo.isInstanceRoot))}addState(){if(this.nonInstanceStatesComponents.length<1)return;const t=A0(this.selectedEntities);Ft("state-machine-add-state",t);const e=this._getNextStateId();this._statesManager.addState(this.nonInstanceStatesComponents,e)}addStateAndStartState(t){if(this._newConnectionId==null||this.nonInstanceStatesComponents.length<1)return;const e={clickAndDrag:!0,fromStartState:!0},i=A0(this.selectedEntities,e);Ft("state-machine-add-state",i);const n=sm(this.nonInstanceStatesComponents[0])?P.STATE_ADD:P.SCENE_STATE_ADD;this._statesManager.recordBeforeStates(this.nonInstanceStatesComponents,n);const o=this._getNextStateId();for(const l of this.nonInstanceStatesComponents)l.add(o),l.setStartState(o),l.setStateMetadata(o,{nodePosition:t});const a=sm(this.nonInstanceStatesComponents[0])?this._editor.stateController.signals.addState:this._editor.stateController.signals.sceneAddState;this._statesManager.dispatchAndRecordAfterStates(this.nonInstanceStatesComponents,a,n)}addStateAndInteraction(t){if(this._newConnectionId==null||this.nonInstanceStatesComponents.length<1||this.interactionsComponents.length<1)return;const e={clickAndDrag:!0},i=A0(this.selectedEntities,e);Ft("state-machine-add-state",i);const n=em(this.interactionsComponents[0])?{action:P.STATE_AND_INTERACTIONS_ADD,selection:this.interactionsComponents}:{action:P.SCENE_STATE_AND_INTERACTIONS_ADD};this._editor.stateController.recordBefore(n);const o=this._getNextStateId();for(const f of this.nonInstanceStatesComponents)f.add(o),f.setStateMetadata(o,{nodePosition:t});const a=this._newConnectionId===ys?null:this._newConnectionId;this._interactionsManager.addInteraction(this.interactionsComponents,a,o,[],!1),this._newConnectionId=null;const{signal:l,action:c}=sm(this.nonInstanceStatesComponents[0])?{signal:this._editor.stateController.signals.addState,action:P.STATE_ADD}:{signal:this._editor.stateController.signals.sceneAddState,action:P.SCENE_STATE_ADD},h=new Set(this.interactionsComponents.map(f=>f.entityId));l.dispatch({ids:h,action:c}),this._editor.stateController.signals.interactions.dispatch(n),this._editor.stateController.recordAfter(n);const d=a??ys,u=this.getEdgeKey(d,o);this.setSelectedEdge(u,d)}duplicateSelectedState(t){const e=this._statesManager.getAddAction(this.nonInstanceStatesComponents),i=this._statesManager.getAddSignal(this.nonInstanceStatesComponents);if(this._selectedStateId==null||this._selectedStateId===Ro||this._selectedStateId===ys||e==null||i==null)return;const n=A0(this.selectedEntities);Ft("state-machine-duplicate",n),Jt(()=>{const o=this._getNextStateId();this._statesManager.recordBeforeStates(this.statesComponents,e);for(const a of this.statesComponents){const l=a.getStateMetadata(this._selectedStateId);a.add(o,this._selectedStateId);let c=t;if(c==null){const h=(l==null?void 0:l.nodePosition)??null;h&&(c={x:h.x+jp,y:h.y})}c&&a.setStateMetadata(o,{nodePosition:{x:c.x,y:c.y}}),t!=null&&(this._duplicatedNodeContext={originalId:this._selectedStateId,duplicatedId:o})}this._statesManager.dispatchAndRecordAfterStates(this.statesComponents,i,e),this._selectedStateId=o}),this.needsReframe=!0}renameState(t,e){Ft("state-machine-rename-state"),this._statesManager.renameState(this.nonInstanceStatesComponents,t,e)}setActiveState(t){this._statesManager.setActiveState(this.statesComponents,t)}getInteractionsForIds(t){return Array.from(t).map(e=>this.getInteractionForId(e)).filter(e=>e!=null)}getInteractionComponentForId(t){return this._interactionsComponentsByInteractionId.get(t)??null}getInteractionForId(t){const e=this._interactionsComponentsByInteractionId.get(t);return e==null?null:e.get(t)??null}getIsEdgeBidirectional(t){if(t.length===0)return!1;const e=this._interactionsComponentsByInteractionId.get(t[0]);if(e==null)return!1;const i=e.get(t[0]);if(i==null)return console.warn("No interaction found with id",t[0]),!1;const n=Object.values(i.animations)[0].fromStateId,o=Object.values(i.animations)[0].toStateId;let a=!1;for(let l=1;l<t.length;l++){const c=this._interactionsComponentsByInteractionId.get(t[l]);if(c==null)continue;const h=c.get(t[l]);if(h==null)return console.warn("No interaction found with id",t[l]),!1;if(Object.values(h.animations)[0].fromStateId!==n||Object.values(h.animations)[0].toStateId!==o){a=!0;break}}return a}handleNodeHoverEnter(t){if(this._isSingleCameraSelected()){const e=this.statesComponents[0].entityId;this._editor.sceneController.cameraController.previewCamera(e,t)}}_deleteSelectedState(){this.statesComponents.length-this.nonInstanceStatesComponents.length>0||this._statesManager==null||this._selectedStateId==null||tKt.includes(this._selectedStateId)||(Ft("state-machine-delete-state"),this._statesManager.deleteState(this.nonInstanceStatesComponents,this._selectedStateId),this._selectedStateId=null)}_deleteSelectedInteractions(){var i,n,o;if(this.interactionsComponents.length-this.nonInstanceInteractionsComponents.length>0)return;if(((i=this._selectedEdgeAndDirection)==null?void 0:i.edgeId)===Ro){this._statesManager.setStartState(this.statesComponents,cT);return}const t=this.edgesById.get(((n=this._selectedEdgeAndDirection)==null?void 0:n.edgeId)??"");if(t==null||t.size===0)return;Ft("state-machine-delete-interaction");const e=this._getInteractionsAndComponentsForInteractionIds(null,(o=this.selectedEdgeIdAndDirection)==null?void 0:o.fromStateId);this._interactionsManager.removeInteractions(e),this._selectedEdgeAndDirection=null,this._selectedFromStateId=null,this._numSelectionEventsByEventName={}}get selectedEntities(){return[...this._editor.selectionController.selectedCollection.sceneEntities].filter(e=>!e.isBodyRigPart)}get statesComponents(){return this.selectedEntities.length<1?[this._editor.sceneController.statefulScene.states]:this.selectedEntities.map(t=>t.states)}get interactionsComponents(){return this.selectedEntities.length<1?[this._editor.sceneController.statefulScene.interactions]:this.selectedEntities.map(t=>t.interactions)}_updateTargetEntitiesFromSelection({selection:t}){const e=Array.from(t.sceneEntityIds);if(this._interactionTargetEditContext==null)return;const i=this._interactionTargetEditContext.interactionIds,n=Array.from(i).map(o=>({interactionId:o,component:this._interactionsComponentsByInteractionId.get(o)})).filter(({component:o})=>o!=null);if(e.length>0){if(this._interactionTargetEditContext.isAddingNewTargetEntityId)for(const o of e)this._interactionsManager.addTargetEntityForInteraction(n,o,this._interactionTargetEditContext.targetsKey);else if(this._interactionTargetEditContext.replacementEntityId!=null){const o=e[0];this._interactionsManager.removeOrReplaceTargetEntityForInteractions(n,this._interactionTargetEditContext.replacementEntityId,o,this._interactionTargetEditContext.targetsKey)}this.clearInteractionTargetEditContext(),this._editor.targetSelectionController.selectedCollection.removeAll(),this._editor.targetSelectionController.hoveredCollection.removeAll()}}get _interactionsComponentsByInteractionId(){const t=new Map;for(const e of this.interactionsComponents){for(const[i,n]of e.entries)t.set(i,e);if(e instanceof T6){const i=this._editor.sceneController.allInteractionsComponents;for(const n of i)for(const[o,{trigger:a}]of n.entries)a.type===te.AUTO&&t.set(o,n)}}return t}_isSingleCameraSelected(){return this.statesComponents.length===1&&this.statesComponents[0].entity.type===L.CAMERA}_makeSelectedInteractionIdsKey(t,e){return`${t}:${e}`}_getInteractionsAndComponentsForInteractionIds(t,e){var o;let i=t;if(i==null){const a=this.edgesById.get(((o=this._selectedEdgeAndDirection)==null?void 0:o.edgeId)??"");i=Array.from(a??[])}const n=i.reduce((a,l)=>{const c=this._interactionsComponentsByInteractionId.get(l);if(c==null)return a;const h=c.get(l);if(e!=null&&h!=null&&Object.values(h.animations).length>0){const f=e===ys?null:e;if(!Object.values(h.animations).every(g=>g.fromStateId===f))return a}const d=c.entityId,u=a[d];return u!=null?u.interactionIds.add(l):a[d]={component:c,interactionIds:new Set([l])},a},{});return Object.values(n)}_getNextStateId(){let t=0;for(const e of this.statesComponents){const i=e.stateIds[e.stateIds.length-1],n=parseInt(i,10);n>t&&(t=n)}return`${t+1}`}}vs([V],ds.prototype,"_selectedFromStateId",2);vs([V],ds.prototype,"_duplicatedNodeContext",2);vs([V],ds.prototype,"_needsReframe",2);vs([V],ds.prototype,"_selectedEdgeAndDirection",2);vs([V],ds.prototype,"_interactionTargetEditContext",2);vs([V],ds.prototype,"_selectedStateId",2);vs([V],ds.prototype,"_isEditingTextInput",2);vs([E],ds.prototype,"setInteractionTargetEditContext",1);vs([E],ds.prototype,"clearInteractionTargetEditContext",1);vs([M],ds.prototype,"needsReframe",1);vs([M],ds.prototype,"targetEditContext",1);vs([M],ds.prototype,"allInteractionIds",1);vs([M],ds.prototype,"startState",1);vs([M],ds.prototype,"duplicatedNodeContext",1);vs([E],ds.prototype,"clearDuplicateContext",1);vs([M],ds.prototype,"nonInstanceStatesComponents",1);vs([M],ds.prototype,"nonInstanceInteractionsComponents",1);vs([M],ds.prototype,"nodeStateIds",1);vs([M],ds.prototype,"isSelectingNewTargetEntity",1);vs([M],ds.prototype,"interactionTargetEditContext",1);vs([M],ds.prototype,"isEditingTextInput",1);vs([M],ds.prototype,"selectedInteractionIdsGrouped",1);vs([M],ds.prototype,"edgesById",1);vs([M],ds.prototype,"selectedEdgeIdAndDirection",1);vs([M],ds.prototype,"selectedStateId",1);vs([E],ds.prototype,"setSelectedStateId",1);vs([E],ds.prototype,"setSelectedEdge",1);vs([E],ds.prototype,"addInteraction",1);vs([E],ds.prototype,"removeInteractions",1);vs([E],ds.prototype,"replaceTriggerForInteractions",1);vs([E],ds.prototype,"updateInteractions",1);vs([E],ds.prototype,"addStateAndStartState",1);vs([E],ds.prototype,"addStateAndInteraction",1);vs([E],ds.prototype,"_deleteSelectedState",1);vs([M],ds.prototype,"selectedEntities",1);vs([M],ds.prototype,"statesComponents",1);vs([M],ds.prototype,"interactionsComponents",1);vs([E],ds.prototype,"_updateTargetEntitiesFromSelection",1);vs([M],ds.prototype,"_interactionsComponentsByInteractionId",1);async function BY(){const s=he.profileID,t=Xt.docClient;if(!s||!t)return null;const i=(await t.send(new Ti({TableName:NN,IndexName:"integrationsByProfile",KeyConditionExpression:"profile = :p",ExpressionAttributeValues:{":p":s}}))).Items;return!i||i.length===0?null:i[0].figmaToken}const kY=/https:\/\/www\.figma\.com\/(file|design|board)\/(?<fileId>.*)\/.*?node-id=(?<nodeId>.*)&.*/,eKt="https://api.figma.com/v1";async function sKt(s){if(s.length===0)return{tokenStatus:Xi.MISSING,description:null};const t={tokenStatus:Xi.INVALID,description:"Error fetching token"},e=`${eKt}/me`,i=GY(s);let n;try{n=await fetch(e,i)}catch(o){return console.warn(o),t}if(n==null)return t;if(n.status===200)return{tokenStatus:Xi.VALID,description:null};try{const o=await n.json();return{tokenStatus:Xi.INVALID,description:o.err}}catch(o){return console.warn(o),t}}const iKt=s=>{var e,i;const t=s.match(kY);return t!=null&&((e=t.groups)==null?void 0:e.fileId)!=null&&((i=t.groups)==null?void 0:i.nodeId)!=null};async function hT(s,t){var d,u;if(t.length<=0)return{error:"Missing or invalid Figma Token"};const e=s.match(kY);if(e==null||((d=e.groups)==null?void 0:d.fileId)==null||((u=e.groups)==null?void 0:u.nodeId)==null)return{error:"Invalid Figma file URL"};const i=e.groups.fileId;let n=e.groups.nodeId;n=n.replace(new RegExp("-","g"),"%3A");const o=GY(t);let a;try{a=await fetch(`https://api.figma.com/v1/images/${i}?ids=${n}&format=png`,o)}catch{return{error:"Error fetching data from figma"}}if(!a)return{error:"No response from Figma API"};const l=await a.json();if(l.err)return{error:l.err};const c=l.images,h=c==null?void 0:c[Object.keys(c)[0]];return h?{figmaImageUrl:h}:{error:"No image could be exported from Figma file"}}async function nKt(s,t,e){let i,n=0,o=0,a=0;if(!i){try{i=await BY()}catch(l){console.warn(l)}if(!i)return e("Your profile does not have a Figma API token yet. You can set it up while adding a new Figma file to a material.",!0),!1}for(const l of Object.values(s)){e("Syncing Figma files...");const c=l.getComponent(_e);if(!c)continue;const h=c.getMapsUsingFigmaByStateId();for(const[d,u]of Object.entries(h)){for(const[f,p]of Object.entries(u)){if(p==null)continue;n++;const{figmaImageUrl:g,error:_}=await hT(p.figmaFileUrl,i);if(!(_||!g)&&(o++,g!==p.figmaImageUrl)){const[v,y,b]=await gj(g),C={figmaFileUrl:p.figmaFileUrl,figmaImageUrl:g,lg:Ht(),md:Ht(),sm:Ht()};await Promise.all([ks(C.sm,v),ks(C.md,y),ks(C.lg,b)]);const x=d===ys?null:d;c.setTextureUrlKeyForState(x,f,C),a++}}t(c)}}return e(`Synced ${o}/${n} Figma file${o===1?"":"s"}, ${a} image${a===1?"":"s"} needed updates.`),!!a}function GY(s){return{headers:{"X-Figma-Token":s}}}async function oKt(){const s=he.profileID,t=Xt.docClient;if(!s||!t)return null;const i=(await t.send(new Ti({TableName:r7,IndexName:"integrationsByProfile",KeyConditionExpression:"profile = :p",ExpressionAttributeValues:{":p":s}}))).Items;return!i||i.length===0?null:i[0].bezelToken}async function rKt(s){const t=he.profileID,e=Xt.docClient;!e||!t||await e.send(new Ho({TableName:r7,Item:{id:`${t}--integrations`,profile:t,bezelToken:s}}))}async function aKt(){const s=he.profileID,t=Xt.docClient;!t||!s||await t.send(new zc({TableName:r7,Key:{id:`${s}--integrations`}}))}async function lKt(s){const t=he.profileID,e=Xt.docClient;!e||!t||await e.send(new Ho({TableName:NN,Item:{id:`${t}--integrations`,profile:t,figmaToken:s}}))}var VY=Object.defineProperty,cKt=Object.getOwnPropertyDescriptor,hKt=(s,t,e)=>t in s?VY(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,lv=(s,t,e,i)=>{for(var n=i>1?void 0:i?cKt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&VY(t,e,n),n},c0=(s,t,e)=>(hKt(s,typeof t!="symbol"?t+"":t,e),e);const dKt={figma:{token:"",isLoadingToken:!1,tokenStatus:Xi.MISSING,tokenStatusDescription:null},bezelToken:{token:"",isLoadingToken:!1,tokenStatus:Xi.MISSING,tokenStatusDescription:null}};class N1{constructor(){c0(this,"_integrationData",{...dKt}),c0(this,"_isIntegrationSettingsVisible",!1),c0(this,"_isFigmaTokenDialogVisible",!1),c0(this,"_isUnityDialogVisible",!1),c0(this,"_urlToPasteWhenTokenIsValid",null),c0(this,"disposable",new Zt),vt(this)}get isIntegrationSettingsVisible(){return this._isIntegrationSettingsVisible}set isIntegrationSettingsVisible(t){Jt(()=>this._isIntegrationSettingsVisible=t),this.figma.tokenStatus===Xi.VALID&&this._urlToPasteWhenTokenIsValid!==null&&(navigator.clipboard.writeText(this._urlToPasteWhenTokenIsValid),wt(Me.PASTE),this._urlToPasteWhenTokenIsValid=null),this.isUnityDialogVisible=t}get isUnityDialogVisible(){return this._isUnityDialogVisible}set isUnityDialogVisible(t){Jt(()=>this._isUnityDialogVisible=t)}get isFigmaTokenDialogVisible(){return this._isFigmaTokenDialogVisible}set isFigmaTokenDialogVisible(t){Jt(()=>this._isFigmaTokenDialogVisible=t)}dispose(){this.disposable.dispose()}init(){this._fetchFigmaToken(),this._fetchBezelToken()}async tryGetFigmaImageURLFromURL(t){return iKt(t)?this.figma.tokenStatus!==Xi.VALID?(this.isFigmaTokenDialogVisible=!0,this._urlToPasteWhenTokenIsValid=t,{}):await hT(t,this.figma.token):{error:"Unable to paste text"}}get figma(){return this._integrationData.figma}get bezelToken(){return this._integrationData.bezelToken}async updateFigmaToken(t,e=!0){const{tokenStatus:i,description:n}=await sKt(t);return i===Xi.VALID&&(e&&await lKt(t),this.figma.tokenStatus=i,this.figma.tokenStatusDescription=n,this.figma.token=t),{tokenStatus:i,description:n}}async _fetchFigmaToken(){this.figma.isLoadingToken=!0;let t;try{t=await BY()}catch(e){console.warn(e),this.figma.token="",this.figma.tokenStatus=Xi.MISSING,this.figma.tokenStatusDescription="Unable to fetch token from Figma"}this.figma.isLoadingToken=!1,t!=null&&await this.updateFigmaToken(t,!1)}async updateBezelToken(t,e=!1){const i={tokenStatus:Xi.MISSING,description:""};return e&&await rKt(t),this.bezelToken.token=t,this.bezelToken.tokenStatus=Xi.VALID,this.bezelToken.tokenStatusDescription="Fetched Bezi token",i.tokenStatus=this.bezelToken.tokenStatus,i.description=this.bezelToken.tokenStatusDescription,i}async revokeBezelToken(){const t={tokenStatus:Xi.MISSING,description:""};return await aKt(),this.bezelToken.token="",this.bezelToken.tokenStatus=Xi.MISSING,this.bezelToken.tokenStatusDescription="Token is revoked",t.tokenStatus=this.bezelToken.tokenStatus,t.description=this.bezelToken.tokenStatusDescription,t}async _fetchBezelToken(){this.bezelToken.isLoadingToken=!0;let t;try{t=await oKt()}catch(e){console.warn(e),this.bezelToken.token="",this.bezelToken.tokenStatus=Xi.MISSING,this.bezelToken.tokenStatusDescription="Unable to fetch Bezi token"}this.bezelToken.isLoadingToken=!1,t!=null&&await this.updateBezelToken(t,!1)}}lv([V],N1.prototype,"_isIntegrationSettingsVisible",2);lv([V],N1.prototype,"_isFigmaTokenDialogVisible",2);lv([V],N1.prototype,"_isUnityDialogVisible",2);lv([E],N1.prototype,"updateFigmaToken",1);lv([E],N1.prototype,"updateBezelToken",1);lv([E],N1.prototype,"revokeBezelToken",1);var uKt=Object.defineProperty,fKt=(s,t,e)=>t in s?uKt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Lp=(s,t,e)=>(fKt(s,typeof t!="symbol"?t+"":t,e),e);const cw="result",nL="success",oL="canceled";class pKt{constructor(t,e){Lp(this,"rootController"),Lp(this,"rootApi"),Lp(this,"priceIdMonthlyTeams",""),Lp(this,"priceIdYearlyTeams",""),Lp(this,"limitedAccessStripeApiKey",""),Lp(this,"_stripeClient"),Lp(this,"getCustomerPortalUrl",async(i,n)=>{try{const o=await this.getCustomerId();return(await this.getStripeClient().billingPortal.sessions.create({customer:o,return_url:i})).url}catch(o){throw U.warn(`Failed to create getCustomerPortalUrl, returnToUrl: '${i}', profileId: '${n}'`),new Error(`getCustomerPortalUrl: failed
${JSON.stringify(o)}`)}}),Lp(this,"cancelSubscriptions",async(i,n)=>await knt({operationType:"CANCEL_SUBSCRIPTIONS",subscriberId:i,profileId:n})),this.rootApi=t,this.rootController=e,this.setPricesAndKeys()}setPricesAndKeys(){window.location.origin.includes("bezi.com")===!0?(this.priceIdMonthlyTeams="price_1OuKzIFdRZelKpkSl97DE5H8",this.priceIdYearlyTeams="price_1OuKzIFdRZelKpkSCEVIVIfb",this.limitedAccessStripeApiKey="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"):(U.info("Billing in Test Mode"),this.limitedAccessStripeApiKey="rk_test_51JYuE1FdRZelKpkSnY0tDS3kjhljbLF2Rg0cFk65GbdGU5DlJKdcN2c3tG3RYisHSpVuEglQaFiY2NrksIirAJiL00LWw5ou5W",this.priceIdYearlyTeams="price_1Or7mhFdRZelKpkSAPtsUYEH",this.priceIdMonthlyTeams="price_1Or7mhFdRZelKpkSE3CF3ofj")}getStripeClient(){if(this._stripeClient||(this._stripeClient=new Fq(this.limitedAccessStripeApiKey)),!this._stripeClient)throw new Error("Unable to instantiate stripe client");return this._stripeClient}async getCustomerId(t){U.trace("BillingApi.getCustomerId");let e=t;if(e||({profileID:e}=this.rootController.authController.auth),!e)throw new Error("No ProfileId available for current user");return await Vnt(e)}async createCustomerForUser(t){const{profileController:e}=this.rootController,i=e.profilesByID.get(t);if(!i)throw U.error(`Unable to retrieve profile information from profileController for profile: '${t}'`),new Error(`Failed to create customer for profileId: '${t}'`);return(await this.getStripeClient().customers.create({name:i.fullName,email:i.email,metadata:{profileId:t}})).id}async goToPlanUpgradeCheckout(t,e,i,n){const o=this.rootController.authController.auth.profileID;if(o==null){U.debug("Error retrieving profile in plan upgrade checkout");return}Ft("team-upgrade-checkout",{billingCycleType:e,source:i??""});const a=n??window.location.toString(),l=await this.getTeamSubscriptionCheckoutUrl(a,o,t.id,t.name,e===Vr.MONTHLY);U.debug(`Redirecting to: ${l}`),window.location.href=l}async getTeamSubscriptionCheckoutUrl(t,e,i,n,o){U.trace("BillingApi.getSubscriptionCheckoutSessionUrl");try{const a=await this.getCustomerId(e),l={customer:a,client_reference_id:i,success_url:`${t}?${cw}=${nL}`,cancel_url:`${t}?${cw}=${oL}`,metadata:{teamId:i},line_items:[{price:o?this.priceIdMonthlyTeams:this.priceIdYearlyTeams,adjustable_quantity:{enabled:!0,minimum:1,maximum:1e3},quantity:1}],mode:"subscription",subscription_data:{description:i&&n?`Team: ${n} (${i})`:"",metadata:{profileId:e,teamId:i}},allow_promotion_codes:!0};U.debug("Checkout session config",l);const c=await this.getStripeClient().checkout.sessions.create(l);if(!c.url)throw U.error(`Unable to create session url,  profileId: '${e}', customerId: '${a}', teamId: '${i}', `),new Error("Unable to create SubscriptionCheckoutSessionUrl");return c.url}catch(a){throw U.error("getSubscriptionCheckoutSessionUrl failed",a),new Error("Failed to create subscriptionCheckoutSessionUrl")}}async goToProductPurchaseCheckout(t,e){const i=this.rootController.authController.auth.profileID;if(i==null){U.debug("Error retrieving profile in credits purchase checkout");return}Ft("credits-checkout",{productName:t,source:e??""});const n=await this.getProductPurchaseCheckoutUrl(window.location.toString(),i,t);U.debug(`Redirecting to: ${n}`),window.location.href=n}_getPriceId(t){switch(t){case"AI_CREDITS_10":return Ia?"price_1Oz5DIFdRZelKpkSbKpF4BAN":"price_1OwpPNFdRZelKpkSrSvhTt0y";case"AI_CREDITS_20":return Ia?"price_1Oz5DIFdRZelKpkSIUXJJp0g":"price_1OwpPNFdRZelKpkSCvEU6mCY";case"AI_CREDITS_50":return Ia?"price_1Oz5DIFdRZelKpkSKAnZKNyL":"price_1OwpPNFdRZelKpkSCMP8iUWN"}}async getProductPurchaseCheckoutUrl(t,e,i){U.trace("BillingApi.getSubscriptionCheckoutSessionUrl");try{const n=this._getPriceId(i);if(!n)throw new Error(`Could not find priceId for product ${i}`);const o=await this.getCustomerId(e),a={customer:o,success_url:`${t}?${cw}=${nL}`,cancel_url:`${t}?${cw}=${oL}`,metadata:{profileId:e,priceId:n,productName:i},line_items:[{price:n,quantity:1}],invoice_creation:{enabled:!0,invoice_data:{metadata:{profileId:e,priceId:n,productName:i}}},mode:"payment",allow_promotion_codes:!0};U.debug("Checkout session config",a);const l=await this.getStripeClient().checkout.sessions.create(a);if(!l.url)throw U.error(`Unable to create session url,  profileId: '${e}', customerId: '${o}', productName: '${i}', `),new Error("Unable to create ProductPurchaseCheckoutUrl");return l.url}catch(n){throw U.error("getProductPurchaseCheckoutUrl failed",n),new Error("Failed to create productPurchaseCheckoutUrl")}}async decrementCredit(t){return await Gnt(t)}}var Gx;(s=>{async function t(a){try{const l=Xt.docClient;if(!l)throw new Error("DynamoDBDocumentClient client not found");return await l.send(new Ti({TableName:bE,KeyConditionExpression:"id = :id",ExpressionAttributeValues:{":id":a}}))}catch(l){console.error(l)}}s._getCreditsByProfile=t;async function e(a){try{let l=await t(a);if(!l||!l.Items||l.Items.length===0){if(!await n(a))throw new Error("Failed to add credits to profile");l=await t(a)}if(!l||!l.Items||l.Items.length===0)throw new Error("Failed to get credits for profile");return l.Items[0]}catch(l){console.error(l)}}s.getCreditsByProfile=e;const i=10;async function n(a){const l={id:a,credits:i};try{const c=Xt.docClient;if(!c)throw new Error("DynamoDBDocumentClient client not found");return await c.send(new Ho({TableName:bE,Item:{...l}})),!0}catch(c){return console.error(c),!1}}s.createProfileWithCredits=n;async function o(a,l){try{const c=Xt.docClient;if(!c)throw new Error("DynamoDBDocumentClient client not found");return await c.send(new K0({TableName:bE,Key:{id:a},UpdateExpression:"set #credits = :credits",ExpressionAttributeNames:{"#credits":"credits"},ExpressionAttributeValues:{":credits":l}})),!0}catch(c){return console.error(c),!1}}s.updateCredits=o})(Gx||(Gx={}));var HY=Object.defineProperty,mKt=Object.getOwnPropertyDescriptor,gKt=(s,t,e)=>t in s?HY(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,U3=(s,t,e,i)=>{for(var n=i>1?void 0:i?mKt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&HY(t,e,n),n},_Kt=(s,t,e)=>(gKt(s,t+"",e),e);class xC{constructor(t){this.store=t,_Kt(this,"_credits",0),vt(this)}get credits(){return this._credits}async fetchCredits(t){const e=await Gx.getCreditsByProfile(t);e&&(this._credits=e.credits)}get canDecrementCredits(){return this._credits>0}async removeCredits(t){return!this.store.authController.auth.profileID||!this.canDecrementCredits?!1:(this._credits-=t,await Gx.updateCredits(this.store.authController.auth.profileID,this._credits))}async purchaseCredits(t,e,i){let n="AI_CREDITS_20";switch(e.amount){case 10:n="AI_CREDITS_10";break;case 20:n="AI_CREDITS_20";break;case 50:n="AI_CREDITS_50";break;default:n="AI_CREDITS_20"}await t.goToProductPurchaseCheckout(n,i)}}U3([V],xC.prototype,"_credits",2);U3([E],xC.prototype,"fetchCredits",1);U3([M],xC.prototype,"canDecrementCredits",1);U3([E],xC.prototype,"removeCredits",1);var UY=Object.defineProperty,vKt=Object.getOwnPropertyDescriptor,yKt=(s,t,e)=>t in s?UY(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,io=(s,t,e,i)=>{for(var n=i>1?void 0:i?vKt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&UY(t,e,n),n},h0=(s,t,e)=>(yKt(s,typeof t!="symbol"?t+"":t,e),e);const bKt={length:12,includeSymbols:!0,includeNumbers:!0},rL="editor";class Un{constructor(t){this.store=t,h0(this,"_password",null),h0(this,"_tempPassword",null),h0(this,"_isEnabled",!1),h0(this,"_passwordToValidate",null),h0(this,"_validatedFileId",null),h0(this,"_failedValidation",!1),vt(this)}get tempPassword(){return this._tempPassword}setTempPassword(t){this._tempPassword=t}get password(){return this._password}get isPasswordProtected(){return this._password!==null}get doesPasswordExpire(){var t;return((t=this._password)==null?void 0:t.expiration)!==void 0}get canSetOrDeletePassword(){return!0}get isPasswordValid(){return this.isPasswordProtected?!(!this._passwordToValidate||this._validatedFileId!==zd.getFileIdFromUrl()):!0}get isFailedValidation(){return this._failedValidation}failValidation(){this._failedValidation=!0}get isEnabled(){return this._isEnabled||this.isPasswordProtected}async setEnabled(t){if(t)this._isEnabled=!0;else{if(await this.getPassword()&&!await this.deletePassword()){U.error("Failed to delete password");return}this._isEnabled=!1}}async setPasswordFromTempPassword(){if(!this.canSetOrDeletePassword)return;const t=Xt.trpcBackendClient,e=zd.getFileIdFromUrl();if(!e||!Vl(e))return!1;if(this._tempPassword!==null){const i=await t.file.setPassword.mutate({password:this._tempPassword,fileId:e,role:rL});await this.authenticateWithPassword(this._tempPassword),this._password=i??null}else{const i=await t.file.setPassword.mutate({password:this._tempPassword,fileId:e});this._password=i??null}this._tempPassword=null}async deletePassword(){if(!this.canSetOrDeletePassword)return!1;const t=Xt.trpcBackendClient,e=zd.getFileIdFromUrl();if(!e||!Vl(e))return!1;const i=await t.file.setPassword.mutate({password:null,fileId:e});return this._password=i??null,!0}generateRandomPassword(t=bKt){const{length:e,includeSymbols:i,includeNumbers:n}=t,c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"+(n?"0123456789":"")+(i?"!@#$%^&*()_+":"");let h="";for(let d=0;d<e;d++)h+=c.charAt(Math.floor(Math.random()*c.length));return h}get passwordExpiration(){return this._password&&this._password.expiration?o1.toTimestampFromDate(new Date(this._password.expiration)):null}async setPasswordExpiration(t){if(!this.canSetOrDeletePassword)return;const e=Xt.trpcBackendClient,i=zd.getFileIdFromUrl();if(!i||!Vl(i))return;const n=await e.file.setPasswordExpiration.mutate({fileId:i,role:rL,expiration:t?new Date(t).toISOString():void 0});this._password=n??null}async getPassword(t){try{const e=Xt.trpcBackendClient,i=zd.getFileIdFromUrl();if(!i||!Vl(i))return t&&t(!1),!1;const n=await e.file.getPassword.query({fileId:i});return Jt(()=>{this._password=n??null}),t&&t(!0),n!=null}catch(e){return console.error(e),!1}}async authenticateWithPassword(t){var i;const{store:{authController:e}}=this;try{const n=zd.getFileIdFromUrl();if(!n||!Vl(n))return!1;await((i=Vn.getInstance())==null?void 0:i.reauthenticateWithContext([{ctxType:"password",fileId:n,password:t}]));const o=e.auth.contextToken;if(!o)return!1;const a=Xt.trpcBackendClient,{allowed:l}=await a.auth.checkFileAccess.query({fileId:n,contextToken:o.value});return l&&Jt(()=>{this._passwordToValidate=o.value,this._validatedFileId=n}),l}catch(n){console.error(n)}}}io([V],Un.prototype,"_password",2);io([V],Un.prototype,"_tempPassword",2);io([V],Un.prototype,"_isEnabled",2);io([V],Un.prototype,"_passwordToValidate",2);io([V],Un.prototype,"_validatedFileId",2);io([V],Un.prototype,"_failedValidation",2);io([M],Un.prototype,"tempPassword",1);io([E],Un.prototype,"setTempPassword",1);io([M],Un.prototype,"password",1);io([M],Un.prototype,"isPasswordProtected",1);io([M],Un.prototype,"doesPasswordExpire",1);io([M],Un.prototype,"canSetOrDeletePassword",1);io([M],Un.prototype,"isPasswordValid",1);io([M],Un.prototype,"isFailedValidation",1);io([E],Un.prototype,"failValidation",1);io([M],Un.prototype,"isEnabled",1);io([E],Un.prototype,"setEnabled",1);io([E],Un.prototype,"setPasswordFromTempPassword",1);io([E],Un.prototype,"deletePassword",1);io([M],Un.prototype,"passwordExpiration",1);io([E],Un.prototype,"setPasswordExpiration",1);io([E],Un.prototype,"getPassword",1);var zY=Object.defineProperty,CKt=Object.getOwnPropertyDescriptor,wKt=(s,t,e)=>t in s?zY(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,YY=(s,t,e,i)=>{for(var n=i>1?void 0:i?CKt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&zY(t,e,n),n},dy=(s,t,e)=>(wKt(s,typeof t!="symbol"?t+"":t,e),e);class dT{constructor(){dy(this,"_isInitialized",!1),dy(this,"_featureFlags",{[Uc.ARE_COLLIDERS_RAYCASTABLE]:!1,[Uc.ARE_BOOLEANS_ENABLED]:!1,[Uc.ARE_SUBDIVISIONS_ENABLED]:!1,[Uc.IS_ASSET_VIEWER_ENABLED]:!1,[Uc.IS_CHARACTER_PHYSICS_ENABLED]:!1}),dy(this,"_isFailedToInitialize",!1),dy(this,"_maxInitializationAttempts",3),dy(this,"_initializationAttempts",0),vt(this)}dispose(){this.onSignOut()}async init({id:t,email:e,name:i}){this._isInitialized||(k1.identify(t,{email:e,name:i}),k1.init(pst.POSTHOG_API_TOKEN,{api_host:"https://d2et93x91vi4p3.cloudfront.net",ui_host:"https://us.posthog.com",opt_in_site_apps:!0,autocapture:!1,capture_pageview:!1,disable_session_recording:!0,bootstrap:{distinctID:t,isIdentifiedID:!0,featureFlags:hs(this._featureFlags)}}),await new Promise((n,o)=>{k1.onFeatureFlags((a,l)=>{l.canary&&(Jt(()=>{for(const[c]of as.getEntries(this._featureFlags))this._featureFlags[c]=!!k1.isFeatureEnabled(c)}),this._isInitialized||n())})}),this._isInitialized=!0,U.debug("Feature flags initialized"))}get featureFlags(){return this._isFailedToInitialize?this._featureFlags:(this._isInitialized||this._incrementInitializationAttempts(),this._featureFlags)}isEnabled(t){if(this._isFailedToInitialize)return!1;this._isInitialized||this._incrementInitializationAttempts();const e=k1.isFeatureEnabled(t);return e===void 0?(U.warn("Feature flag not found",t),!1):e}_incrementInitializationAttempts(){U.warn("Feature flags not initialized"),this._initializationAttempts++,this._initializationAttempts>=this._maxInitializationAttempts&&(this._isFailedToInitialize=!0,U.warn("Failed to initialize feature flags"))}setUserAttributes({id:t,email:e,name:i}){}onSignOut(){U.debug("Feature flag service onSignOut"),k1.reset()}}YY([V],dT.prototype,"_featureFlags",2);YY([M],dT.prototype,"featureFlags",1);async function xKt(s){const t=Xt.docClient;return!s.length||!t?[]:(await Promise.all(s.map(async i=>(await t.send(new Ti({TableName:DN,IndexName:"subscriptionsBySubscriberId",KeyConditionExpression:"subscriberId = :subscriberId",ExpressionAttributeValues:{":subscriberId":i}}))).Items??[]))).flat()}async function EKt(s,t){const e=Xt.docClient;if(e!=null)try{const i=new Date().toISOString(),n={":updatedAt":(t==null?void 0:t.updatedAt)??i},o={"#updatedAt":"updatedAt"};for(const[l,c]of Object.entries(t))l!=="id"&&(l==="data"?n[`:${l}`]=JSON.stringify(c):n[`:${l}`]=c,o[`#${l}`]=l);const a=`set ${Object.entries(o).map(([l,c])=>`${l} = :${c}`).join(", ")}`;await e.send(new K0({TableName:DN,Key:{id:s},UpdateExpression:a,ExpressionAttributeNames:o,ExpressionAttributeValues:n}))}catch(i){console.error(i)}}var SKt=Object.defineProperty,IKt=(s,t,e)=>t in s?SKt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,AKt=(s,t,e)=>(IKt(s,t+"",e),e);class TKt{constructor(t,e){this._api=t,this._store=e,AKt(this,"client"),this.client=hr()}async initSubscriptionsForTeams(){const{teamController:t,organizationsController:e,subscriptionsController:i}=this._store,n=Array.from(t.allTeamIds);await e.getMembersForAllOrganizations();const o=await xKt(n);i.initTeamSubscriptions(o)}async updateSubscription(t,e){const{subscriptionsController:i}=this._store,n=new Date().toISOString(),o={...e,updatedAt:n};try{return await EKt(t,o),i.updateSubscription(t,e),o}catch(a){console.error(a)}}}var PKt=Object.defineProperty,OKt=(s,t,e)=>t in s?PKt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,aL=(s,t,e)=>(OKt(s,typeof t!="symbol"?t+"":t,e),e);class MKt{constructor(t){this.store=t,aL(this,"auth"),aL(this,"updateAuth",e=>{U.trace("AuthController.updateAuth called",e);const{state:i,user:n,profileID:o,telemetryID:a,contextToken:l,isDev:c}=e;"state"in e&&this.auth.setState(i),"user"in e&&this.auth.setUser(n),"profileID"in e&&this.auth.setProfileID(o),"contextToken"in e&&this.auth.setContextToken(l),a!==void 0&&this.auth.setTelemetryID(a),"isDev"in e&&this.auth.setIsDev(c)}),this.auth=new he(this.store,{telemetryID:_t(),isDev:!1})}get isCognitoUser(){var t;return((t=this.auth.user)==null?void 0:t.loginIdP)===qg.COGNITO}}var WY=Object.defineProperty,LKt=(s,t,e)=>t in s?WY(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,hh=(s,t,e,i)=>{for(var n=void 0,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&WY(t,e,n),n},Fr=(s,t,e)=>(LKt(s,typeof t!="symbol"?t+"":t,e),e);const Pr=class b0{constructor(t,e){this.store=t,Fr(this,"state"),Fr(this,"user"),Fr(this,"profileID"),Fr(this,"telemetryID"),Fr(this,"contextToken"),Fr(this,"isDev"),Fr(this,"setState",i=>{this.state=i}),Fr(this,"setUser",i=>{this.user=i,this.setProfileID((i==null?void 0:i.profileId)||"")}),Fr(this,"setProfileID",i=>{this.profileID=i,b0.profileID=i??""}),Fr(this,"setTelemetryID",i=>{this.telemetryID=i,b0.telemetryID=i}),Fr(this,"setContextToken",i=>{this.contextToken=i,b0.contextToken=i}),Fr(this,"setIsDev",i=>{this.isDev=i}),this.state=e.state,this.user=e.user,this.profileID=e.profileID,this.telemetryID=e.telemetryID,this.isDev=e.isDev,b0.sessionID=Ht(),b0.telemetryID=e.telemetryID,vt(this)}};Fr(Pr,"profileID","");Fr(Pr,"sessionID","");Fr(Pr,"telemetryID");Fr(Pr,"contextToken");hh([V],Pr.prototype,"state");hh([V],Pr.prototype,"user");hh([V],Pr.prototype,"profileID");hh([V],Pr.prototype,"telemetryID");hh([V],Pr.prototype,"contextToken");hh([V],Pr.prototype,"isDev");hh([E],Pr.prototype,"setState");hh([E],Pr.prototype,"setUser");hh([E],Pr.prototype,"setProfileID");hh([E],Pr.prototype,"setTelemetryID");hh([E],Pr.prototype,"setContextToken");hh([E],Pr.prototype,"setIsDev");let he=Pr;var br;(s=>{async function t(f){try{const p=Xt.docClient;return!f||!p?void 0:(await p.send(new Ti({TableName:p9,KeyConditionExpression:"id = :id",ExpressionAttributeValues:{":id":f}}))).Items}catch(p){console.error(p)}}s.getOrganization=t;async function e(f){try{const p=Xt.docClient;return!f||!p?[]:(await p.send(new Ti({TableName:G1,IndexName:"membersByOrganization",KeyConditionExpression:"organization = :organization",ExpressionAttributeValues:{":organization":f}}))).Items}catch(p){console.error(p)}}s.getOrganizationMembers=e;async function i(f,p){var g;try{const _=Xt.docClient;if(!f||!p||!_)return null;const v=`${f}--${p}`,y=await _.send(new Ti({TableName:G1,KeyConditionExpression:"id = :id",ExpressionAttributeValues:{":id":v}}));return(g=y.Items)!=null&&g[0]?y.Items[0]:null}catch(_){return console.error(_),null}}s.getOrganizationMember=i;async function n(f){try{const p=Xt.docClient;return!f||!p?[]:(await p.send(new Ti({TableName:G1,IndexName:"organizationsByMember",KeyConditionExpression:"profile = :profile",ExpressionAttributeValues:{":profile":f}}))).Items}catch(p){console.error(p)}}s.getMemberOrganizations=n;async function o(f,p,g=Sa.Member){try{const _=Xt.docClient;if(!_||!f||!p)return;await _.send(new Ho({TableName:G1,Item:{id:`${f}--${p}`,organization:f,profile:p,access:g,updatedAt:Date.now()}}))}catch(_){console.warn(_)}}s.addOrganizationMember=o;async function a(f,p,g){try{const _=Xt.docClient;if(!_||!f||!p)return!1;const v=await e(f);return v?v.filter(b=>b.access===Sa.Admin).length===1&&g===Sa.Member?(console.warn("At least one admin is required"),!1):(await _.send(new Ho({TableName:G1,Item:{id:`${f}--${p}`,organization:f,profile:p,access:g,updatedAt:Date.now()}})),!0):!1}catch(_){return console.warn(_),!1}}s.updateOrganizationMemberRole=a;async function l(f){try{const p=Xt.docClient;return!f||!p?[]:(await p.send(new Ti({TableName:L4,IndexName:"teamsByOrganization",KeyConditionExpression:"organization = :organization",ExpressionAttributeValues:{":organization":f}}))).Items}catch(p){console.error(p)}}s.getOrganizationTeams=l;async function c(f,p){try{const g=Xt.docClient;if(!f||!p||!g)return null;const _={name:"",id:p,members:0,lastActive:0},v=await Tf(p);_.members=v.length;const y=v.find(b=>b.access===Sa.Admin);if(y){const b=await dm(y.profile);b&&(_.admin=b)}return _}catch(g){return console.error(g),null}}s.getOrganizationTeamMembers=c;async function h(f){const p=await Tf(f);return p?(await Promise.all(p.map(async v=>({profile:await dm(v.profile),member:v})))).map(({profile:v,member:y})=>{const b=v;return b.role=y.access,b.lastActive=Date.parse(v.updatedAt),b}):[]}s.getOrganizationTeamMembersData=h;async function d(f){try{const p=Xt.docClient;if(!f||!p)return null;const g=await p.send(new Ti({TableName:p9,IndexName:"organizationByDomain",KeyConditionExpression:"#domain = :domain",ExpressionAttributeNames:{"#domain":"domain"},ExpressionAttributeValues:{":domain":f}}));return g.Items?g.Items[0]:null}catch(p){return console.error(p),null}}s.getOrganizationByDomain=d;async function u(f,p){try{const g=Xt.docClient;if(!g||!f||!p)return!1;await g.send(new zc({TableName:G1,Key:{id:`${f}--${p}`}}));const _=await dm(p),v=await t(f);let y=!1;if(_&&v){const I=_.email,O=v[0].domain;y=I.endsWith(O)}const b=await l(f),C=await hA(p),x=_==null?void 0:_.email;if(x){const I=Yp(x);for(const O of C){if(y){await g.send(new zc({TableName:Fg,Key:{id:`${O}--${I}`}}));continue}if(!b)break;b.find(T=>T.id===O)&&await g.send(new zc({TableName:Fg,Key:{id:`${O}--${I}`}}))}}return y&&await g.send(new zc({TableName:vit,Key:{id:_.id}})),!0}catch(g){return console.warn(g),!1}}s.removeOrganizationMember=u})(br||(br={}));var RKt=Object.defineProperty,NKt=(s,t,e)=>t in s?RKt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Yr=(s,t,e)=>(NKt(s,typeof t!="symbol"?t+"":t,e),e);const er=class Dw{constructor(t){Yr(this,"userSessionData"),Yr(this,"storeSessionLocally",()=>{localStorage.setItem(Dw.STORAGE_KEY_BEZI_SESSION_V2,JSON.stringify(this.userSessionData)),Vn.createCookie(Dw.STORAGE_KEY_BEZI_SESSION_V2,JSON.stringify(this.userSessionData),Dw.ONE_MONTH_IN_SECONDS)}),this.userSessionData=t}};Yr(er,"STORAGE_KEY_BEZI_SESSION_V1","beziSession");Yr(er,"STORAGE_KEY_BEZI_SESSION_V2","beziSession-v2");Yr(er,"REFRESH_SESSION_BUFFER",5*60*1e3);Yr(er,"ONE_MONTH_IN_SECONDS",30*60*60*24);Yr(er,"loadSessionFromMemory",()=>{U.trace("Session.loadSessionFromMemory called");try{const s=Vn.getCookie(er.STORAGE_KEY_BEZI_SESSION_V1)||localStorage.getItem(er.STORAGE_KEY_BEZI_SESSION_V1),t=Vn.getCookie(er.STORAGE_KEY_BEZI_SESSION_V2)||localStorage.getItem(er.STORAGE_KEY_BEZI_SESSION_V2);if(t)try{const e=JSON.parse(t);return new Vx(e)}catch{U.error("Failed to decode v2 session data")}else if(s){const e=Vx.createFromBeziAuthToken(s);if(e)return e;er.clearLocalSession(),U.debug("Unable to load token from memory - clearing bad token.");return}else{U.trace("No BeziAuthToken found");return}}catch(s){U.error("loadSessionFromMemory error",s),er.clearLocalSession();return}});Yr(er,"decodeJWT",s=>{try{const t=uR(s);if(t&&typeof t=="object")return t;U.error("Unable to decode JWT, decoded to",t);return}catch(t){U.error("Error decoding JWT:",t);return}});Yr(er,"clearLocalSession",()=>{localStorage.removeItem(er.STORAGE_KEY_BEZI_SESSION_V1),Vn.clearCookie(er.STORAGE_KEY_BEZI_SESSION_V1),localStorage.removeItem(er.STORAGE_KEY_BEZI_SESSION_V2),Vn.clearCookie(er.STORAGE_KEY_BEZI_SESSION_V2)});let uT=er;const yb=class extends uT{constructor(){super(...arguments),Yr(this,"getEmail",()=>this.userSessionData.email),Yr(this,"getProfileId",()=>this.userSessionData.profileId),Yr(this,"getLoginIdP",()=>this.userSessionData.loginIdP),Yr(this,"getName",()=>this.userSessionData.name),Yr(this,"getCurrentUserFields",()=>this.userSessionData)}};Yr(yb,"create",s=>{const t=new yb(s);return o7&&U.debug("UserSession created:",t),t.storeSessionLocally(),t});Yr(yb,"createFromBeziAuthToken",s=>{try{const e=uT.decodeJWT(s).sessionData,i=new yb(e);return o7&&U.debug("UserSession created:",i),i.storeSessionLocally(),i}catch(t){throw U.error("Error validating JWT:",t),new Error("Error validating JWT",t)}});let Vx=yb;const Hx={aws_project_region:"us-east-2",aws_appsync_graphqlEndpoint:"https://ey63znisgjdx5pjmv64n6j7j3i.appsync-api.us-east-2.amazonaws.com/graphql",aws_appsync_region:"us-east-2",aws_appsync_authenticationType:"AWS_IAM",aws_cognito_identity_pool_id:"us-east-2:b60c579d-b1c1-445a-8d5d-822f044591a7",aws_cognito_region:"us-east-2",aws_user_pools_id:"us-east-2_d0xGqDYdo",aws_user_pools_web_client_id:"ibis3jqpkhaqvf9elkfj90c5n",oauth:{domain:"pounx.auth.us-east-2.amazoncognito.com",scope:["aws.cognito.signin.user.admin","email","openid","phone","profile"],redirectSignIn:"https://bezel.it",redirectSignOut:"https://bezel.it",responseType:"code"},federationTarget:"COGNITO_USER_AND_IDENTITY_POOLS",aws_cognito_username_attributes:["EMAIL"],aws_cognito_social_providers:["GOOGLE"],aws_cognito_signup_attributes:["EMAIL"],aws_cognito_mfa_configuration:"OFF",aws_cognito_mfa_types:[],aws_cognito_password_protection_settings:{passwordPolicyMinLength:8,passwordPolicyCharacters:[]},aws_cognito_verification_mechanisms:["EMAIL"],aws_user_files_s3_bucket:"sandcastle689abde858b2409b9dbf6d4350ba6fd6200246-main",aws_user_files_s3_bucket_region:"us-east-2"};var jKt=Object.defineProperty,DKt=(s,t,e)=>t in s?jKt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,rs=(s,t,e)=>(DKt(s,typeof t!="symbol"?t+"":t,e),e);const FKt=new Set(["meta.com"]),fe=class ws{constructor(t,e){this.api=t,this.store=e,rs(this,"GOOGLE_LOGIN_DOMAIN","accounts.google.com"),rs(this,"authenticate",async i=>{const{store:{authController:n,organizationsController:o,featureFlagService:a,creditsController:l},api:{teamApi:c,subscriptionApi:h}}=this;U.trace("AuthAPI: Authenticate called");let d,u;try{if(await EC.updateClientsAuthSession(),d=ws.getCurrentUser(),!d)return U.setContextDataField("profileId",""),n.updateAuth({state:jn.SIGNED_OUT,profileID:by()}),i==null||i(!0),!1;u=d.email;const f=await this.api.profileApi.getProfileByEmail(u);if(!f.success)throw U.error("Failed to find profile for user",{email:u||es.ERROR_MESSAGE_MISSING_EMAIL}),new Error(`Failed to find profile for user: ${u}`);const p=f.data;ws.createCookie(ws.STORAGE_KEY_BEZI_USER_WAS_LOGGED_IN,"true");let g=!1;try{g=await this.checkDev(u)}catch{return U.info("Gatekeeper failed - AWS Session logged out",{email:u||es.ERROR_MESSAGE_MISSING_EMAIL}),await this.signOut(!0,!0),!1}return await o.getOrganizations(p.id),n.updateAuth({state:jn.SIGNED_IN,profileID:p.id,user:d,isDev:g}),this.store.profileController.addProfile(p),Xnt(p),await c.initTeamsByProfile(p.id),await h.initSubscriptionsForTeams(),await l.fetchCredits(p.id),await a.init({id:p.id,email:p.email,name:p.fullName}),i==null||i(!0),U.recordEvent(Wd.AUTHENTICATE_SUCCESSFUL,{email:u}),U.debug(Wd.AUTHENTICATE_SUCCESSFUL,{email:u}),!0}catch(f){const p={error:U.cleanObject(f),currentUser:d,email:u||es.ERROR_MESSAGE_MISSING_EMAIL};return U.recordEvent(Bc.AUTHENTICATE_ERROR,p),U.error(Bc.AUTHENTICATE_ERROR,p),U.setContextDataField("profileId",""),n.updateAuth({state:jn.SIGNED_OUT,profileID:by()}),i==null||i(!0),!1}}),rs(this,"reauthenticateWithContext",async i=>{const{store:{authController:n}}=this,o=Xt.trpcBackendClient,{contextToken:a}=await o.auth.authenticateWithContext.mutate(i);n.updateAuth({contextToken:a})}),rs(this,"signOut",async(i=!0,n=!1)=>{U.trace("AuthAPI: signOut called"),U.setContextDataField("profileId","");const{store:{authController:o,featureFlagService:a}}=this;try{const l=this.store.authController.auth.user;try{await pE({global:!0})}catch(c){U.debug("Unable to sign user out, may be ok if they are already signed out",{error:U.cleanObject(c)})}if(ws.clearBeziSessionData(),ws.currentlyRefreshingAuthSessionCount=0,o.updateAuth({state:jn.SIGNED_OUT,user:void 0,profileID:by(),isDev:void 0}),ws.clearCookie(ws.STORAGE_KEY_BEZI_USER_WAS_LOGGED_IN),a.onSignOut(),n||l&&l.loginIdP==="AUTH0"){U.trace("Calling Auth0 logout");const c=await ws.getAuth0Client();c&&(i?c.logout({logoutParams:{returnTo:`${window.location.origin}/start`}}):c.logout())}}catch(l){U.error("AuthApi.signOut error",{error:U.cleanObject(l)})}finally{ws.clearBeziSessionData(),ws.currentlyRefreshingAuthSessionCount=0,o.updateAuth({state:jn.SIGNED_OUT,user:void 0,profileID:by(),isDev:void 0}),ws.clearCookie(ws.STORAGE_KEY_BEZI_USER_WAS_LOGGED_IN),U.recordEvent(Wd.USER_SIGNED_OUT),U.info(Wd.USER_SIGNED_OUT)}}),rs(this,"completeUserSignIn",async(i,n,o)=>{U.trace("AuthApi.completeUserSignIn started",{email:i||es.ERROR_MESSAGE_MISSING_EMAIL,profile:n,loginIdP:o});try{const a=Vx.create({email:i,profileId:n.id,name:n.fullName||"",loginIdP:o});return ws.setUserSession(a),await this.updateDependentSystems(a,n),await this.runOrganizationSignInTasks(n),U.info("UserSignIn successful",{email:i||es.ERROR_MESSAGE_MISSING_EMAIL,loginIdP:o}),U.recordEvent(Wd.USER_SIGNED_IN,{email:i||es.ERROR_MESSAGE_MISSING_EMAIL,loginIdP:o}),await this.authenticate()===!0?{success:!0}:{success:!1,error:al.UNHANDLED_ERROR}}catch(a){return U.error("AuthApi.completeUserSignIn Error",{email:i||es.ERROR_MESSAGE_MISSING_EMAIL,profileId:n.id,loginIdP:o,error:U.cleanObject(a)}),{success:!1,error:al.UNKNOWN_ERROR}}}),rs(this,"updateDependentSystems",async(i,n)=>{U.trace("AuthAPI.updateDependentSystems called",{email:n.email||es.ERROR_MESSAGE_MISSING_EMAIL});const o=await this.checkDev(i.getEmail()),a=i.getCurrentUserFields();this.store.profileController.addProfile(n),U.setContextDataField("profileId",n.id),this.store.authController.updateAuth({state:jn.SIGNED_IN,user:a,profileID:n.id,isDev:o})}),rs(this,"runOrganizationSignInTasks",async i=>{try{const n=i.email;if(!n)throw U.error("Profile does not contain email",i),new Error("Profile does not contain user");const o=n==null?void 0:n.split("@");if(o&&o.length===2&&o[1]!=="bezi.com"){const a=await br.getOrganizationByDomain(o[1]);a&&br.addOrganizationMember(a.id,i.id,Sa.Member)}}catch(n){U.debug("Error in Org Tasks",n),U.recordEvent(Bc.ORG_TASKS_FAILED,{error:U.cleanObject(n),email:(i==null?void 0:i.email)||es.ERROR_MESSAGE_MISSING_EMAIL})}}),rs(this,"signInWithUserPassword",async(i,n,o=!0)=>{U.trace("AuthAPI: signIn called",{email:i||es.ERROR_MESSAGE_MISSING_EMAIL});const{store:{authController:a}}=this;let l=jn.SIGNED_OUT;try{const c=await nR({username:i,password:n||"-"});if(!c.isSignedIn&&c.nextStep.signInStep==="CONFIRM_SIGN_UP")return jn.USER_NOT_CONFIRMED;await ws.authSessionWasRefreshed();const h=await this.api.profileApi.getProfileByEmail(i);if(!h.success)return U.debug("User not found from profile lookup",{email:i||es.ERROR_MESSAGE_MISSING_EMAIL}),jn.USER_NOT_FOUND;await this.completeUserSignIn(i,h.data,qg.COGNITO),l=jn.SIGNED_IN}catch(c){if(U.error("SignInCognito Error: ",{error:U.cleanObject(c),email:i||es.ERROR_MESSAGE_MISSING_EMAIL}),c instanceof Error&&c.name==="UserAlreadyAuthenticatedException")return await pE(),o?this.signInWithUserPassword(i,n,!1):jn.SIGNED_OUT;if((c instanceof Error||c instanceof ZT)&&c.name==="UserUnAuthenticatedException"&&o)return U.warn("Attempting manual Amplify Configure",{email:i||es.ERROR_MESSAGE_MISSING_EMAIL}),fR.configure(Hx),await ws.forceRefreshAuthSession(),this.signInWithUserPassword(i,n,!1);c instanceof ZT?BKt(c.name)&&(l=c.name,a.updateAuth({state:l})):(U.error("Error occurred during sign in",{error:U.cleanObject(c),email:i||es.ERROR_MESSAGE_MISSING_EMAIL}),U.recordEvent(Bc.COGNITO_SIGN_IN_ERROR,{error:U.cleanObject(c),email:i||es.ERROR_MESSAGE_MISSING_EMAIL}))}return l}),rs(this,"signInWithGoogle",async i=>{U.trace("AuthApi.signInWithGoogle started");let n="";try{const o=uR(i.credential);if(o.email)U.debug("Signing in with Google Started",{email:o.email?o.email:es.ERROR_MESSAGE_MISSING_EMAIL});else throw U.debug("No email found in response from Gooogle JWT",{decodedData:U.cleanObject(o)}),new Error("Unable to sign user in - no email found");return o.email&&(n=o.email),o.email_verified?ws.userMustUseAuth0(n)?(U.debug("Forcing signin through Auth0",{email:n||es.ERROR_MESSAGE_MISSING_EMAIL}),await ws.redirectToAuth0Login(),{success:!0}):await this.completeExternalIdPSignInSignUp(n,qg.GOOGLE,o.name):(U.debug("decodedData.email_verified: false"),{success:!1,error:Ww.EMAIL_UNVERIFIED})}catch(o){return U.error("Failed signInWithGoogle",o),U.recordEvent(Bc.GOOGLE_SIGN_IN_ERROR,{error:U.cleanObject(o),email:n||es.ERROR_MESSAGE_MISSING_EMAIL}),{success:!1,error:Ww.UNHANDLED_ERROR}}}),rs(this,"signUpAndSignIn",async(i,n)=>{const o=await ws.signUp(i.username,i.password,n,"google");return o.success?await mI.signIn(i):o}),rs(this,"completeExternalIdPSignInSignUp",async(i,n,o,a=!0)=>{U.trace("AuthApi.completeExternalIdPSignInSignUp called",{email:i||es.ERROR_MESSAGE_MISSING_EMAIL,loginIdP:n});const l=ws.generateLoginCreds(i),c=await mI.signIn(l);if(!c.success)switch(U.debug("completeExternalIdPSignInSignUp Error",{error:c.error,email:i||es.ERROR_MESSAGE_MISSING_EMAIL,loginIdP:n}),c.error){case Rh.USER_NOT_FOUND:{const h=await this.signUpAndSignIn(l,o);if(!h.success)return h}break;case Rh.USER_ALREADY_AUTHENTICATED:if(await pE(),a)return await this.completeExternalIdPSignInSignUp(i,n,o,!1);break;default:return U.error("CompleteExternalIdp Error",{email:i||es.ERROR_MESSAGE_MISSING_EMAIL,loginIdP:n,error:c.error}),c}try{await ws.authSessionWasRefreshed();const h=await this.api.profileApi.getProfileByEmail(i);if(h.success)return await this.completeUserSignIn(i,h.data,n);const d=await this.api.profileApi.createProfile(i,o);return d?await this.completeUserSignIn(i,d,n):(U.debug("Profile not found or created",{email:i||es.ERROR_MESSAGE_MISSING_EMAIL,loginIdP:n}),{success:!1,error:Rh.USER_NOT_FOUND})}catch(h){const d={error:U.cleanObject(h),email:i||es.ERROR_MESSAGE_MISSING_EMAIL,loginIdP:n||es.ERROR_MESSAGE_MISSING_LOGIN_IDP};return U.error("CompleteSignIn Error",d),U.recordEvent(Bc.EXTERNAL_IDP_LOGIN_FAILED,d),{success:!1,error:al.UNHANDLED_ERROR}}}),rs(this,"checkDev",async i=>{try{if(U.trace("AuthApi.checkDev called",{email:i||es.ERROR_MESSAGE_MISSING_EMAIL}),!i)return!1;const n=await Dnt(i);return!n||!n.Payload?!1:JSON.parse(w0.Buffer.from(n.Payload).toString())}catch(n){throw U.error("Failure in checkDev",{email:i||es.ERROR_MESSAGE_MISSING_EMAIL,error:U.cleanObject(n)}),n}}),ws._instance=this,U.trace("Auth API Constructor called"),ws.currentlyRefreshingAuthSessionCount=0,t.clientApi,Bq.listen("auth",async({payload:i})=>{switch(i.event){case"signedIn":U.debug("AuthApi.Hub.listen: user have been signedIn successfully."),ws.createCookie(ws.STORAGE_KEY_BEZI_USER_WAS_LOGGED_IN,"true");break;case"signedOut":U.debug("AuthApi.Hub.listen: user have been signedOut successfully."),ws.createCookie(ws.STORAGE_KEY_BEZI_USER_WAS_LOGGED_IN,"true"),U.setContextDataField("profileId","");break;case"tokenRefresh":{ws.ignoringHubSessionRefreshTrigger()?U.debug("AuthApi.Hub.listen: auth tokens have been refreshed - (IGNORING)"):(U.debug("AuthApi.Hub.listen: auth tokens have been refreshed."),ws.createCookie(ws.STORAGE_KEY_BEZI_USER_WAS_LOGGED_IN,"true"),await ws.authSessionWasRefreshed());break}case"tokenRefresh_failure":U.debug("AuthApi.Hub.listen: failure while refreshing auth tokens."),ws.clearCookie(ws.STORAGE_KEY_BEZI_USER_WAS_LOGGED_IN);break;case"signInWithRedirect":U.debug("AuthApi.Hub.listen: signInWithRedirect",i),ws.createCookie(ws.STORAGE_KEY_BEZI_USER_WAS_LOGGED_IN,"true");break;case"signInWithRedirect_failure":U.debug("AuthApi.Hub.listen: failure while trying to resolve signInWithRedirect API."),ws.clearCookie(ws.STORAGE_KEY_BEZI_USER_WAS_LOGGED_IN);break;case"customOAuthState":U.debug("AuthApi.Hub.listen: custom state returned from CognitoHosted UI");break;default:U.debug("AuthApi.Hub.listen: Unknown Hub event:",i)}})}static cognitoError2SignUpError(t,e=""){if(!(t instanceof Error))return U.recordEvent(Bc.COGNITO_SIGN_UP_ERROR,{error:U.cleanObject(t),email:e||es.ERROR_MESSAGE_MISSING_EMAIL}),jg.UNKNOWN_ERROR;switch(t.name){case"UsernameExistsException":return jg.USERNAME_EXISTS;default:return jg.UNHANDLED_ERROR}}static error2ConfirmSignUpError(t,e=""){if(!(t instanceof Error))return U.recordEvent(Bc.COGNITO_CONFIRM_CODE_ERROR,{error:U.cleanObject(t),email:e||es.ERROR_MESSAGE_MISSING_EMAIL}),Dg.UNKNOWN_ERROR;switch(t.name){case"CodeMismatchException":return Dg.CODE_MISMATCH;default:return Dg.UNHANDLED_ERROR}}static getCookie(t){const e=document.cookie.split(";");for(const i of e){const[n,o]=i.split("=");if(n.trim()===t){const a=decodeURIComponent(o);return U.trace(`Found cookie: '${t}' = '${a}'`),a}}U.trace(`No value found for cookie: '${t}`)}};rs(fe,"session");rs(fe,"auth0Client");rs(fe,"auth0ClientCreationRetriedCount",0);rs(fe,"_instance");rs(fe,"STORAGE_KEY_BEZI_USER_WAS_LOGGED_IN","beziUser");rs(fe,"ONE_DAY_IN_SECONDS",60*60*24);rs(fe,"AUTOMATICALLY_REFRESH_AUTH_SESSION_TIMER",20*60*1e3);rs(fe,"currentlyRefreshingAuthSessionCount",0);rs(fe,"fakeEmailPrefixForCognitoLogin","temp-");rs(fe,"getCurrentUser",()=>{let s;try{return U.trace("AuthApi.getCurrentUser called"),s=fe.getUserSession(),s?s.getCurrentUserFields():void 0}catch(t){throw U.error("getCurrentUser error",{error:U.cleanObject(t),beziUserSession:s||es.ERROR_MESSAGE_UNDEFINED}),new Error("getCurrentUser error",t)}});rs(fe,"convertAWSUserEmail",s=>{try{U.trace("AuthApi.convertAWSUserEmail called");const t=fe.fakeEmailPrefixForCognitoLogin;return s.startsWith(t)?s.slice(t.length):s}catch(t){throw U.debug("ConvertEmail error",{email:s||es.ERROR_MESSAGE_MISSING_EMAIL,error:U.cleanObject(t)}),new Error("Handle Email Error")}});rs(fe,"setUserSession",s=>{U.trace("Set Session Called",s),fe.session=s});rs(fe,"getUserSession",()=>{U.trace("AuthApi.getSession called");let s=fe.session;return s||(s=Vx.loadSessionFromMemory()),s&&fe.setUserSession(s),s});rs(fe,"forceRefreshAuthSession",async()=>{try{U.trace("forceRefreshAuthSession called"),fe.setIgnoreHubSessionRefreshTrigger(!0);const s=await FI({forceRefresh:!0});await fe.authSessionWasRefreshed(s)}catch(s){U.error("Force refresh Auth session failed",s)}finally{fe.setIgnoreHubSessionRefreshTrigger(!1)}});rs(fe,"authSessionWasRefreshed",async s=>{U.trace("AuthSessionWasRefreshed",s);let t=s;t||(fe.setIgnoreHubSessionRefreshTrigger(!0),t=await FI()),EC.updateClientsAuthSession(t)});rs(fe,"ignoringHubSessionRefreshTrigger",()=>fe.currentlyRefreshingAuthSessionCount!==0);rs(fe,"setIgnoreHubSessionRefreshTrigger",s=>{fe.currentlyRefreshingAuthSessionCount>=5&&(U.error("Loop detected - logging user out"),fe.getInstance().signOut(!0,!0)),fe.currentlyRefreshingAuthSessionCount=s?fe.currentlyRefreshingAuthSessionCount+1:fe.currentlyRefreshingAuthSessionCount>=1?fe.currentlyRefreshingAuthSessionCount-1:0});rs(fe,"signUp",async(s,t,e="",i)=>{U.trace("AuthAPI: signUp called",{email:s||es.ERROR_MESSAGE_MISSING_EMAIL});try{return{success:!0,data:await kq({username:s,password:t,options:{userAttributes:{email:s,name:e,...i?{website:i}:{}}}})}}catch(n){return U.debug("Error in signUp",{email:s||es.ERROR_MESSAGE_MISSING_EMAIL,error:U.cleanObject(n)}),{success:!1,error:fe.cognitoError2SignUpError(n,s)}}});rs(fe,"confirmSignUp",async(s,t)=>{U.trace("AuthAPI: confirmSignUp called",{email:s||es.ERROR_MESSAGE_MISSING_EMAIL});try{const e=await Gq({username:s,confirmationCode:t});if(!e.isSignUpComplete||e.nextStep.signUpStep!=="DONE")throw U.error("Confirm Sign Up Error",{resp:U.cleanObject(e),email:s||es.ERROR_MESSAGE_MISSING_EMAIL}),new Error(`EAuthState.SIGNED_OUT, Response: ${JSON.stringify(e,null,2)}`);if(e.nextStep.signUpStep==="DONE"&&!await fe.getInstance().api.profileApi.createProfile(s,""))throw U.error("Failed to create profile for user",{email:s}),new Error("Failed to create profile for user");return{success:!0,data:e}}catch(e){return U.error("AuthApi confirmSignUp error",{error:U.cleanObject(e),email:s||es.ERROR_MESSAGE_MISSING_EMAIL}),{success:!1,error:fe.error2ConfirmSignUpError(e,s)}}});rs(fe,"userMustUseAuth0",s=>{const t=s.split("@");return!!(t.length===2&&FKt.has(t[1]))});rs(fe,"signInWithAuth0",async s=>{if(U.trace("AuthApi.signInWithAuth0 called"),!s.email)return U.error("No email for Auth0 User",{claims:U.cleanObject(s)}),{success:!1,error:Rh.NO_EMAIL};U.trace("Signing in with Auth0 started",{email:s.email?s.email:es.ERROR_MESSAGE_MISSING_EMAIL});const t=await fe.getInstance().completeExternalIdPSignInSignUp(s.email,qg.AUTH0,s.name||"");if(!t.success){const e={error:t.error,email:s!=null&&s.email?s.email:es.ERROR_MESSAGE_MISSING_EMAIL,claims:U.cleanObject(s)};U.recordEvent(Bc.AUTH0_SIGN_IN_ERROR,e),U.error("Failed to sign in Auth0 User",e)}return t});rs(fe,"getAuth0Client",async()=>{U.trace("AuthApi: getAuth0Client called");try{if(!fe.auth0Client&&fe.auth0ClientCreationRetriedCount<2){fe.auth0ClientCreationRetriedCount++,fe.auth0ClientCreationRetriedCount>=2&&U.debug("Max retries limit reached - Auth0Client creation won't be tried again after this."),U.debug("Creating new Auth0Client with default callbackURL");const t=await Vq({domain:EN,clientId:SN,authorizationParams:{redirect_uri:b5},cacheLocation:"localstorage"});try{await t.getTokenSilently()}catch(e){if(e.error!=="login_required")throw U.debug("Failed to instantiate the auth0Client",e),e}fe.auth0Client=t}return fe.auth0Client}catch(t){U.error("Unable to create Auth0 Client",{error:U.cleanObject(t)});return}});rs(fe,"redirectToAuth0Login",async()=>{try{U.trace("AuthApi.redirectToAuth0Login called"),U.recordEvent(fj.USER_STARTED_SSO_SIGN_IN),window.localStorage.clear();const s=await fe.getAuth0Client();if(!s){U.debug("No Auth0Client - unable to redirect to login");return}U.recordEvent(Wd.AUTH0_REDIRECT_CALLED),await s.loginWithRedirect({authorizationParams:{redirect_uri:b5}}),U.recordEvent(Wd.AUTH0_REDIRECT_RETURNED)}catch(s){U.recordEvent(Bc.AUTH0_REDIRECT_FAILED_ERROR,s),U.error("Error in Auth0Login",{error:U.cleanObject(s)})}});rs(fe,"generateLoginCreds",s=>({username:`${fe.fakeEmailPrefixForCognitoLogin}${s}`,password:fe.hashEmail(s)}));rs(fe,"hashEmail",s=>KT.SHA256(s).toString(KT.enc.Hex).substring(0,20));rs(fe,"getInstance",()=>fe._instance);rs(fe,"createCookie",(s,t,e=31536e3)=>{try{let i=window.location.hostname;i.startsWith("www.")&&(i=i.substr(4));const n=`${s}=${t}; domain=${i}; max-age=${e}; path=/; SameSite=Lax`;U.trace(`Creating cookie: '${n}'`),document.cookie=n}catch(i){U.error(`Failed setting ${s} status`,i)}});rs(fe,"clearBeziSessionData",()=>{uT.clearLocalSession(),fe.session=void 0});rs(fe,"clearCookie",(s,t="false")=>{try{U.trace(`Clearing Cookie: '${s}'`);let e=window.location.hostname;e.startsWith("www.")&&(e=e.substr(4));const i=1;document.cookie=`${s}=${t}; domain=${e}; max-age=${i}; path=/; SameSite=Lax`}catch(e){U.error(`Failed clearing ${s} status`,e)}});let Vn=fe;function BKt(s){return Object.values(jn).includes(s)}setInterval(Vn.forceRefreshAuthSession,Vn.AUTOMATICALLY_REFRESH_AUTH_SESSION_TIMER);var kKt=Object.defineProperty,GKt=(s,t,e)=>t in s?kKt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,y4=(s,t,e)=>(GKt(s,typeof t!="symbol"?t+"":t,e),e);class VKt{constructor(t){this.store=t,y4(this,"auth"),y4(this,"client"),y4(this,"updateClient",e=>{const{docClient:i,lambdaClient:n}=e;"docClient"in e&&this.client.setDocClient(i),"lambdaClient"in e&&this.client.setLambdaClient(n)}),this.auth=t.authController.auth,this.client=new Xt(this.store,{trpcBackendClient:Hq({links:[Uq({url:`${bst}/trpc`,headers:()=>{const e=he.contextToken?{"X-Bezi-Context-Token":he.contextToken.value}:{};return{"X-Bezi-Telemetry-Id":he.telemetryID,...e}}})]})})}}var XY=Object.defineProperty,HKt=(s,t,e)=>t in s?XY(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,cv=(s,t,e,i)=>{for(var n=void 0,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&XY(t,e,n),n},af=(s,t,e)=>(HKt(s,typeof t!="symbol"?t+"":t,e),e);const uu=class xg{constructor(t,e){this.store=t,af(this,"docClient"),af(this,"lambdaClient"),af(this,"trpcBackendClient"),af(this,"setDocClient",i=>{this.docClient=i,xg.docClient=i}),af(this,"setLambdaClient",i=>{this.lambdaClient=i,xg.lambdaClient=i}),af(this,"setTRPCBackendClient",i=>{this.trpcBackendClient=i,xg.trpcBackendClient=i}),this.docClient=e.docClient,this.lambdaClient=e.lambdaClient,this.trpcBackendClient=e.trpcBackendClient,xg.docClient=e.docClient,xg.lambdaClient=e.lambdaClient,xg.trpcBackendClient=e.trpcBackendClient,vt(this)}};af(uu,"docClient");af(uu,"lambdaClient");af(uu,"trpcBackendClient");cv([V],uu.prototype,"docClient");cv([V],uu.prototype,"lambdaClient");cv([V],uu.prototype,"trpcBackendClient");cv([E],uu.prototype,"setDocClient");cv([E],uu.prototype,"setLambdaClient");cv([E],uu.prototype,"setTRPCBackendClient");let Xt=uu;class UKt{constructor(t){this._dynamoDBDocClient=t}async send(t){if(this._dynamoDBDocClient==null)throw new Error("DynamoDBDocumentClient not found");try{return this._dynamoDBDocClient.send(t)}catch(e){throw console.error(e),e}}}class zKt{constructor(t){this._lambdaClient=t}send(t){if(this._lambdaClient==null){U.warn("LambdaClientWrapper: Lambda Client not yet initialized");return}try{return this._lambdaClient.send(t)}catch(e){throw console.error(e),e}}}var YKt=Object.defineProperty,WKt=(s,t,e)=>t in s?YKt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,ZY=(s,t,e)=>(WKt(s,typeof t!="symbol"?t+"":t,e),e);const Ux=class KY{constructor(t,e){this.api=t,this.storeArg=e,KY.store=e}};ZY(Ux,"store");ZY(Ux,"updateClientsAuthSession",async s=>{U.trace("ClientApi.refreshClientCreds called");try{const t=s||await FI();o7&&U.debug("Updating Session for ClientApi",{authSessionArg:s,awsAuthSession:t});const e=t.credentials;if(!e)throw new Error("Auth session produced no credentials");const i=zq.from(new Yq({region:Hx.aws_project_region,credentials:e})),n=new UKt(i),o=new Wq({region:Hx.aws_project_region,credentials:e}),a=new zKt(o);Ux.store.clientController.updateClient({docClient:n,lambdaClient:a})}catch(t){U.error("Error in updateClientsAuthSession",t)}});let EC=Ux;const XKt=S.object({id:S.string().nonempty()});var Fp;(s=>{async function t(a,l=5){function c(){return(""+Math.random().toString()).substring(2,8)}let h=c();for(;await o(h);)h=c();const d=await n(a);if(d&&d.length>0)return await e(a,h,l),h;const u=Date.now()/1e3,f=u+60*l,p={id:a,createdAt:u,fileId:a,code:h,ttl:f};try{const g=Xt.docClient;if(!g)throw new Error("DynamoDBDocumentClient client not found");return await g.send(new Ho({TableName:bv,Item:{...p}})),h}catch(g){return U.error("Error creating file code",g),null}}s.createFileCode=t;async function e(a,l,c=5){try{const h=Xt.docClient;if(!h)throw new Error("DynamoDBDocumentClient client not found");return await h.send(new K0({TableName:bv,Key:{id:a},UpdateExpression:"set #code = :code, #ttl = :ttl",ExpressionAttributeNames:{"#code":"code","#ttl":"ttl"},ExpressionAttributeValues:{":code":l,":ttl":Date.now()/1e3+60*c}})),!0}catch(h){return U.error("Error updating file code",h),!1}}s.updateFileCode=e;async function i(a){try{const l=Xt.docClient;if(!l)throw new Error("DynamoDBDocumentClient client not found");return await l.send(new zc({TableName:bv,Key:{id:a}})),!0}catch(l){return U.error("Error deleting file code",l),!1}}s.deleteFileCode=i;async function n(a){try{const l=Xt.docClient;if(!l)throw new Error("DynamoDBDocumentClient client not found");const c=await l.send(new Ti({TableName:bv,KeyConditionExpression:"id = :id",ExpressionAttributeNames:{"#ttl":"ttl"},ExpressionAttributeValues:{":id":a,":ttl":Date.now()/1e3},FilterExpression:"#ttl > :ttl"}));return!c.Items||c.Items.length===0?null:c.Items}catch(l){return U.error("Error getting file code",l),null}}s.getCode=n;async function o(a){try{const l=Xt.docClient;if(!l)throw new Error("DynamoDBDocumentClient client not found");const c=await l.send(new Ti({TableName:bv,IndexName:"fileIdByCode",KeyConditionExpression:"code = :code",ExpressionAttributeValues:{":code":a}}));if(!c.Items||c.Items.length===0)return null;const h=c.Items[0];return XKt.parse(h)}catch(l){return U.error("Error getting file by code",l),null}}s.getFileByCode=o})(Fp||(Fp={}));var qY=Object.defineProperty,ZKt=Object.getOwnPropertyDescriptor,KKt=(s,t,e)=>t in s?qY(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,fc=(s,t,e,i)=>{for(var n=i>1?void 0:i?ZKt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&qY(t,e,n),n},b4=(s,t,e)=>(KKt(s,typeof t!="symbol"?t+"":t,e),e);class yl{constructor(t){this.store=t,b4(this,"_xrConnectCode",""),b4(this,"_codeExpiration",5),b4(this,"_qrCode",""),vt(this)}get xrConnectCode(){return this._xrConnectCode}get codeExpiration(){return this._codeExpiration}get qrCode(){return this._qrCode}async createXRConnectCode(t=!1){const e=window.location.pathname.split("/").pop();if(!e||!Vl(e))return this._xrConnectCode="",!1;if(!t){const n=await Fp.getCode(e);if(n)return this._xrConnectCode=n[0].code,!0}const i=await Fp.createFileCode(e,this._codeExpiration);return i?(this._xrConnectCode=i,!0):(this._xrConnectCode="",!1)}async getXRConnectCode(t){const e=await Fp.getCode(t);e&&(this._xrConnectCode=e[0].code)}async updateCodeExpiration(t,e){return this._codeExpiration=e,await this.createXRConnectCode(!0)}async tryAccessFileWithCode(){const t=window.location.pathname.split("/code/").pop();if(!t)return!1;const e=await Fp.getFileByCode(t);if(!e)return!1;const i=e.id,n=Date.now()+30*24*60*60*1e3;return localStorage.setItem(`bezi-${i}`,n.toString()),!0}async tryOpenProject(t){const e=await Fp.getFileByCode(t);if(!e)return!1;const n=`${window.location.origin}/play/${e.id}/code/${t}`;return window.open(n),!0}async deleteFileCode(t){return this._xrConnectCode="",await Fp.deleteFileCode(t)}async createQRCode(){const t=`${window.location.origin}/play/${pi.fileID}`;try{this._qrCode=await Xq.toDataURL(t)}catch(e){console.error(e)}}}fc([V],yl.prototype,"_xrConnectCode",2);fc([V],yl.prototype,"_codeExpiration",2);fc([V],yl.prototype,"_qrCode",2);fc([M],yl.prototype,"xrConnectCode",1);fc([M],yl.prototype,"codeExpiration",1);fc([M],yl.prototype,"qrCode",1);fc([E],yl.prototype,"createXRConnectCode",1);fc([E],yl.prototype,"getXRConnectCode",1);fc([E],yl.prototype,"updateCodeExpiration",1);fc([E],yl.prototype,"tryAccessFileWithCode",1);fc([E],yl.prototype,"tryOpenProject",1);fc([E],yl.prototype,"deleteFileCode",1);fc([E],yl.prototype,"createQRCode",1);var QY=Object.defineProperty,qKt=(s,t,e)=>t in s?QY(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Ci=(s,t,e,i)=>{for(var n=void 0,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&QY(t,e,n),n},fi=(s,t,e)=>(qKt(s,typeof t!="symbol"?t+"":t,e),e);class di{constructor(t,e){this.store=t,fi(this,"id"),fi(this,"type"),fi(this,"version"),fi(this,"creator"),fi(this,"team"),fi(this,"access"),fi(this,"link"),fi(this,"title"),fi(this,"scene"),fi(this,"bookmarks"),fi(this,"screenshot"),fi(this,"screenshotUrlKey"),fi(this,"lastWriter"),fi(this,"updatedAt"),fi(this,"createdAt"),fi(this,"setId",i=>{this.id=i}),fi(this,"setType",i=>{this.type=i}),fi(this,"setVersion",i=>{this.version=i}),fi(this,"setCreator",i=>{this.creator=i}),fi(this,"setTeam",i=>{this.team=i}),fi(this,"setAccess",i=>{this.access=i}),fi(this,"setLink",i=>{this.link=i}),fi(this,"setTitle",i=>{this.title=i}),fi(this,"setScene",i=>{this.scene=i}),fi(this,"setBookmarks",i=>{this.bookmarks=i}),fi(this,"setScreenshot",i=>{this.screenshot=i}),fi(this,"setScreenshotUrlKey",i=>{this.screenshotUrlKey=i}),fi(this,"setLastWriter",i=>{this.lastWriter=i}),fi(this,"setCreatedAt",i=>{this.createdAt=i}),fi(this,"setUpdatedAt",i=>{this.updatedAt=i}),this.id=e.id,this.type=e.type,this.version=e.version,this.creator=e.creator,this.team=e.team,this.access=e.access,this.link=e.link,this.title=e.title,this.scene=e.scene,this.bookmarks=e.bookmarks,this.screenshot=e.screenshot,this.screenshotUrlKey=e.screenshotUrlKey,this.lastWriter=e.lastWriter,this.updatedAt=e.updatedAt,this.createdAt=e.createdAt,vt(this)}serialize(){return{id:this.id,type:this.type,version:this.version,creator:this.creator,team:JSON.stringify(this.team),access:JSON.stringify(this.access),link:this.link,title:this.title,scene:JSON.stringify(this.scene),bookmarks:JSON.stringify(this.bookmarks),lastWriter:this.lastWriter,createdAt:this.createdAt,updatedAt:this.updatedAt}}}Ci([V],di.prototype,"id");Ci([V],di.prototype,"type");Ci([V],di.prototype,"version");Ci([V],di.prototype,"creator");Ci([V],di.prototype,"team");Ci([V],di.prototype,"access");Ci([V],di.prototype,"link");Ci([V],di.prototype,"title");Ci([V],di.prototype,"scene");Ci([V],di.prototype,"bookmarks");Ci([V],di.prototype,"screenshot");Ci([V],di.prototype,"screenshotUrlKey");Ci([V],di.prototype,"lastWriter");Ci([V],di.prototype,"updatedAt");Ci([V],di.prototype,"createdAt");Ci([E],di.prototype,"setId");Ci([E],di.prototype,"setType");Ci([E],di.prototype,"setVersion");Ci([E],di.prototype,"setCreator");Ci([E],di.prototype,"setTeam");Ci([E],di.prototype,"setAccess");Ci([E],di.prototype,"setLink");Ci([E],di.prototype,"setTitle");Ci([E],di.prototype,"setScene");Ci([E],di.prototype,"setBookmarks");Ci([E],di.prototype,"setScreenshot");Ci([E],di.prototype,"setScreenshotUrlKey");Ci([E],di.prototype,"setLastWriter");Ci([E],di.prototype,"setCreatedAt");Ci([E],di.prototype,"setUpdatedAt");var JY=Object.defineProperty,QKt=Object.getOwnPropertyDescriptor,JKt=(s,t,e)=>t in s?JY(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,fu=(s,t,e,i)=>{for(var n=i>1?void 0:i?QKt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&JY(t,e,n),n},qu=(s,t,e)=>(JKt(s,typeof t!="symbol"?t+"":t,e),e);class yd{constructor(t){this.store=t,qu(this,"filesByID",V.map()),qu(this,"initFiles",e=>{this.clearFiles(),this.addFiles(e)}),qu(this,"addFile",e=>{if(this.filesByID.has(e.id))return this.updateFile(e);this.filesByID.set(e.id,new di(this.store,e))}),qu(this,"addFiles",e=>{e.forEach(i=>this.addFile(i))}),qu(this,"updateFile",e=>{const{id:i,version:n,title:o,creator:a,team:l,link:c,scene:h,bookmarks:d,screenshot:u,screenshotUrlKey:f,lastWriter:p,updatedAt:g,createdAt:_}=e;if(!i)return;const v=this.filesByID.get(i);v&&("version"in e&&n&&v.setVersion(n),"title"in e&&o&&v.setTitle(o),"creator"in e&&a&&v.setCreator(a),"team"in e&&v.setTeam(l),"link"in e&&c&&v.setLink(c),"scene"in e&&h&&v.setScene(h),"bookmarks"in e&&d&&v.setBookmarks(d),"screenshot"in e&&u&&v.setScreenshot(u),"screenshotUrlKey"in e&&f&&v.setScreenshotUrlKey(f),"lastWriter"in e&&p&&v.setLastWriter(p),"updatedAt"in e&&g&&v.setUpdatedAt(g),"createdAt"in e&&_&&v.setCreatedAt(_))}),qu(this,"updateFiles",e=>{e.forEach(i=>this.updateFile(i))}),qu(this,"deleteFile",e=>{this.filesByID.delete(e)}),qu(this,"deleteFiles",e=>{e.forEach(i=>this.deleteFile(i))}),qu(this,"clearFiles",()=>{this.filesByID.clear()}),vt(this)}get allFiles(){return Array.from(this.filesByID.values())}get allFilesSorted(){return Array.from(this.filesByID.values()).sort(eot)}}fu([E],yd.prototype,"initFiles",2);fu([E],yd.prototype,"addFile",2);fu([E],yd.prototype,"addFiles",2);fu([E],yd.prototype,"updateFile",2);fu([E],yd.prototype,"updateFiles",2);fu([E],yd.prototype,"deleteFile",2);fu([E],yd.prototype,"deleteFiles",2);fu([E],yd.prototype,"clearFiles",2);fu([M],yd.prototype,"allFiles",1);fu([M],yd.prototype,"allFilesSorted",1);var $Kt=Object.defineProperty,tqt=(s,t,e)=>t in s?$Kt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,eqt=(s,t,e)=>(tqt(s,t+"",e),e);class $Y{static async createBookmark(t,e){return await this.client.graphql({query:rct,variables:{input:{id:t.id,file:e??pi.fileID,data:JSON.stringify(t)}}})}static async updateBookmark(t,e){return await this.client.graphql({query:act,variables:{input:{id:t,data:JSON.stringify(e)}}})}static async deleteBookmark(t){try{await this.client.graphql({query:lct,variables:{input:{id:t}}})}catch(e){console.warn("Delete bookmark failed:",e)}}}eqt($Y,"client",hr());const sqt=s=>{const{maxFiles:t,teamName:e,isAdmin:i}=s,n="Need more files?";let o=`You have reached your limit of ${t} personal files. Upgrade to get access to more files, storage, and other premium features.`;e!=null&&(o=i?`Team ${e} has reached its limit of ${t} files. Upgrade to get access to more team files, storage, and other premium features.`:`Team ${e} has reached its limit of ${t} files. Contact the admin of this team to upgrade.`);const a=()=>{Ft("view-plans-file-limits",{isTeamLimit:e!=null,isAdmin:i}),Bt.close(),Bt.open({content:r.jsx(rY,{currentPlanLevel:cn.STARTER,onContinue:s.onSelectUpgrade,isAdmin:s.isAdmin}),option:{size:"auto"}})};return r.jsx(dn,{title:n,closeActionLabel:"Close",onSubmit:a,submitActionLabel:"View Plans",children:r.jsx("div",{className:"mb-2",children:o})})};function iqt(s,t,e,i){Bt.open({content:r.jsx(sqt,{maxFiles:t,teamName:i==null?void 0:i.name,onSelectUpgrade:s,isAdmin:e})})}var nqt=Object.defineProperty,oqt=(s,t,e)=>t in s?nqt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,$a=(s,t,e)=>(oqt(s,typeof t!="symbol"?t+"":t,e),e);class r1{constructor(t,e){this.api=t,this.store=e,$a(this,"client"),$a(this,"createFile",async(i,n)=>{const o=this._getProfileData();if(!o)return{success:!1,error:{type:lf.NO_PROFILE}};const{id:a,type:l,version:c,creator:h,team:d,access:u,title:f,scene:p,bookmarks:g,lastWriter:_,createdAt:v,updatedAt:y}=i,{organizationsController:b}=this.store,C=b.currentOrganization;try{const x=new Date().toISOString(),I={...Ty,id:a||_t(),lastWriter:_||he.sessionID,createdAt:v||x,updatedAt:y||x,...l&&{type:l},...c&&{version:c},...h&&{creator:h},...d&&{team:d},...u&&{access:u},...f&&{title:f},...p&&{scene:p},...g&&{bookmarks:g},...C&&{organization:C.id},__typename:"File"},O=await this._putFileLambda(o,I,n);return O.success?{success:!0,data:await this.parseRawFile(I,C==null?void 0:C.id)}:O}catch(x){return console.error(x),{success:!1,error:{type:lf.UNHANDLED_ERROR}}}}),$a(this,"getFile",async i=>{var n,o,a;if(i)try{const l=Xt.docClient;if(!l){U.error("Client not initialized");return}const c=await l.send(new Ti({TableName:CE,KeyConditionExpression:"#id = :id",ExpressionAttributeNames:{"#id":"id"},ExpressionAttributeValues:{":id":i}}));if(!((n=c.Items)!=null&&n[0]))return;const h=c.Items[0];if(!h)return;const d=await this.parseRawFile(h,h.organization);if(d.organization){const u=this.store.organizationsController.currentOrganizationId,f=d.organization,p=(o=this.store.authController.auth)==null?void 0:o.profileID,g=p&&((a=this.store.profileController.profilesByID.get(p))==null?void 0:a.email),_=g&&d.access&&g in d.access.profiles}return d}catch(l){console.error(l)}}),$a(this,"getFileByLink",async i=>{var n;if(i)try{const a=(n=(await this.client.graphql({query:qlt,variables:{link:i}})).data.fileByLink)==null?void 0:n.items[0];return a?await this.parseRawFile(a):void 0}catch(o){console.error(o)}}),$a(this,"createLink",async()=>{const i=["recent","drafts"];function n(){let l="";for(let c=0;c<tW;c++)l+=EI.charAt(Math.floor(Math.random()*EI.length));return l}let o=n(),a=!1;for(;!a;)!await this.getFileByLink(o)&&!i.includes(o)?a=!0:o=n();return o}),$a(this,"getFiles",async i=>{try{if(!Xt.docClient)return await Promise.all(i.map(d=>this.getFile(d)));const o=zit,a=as.chunk(i,o),c=(await Promise.all(a.map(h=>this._getFilesBatch(h)))).flat();return c.sort((h,d)=>h.updatedAt<d.updatedAt?1:-1),c}catch(n){return console.error(n),[]}}),$a(this,"getFilesByTeam",async(i,n,o,a=[])=>{var d,u;const l={team:i||Ty.team,...n&&{creator:{eq:n}},...o&&{nextToken:o}};let c=[],h;try{const f=await this.client.graphql({query:Klt,variables:l});return c=[...a,...(d=f.data.filesByTeam)==null?void 0:d.items.filter(Boolean)],h=(u=f.data.filesByTeam)==null?void 0:u.nextToken,h?await this.getFilesByTeam(i,n,h,c):await Promise.all(c.map(g=>this.parseRawFile(g)))}catch(f){return console.error(f),[]}}),$a(this,"updateFile",async(i,n,o=!1)=>{const{store:{filesController:a}}=this,l=this._getProfileData();if(!l)return!1;try{const c=a.filesByID.get(i);let h={id:i,lastWriter:he.sessionID,...n};if(c==null)return!1;const d=await this.parseRawFile(n);if(o){h={...c.serialize(),...h};const{success:p}=await this._putFileLambda(l,h);if(!p)return!1}else await this.client.graphql({query:p1,variables:{input:{id:i,lastWriter:he.sessionID,...n}}});const u={...c,...d};return a.updateFile(u),!0}catch(c){return console.error(c),!1}}),$a(this,"duplicateFile",async(i,n,o="-",a=_t(),l,c=!1)=>{var h;try{const d=await this.getFiles([n,a]),u=d[0];let f=d[1];if(!u)throw new Error(`Not found file: ${n}`);if(u.organization&&this.store.organizationsController.currentOrganizationId!==u.organization)throw new Error("Could not duplicate file");const p=c?"dev":Xh,g=c?"main":Xh,_=c?PN:w5,v=await s6(u),{type:y,title:b,version:C,scene:x,screenshotUrlKey:I}=v;x.lastUpdated=Date.now(),x.lastWriter=i;const O=y===fm.TUTORIAL,T=[I],D=[i6(a)],B={},F=new Map,k=x.spawn,{assetHashMap:Y,compSourceHashMap:G,materialHashMap:st}=await Kpt(n,((h=u.team)==null?void 0:h.id)||"-",a,o,c,p,g),$=await eo(n,null,0,!0),X=new Map;for(const nt of Object.keys($))X.set(nt,G[nt]||my(a));if(k&&(x.spawn=X.get(k)??null),f)await this.updateFile(a,{scene:JSON.stringify(x)});else{const nt=await this.createFile({id:a,creator:i,team:o,title:O||c?b:`${b} Copy`,scene:JSON.stringify(x),type:y,version:C},g);if(!nt.success)return nt;f=nt.data}const q=Object.values($),at=q.filter(nt=>!nt.asset),bt=await eA(at),lt=aot(bt,["id"]);let ct=Hb(lt,a,o,void 0,c,p,g);ct={...ct,...st};for(const nt of q){const ot=X.get(nt.id)??my(a),Et=_t(),Ot={...nt,id:ot,urlKey:nt.urlKey?Et:nt.urlKey},ut=Ot.interactions;for(const yt of Object.values(ut)){const Kt=yt.trigger,ye=Kt.targetEntityIds;if(ye!=null){const He=[];for(const je of ye){const ui=je===Ms||je===wo?je:X.get(je);ui!=null?He.push(ui):console.warn("Could not duplicate interaction target with original id",je)}Kt.targetEntityIds=He}const Cs=Kt.targetEntityIds2;if(Cs!=null){const He=[];for(const je of Cs){const ui=je===Ms||je===wo?je:X.get(je);ui!=null?He.push(ui):console.warn("Could not duplicate interaction target with original id",je)}He.length>0&&(Kt.targetEntityIds2=He)}for(const He of Object.values(yt.animations))if(He.sceneEntityId){const je=He.sceneEntityId,ui=X.get(je);ui!=null?He.sceneEntityId=ui:console.warn("Could not duplicate interaction animation")}}nt.asset&&(Y[ym(nt.asset)]&&(Ot.asset=yA(Y[nt.asset],Ot.id)),nt.assetSource&&(Ot.assetSource=G[nt.assetSource]||null)),om(Ot,ct),B[ot]=Ot,F.set(nt.id,ot),nt.urlKey&&(T.push(nt.urlKey),D.push(Et))}for(const nt of Object.values(B))nt.parent&&(nt.parent=F.get(nt.parent)??null),nt.behaviors&&sc.duplicate(nt,F);if(O){const nt=await AD(n);for(const Ot of nt.values()){const ut={...Ot,id:_t()};$Y.createBookmark(ut,a)}const ot=await bF(n,!0),Et=await gF(ot);for(const Ot of Object.values(Et)){const ut={...Ot,id:_t(),object:Ot.object?F.get(Ot.object)??Ot.object:Ot.object};if(Ot.drawing){const yt=_t();ut.drawing=yt,T.push(Ot.drawing),D.push(yt)}pF(ut,a)}}return await Gb(Object.values(B),a,_),await F5(T,D,p,g),l==null||l.onFileSceneUpdate(JSON.stringify(x),!1),{success:!0,data:f}}catch(d){return console.error(d),{success:!1,error:{type:lf.UNHANDLED_ERROR}}}}),$a(this,"deleteFile",async i=>{try{await Promise.all([Nnt(i),this.client.graphql({query:ict,variables:{input:{id:i}}})])}catch(n){console.error(n)}}),$a(this,"importAsFile",async(i,n,o,a)=>{const{store:{filesController:l}}=this;try{const c=await this.createFile({creator:o,team:a,title:n});if(!c.success)return;const h=c.data;l.addFile(h);const d={lastWriter:o,lastUpdated:Date.now()},u={...d,children:[],collapsed:!0,name:n},f=my(h.id);i.forEach(g=>{const _={...d,parent:f,urlKey:g.dataUrlKey,name:g.name,material:g.material},v=my(h.id);CD(v,_,h.id),u.children.push(v)});const p={...on};await this.updateFile(h.id,{scene:JSON.stringify(p)})}catch(c){console.error(c)}}),$a(this,"parseRawFile",async(i,n=void 0)=>{const{api:{teamApi:o}}=this,{id:a,type:l,version:c,creator:h,team:d,access:u,link:f,title:p,scene:g,bookmarks:_,lastWriter:v,createdAt:y,updatedAt:b}=i;let C,x;const I=i.id?i6(i.id):void 0;try{d&&d!==Ty.team&&(C=await o.getTeam(d)),I&&(x=await xs(I))}catch(D){console.error(D)}const O=g?JSON.parse(g):on;return O.background==null&&(O.background=on.background),{id:a,type:l||fm.DEFAULT,team:C,access:u?JSON.parse(u):BI,scene:O,bookmarks:_?JSON.parse(_):ZN,...c&&{version:c},...h&&{creator:h},...f&&{link:f},...p&&{title:p},...v&&{lastWriter:v},...x&&{screenshot:x},...x&&{screenshotUrlKey:I},...y&&{createdAt:y},...b&&{updatedAt:b},...n&&{organization:n}}}),this.client=hr()}async _getFilesBatch(t){const e=Xt.docClient;if(!e)return[];const i=t.map(c=>({id:c})),n={RequestItems:{}};n.RequestItems[`${CE}`]={Keys:i,ConsistentRead:!1};const o=await e.send(new Zq(n));if(!o.Responses)return[];const a=o.Responses[`${CE}`];if(!a)return[];const l=[];for(const c of a){const h=await this.parseRawFile(c,c.organization);l.push(h)}return l}async _putFileLambda(t,e,i){const n=await jnt(t,e,i);if(!n||!n.Payload)return{success:!1,error:{type:lf.MISSING_PAYLOAD_RESPONSE}};const o=Xy(n);if(o==null||!("body"in o)||o.body==null)return{success:!1,error:{type:lf.INVALID_RESPONSE}};const a=eQ.safeParse(o.body);if(a.success){const l=a.data.data,c=this.store.teamController.getTeam(e.team??"");let h=[],d=!1;if(c!=null){h=await Tf(c.id);const f=h.find(p=>p.profile===t.id);d=f!=null&&f.access===Sa.Admin}return iqt((f,p)=>{c==null||!d||this.api.billingApi.goToPlanUpgradeCheckout(c,p,"file-limits-dialog")},l.maxFiles,d,c),{success:!1,error:{type:lf.FILE_LIMIT,data:l}}}return{success:!0,data:void 0}}_getProfileData(){const t=this.store.authController.auth.profileID,e=this.store.profileController.profilesByID.get(t??"")??null;return e==null?null:{id:e.id,email:e.email}}}$a(r1,"newFileFlow",()=>{});$a(r1,"duplicateFileFlow",()=>{});const tW=6,EI="abcdefghijklmnopqrstuvwxyz0123456789";function lL(s){if(s.length!==tW)return!1;for(const t of s)if(EI.indexOf(t)===-1)return!1;return!0}var lf=(s=>(s.FILE_LIMIT="FILE_LIMIT",s.MISSING_PAYLOAD_RESPONSE="MISSING_PAYLOAD_RESPONSE",s.INVALID_RESPONSE="INVALID_RESPONSE",s.NO_PROFILE="NO NO_PROFILE",s.UNHANDLED_ERROR="UNHANDLED_ERROR",s))(lf||{}),eW=Object.defineProperty,rqt=Object.getOwnPropertyDescriptor,aqt=(s,t,e)=>t in s?eW(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Ks=(s,t,e,i)=>{for(var n=i>1?void 0:i?rqt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&eW(t,e,n),n},xn=(s,t,e)=>(aqt(s,typeof t!="symbol"?t+"":t,e),e);class Gs{constructor(t){this._store=t,xn(this,"_organizationsById",{}),xn(this,"_currentOrganization",null),xn(this,"_organizationMemberIds",new Set),xn(this,"_organizationMembersById",{}),xn(this,"_organizationTeamIds",new Set),xn(this,"_organizationTeamsById",{}),xn(this,"_isOrganizationAdmin",!1),xn(this,"_organizationLogoUrl",null),xn(this,"_organizationMemberIdsByOrgId",new ho),xn(this,"getOrganizationLogoUrl",async e=>{const i=this._organizationsById[e];if(i)if(i.logoUrl.startsWith("https://"))this._organizationLogoUrl=i.logoUrl;else{const n=await xs(i.logoUrl);n&&(this._organizationLogoUrl=n)}}),xn(this,"getOrganizations",async e=>{const i=e??this._store.authController.auth.profileID;if(!i)return;const n=await br.getMemberOrganizations(i);if(!n)return;const o=[];for(const a of Object.values(n)){const l=await br.getOrganization(a.organization),c=l==null?void 0:l[0];c&&o.push({id:c.id,name:c.name,logoUrl:c.logoUrl,domain:c.domain,createdAt:c.createdAt,updatedAt:c.updatedAt})}for(const a of o)this._organizationsById[a.id]=a;!this._currentOrganization&&this.organizations.length>0&&(this._currentOrganization=this.organizationIds[0]),this._currentOrganization&&(this.getOrganizationTeamsSize(this._currentOrganization),this.getOrganizationMemberSize(this._currentOrganization))}),xn(this,"getOrganizationMemberIds",async e=>{const i=await br.getOrganizationMembers(e),n=new Set;this._organizationMemberIds.clear();const o={};if(!i)return;const a=await Promise.all(i.map(async l=>({profile:await dm(l.profile),member:l})));for(const{member:l,profile:c}of a)n.add(l.profile),c&&(o[l.profile]={id:l.profile,role:l.access,lastActive:l.updatedAt,fullName:(c==null?void 0:c.fullName)||"",email:(c==null?void 0:c.email)||"",portrait:(c==null?void 0:c.portrait)||""});return this._organizationMemberIds=n,this._organizationMembersById=o,i}),xn(this,"getOrganizationMembers",async e=>{await this.getOrganizationMemberIds(e)}),xn(this,"updateMemberRole",async(e,i)=>{const n=this._currentOrganization;if(!n)return;if(await br.updateOrganizationMemberRole(n,e,i)){if(!this._organizationMembersById[e])return;this._organizationMembersById[e].role=i}}),xn(this,"removeOrganizationMember",async e=>{const i=this._currentOrganization;if(!i)return;if(await br.removeOrganizationMember(i,e)){const o=new Set([...this._organizationMemberIds]);o.delete(e),delete this._organizationMembersById[e],this._organizationMemberIds=o}}),xn(this,"getIsOrganizationAdmin",async e=>{const i=await br.getMemberOrganizations(e);if(!i)return!1;for(const n of Object.values(i))if(n.access===Sa.Admin)return this._isOrganizationAdmin=!0,!0;return!1}),xn(this,"getOrganizationTeamsSize",async e=>{const i=await br.getOrganizationTeams(e),n=new Set;if(!i)return this._organizationTeamIds=n,0;for(const o of i)n.add(o.id);return this._organizationTeamIds=n,i.length}),xn(this,"getOrganizationMemberSize",async e=>{const i=await br.getOrganizationMembers(e),n=new Set;if(!i)return this._organizationMemberIds=n,0;for(const o of i)n.add(o.id);return this._organizationMemberIds=n,i.length}),xn(this,"getOrganizationTeamIds",async e=>{const i=await br.getOrganizationTeams(e),n=new Set;this._organizationTeamIds.clear();const o={};if(i){for(const a of i){n.add(a.id);const l=await br.getOrganizationTeamMembers(e,a.id);l&&(o[a.id]={id:a.id,name:a.name,lastActive:Date.parse(a.updatedAt),members:l.members,admin:l.admin})}this._organizationTeamIds=n,this._organizationTeamsById=o}}),xn(this,"getOrganizationTeams",async e=>{await this.getOrganizationTeamIds(e)}),xn(this,"_organizationTeamMembers",[]),xn(this,"viewTeamMembers",async e=>{if(!this._currentOrganization)return;const n=await br.getOrganizationTeamMembersData(e);if(!n){this._organizationTeamMembers=[];return}return this._organizationTeamMembers=n,n}),xn(this,"updateTeamMemberRole",async(e,i,n)=>{}),xn(this,"deleteOrganizationTeam",e=>{if(!this._currentOrganization)return;const n=new Set([...this.organizationTeamIds]);n.delete(e),delete this._organizationTeamsById[e],this._organizationTeamIds=n}),vt(this)}get organizations(){return Object.values(this._organizationsById)}get organizationsById(){return this._organizationsById}get organizationIds(){return Object.keys(this._organizationsById)}get currentOrganizationId(){return this._currentOrganization}get organizationLogoUrl(){return this._organizationLogoUrl}get currentOrganization(){return this._currentOrganization?this._organizationsById[this._currentOrganization]:null}get organizationMemberIds(){return this._organizationMemberIds}get organizationMembers(){return this._organizationMembersById}get organizationTeamIds(){return this._organizationTeamIds}get organizationTeams(){return this._organizationTeamsById}get organizationMemberIdsByOrganizationId(){return this._organizationMemberIdsByOrgId}get isOrganizationAdmin(){return this._isOrganizationAdmin}async getMembersForAllOrganizations(){this._organizationMemberIdsByOrgId.clear();for(const t of this.organizationIds){const e=await this.getOrganizationMemberIds(t),i=new Set(e==null?void 0:e.map(n=>n.profile));this._organizationMemberIdsByOrgId.set(t,i)}}get organizationTeamMembers(){return this._organizationTeamMembers}}Ks([V],Gs.prototype,"_organizationsById",2);Ks([V],Gs.prototype,"_currentOrganization",2);Ks([V],Gs.prototype,"_organizationMemberIds",2);Ks([V],Gs.prototype,"_organizationMembersById",2);Ks([V],Gs.prototype,"_organizationTeamIds",2);Ks([V],Gs.prototype,"_organizationTeamsById",2);Ks([V],Gs.prototype,"_isOrganizationAdmin",2);Ks([V],Gs.prototype,"_organizationLogoUrl",2);Ks([V],Gs.prototype,"_organizationMemberIdsByOrgId",2);Ks([M],Gs.prototype,"organizations",1);Ks([M],Gs.prototype,"organizationsById",1);Ks([M],Gs.prototype,"organizationIds",1);Ks([M],Gs.prototype,"currentOrganizationId",1);Ks([M],Gs.prototype,"organizationLogoUrl",1);Ks([M],Gs.prototype,"currentOrganization",1);Ks([M],Gs.prototype,"organizationMemberIds",1);Ks([M],Gs.prototype,"organizationMembers",1);Ks([M],Gs.prototype,"organizationTeamIds",1);Ks([M],Gs.prototype,"organizationTeams",1);Ks([M],Gs.prototype,"organizationMemberIdsByOrganizationId",1);Ks([M],Gs.prototype,"isOrganizationAdmin",1);Ks([E],Gs.prototype,"getOrganizationLogoUrl",2);Ks([E],Gs.prototype,"getOrganizations",2);Ks([E],Gs.prototype,"getMembersForAllOrganizations",1);Ks([E],Gs.prototype,"getOrganizationMemberIds",2);Ks([E],Gs.prototype,"getOrganizationMembers",2);Ks([E],Gs.prototype,"updateMemberRole",2);Ks([E],Gs.prototype,"getOrganizationTeamsSize",2);Ks([E],Gs.prototype,"getOrganizationMemberSize",2);Ks([E],Gs.prototype,"getOrganizationTeamIds",2);Ks([E],Gs.prototype,"getOrganizationTeams",2);Ks([V],Gs.prototype,"_organizationTeamMembers",2);Ks([E],Gs.prototype,"deleteOrganizationTeam",2);var sW=Object.defineProperty,lqt=(s,t,e)=>t in s?sW(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,bl=(s,t,e,i)=>{for(var n=void 0,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&sW(t,e,n),n},Qa=(s,t,e)=>(lqt(s,typeof t!="symbol"?t+"":t,e),e);class Va{constructor(t,e){this.store=t,Qa(this,"id"),Qa(this,"email"),Qa(this,"fullName"),Qa(this,"portrait"),Qa(this,"data"),Qa(this,"updatedAt"),Qa(this,"createdAt"),Qa(this,"setId",i=>{this.id=i}),Qa(this,"setEmail",i=>{this.email=i}),Qa(this,"setFullName",i=>{this.fullName=i}),Qa(this,"setPortrait",i=>{this.portrait=i}),Qa(this,"setData",i=>{this.data=i}),Qa(this,"setUpdatedAt",i=>{this.updatedAt=i}),Qa(this,"setCreatedAt",i=>{this.createdAt=i}),this.id=e.id,this.email=e.email,this.fullName=e.fullName,this.portrait=e.portrait,this.data=e.data,this.updatedAt=e.updatedAt,this.createdAt=e.createdAt,vt(this)}}bl([V],Va.prototype,"id");bl([V],Va.prototype,"email");bl([V],Va.prototype,"fullName");bl([V],Va.prototype,"portrait");bl([V],Va.prototype,"data");bl([V],Va.prototype,"updatedAt");bl([V],Va.prototype,"createdAt");bl([E],Va.prototype,"setId");bl([E],Va.prototype,"setEmail");bl([E],Va.prototype,"setFullName");bl([E],Va.prototype,"setPortrait");bl([E],Va.prototype,"setData");bl([E],Va.prototype,"setUpdatedAt");bl([E],Va.prototype,"setCreatedAt");var iW=Object.defineProperty,cqt=Object.getOwnPropertyDescriptor,hqt=(s,t,e)=>t in s?iW(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,tp=(s,t,e,i)=>{for(var n=i>1?void 0:i?cqt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&iW(t,e,n),n},Qu=(s,t,e)=>(hqt(s,typeof t!="symbol"?t+"":t,e),e);class pu{constructor(t){this.store=t,Qu(this,"profilesByID",V.map()),Qu(this,"initProfiles",e=>{this.clearProfiles(),this.addProfiles(e)}),Qu(this,"addProfile",e=>{if(this.profilesByID.has(e.id))return this.updateProfile(e);this.profilesByID.set(e.id,new Va(this.store,e))}),Qu(this,"addProfiles",e=>{e.forEach(i=>this.addProfile(i))}),Qu(this,"updateProfile",e=>{const{id:i,email:n,fullName:o,portrait:a,data:l,updatedAt:c,createdAt:h}=e;if(!i)return;const d=this.profilesByID.get(i);d&&("email"in e&&d.setEmail(n),"fullName"in e&&d.setFullName(o),"portrait"in e&&d.setPortrait(a),"data"in e&&d.setData(l),"updatedAt"in e&&c&&d.setUpdatedAt(c),"createdAt"in e&&h&&d.setCreatedAt(h))}),Qu(this,"updateProfiles",e=>{e.forEach(i=>this.updateProfile(i))}),Qu(this,"deleteProfile",e=>{this.profilesByID.delete(e)}),Qu(this,"deleteProfiles",e=>{e.forEach(i=>this.deleteProfile(i))}),Qu(this,"clearProfiles",()=>{this.profilesByID.clear()}),vt(this)}get allProfiles(){return Array.from(this.profilesByID.values())}}tp([E],pu.prototype,"initProfiles",2);tp([E],pu.prototype,"addProfile",2);tp([E],pu.prototype,"addProfiles",2);tp([E],pu.prototype,"updateProfile",2);tp([E],pu.prototype,"updateProfiles",2);tp([E],pu.prototype,"deleteProfile",2);tp([E],pu.prototype,"deleteProfiles",2);tp([E],pu.prototype,"clearProfiles",2);tp([M],pu.prototype,"allProfiles",1);var dqt=Object.defineProperty,uqt=(s,t,e)=>t in s?dqt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,mg=(s,t,e)=>(uqt(s,typeof t!="symbol"?t+"":t,e),e);const d0=hr();class fqt{constructor(t,e){this.api=t,this.store=e,mg(this,"createProfile",async(i,n)=>{U.trace("ProfileApi.createProfile called",{email:i});const o=await this.getProfileByEmail(i);if(o.success)return U.warn("Create Profile called - but profile already exists",{email:i||es.ERROR_MESSAGE_MISSING_EMAIL}),o.data;const a={};for(const c of Object.values(Gl)){const h={},d=_3(c);for(const u of d)u===Gi.CREATE_PROFILE?h[u]=!0:h[u]=!1;a[c]=h}const l={email:i,fullName:n,portrait:null,data:JSON.stringify({nux:{role:gR.OTHER,teamSize:_R.XS,industry:vR.OTHER,tourStatus:a}})};try{const h=(await d0.graphql({query:uct,variables:{input:l}})).data.createProfile;if(!h)throw new Error("Creating profile failed");let d;return h.portrait&&(d=await xs(h.portrait)),{...h,portrait:d,data:JSON.parse(h.data??"{}")}}catch(c){U.error("Failed to create profile",{error:U.cleanObject(c),email:i||es.ERROR_MESSAGE_MISSING_EMAIL})}}),mg(this,"getProfile",async i=>{try{U.trace("ProfileApi.getProfile called");const o=(await d0.graphql({query:vD,variables:{id:i}})).data.getProfile;if(!o)throw new Error("Fetching profile failed");let a;return o.portrait&&(a=await xs(o.portrait)),{...o,portrait:a,data:JSON.parse(o.data??"{}")}}catch(n){U.error("Failure in getProfile",{error:U.cleanObject(n),profileId:i})}}),mg(this,"getProfileByEmail",async i=>{U.trace("ProfileApi.getProfileByEmail called",{email:i||es.ERROR_MESSAGE_MISSING_EMAIL});try{const a=(await d0.graphqlWithRetry({query:ect,variables:{email:i}})).data.profileByEmail.items.sort(sot)[0];if(!a)throw new Error("No profile found");let l;return a.portrait&&(l=await xs(a.portrait)),{success:!0,data:{...a,portrait:l,data:JSON.parse(a.data??"{}")}}}catch(n){if(U.error("Error in getProfileByEmail",{error:U.cleanObject(n),email:i||es.ERROR_MESSAGE_MISSING_EMAIL}),!(n instanceof Error))return{success:!1,error:al.UNKNOWN_ERROR};let o=al.UNHANDLED_ERROR;switch(n.name){case"Unknown error":o=al.UNKNOWN_ERROR;break;case"Network error":o=al.NETWORK_ERROR;break;case"No profile found":o=pR.NO_PROFILE_FOUND;break}return{success:!1,error:o}}}),mg(this,"getProfiles",async i=>{try{return(await Promise.all(i.map(o=>this.getProfile(o)))).filter(as.isDefined)}catch(n){return U.error("Error in getProfiles",{error:U.cleanObject(n),ids:i}),[]}}),mg(this,"updateProfile",async(i,n)=>{const{store:{profileController:o}}=this;try{const a=o.profilesByID.get(i);if(!a)throw new Error("Authenticated profile not found in profile store");const l={...a,...n};o.updateProfile(l),await d0.graphql({query:PE,variables:{input:{id:i,...n}}})}catch(a){U.error("Update Profile Error",{error:U.cleanObject(a),profileId:i,param:n})}}),mg(this,"updateProfileNux",async(i,n)=>{var a;const{store:{profileController:o}}=this;try{const l=o.profilesByID.get(i);if(!l)throw new Error("Authenticated profile not found in profile store");const c=((a=l.data)==null?void 0:a.nux)??{},h={...l.data,nux:{...c,...n}},d={...l,data:h};o.updateProfile(d),await d0.graphql({query:PE,variables:{input:{id:i,data:JSON.stringify(h)}}})}catch(l){U.error("UpdateProfileNux Error",{error:U.cleanObject(l),profileId:i,param:n})}}),mg(this,"updateProfilePhoto",async(i,n,o)=>{const{store:{profileController:a}}=this;try{await ks(n,o);const l=await xs(n),c=a.profilesByID.get(i);if(!c)throw new Error("Authenticated profile not found in profile store");const h={...c,portrait:l};a.updateProfile(h),await d0.graphql({query:PE,variables:{input:{id:i,portrait:n}}})}catch(l){U.error("UpdateProfilePhoto Error",{error:U.cleanObject(l),profileId:i,key:n,file:o})}})}}var nW=Object.defineProperty,pqt=(s,t,e)=>t in s?nW(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,ep=(s,t,e,i)=>{for(var n=void 0,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=a(t,e,n)||n);return n&&nW(t,e,n),n},Ju=(s,t,e)=>(pqt(s,typeof t!="symbol"?t+"":t,e),e);class mu{constructor(t,e){this.store=t,Ju(this,"id"),Ju(this,"name"),Ju(this,"updatedAt"),Ju(this,"createdAt"),Ju(this,"organization"),Ju(this,"setId",i=>{this.id=i}),Ju(this,"setName",i=>{this.name=i}),Ju(this,"setCreatedAt",i=>{this.createdAt=i}),Ju(this,"setUpdatedAt",i=>{this.updatedAt=i}),this.id=e.id,this.name=e.name,this.updatedAt=e.updatedAt,this.createdAt=e.createdAt,this.organization=e.organization,vt(this)}}ep([V],mu.prototype,"id");ep([V],mu.prototype,"name");ep([V],mu.prototype,"updatedAt");ep([V],mu.prototype,"createdAt");ep([V],mu.prototype,"organization");ep([E],mu.prototype,"setId");ep([E],mu.prototype,"setName");ep([E],mu.prototype,"setCreatedAt");ep([E],mu.prototype,"setUpdatedAt");var oW=Object.defineProperty,mqt=Object.getOwnPropertyDescriptor,gqt=(s,t,e)=>t in s?oW(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,dh=(s,t,e,i)=>{for(var n=i>1?void 0:i?mqt(t,e):t,o=s.length-1,a;o>=0;o--)(a=s[o])&&(n=(i?a(t,e,n):a(n))||n);return i&&n&&oW(t,e,n),n},Lc=(s,t,e)=>(gqt(s,typeof t!="symbol"?t+"":t,e),e);class pc{constructor(t){this.store=t,Lc(this,"teamsByID",V.map()),Lc(this,"teamFetchTimestamp",0),Lc(this,"initialized",!1),Lc(this,"activeTab",v_.FILES),Lc(this,"initTeams",e=>{this.initialized||(this.initialized=!0,this.clearTeams(),this.addTeams(e))}),Lc(this,"addTeam",e=>{if(this.teamsByID.has(e.id))return this.updateTeam(e);this.teamsByID.set(e.id,new mu(this.store,e))}),Lc(this,"addTeams",e=>{e.forEach(i=>this.addTeam(i))}),Lc(this,"updateTeam",e=>{const{id:i,name:n,updatedAt:o,createdAt:a}=e;if(!i)return;const l=this.teamsByID.get(i);l&&("name"in e&&n&&l.setName(n),"updatedAt"in e&&o&&l.setUpdatedAt(o),"createdAt"in e&&a&&l.setCreatedAt(a))}),Lc(this,"updateTeams",e=>{e.forEach(i=>this.updateTeam(i))}),Lc(this,"deleteTeam",e=>{this.teamsByID.delete(e)}),Lc(this,"deleteTeams",e=>{e.forEach(i=>this.deleteTeam(i))}),Lc(this,"clearTeams",()=>{this.teamsByID.clear()}),vt(this)}get allTeams(){return Array.from(this.teamsByID.values())}get allTeamIds(){return new Set(this.teamsByID.keys())}getTeam(t){return this.teamsByID.get(t)}}dh([V],pc.prototype,"teamFetchTimestamp",2);dh([V],pc.prototype,"activeTab",2);dh([E],pc.prototype,"initTeams",2);dh([E],pc.prototype,"addTeam",2);dh([E],pc.prototype,"addTeams",2);dh([E],pc.prototype,"updateTeam",2);dh([E],pc.prototype,"updateTeams",2);dh([E],pc.prototype,"deleteTeam",2);dh([E],pc.prototype,"deleteTeams",2);dh([E],pc.prototype,"clearTeams",2);dh([M],pc.prototype,"allTeams",1);dh([M],pc.prototype,"allTeamIds",1);var _qt=Object.defineProperty,vqt=(s,t,e)=>t in s?_qt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Rc=(s,t,e)=>(vqt(s,typeof t!="symbol"?t+"":t,e),e);class yqt{constructor(t,e){this.api=t,this.store=e,Rc(this,"client"),Rc(this,"initTeamsByProfile",async i=>{const{store:{teamController:n}}=this,o=await hA(i),a=await this.getTeams(o);return n.initTeams(a),a}),Rc(this,"createTeam",async i=>{var f;const{store:{teamController:n,authController:o,profileController:a,organizationsController:l}}=this,c=Xt.docClient;if(!c)return;const h=l.currentOrganizationId,d=o.auth.profileID;if(!d)return;const u=(f=a.profilesByID.get(d))==null?void 0:f.email;if(u)try{const g={id:_t(),name:i,updatedAt:new Date().toISOString(),createdAt:new Date().toISOString()};return h&&(g.organization=h),await c.send(new Ho({TableName:L4,Item:{...g,__typename:"Team"}})),this.addTeamMember(g.id,Yp(u),d,Sa.Admin),n.addTeam(g),g}catch(p){console.error(p)}}),Rc(this,"getTeam",async i=>{var o;const n=Xt.docClient;if(n)try{const a=await n.send(new Ti({TableName:L4,KeyConditionExpression:"#id = :id",ExpressionAttributeNames:{"#id":"id"},ExpressionAttributeValues:{":id":i}}));return(o=a.Items)!=null&&o[0]?{...a.Items[0]}:void 0}catch(a){console.error(a)}}),Rc(this,"getTeams",async i=>{try{return(await Promise.all(i.map(o=>this.getTeam(o)))).filter(as.isDefined)}catch(n){return console.error(n),[]}}),Rc(this,"updateTeamName",async(i,n)=>{const{store:{teamController:o}}=this;try{const a=o.teamsByID.get(i);if(!a)throw new Error(`Not found team(${i}) in team store`);const l={...a,name:n};o.updateTeam(l),await this.client.graphql({query:pct,variables:{input:{id:i,name:n}}})}catch(a){console.error(a)}}),Rc(this,"addTeamMember",async(i,n,o,a=Sa.Member,l=!1)=>{try{const{store:{clientController:{client:{docClient:c}}}}=this;if(!c||!i||!n||!o)return;if(!l){const h=await this.getTeam(i);if(!h)return;h.organization&&(await br.getOrganizationMember(h.organization,o)||await br.addOrganizationMember(h.organization,o,a))}await c.send(new Ho({TableName:Fg,Item:{id:`${i}--${n}`,team:i,profile:o,access:a,updatedAt:new Date().toISOString()}}))}catch(c){console.warn(c)}}),Rc(this,"addTeamMembers",async(i,n,o=!1)=>Promise.all(n.map(({memberID:a,profile:l,access:c})=>this.addTeamMember(i,a,l,c,o)))),Rc(this,"removeTeamMember",async(i,n)=>{try{const{store:{clientController:{client:{docClient:o}}}}=this;if(!o||!i||!n)return;await o.send(new zc({TableName:Fg,Key:{id:`${i}--${n}`}}))}catch(o){console.warn(o)}}),Rc(this,"sendMemberInvites",async(i,n)=>{const{store:{authController:{auth:{profileID:o}},profileController:a}}=this;if(o)try{const l=a.profilesByID.get(o);if(!l)throw new Error("Not found auth profile in profile store");await h7({type:b3.TEAM_INVITE,recipients:i.map(c=>({...c,emailEncoded:Yp(c.email)})),subject:l.fullName?`${l.fullName} invited you to join the ${n.name} team on Bezi`:`You've been invited to join the ${n.name} team on Bezi`,teamID:n.id,teamName:n.name})}catch(l){console.error(l)}}),Rc(this,"inviteTeamMembers",async(i,n)=>{const{api:{profileApi:o}}=this,a=[],l=await Tf(n.id);for(const c of i){const h=await o.getProfileByEmail(c),d=l.find(({id:u})=>u.endsWith(Yp(c)));d&&h.success&&h.data.id===d.profile||a.push({email:c,access:Sa.InvitePending})}await Promise.all([this.addTeamMembers(n.id,a.map(({email:c,access:h})=>({memberID:Yp(c),profile:c,access:h})),!0),this.sendMemberInvites(a,n)])}),Rc(this,"deleteTeam",async(i,n)=>{const{store:{filesController:o,clientController:{client:{docClient:a}}},api:{fileApi:l}}=this;if(!a)return!1;try{if((await Tf(i)).forEach(h=>{a.send(new zc({TableName:Fg,Key:{id:h.id}}))}),o.allFiles.length===0){const h=await l.getFilesByTeam(i,void 0);await Promise.all(h.map(({id:d})=>l.deleteFile(d)))}else await Promise.all(o.allFiles.map(({id:h})=>l.deleteFile(h)));return await this.client.graphql({query:mct,variables:{input:{id:i}}}),n&&n(!0),!0}catch(c){return n&&n(!1),console.error(c),!1}}),this.client=hr()}}var bqt=Object.defineProperty,Cqt=(s,t,e)=>t in s?bqt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Lo=(s,t,e)=>(Cqt(s,typeof t!="symbol"?t+"":t,e),e);class wqt{constructor(){Lo(this,"authController"),Lo(this,"profileController"),Lo(this,"teamController"),Lo(this,"filesController"),Lo(this,"clientController"),Lo(this,"integrationsController"),Lo(this,"subscriptionsController"),Lo(this,"organizationsController"),Lo(this,"featureFlagService"),Lo(this,"creditsController"),Lo(this,"connectController"),Lo(this,"passwordController"),this.authController=new MKt(this),this.profileController=new pu(this),this.teamController=new pc(this),this.filesController=new yd(this),this.clientController=new VKt(this),this.integrationsController=new N1,this.subscriptionsController=new rv(this),this.organizationsController=new Gs(this),this.featureFlagService=new dT,this.creditsController=new xC(this),this.connectController=new yl(this),this.passwordController=new Un(this)}}class xqt{constructor(t){Lo(this,"authApi"),Lo(this,"profileApi"),Lo(this,"teamApi"),Lo(this,"fileApi"),Lo(this,"clientApi"),Lo(this,"subscriptionApi"),Lo(this,"billingApi"),this.authApi=new Vn(this,t),this.profileApi=new fqt(this,t),this.teamApi=new yqt(this,t),this.fileApi=new r1(this,t),this.clientApi=new EC(this,t),this.subscriptionApi=new TKt(this,t),this.billingApi=new pKt(this,t)}}const rW={hash:"",pathname:"",state:null,search:""},Ca=new wqt,Bp=new xqt(Ca),aW=xe.createContext({isProcessing:!1,toggleOnIsProcessing:()=>{},toggleOffIsProcessing:()=>{},editor:null,setEditor:()=>{},allToursDone:!1,toggleOnAllToursDone:()=>{},toggleOffAllToursDone:()=>{},tourStepVisible:!1,toggleTourStepVisible:()=>{},toggleOnTourStepVisible:()=>{},toggleOffTourStepVisible:()=>{},activeTour:null,setActiveTour:()=>{},activeTourStep:null,setActiveTourStep:()=>{},route:rW,setRoute:()=>{},libParams:{},setLibParams:()=>{},dndData:null,setDndData:()=>{},isDragOver:!1,setIsDragOver:()=>{},authApi:Bp.authApi,profileApi:Bp.profileApi,teamApi:Bp.teamApi,fileApi:Bp.fileApi,clientApi:Bp.clientApi,billingApi:Bp.billingApi,authController:Ca.authController,profileController:Ca.profileController,teamController:Ca.teamController,filesController:Ca.filesController,clientController:Ca.clientController,integrationsController:Ca.integrationsController,organizationsController:Ca.organizationsController,featureFlagService:Ca.featureFlagService,subscriptionsController:Ca.subscriptionsController,creditsController:Ca.creditsController,connectController:Ca.connectController,passwordController:Ca.passwordController}),Eqt=({children:s})=>{const[t,e]=m.useState(rW),[i,{toggleOn:n,toggleOff:o}]=ss(!1),[a,l]=m.useState(null),[c,h]=m.useState(!1);m.useEffect(()=>{(async()=>{await Bp.authApi.authenticate(h),Ca.integrationsController.init()})()},[]);const[d,u]=m.useState({}),[f,{toggleOn:p,toggleOff:g}]=ss(!1),[_,{toggle:v,toggleOn:y,toggleOff:b}]=ss(!1),[C,x]=m.useState(null),[I,O]=m.useState(null),[T,D]=m.useState(null),[B,F]=m.useState(!1);return m.useEffect(()=>{!t.routeName||!ff[t.routeName]||(document.title=`${ff[t.routeName]} | Bezi`)},[t]),c?r.jsx(aW.Provider,{value:{isProcessing:i,toggleOnIsProcessing:n,toggleOffIsProcessing:o,editor:a,setEditor:l,allToursDone:f,toggleOnAllToursDone:p,toggleOffAllToursDone:g,tourStepVisible:_,toggleTourStepVisible:v,toggleOnTourStepVisible:y,toggleOffTourStepVisible:b,activeTour:C,setActiveTour:x,activeTourStep:I,setActiveTourStep:O,route:t,setRoute:e,libParams:d,setLibParams:u,dndData:T,setDndData:D,isDragOver:B,setIsDragOver:F,...Ca,...Bp},children:s}):null},Pt=()=>m.useContext(aW),Sqt=({className:s,style:t,step:e,done:i,active:n,onSkip:o,...a})=>{var c,h;const l=m.useCallback(()=>{o()},[o]);return r.jsxs("div",{className:W("relative flex flex-col gap-1 rounded p-2",n?"border border-white/60 bg-white/20":"opacity-35",s),style:t,...a,children:[r.jsx(Pa,{variant:"forth",round:!0,isSelected:i,isReadOnly:!0,children:r.jsx("span",{className:"text-body1 font-bold text-black",children:(c=_9[e])==null?void 0:c.title})}),r.jsx("p",{className:"ml-7 text-body2 font-normal tracking-wide text-black",children:(h=_9[e])==null?void 0:h.description}),n&&r.jsx("div",{className:"mt-1 flex w-full justify-end",children:r.jsx(Tt,{className:"mr-2 w-fit !text-black !opacity-60 hover:!opacity-100 active:!opacity-100",variant:"auto",size:"sm",onClick:l,children:"Skip"})})]})},Iqt=m.memo(Sqt),Aqt=({className:s,style:t,...e})=>{const{activeTourStep:i}=Pt(),n=ji(),{status:o,isVisible:a,onSkip:l}=dWt();return a&&o?r.jsxs("div",{className:W("fixed bottom-4 right-4 flex max-h-96 w-72 flex-col rounded-lg border border-purple-10 bg-purple-20 p-3",s),style:t,...e,children:[r.jsx("h4",{className:"my-3 pl-2 text-black",children:`Welcome${n!=null&&n.fullName?", "+n.fullName:""}`}),r.jsx("div",{className:"flex h-auto w-full flex-col overflow-y-auto",children:Object.entries(o).map(([c,h],d)=>r.jsx(Iqt,{step:c,done:!!h,active:i===c,onSkip:l},`nux-tour-step-${d}`))})]}):null},Tqt=A(Aqt),Pqt=({className:s,style:t,...e})=>{const i=ji(),{isVisible:n,onDone:o}=uWt();return n?r.jsxs("div",{className:W("fixed bottom-4 right-4 flex max-h-96 w-72 flex-col gap-2 rounded-lg border border-purple-10 bg-purple-20 px-5 pb-5 pt-7",s),style:t,...e,children:[r.jsx("div",{className:"absolute right-2 top-2",children:r.jsx(As,{onPress:()=>o(!0),children:po})}),r.jsx("h4",{className:"text-black",children:" Youre all done!"}),r.jsx("p",{className:"text-body2 text-black",children:`Welcome to Bezi${i!=null&&i.fullName?", "+i.fullName:""}! Were so excited to have you here.`}),r.jsx(Tt,{onClick:()=>o(),variant:"primary",children:"Go to Gallery"})]}):null},Oqt=A(Pqt),Mqt=()=>{const{isVisible:s}=lWt();return aWt(),s?r.jsxs(AI,{id:Ont,children:[r.jsx(Tnt,{}),r.jsx(Tqt,{}),r.jsx(Oqt,{})]}):null},Lqt=A(Mqt),Rqt=()=>r.jsx(Eqt,{children:r.jsxs(Kq,{children:[r.jsx(qq,{children:Object.values(UYt).map(s=>s.secure?r.jsx(YYt,{...s},""):r.jsx(zYt,{...s},""))}),r.jsx(Lqt,{})]})});fR.configure(Hx);U.trace("Amplify configure complete");Vy.init(mst);wb.render(r.jsx(Rqt,{}),document.getElementById("root"));
